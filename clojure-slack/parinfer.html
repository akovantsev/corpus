<!DOCTYPE html>
<head><title>parinfer</title><meta charset="UTF-8" /><style type="text/css">body {
    font-family: Monaco, Menlo, Consolas, "Courier New", sans-serif;
    font-size: 12px;
    margin: 15px;
}
h2 {text-align: center}
pre,
code {
    font-family: Monaco, Menlo, Consolas, "Courier New", monospace;
    color: #333;
    line-break: anywhere;
}
a {
    line-break: anywhere;
}
code {
    /*line-height: 1.2;*/
    white-space: normal;
    color: #c25;
    background-color: #f7f7f9;
    border: 1px solid #e1e1e8;
}
pre {
    margin: .5rem 0 .2rem;
    font-size: .75rem;
    /*line-height: 1.15rem;*/
    background: #fbfaf8;
    padding: .5rem;
    word-break: normal;
    display: block;
    border: 1px solid rgba(0, 0, 0, .15);
    white-space: pre-wrap;
    word-wrap: break-word;
    border-radius: 4px;
}
/*span {*/
z {
    white-space: pre-wrap;
}

d {padding-right: 8px;}
h {padding-right: 16px;}

w, r {
    margin-right: 10px;
    padding-right: 8px;
    text-align: right;
}

d,h,w,r {
    background-color: lavender;
    margin-top: 1px;
    display: inline-table; /* prevents doubleclick selection spillover into neighbour elements */
}

h:hover,
d:hover {
    text-decoration: underline;
    color: blue;
    cursor: row-resize;
}
d {padding-right: 8px;}
h {padding-right: 16px;}

z {display: block;}

z:target > r,
z:target > w,
z:target > d,
z:target > h {
    background-color: aquamarine
}

#filters-container {
    position: fixed;
    left: 50px;
    z-index: 1;
}
#filters-container > input {
    /*column:*/
    display: block;
    outline-color: aquamarine;
}

y {
    cursor: pointer;
    text-decoration: none;
    color: blue;
    position: absolute;
    left: 3px;
}

y:hover {
    text-decoration: underline;
    color: aquamarine;
}


</style></head><body><style id="css-username">w {min-width: 160px;} r {min-width: 192px;}</style><style id="css-text-filter"></style><style id="css-date-filter"></style><style id="css-filter-override"></style><p id="filters-container"><input id="text-filter" onkeyup="debtextfilter(this.value)" placeholder="filter text" type="string" /><button hidden="hidden" id="date-filter" onclick="cleardatefilter()"></button></p><h2>#parinfer</h2><pre><i>generated UTC: 2022-12-26 11:03</i><i>
latest data: <a href="https://clojurians-log.clojureverse.org/parinfer/2022-09-20">https://clojurians-log.clojureverse.org/parinfer/2022-09-20</a></i><i>
messages: 7286</i>
pro tips:
* Double click on text to filter by it. (doubleclick + cmd-f for extra points).
* Click on date to keep day visible regardless of filter.
* Click on time to keep hour visible regardless of filter.</pre><script>const textFilterInput = document.getElementById("text-filter");
const dateFilterInput = document.getElementById("date-filter");
const filterTextStyle = document.getElementById("css-text-filter");
const filterDateStyle = document.getElementById("css-date-filter");
const filterStyleOverride = document.getElementById("css-filter-override");



function textFilter2(text) {
    var style = '';
    if (text.trim() !== '') {
        text.split(' ').forEach(function (t) {
            if (t !== '') {
                style = style + "z:not([t*='" + t + "' i]) {display: none; opacity: 0.6}";
            }
        });
    }
    filterTextStyle.innerHTML = style;
}
function textFilter(text) {
    filterTextStyle.innerHTML = "";
    if (text.trim() !== '') {
        var sections = document.getElementsByTagName("g");
        var sectionsArr = Array.prototype.slice.call(sections);
        sectionsArr.forEach(function (s){
            var sid = s.getAttribute("id");
            text.split(' ').forEach(function (t) {
                if (t !== '') {
                    filterTextStyle.innerHTML += "\ng#" + sid + " > z:not([t*='" + t + "' i]) {display: none; opacity: 0.6}";
                }
            });
        })
    }
}
function textFilter3(text) {
    console.time("text search");
    filterTextStyle.innerHTML = "";
    if (text.trim() !== '') {
        const re = new RegExp( text, "i");
        var sections = document.getElementsByTagName("g");
        var sectionsArr = Array.prototype.slice.call(sections);
        sectionsArr.forEach(function (w){
            var zs = w.getElementsByTagName ("z");
            var zsArr = Array.prototype.slice.call(zs);
            var ids = zsArr
                .filter(function (el) {
                    return !re.test(el.innerText);
                })
                .map(function (el){
                    return el.getAttribute("id");
                });
            if (ids) {
                filterTextStyle.innerHTML += "\n#" + ids.join(",#") + " {display: none; opacity: 0.6}";
            }
        })
    }
    console.timeEnd("text search");
}


function filterSelection (e) {
    let sel = document.getSelection();
    let txt = sel.toString();
    textFilterInput.value = (txt || "");
    textFilter(txt);
}
function debounce1(callback, delay) {
    let timeout;
    return function(arg) {
        clearTimeout(timeout);
        timeout = setTimeout(callback, delay, arg);
    }
}

function keyUp (e) {
    if (e.code === "KeyF" && e.ctrlKey) {
        let txt = document.getSelection().toString();
        if (txt.length > 0) {
            textFilterInput.value = (txt || "");
            textFilter(txt);
        }
    }
}


function showDateTimes (el, datestr, hourstr) {
    dateFilterInput.innerText = "clear: " + datestr + " " + hourstr;
    dateFilterInput.hidden = false;
    let ids = [];
    const clicked = el.parentElement;  // el = z#id/t
    ids.push(clicked.id);
    // var idbefore, idafter;
    let cursor = clicked;
    function nextCursor (cursor) {
        const id = (cursor && cursor.id);
        const d = (cursor && cursor.children[1]);
        const h = (cursor && cursor.children[2])
        if (id) {
            ids.push(id); //includes 1st next-id not matching date.
        } else {
            cursor = null;
        }
        if (d && (d.textContent === datestr) && (!hourstr || (h && h.textContent.startsWith(hourstr)))) {
        } else {
            cursor = null;
        }
        return cursor;
    }
    while (cursor) {
        cursor = nextCursor(cursor.previousElementSibling);
    }

    cursor = clicked;

    while (cursor) {
        cursor = nextCursor(cursor.nextElementSibling);
    }


    var style1 = '';
    var style2 = '';
    var content;
    if (datestr.includes(" ")) { //hour
        content = " *";
    } else {
        content = "**";
    }
    ids.forEach(function (id) {
        if (id) {
            style1 = style1 + ", #" + id;
            style2 = style2 + ", #" + id + " h:after";
        }
    })
    if (style1) {
        style1 = style1.substring(1) + " {display: block !important}";
    }
    if (style2) {
        style2 = style2.substring(1) + " {content: \"" + content + "\"; position: absolute}"
    }
    filterDateStyle.innerHTML = style1 + "\n" + style2;
}

// https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollIntoView
function filterDay (el) {
    showDateTimes(el, el.textContent);
    el.scrollIntoView({behavior: "smooth", block: "center", inline: "center"});
}

function filterHours (el) {
    showDateTimes(el, el.previousElementSibling.textContent, el.textContent.substring(0, 2));
    el.scrollIntoView({behavior: "smooth", block: "center", inline: "center"});
}

function forceShowSelected (el) {
    var id = el.parentElement.id
    if (id) {
        window.location.hash = "#" + id;
        filterStyleOverride.innerHTML = ""
            + "#" + id
            + " {display: block !important;}"
            + "#" + id + " h:after"
            + " {content: \"  #\"; position: absolute}";

    } else {
        window.location.hash = "";
        filterStyleOverride.innerHTML = "";
    }
}


function cleardatefilter () {
    dateFilterInput.hidden = true;
    dateFilterInput.innerText = "";
    filterDateStyle.innerHTML = "";
}

const debtextfilter = debounce1(textFilter, 200);

function doubleClick (e) {
    if (e.target.tagName !== "INPUT"
        && e.target.tagName !== "D"
        && e.target.tagName !== "H") {

        filterSelection();
        e.target.scrollIntoView({behavior: "auto", block: "center", inline: "start"});
    }
}

function onclick(e) {
    if (e.target.tagName === "Y") {
        e.preventDefault();
        forceShowSelected(e.target);
    } else if (e.target.tagName === "D") {
        e.preventDefault();
        filterDay(e.target);
    } else if (e.target.tagName === "H") {
        e.preventDefault();
        filterHours(e.target);
    }
}

document.onclick = onclick;
document.ondblclick = doubleClick;
document.onkeyup = keyUp;
textFilterInput.focus();
</script><div><g id="s0"><z id="t1448396534" t="shaunlebron thanks for creating this!"><y>#</y><d>2015-11-24</d><h>20:22</h><w>shaunlebron</w>thanks for creating this!</z><z id="t1448396602" t="shaunlebron if anyone wants to help add parinfer to editors/repls, wrote a guide here on how to do it: https://github.com/shaunlebron/parinfer/tree/master/lib"><y>#</y><d>2015-11-24</d><h>20:23</h><w>shaunlebron</w>if anyone wants to help add parinfer to editors/repls, wrote a guide here on how to do it: <a href="https://github.com/shaunlebron/parinfer/tree/master/lib" target="_blank">https://github.com/shaunlebron/parinfer/tree/master/lib</a></z><z id="t1448396632" t="shaunlebron I’ll subscribe to notifications here so I can answer questions"><y>#</y><d>2015-11-24</d><h>20:23</h><w>shaunlebron</w>I’ll subscribe to notifications here so I can answer questions</z><z id="t1448397699" t="dominicm Hello shaun simple_smile"><y>#</y><d>2015-11-24</d><h>20:41</h><w>dominicm</w>Hello shaun <b>simple_smile</b></z><z id="t1448398035" t="chrisoakman I can help answer questions about editor integration"><y>#</y><d>2015-11-24</d><h>20:47</h><w>chrisoakman</w>I can help answer questions about editor integration</z><z id="t1448398949" t="shaunlebron hi dominic simple_smile"><y>#</y><d>2015-11-24</d><h>21:02</h><w>shaunlebron</w>hi dominic <b>simple_smile</b></z><z id="t1448399038" t="shaunlebron didn’t understand what you said here: https://twitter.com/severeoverfl0w/status/669238565545615360 might be able to help with more details"><y>#</y><d>2015-11-24</d><h>21:03</h><w>shaunlebron</w>didn’t understand what you said here: <a href="https://twitter.com/severeoverfl0w/status/669238565545615360" target="_blank">https://twitter.com/severeoverfl0w/status/669238565545615360</a> might be able to help with more details</z><z id="t1448399096" t="dominicm [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] Neovim&apos;s built-in autoindent isn&apos;t running, when the parens are closed, because, well for most people that&apos;s what is desired!"><y>#</y><d>2015-11-24</d><h>21:04</h><w>dominicm</w><a>@shaunlebron</a> Neovim&apos;s built-in autoindent isn&apos;t running, when the parens are closed, because, well for most people that&apos;s what is desired!</z><z id="t1448399146" t="dominicm But, if parinfer has an override, I just need to double check that nvim-parinfer.js is supposed to be shifting the cursor in accordance with parinfer, (as opposed to it being a parinfer issue)"><y>#</y><d>2015-11-24</d><h>21:05</h><w>dominicm</w>But, if parinfer has an override, I just need to double check that nvim-parinfer.js is supposed to be shifting the cursor in accordance with parinfer, (as opposed to it being a parinfer issue)</z><z id="t1448399402" t="dominicm Does that make any sense?"><y>#</y><d>2015-11-24</d><h>21:10</h><w>dominicm</w>Does that make any sense?</z><z id="t1448400296" t="mfikes Hi Chris, Shaun :)"><y>#</y><d>2015-11-24</d><h>21:24</h><w>mfikes</w>Hi Chris, Shaun :)</z><z id="t1448400316" t="chrisoakman hello simple_smile"><y>#</y><d>2015-11-24</d><h>21:25</h><w>chrisoakman</w>hello <b>simple_smile</b></z><z id="t1448401052" t="shaunlebron hey there simple_smile"><y>#</y><d>2015-11-24</d><h>21:37</h><w>shaunlebron</w>hey there <b>simple_smile</b></z><z id="t1448401095" t="shaunlebron yeah, dominic, it’s still a little vague"><y>#</y><d>2015-11-24</d><h>21:38</h><w>shaunlebron</w>yeah, dominic, it’s still a little vague</z><z id="t1448401100" t="shaunlebron are we talking about Indent Mode?"><y>#</y><d>2015-11-24</d><h>21:38</h><w>shaunlebron</w>are we talking about Indent Mode?</z><z id="t1448401204" t="shaunlebron if you could create a concrete case for what you’re expecting (current text -&gt; keystroke -&gt; expected output), I can better understand"><y>#</y><d>2015-11-24</d><h>21:40</h><w>shaunlebron</w>if you could create a concrete case for what you’re expecting (current text -&gt; keystroke -&gt; expected output), I can better understand</z><z id="t1448401231" t="dominicm [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : I&apos;ll give it a go."><y>#</y><d>2015-11-24</d><h>21:40</h><w>dominicm</w><a>@shaunlebron</a>: I&apos;ll give it a go.</z><z id="t1448401241" t="dominicm [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] do you know what I&apos;m talking about by any chance?"><y>#</y><d>2015-11-24</d><h>21:40</h><w>dominicm</w><a>@snoe</a> do you know what I&apos;m talking about by any chance?</z><z id="t1448401271" t="shaunlebron “when the parens are closed”, they are always closed in Indent Mode, right?"><y>#</y><d>2015-11-24</d><h>21:41</h><w>shaunlebron</w>“when the parens are closed”, they are always closed in Indent Mode, right?</z><z id="t1448401284" t="dominicm [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : I&apos;m not sure nvim-parinfer.js supports anything outside indent mode anyway."><y>#</y><d>2015-11-24</d><h>21:41</h><w>dominicm</w><a>@shaunlebron</a>: I&apos;m not sure nvim-parinfer.js supports anything outside indent mode anyway.</z><z id="t1448401320" t="dominicm Tell you what, [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] I&apos;ll try the replete example in neovim."><y>#</y><d>2015-11-24</d><h>21:42</h><w>dominicm</w>Tell you what, <a>@shaunlebron</a> I&apos;ll try the replete example in neovim.</z><z id="t1448401447" t="shaunlebron yeah, replete’s example would not produce the same behavior in Indent Mode"><y>#</y><d>2015-11-24</d><h>21:44</h><w>shaunlebron</w>yeah, replete’s example would not produce the same behavior in Indent Mode</z><z id="t1448401491" t="shaunlebron but if the editor has correct auto-indent, the cursor should be at the correct position, but the close-parens will stay on the previous line"><y>#</y><d>2015-11-24</d><h>21:44</h><w>shaunlebron</w>but if the editor has correct auto-indent, the cursor should be at the correct position, but the close-parens will stay on the previous line</z><z id="t1448401505" t="shaunlebron (when pressing enter I mean)"><y>#</y><d>2015-11-24</d><h>21:45</h><w>shaunlebron</w>(when pressing enter I mean)</z><z id="t1448401572" t="dominicm Replete&apos;s example does work."><y>#</y><d>2015-11-24</d><h>21:46</h><w>dominicm</w>Replete&apos;s example does work.</z><z id="t1448401598" t="shaunlebron it’s the difference between [pressing enter in indent mode]( https://shaunlebron.github.io/parinfer/#pressing-enter ) and [the new paren mode cursor feature]( https://shaunlebron.github.io/parinfer/#knowing-when-parens-move-in-paren-mode )"><y>#</y><d>2015-11-24</d><h>21:46</h><w>shaunlebron</w>it’s the difference between [pressing enter in indent mode](<a href="https://shaunlebron.github.io/parinfer/#pressing-enter" target="_blank">https://shaunlebron.github.io/parinfer/#pressing-enter</a>) and [the new paren mode cursor feature](<a href="https://shaunlebron.github.io/parinfer/#knowing-when-parens-move-in-paren-mode" target="_blank">https://shaunlebron.github.io/parinfer/#knowing-when-parens-move-in-paren-mode</a>)</z><z id="t1448401714" t="dominicm Ah, so what I&apos;m trying to get is similar to vim&apos;s built in auto-indent, where it will match the indentation of the previous block of lisp."><y>#</y><d>2015-11-24</d><h>21:48</h><w>dominicm</w>Ah, so what I&apos;m trying to get is similar to vim&apos;s built in auto-indent, where it will match the indentation of the previous block of lisp.</z><z id="t1448401725" t="dominicm Sorry about the confusion here 😛"><y>#</y><d>2015-11-24</d><h>21:48</h><w>dominicm</w>Sorry about the confusion here <b>😛</b></z><z id="t1448401745" t="dominicm vim isn&apos;t matching it though, because the parens aren&apos;t closed (it would if they were open)."><y>#</y><d>2015-11-24</d><h>21:49</h><w>dominicm</w>vim isn&apos;t matching it though, because the parens aren&apos;t closed (it would if they were open).</z><z id="t1448401776" t="shaunlebron yeah, I think you’re talking about cursor position"><y>#</y><d>2015-11-24</d><h>21:49</h><w>shaunlebron</w>yeah, I think you’re talking about cursor position</z><z id="t1448401800" t="shaunlebron I would try it myself in neovim, but I somehow crashed my neovim"><y>#</y><d>2015-11-24</d><h>21:50</h><w>shaunlebron</w>I would try it myself in neovim, but I somehow crashed my neovim</z><z id="t1448401814" t="dominicm Yeah, cursor position, but from opening a new line underneath a closed block of lisp."><y>#</y><d>2015-11-24</d><h>21:50</h><w>dominicm</w>Yeah, cursor position, but from opening a new line underneath a closed block of lisp.</z><z id="t1448401849" t="shaunlebron I have to head out right now, but I’ll read this later"><y>#</y><d>2015-11-24</d><h>21:50</h><w>shaunlebron</w>I have to head out right now, but I’ll read this later</z><z id="t1448401878" t="dominicm In my head, it was supposed to move the cursor to match the previous indentation when doing that. No idea if this fits with parinfers development goals or not"><y>#</y><d>2015-11-24</d><h>21:51</h><w>dominicm</w>In my head, it was supposed to move the cursor to match the previous indentation when doing that. No idea if this fits with parinfers development goals or not</z><z id="t1448402842" t="snoe [:attrs {:href &quot;/_/_/users/U09LZR36F&quot;}] : If you insert a newline at the end of the form auto-indent puts you in the right place, but usually you just go to the end of a top level form, which puts you on a new top level indent. (basically I&apos;ve had to get use to counting closing parens so i can insert in the right place.... It&apos;s slightly annoying)"><y>#</y><d>2015-11-24</d><h>22:07</h><w>snoe</w><a>@dominicm</a>: If you insert a newline at the end of the form auto-indent puts you in the right place, but usually you just go to the end of a top level form, which puts you on a new top level indent. (basically I&apos;ve had to get use to counting closing parens so i can insert in the right place.... It&apos;s slightly annoying)</z><z id="t1448402938" t="dominicm [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] I&apos;m in the habit of just hitting &quot;o&quot; beneath a top level form, and expecting to be whoosed to the previous indentation. I&apos;m currently just hitting space &amp; typing until I get it right (or using % on the opening bracket)"><y>#</y><d>2015-11-24</d><h>22:08</h><w>dominicm</w><a>@snoe</a> I&apos;m in the habit of just hitting &quot;o&quot; beneath a top level form, and expecting to be whoosed to the previous indentation. I&apos;m currently just hitting space &amp; typing until I get it right (or using % on the opening bracket)</z><z id="t1448403040" t="snoe yeah i&apos;ve had to stop doing that 😕"><y>#</y><d>2015-11-24</d><h>22:10</h><w>snoe</w>yeah i&apos;ve had to stop doing that <b>😕</b></z><z id="t1448403297" t="dominicm Maybe it&apos;ll become a parinfer feature, who knows! simple_smile"><y>#</y><d>2015-11-24</d><h>22:14</h><w>dominicm</w>Maybe it&apos;ll become a parinfer feature, who knows! <b>simple_smile</b></z><z id="t1448423617" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] [:attrs {:href &quot;/_/_/users/U09LZR36F&quot;}] I think I’m going to forgo that responsibility to individual plugins"><y>#</y><d>2015-11-25</d><h>03:53</h><w>shaunlebron</w><a>@snoe</a> <a>@dominicm</a> I think I’m going to forgo that responsibility to individual plugins</z><z id="t1448423686" t="shaunlebron at least until Parinfer returns cursor information, which it doesn’t currently"><y>#</y><d>2015-11-25</d><h>03:54</h><w>shaunlebron</w>at least until Parinfer returns cursor information, which it doesn’t currently</z><z id="t1448423818" t="shaunlebron seems trivial to implement though. vim has autoindent mode which does exactly what you’re asking, see here: http://vim.wikia.com/wiki/Indenting_source_code"><y>#</y><d>2015-11-25</d><h>03:56</h><w>shaunlebron</w>seems trivial to implement though. vim has <code>autoindent</code> mode which does exactly what you’re asking, see here: <a href="http://vim.wikia.com/wiki/Indenting_source_code" target="_blank">http://vim.wikia.com/wiki/Indenting_source_code</a></z><z id="t1448424132" t="snoe heh I&apos;m playing around with this now, I think a vim mapping like nmap o yypDa would work well enough if we want this behavior"><y>#</y><d>2015-11-25</d><h>04:02</h><w>snoe</w>heh I&apos;m playing around with this now, I think a vim mapping like  <code>nmap o yypDa</code> would work well enough if we want this behavior</z><z id="t1448424197" t="snoe [:attrs {:href &quot;/_/_/users/U09LZR36F&quot;}] let me know if that&apos;s the kind of behavior you&apos;re looking for. [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] I agree it&apos;s up to the plugins unless parinfer can tell us a new cursor pos"><y>#</y><d>2015-11-25</d><h>04:03</h><w>snoe</w><a>@dominicm</a> let me know if that&apos;s the kind of behavior you&apos;re looking for. <a>@shaunlebron</a> I agree it&apos;s up to the plugins unless parinfer can tell us a new cursor pos</z><z id="t1448425720" t="eraserhd Are :cursor-line and :cursor-x zero-based or ones-based? Also, is there a way to get &quot;useful tab positions&quot; for indenting existing code?"><y>#</y><d>2015-11-25</d><h>04:28</h><w>eraserhd</w>Are :cursor-line and :cursor-x zero-based or ones-based?  Also, is there a way to get &quot;useful tab positions&quot; for indenting existing code?</z><z id="t1448426109" t="snoe [:attrs {:href &quot;/_/_/users/U0ECYL0ET&quot;}] : they are zero based"><y>#</y><d>2015-11-25</d><h>04:35</h><w>snoe</w><a>@eraserhd</a>: they are zero based</z><z id="t1448426129" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0ECYL0ET&quot;}] : yeah sorry, just updated the docstrings to specify that"><y>#</y><d>2015-11-25</d><h>04:35</h><w>shaunlebron</w><a>@eraserhd</a>: yeah sorry, just updated the docstrings to specify that</z><z id="t1448426170" t="snoe I&apos;m still thinking about pasting forms into existing forms - I think you almost certainly want to be in paren-mode so it autoaligns"><y>#</y><d>2015-11-25</d><h>04:36</h><w>snoe</w>I&apos;m still thinking about pasting forms into existing forms - I think you almost certainly want to be in paren-mode so it autoaligns</z><z id="t1448426198" t="shaunlebron that’s something I’ve been meaning to add a section to the website to explore"><y>#</y><d>2015-11-25</d><h>04:36</h><w>shaunlebron</w>that’s something I’ve been meaning to add a section to the website to explore</z><z id="t1448426220" t="snoe but i&apos;ve thought the same thing about tab stops"><y>#</y><d>2015-11-25</d><h>04:37</h><w>snoe</w>but i&apos;ve thought the same thing about tab stops</z><z id="t1448426246" t="snoe hey [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] what are we supposed to do if :valid? is false?"><y>#</y><d>2015-11-25</d><h>04:37</h><w>snoe</w>hey <a>@shaunlebron</a> what are we supposed to do if <code>:valid?</code> is false?</z><z id="t1448426325" t="shaunlebron I think you’re right about paren mode for auto-aligning"><y>#</y><d>2015-11-25</d><h>04:38</h><w>shaunlebron</w>I think you’re right about paren mode for auto-aligning</z><z id="t1448426352" t="shaunlebron pasting code with unbalanced parens is something I have to think about though"><y>#</y><d>2015-11-25</d><h>04:39</h><w>shaunlebron</w>pasting code with unbalanced parens is something I have to think about though</z><z id="t1448426486" t="shaunlebron not sure what you mean by tab stops"><y>#</y><d>2015-11-25</d><h>04:41</h><w>shaunlebron</w>not sure what you mean by tab stops</z><z id="t1448426535" t="shaunlebron if :valid? is false, the :text will just be what you passed to it, to reflect the fact that there was no processing done"><y>#</y><d>2015-11-25</d><h>04:42</h><w>shaunlebron</w>if <code>:valid?</code> is false, the <code>:text</code> will just be what you passed to it, to reflect the fact that there was no processing done</z><z id="t1448426621" t="shaunlebron I haven’t thought about this enough for state caching, but I’m currently not passing invalid states to format-text-change if :valid? is false"><y>#</y><d>2015-11-25</d><h>04:43</h><w>shaunlebron</w>I haven’t thought about this enough for state caching, but I’m currently not passing invalid states to <code>format-text-change</code> if <code>:valid?</code> is false</z><z id="t1448426795" t="snoe thanks, I&apos;ve been meaning to ask - I&apos;ve been saving the state and printing a log message but I think that an invalid state is actually ok"><y>#</y><d>2015-11-25</d><h>04:46</h><w>snoe</w>thanks, I&apos;ve been meaning to ask - I&apos;ve been saving the state and printing a log message but I think that an invalid state is actually ok</z><z id="t1448426805" t="snoe as in, it&apos;s expected"><y>#</y><d>2015-11-25</d><h>04:46</h><w>snoe</w>as in, it&apos;s expected</z><z id="t1448426820" t="shaunlebron because there’s no point in state caching if the processor messed up along the way, corrupting the state..."><y>#</y><d>2015-11-25</d><h>04:47</h><w>shaunlebron</w>because there’s no point in state caching if the processor messed up along the way, corrupting the state...</z><z id="t1448426897" t="shaunlebron sorry, brb"><y>#</y><d>2015-11-25</d><h>04:48</h><w>shaunlebron</w>sorry, brb</z><z id="t1448426973" t="shaunlebron yes"><y>#</y><d>2015-11-25</d><h>04:49</h><w>shaunlebron</w>yes</z><z id="t1448426985" t="shaunlebron invalid state is expected in Indent Mode when strings are unclosed"><y>#</y><d>2015-11-25</d><h>04:49</h><w>shaunlebron</w>invalid state is expected in Indent Mode when strings are unclosed</z><z id="t1448427003" t="shaunlebron and expected in Paren Mode when strings are unclosed or parens imbalanced"><y>#</y><d>2015-11-25</d><h>04:50</h><w>shaunlebron</w>and expected in Paren Mode when strings are unclosed or parens imbalanced</z><z id="t1448427041" t="snoe in vim autoindent actually would work but I need to use the indentations rules from vim-clojure-static so my code matches teammates&apos; emacs indents. I&apos;m not sure if plugins or parinfer should be able to define these kind of options for indentation https://github.com/guns/vim-clojure-static#indent-options"><y>#</y><d>2015-11-25</d><h>04:50</h><w>snoe</w>in vim <code>autoindent</code> actually would work but I need to use the indentations rules from vim-clojure-static so my code matches teammates&apos; emacs indents. I&apos;m not sure if plugins or parinfer should be able to define these kind of options for indentation <a href="https://github.com/guns/vim-clojure-static#indent-options" target="_blank">https://github.com/guns/vim-clojure-static#indent-options</a></z><z id="t1448427407" t="shaunlebron not sure how we would mix the two"><y>#</y><d>2015-11-25</d><h>04:56</h><w>shaunlebron</w>not sure how we would mix the two</z><z id="t1448427579" t="shaunlebron it seems like pressing enter has to follow one rule or the other"><y>#</y><d>2015-11-25</d><h>04:59</h><w>shaunlebron</w>it seems like pressing enter has to follow one rule or the other</z><z id="t1448427686" t="snoe yeah, i agree about pressing enter, but having 1 or 2 space tabs stops after aligning is the important part there"><y>#</y><d>2015-11-25</d><h>05:01</h><w>snoe</w>yeah, i agree about pressing enter, but having 1 or 2 space tabs stops after aligning is the important part there</z><z id="t1448427826" t="shaunlebron oh okay, so autoindent when pressing enter, but vim-clojure-static for aligning selections"><y>#</y><d>2015-11-25</d><h>05:03</h><w>shaunlebron</w>oh okay, so <code>autoindent</code> when pressing enter, but <code>vim-clojure-static</code> for aligning selections</z><z id="t1448427884" t="snoe yup"><y>#</y><d>2015-11-25</d><h>05:04</h><w>snoe</w>yup</z><z id="t1448428290" t="snoe following either of these for alignment would be fine too https://github.com/bbatsov/clojure-style-guide or https://github.com/weavejester/cljfmt"><y>#</y><d>2015-11-25</d><h>05:11</h><w>snoe</w>following either of these for alignment would be fine too <a href="https://github.com/bbatsov/clojure-style-guide" target="_blank">https://github.com/bbatsov/clojure-style-guide</a> or <a href="https://github.com/weavejester/cljfmt" target="_blank">https://github.com/weavejester/cljfmt</a></z><z id="t1448429083" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] : tracking this here: https://github.com/shaunlebron/parinfer/issues/59"><y>#</y><d>2015-11-25</d><h>05:24</h><w>shaunlebron</w><a>@snoe</a>: tracking this here: <a href="https://github.com/shaunlebron/parinfer/issues/59" target="_blank">https://github.com/shaunlebron/parinfer/issues/59</a></z><z id="t1448429134" t="shaunlebron I have to head out now. thanks for bringing this issue up, it’s something we definitely need to address!"><y>#</y><d>2015-11-25</d><h>05:25</h><w>shaunlebron</w>I have to head out now.  thanks for bringing this issue up, it’s something we definitely need to address!</z><z id="t1448444476" t="dominicm [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] yypDa seems to work, I just discovered that I can turn off syntax indentation for clojure, and then enable autoindent (seems to be disabled, perhaps by setting indentexpr ?)"><y>#</y><d>2015-11-25</d><h>09:41</h><w>dominicm</w><a>@snoe</a> <code>yypDa</code> seems to work, I just discovered that I can turn off syntax indentation for clojure, and then enable autoindent (seems to be disabled, perhaps by setting <code>indentexpr</code>?)</z><z id="t1448447630" t="dominicm [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] to clarify, I mean this: autocmd Filetype clojure set indentexpr= autocmd Filetype clojure set autoindent "><y>#</y><d>2015-11-25</d><h>10:33</h><w>dominicm</w><a>@snoe</a> to clarify, I mean this:
<pre>autocmd Filetype clojure set indentexpr=
autocmd Filetype clojure set autoindent
</pre></z><z id="t1448476457" t="onetom does anyone have an example screen recording of how are you using parinfer? the indentation doesn&apos;t work as my gut feeling dictates and i found myself thinking about whether should i switch between paren and indent modes, so i feel if i could observe someone using it, i would understand this whole concept better."><y>#</y><d>2015-11-25</d><h>18:34</h><w>onetom</w>does anyone have an example screen recording of how are you using parinfer?

the indentation doesn&apos;t work as my gut feeling dictates and i found myself thinking about whether should i switch between paren  and indent modes, so i feel if i could observe someone using it, i would understand this whole concept better.</z><z id="t1448476859" t="shaunlebron the website has most use cases recorded, those that i could think of anyway"><y>#</y><d>2015-11-25</d><h>18:40</h><w>shaunlebron</w>the website has most use cases recorded, those that i could think of anyway</z><z id="t1448476906" t="shaunlebron indent mode is most used. paren mode is mainly just for fixing indentation of files"><y>#</y><d>2015-11-25</d><h>18:41</h><w>shaunlebron</w>indent mode is most used. paren mode is mainly just for fixing indentation of files</z><z id="t1448477001" t="shaunlebron i am away from my computer, but if you record yourself working through it and coming across unintuitive cases, that would be a big help"><y>#</y><d>2015-11-25</d><h>18:43</h><w>shaunlebron</w>i am away from my computer, but if you record yourself working through it and coming across unintuitive cases, that would be a big help</z><z id="t1448477687" t="shaunlebron [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] : want to record yourself working in atom?"><y>#</y><d>2015-11-25</d><h>18:54</h><w>shaunlebron</w><a>@chrisoakman</a>: want to record yourself working in atom?</z><z id="t1448478234" t="chrisoakman not particularly 😉"><y>#</y><d>2015-11-25</d><h>19:03</h><w>chrisoakman</w>not particularly <b>😉</b></z><z id="t1448478258" t="chrisoakman but I remember having a few situations when I was first learning it that seemed counter-intutive"><y>#</y><d>2015-11-25</d><h>19:04</h><w>chrisoakman</w>but I remember having a few situations when I was first learning it that seemed counter-intutive</z><z id="t1448478275" t="chrisoakman you remember when I kept telling you there were bugs?"><y>#</y><d>2015-11-25</d><h>19:04</h><w>chrisoakman</w>you remember when I kept telling you there were bugs?</z><z id="t1448478281" t="snoe I&apos;m probably not going to do a recording, but the biggest approach I needed to change from paredit is to type first without worrying about slurping or barfing and then align afterwards. typing (let [foo bar is kind of great"><y>#</y><d>2015-11-25</d><h>19:04</h><w>snoe</w>I&apos;m probably not going to do a recording, but the biggest approach I needed to change from paredit is to type first without worrying about slurping or barfing and then align afterwards. typing <code>(let [foo bar</code> is kind of great</z><z id="t1448478327" t="chrisoakman yeah - I&apos;ve never used Paredit"><y>#</y><d>2015-11-25</d><h>19:05</h><w>chrisoakman</w>yeah - I&apos;ve never used Paredit</z><z id="t1448478346" t="chrisoakman so I never had to &quot;relearn&quot; anything"><y>#</y><d>2015-11-25</d><h>19:05</h><w>chrisoakman</w>so I never had to &quot;relearn&quot; anything</z><z id="t1448478373" t="chrisoakman I do tend to just type out the expressions I want and then fix indentation after if it&apos;s not correct"><y>#</y><d>2015-11-25</d><h>19:06</h><w>chrisoakman</w>I do tend to just type out the expressions I want and then fix indentation after if it&apos;s not correct</z><z id="t1448478390" t="chrisoakman I have a pretty strong association in my mind between expression intent and indentation"><y>#</y><d>2015-11-25</d><h>19:06</h><w>chrisoakman</w>I have a pretty strong association in my mind between expression intent and indentation</z><z id="t1448478431" t="snoe I only have indent-mode in the vim plugin right now and I think I only really miss paren-mode when pasting"><y>#</y><d>2015-11-25</d><h>19:07</h><w>snoe</w>I only have indent-mode in the vim plugin right now and I think I only really miss paren-mode when pasting</z><z id="t1448478526" t="snoe if i want to wrap a form i start a new line above it type out the wrap and then select the form and indent it to slurp."><y>#</y><d>2015-11-25</d><h>19:08</h><w>snoe</w>if i want to wrap a form i start a new line above it type out the wrap and then select the form and indent it to slurp.</z><z id="t1448478603" t="snoe [:attrs {:href &quot;/_/_/users/U086D6TBN&quot;}] : any other places where your gut objects?"><y>#</y><d>2015-11-25</d><h>19:10</h><w>snoe</w><a>@onetom</a>: any other places where your gut objects?</z><z id="t1448478865" t="dominicm [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] I&apos;ve not had any problem when pasting yet. I just have to match the indent (Using &gt; ) and it all just works."><y>#</y><d>2015-11-25</d><h>19:14</h><w>dominicm</w><a>@snoe</a> I&apos;ve not had any problem when pasting yet. I just have to match the indent (Using <code>&gt;</code>) and it all just works.</z><z id="t1448539770" t="onetom [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] : yup, that&apos;s one of the things which were strange. but since it takes time and thinking and self-observation before i can ask well formed questions, i was hoping i could just get a better feeling for it from seeing some one else using it."><y>#</y><d>2015-11-26</d><h>12:09</h><w>onetom</w><a>@snoe</a>: yup, that&apos;s one of the things which were strange.
but since it takes time and thinking and self-observation before i can ask well formed questions, i was hoping i could just get a better feeling for it from seeing some one else using it.</z><z id="t1448540074" t="onetom we were test driving visual studio code, btw, so see if we can transition to it from sublime. the main motivation for the switch is the integrated git support with the great side-by-side, editable diff interface. until now not having any explicit clojure editing support was a show stopper, so i had high hopes for parinfer, but the learning curve has a non-obvious shape simple_smile"><y>#</y><d>2015-11-26</d><h>12:14</h><w>onetom</w>we were test driving visual studio code, btw, so see if we can transition to it from sublime.
the main motivation for the switch is the integrated git support with the great side-by-side, editable diff interface.
until now not having any explicit clojure editing support was a show stopper, so i had high hopes for parinfer, but the learning curve has a non-obvious shape <b>simple_smile</b></z><z id="t1448540092" t="onetom [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] : if u haven&apos;t used paredit, how were u writing clojure before?"><y>#</y><d>2015-11-26</d><h>12:14</h><w>onetom</w><a>@chrisoakman</a>: if u haven&apos;t used paredit, how were u writing clojure before?</z><z id="t1448540307" t="onetom our company just started using clojure about a year ago and the 1st ~6 weeks we did without paredit, but it was a major pain. we often fired up lighttable to fix unbalanced parens, because we used hoplon which compiled to clojurescript and it didn&apos;t throw any errors about certain paren unbalances and we just got an empty page... we used tabs for indentation to remedy this situation to some extent but then i bit the bullet and learnt paredit, figured out how to configure for sublime and since then we never looked back. the rest of the team picked it up in about a week or two too."><y>#</y><d>2015-11-26</d><h>12:18</h><w>onetom</w>our company just started using clojure about a year ago and the 1st ~6 weeks we did without paredit, but it was a major pain. we often fired up lighttable to fix unbalanced parens, because we used hoplon which compiled to clojurescript and it didn&apos;t throw any errors about certain paren unbalances and we just got an empty page...

we used tabs for indentation to remedy this situation to some extent but then i bit the bullet and learnt paredit, figured out how to configure for sublime and since then we never looked back. the rest of the team picked it up in about a week or two too.</z><z id="t1448540420" t="onetom it would still be a pain to worry about indentation, so since we found the lispindent sublime extension we hardly ever worry about indentation anymore. we have even switched back to spaces for indentation, though it makes using proportional fonts non-feasible... 😞"><y>#</y><d>2015-11-26</d><h>12:20</h><w>onetom</w>it would still be a pain to worry about indentation, so since we found the lispindent sublime extension we hardly ever worry about indentation anymore.

we have even switched back to spaces for indentation, though it makes using proportional fonts non-feasible... <b>😞</b></z><z id="t1448545245" t="maxt I was surprised that parinfer didn&apos;t help me with &quot;&quot; . Has there been discussions around that?"><y>#</y><d>2015-11-26</d><h>13:40</h><w>maxt</w>I was surprised that parinfer didn&apos;t help me with <code>&quot;&quot;</code>. Has there been discussions around that?</z><z id="t1448546058" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0773UB6D&quot;}] quotes are the bane of my work with parinfer"><y>#</y><d>2015-11-26</d><h>13:54</h><w>shaunlebron</w><a>@maxt</a> quotes are the bane of my work with parinfer</z><z id="t1448546211" t="shaunlebron they simply cant be inferred like parens, because (a) multiline string conventions dont follow indentation rules and (b) quotes are non-directional so their contents can turn inside out if a single quote is typed behind them"><y>#</y><d>2015-11-26</d><h>13:56</h><w>shaunlebron</w>they simply cant be inferred like parens, because (a) multiline string conventions dont follow indentation rules and (b) quotes are non-directional so their contents can turn inside out if a single quote is typed behind them</z><z id="t1448546483" t="maxt You&apos;re right, that&apos;s too bad 😞"><y>#</y><d>2015-11-26</d><h>14:01</h><w>maxt</w>You&apos;re right, that&apos;s too bad <b>😞</b></z><z id="t1448546516" t="shaunlebron i dont know how to fix it"><y>#</y><d>2015-11-26</d><h>14:01</h><w>shaunlebron</w>i dont know how to fix it</z><z id="t1448546549" t="shaunlebron if keyboards had directional quote keys, this wouldnt be a problem"><y>#</y><d>2015-11-26</d><h>14:02</h><w>shaunlebron</w>if keyboards had directional quote keys, this wouldnt be a problem</z><z id="t1448546616" t="shaunlebron imagine if we didnt have directional paren keys"><y>#</y><d>2015-11-26</d><h>14:03</h><w>shaunlebron</w>imagine if we didnt have directional paren keys</z><z id="t1448546684" t="maxt we&apos;ll just have to start writing qoutes like \`\` &apos;&apos;"><y>#</y><d>2015-11-26</d><h>14:04</h><w>maxt</w>we&apos;ll just have to start writing qoutes like \`\` &apos;&apos;</z><z id="t1448546740" t="maxt parinfer is not the only reason unidirectional quotes are poor"><y>#</y><d>2015-11-26</d><h>14:05</h><w>maxt</w>parinfer is not the only reason unidirectional quotes are poor</z><z id="t1448546775" t="shaunlebron right"><y>#</y><d>2015-11-26</d><h>14:06</h><w>shaunlebron</w>right</z><z id="t1448546816" t="shaunlebron actually parinfer could handle them fine if it werent for semicolons"><y>#</y><d>2015-11-26</d><h>14:06</h><w>shaunlebron</w>actually parinfer could handle them fine if it werent for semicolons</z><z id="t1448546840" t="shaunlebron well parinfer could never infer quotes"><y>#</y><d>2015-11-26</d><h>14:07</h><w>shaunlebron</w>well parinfer could never infer quotes</z><z id="t1448546915" t="shaunlebron but semicolons in strings or a single quote in comments actually break parinfer by causing intermediate states to be parsed by parinfer"><y>#</y><d>2015-11-26</d><h>14:08</h><w>shaunlebron</w>but semicolons in strings or a single quote in comments actually break parinfer by causing intermediate states to be parsed by parinfer</z><z id="t1448546982" t="shaunlebron by break i mean corrupt strings after quotes are typed one at a time"><y>#</y><d>2015-11-26</d><h>14:09</h><w>shaunlebron</w>by break i mean corrupt strings after quotes are typed one at a time</z><z id="t1448547626" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0773UB6D&quot;}] do you have any references on unidirectional quotes causing problems in other domains?"><y>#</y><d>2015-11-26</d><h>14:20</h><w>shaunlebron</w><a>@maxt</a> do you have any references on unidirectional quotes causing problems in other domains?</z><z id="t1448548185" t="maxt No, sorry, I was mainly referring to that it makes it harder to read. Quotes where originally directed but that was simplified with the advent of the typewriter (well, I don&apos;t have a referrence for that either simple_smile ) In addition to that I&apos;ve experienced many syntax-highlight errors in editors which probably could have been made less severe if it wasn&apos;t for the even/uneven issue"><y>#</y><d>2015-11-26</d><h>14:29</h><w>maxt</w>No, sorry, I was mainly referring to that it makes it harder to read. Quotes where originally directed but that was simplified with the advent of the typewriter (well, I don&apos;t have a referrence for that either <b>simple_smile</b> )  In addition to that I&apos;ve experienced many syntax-highlight errors in editors which probably could have been made less severe if it wasn&apos;t for the even/uneven issue</z><z id="t1448550739" t="shaunlebron alright thanks"><y>#</y><d>2015-11-26</d><h>15:12</h><w>shaunlebron</w>alright thanks</z><z id="t1448554038" t="chrisoakman [:attrs {:href &quot;/_/_/users/U086D6TBN&quot;}] : before Parinfer I wrote Clojure like a caveman; manually closing parens and indenting everything by hand"><y>#</y><d>2015-11-26</d><h>16:07</h><w>chrisoakman</w><a>@onetom</a>: before Parinfer I wrote Clojure like a caveman; manually closing parens and indenting everything by hand</z><z id="t1448554095" t="chrisoakman that never bothered me, but it did seem to bother other Clojure developers who watched me 😉"><y>#</y><d>2015-11-26</d><h>16:08</h><w>chrisoakman</w>that never bothered me, but it did seem to bother other Clojure developers who watched me <b>😉</b></z><z id="t1448554113" t="chrisoakman now seems sort of crazy to write any Clojure without Parinfer"><y>#</y><d>2015-11-26</d><h>16:08</h><w>chrisoakman</w>now seems sort of crazy to write any Clojure without Parinfer</z><z id="t1448554525" t="onetom but u had some matching paren indicator or how could u stand it? simple_smile"><y>#</y><d>2015-11-26</d><h>16:15</h><w>onetom</w>but u had some matching paren indicator or how could u stand it? <b>simple_smile</b></z><z id="t1448558225" t="snoe maybe we can bind some keys to open and close quote “ ” to indicate to parinfer our intention and it rewrites them to the unidirectional &quot;"><y>#</y><d>2015-11-26</d><h>17:17</h><w>snoe</w>maybe we can bind some keys to open and close quote <code>“</code> <code>”</code> to indicate to parinfer our intention  and it rewrites them to the unidirectional <code>&quot;</code></z><z id="t1448558257" t="snoe &lt;/brainstorm&gt;"><y>#</y><d>2015-11-26</d><h>17:17</h><w>snoe</w>&lt;/brainstorm&gt;</z><z id="t1448558714" t="chrisoakman I used whatever Sublime Text does by default"><y>#</y><d>2015-11-26</d><h>17:25</h><w>chrisoakman</w>I used whatever Sublime Text does by default</z><z id="t1448560124" t="shaunlebron [:attrs {:href &quot;/_/_/users/U086D6TBN&quot;}] what editor were you using that doesnt highlight matching parens? i thought most did that"><y>#</y><d>2015-11-26</d><h>17:48</h><w>shaunlebron</w><a>@onetom</a> what editor were you using that doesnt highlight matching parens? i thought most did that</z><z id="t1448560318" t="onetom [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : sublime has some limit built in regarding how many characters should it match parens across (for performance reasons) we wrote a lot of html equivalent code, so we crossed that limit often"><y>#</y><d>2015-11-26</d><h>17:51</h><w>onetom</w><a>@shaunlebron</a>: sublime has some limit built in regarding how many characters should it match parens across (for performance reasons)
we wrote a lot of html equivalent code, so we crossed that limit often</z><z id="t1448560325" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] im afraid we&apos;d have to do something like that"><y>#</y><d>2015-11-26</d><h>17:52</h><w>shaunlebron</w><a>@snoe</a> im afraid we&apos;d have to do something like that</z><z id="t1448560331" t="onetom also sublime doesnt show extra parens either"><y>#</y><d>2015-11-26</d><h>17:52</h><w>onetom</w>also sublime doesnt show extra parens either</z><z id="t1448560429" t="shaunlebron oh that makes sense"><y>#</y><d>2015-11-26</d><h>17:53</h><w>shaunlebron</w>oh that makes sense</z><z id="t1448560476" t="shaunlebron vim has a &quot;go to matching paren&quot; key that i use all the time, i bet a sublime paredit plugin has that"><y>#</y><d>2015-11-26</d><h>17:54</h><w>shaunlebron</w>vim has a &quot;go to matching paren&quot; key that i use all the time, i bet a sublime paredit plugin has that</z><z id="t1448560930" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] i hope theres a better way, other than forcing editors to create a &quot;view&quot; for directed quotes, and then save the file with unidirectional, then re-infer directed quotes when opening"><y>#</y><d>2015-11-26</d><h>18:02</h><w>shaunlebron</w><a>@snoe</a> i hope theres a better way, other than forcing editors to create a &quot;view&quot; for directed quotes, and then save the file with unidirectional, then re-infer directed quotes when opening</z><z id="t1448560984" t="shaunlebron the simplicity of parinfer would be marred by this"><y>#</y><d>2015-11-26</d><h>18:03</h><w>shaunlebron</w>the simplicity of parinfer would be marred by this</z><z id="t1448561068" t="snoe I agree, I suspect that there&apos;s probably a non-perfect answer though that will fail safe"><y>#</y><d>2015-11-26</d><h>18:04</h><w>snoe</w>I agree, I suspect that there&apos;s probably a non-perfect answer though that will fail safe</z><z id="t1448561111" t="snoe right now, I need to keep an eagle eye on my diffs 😛"><y>#</y><d>2015-11-26</d><h>18:05</h><w>snoe</w>right now, I need to keep an eagle eye on my diffs <b>😛</b></z><z id="t1448561421" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] im still thinking about your proposal to remove comments before transforming"><y>#</y><d>2015-11-26</d><h>18:10</h><w>shaunlebron</w><a>@snoe</a> im still thinking about your proposal to remove comments before transforming</z><z id="t1448561485" t="shaunlebron but typing &apos;foo ;&quot;&apos; and prepending a quote would just never resolve"><y>#</y><d>2015-11-26</d><h>18:11</h><w>shaunlebron</w>but typing &apos;foo ;&quot;&apos; and prepending a quote would just never resolve</z><z id="t1448562139" t="snoe hrm if we saved invalid states it&apos;s possible we could save the fact that the ;&quot; is a comment"><y>#</y><d>2015-11-26</d><h>18:22</h><w>snoe</w>hrm if we saved invalid states it&apos;s possible we could save the fact that the <code>;&quot;</code> is a comment</z><z id="t1448562225" t="snoe for the record, I&apos;d give up reversibility in comments if it preserved my code strings"><y>#</y><d>2015-11-26</d><h>18:23</h><w>snoe</w>for the record, I&apos;d give up reversibility in comments if it preserved my code strings</z><z id="t1448562670" t="shaunlebron that might have to be the compromise"><y>#</y><d>2015-11-26</d><h>18:31</h><w>shaunlebron</w>that might have to be the compromise</z><z id="t1448703234" t="onetom [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : yes, sublime have Ctrl+M for jumping to the matching parent, which I&apos;ve started to use recently more, despite of having paredit, BUT I&apos;ve just understood some issues. 1. i never bothered to understand exactly how it works, i just labelled it working inconsequentially 2. we&apos;ve just learnt ~3-4months ago that u can also select scope with ^⇧-M &amp;&amp;&amp;&amp; undo the selection with ⌘-U. It&apos;s clunky... 😕 VC Code at least has symmetrical shortcuts but they are finger breaking too ⌘^⇧←/→ 3. we started employing Clojure by porting a largely static, informational website into HLisp (as defined by http://hoplon.io ; it&apos;s a bit like Hiccup) and our matching parens were off screen often, since we were working on only full HD screens and the BracketHighlighter plugin for Sublime by default wouldn&apos;t show matches across more than 5kilobytes of text... The built-in Ctrl-M actually works across more than 5k by default... (this project is actually open source here https://github.com/exicon/homepage )"><y>#</y><d>2015-11-28</d><h>09:33</h><w>onetom</w><a>@shaunlebron</a>: yes, sublime have Ctrl+M for jumping to the matching parent, which I&apos;ve started to use recently more, despite of having paredit, BUT I&apos;ve just understood some issues.

1. i never bothered to understand exactly how it works, i just labelled it working inconsequentially

2. we&apos;ve just learnt ~3-4months ago that u can also select scope with ^⇧-M &amp;&amp;&amp;&amp; undo the selection with ⌘-U. It&apos;s clunky... <b>😕</b>
VC Code at least has symmetrical shortcuts but they are finger breaking too ⌘^⇧←/→

3. we started employing Clojure by porting a largely static, informational website into HLisp (as defined by <a href="http://hoplon.io" target="_blank">http://hoplon.io</a> ; it&apos;s a bit like Hiccup) and our matching parens were off screen often, since we were working on only full HD screens and the BracketHighlighter plugin for Sublime by default wouldn&apos;t show matches across more than 5kilobytes of text...
The built-in Ctrl-M actually works across more than 5k by default...
(this project is actually open source here <a href="https://github.com/exicon/homepage" target="_blank">https://github.com/exicon/homepage</a> )</z><z id="t1448726327" t="shaunlebron cool, yeah, I expected the go-to-matching-paren to be without limits since it’s a direct command"><y>#</y><d>2015-11-28</d><h>15:58</h><w>shaunlebron</w>cool, yeah, I expected the go-to-matching-paren to be without limits since it’s a direct command</z><z id="t1448726369" t="shaunlebron that’s awesome that you open-sourced your hoplon app btw, I wonder how many folks know about that"><y>#</y><d>2015-11-28</d><h>15:59</h><w>shaunlebron</w>that’s awesome that you open-sourced your hoplon app btw, I wonder how many folks know about that</z><z id="t1448777702" t="onetom [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : i keep mentioning it in tech circles and show to every potential hire to see if they would like to work on it simple_smile i&apos;ve also announced it here last year: http://hoplon.discoursehosting.net/t/example-migration-from-php-to-clojure/312"><y>#</y><d>2015-11-29</d><h>06:15</h><w>onetom</w><a>@shaunlebron</a>: i keep mentioning it in tech circles and show to every potential hire to see if they would like to work on it <b>simple_smile</b>
i&apos;ve also announced it here last year:
<a href="http://hoplon.discoursehosting.net/t/example-migration-from-php-to-clojure/312" target="_blank">http://hoplon.discoursehosting.net/t/example-migration-from-php-to-clojure/312</a></z><z id="t1448922224" t="eraserhd So, more important to me than integrating parinfer into Avi, is some sort of auto-indent mode for when I insert a newline. I see that parinfer has a suggestion on how to do that for a REPL, but I get the impression there’s some flaws with that. Is there a better idea, or existing code out there?"><y>#</y><d>2015-11-30</d><h>22:23</h><w>eraserhd</w>So, more important to me than integrating parinfer into Avi, is some sort of auto-indent mode for when I insert a newline.  I see that parinfer has a suggestion on how to do that for a REPL, but I get the impression there’s some flaws with that.  Is there a better idea, or existing code out there?</z><z id="t1449110895" t="selfsame [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] : got sublime-text-parinfer running in windows sublimeText3 https://github.com/selfsame/sublime-text-parinfer/commit/070e192f75379fcc8f359bd9f2db0df122239a4d"><y>#</y><d>2015-12-03</d><h>02:48</h><w>selfsame</w><a>@chrisoakman</a>:  got sublime-text-parinfer running in windows sublimeText3 <a href="https://github.com/selfsame/sublime-text-parinfer/commit/070e192f75379fcc8f359bd9f2db0df122239a4d" target="_blank">https://github.com/selfsame/sublime-text-parinfer/commit/070e192f75379fcc8f359bd9f2db0df122239a4d</a></z><z id="t1449111727" t="chrisoakman This is very exciting!"><y>#</y><d>2015-12-03</d><h>03:02</h><w>chrisoakman</w>This is very exciting!</z><z id="t1449111827" t="chrisoakman I&apos;m amazed that another person was able to make sense of that project 😉"><y>#</y><d>2015-12-03</d><h>03:03</h><w>chrisoakman</w>I&apos;m amazed that another person was able to make sense of that project <b>😉</b></z><z id="t1449111843" t="chrisoakman This is literally the first Python I have written in my life; I feel like I&apos;m winging it pretty hard."><y>#</y><d>2015-12-03</d><h>03:04</h><w>chrisoakman</w>This is literally the first Python I have written in my life; I feel like I&apos;m winging it pretty hard.</z><z id="t1449111966" t="chrisoakman ok, ok"><y>#</y><d>2015-12-03</d><h>03:06</h><w>chrisoakman</w>ok, ok</z><z id="t1449111970" t="chrisoakman I see what you&apos;re doing here"><y>#</y><d>2015-12-03</d><h>03:06</h><w>chrisoakman</w>I see what you&apos;re doing here</z><z id="t1449111993" t="chrisoakman more idiomatic to make a &quot;view command&quot; than what I&apos;m doing I suppose"><y>#</y><d>2015-12-03</d><h>03:06</h><w>chrisoakman</w>more idiomatic to make a &quot;view command&quot; than what I&apos;m doing I suppose</z><z id="t1449111998" t="chrisoakman or is that an ST3 thing?"><y>#</y><d>2015-12-03</d><h>03:06</h><w>chrisoakman</w>or is that an ST3 thing?</z><z id="t1449112174" t="chrisoakman Will you make a Pull Request or can I just steal some of what you&apos;ve done?"><y>#</y><d>2015-12-03</d><h>03:09</h><w>chrisoakman</w>Will you make a Pull Request or can I just steal some of what you&apos;ve done?</z><z id="t1449112607" t="selfsame that&apos;s ST3, you have to use TextCommands to get an edit token"><y>#</y><d>2015-12-03</d><h>03:16</h><w>selfsame</w>that&apos;s ST3, you have to use TextCommands to get an edit token</z><z id="t1449112624" t="selfsame yeah I&apos;ll submit a pull soon, trying to sort out the socketfile"><y>#</y><d>2015-12-03</d><h>03:17</h><w>selfsame</w>yeah I&apos;ll submit a pull soon, trying to sort out the socketfile</z><z id="t1449112775" t="chrisoakman so cool simple_smile"><y>#</y><d>2015-12-03</d><h>03:19</h><w>chrisoakman</w>so cool <b>simple_smile</b></z><z id="t1449112804" t="chrisoakman ok - let me know if you run into anything; trying to just get a MVP of this available so people can use it"><y>#</y><d>2015-12-03</d><h>03:20</h><w>chrisoakman</w>ok - let me know if you run into anything; trying to just get a MVP of this available so people can use it</z><z id="t1449123979" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0FEXTR8Q&quot;}] : sweet! 👍"><y>#</y><d>2015-12-03</d><h>06:26</h><w>shaunlebron</w><a>@selfsame</a>: sweet! <b>👍</b></z><z id="t1449148133" t="selfsame [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] : PR sent, you did some nice work for a first python project simple_smile"><y>#</y><d>2015-12-03</d><h>13:08</h><w>selfsame</w><a>@chrisoakman</a>: PR sent, you did some nice work for a first python project <b>simple_smile</b></z><z id="t1449155583" t="hmadelaine Hello Parinferers ! Thanks [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] for your great innovation ! I would like to integrate Parinfer with CodeMirror. Correct me if I am wrong but the wrapper around CodeMirror is in Parinfer-site that is not intended to be imported in a project ?"><y>#</y><d>2015-12-03</d><h>15:13</h><w>hmadelaine</w>Hello Parinferers ! Thanks <a>@shaunlebron</a> for your great innovation ! I would like to integrate Parinfer with CodeMirror. Correct me if I am wrong but the wrapper around CodeMirror is in Parinfer-site that is not intended to be imported in a project ?</z><z id="t1449249340" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0508R629&quot;}] : hi simple_smile"><y>#</y><d>2015-12-04</d><h>17:15</h><w>shaunlebron</w><a>@hmadelaine</a>: hi <b>simple_smile</b></z><z id="t1449249368" t="shaunlebron yeah, the codemirror integration part is not really intended for use outside of the site"><y>#</y><d>2015-12-04</d><h>17:16</h><w>shaunlebron</w>yeah, the codemirror integration part is not really intended for use outside of the site</z><z id="t1449249402" t="shaunlebron I didn’t do a good job in making it reusable (i.e. an actual codemirror addon)"><y>#</y><d>2015-12-04</d><h>17:16</h><w>shaunlebron</w>I didn’t do a good job in making it reusable (i.e. an actual codemirror addon)</z><z id="t1449249532" t="shaunlebron I would love to help any way I can though. there were some rough edges and some uncertainties I had with the API that you could probably solve faster than I could"><y>#</y><d>2015-12-04</d><h>17:18</h><w>shaunlebron</w>I would love to help any way I can though. there were some rough edges and some uncertainties I had with the API that you could probably solve faster than I could</z><z id="t1449251798" t="hmadelaine [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : Thanks for you answer. Maybe I could try to extract the code as a codemirror addon."><y>#</y><d>2015-12-04</d><h>17:56</h><w>hmadelaine</w><a>@shaunlebron</a>: Thanks for you answer. Maybe I could try to extract the code as a codemirror addon.</z><z id="t1449261605" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0508R629&quot;}] : yeah I think it’s definitely possible"><y>#</y><d>2015-12-04</d><h>20:40</h><w>shaunlebron</w><a>@hmadelaine</a>: yeah I think it’s definitely possible</z><z id="t1449261652" t="hmadelaine [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : Ok I will study that next week 😉 have a good week end !"><y>#</y><d>2015-12-04</d><h>20:40</h><w>hmadelaine</w><a>@shaunlebron</a>: Ok I will study that next week <b>😉</b> have a good week end !</z><z id="t1449532929" t="shaunlebron just a heads-up, another editor will be adding parinfer support by piggiebacking off Node"><y>#</y><d>2015-12-08</d><h>00:02</h><w>shaunlebron</w>just a heads-up, another editor will be adding parinfer support by piggiebacking off Node</z><z id="t1449532942" t="shaunlebron parinfer-mode for emacs: https://github.com/edpaget/parinfer-mode"><y>#</y><d>2015-12-08</d><h>00:02</h><w>shaunlebron</w>parinfer-mode for emacs: <a href="https://github.com/edpaget/parinfer-mode" target="_blank">https://github.com/edpaget/parinfer-mode</a></z><z id="t1449548971" t="dongcarl [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : I’m working on a native emacs lisp version of parinfer for emacs (no more piggiebacking off Node). Question, I see the variable `delims’ everywhere in the .cljc files but I’m not sure where it is defined"><y>#</y><d>2015-12-08</d><h>04:29</h><w>dongcarl</w><a>@shaunlebron</a>: I’m working on a native emacs lisp version of parinfer for emacs (no more piggiebacking off Node). Question, I see the variable `delims’ everywhere in the .cljc files but I’m not sure where it is defined</z><z id="t1449595622" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0G4E89JP&quot;}] hi simple_smile"><y>#</y><d>2015-12-08</d><h>17:27</h><w>shaunlebron</w><a>@dongcarl</a> hi <b>simple_smile</b></z><z id="t1449595693" t="shaunlebron if you’re looking at indent_mode.cljc, delims is often a local var, but not globally defined anywhere"><y>#</y><d>2015-12-08</d><h>17:28</h><w>shaunlebron</w>if you’re looking at indent_mode.cljc, <code>delims</code> is often a local var, but not globally defined anywhere</z><z id="t1449595724" t="shaunlebron you’re probably talking about how its value is created"><y>#</y><d>2015-12-08</d><h>17:28</h><w>shaunlebron</w>you’re probably talking about how its value is created</z><z id="t1449595750" t="shaunlebron that is done by update-delim-trail"><y>#</y><d>2015-12-08</d><h>17:29</h><w>shaunlebron</w>that is done by <code>update-delim-trail</code></z><z id="t1449595770" t="shaunlebron the delim-trail is just the close-parens at the end of a line"><y>#</y><d>2015-12-08</d><h>17:29</h><w>shaunlebron</w>the <code>delim-trail</code> is just the close-parens at the end of a line</z><z id="t1449608603" t="dongcarl [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : hmmm… I’m new to Clojure so I hope you’ll bear with me… in close-delims , you did (let [[stack delims]…]…) I’m not sure that “delims” comes from… Is it defined globally? I don’t see it as a function argument either"><y>#</y><d>2015-12-08</d><h>21:03</h><w>dongcarl</w><a>@shaunlebron</a>: hmmm… I’m new to Clojure so I hope you’ll bear with me… in <code>close-delims</code>, you did (let [[stack delims]…]…) I’m not sure that “delims” comes from… Is it defined globally? I don’t see it as a function argument either</z><z id="t1449608686" t="eraserhd [:attrs {:href &quot;/_/_/users/U0G4E89JP&quot;}] : That’s clojure’s destructuring syntax. All of [stack delims] is the left-hand-side of the binding, which means that whatever the right side is returns a sequence with at least two elements (sometimes)."><y>#</y><d>2015-12-08</d><h>21:04</h><w>eraserhd</w><a>@dongcarl</a>: That’s clojure’s destructuring syntax.  All of <code>[stack delims]</code> is the left-hand-side of the binding, which means that whatever the right side is returns a sequence with at least two elements (sometimes).</z><z id="t1449608723" t="eraserhd (It’s not (let [stack delims …] …) which is different.)"><y>#</y><d>2015-12-08</d><h>21:05</h><w>eraserhd</w>(It’s not <code>(let [stack delims …] …)</code> which is different.)</z><z id="t1449608777" t="dongcarl okay so for clojure if it’s (let [[a b] [c d]]…) then a will be set to c, b will be set to d?"><y>#</y><d>2015-12-08</d><h>21:06</h><w>dongcarl</w>okay so for clojure if it’s (let [[a b] [c d]]…) then a will be set to c, b will be set to d?</z><z id="t1449608814" t="eraserhd yup"><y>#</y><d>2015-12-08</d><h>21:06</h><w>eraserhd</w>yup</z><z id="t1449608820" t="dongcarl [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : and you are setting stack and delims to an updated stack and delims through the loop?"><y>#</y><d>2015-12-08</d><h>21:07</h><w>dongcarl</w><a>@shaunlebron</a>: and you are setting stack and delims to an updated stack and delims through the loop?</z><z id="t1449608841" t="shaunlebron right, I’m not too proud of that"><y>#</y><d>2015-12-08</d><h>21:07</h><w>shaunlebron</w>right, I’m not too proud of that</z><z id="t1449608849" t="shaunlebron but delims starts as ””"><y>#</y><d>2015-12-08</d><h>21:07</h><w>shaunlebron</w>but <code>delims</code> starts as <code>””</code></z><z id="t1449608849" t="dongcarl [:attrs {:href &quot;/_/_/users/U0ECYL0ET&quot;}] : thanks for the clarification simple_smile"><y>#</y><d>2015-12-08</d><h>21:07</h><w>dongcarl</w><a>@eraserhd</a>: thanks for the clarification <b>simple_smile</b></z><z id="t1449608871" t="shaunlebron it’s essentially a reducing function"><y>#</y><d>2015-12-08</d><h>21:07</h><w>shaunlebron</w>it’s essentially a reducing function</z><z id="t1449608892" t="dongcarl [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : okay awesome! So many things are different in Clojure from Lisp 😅"><y>#</y><d>2015-12-08</d><h>21:08</h><w>dongcarl</w><a>@shaunlebron</a>: okay awesome! So many things are different in Clojure from Lisp <b>😅</b></z><z id="t1449608927" t="shaunlebron I’m open for a quick google hangout if you want a quick intro"><y>#</y><d>2015-12-08</d><h>21:08</h><w>shaunlebron</w>I’m open for a quick google hangout if you want a quick intro</z><z id="t1449608955" t="shaunlebron or if you have more questions about the code, whichever works best for you"><y>#</y><d>2015-12-08</d><h>21:09</h><w>shaunlebron</w>or if you have more questions about the code, whichever works best for you</z><z id="t1449609019" t="dongcarl Oh that would be fantastic… I don’t have any particular questions now but if you have the words in you I’ll listen!! 😁"><y>#</y><d>2015-12-08</d><h>21:10</h><w>dongcarl</w>Oh that would be fantastic… I don’t have any particular questions now but if you have the words in you I’ll listen!! <b>😁</b></z><z id="t1449609137" t="shaunlebron ha, well we can wing it, but just to give you a general intro to the code and clojure"><y>#</y><d>2015-12-08</d><h>21:12</h><w>shaunlebron</w>ha, well we can wing it, but just to give you a general intro to the code and clojure</z><z id="t1449609188" t="dongcarl Cool! When do you want to do this?"><y>#</y><d>2015-12-08</d><h>21:13</h><w>dongcarl</w>Cool! When do you want to do this?</z><z id="t1449609232" t="shaunlebron I can do it in a few minutes, for maybe 30min?"><y>#</y><d>2015-12-08</d><h>21:13</h><w>shaunlebron</w>I can do it in a few minutes, for maybe 30min?</z><z id="t1449609266" t="dongcarl Sure! I’m sure the intro would help me along greatly 😄"><y>#</y><d>2015-12-08</d><h>21:14</h><w>dongcarl</w>Sure! I’m sure the intro would help me along greatly <b>😄</b></z><z id="t1449609281" t="dongcarl Just tell me when you’re good to go!"><y>#</y><d>2015-12-08</d><h>21:14</h><w>dongcarl</w>Just tell me when you’re good to go!</z><z id="t1449609284" t="shaunlebron cool!"><y>#</y><d>2015-12-08</d><h>21:14</h><w>shaunlebron</w>cool!</z><z id="t1449609290" t="shaunlebron I’ll post a hangout link here in a few"><y>#</y><d>2015-12-08</d><h>21:14</h><w>shaunlebron</w>I’ll post a hangout link here in a few</z><z id="t1449610394" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0G4E89JP&quot;}] : https://hangouts.google.com/call/wh4anhp2mr6xfssgqqtn2arrzia"><y>#</y><d>2015-12-08</d><h>21:33</h><w>shaunlebron</w><a>@dongcarl</a>: <a href="https://hangouts.google.com/call/wh4anhp2mr6xfssgqqtn2arrzia" target="_blank">https://hangouts.google.com/call/wh4anhp2mr6xfssgqqtn2arrzia</a></z><z id="t1449610403" t="shaunlebron trying a public hangout"><y>#</y><d>2015-12-08</d><h>21:33</h><w>shaunlebron</w>trying a public hangout</z><z id="t1449615266" t="shaunlebron thanks [:attrs {:href &quot;/_/_/users/U0G4E89JP&quot;}] for the great questions. apparently public google hangouts are uploaded automatically to the host&apos;s youtube account"><y>#</y><d>2015-12-08</d><h>22:54</h><w>shaunlebron</w>thanks <a>@dongcarl</a> for the great questions.  apparently public google hangouts are uploaded automatically to the host&apos;s youtube account</z><z id="t1449615290" t="shaunlebron so here it is if anyone wants to see the overview: https://www.youtube.com/watch?v=9Qb97MImus8&amp;amp;feature=youtu.be&amp;amp;t=4m20s"><y>#</y><d>2015-12-08</d><h>22:54</h><w>shaunlebron</w>so here it is if anyone wants to see the overview: <a href="https://www.youtube.com/watch?v=9Qb97MImus8&amp;amp;feature=youtu.be&amp;amp;t=4m20s" target="_blank">https://www.youtube.com/watch?v=9Qb97MImus8&amp;amp;feature=youtu.be&amp;amp;t=4m20s</a></z><z id="t1449615309" t="dongcarl [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : haha okay cool"><y>#</y><d>2015-12-08</d><h>22:55</h><w>dongcarl</w><a>@shaunlebron</a>: haha okay cool</z><z id="t1449615322" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0G4E89JP&quot;}] , sorry are you okay with this?"><y>#</y><d>2015-12-08</d><h>22:55</h><w>shaunlebron</w><a>@dongcarl</a>, sorry are you okay with this?</z><z id="t1449615327" t="shaunlebron lol"><y>#</y><d>2015-12-08</d><h>22:55</h><w>shaunlebron</w>lol</z><z id="t1449615335" t="dongcarl [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : yeah that’s cool of course"><y>#</y><d>2015-12-08</d><h>22:55</h><w>dongcarl</w><a>@shaunlebron</a>: yeah that’s cool of course</z><z id="t1449615346" t="shaunlebron k cool"><y>#</y><d>2015-12-08</d><h>22:55</h><w>shaunlebron</w>k cool</z><z id="t1449619194" t="snoe nice video!"><y>#</y><d>2015-12-08</d><h>23:59</h><w>snoe</w>nice video!</z><z id="t1449624878" t="darwin look! playing with parinfer in my devtools console 😝 https://dl.dropboxusercontent.com/u/559047/poc-parinfer-prompt-in-devtools-01.png"><y>#</y><d>2015-12-09</d><h>01:34</h><w>darwin</w>look! playing with parinfer in my devtools console <b>😝</b>
<a href="https://dl.dropboxusercontent.com/u/559047/poc-parinfer-prompt-in-devtools-01.png" target="_blank">https://dl.dropboxusercontent.com/u/559047/poc-parinfer-prompt-in-devtools-01.png</a></z><z id="t1449624924" t="shaunlebron my god, that’s cool"><y>#</y><d>2015-12-09</d><h>01:35</h><w>shaunlebron</w>my god, that’s cool</z><z id="t1449624937" t="shaunlebron i was just reading your email"><y>#</y><d>2015-12-09</d><h>01:35</h><w>shaunlebron</w>i was just reading your email</z><z id="t1449624967" t="shaunlebron it’s been a while since I’ve seen cljs-devtools, looks like it’s come really far since then"><y>#</y><d>2015-12-09</d><h>01:36</h><w>shaunlebron</w>it’s been a while since I’ve seen cljs-devtools, looks like it’s come really far since then</z><z id="t1449624992" t="darwin I just discovered this channel after sending the email"><y>#</y><d>2015-12-09</d><h>01:36</h><w>darwin</w>I just discovered this channel after sending the email</z><z id="t1449625002" t="darwin we can communicate here in the open"><y>#</y><d>2015-12-09</d><h>01:36</h><w>darwin</w>we can communicate here in the open</z><z id="t1449625043" t="darwin I just want to add few bits into devtools, to improve cljs experience a bit more with chrome"><y>#</y><d>2015-12-09</d><h>01:37</h><w>darwin</w>I just want to add few bits into devtools, to improve cljs experience a bit more with chrome</z><z id="t1449625074" t="darwin nothing big, just few tweaks here and there, for example using custom formatters for inline values in source code view"><y>#</y><d>2015-12-09</d><h>01:37</h><w>darwin</w>nothing big, just few tweaks here and there, for example using custom formatters for inline values in source code view</z><z id="t1449625092" t="shaunlebron yeah, that’s a big deal"><y>#</y><d>2015-12-09</d><h>01:38</h><w>shaunlebron</w>yeah, that’s a big deal</z><z id="t1449625113" t="shaunlebron the local scope view is especially nice"><y>#</y><d>2015-12-09</d><h>01:38</h><w>shaunlebron</w>the local scope view is especially nice</z><z id="t1449625167" t="darwin yeah, speaking about local scope, I will sort local scope view to put nice variables at the top, and macro generated below"><y>#</y><d>2015-12-09</d><h>01:39</h><w>darwin</w>yeah, speaking about local scope, I will sort local scope view to put nice variables at the top, and macro generated below</z><z id="t1449625183" t="darwin you know, all the garbage with underscores and dollars"><y>#</y><d>2015-12-09</d><h>01:39</h><w>darwin</w>you know, all the garbage with underscores and dollars</z><z id="t1449625202" t="darwin https://dl.dropboxusercontent.com/u/559047/cljs-devtools-scope.png"><y>#</y><d>2015-12-09</d><h>01:40</h><w>darwin</w><a href="https://dl.dropboxusercontent.com/u/559047/cljs-devtools-scope.png" target="_blank">https://dl.dropboxusercontent.com/u/559047/cljs-devtools-scope.png</a></z><z id="t1449625203" t="shaunlebron yeah, that’s a good idea, I guess they all end with #"><y>#</y><d>2015-12-09</d><h>01:40</h><w>shaunlebron</w>yeah, that’s a good idea, I guess they all end with <code>#</code></z><z id="t1449625226" t="darwin not really, pounds are cljs names, they get mangled into underscores"><y>#</y><d>2015-12-09</d><h>01:40</h><w>darwin</w>not really, pounds are cljs names, they get mangled into underscores</z><z id="t1449625230" t="darwin double underscores"><y>#</y><d>2015-12-09</d><h>01:40</h><w>darwin</w>double underscores</z><z id="t1449625234" t="shaunlebron ah"><y>#</y><d>2015-12-09</d><h>01:40</h><w>shaunlebron</w>ah</z><z id="t1449625274" t="darwin there will have to be some heuristics, but is is proabably doable"><y>#</y><d>2015-12-09</d><h>01:41</h><w>darwin</w>there will have to be some heuristics, but is is proabably doable</z><z id="t1449625296" t="darwin things with underscore+number are also candidates"><y>#</y><d>2015-12-09</d><h>01:41</h><w>darwin</w>things with underscore+number are also candidates</z><z id="t1449625317" t="darwin this will be just sorting and maybe applying some opacity, so no big deal"><y>#</y><d>2015-12-09</d><h>01:41</h><w>darwin</w>this will be just sorting and maybe applying some opacity, so no big deal</z><z id="t1449625340" t="darwin there can be some mistakes"><y>#</y><d>2015-12-09</d><h>01:42</h><w>darwin</w>there can be some mistakes</z><z id="t1449625370" t="shaunlebron right"><y>#</y><d>2015-12-09</d><h>01:42</h><w>shaunlebron</w>right</z><z id="t1449625384" t="darwin would be nice to get auto-completions from REPL, but that looks like a bigger project"><y>#</y><d>2015-12-09</d><h>01:43</h><w>darwin</w>would be nice to get auto-completions from REPL, but that looks like a bigger project</z><z id="t1449625406" t="darwin figwheel does not offer this in its REPL"><y>#</y><d>2015-12-09</d><h>01:43</h><w>darwin</w>figwheel does not offer this in its REPL</z><z id="t1449625474" t="darwin for this proof-of-concept I want to just talk to figwheel, I don’t want to invest time into making it more general (nREPL compatible)"><y>#</y><d>2015-12-09</d><h>01:44</h><w>darwin</w>for this proof-of-concept I want to just talk to figwheel, I don’t want to invest time into making it more general (nREPL compatible)</z><z id="t1449625539" t="shaunlebron I’m looking at the first example https://github.com/binaryage/cljs-devtools/wiki/Figwheel-REPL-plugin"><y>#</y><d>2015-12-09</d><h>01:45</h><w>shaunlebron</w>I’m looking at the first example <a href="https://github.com/binaryage/cljs-devtools/wiki/Figwheel-REPL-plugin" target="_blank">https://github.com/binaryage/cljs-devtools/wiki/Figwheel-REPL-plugin</a></z><z id="t1449625585" t="shaunlebron does evaluating an expression in figwheel’s repl usually result in it being logged to chrome’s devconsole?"><y>#</y><d>2015-12-09</d><h>01:46</h><w>shaunlebron</w>does evaluating an expression in figwheel’s repl usually result in it being logged to chrome’s devconsole?</z><z id="t1449625603" t="shaunlebron or is this leveraging something new in figwheel"><y>#</y><d>2015-12-09</d><h>01:46</h><w>shaunlebron</w>or is this leveraging something new in figwheel</z><z id="t1449625659" t="shaunlebron i think I’m missing something here with how the two are interacting"><y>#</y><d>2015-12-09</d><h>01:47</h><w>shaunlebron</w>i think I’m missing something here with how the two are interacting</z><z id="t1449625725" t="darwin normal scenario: you type someting into REPL, figwheel wraps it into (pr-str (your-code)), figwheel compiles it from cljs into js,, then sends it into chrome, there it gets exectuted as javascript, result is string, which gets delivered back to figwheel repl where it gets printed"><y>#</y><d>2015-12-09</d><h>01:48</h><w>darwin</w>normal scenario: you type someting into REPL, figwheel wraps it into (pr-str (your-code)), figwheel compiles it from cljs into js,, then sends it into chrome, there it gets exectuted as javascript, result is string, which gets delivered back to figwheel repl where it gets printed</z><z id="t1449625759" t="darwin this plugin, removes pr-str wrapping and prints the javascript result into devtools console as well"><y>#</y><d>2015-12-09</d><h>01:49</h><w>darwin</w>this plugin, removes pr-str wrapping and prints the javascript result into devtools console as well</z><z id="t1449625787" t="darwin cljs-devtools kicks in and shows cljs-related results in a friendly way"><y>#</y><d>2015-12-09</d><h>01:49</h><w>darwin</w>cljs-devtools kicks in and shows cljs-related results in a friendly way</z><z id="t1449625862" t="darwin so this is just one way REPL -&gt; devtools, with my devtools fork, I will close the loop: you type something into devtools console, it gets sent to figwheel server, which treats it as it was entered in REPL directly, rest it normal scenario"><y>#</y><d>2015-12-09</d><h>01:51</h><w>darwin</w>so this is just one way REPL -&gt; devtools, with my devtools fork, I will close the loop: you type something into devtools console, it gets sent to figwheel server, which treats it as it was entered in REPL directly, rest it normal scenario</z><z id="t1449625928" t="shaunlebron oh wow"><y>#</y><d>2015-12-09</d><h>01:52</h><w>shaunlebron</w>oh wow</z><z id="t1449625928" t="darwin parinfer will help with that devtools clojure prompt, so great, like in planck"><y>#</y><d>2015-12-09</d><h>01:52</h><w>darwin</w>parinfer will help with that devtools clojure prompt, so great, like in planck</z><z id="t1449626014" t="shaunlebron ok, I think I understand now. figwheel is the compiler, and cljs-devtools is adding a normal view over its values"><y>#</y><d>2015-12-09</d><h>01:53</h><w>shaunlebron</w>ok, I think I understand now.  figwheel is the compiler, and cljs-devtools is adding a normal view over its values</z><z id="t1449626047" t="darwin right"><y>#</y><d>2015-12-09</d><h>01:54</h><w>darwin</w>right</z><z id="t1449626057" t="shaunlebron and soon we won’t even have to look at figwheel’s terminal, since you’ll allow normal input straight from the devconsole"><y>#</y><d>2015-12-09</d><h>01:54</h><w>shaunlebron</w>and soon we won’t even have to look at figwheel’s terminal, since you’ll allow normal input straight from the devconsole</z><z id="t1449626066" t="darwin exactly"><y>#</y><d>2015-12-09</d><h>01:54</h><w>darwin</w>exactly</z><z id="t1449626083" t="darwin and we can integrate more stuff into that devtools window"><y>#</y><d>2015-12-09</d><h>01:54</h><w>darwin</w>and we can integrate more stuff into that devtools window</z><z id="t1449626089" t="shaunlebron so the repl experience will be what JS developers already do in the console"><y>#</y><d>2015-12-09</d><h>01:54</h><w>shaunlebron</w>so the repl experience will be what JS developers already do in the console</z><z id="t1449626095" t="darwin there can be test runner, there can be figwheel hud, or even cuttle"><y>#</y><d>2015-12-09</d><h>01:54</h><w>darwin</w>there can be test runner, there can be figwheel hud, or even cuttle</z><z id="t1449626110" t="shaunlebron yeah, this is going to be a big UX win for cljs"><y>#</y><d>2015-12-09</d><h>01:55</h><w>shaunlebron</w>yeah, this is going to be a big UX win for cljs</z><z id="t1449626158" t="darwin could be really good improvement"><y>#</y><d>2015-12-09</d><h>01:55</h><w>darwin</w>could be really good improvement</z><z id="t1449626198" t="shaunlebron wow, cljs test results, figwheel hud, and build options straight from chrome devtools"><y>#</y><d>2015-12-09</d><h>01:56</h><w>shaunlebron</w>wow, cljs test results, figwheel hud, and build options straight from chrome devtools</z><z id="t1449626202" t="darwin I want it for my own dev workflow, iTerm2 + figwheel repl is not bad, but I’m staring on devtools most of the time"><y>#</y><d>2015-12-09</d><h>01:56</h><w>darwin</w>I want it for my own dev workflow, iTerm2 + figwheel repl is not bad, but I’m staring on devtools most of the time</z><z id="t1449626210" t="darwin so why not having it integrated together"><y>#</y><d>2015-12-09</d><h>01:56</h><w>darwin</w>so why not having it integrated together</z><z id="t1449626230" t="shaunlebron yeah"><y>#</y><d>2015-12-09</d><h>01:57</h><w>shaunlebron</w>yeah</z><z id="t1449626271" t="shaunlebron i don’t know much about react and redux devtools, but I think they’re tightly integrated like that"><y>#</y><d>2015-12-09</d><h>01:57</h><w>shaunlebron</w>i don’t know much about react and redux devtools, but I think they’re tightly integrated like that</z><z id="t1449626298" t="darwin and nice part is that most of this can be implemented in cljs, it is not a big problem to combine devtools javascript code and our custom cljs pieces"><y>#</y><d>2015-12-09</d><h>01:58</h><w>darwin</w>and nice part is that most of this can be implemented in cljs, it is not a big problem to combine devtools javascript code and our custom cljs pieces</z><z id="t1449626334" t="darwin yes, react devtools is actually a devtools extension, not a fork, they use extension points provided by devtools guys"><y>#</y><d>2015-12-09</d><h>01:58</h><w>darwin</w>yes, react devtools is actually a devtools extension, not a fork, they use extension points provided by devtools guys</z><z id="t1449626348" t="darwin mostly adding new panels into the UI"><y>#</y><d>2015-12-09</d><h>01:59</h><w>darwin</w>mostly adding new panels into the UI</z><z id="t1449626373" t="shaunlebron so you’re forking"><y>#</y><d>2015-12-09</d><h>01:59</h><w>shaunlebron</w>so you’re forking</z><z id="t1449626379" t="darwin recently I realized I don’t want to wait for them"><y>#</y><d>2015-12-09</d><h>01:59</h><w>darwin</w>recently I realized I don’t want to wait for them</z><z id="t1449626432" t="darwin I can package whole thing as a chrome extension (which will include my fork), so people can have easy path for consuming it"><y>#</y><d>2015-12-09</d><h>02:00</h><w>darwin</w>I can package whole thing as a chrome extension (which will include my fork), so people can have easy path for consuming it</z><z id="t1449626465" t="darwin but you could also run a local server with the fork, devtools are just a SPA, communicating with chrome using websockets"><y>#</y><d>2015-12-09</d><h>02:01</h><w>darwin</w>but you could also run a local server with the fork, devtools are just a SPA, communicating with chrome using websockets</z><z id="t1449626508" t="darwin the only drawback will be keeping the fork up-to-date with upstream changes, and fixing conflictsw"><y>#</y><d>2015-12-09</d><h>02:01</h><w>darwin</w>the only drawback will be keeping the fork up-to-date with upstream changes, and fixing conflictsw</z><z id="t1449626509" t="shaunlebron very cool"><y>#</y><d>2015-12-09</d><h>02:01</h><w>shaunlebron</w>very cool</z><z id="t1449626531" t="darwin I hope it won’t be so bad"><y>#</y><d>2015-12-09</d><h>02:02</h><w>darwin</w>I hope it won’t be so bad</z><z id="t1449626549" t="shaunlebron do you have a fork on github?"><y>#</y><d>2015-12-09</d><h>02:02</h><w>shaunlebron</w>do you have a fork on github?</z><z id="t1449626561" t="shaunlebron kinda wanna see what changes require the fork"><y>#</y><d>2015-12-09</d><h>02:02</h><w>shaunlebron</w>kinda wanna see what changes require the fork</z><z id="t1449626588" t="darwin will give you access, it is just a private repo at this point"><y>#</y><d>2015-12-09</d><h>02:03</h><w>darwin</w>will give you access, it is just a private repo at this point</z><z id="t1449626654" t="shaunlebron cool thanks"><y>#</y><d>2015-12-09</d><h>02:04</h><w>shaunlebron</w>cool thanks</z><z id="t1449626701" t="shaunlebron I’m kind of in awe that you integrated the codemirror stuff for parinfer straight into the console, with all the highlighting stuff"><y>#</y><d>2015-12-09</d><h>02:05</h><w>shaunlebron</w>I’m kind of in awe that you integrated the codemirror stuff for parinfer straight into the console, with all the highlighting stuff</z><z id="t1449626734" t="shaunlebron like wtf"><y>#</y><d>2015-12-09</d><h>02:05</h><w>shaunlebron</w>like wtf</z><z id="t1449626739" t="darwin [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : it wasn’t hard, devtools use codemirror for source code view already, and codemirror is beautifully designed"><y>#</y><d>2015-12-09</d><h>02:05</h><w>darwin</w><a>@shaunlebron</a>: it wasn’t hard, devtools use codemirror for source code view already, and codemirror is beautifully designed</z><z id="t1449626753" t="darwin and parinfer as well simple_smile"><y>#</y><d>2015-12-09</d><h>02:05</h><w>darwin</w>and parinfer as well <b>simple_smile</b></z><z id="t1449626763" t="shaunlebron you know I thought that about codemirror"><y>#</y><d>2015-12-09</d><h>02:06</h><w>shaunlebron</w>you know I thought that about codemirror</z><z id="t1449626772" t="shaunlebron idk about parinfer… haha"><y>#</y><d>2015-12-09</d><h>02:06</h><w>shaunlebron</w>idk about parinfer… haha</z><z id="t1449626795" t="shaunlebron I’ve never seen beautiful JS before reading codemirror’s source"><y>#</y><d>2015-12-09</d><h>02:06</h><w>shaunlebron</w>I’ve never seen beautiful JS before reading codemirror’s source</z><z id="t1449626873" t="shaunlebron but I did have to modify codemirror in one spot, with the +indenthack and some other places to allow visual selections to not disappear when losing focus (just for playback of the demos)"><y>#</y><d>2015-12-09</d><h>02:07</h><w>shaunlebron</w>but I did have to modify codemirror in one spot, with the <code>+indenthack</code> and some other places to allow visual selections to not disappear when losing focus (just for playback of the demos)</z><z id="t1449626895" t="darwin Marijn is/was a scheme guy simple_smile"><y>#</y><d>2015-12-09</d><h>02:08</h><w>darwin</w>Marijn is/was a scheme guy <b>simple_smile</b></z><z id="t1449626913" t="shaunlebron oh cool"><y>#</y><d>2015-12-09</d><h>02:08</h><w>shaunlebron</w>oh cool</z><z id="t1449627000" t="darwin it took me some time to realize that bracket matching has some parinfer-related tweaks"><y>#</y><d>2015-12-09</d><h>02:10</h><w>darwin</w>it took me some time to realize that bracket matching has some parinfer-related tweaks</z><z id="t1449627007" t="shaunlebron anyway, I think all the edits have to do with playback features that you won’t care about"><y>#</y><d>2015-12-09</d><h>02:10</h><w>shaunlebron</w>anyway, I think all the edits have to do with playback features that you won’t care about</z><z id="t1449627019" t="darwin you should pull that file out of codemirror directory, to make it more obvious"><y>#</y><d>2015-12-09</d><h>02:10</h><w>darwin</w>you should pull that file out of codemirror directory, to make it more obvious</z><z id="t1449627019" t="shaunlebron yeah, that too"><y>#</y><d>2015-12-09</d><h>02:10</h><w>shaunlebron</w>yeah, that too</z><z id="t1449627064" t="shaunlebron yeah, not a bad idea, I think I might’ve thought it had to be in that directory"><y>#</y><d>2015-12-09</d><h>02:11</h><w>shaunlebron</w>yeah, not a bad idea, I think I might’ve thought it had to be in that directory</z><z id="t1449627101" t="darwin ah, ok, I’m not sure"><y>#</y><d>2015-12-09</d><h>02:11</h><w>darwin</w>ah, ok, I’m not sure</z><z id="t1449627213" t="shaunlebron yeah, I never really intended for the codemirror stuff to be used external to this site demo since it was getting hacky in places"><y>#</y><d>2015-12-09</d><h>02:13</h><w>shaunlebron</w>yeah, I never really intended for the codemirror stuff to be used external to this site demo since it was getting hacky in places</z><z id="t1449627223" t="shaunlebron hence my surprise"><y>#</y><d>2015-12-09</d><h>02:13</h><w>shaunlebron</w>hence my surprise</z><z id="t1449627263" t="darwin sure, I understand, it was easier than expected, maybe I will bend it to my needs in the future, but it was a good starting point"><y>#</y><d>2015-12-09</d><h>02:14</h><w>darwin</w>sure, I understand, it was easier than expected, maybe I will bend it to my needs in the future, but it was a good starting point</z><z id="t1449627282" t="darwin btw. one discovery, &quot;Shift-Tab&quot; “indentLess” can be put into extraKeys"><y>#</y><d>2015-12-09</d><h>02:14</h><w>darwin</w>btw. one discovery, &quot;Shift-Tab&quot; “indentLess” can be put into extraKeys</z><z id="t1449627309" t="darwin you don’t have to alter global default keyMap"><y>#</y><d>2015-12-09</d><h>02:15</h><w>darwin</w>you don’t have to alter global default keyMap</z><z id="t1449627325" t="darwin but this is not really issue for your use case"><y>#</y><d>2015-12-09</d><h>02:15</h><w>darwin</w>but this is not really issue for your use case</z><z id="t1449627361" t="darwin I should isolate my CodeMirror interactions from devtools guys, we share one js/CodeMirror"><y>#</y><d>2015-12-09</d><h>02:16</h><w>darwin</w>I should isolate my CodeMirror interactions from devtools guys, we share one js/CodeMirror</z><z id="t1449627395" t="shaunlebron oh, nice"><y>#</y><d>2015-12-09</d><h>02:16</h><w>shaunlebron</w>oh, nice</z><z id="t1449627419" t="darwin maybe later we can extract independent parinfer+codemirror code, for other people to use"><y>#</y><d>2015-12-09</d><h>02:16</h><w>darwin</w>maybe later we can extract independent parinfer+codemirror code, for other people to use</z><z id="t1449627447" t="shaunlebron I think someone was working on a proper codemirror addon"><y>#</y><d>2015-12-09</d><h>02:17</h><w>shaunlebron</w>I think someone was working on a proper codemirror addon</z><z id="t1449627461" t="darwin not a big priority, this all is just proof-of-concept code, it can be ugly"><y>#</y><d>2015-12-09</d><h>02:17</h><w>darwin</w>not a big priority, this all is just proof-of-concept code, it can be ugly</z><z id="t1449627490" t="darwin I mean the parinfer integration on my side"><y>#</y><d>2015-12-09</d><h>02:18</h><w>darwin</w>I mean the parinfer integration on my side</z><z id="t1449627571" t="shaunlebron oh, [:attrs {:href &quot;/_/_/users/U0508R629&quot;}] said he might look at creating a proper codemirror addon, so you might be able to use that"><y>#</y><d>2015-12-09</d><h>02:19</h><w>shaunlebron</w>oh, <a>@hmadelaine</a> said he might look at creating a proper codemirror addon, so you might be able to use that</z><z id="t1449627638" t="darwin cool"><y>#</y><d>2015-12-09</d><h>02:20</h><w>darwin</w>cool</z><z id="t1449627665" t="shaunlebron alright, I gotta head out for the night"><y>#</y><d>2015-12-09</d><h>02:21</h><w>shaunlebron</w>alright, I gotta head out for the night</z><z id="t1449627694" t="shaunlebron but yeah, great stuff, excited to see cljs tooling move into the devtools space"><y>#</y><d>2015-12-09</d><h>02:21</h><w>shaunlebron</w>but yeah, great stuff, excited to see cljs tooling move into the devtools space</z><z id="t1449627721" t="shaunlebron like i said, it’ll be a huge ux win to have a default-feel for cljs in browser dev"><y>#</y><d>2015-12-09</d><h>02:22</h><w>shaunlebron</w>like i said, it’ll be a huge ux win to have a default-feel for cljs in browser dev</z><z id="t1449627789" t="darwin cool, thanks for all your hard work on parinfer and other projects"><y>#</y><d>2015-12-09</d><h>02:23</h><w>darwin</w>cool, thanks for all your hard work on parinfer and other projects</z><z id="t1449627793" t="darwin talk later"><y>#</y><d>2015-12-09</d><h>02:23</h><w>darwin</w>talk later</z><z id="t1449627804" t="shaunlebron you too man, later"><y>#</y><d>2015-12-09</d><h>02:23</h><w>shaunlebron</w>you too man, later</z></g><g id="s1"><z id="t1449640313" t="dongcarl [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : spent a bunch of time looking at this line https://github.com/shaunlebron/parinfer/blob/master/lib/src/parinfer/reader.cljc#L95"><y>#</y><d>2015-12-09</d><h>05:51</h><w>dongcarl</w><a>@shaunlebron</a>: spent a bunch of time looking at this line <a href="https://github.com/shaunlebron/parinfer/blob/master/lib/src/parinfer/reader.cljc#L95" target="_blank">https://github.com/shaunlebron/parinfer/blob/master/lib/src/parinfer/reader.cljc#L95</a></z><z id="t1449640340" t="dongcarl [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : when you have time, can you explain why you’d call `(select-keys state [:x-pos :ch])’?"><y>#</y><d>2015-12-09</d><h>05:52</h><w>dongcarl</w><a>@shaunlebron</a>: when you have time, can you explain why you’d call `(select-keys state [:x-pos :ch])’?</z><z id="t1449640364" t="dongcarl state doesn’t have keys :x-pos and :ch"><y>#</y><d>2015-12-09</d><h>05:52</h><w>dongcarl</w>state doesn’t have keys :x-pos and :ch</z><z id="t1449640502" t="shaunlebron hmm"><y>#</y><d>2015-12-09</d><h>05:55</h><w>shaunlebron</w>hmm</z><z id="t1449640591" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0G4E89JP&quot;}] the whole indent mode “state” is passed to push-char as the first argument"><y>#</y><d>2015-12-09</d><h>05:56</h><w>shaunlebron</w><a>@dongcarl</a> the whole indent mode “state” is passed to <code>push-char</code> as the first argument</z><z id="t1449640638" t="dongcarl right"><y>#</y><d>2015-12-09</d><h>05:57</h><w>dongcarl</w>right</z><z id="t1449640646" t="dongcarl which is then passed to push-char*"><y>#</y><d>2015-12-09</d><h>05:57</h><w>dongcarl</w>which is then passed to push-char*</z><z id="t1449640668" t="shaunlebron right, so x-pos is the column number, and ch is the current character we are on"><y>#</y><d>2015-12-09</d><h>05:57</h><w>shaunlebron</w>right, so <code>x-pos</code> is the column number, and <code>ch</code> is the current character we are on</z><z id="t1449640680" t="shaunlebron these are set at process-char"><y>#</y><d>2015-12-09</d><h>05:58</h><w>shaunlebron</w>these are set at <code>process-char</code></z><z id="t1449640694" t="shaunlebron https://github.com/shaunlebron/parinfer/blob/a7e0dba4e5389795eed4133a15e3f541f0a1b65d/lib/src/parinfer/indent_mode.cljc#L286"><y>#</y><d>2015-12-09</d><h>05:58</h><w>shaunlebron</w><a href="https://github.com/shaunlebron/parinfer/blob/a7e0dba4e5389795eed4133a15e3f541f0a1b65d/lib/src/parinfer/indent_mode.cljc#L286" target="_blank">https://github.com/shaunlebron/parinfer/blob/a7e0dba4e5389795eed4133a15e3f541f0a1b65d/lib/src/parinfer/indent_mode.cljc#L286</a></z><z id="t1449640731" t="dongcarl okay, so you added things onto the map that was originally initial-state?"><y>#</y><d>2015-12-09</d><h>05:58</h><w>dongcarl</w>okay, so you added things onto the map that was originally initial-state?</z><z id="t1449640735" t="shaunlebron select-keys just creates a new map from the given keys, a subset"><y>#</y><d>2015-12-09</d><h>05:58</h><w>shaunlebron</w><code>select-keys</code> just creates a new map from the given keys, a subset</z><z id="t1449640777" t="shaunlebron yes, the process functions assoc the given state with new information"><y>#</y><d>2015-12-09</d><h>05:59</h><w>shaunlebron</w>yes, the process functions assoc the given state with new information</z><z id="t1449640799" t="dongcarl okay so let me get this right"><y>#</y><d>2015-12-09</d><h>05:59</h><w>dongcarl</w>okay so let me get this right</z><z id="t1449640838" t="dongcarl there are :x-pos :ch :indent-delta keys in the large state"><y>#</y><d>2015-12-09</d><h>06:00</h><w>dongcarl</w>there are <code>:x-pos</code> <code>:ch</code> <code>:indent-delta</code> keys in the large state</z><z id="t1449640862" t="dongcarl but those keys are also in each element of the :stack key in the large state?"><y>#</y><d>2015-12-09</d><h>06:01</h><w>dongcarl</w>but those keys are also in each element of the <code>:stack</code> key in the large state?</z><z id="t1449640890" t="dongcarl exists, I mean, values aren’t the same obviously"><y>#</y><d>2015-12-09</d><h>06:01</h><w>dongcarl</w>exists, I mean, values aren’t the same obviously</z><z id="t1449640918" t="dongcarl and the :x-pos :ch :indent-delta keys were added to the large state in process functions"><y>#</y><d>2015-12-09</d><h>06:01</h><w>dongcarl</w>and the <code>:x-pos</code> <code>:ch</code> <code>:indent-delta</code> keys were added to the large state in process functions</z><z id="t1449640925" t="shaunlebron so the large state has a lot of things, from initial-state"><y>#</y><d>2015-12-09</d><h>06:02</h><w>shaunlebron</w>so the large state has a lot of things, from <code>initial-state</code></z><z id="t1449640949" t="shaunlebron the stack needs to pull information from the current character to track them"><y>#</y><d>2015-12-09</d><h>06:02</h><w>shaunlebron</w>the stack needs to pull information from the current character to track them</z><z id="t1449640975" t="shaunlebron so pushing a character involves pushing some info about that character (`x-pos`, ch and sometimes indent-delta )"><y>#</y><d>2015-12-09</d><h>06:02</h><w>shaunlebron</w>so pushing a character involves pushing some info about that character (`x-pos`, <code>ch</code> and sometimes <code>indent-delta</code>)</z><z id="t1449641014" t="dongcarl okay. Was what I said above correct though? Are there misconceptions?"><y>#</y><d>2015-12-09</d><h>06:03</h><w>dongcarl</w>okay. Was what I said above correct though? Are there misconceptions?</z><z id="t1449641065" t="shaunlebron yes"><y>#</y><d>2015-12-09</d><h>06:04</h><w>shaunlebron</w>yes</z><z id="t1449641068" t="shaunlebron correct"><y>#</y><d>2015-12-09</d><h>06:04</h><w>shaunlebron</w>correct</z><z id="t1449641095" t="dongcarl Awesome. Thanks for the help simple_smile"><y>#</y><d>2015-12-09</d><h>06:04</h><w>dongcarl</w>Awesome. Thanks for the help <b>simple_smile</b></z><z id="t1449641117" t="dongcarl shaunlebron: also I’ll have the repo set up sometime so you can keep your list updated"><y>#</y><d>2015-12-09</d><h>06:05</h><w>dongcarl</w>shaunlebron: also I’ll have the repo set up sometime so you can keep your list updated</z><z id="t1449641171" t="shaunlebron cool, feel free to call me on goog hangout for questions like this"><y>#</y><d>2015-12-09</d><h>06:06</h><w>shaunlebron</w>cool, feel free to call me on goog hangout for questions like this</z><z id="t1449641199" t="shaunlebron though here on slack is fine too for public record"><y>#</y><d>2015-12-09</d><h>06:06</h><w>shaunlebron</w>though here on slack is fine too for public record</z><z id="t1449641233" t="shaunlebron i usually find communication on these kinds of things easier through voice though"><y>#</y><d>2015-12-09</d><h>06:07</h><w>shaunlebron</w>i usually find communication on these kinds of things easier through voice though</z><z id="t1449641267" t="dongcarl shaunlebron: one more quick question"><y>#</y><d>2015-12-09</d><h>06:07</h><w>dongcarl</w>shaunlebron: one more quick question</z><z id="t1449641275" t="dongcarl is conj the same as merge?"><y>#</y><d>2015-12-09</d><h>06:07</h><w>dongcarl</w>is conj the same as merge?</z><z id="t1449641295" t="shaunlebron it can be, that’s kind of confusing"><y>#</y><d>2015-12-09</d><h>06:08</h><w>shaunlebron</w>it can be, that’s kind of confusing</z><z id="t1449641310" t="shaunlebron conj means to add an element to a collection"><y>#</y><d>2015-12-09</d><h>06:08</h><w>shaunlebron</w>conj means to add an element to a collection</z><z id="t1449641319" t="shaunlebron merge merges two collections"><y>#</y><d>2015-12-09</d><h>06:08</h><w>shaunlebron</w>merge merges two collections</z><z id="t1449641334" t="shaunlebron in what context"><y>#</y><d>2015-12-09</d><h>06:08</h><w>shaunlebron</w>in what context</z><z id="t1449641342" t="dongcarl https://github.com/shaunlebron/parinfer/blob/master/lib/src/parinfer/reader.cljc#L95"><y>#</y><d>2015-12-09</d><h>06:09</h><w>dongcarl</w><a href="https://github.com/shaunlebron/parinfer/blob/master/lib/src/parinfer/reader.cljc#L95" target="_blank">https://github.com/shaunlebron/parinfer/blob/master/lib/src/parinfer/reader.cljc#L95</a></z><z id="t1449641345" t="dongcarl same line"><y>#</y><d>2015-12-09</d><h>06:09</h><w>dongcarl</w>same line</z><z id="t1449641387" t="shaunlebron [ {} {} {} {} ]"><y>#</y><d>2015-12-09</d><h>06:09</h><w>shaunlebron</w><code>[ {}   {}   {}   {}  ]</code></z><z id="t1449641397" t="shaunlebron so the stack is just a vector of maps"><y>#</y><d>2015-12-09</d><h>06:09</h><w>shaunlebron</w>so the stack is just a vector of maps</z><z id="t1449641402" t="dongcarl right"><y>#</y><d>2015-12-09</d><h>06:10</h><w>dongcarl</w>right</z><z id="t1449641412" t="shaunlebron (conj [] {})"><y>#</y><d>2015-12-09</d><h>06:10</h><w>shaunlebron</w><code>(conj []  {})</code></z><z id="t1449641423" t="shaunlebron =&gt; [{}]"><y>#</y><d>2015-12-09</d><h>06:10</h><w>shaunlebron</w>=&gt; <code>[{}]</code></z><z id="t1449641440" t="dongcarl okay and it puts it at the front?"><y>#</y><d>2015-12-09</d><h>06:10</h><w>dongcarl</w>okay and it puts it at the front?</z><z id="t1449641462" t="shaunlebron conj chooses the operation most efficient for the collection type"><y>#</y><d>2015-12-09</d><h>06:11</h><w>shaunlebron</w><code>conj</code> chooses the operation most efficient for the collection type</z><z id="t1449641467" t="shaunlebron for vectors it is added to the end"><y>#</y><d>2015-12-09</d><h>06:11</h><w>shaunlebron</w>for vectors it is added to the end</z><z id="t1449641479" t="dongcarl okay does it matter for our case if it’s at the front or the back?"><y>#</y><d>2015-12-09</d><h>06:11</h><w>dongcarl</w>okay does it matter for our case if it’s at the front or the back?</z><z id="t1449641508" t="shaunlebron the stack is a vector, so conj adds to the end, and pops from the end"><y>#</y><d>2015-12-09</d><h>06:11</h><w>shaunlebron</w>the stack is a vector, so conj adds to the end, and pops from the end</z><z id="t1449641527" t="shaunlebron (conj [a] b) =&gt; [a b]"><y>#</y><d>2015-12-09</d><h>06:12</h><w>shaunlebron</w><code>(conj [a] b)</code> =&gt; <code>[a b]</code></z><z id="t1449641539" t="shaunlebron (pop [a b]) =&gt; [a]"><y>#</y><d>2015-12-09</d><h>06:12</h><w>shaunlebron</w><code>(pop [a b])</code> =&gt; <code>[a]</code></z><z id="t1449641563" t="dongcarl I thought you said it pops from the end?"><y>#</y><d>2015-12-09</d><h>06:12</h><w>dongcarl</w>I thought you said it pops from the end?</z><z id="t1449641579" t="shaunlebron yeah"><y>#</y><d>2015-12-09</d><h>06:12</h><w>shaunlebron</w>yeah</z><z id="t1449641587" t="shaunlebron does the example contradict that"><y>#</y><d>2015-12-09</d><h>06:13</h><w>shaunlebron</w>does the example contradict that</z><z id="t1449641596" t="shaunlebron oh"><y>#</y><d>2015-12-09</d><h>06:13</h><w>shaunlebron</w>oh</z><z id="t1449641604" t="shaunlebron (peek [a b]) =&gt; b"><y>#</y><d>2015-12-09</d><h>06:13</h><w>shaunlebron</w><code>(peek [a b])</code> =&gt; <code>b</code></z><z id="t1449641606" t="dongcarl ah! I see!"><y>#</y><d>2015-12-09</d><h>06:13</h><w>dongcarl</w>ah! I see!</z><z id="t1449641620" t="shaunlebron yeah, pop returns the new stack"><y>#</y><d>2015-12-09</d><h>06:13</h><w>shaunlebron</w>yeah, <code>pop</code> returns the new stack</z><z id="t1449641640" t="dongcarl awesome thanks!"><y>#</y><d>2015-12-09</d><h>06:14</h><w>dongcarl</w>awesome thanks!</z><z id="t1449641659" t="shaunlebron yeah, I hope the push-char* makes sense"><y>#</y><d>2015-12-09</d><h>06:14</h><w>shaunlebron</w>yeah, I hope the <code>push-char*</code> makes sense</z><z id="t1449641686" t="shaunlebron it’s reacting to different characters in different ways, hence the different defmethod s"><y>#</y><d>2015-12-09</d><h>06:14</h><w>shaunlebron</w>it’s reacting to different characters in different ways, hence the different <code>defmethod</code>s</z><z id="t1449641699" t="dongcarl yeah clojure provides some powerful syntax"><y>#</y><d>2015-12-09</d><h>06:14</h><w>dongcarl</w>yeah clojure provides some powerful syntax</z><z id="t1449641701" t="shaunlebron anything returned from the push-char* is merged back into the state"><y>#</y><d>2015-12-09</d><h>06:15</h><w>shaunlebron</w>anything returned from the <code>push-char*</code> is merged back into the state</z><z id="t1449641718" t="shaunlebron that’s what push-char is essentially doing, without the asterisk"><y>#</y><d>2015-12-09</d><h>06:15</h><w>shaunlebron</w>that’s what <code>push-char</code> is essentially doing, without the asterisk</z><z id="t1449641740" t="dongcarl awesome awesome"><y>#</y><d>2015-12-09</d><h>06:15</h><w>dongcarl</w>awesome awesome</z><z id="t1449641792" t="shaunlebron thanks again for playing with this simple_smile"><y>#</y><d>2015-12-09</d><h>06:16</h><w>shaunlebron</w>thanks again for playing with this <b>simple_smile</b></z><z id="t1449641804" t="shaunlebron good luck on finals!"><y>#</y><d>2015-12-09</d><h>06:16</h><w>shaunlebron</w>good luck on finals!</z><z id="t1449648452" t="hmadelaine Hi [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] [:attrs {:href &quot;/_/_/users/U08E3BBST&quot;}] ! I have read you conversation, it was very interesting. I begun to isolate code-mirror related code from Parinfer-site. There is two roadblocks at the moment : First, the codeMirror patch for +identhack . [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] , do you think it could be merged into CodeMirror.js directly ? The second is the question to extract the VCR from the editor. I have to dig a little deeper to better understand Parinfer and CodeMirror."><y>#</y><d>2015-12-09</d><h>08:07</h><w>hmadelaine</w>Hi <a>@shaunlebron</a> <a>@darwin</a> ! I have read you conversation, it was very interesting. I begun to isolate code-mirror related code from Parinfer-site. There is two roadblocks at the moment : First, the codeMirror patch for <code>+identhack</code>. <a>@shaunlebron</a>, do you think it could be merged into CodeMirror.js directly ?  The second is the question to extract the VCR from the editor. I have to dig a little deeper to better understand Parinfer and CodeMirror.</z><z id="t1449682104" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0508R629&quot;}] the +indenthack may be an unnecessary workaround"><y>#</y><d>2015-12-09</d><h>17:28</h><w>shaunlebron</w><a>@hmadelaine</a> the <code>+indenthack</code> may be an unnecessary workaround</z><z id="t1449682258" t="hmadelaine [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : OK, it should simplify the dependency on codemirror simple_smile"><y>#</y><d>2015-12-09</d><h>17:30</h><w>hmadelaine</w><a>@shaunlebron</a>: OK, it should simplify the dependency on codemirror <b>simple_smile</b></z><z id="t1449682271" t="shaunlebron sorry, I’m having to look back at it"><y>#</y><d>2015-12-09</d><h>17:31</h><w>shaunlebron</w>sorry, I’m having to look back at it</z><z id="t1449682286" t="shaunlebron it’s only necessary for paren-mode"><y>#</y><d>2015-12-09</d><h>17:31</h><w>shaunlebron</w>it’s only necessary for paren-mode</z><z id="t1449682311" t="shaunlebron so if you type character, it preserves the indentation of the line below if the typed character shifts an open-paren after it"><y>#</y><d>2015-12-09</d><h>17:31</h><w>shaunlebron</w>so if you type character, it preserves the indentation of the line below if the typed character shifts an open-paren after it</z><z id="t1449682395" t="shaunlebron (foo (bar baz)) "><y>#</y><d>2015-12-09</d><h>17:33</h><w>shaunlebron</w><pre>(foo (bar
       baz))
</pre></z><z id="t1449682408" t="shaunlebron (food (bar baz)) "><y>#</y><d>2015-12-09</d><h>17:33</h><w>shaunlebron</w><pre>(food (bar
        baz))
</pre></z><z id="t1449682431" t="shaunlebron so inserting the d will cause the second line to move forward one space to preserve the original relative indentation"><y>#</y><d>2015-12-09</d><h>17:33</h><w>shaunlebron</w>so inserting the <code>d</code> will cause the second line to move forward one space to preserve the original relative indentation</z><z id="t1449682491" t="shaunlebron but yeah, this is the use-case, but I can look at how codemirror batches changes, it drove me crazy for a little while. there may be another way"><y>#</y><d>2015-12-09</d><h>17:34</h><w>shaunlebron</w>but yeah, this is the use-case, but I can look at how codemirror batches changes, it drove me crazy for a little while.  there may be another way</z><z id="t1449682516" t="shaunlebron re: the vcr"><y>#</y><d>2015-12-09</d><h>17:35</h><w>shaunlebron</w>re: the vcr</z><z id="t1449682519" t="hmadelaine [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : thanks for the explanation"><y>#</y><d>2015-12-09</d><h>17:35</h><w>hmadelaine</w><a>@shaunlebron</a>: thanks for the explanation</z><z id="t1449682537" t="shaunlebron the vcr could be completely removed right?"><y>#</y><d>2015-12-09</d><h>17:35</h><w>shaunlebron</w>the vcr could be completely removed right?</z><z id="t1449682564" t="hmadelaine Yes at first look"><y>#</y><d>2015-12-09</d><h>17:36</h><w>hmadelaine</w>Yes at first look</z><z id="t1449682564" t="shaunlebron we only care about the editing, not recording"><y>#</y><d>2015-12-09</d><h>17:36</h><w>shaunlebron</w>we only care about the editing, not recording</z><z id="t1449682661" t="hmadelaine [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : I will do a first try tomorrow morning simple_smile"><y>#</y><d>2015-12-09</d><h>17:37</h><w>hmadelaine</w><a>@shaunlebron</a>:  I will do a first try tomorrow morning <b>simple_smile</b></z><z id="t1449682680" t="shaunlebron I think the only thing in editor.cljs that needs to be preserved is on-change and on-cursor-activity"><y>#</y><d>2015-12-09</d><h>17:38</h><w>shaunlebron</w>I think the only thing in <code>editor.cljs</code> that needs to be preserved is <code>on-change</code> and <code>on-cursor-activity</code></z><z id="t1449682710" t="hmadelaine [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : you do not edit this code on Parinfer-site ?"><y>#</y><d>2015-12-09</d><h>17:38</h><w>hmadelaine</w><a>@shaunlebron</a>: you do not edit this code on Parinfer-site ?</z><z id="t1449682754" t="shaunlebron sorry I don’t understand the question"><y>#</y><d>2015-12-09</d><h>17:39</h><w>shaunlebron</w>sorry I don’t understand the question</z><z id="t1449682770" t="hmadelaine [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : I will put a first draft on github. What would be a great name ? The hardest part simple_smile"><y>#</y><d>2015-12-09</d><h>17:39</h><w>hmadelaine</w><a>@shaunlebron</a>: I will put a first draft on github. What would be a great name ? The hardest part <b>simple_smile</b></z><z id="t1449682780" t="shaunlebron ha"><y>#</y><d>2015-12-09</d><h>17:39</h><w>shaunlebron</w>ha</z><z id="t1449682802" t="shaunlebron https://github.com/codemirror/CodeMirror/wiki/CodeMirror-addons"><y>#</y><d>2015-12-09</d><h>17:40</h><w>shaunlebron</w><a href="https://github.com/codemirror/CodeMirror/wiki/CodeMirror-addons" target="_blank">https://github.com/codemirror/CodeMirror/wiki/CodeMirror-addons</a></z><z id="t1449682817" t="shaunlebron codemirror-parinfer probably"><y>#</y><d>2015-12-09</d><h>17:40</h><w>shaunlebron</w>codemirror-parinfer probably</z><z id="t1449682833" t="shaunlebron judging from the existing addon names"><y>#</y><d>2015-12-09</d><h>17:40</h><w>shaunlebron</w>judging from the existing addon names</z><z id="t1449682859" t="hmadelaine Deal simple_smile"><y>#</y><d>2015-12-09</d><h>17:40</h><w>hmadelaine</w>Deal <b>simple_smile</b></z><z id="t1449682880" t="shaunlebron thanks!"><y>#</y><d>2015-12-09</d><h>17:41</h><w>shaunlebron</w>thanks!</z><z id="t1449682918" t="hmadelaine [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : Thanks to you !"><y>#</y><d>2015-12-09</d><h>17:41</h><w>hmadelaine</w><a>@shaunlebron</a>: Thanks to you !</z><z id="t1449703522" t="darwin got that repl thing working: https://dl.dropboxusercontent.com/u/559047/cljs-devtools-figwheel-repl-connection.png"><y>#</y><d>2015-12-09</d><h>23:25</h><w>darwin</w>got that repl thing working: <a href="https://dl.dropboxusercontent.com/u/559047/cljs-devtools-figwheel-repl-connection.png" target="_blank">https://dl.dropboxusercontent.com/u/559047/cljs-devtools-figwheel-repl-connection.png</a></z><z id="t1449703565" t="darwin everything was entered from devtools (with parinfer assitance), commands are simply echoed into figwheel REPL, [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] ^"><y>#</y><d>2015-12-09</d><h>23:26</h><w>darwin</w>everything was entered from devtools (with parinfer assitance), commands are simply echoed into figwheel REPL, <a>@shaunlebron</a> ^</z><z id="t1449721973" t="shaunlebron [:attrs {:href &quot;/_/_/users/U08E3BBST&quot;}] : oh dear, that’s neat"><y>#</y><d>2015-12-10</d><h>04:32</h><w>shaunlebron</w><a>@darwin</a>: oh dear, that’s neat</z><z id="t1449721995" t="shaunlebron bruce would be happy to see that"><y>#</y><d>2015-12-10</d><h>04:33</h><w>shaunlebron</w>bruce would be happy to see that</z><z id="t1449722034" t="shaunlebron using figwheel from devtools console would be a dream"><y>#</y><d>2015-12-10</d><h>04:33</h><w>shaunlebron</w>using figwheel from devtools console would be a dream</z><z id="t1449758340" t="hmadelaine [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : Hi ! I have extracted the code of Parinfer-Site that concerns CodeMirror. I did not amend anything for the moment. It seems to work : https://github.com/hiram-madelaine/codemirror-parinfer"><y>#</y><d>2015-12-10</d><h>14:39</h><w>hmadelaine</w><a>@shaunlebron</a>: Hi ! I have extracted the code of Parinfer-Site that concerns CodeMirror. I did not amend anything for the moment. It seems to work : <a href="https://github.com/hiram-madelaine/codemirror-parinfer" target="_blank">https://github.com/hiram-madelaine/codemirror-parinfer</a></z><z id="t1449764338" t="bhurlow Hey all! I’m working on a vim parinfer plugin: https://github.com/bhurlow/vim-parinfer"><y>#</y><d>2015-12-10</d><h>16:18</h><w>bhurlow</w>Hey all! I’m working on a vim parinfer plugin: <a href="https://github.com/bhurlow/vim-parinfer" target="_blank">https://github.com/bhurlow/vim-parinfer</a></z><z id="t1449765870" t="snoe [:attrs {:href &quot;/_/_/users/U0FHWANJK&quot;}] have you seen https://github.com/snoe/nvim-parinfer.js ?"><y>#</y><d>2015-12-10</d><h>16:44</h><w>snoe</w><a>@bhurlow</a> have you seen <a href="https://github.com/snoe/nvim-parinfer.js" target="_blank">https://github.com/snoe/nvim-parinfer.js</a>?</z><z id="t1449768379" t="bhurlow yep"><y>#</y><d>2015-12-10</d><h>17:26</h><w>bhurlow</w>yep</z><z id="t1449867576" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] [:attrs {:href &quot;/_/_/users/U0FHWANJK&quot;}] , I suppose the only difference between the nvim and vim implementations is the placement of logic in js vs viml"><y>#</y><d>2015-12-11</d><h>20:59</h><w>shaunlebron</w><a>@snoe</a> <a>@bhurlow</a>, I suppose the only difference between the nvim and vim implementations is the placement of logic in js vs viml</z><z id="t1449867622" t="shaunlebron but it seems like both can interface with Node well"><y>#</y><d>2015-12-11</d><h>21:00</h><w>shaunlebron</w>but it seems like both can interface with Node well</z><z id="t1449867639" t="shaunlebron and snoe has done great work with the diff part"><y>#</y><d>2015-12-11</d><h>21:00</h><w>shaunlebron</w>and snoe has done great work with the diff part</z><z id="t1449867744" t="shaunlebron I wonder if the projects could be merged somehow. I didn’t think something like this could be done in vim classic"><y>#</y><d>2015-12-11</d><h>21:02</h><w>shaunlebron</w>I wonder if the projects could be merged somehow.  I didn’t think something like this could be done in vim classic</z><z id="t1449869898" t="bhurlow [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] ’s approach is definitely a much richer implementation than mine. I’m not really using nvim as my standard editor and for some reason the nvim node-host seems incomplete to me. In general I like the idea of offloading as much logic as possible to the parinfer lib as viml can be rocky at times and js editors are probably the future"><y>#</y><d>2015-12-11</d><h>21:38</h><w>bhurlow</w><a>@shaunlebron</a> <a>@snoe</a>’s approach is definitely a much richer implementation than mine. I’m not really using nvim as my standard editor and for some reason the nvim node-host seems incomplete to me. In general I like the idea of offloading as much logic as possible to the parinfer lib as viml can be rocky at times and js editors are probably the future</z><z id="t1449869960" t="bhurlow That being said, the basic rpc approach that I’m working on in vim-parinfer is working really nicely as a general tool. I don’t even really need paredit or vim-sexp anymore"><y>#</y><d>2015-12-11</d><h>21:39</h><w>bhurlow</w>That being said, the basic rpc approach that I’m working on in vim-parinfer is working really nicely as a general tool. I don’t even really need paredit or vim-sexp anymore</z><z id="t1449870008" t="bhurlow I’ll take another look at [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] ’s lib and see if perhaps they could be adapted together or something"><y>#</y><d>2015-12-11</d><h>21:40</h><w>bhurlow</w>I’ll take another look at <a>@snoe</a>’s lib and see if perhaps they could be adapted together or something</z><z id="t1449870037" t="bhurlow just can’t kick the vim habit"><y>#</y><d>2015-12-11</d><h>21:40</h><w>bhurlow</w>just can’t kick the vim habit</z><z id="t1449870192" t="bhurlow I became interested in trying this after seeing: https://github.com/edpaget/parinfer-mode"><y>#</y><d>2015-12-11</d><h>21:43</h><w>bhurlow</w>I became interested in trying this after seeing: <a href="https://github.com/edpaget/parinfer-mode" target="_blank">https://github.com/edpaget/parinfer-mode</a></z><z id="t1449870859" t="shaunlebron snoe has more logic in cljs and is doing some diffing logic in it in order to pass the correct information to the parinfer lib"><y>#</y><d>2015-12-11</d><h>21:54</h><w>shaunlebron</w>snoe has more logic in cljs and is doing some diffing logic in it in order to pass the correct information to the parinfer lib</z><z id="t1449870877" t="shaunlebron but you’re both offloading to the parinfer lib in the same way"><y>#</y><d>2015-12-11</d><h>21:54</h><w>shaunlebron</w>but you’re both offloading to the parinfer lib in the same way</z><z id="t1449871004" t="shaunlebron i do like that snoe’s implementation is in cljs, and i like that bhurlow’s plugin works without requiring nvim"><y>#</y><d>2015-12-11</d><h>21:56</h><w>shaunlebron</w>i do like that snoe’s implementation is in cljs, and i like that bhurlow’s plugin works without requiring nvim</z><z id="t1449871013" t="snoe [:attrs {:href &quot;/_/_/users/U0FHWANJK&quot;}] you are very correct about the limitations of node-host, I&apos;ve been pushing more and more into viml lately."><y>#</y><d>2015-12-11</d><h>21:56</h><w>snoe</w><a>@bhurlow</a> you are very correct about the limitations of node-host, I&apos;ve been pushing more and more into viml lately.</z><z id="t1449871015" t="shaunlebron but yes, I can’t kick the vim habit either.."><y>#</y><d>2015-12-11</d><h>21:56</h><w>shaunlebron</w>but yes, I can’t kick the vim habit either..</z><z id="t1449871042" t="bhurlow I would use Atom if it could run in a terminal"><y>#</y><d>2015-12-11</d><h>21:57</h><w>bhurlow</w>I would use Atom if it could run in a terminal</z><z id="t1449871160" t="snoe as far as neovim vs vim though, I haven&apos;t noticed anything missing from neovim, it&apos;s quite stable and the switch was kind of seamless."><y>#</y><d>2015-12-11</d><h>21:59</h><w>snoe</w>as far as neovim vs vim though, I haven&apos;t noticed anything missing from neovim, it&apos;s quite stable and the switch was kind of seamless.</z><z id="t1449871180" t="bhurlow [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] : ok thats good to hear actually"><y>#</y><d>2015-12-11</d><h>21:59</h><w>bhurlow</w><a>@snoe</a>: ok thats good to hear actually</z><z id="t1449871200" t="bhurlow all regular vim scripts should work seamlessly with nvim yea?"><y>#</y><d>2015-12-11</d><h>22:00</h><w>bhurlow</w>all regular vim scripts should work seamlessly with nvim yea?</z><z id="t1449871219" t="snoe yeah my 12+ plugins all worked"><y>#</y><d>2015-12-11</d><h>22:00</h><w>snoe</w>yeah my 12+ plugins all worked</z><z id="t1449871340" t="shaunlebron I’m used to my macvim window"><y>#</y><d>2015-12-11</d><h>22:02</h><w>shaunlebron</w>I’m used to my macvim window</z><z id="t1449871356" t="shaunlebron never figured out how to get neovim to work with that"><y>#</y><d>2015-12-11</d><h>22:02</h><w>shaunlebron</w>never figured out how to get neovim to work with that</z><z id="t1449877376" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0508R629&quot;}] : nice! sorry I missed this yesterday"><y>#</y><d>2015-12-11</d><h>23:42</h><w>shaunlebron</w><a>@hmadelaine</a>: nice!  sorry I missed this yesterday</z><z id="t1449877380" t="shaunlebron adding this to the website now"><y>#</y><d>2015-12-11</d><h>23:43</h><w>shaunlebron</w>adding this to the website now</z><z id="t1449878437" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0G4E89JP&quot;}] : was wondering if you want to rename your repo to parinfer-elisp?"><y>#</y><d>2015-12-12</d><h>00:00</h><w>shaunlebron</w><a>@dongcarl</a>: was wondering if you want to rename your repo to parinfer-elisp?</z><z id="t1449878496" t="shaunlebron or something other than just parinfer. it would just help the consistency of the parinfer port list I’m typing up in the readme and site"><y>#</y><d>2015-12-12</d><h>00:01</h><w>shaunlebron</w>or something other than just parinfer.  it would just help the consistency of the parinfer port list I’m typing up in the readme and site</z><z id="t1449881031" t="shaunlebron https://twitter.com/shaunlebron/status/675475786816602112"><y>#</y><d>2015-12-12</d><h>00:43</h><w>shaunlebron</w><a href="https://twitter.com/shaunlebron/status/675475786816602112" target="_blank">https://twitter.com/shaunlebron/status/675475786816602112</a></z><z id="t1449881066" t="shaunlebron thanks everyone, just updated the lists again with all the activity I’m aware of"><y>#</y><d>2015-12-12</d><h>00:44</h><w>shaunlebron</w>thanks everyone, just updated the lists again with all the activity I’m aware of</z><z id="t1449908945" t="hmadelaine [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : I think I am going to need your help soon 😉 Have a good week end !"><y>#</y><d>2015-12-12</d><h>08:29</h><w>hmadelaine</w><a>@shaunlebron</a>: I think I am going to need your help soon <b>😉</b> Have a good week end !</z><z id="t1449964784" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0508R629&quot;}] , cool, let me know. I’ll be around"><y>#</y><d>2015-12-12</d><h>23:59</h><w>shaunlebron</w><a>@hmadelaine</a>, cool, let me know.  I’ll be around</z><z id="t1450174801" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0G4E89JP&quot;}] : this may affect your work on the elisp port: https://github.com/shaunlebron/parinfer/issues/66"><y>#</y><d>2015-12-15</d><h>10:20</h><w>shaunlebron</w><a>@dongcarl</a>: this may affect your work on the elisp port: <a href="https://github.com/shaunlebron/parinfer/issues/66" target="_blank">https://github.com/shaunlebron/parinfer/issues/66</a></z><z id="t1450281231" t="mfikes I’ve submitted Replete 1.2, with support for Parinfer, to Apple for review."><y>#</y><d>2015-12-16</d><h>15:53</h><w>mfikes</w>I’ve submitted Replete 1.2, with support for Parinfer, to Apple for review.</z><z id="t1450336188" t="shaunlebron [:attrs {:href &quot;/_/_/users/U04VDQDDY&quot;}] awesome, how was the beta feedback?"><y>#</y><d>2015-12-17</d><h>07:09</h><w>shaunlebron</w><a>@mfikes</a> awesome, how was the beta feedback?</z><z id="t1450357598" t="mfikes [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : no substantive Parinfer feedback. I think there were less than 20 beta testers. May find out more when it is generally available."><y>#</y><d>2015-12-17</d><h>13:06</h><w>mfikes</w> <a>@shaunlebron</a>: no substantive Parinfer feedback. I think there were less than 20 beta testers. May find out more when it is generally available.</z><z id="t1450404641" t="shaunlebron [:attrs {:href &quot;/_/_/users/U04VDQDDY&quot;}] i guess no complaints means no flaws ;)"><y>#</y><d>2015-12-18</d><h>02:10</h><w>shaunlebron</w><a>@mfikes</a> i guess no complaints means no flaws ;)</z><z id="t1450404700" t="shaunlebron seriously though, theres still a quote bug that is almost fixed. ill submit a PR when done"><y>#</y><d>2015-12-18</d><h>02:11</h><w>shaunlebron</w>seriously though, theres still a quote bug that is almost fixed. ill submit a PR when done</z><z id="t1450438757" t="mfikes [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : Cool. I took Replete out of review. Will hold off."><y>#</y><d>2015-12-18</d><h>11:39</h><w>mfikes</w><a>@shaunlebron</a>: Cool. I took Replete out of review. Will hold off.</z><z id="t1450481956" t="shaunlebron [:attrs {:href &quot;/_/_/users/U04VDQDDY&quot;}] oh sorry"><y>#</y><d>2015-12-18</d><h>23:39</h><w>shaunlebron</w>   <a>@mfikes</a> oh sorry</z><z id="t1450481969" t="shaunlebron didnt mean for you to hold off the release"><y>#</y><d>2015-12-18</d><h>23:39</h><w>shaunlebron</w>didnt mean for you to hold off the release</z><z id="t1450481991" t="shaunlebron its a small corner case bug"><y>#</y><d>2015-12-18</d><h>23:39</h><w>shaunlebron</w>its a small corner case bug</z><z id="t1450482026" t="shaunlebron wouldnt expect it to ruin the repl experience"><y>#</y><d>2015-12-18</d><h>23:40</h><w>shaunlebron</w>wouldnt expect it to ruin the repl experience</z><z id="t1450483671" t="mfikes [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : there&apos;s no rush to release. No prob. Apple&apos;s shutting down for a week anyway."><y>#</y><d>2015-12-19</d><h>00:07</h><w>mfikes</w><a>@shaunlebron</a>: there&apos;s no rush to release. No prob. Apple&apos;s shutting down for a week anyway.</z><z id="t1450499349" t="snoe I&apos;ve pushed a new version of nvim-parinfer with paren-mode support (finally)"><y>#</y><d>2015-12-19</d><h>04:29</h><w>snoe</w>I&apos;ve pushed a new version of nvim-parinfer with paren-mode support (finally)</z><z id="t1450503917" t="bhurlow [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] : sweet!"><y>#</y><d>2015-12-19</d><h>05:45</h><w>bhurlow</w><a>@snoe</a>: sweet!</z><z id="t1450504618" t="snoe [:attrs {:href &quot;/_/_/users/U0FHWANJK&quot;}] any thoughts on what a good mapping for the mode toggle could be?"><y>#</y><d>2015-12-19</d><h>05:56</h><w>snoe</w><a>@bhurlow</a> any thoughts on what a good mapping for the mode toggle could be?</z><z id="t1450506136" t="bhurlow for switching between paren mode and indent mode?"><y>#</y><d>2015-12-19</d><h>06:22</h><w>bhurlow</w>for switching between paren mode and indent mode?</z><z id="t1450506161" t="bhurlow &lt;leader&gt;( maybe?"><y>#</y><d>2015-12-19</d><h>06:22</h><w>bhurlow</w><code>&lt;leader&gt;(</code> maybe?</z><z id="t1450612697" t="dominicm [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] regarding a mapping, I think plugins that try not to map too much usually work out better. Especially when they start trying to mess with &lt;leader&gt; as that tends to be user-territory. No idea on other people, but just including a &quot;add this to your $VIMRC for a toggle&quot; tends to make me happy."><y>#</y><d>2015-12-20</d><h>11:58</h><w>dominicm</w><a>@snoe</a> regarding a mapping, I think plugins that try not to map too much usually work out better. Especially when they start trying to mess with <code>&lt;leader&gt;</code> as that tends to be user-territory.

No idea on other people, but just including a &quot;add this to your $VIMRC for a toggle&quot; tends to make me happy.</z><z id="t1450904751" t="shaunlebron just a heads up"><y>#</y><d>2015-12-23</d><h>21:05</h><w>shaunlebron</w>just a heads up</z><z id="t1450904780" t="shaunlebron the clojure implementation has been switched out with a pure JS implementation"><y>#</y><d>2015-12-23</d><h>21:06</h><w>shaunlebron</w>the clojure implementation has been switched out with a pure JS implementation</z><z id="t1450904782" t="shaunlebron https://github.com/shaunlebron/parinfer/tree/master/lib"><y>#</y><d>2015-12-23</d><h>21:06</h><w>shaunlebron</w><a href="https://github.com/shaunlebron/parinfer/tree/master/lib" target="_blank">https://github.com/shaunlebron/parinfer/tree/master/lib</a></z><z id="t1450904860" t="shaunlebron huge speed increases, no more indentModeChange"><y>#</y><d>2015-12-23</d><h>21:07</h><w>shaunlebron</w>huge speed increases, no more <code>indentModeChange</code></z><z id="t1450904871" t="shaunlebron much easier to port to emacs, etc"><y>#</y><d>2015-12-23</d><h>21:07</h><w>shaunlebron</w>much easier to port to emacs, etc</z><z id="t1450905961" t="mfikes [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : Cool. I don’t see it on Clojars… I suppose I’ll need to figure out a way to consume 1.1.0 from ClojureScript (probably :foreign-libs or somesuch)."><y>#</y><d>2015-12-23</d><h>21:26</h><w>mfikes</w><a>@shaunlebron</a>: Cool. I don’t see it on Clojars… I suppose I’ll need to figure out a way to consume 1.1.0 from ClojureScript (probably <code>:foreign-libs</code> or somesuch).</z><z id="t1450906571" t="shaunlebron [:attrs {:href &quot;/_/_/users/U04VDQDDY&quot;}] ill put together something for clojars tonight. thanks"><y>#</y><d>2015-12-23</d><h>21:36</h><w>shaunlebron</w><a>@mfikes</a> ill put together something for clojars tonight. thanks</z><z id="t1450906610" t="mfikes [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : Cool. Meanwhile it looks like it is just one parinfer.js file, really."><y>#</y><d>2015-12-23</d><h>21:36</h><w>mfikes</w><a>@shaunlebron</a>: Cool. Meanwhile it looks like it is just one <code>parinfer.js</code> file, really.</z><z id="t1450906730" t="snoe wow nice work, it would be interesting to read how cljs failed to be fast enough"><y>#</y><d>2015-12-23</d><h>21:38</h><w>snoe</w>wow nice work, it would be interesting to read how cljs failed to be fast enough</z><z id="t1450909320" t="shaunlebron [:attrs {:href &quot;/_/_/users/U04VDQDDY&quot;}] yeah just one file. hoping to make it easier to port"><y>#</y><d>2015-12-23</d><h>22:22</h><w>shaunlebron</w><a>@mfikes</a> yeah just one file. hoping to make it easier to port</z><z id="t1450909369" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] thanks. and yeah i didnt try to use transients or anything so that wouldve helped a lot"><y>#</y><d>2015-12-23</d><h>22:22</h><w>shaunlebron</w><a>@snoe</a> thanks. and yeah i didnt try to use transients or anything so that wouldve helped a lot</z><z id="t1450909469" t="mfikes [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : If you scroll to the bottom of this commit, you can see me using it https://github.com/mfikes/replete/commit/5c2c6d85f89420b9ce4a52c8d5cfeab8f0d5217f"><y>#</y><d>2015-12-23</d><h>22:24</h><w>mfikes</w><a>@shaunlebron</a>: If you scroll to the bottom of this commit, you can see me using it <a href="https://github.com/mfikes/replete/commit/5c2c6d85f89420b9ce4a52c8d5cfeab8f0d5217f" target="_blank">https://github.com/mfikes/replete/commit/5c2c6d85f89420b9ce4a52c8d5cfeab8f0d5217f</a></z><z id="t1450909473" t="shaunlebron just thought using imperative, mutable JS would squeeze out out every ms possible while making it directly translatable to other scripting langs"><y>#</y><d>2015-12-23</d><h>22:24</h><w>shaunlebron</w>just thought using imperative, mutable JS would squeeze out out every ms possible while making it directly translatable to other scripting langs</z><z id="t1450909556" t="shaunlebron it went from 2.5s to 100ms for a 2800 line file"><y>#</y><d>2015-12-23</d><h>22:25</h><w>shaunlebron</w>it went from 2.5s to 100ms for a 2800 line file</z><z id="t1450909556" t="mfikes One benefit of having it as a pure JavaScript lib is that consumers can use it pretty much immediately upon initialization, prior to ClojureScript itself even being loaded and initialized, which can take a little time."><y>#</y><d>2015-12-23</d><h>22:25</h><w>mfikes</w>One benefit of having it as a pure JavaScript lib is that consumers can use it pretty much immediately upon initialization, prior to ClojureScript itself even being loaded and initialized, which can take a little time.</z><z id="t1450909582" t="shaunlebron right"><y>#</y><d>2015-12-23</d><h>22:26</h><w>shaunlebron</w>right</z><z id="t1450909872" t="shaunlebron [:attrs {:href &quot;/_/_/users/U04VDQDDY&quot;}] cool, looked at the code."><y>#</y><d>2015-12-23</d><h>22:31</h><w>shaunlebron</w><a>@mfikes</a> cool, looked at the code.</z><z id="t1450909892" t="mfikes [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : It is my first time ever doing it, so feedback welcome. simple_smile"><y>#</y><d>2015-12-23</d><h>22:31</h><w>mfikes</w><a>@shaunlebron</a>: It is my first time ever doing it, so feedback welcome.  <b>simple_smile</b></z><z id="t1450909928" t="mfikes (I’ve never used a foreign lib before.)"><y>#</y><d>2015-12-23</d><h>22:32</h><w>mfikes</w>(I’ve never used a foreign lib before.)</z><z id="t1450909931" t="shaunlebron thought you might need some externs but im not seeing advanced optimizations. so nvm"><y>#</y><d>2015-12-23</d><h>22:32</h><w>shaunlebron</w>thought you might need some externs but im not seeing advanced optimizations. so nvm</z><z id="t1450909937" t="mfikes Right. simple_smile"><y>#</y><d>2015-12-23</d><h>22:32</h><w>mfikes</w>Right. <b>simple_smile</b></z><z id="t1450909941" t="mfikes :none baby"><y>#</y><d>2015-12-23</d><h>22:32</h><w>mfikes</w><code>:none</code> baby</z><z id="t1450909947" t="shaunlebron oh haha"><y>#</y><d>2015-12-23</d><h>22:32</h><w>shaunlebron</w>oh haha</z><z id="t1450909962" t="shaunlebron i always forget how to use foreign libs"><y>#</y><d>2015-12-23</d><h>22:32</h><w>shaunlebron</w>i always forget how to use foreign libs</z><z id="t1450909983" t="mfikes (It turns out that :none is fastest in terms of minimizing initialization latency, at least this panned out to be true for Planck.)"><y>#</y><d>2015-12-23</d><h>22:33</h><w>mfikes</w>(It turns out that <code>:none</code> is fastest in terms of minimizing initialization latency, at least this panned out to be true for Planck.)</z><z id="t1450909994" t="shaunlebron i wanna put together a cljsjs package since the original clj version is deprecated"><y>#</y><d>2015-12-23</d><h>22:33</h><w>shaunlebron</w>i wanna put together a cljsjs package since the original clj version is deprecated</z><z id="t1450910003" t="mfikes Also, with self-hosted ClojureScript, you really can’t do :advanced"><y>#</y><d>2015-12-23</d><h>22:33</h><w>mfikes</w>Also, with self-hosted ClojureScript, you really can’t do <code>:advanced</code></z><z id="t1450910009" t="shaunlebron oh i see"><y>#</y><d>2015-12-23</d><h>22:33</h><w>shaunlebron</w>oh i see</z><z id="t1450910017" t="mfikes :simple is the upper bound"><y>#</y><d>2015-12-23</d><h>22:33</h><w>mfikes</w><code>:simple</code> is the upper bound</z><z id="t1450910102" t="shaunlebron interesting"><y>#</y><d>2015-12-23</d><h>22:35</h><w>shaunlebron</w>interesting</z><z id="t1450910216" t="shaunlebron yeah ill try to get around to the cljsjs package later. spent too much time clojuring and interviewing. need to make some xmas gifts 😛"><y>#</y><d>2015-12-23</d><h>22:36</h><w>shaunlebron</w>yeah ill try to get around to the cljsjs package later. spent too much time clojuring and interviewing. need to make some xmas gifts <b>😛</b></z><z id="t1450918220" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] : hey, dennis heihoff just sent me an article on cljs optimization for a paredit tool if you’re curious https://rundis.github.io/blog/2015/clojurescript_performance_tuning.html"><y>#</y><d>2015-12-24</d><h>00:50</h><w>shaunlebron</w><a>@snoe</a>: hey, dennis heihoff just sent me an article on cljs optimization for a paredit tool if you’re curious <a href="https://rundis.github.io/blog/2015/clojurescript_performance_tuning.html" target="_blank">https://rundis.github.io/blog/2015/clojurescript_performance_tuning.html</a></z><z id="t1450948759" t="chrisoakman hi folks simple_smile"><y>#</y><d>2015-12-24</d><h>09:19</h><w>chrisoakman</w>hi folks <b>simple_smile</b></z><z id="t1450948781" t="chrisoakman I wrote a Parinfer implementation as a Python library: https://github.com/oakmac/parinfer.py"><y>#</y><d>2015-12-24</d><h>09:19</h><w>chrisoakman</w>I wrote a Parinfer implementation as a Python library: <a href="https://github.com/oakmac/parinfer.py" target="_blank">https://github.com/oakmac/parinfer.py</a></z><z id="t1450948798" t="chrisoakman this ought to help reach more editors / environments"><y>#</y><d>2015-12-24</d><h>09:19</h><w>chrisoakman</w>this ought to help reach more editors / environments</z><z id="t1450948819" t="chrisoakman will be adding this to the Sublime plugin soon"><y>#</y><d>2015-12-24</d><h>09:20</h><w>chrisoakman</w>will be adding this to the Sublime plugin soon</z><z id="t1450975639" t="shaunlebron awesome"><y>#</y><d>2015-12-24</d><h>16:47</h><w>shaunlebron</w>awesome</z><z id="t1450975655" t="shaunlebron added some more checks to test, seems to be working fine"><y>#</y><d>2015-12-24</d><h>16:47</h><w>shaunlebron</w>added some more checks to test, seems to be working fine</z><z id="t1450975725" t="shaunlebron it’s at least 10x slower than the JS implementation currently, I setup a python perf.py command for us to track this"><y>#</y><d>2015-12-24</d><h>16:48</h><w>shaunlebron</w>it’s at least 10x slower than the JS implementation currently, I setup a <code>python perf.py</code> command for us to track this</z><z id="t1450977408" t="snoe on the old cljs code I noticed significant lag when editing an edn file which had a vector of maps with string values like [{:key1 &quot;foo&quot; :key2 &quot;bar&quot;}{...}...] at about ~300 lines I was seeing ~100ms per call with the change api. [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] that might be a useful perf test too"><y>#</y><d>2015-12-24</d><h>17:16</h><w>snoe</w>on the old cljs code I noticed significant lag when editing an edn file which had a vector of maps with string values like <code>[{:key1 &quot;foo&quot; :key2 &quot;bar&quot;}{...}...]</code> at about ~300 lines I was seeing ~100ms  per call with the <code>change</code> api. <a>@shaunlebron</a> that might be a useful perf test too</z><z id="t1450977453" t="snoe I imagine it&apos;s due to quote handling being difficult"><y>#</y><d>2015-12-24</d><h>17:17</h><w>snoe</w>I imagine it&apos;s due to quote handling being difficult</z><z id="t1451013610" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] could you put together a test file?"><y>#</y><d>2015-12-25</d><h>03:20</h><w>shaunlebron</w><a>@snoe</a> could you put together a test file?</z><z id="t1451013618" t="shaunlebron thanks for reporting"><y>#</y><d>2015-12-25</d><h>03:20</h><w>shaunlebron</w>thanks for reporting</z><z id="t1451177478" t="shaunlebron current implementation works fine against this file, which follows your description I think: https://github.com/shaunlebron/parinfer/blob/master/lib/test/perf/long_map_with_strings"><y>#</y><d>2016-12-27</d><h>00:51</h><w>shaunlebron</w>current implementation works fine against this file, which follows your description I think: <a href="https://github.com/shaunlebron/parinfer/blob/master/lib/test/perf/long_map_with_strings" target="_blank">https://github.com/shaunlebron/parinfer/blob/master/lib/test/perf/long_map_with_strings</a></z><z id="t1451240923" t="bhurlow [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] the pure js implementation looks 💯"><y>#</y><d>2016-12-27</d><h>18:28</h><w>bhurlow</w><a>@shaunlebron</a> the pure js implementation looks <b>💯</b></z><z id="t1451243856" t="shaunlebron thanks bhurlow"><y>#</y><d>2016-12-27</d><h>19:17</h><w>shaunlebron</w>thanks bhurlow</z><z id="t1451243900" t="shaunlebron :) "><y>#</y><d>2016-12-27</d><h>19:18</h><w>shaunlebron</w>:) </z><z id="t1451243916" t="shaunlebron i wonder how fast viml is"><y>#</y><d>2016-12-27</d><h>19:18</h><w>shaunlebron</w>i wonder how fast viml is</z><z id="t1451244003" t="shaunlebron i removed the indentmodechange function because it was complex and only worked if the previous result was valid"><y>#</y><d>2016-12-27</d><h>19:20</h><w>shaunlebron</w>i removed the indentmodechange function because it was complex and only worked if the previous result was valid</z><z id="t1451244087" t="shaunlebron but i have new idea that will make api simpler without requiring complicated diff knowledge i think"><y>#</y><d>2016-12-27</d><h>19:21</h><w>shaunlebron</w>but i have new idea that will make api simpler without requiring complicated diff knowledge i think</z><z id="t1451244098" t="shaunlebron early thoughts here https://github.com/oakmac/sublime-text-parinfer/issues/23"><y>#</y><d>2016-12-27</d><h>19:21</h><w>shaunlebron</w>early thoughts here <a href="https://github.com/oakmac/sublime-text-parinfer/issues/23" target="_blank">https://github.com/oakmac/sublime-text-parinfer/issues/23</a></z><z id="t1452087520" t="shaunlebron just published parinfer 1.4.0 to npm"><y>#</y><d>2016-01-06</d><h>13:38</h><w>shaunlebron</w>just published parinfer 1.4.0 to npm</z><z id="t1452087584" t="shaunlebron 2x speed improvements"><y>#</y><d>2016-01-06</d><h>13:39</h><w>shaunlebron</w>2x speed improvements</z><z id="t1452087599" t="shaunlebron ~20ms to process 2800 lines"><y>#</y><d>2016-01-06</d><h>13:39</h><w>shaunlebron</w>~20ms to process 2800 lines</z><z id="t1452087654" t="shaunlebron mode functions now return changedLines if you don’t want to overwrite the whole buffer everytime"><y>#</y><d>2016-01-06</d><h>13:40</h><w>shaunlebron</w>mode functions now return <code>changedLines</code> if you don’t want to overwrite the whole buffer everytime</z><z id="t1452087684" t="shaunlebron and they also return an error object if you want to report the errors in the editor somewhere"><y>#</y><d>2016-01-06</d><h>13:41</h><w>shaunlebron</w>and they also return an <code>error</code> object if you want to report the errors in the editor somewhere</z><z id="t1452087787" t="shaunlebron code-wise, I did a lot of rewriting so it’s easier to compartmentalize what it’s doing, and it’s about 200 lines shorter"><y>#</y><d>2016-01-06</d><h>13:43</h><w>shaunlebron</w>code-wise, I did a lot of rewriting so it’s easier to compartmentalize what it’s doing, and it’s about 200 lines shorter</z><z id="t1452087828" t="shaunlebron and I’m finally working on documenting the algorithm here: https://github.com/shaunlebron/parinfer/blob/master/lib/parinfer.js.md"><y>#</y><d>2016-01-06</d><h>13:43</h><w>shaunlebron</w>and I’m finally working on documenting the algorithm here: <a href="https://github.com/shaunlebron/parinfer/blob/master/lib/parinfer.js.md" target="_blank">https://github.com/shaunlebron/parinfer/blob/master/lib/parinfer.js.md</a></z><z id="t1452087965" t="shaunlebron apologies to the plugin authors, I expect it to stabilize after I anneal it a bit while writing docs on it"><y>#</y><d>2016-01-06</d><h>13:46</h><w>shaunlebron</w>apologies to the plugin authors, I expect it to stabilize after I anneal it a bit while writing docs on it</z><z id="t1452088007" t="shaunlebron the api is of course stable, but for anyone trying to port the code, I recommend waiting on that until I finish the docs"><y>#</y><d>2016-01-06</d><h>13:46</h><w>shaunlebron</w>the api is of course stable, but for anyone trying to port the code, I recommend waiting on that until I finish the docs</z><z id="t1452124060" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : Thanks for the update, I’ll wait a bit then"><y>#</y><d>2016-01-06</d><h>23:47</h><w>cfleming</w><a>@shaunlebron</a>: Thanks for the update, I’ll wait a bit then</z><z id="t1452124094" t="cfleming Is it possible to partially process files rather than having to do the whole thing?"><y>#</y><d>2016-01-06</d><h>23:48</h><w>cfleming</w>Is it possible to partially process files rather than having to do the whole thing?</z><z id="t1452124136" t="cfleming i.e. from a particular change, can you work out how much of the file you need to process? I guess that would be different for indent and paren modes."><y>#</y><d>2016-01-06</d><h>23:48</h><w>cfleming</w>i.e. from a particular change, can you work out how much of the file you need to process? I guess that would be different for indent and paren modes.</z><z id="t1452124171" t="cfleming Indent should only require updating the top-level forms containing the changed lines I think, but paren mode changes might extend further."><y>#</y><d>2016-01-06</d><h>23:49</h><w>cfleming</w>Indent should only require updating the top-level forms containing the changed lines I think, but paren mode changes might extend further.</z><z id="t1452124424" t="darwin Marijn Haverberke of CodeMirror fame came up with the concept of &quot;interruptable, resumable parser”, maybe something which could be applicable? read “A parser” section, https://codemirror.net/1/story.html#parser"><y>#</y><d>2016-01-06</d><h>23:53</h><w>darwin</w>Marijn Haverberke of CodeMirror fame came up with the concept of &quot;interruptable, resumable parser”, maybe something which could be applicable? read “A parser” section, <a href="https://codemirror.net/1/story.html#parser" target="_blank">https://codemirror.net/1/story.html#parser</a></z><z id="t1452124434" t="darwin https://codemirror.net/doc/internals.html"><y>#</y><d>2016-01-06</d><h>23:53</h><w>darwin</w><a href="https://codemirror.net/doc/internals.html" target="_blank">https://codemirror.net/doc/internals.html</a></z><z id="t1452127960" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : yeah, I tried going down that road when performance was an issue"><y>#</y><d>2016-01-07</d><h>00:52</h><w>shaunlebron</w><a>@cfleming</a>: yeah, I tried going down that road when performance was an issue</z><z id="t1452128012" t="shaunlebron I eventually removed it for simplicity when performance became much better"><y>#</y><d>2016-01-07</d><h>00:53</h><w>shaunlebron</w>I eventually removed it for simplicity when performance became much better</z><z id="t1452128067" t="shaunlebron tried adding it back in again, but tracking state between was not as simple as I expected so I’ve temporarily written it off for now"><y>#</y><d>2016-01-07</d><h>00:54</h><w>shaunlebron</w>tried adding it back in again, but tracking state between was not as simple as I expected so I’ve temporarily written it off for now</z><z id="t1452128078" t="shaunlebron here are my thoughts of why I ditched it again: https://github.com/shaunlebron/parinfer/issues/75#issuecomment-167716479"><y>#</y><d>2016-01-07</d><h>00:54</h><w>shaunlebron</w>here are my thoughts of why I ditched it again: <a href="https://github.com/shaunlebron/parinfer/issues/75#issuecomment-167716479" target="_blank">https://github.com/shaunlebron/parinfer/issues/75#issuecomment-167716479</a></z><z id="t1452128107" t="shaunlebron thanks [:attrs {:href &quot;/_/_/users/U08E3BBST&quot;}] ! will read this tonight"><y>#</y><d>2016-01-07</d><h>00:55</h><w>shaunlebron</w>thanks <a>@darwin</a>! will read this tonight</z><z id="t1452128489" t="cfleming I think in this case the parsing is not going to be the complexity, probably, since the parsing here is fairly trivial"><y>#</y><d>2016-01-07</d><h>01:01</h><w>cfleming</w>I think in this case the parsing is not going to be the complexity, probably, since the parsing here is fairly trivial</z><z id="t1452128507" t="cfleming And top-level forms are totally self-contained."><y>#</y><d>2016-01-07</d><h>01:01</h><w>cfleming</w>And top-level forms are totally self-contained.</z><z id="t1452128559" t="cfleming I think as long as your restart points are top-level forms (i.e. I’m going to process from the start of this top level form to the end of this other one) I’d hope it should be pretty similar to processing a whole file."><y>#</y><d>2016-01-07</d><h>01:02</h><w>cfleming</w>I think as long as your restart points are top-level forms (i.e. I’m going to process from the start of this top level form to the end of this other one) I’d hope it should be pretty similar to processing a whole file.</z><z id="t1452128610" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : I haven’t looked at the code sorry - could this currently be run over top level forms (assuming you can identify them) independently, i.e. with a fresh copy of the state for each one?"><y>#</y><d>2016-01-07</d><h>01:03</h><w>cfleming</w><a>@shaunlebron</a>: I haven’t looked at the code sorry - could this currently be run over top level forms (assuming you can identify them) independently, i.e. with a fresh copy of the state for each one?</z><z id="t1452132235" t="chrisoakman [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : what you are describing with top-level forms is exactly how atom-parinfer works"><y>#</y><d>2016-01-07</d><h>02:03</h><w>chrisoakman</w><a>@cfleming</a>: what you are describing with top-level forms is exactly how atom-parinfer works</z><z id="t1452132264" t="chrisoakman I call it the &quot;parent expression hack&quot; and it seems to be fine; have had zero complaints about it in the wild"><y>#</y><d>2016-01-07</d><h>02:04</h><w>chrisoakman</w>I call it the &quot;parent expression hack&quot; and it seems to be fine; have had zero complaints about it in the wild</z><z id="t1452132273" t="cfleming [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] : Oh, good to know"><y>#</y><d>2016-01-07</d><h>02:04</h><w>cfleming</w><a>@chrisoakman</a>: Oh, good to know</z><z id="t1452132279" t="chrisoakman https://github.com/oakmac/atom-parinfer#known-limitations"><y>#</y><d>2016-01-07</d><h>02:04</h><w>chrisoakman</w><a href="https://github.com/oakmac/atom-parinfer#known-limitations" target="_blank">https://github.com/oakmac/atom-parinfer#known-limitations</a></z><z id="t1452132283" t="cfleming So that doesn’t use the single-js-file implementation?"><y>#</y><d>2016-01-07</d><h>02:04</h><w>cfleming</w>So that doesn’t use the single-js-file implementation?</z><z id="t1452132286" t="chrisoakman https://github.com/oakmac/atom-parinfer/issues/9"><y>#</y><d>2016-01-07</d><h>02:04</h><w>chrisoakman</w><a href="https://github.com/oakmac/atom-parinfer/issues/9" target="_blank">https://github.com/oakmac/atom-parinfer/issues/9</a></z><z id="t1452132324" t="chrisoakman it does use the single-js-file version of parinfer; I just updated to v1.4.0 in fact"><y>#</y><d>2016-01-07</d><h>02:05</h><w>chrisoakman</w>it does use the single-js-file version of parinfer; I just updated to v1.4.0 in fact</z><z id="t1452132343" t="cfleming Ok, so where does the hack come in?"><y>#</y><d>2016-01-07</d><h>02:05</h><w>cfleming</w>Ok, so where does the hack come in?</z><z id="t1452132345" t="chrisoakman but on any change in the buffer I just &quot;look up&quot; and &quot;look down&quot; for the nearest parent expression"><y>#</y><d>2016-01-07</d><h>02:05</h><w>chrisoakman</w>but on any change in the buffer I just &quot;look up&quot; and &quot;look down&quot; for the nearest parent expression</z><z id="t1452132367" t="cfleming So you just run the standard parinfer on a subset of the buffer?"><y>#</y><d>2016-01-07</d><h>02:06</h><w>cfleming</w>So you just run the standard parinfer on a subset of the buffer?</z><z id="t1452132393" t="chrisoakman correct"><y>#</y><d>2016-01-07</d><h>02:06</h><w>chrisoakman</w>correct</z><z id="t1452132395" t="chrisoakman https://github.com/oakmac/atom-parinfer/blob/master/src-cljs/atom_parinfer/core.cljs#L191-L221"><y>#</y><d>2016-01-07</d><h>02:06</h><w>chrisoakman</w><a href="https://github.com/oakmac/atom-parinfer/blob/master/src-cljs/atom_parinfer/core.cljs#L191-L221" target="_blank">https://github.com/oakmac/atom-parinfer/blob/master/src-cljs/atom_parinfer/core.cljs#L191-L221</a></z><z id="t1452132406" t="chrisoakman and I use those simple regex to determine it"><y>#</y><d>2016-01-07</d><h>02:06</h><w>chrisoakman</w>and I use those simple regex to determine it</z><z id="t1452132425" t="chrisoakman there are cases where this will break of course, but no one has complained so far"><y>#</y><d>2016-01-07</d><h>02:07</h><w>chrisoakman</w>there are cases where this will break of course, but no one has complained so far</z><z id="t1452132446" t="cfleming Ok, thanks. I’ll take a look and think about it a bit"><y>#</y><d>2016-01-07</d><h>02:07</h><w>cfleming</w>Ok, thanks. I’ll take a look and think about it a bit</z><z id="t1452132465" t="chrisoakman are you thinking you&apos;ll need a Java implementation for Cursive?"><y>#</y><d>2016-01-07</d><h>02:07</h><w>chrisoakman</w>are you thinking you&apos;ll need a Java implementation for Cursive?</z><z id="t1452132493" t="cfleming Yeah, I’ll probably port the JS version to Kotlin"><y>#</y><d>2016-01-07</d><h>02:08</h><w>cfleming</w>Yeah, I’ll probably port the JS version to Kotlin</z><z id="t1452132523" t="cfleming And I’ll probably also migrate it to use some of the Cursive infrastructure (I have a fast lexer, for example)"><y>#</y><d>2016-01-07</d><h>02:08</h><w>cfleming</w>And I’ll probably also migrate it to use some of the Cursive infrastructure (I have a fast lexer, for example)</z><z id="t1452132534" t="cfleming Although for a first version I’ll just try a straight port."><y>#</y><d>2016-01-07</d><h>02:08</h><w>cfleming</w>Although for a first version I’ll just try a straight port.</z><z id="t1452132549" t="chrisoakman I was able to port parinfer.js to parinfer.py in a single evening, and I don&apos;t know Python"><y>#</y><d>2016-01-07</d><h>02:09</h><w>chrisoakman</w>I was able to port parinfer.js to parinfer.py in a single evening, and I don&apos;t know Python</z><z id="t1452132555" t="chrisoakman just as an FYI in terms of ease of porting"><y>#</y><d>2016-01-07</d><h>02:09</h><w>chrisoakman</w>just as an FYI in terms of ease of porting</z><z id="t1452132565" t="cfleming Yeah, it looked fairly straightforward, thanks"><y>#</y><d>2016-01-07</d><h>02:09</h><w>cfleming</w>Yeah, it looked fairly straightforward, thanks</z><z id="t1452132587" t="cfleming So do you apply the hack in both modes?"><y>#</y><d>2016-01-07</d><h>02:09</h><w>cfleming</w>So do you apply the hack in both modes?</z><z id="t1452132592" t="chrisoakman I&apos;ve considered playing around with writing a Java implementation if you think it might be useful; I have never written Java before"><y>#</y><d>2016-01-07</d><h>02:09</h><w>chrisoakman</w>I&apos;ve considered playing around with writing a Java implementation if you think it might be useful; I have never written Java before</z><z id="t1452132596" t="chrisoakman I do"><y>#</y><d>2016-01-07</d><h>02:09</h><w>chrisoakman</w>I do</z><z id="t1452132606" t="chrisoakman 99% of the time people will be in indent mode"><y>#</y><d>2016-01-07</d><h>02:10</h><w>chrisoakman</w>99% of the time people will be in indent mode</z><z id="t1452132619" t="chrisoakman Shaun hates this hack, but oh well 😉"><y>#</y><d>2016-01-07</d><h>02:10</h><w>chrisoakman</w>Shaun hates this hack, but oh well <b>😉</b></z><z id="t1452132701" t="chrisoakman this also might be useful: https://github.com/oakmac/sublime-text-parinfer/issues/23"><y>#</y><d>2016-01-07</d><h>02:11</h><w>chrisoakman</w>this also might be useful: <a href="https://github.com/oakmac/sublime-text-parinfer/issues/23" target="_blank">https://github.com/oakmac/sublime-text-parinfer/issues/23</a></z><z id="t1452132869" t="cfleming I’ll OSS my Kotlin version when it’s done"><y>#</y><d>2016-01-07</d><h>02:14</h><w>cfleming</w>I’ll OSS my Kotlin version when it’s done</z><z id="t1452132882" t="chrisoakman cool simple_smile"><y>#</y><d>2016-01-07</d><h>02:14</h><w>chrisoakman</w>cool <b>simple_smile</b></z><z id="t1452132909" t="chrisoakman parinfer.py uses the same tests as parinfer.js"><y>#</y><d>2016-01-07</d><h>02:15</h><w>chrisoakman</w>parinfer.py uses the same tests as parinfer.js</z><z id="t1452132917" t="chrisoakman nice way to know if you&apos;ve done the port correctly"><y>#</y><d>2016-01-07</d><h>02:15</h><w>chrisoakman</w>nice way to know if you&apos;ve done the port correctly</z><z id="t1452148163" t="shaunlebron [:attrs {:href &quot;/_/_/users/U08E3BBST&quot;}] : thanks I read through part of his braindump on parsing"><y>#</y><d>2016-01-07</d><h>06:29</h><w>shaunlebron</w><a>@darwin</a>: thanks I read through part of his braindump on parsing</z><z id="t1452148189" t="shaunlebron I think he is essentially caching the state of the parser at each line"><y>#</y><d>2016-01-07</d><h>06:29</h><w>shaunlebron</w>I think he is essentially caching the state of the parser at each line</z><z id="t1452148272" t="shaunlebron I had problems with that"><y>#</y><d>2016-01-07</d><h>06:31</h><w>shaunlebron</w>I had problems with that</z><z id="t1452148459" t="shaunlebron there wasn’t a problem for simple edits which produced valid input for Parinfer"><y>#</y><d>2016-01-07</d><h>06:34</h><w>shaunlebron</w>there wasn’t a problem for simple edits which produced valid input for Parinfer</z><z id="t1452148514" t="shaunlebron but multiple edits have to be batched if the function is debounced"><y>#</y><d>2016-01-07</d><h>06:35</h><w>shaunlebron</w>but multiple edits have to be batched if the function is debounced</z><z id="t1452148562" t="shaunlebron and they must be batched further across edits producing bad input"><y>#</y><d>2016-01-07</d><h>06:36</h><w>shaunlebron</w>and they must be batched further across edits producing bad input</z><z id="t1452149133" t="shaunlebron I hope to just get some thoughts on this problem after documenting what I have so far"><y>#</y><d>2016-01-07</d><h>06:45</h><w>shaunlebron</w>I hope to just get some thoughts on this problem after documenting what I have so far</z><z id="t1452571266" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : I’ve seen a few references to debouncing - what do you mean by that?"><y>#</y><d>2016-01-12</d><h>04:01</h><w>cfleming</w><a>@shaunlebron</a>: I’ve seen a few references to debouncing - what do you mean by that?</z><z id="t1452586423" t="meow can&apos;t wait to see what this does for cursive"><y>#</y><d>2016-01-12</d><h>08:13</h><w>meow</w>can&apos;t wait to see what this does for cursive</z><z id="t1452586443" t="meow [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : haven&apos;t chatted with you in a minute"><y>#</y><d>2016-01-12</d><h>08:14</h><w>meow</w><a>@shaunlebron</a>: haven&apos;t chatted with you in a minute</z><z id="t1452586448" t="meow how have you been"><y>#</y><d>2016-01-12</d><h>08:14</h><w>meow</w>how have you been</z><z id="t1452613108" t="snoe I think debounce is referring to this type of behavior: http://underscorejs.org/#debounce running parinfer on every input can be slow"><y>#</y><d>2016-01-12</d><h>15:38</h><w>snoe</w>I think debounce is referring to this type of behavior: <a href="http://underscorejs.org/#debounce" target="_blank">http://underscorejs.org/#debounce</a> running parinfer on every input can be slow</z><z id="t1452613272" t="meow [:attrs {:href &quot;/_/_/users/U0CLNM0N6&quot;}] : we need to support parinfer in #C0J20813K so you might as well join this channel as well"><y>#</y><d>2016-01-12</d><h>15:41</h><w>meow</w><a>@rafd</a>: we need to support parinfer in #C0J20813K so you might as well join this channel as well</z><z id="t1452613310" t="meow [:attrs {:href &quot;/_/_/users/U0CLNM0N6&quot;}] : you do something with debounce in the braid seach, right?"><y>#</y><d>2016-01-12</d><h>15:41</h><w>meow</w><a>@rafd</a>: you do something with debounce in the braid seach, right?</z><z id="t1452627335" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : just making sure that parinfer doesn’t run after every keypress"><y>#</y><d>2016-01-12</d><h>19:35</h><w>shaunlebron</w><a>@cfleming</a>: just making sure that parinfer doesn’t run after every keypress</z><z id="t1452627451" t="shaunlebron for the full-processing it does, it would create a noticeable delay, so debouncing just makes sure it will run at most 1 time per n ms"><y>#</y><d>2016-01-12</d><h>19:37</h><w>shaunlebron</w>for the full-processing it does, it would create a noticeable delay, so debouncing just makes sure it will run at most 1 time per n ms</z><z id="t1452627517" t="shaunlebron hey [:attrs {:href &quot;/_/_/users/U05370GCR&quot;}] , i’m doing well, you? starting a new job soon"><y>#</y><d>2016-01-12</d><h>19:38</h><w>shaunlebron</w>hey <a>@meow</a>, i’m doing well, you?  starting a new job soon</z><z id="t1452628076" t="meow I am keeping busy, that&apos;s for sure"><y>#</y><d>2016-01-12</d><h>19:47</h><w>meow</w>I am keeping busy, that&apos;s for sure</z><z id="t1452628092" t="meow mostly doing #C0CB40N8K"><y>#</y><d>2016-01-12</d><h>19:48</h><w>meow</w>mostly doing #C0CB40N8K</z><z id="t1452628111" t="meow would love to hear about your new job"><y>#</y><d>2016-01-12</d><h>19:48</h><w>meow</w>would love to hear about your new job</z><z id="t1452628144" t="shaunlebron interesting, I’ve noticed parinfer’s history being eaten"><y>#</y><d>2016-01-12</d><h>19:49</h><w>shaunlebron</w>interesting, I’ve noticed parinfer’s history being eaten</z><z id="t1452628165" t="shaunlebron which may be related to community growth"><y>#</y><d>2016-01-12</d><h>19:49</h><w>shaunlebron</w>which may be related to community growth</z><z id="t1452628176" t="shaunlebron glad you’re working stuff like that"><y>#</y><d>2016-01-12</d><h>19:49</h><w>shaunlebron</w>glad you’re working stuff like that</z><z id="t1452628203" t="shaunlebron I’m starting at Stripe in february"><y>#</y><d>2016-01-12</d><h>19:50</h><w>shaunlebron</w>I’m starting at Stripe in february</z><z id="t1452628258" t="shaunlebron turned down a role at some ideal clojure shop"><y>#</y><d>2016-01-12</d><h>19:50</h><w>shaunlebron</w>turned down a role at some ideal clojure shop</z><z id="t1452628343" t="shaunlebron figured working at a bigger company like Stripe would mean more chances to influence industry tooling. lot of open source devs there interested in trying new stuff"><y>#</y><d>2016-01-12</d><h>19:52</h><w>shaunlebron</w>figured working at a bigger company like Stripe would mean more chances to influence industry tooling.  lot of open source devs there interested in trying new stuff</z><z id="t1452628498" t="meow nice - very happy for you"><y>#</y><d>2016-01-12</d><h>19:54</h><w>meow</w>nice - very happy for you</z><z id="t1452628524" t="meow I&apos;m here if you ever need anything"><y>#</y><d>2016-01-12</d><h>19:55</h><w>meow</w>I&apos;m here if you ever need anything</z><z id="t1452628606" t="shaunlebron thanks!"><y>#</y><d>2016-01-12</d><h>19:56</h><w>shaunlebron</w>thanks!</z><z id="t1452629471" t="meow np"><y>#</y><d>2016-01-12</d><h>20:11</h><w>meow</w>np</z><z id="t1452631166" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : Congratulations! That’s awesome. Are you moving to SF?"><y>#</y><d>2016-01-12</d><h>20:39</h><w>cfleming</w><a>@shaunlebron</a>: Congratulations! That’s awesome. Are you moving to SF?</z><z id="t1452632770" t="shaunlebron I am not moving, they’re letting me work from Houston!"><y>#</y><d>2016-01-12</d><h>21:06</h><w>shaunlebron</w>I am not moving, they’re letting me work from Houston!</z><z id="t1452632816" t="shaunlebron and thanks!"><y>#</y><d>2016-01-12</d><h>21:06</h><w>shaunlebron</w>and thanks!</z><z id="t1452633034" t="meow awesome!"><y>#</y><d>2016-01-12</d><h>21:10</h><w>meow</w>awesome!</z><z id="t1452633044" t="meow remote!"><y>#</y><d>2016-01-12</d><h>21:10</h><w>meow</w>remote!</z><z id="t1452633064" t="meow need a chat app? 😉"><y>#</y><d>2016-01-12</d><h>21:11</h><w>meow</w>need a chat app? <b>😉</b></z><z id="t1452633551" t="shaunlebron ha, they use Slack it seems"><y>#</y><d>2016-01-12</d><h>21:19</h><w>shaunlebron</w>ha, they use Slack it seems</z><z id="t1452634899" t="wamaral ...for now"><y>#</y><d>2016-01-12</d><h>21:41</h><w>wamaral</w>...for now</z><z id="t1453509639" t="snoe I&apos;ve updated nvim-parinfer.js to use the new javascript lib. https://github.com/snoe/nvim-parinfer.js It&apos;s significantly faster (and has very little code) now, nice job [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}]"><y>#</y><d>2016-01-23</d><h>00:40</h><w>snoe</w>I&apos;ve updated nvim-parinfer.js to use the new javascript lib. <a href="https://github.com/snoe/nvim-parinfer.js" target="_blank">https://github.com/snoe/nvim-parinfer.js</a> It&apos;s significantly faster (and has very little code) now, nice job <a>@shaunlebron</a></z><z id="t1453515748" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] sweet"><y>#</y><d>2016-01-23</d><h>02:22</h><w>shaunlebron</w><a>@snoe</a> sweet</z><z id="t1453515783" t="shaunlebron I didn’t know you could use a js lib like that from cljs. I guess that’s what the new module-type option in foreign-libs is for"><y>#</y><d>2016-01-23</d><h>02:23</h><w>shaunlebron</w>I didn’t know you could use a js lib like that from cljs.  I guess that’s what the new <code>module-type</code> option in <code>foreign-libs</code> is for</z><z id="t1453515826" t="shaunlebron I was actually going to release a new version some time tonight, with a cljs wrapper to publish on clojars"><y>#</y><d>2016-01-23</d><h>02:23</h><w>shaunlebron</w>I was actually going to release a new version some time tonight, with a cljs wrapper to publish on clojars</z><z id="t1453515876" t="shaunlebron I wonder if you still need externs"><y>#</y><d>2016-01-23</d><h>02:24</h><w>shaunlebron</w>I wonder if you still need externs</z><z id="t1453518478" t="snoe Yeah, it was actually pretty painful as I was trying the cljsjs version, and the wrapper etc and getting nowhere. Lots of interacting systems and it was hard to know what was causing my problems."><y>#</y><d>2016-01-23</d><h>03:07</h><w>snoe</w>Yeah, it was actually pretty painful as I was trying the cljsjs version, and the wrapper etc and getting nowhere. Lots of interacting systems and it was hard to know what was causing my problems.</z><z id="t1453521947" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] I wonder what problems you were getting"><y>#</y><d>2016-01-23</d><h>04:05</h><w>shaunlebron</w><a>@snoe</a> I wonder what problems you were getting</z></g><g id="s2"><z id="t1453535363" t="snoe First, it took me awhile to figure out the :module-type and that cljsjs wasn&apos;t/didn&apos;t have the capability to set it. Basically, I&apos;d see parinfer on js/module.exports but using multiple js libs would overwrite it. This was exacerbated by things seemingly working fine with :optimizations :none but not working with :simple . So, I tried for to get the plugin working with :none however both cljs and neovim-host are replacing node&apos;s require(...) and I suspect neovim-host is doing something bad with sandboxing modules. I ended up dropping that line since I couldn&apos;t get to the root of the problem. I went on to writing my own :foreign-libs and I found the :module-type option. That seemed to get me further with :simple but closure was throwing an error about redefining a const but not when using :none . I remembered looking at the :closure-warnings map previously and on a whim tried to :const :off and it finally compiled. So... I think cljsjs could improve with support for :module-type , I think either node-host or cljs w/node has a bug in their patched require , and I think cljs or closure should have that warning turned off with optimized compiles (or be able to catch the error when it&apos;s caused by the UMD rewriting)."><y>#</y><d>2016-01-23</d><h>07:49</h><w>snoe</w>First, it took me awhile to figure out the <code>:module-type</code> and that cljsjs wasn&apos;t/didn&apos;t have the capability to set it. Basically, I&apos;d see parinfer on <code>js/module.exports</code> but using multiple js libs would overwrite it. This was exacerbated by things seemingly working fine with <code>:optimizations :none</code> but not working with <code>:simple</code>. 

So, I tried for to get the plugin working with <code>:none</code> however both cljs and neovim-host are replacing node&apos;s <code>require(...)</code> and I suspect neovim-host is doing something bad with sandboxing modules. I ended up dropping that line since I couldn&apos;t get to the root of the problem. I went on to writing my own <code>:foreign-libs</code> and I found the <code>:module-type</code> option. 

That seemed to get me further with <code>:simple</code> but closure was throwing an error about redefining a const  but not when using  <code>:none</code>.  I remembered looking at the <code>:closure-warnings</code> map previously and on a whim tried to <code>:const :off</code> and it finally compiled.

So... I think cljsjs could improve with support for <code>:module-type</code>, I think either node-host or cljs w/node has a bug in their patched <code>require</code>, and I think cljs or closure should have that warning turned off with optimized compiles (or be able to catch the error when it&apos;s caused by the UMD rewriting).</z><z id="t1453554701" t="meow [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] : have you brought any of this to the attention of #C0E66E1H7?"><y>#</y><d>2016-01-23</d><h>13:11</h><w>meow</w><a>@snoe</a>: have you brought any of this to the attention of #C0E66E1H7?</z><z id="t1453569566" t="dominicm [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] I&apos;m gonna update soon."><y>#</y><d>2016-01-23</d><h>17:19</h><w>dominicm</w><a>@snoe</a> I&apos;m gonna update soon.</z><z id="t1453569574" t="dominicm My team is trying to convert me to Emacs"><y>#</y><d>2016-01-23</d><h>17:19</h><w>dominicm</w>My team is trying to convert me to Emacs</z><z id="t1453577733" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] : I also ran into the “cannot redefine const” error in closure, and posted it to the mailing list last week"><y>#</y><d>2016-01-23</d><h>19:35</h><w>shaunlebron</w><a>@snoe</a>: I also ran into the “cannot redefine const” error in closure, and posted it to the mailing list last week</z><z id="t1453577786" t="shaunlebron It has to do with UMD style not recognizing that module.export can be defined inside an IIFE"><y>#</y><d>2016-01-23</d><h>19:36</h><w>shaunlebron</w>It has to do with UMD style not recognizing that module.export can be defined inside an IIFE</z><z id="t1453581642" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] , also parinfer-cljs (the cljs wrapper of parinfer.js I’m trying put out), I’ve confirmed it doesn’t work on Node"><y>#</y><d>2016-01-23</d><h>20:40</h><w>shaunlebron</w><a>@snoe</a>, also <code>parinfer-cljs</code> (the cljs wrapper of parinfer.js I’m trying put out), I’ve confirmed it doesn’t work on Node</z><z id="t1453581653" t="shaunlebron you were probably trying that"><y>#</y><d>2016-01-23</d><h>20:40</h><w>shaunlebron</w>you were probably trying that</z><z id="t1453581733" t="shaunlebron it’s interesting because requiring the cljsjs/parinfer library in cljs has different behavior depending on the environment"><y>#</y><d>2016-01-23</d><h>20:42</h><w>shaunlebron</w>it’s interesting because requiring the <code>cljsjs/parinfer</code> library in cljs has different behavior depending on the environment</z><z id="t1453581853" t="shaunlebron it seems useless in a Node environment, because I need to use require , but I don’t know how to “node require&quot; a file that was prepended to the compiled output of the source that I’m inside of"><y>#</y><d>2016-01-23</d><h>20:44</h><w>shaunlebron</w>it seems useless in a Node environment, because I need to use <code>require</code>, but I don’t know how to “node require&quot; a file that was prepended to the compiled output of the source that I’m inside of</z><z id="t1453591027" t="shaunlebron [:attrs {:href &quot;/_/_/users/U05370GCR&quot;}] : [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] : filed an issue here: https://github.com/cljsjs/boot-cljsjs/issues/29"><y>#</y><d>2016-01-23</d><h>23:17</h><w>shaunlebron</w><a>@meow</a>: <a>@snoe</a>: filed an issue here: <a href="https://github.com/cljsjs/boot-cljsjs/issues/29" target="_blank">https://github.com/cljsjs/boot-cljsjs/issues/29</a></z><z id="t1453591077" t="meow [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : cool, thanks"><y>#</y><d>2016-01-23</d><h>23:17</h><w>meow</w><a>@shaunlebron</a>: cool, thanks</z><z id="t1453591108" t="meow on my todo list to try out Proton with Parinfer"><y>#</y><d>2016-01-23</d><h>23:18</h><w>meow</w>on my todo list to try out Proton with Parinfer</z><z id="t1453591155" t="shaunlebron hmm, that’d be neat, hadn’t heard of that"><y>#</y><d>2016-01-23</d><h>23:19</h><w>shaunlebron</w>hmm, that’d be neat, hadn’t heard of that</z><z id="t1453591700" t="meow #C0GCNE3B3 is Atom-based spacemacs with parinfer and repl"><y>#</y><d>2016-01-23</d><h>23:28</h><w>meow</w>#C0GCNE3B3 is Atom-based spacemacs with parinfer and repl</z><z id="t1453591761" t="meow looks like it is shaping up quite quickly"><y>#</y><d>2016-01-23</d><h>23:29</h><w>meow</w>looks like it is shaping up quite quickly</z><z id="t1453591969" t="snoe Right on."><y>#</y><d>2016-01-23</d><h>23:32</h><w>snoe</w>Right on.</z><z id="t1453593377" t="shaunlebron oh, I didn’t know it was integrated, neat!"><y>#</y><d>2016-01-23</d><h>23:56</h><w>shaunlebron</w>oh, I didn’t know it was integrated, neat!</z><z id="t1453593489" t="shaunlebron [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] : have you heard of Proton? it’s using your plugin: https://github.com/dvcrn/proton/blob/master/src/cljs/proton/layers/lang/clojure/README.md"><y>#</y><d>2016-01-23</d><h>23:58</h><w>shaunlebron</w><a>@chrisoakman</a>: have you heard of Proton? it’s using your plugin: <a href="https://github.com/dvcrn/proton/blob/master/src/cljs/proton/layers/lang/clojure/README.md" target="_blank">https://github.com/dvcrn/proton/blob/master/src/cljs/proton/layers/lang/clojure/README.md</a></z><z id="t1453598045" t="chrisoakman I was unaware of Proton"><y>#</y><d>2016-01-24</d><h>01:14</h><w>chrisoakman</w>I was unaware of Proton</z><z id="t1453598046" t="chrisoakman cool simple_smile"><y>#</y><d>2016-01-24</d><h>01:14</h><w>chrisoakman</w>cool <b>simple_smile</b></z><z id="t1454082055" t="thomas Hello people..."><y>#</y><d>2016-01-29</d><h>15:40</h><w>thomas</w>Hello people...</z><z id="t1454082073" t="thomas I just installed Atom and parinfer… and I really like it!!!"><y>#</y><d>2016-01-29</d><h>15:41</h><w>thomas</w>I just installed Atom and parinfer… and I really like it!!!</z><z id="t1454082087" t="thomas just one thing that I can’t seem to get right."><y>#</y><d>2016-01-29</d><h>15:41</h><w>thomas</w>just one thing that I can’t seem to get right.</z><z id="t1454082190" t="thomas in the code snippet I want to return [deg min] … I don’t want it inside the [ … ] of the let block. this results in a compile error as there isn’t an even number of elements inside the let."><y>#</y><d>2016-01-29</d><h>15:43</h><w>thomas</w>in the code snippet I want to return [deg min] … I don’t want it inside the [  … ]  of the let block. this  results in a compile error as there isn’t an even number of elements inside the let.</z><z id="t1454082200" t="thomas Any idea how I can fix this?"><y>#</y><d>2016-01-29</d><h>15:43</h><w>thomas</w>Any idea how I can fix this?</z><z id="t1454082203" t="thomas TIA"><y>#</y><d>2016-01-29</d><h>15:43</h><w>thomas</w>TIA</z><z id="t1454082508" t="snoe so parinfer uses indentation (while in indent mode) to determine where to put brackets. If you dedent the [deg min] until it sits under the e of let parinfer should barf it out of the let bindings"><y>#</y><d>2016-01-29</d><h>15:48</h><w>snoe</w>so parinfer uses indentation (while in indent mode)  to determine where to put brackets. If you dedent the <code>[deg min]</code> until it sits under the <code>e</code> of <code>let</code> parinfer should barf it out of the let bindings</z><z id="t1454082781" t="snoe [:attrs {:href &quot;/_/_/users/U052852ES&quot;}] ^"><y>#</y><d>2016-01-29</d><h>15:53</h><w>snoe</w><a>@thomas</a> ^</z><z id="t1454082967" t="thomas ok let me try that"><y>#</y><d>2016-01-29</d><h>15:56</h><w>thomas</w>ok let me try that</z><z id="t1454083020" t="thomas that was surprisingly easy…."><y>#</y><d>2016-01-29</d><h>15:57</h><w>thomas</w>that was surprisingly easy….</z><z id="t1454083029" t="thomas thanks [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] ."><y>#</y><d>2016-01-29</d><h>15:57</h><w>thomas</w>thanks <a>@snoe</a> .</z><z id="t1454083034" t="snoe np"><y>#</y><d>2016-01-29</d><h>15:57</h><w>snoe</w>np</z><z id="t1454387167" t="cfleming [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] : Thanks for https://github.com/oakmac/parinfer-jvm !"><y>#</y><d>2016-02-02</d><h>04:26</h><w>cfleming</w><a>@chrisoakman</a>: Thanks for <a href="https://github.com/oakmac/parinfer-jvm" target="_blank">https://github.com/oakmac/parinfer-jvm</a>!</z><z id="t1454387177" t="cfleming I’ll take a close look tomorrow and do a code review."><y>#</y><d>2016-02-02</d><h>04:26</h><w>cfleming</w>I’ll take a close look tomorrow and do a code review.</z><z id="t1454387451" t="chrisoakman great simple_smile"><y>#</y><d>2016-02-02</d><h>04:30</h><w>chrisoakman</w>great <b>simple_smile</b></z><z id="t1454387490" t="chrisoakman I have very little experience with the JVM ecosystem and haven&apos;t used a statically typed language in over 10 years"><y>#</y><d>2016-02-02</d><h>04:31</h><w>chrisoakman</w>I have very little experience with the JVM ecosystem and haven&apos;t used a statically typed language in over 10 years</z><z id="t1454387505" t="chrisoakman so I ran into some rough spots"><y>#</y><d>2016-02-02</d><h>04:31</h><w>chrisoakman</w>so I ran into some rough spots</z><z id="t1454387542" t="chrisoakman but it passes all of the parinfer.js tests"><y>#</y><d>2016-02-02</d><h>04:32</h><w>chrisoakman</w>but it passes all of the parinfer.js tests</z><z id="t1454387556" t="chrisoakman that&apos;s a good sign"><y>#</y><d>2016-02-02</d><h>04:32</h><w>chrisoakman</w>that&apos;s a good sign</z><z id="t1454387585" t="chrisoakman I&apos;m curious to know how fast it is compared to the JS and Python versions; have no idea how to benchmark something like that on the JVM"><y>#</y><d>2016-02-02</d><h>04:33</h><w>chrisoakman</w>I&apos;m curious to know how fast it is compared to the JS and Python versions; have no idea how to benchmark something like that on the JVM</z><z id="t1454387654" t="chrisoakman What&apos;s the next language that needs a Parinfer implementation? Lua? #justkidding #butnotreally"><y>#</y><d>2016-02-02</d><h>04:34</h><w>chrisoakman</w>What&apos;s the next language that needs a Parinfer implementation? Lua? #justkidding #butnotreally</z><z id="t1454387701" t="chrisoakman Do you need any CLJS stickers [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] ?"><y>#</y><d>2016-02-02</d><h>04:35</h><w>chrisoakman</w>Do you need any CLJS stickers <a>@cfleming</a> ?</z><z id="t1454396898" t="snoe I&apos;ve been thinking about my workflow a bit and I wonder if indent and dedent functions would be useful in indent-mode because moving things with space is slow and using 2-stop tabs is imprecise. Basically, ask where are the tab stops that cause structural changes? |(|let [|attrs {|:style {|:color &quot;green&quot;}]) Is parinfer in a better place to move the line around these stops (or expose the tab stop info) than editors themselves?"><y>#</y><d>2016-02-02</d><h>07:08</h><w>snoe</w>I&apos;ve been thinking about my workflow a bit and I wonder if <code>indent</code> and <code>dedent</code> functions would be useful in indent-mode because moving things with space is slow and using 2-stop tabs is imprecise.  Basically, ask where are the tab stops that cause structural changes? <code>|(|let [|attrs {|:style {|:color &quot;green&quot;}])</code> Is parinfer in a better place to move the line around these stops (or expose the tab stop info) than editors themselves?</z><z id="t1454397032" t="snoe I think it&apos;s a bit different than what https://github.com/shaunlebron/parinfer/issues/21 was getting at"><y>#</y><d>2016-02-02</d><h>07:10</h><w>snoe</w>I think it&apos;s a bit different than what <a href="https://github.com/shaunlebron/parinfer/issues/21" target="_blank">https://github.com/shaunlebron/parinfer/issues/21</a> was getting at</z><z id="t1454398730" t="cfleming [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] : Ok, cool, I’ll take a look. Criterium is the state of the art for JVM benchmarking, I’ll take a look at that too if you don’t get there first."><y>#</y><d>2016-02-02</d><h>07:38</h><w>cfleming</w><a>@chrisoakman</a>: Ok, cool, I’ll take a look. Criterium is the state of the art for JVM benchmarking, I’ll take a look at that too if you don’t get there first.</z><z id="t1454398757" t="cfleming [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] : I’m good for stickers thanks, I’m not really a sticker kind of guy - my laptop is still pristine!"><y>#</y><d>2016-02-02</d><h>07:39</h><w>cfleming</w><a>@chrisoakman</a>: I’m good for stickers thanks, I’m not really a sticker kind of guy - my laptop is still pristine!</z><z id="t1454399732" t="chrisoakman wonderful simple_smile"><y>#</y><d>2016-02-02</d><h>07:55</h><w>chrisoakman</w>wonderful <b>simple_smile</b></z><z id="t1454399775" t="chrisoakman I&apos;m very open to PRs and changes to that repo from someone with more experience on the JVM than me"><y>#</y><d>2016-02-02</d><h>07:56</h><w>chrisoakman</w>I&apos;m very open to PRs and changes to that repo from someone with more experience on the JVM than me</z><z id="t1454399827" t="cfleming Ok, cool. I think it makes sense to use nulls rather than your sentinel value, since nulls are first-class in the Kotlin type system, and you lose that support if you use some other value."><y>#</y><d>2016-02-02</d><h>07:57</h><w>cfleming</w>Ok, cool. I think it makes sense to use nulls rather than your sentinel value, since nulls are first-class in the Kotlin type system, and you lose that support if you use some other value.</z><z id="t1454399841" t="cfleming And at the end of the day you’re still using a value for “nothing to see here”."><y>#</y><d>2016-02-02</d><h>07:57</h><w>cfleming</w>And at the end of the day you’re still using a value for “nothing to see here”.</z><z id="t1454399842" t="chrisoakman I started off doing that"><y>#</y><d>2016-02-02</d><h>07:57</h><w>chrisoakman</w>I started off doing that</z><z id="t1454399851" t="chrisoakman and just couldn&apos;t get it to compile"><y>#</y><d>2016-02-02</d><h>07:57</h><w>chrisoakman</w>and just couldn&apos;t get it to compile</z><z id="t1454399860" t="chrisoakman I don&apos;t know what I&apos;m doing in a statically typed language"><y>#</y><d>2016-02-02</d><h>07:57</h><w>chrisoakman</w>I don&apos;t know what I&apos;m doing in a statically typed language</z><z id="t1454399875" t="cfleming Sentinels normally make more sense if you might be dereferencing these objects and you can provide a sensible default behaviour."><y>#</y><d>2016-02-02</d><h>07:57</h><w>cfleming</w>Sentinels normally make more sense if you might be dereferencing these objects and you can provide a sensible default behaviour.</z><z id="t1454399899" t="chrisoakman I also wasn&apos;t sure whether to use Objects or HashMaps for everything"><y>#</y><d>2016-02-02</d><h>07:58</h><w>chrisoakman</w>I also wasn&apos;t sure whether to use Objects or HashMaps for everything</z><z id="t1454399915" t="chrisoakman in JS and Python it was obvious to use JS Objects and Python Dicts"><y>#</y><d>2016-02-02</d><h>07:58</h><w>chrisoakman</w>in JS and Python it was obvious to use JS Objects and Python Dicts</z><z id="t1454399918" t="cfleming Ok, I’ll take a look - generally in my (painful) experience, it’s a matter of ensuring you use Type? where you might think you need just Type."><y>#</y><d>2016-02-02</d><h>07:58</h><w>cfleming</w>Ok, I’ll take a look - generally in my (painful) experience, it’s a matter of ensuring you use Type? where you might think you need just Type.</z><z id="t1454399947" t="chrisoakman I don&apos;t understand how people get anything done in languages that don&apos;t have literal data types 😉"><y>#</y><d>2016-02-02</d><h>07:59</h><w>chrisoakman</w>I don&apos;t understand how people get anything done in languages that don&apos;t have literal data types <b>😉</b></z><z id="t1454399953" t="cfleming I think you want data classes ( https://kotlinlang.org/docs/reference/data-classes.html )"><y>#</y><d>2016-02-02</d><h>07:59</h><w>cfleming</w>I think you want data classes (<a href="https://kotlinlang.org/docs/reference/data-classes.html" target="_blank">https://kotlinlang.org/docs/reference/data-classes.html</a>)</z><z id="t1454399967" t="chrisoakman yeah - I read about that"><y>#</y><d>2016-02-02</d><h>07:59</h><w>chrisoakman</w>yeah - I read about that</z><z id="t1454399987" t="cfleming Since if you use null rather than your sentinel you can get rid of most of your init blocks (again, I think, just from a quick scan of the code)"><y>#</y><d>2016-02-02</d><h>07:59</h><w>cfleming</w>Since if you use null rather than your sentinel you can get rid of most of your init blocks (again, I think, just from a quick scan of the code)</z><z id="t1454399989" t="chrisoakman the MutableResult gets mutated all over the place, everything else is essentially immutable upon creation"><y>#</y><d>2016-02-02</d><h>07:59</h><w>chrisoakman</w>the MutableResult gets mutated all over the place, everything else is essentially immutable upon creation</z><z id="t1454400000" t="chrisoakman yes - that is the case"><y>#</y><d>2016-02-02</d><h>08:00</h><w>chrisoakman</w>yes - that is the case</z><z id="t1454400006" t="cfleming Data classes can use var too."><y>#</y><d>2016-02-02</d><h>08:00</h><w>cfleming</w>Data classes can use var too.</z><z id="t1454400037" t="cfleming So I think MutableResult can use var and have default values in the constructor."><y>#</y><d>2016-02-02</d><h>08:00</h><w>cfleming</w>So I think MutableResult can use var and have default values in the constructor.</z><z id="t1454400049" t="chrisoakman there is basically no logic in any class; it&apos;s all in the functions"><y>#</y><d>2016-02-02</d><h>08:00</h><w>chrisoakman</w>there is basically no logic in any class; it&apos;s all in the functions</z><z id="t1454400058" t="chrisoakman not sure if you&apos;re looking at parinfer.js side-by-side"><y>#</y><d>2016-02-02</d><h>08:00</h><w>chrisoakman</w>not sure if you&apos;re looking at parinfer.js side-by-side</z><z id="t1454400063" t="cfleming But I’ll take a look tomorrow in more detail and send a PR"><y>#</y><d>2016-02-02</d><h>08:01</h><w>cfleming</w>But I’ll take a look tomorrow in more detail and send a PR</z><z id="t1454400083" t="chrisoakman awesome simple_smile"><y>#</y><d>2016-02-02</d><h>08:01</h><w>chrisoakman</w>awesome <b>simple_smile</b></z><z id="t1454400094" t="chrisoakman definitely take a look at parinfer.js if you haven&apos;t already"><y>#</y><d>2016-02-02</d><h>08:01</h><w>chrisoakman</w>definitely take a look at parinfer.js if you haven&apos;t already</z><z id="t1454400120" t="cfleming Yeah, I’ll look at them side by side, and I’ve spent a bunch of time reading the JS version and the algorithm doc."><y>#</y><d>2016-02-02</d><h>08:02</h><w>cfleming</w>Yeah, I’ll look at them side by side, and I’ve spent a bunch of time reading the JS version and the algorithm doc.</z><z id="t1454400135" t="cfleming Seems like Kotlin allowed a pretty natural translation though."><y>#</y><d>2016-02-02</d><h>08:02</h><w>cfleming</w>Seems like Kotlin allowed a pretty natural translation though.</z><z id="t1454400139" t="chrisoakman yes!"><y>#</y><d>2016-02-02</d><h>08:02</h><w>chrisoakman</w>yes!</z><z id="t1454400150" t="chrisoakman it wasn&apos;t the worst thing I&apos;ve ever used 😉"><y>#</y><d>2016-02-02</d><h>08:02</h><w>chrisoakman</w>it wasn&apos;t the worst thing I&apos;ve ever used <b>😉</b></z><z id="t1454400153" t="cfleming It’s pretty nice, Kotlin - I like it a lot."><y>#</y><d>2016-02-02</d><h>08:02</h><w>cfleming</w>It’s pretty nice, Kotlin - I like it a lot.</z><z id="t1454400158" t="cfleming Haha"><y>#</y><d>2016-02-02</d><h>08:02</h><w>cfleming</w>Haha</z><z id="t1454400164" t="cfleming High praise!"><y>#</y><d>2016-02-02</d><h>08:02</h><w>cfleming</w>High praise!</z><z id="t1454400178" t="chrisoakman looking forward to anything you do on this"><y>#</y><d>2016-02-02</d><h>08:02</h><w>chrisoakman</w>looking forward to anything you do on this</z><z id="t1454400204" t="chrisoakman I did the tests in Clojure 1) for comfort and 2) to make sure it was usable outside of Kotlin-world"><y>#</y><d>2016-02-02</d><h>08:03</h><w>chrisoakman</w>I did the tests in Clojure 1) for comfort and 2) to make sure it was usable outside of Kotlin-world</z><z id="t1454400204" t="cfleming How do I run the tests?"><y>#</y><d>2016-02-02</d><h>08:03</h><w>cfleming</w>How do I run the tests?</z><z id="t1454400214" t="chrisoakman just &quot;lein run&quot; in that folder"><y>#</y><d>2016-02-02</d><h>08:03</h><w>chrisoakman</w>just &quot;lein run&quot; in that folder</z><z id="t1454400221" t="chrisoakman (I assume you have Leiningen installed)"><y>#</y><d>2016-02-02</d><h>08:03</h><w>chrisoakman</w>(I assume you have Leiningen installed)</z><z id="t1454400228" t="cfleming Ah, ok, I see"><y>#</y><d>2016-02-02</d><h>08:03</h><w>cfleming</w>Ah, ok, I see</z><z id="t1454400230" t="cfleming Cool"><y>#</y><d>2016-02-02</d><h>08:03</h><w>cfleming</w>Cool</z><z id="t1454400240" t="chrisoakman and the testing &quot;framework&quot; could be much more complete"><y>#</y><d>2016-02-02</d><h>08:04</h><w>chrisoakman</w>and the testing &quot;framework&quot; could be much more complete</z><z id="t1454400253" t="chrisoakman I literally slapped it together in a few minutes"><y>#</y><d>2016-02-02</d><h>08:04</h><w>chrisoakman</w>I literally slapped it together in a few minutes</z><z id="t1454400260" t="cfleming I actually like the idea in parinfer of taking those sorts of tests from markdown."><y>#</y><d>2016-02-02</d><h>08:04</h><w>cfleming</w>I actually like the idea in parinfer of taking those sorts of tests from markdown.</z><z id="t1454400273" t="cfleming I might have to do that in Cursive, I have a bunch of tests in strings which really sucks."><y>#</y><d>2016-02-02</d><h>08:04</h><w>cfleming</w>I might have to do that in Cursive, I have a bunch of tests in strings which really sucks.</z><z id="t1454400280" t="chrisoakman yeah - Shaun is very thorough"><y>#</y><d>2016-02-02</d><h>08:04</h><w>chrisoakman</w>yeah - Shaun is very thorough</z><z id="t1454400285" t="cfleming No doubt."><y>#</y><d>2016-02-02</d><h>08:04</h><w>cfleming</w>No doubt.</z><z id="t1454400292" t="chrisoakman I think he got that idea from the .cljsdoc files we were using"><y>#</y><d>2016-02-02</d><h>08:04</h><w>chrisoakman</w>I think he got that idea from the .cljsdoc files we were using</z><z id="t1454400310" t="chrisoakman basically: when you need a really simple data structure, but don&apos;t want to limit yourself to .json or .edn whitespace / string rules"><y>#</y><d>2016-02-02</d><h>08:05</h><w>chrisoakman</w>basically: when you need a really simple data structure, but don&apos;t want to limit yourself to .json or .edn whitespace / string rules</z><z id="t1454400344" t="cfleming Right, I investigated using EDN or something, but it doesn’t add much over strings when you need to look at indentation in the results."><y>#</y><d>2016-02-02</d><h>08:05</h><w>cfleming</w>Right, I investigated using EDN or something, but it doesn’t add much over strings when you need to look at indentation in the results.</z><z id="t1454400354" t="chrisoakman like this: https://github.com/cljsinfo/cljs-api-docs/blob/master/cljsdoc/cljs.core/assoc.cljsdoc"><y>#</y><d>2016-02-02</d><h>08:05</h><w>chrisoakman</w>like this: <a href="https://github.com/cljsinfo/cljs-api-docs/blob/master/cljsdoc/cljs.core/assoc.cljsdoc" target="_blank">https://github.com/cljsinfo/cljs-api-docs/blob/master/cljsdoc/cljs.core/assoc.cljsdoc</a></z><z id="t1454400363" t="cfleming But test cases in markdown is actually a really nice idea."><y>#</y><d>2016-02-02</d><h>08:06</h><w>cfleming</w>But test cases in markdown is actually a really nice idea.</z><z id="t1454400368" t="chrisoakman we &quot;invented&quot; that format"><y>#</y><d>2016-02-02</d><h>08:06</h><w>chrisoakman</w>we &quot;invented&quot; that format</z><z id="t1454400376" t="chrisoakman and I think it inspired what he did for the Parinfer tests"><y>#</y><d>2016-02-02</d><h>08:06</h><w>chrisoakman</w>and I think it inspired what he did for the Parinfer tests</z><z id="t1454400402" t="cfleming Nice"><y>#</y><d>2016-02-02</d><h>08:06</h><w>cfleming</w>Nice</z><z id="t1454400417" t="chrisoakman You have to be careful not to add too much &quot;structure&quot; to it else you&apos;re just re-inventing .edn"><y>#</y><d>2016-02-02</d><h>08:06</h><w>chrisoakman</w>You have to be careful not to add too much &quot;structure&quot; to it else you&apos;re just re-inventing .edn</z><z id="t1454400424" t="chrisoakman but in/out tests are a good case I think"><y>#</y><d>2016-02-02</d><h>08:07</h><w>chrisoakman</w>but in/out tests are a good case I think</z><z id="t1454400447" t="cfleming Nah, I’m thinking title, description in a paragraph and then in/out cases"><y>#</y><d>2016-02-02</d><h>08:07</h><w>cfleming</w>Nah, I’m thinking title, description in a paragraph and then in/out cases</z><z id="t1454400482" t="chrisoakman I think the .cljsdoc file or simple markdown would work great for that"><y>#</y><d>2016-02-02</d><h>08:08</h><w>chrisoakman</w>I think the .cljsdoc file or simple markdown would work great for that</z><z id="t1454400507" t="chrisoakman https://github.com/shaunlebron/parinfer/blob/master/lib/test/cases/build.js"><y>#</y><d>2016-02-02</d><h>08:08</h><w>chrisoakman</w><a href="https://github.com/shaunlebron/parinfer/blob/master/lib/test/cases/build.js" target="_blank">https://github.com/shaunlebron/parinfer/blob/master/lib/test/cases/build.js</a></z><z id="t1454400520" t="chrisoakman that&apos;s where he&apos;s parsing the .md files"><y>#</y><d>2016-02-02</d><h>08:08</h><w>chrisoakman</w>that&apos;s where he&apos;s parsing the .md files</z><z id="t1454400540" t="chrisoakman so glad you&apos;re looking into this simple_smile"><y>#</y><d>2016-02-02</d><h>08:09</h><w>chrisoakman</w>so glad you&apos;re looking into this <b>simple_smile</b></z><z id="t1454400565" t="cfleming I’m glad you wrote this, it was basically the next thing I was going to write"><y>#</y><d>2016-02-02</d><h>08:09</h><w>cfleming</w>I’m glad you wrote this, it was basically the next thing I was going to write</z><z id="t1454400580" t="chrisoakman I thought if I did the grunt work to get all the test cases passing it might make it much easier to integrate"><y>#</y><d>2016-02-02</d><h>08:09</h><w>chrisoakman</w>I thought if I did the grunt work to get all the test cases passing it might make it much easier to integrate</z><z id="t1454400590" t="cfleming Ok, got to go but will look into that and send more feedback tomorrow."><y>#</y><d>2016-02-02</d><h>08:09</h><w>cfleming</w>Ok, got to go but will look into that and send more feedback tomorrow.</z><z id="t1454400594" t="chrisoakman great; let me know"><y>#</y><d>2016-02-02</d><h>08:09</h><w>chrisoakman</w>great; let me know</z><z id="t1454400598" t="cfleming Yeah, absolutely, thanks!"><y>#</y><d>2016-02-02</d><h>08:09</h><w>cfleming</w>Yeah, absolutely, thanks!</z><z id="t1454400609" t="chrisoakman np"><y>#</y><d>2016-02-02</d><h>08:10</h><w>chrisoakman</w>np</z><z id="t1454400613" t="cfleming I’ll have to modify the result to work in Cursive but having the starting point will help a lot."><y>#</y><d>2016-02-02</d><h>08:10</h><w>cfleming</w>I’ll have to modify the result to work in Cursive but having the starting point will help a lot.</z><z id="t1454400622" t="cfleming I already have parsers and lexers etc"><y>#</y><d>2016-02-02</d><h>08:10</h><w>cfleming</w>I already have parsers and lexers etc</z><z id="t1454400639" t="chrisoakman yeah - I know you&apos;ve mentioned that"><y>#</y><d>2016-02-02</d><h>08:10</h><w>chrisoakman</w>yeah - I know you&apos;ve mentioned that</z><z id="t1454400640" t="cfleming Which take care of chars inside strings etc"><y>#</y><d>2016-02-02</d><h>08:10</h><w>cfleming</w>Which take care of chars inside strings etc</z><z id="t1454400648" t="chrisoakman that&apos;s one of the things I&apos;m curious about - how fast is this?"><y>#</y><d>2016-02-02</d><h>08:10</h><w>chrisoakman</w>that&apos;s one of the things I&apos;m curious about - how fast is this?</z><z id="t1454400658" t="cfleming Not sure, I’ll tell you tomorrow simple_smile"><y>#</y><d>2016-02-02</d><h>08:10</h><w>cfleming</w>Not sure, I’ll tell you tomorrow <b>simple_smile</b></z><z id="t1454400662" t="chrisoakman because in JS it&apos;s super fast"><y>#</y><d>2016-02-02</d><h>08:11</h><w>chrisoakman</w>because in JS it&apos;s super fast</z><z id="t1454400669" t="chrisoakman ok, ok"><y>#</y><d>2016-02-02</d><h>08:11</h><w>chrisoakman</w>ok, ok</z><z id="t1454400682" t="cfleming I’ll compare it to a version with a JFlex lexer too, be interesting to see the comparison"><y>#</y><d>2016-02-02</d><h>08:11</h><w>cfleming</w>I’ll compare it to a version with a JFlex lexer too, be interesting to see the comparison</z><z id="t1454400700" t="chrisoakman looking forward to it simple_smile"><y>#</y><d>2016-02-02</d><h>08:11</h><w>chrisoakman</w>looking forward to it <b>simple_smile</b></z><z id="t1454400707" t="cfleming Cool, talk to you tomorrow"><y>#</y><d>2016-02-02</d><h>08:11</h><w>cfleming</w>Cool, talk to you tomorrow</z><z id="t1454445381" t="thomas Hi, can parinfer (in Atom) do block comment?"><y>#</y><d>2016-02-02</d><h>20:36</h><w>thomas</w>Hi, can parinfer (in Atom) do block comment?</z><z id="t1454453311" t="cfleming [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] : How are you currently creating the parinfer jar? Just with a command line invocation?"><y>#</y><d>2016-02-02</d><h>22:48</h><w>cfleming</w><a>@chrisoakman</a>: How are you currently creating the parinfer jar? Just with a command line invocation?</z><z id="t1454457368" t="chrisoakman [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : yes"><y>#</y><d>2016-02-02</d><h>23:56</h><w>chrisoakman</w><a>@cfleming</a>: yes</z><z id="t1454457377" t="chrisoakman the one in the README"><y>#</y><d>2016-02-02</d><h>23:56</h><w>chrisoakman</w>the one in the  README</z><z id="t1454457396" t="cfleming Clearly I don’t know how to read instructions simple_smile"><y>#</y><d>2016-02-02</d><h>23:56</h><w>cfleming</w>Clearly I don’t know how to read instructions <b>simple_smile</b></z><z id="t1454457411" t="chrisoakman also when debugging I had a main function and would run inside of Intellij"><y>#</y><d>2016-02-02</d><h>23:56</h><w>chrisoakman</w>also when debugging I had a main function and would run inside of Intellij</z><z id="t1454457440" t="chrisoakman I have no idea if that&apos;s the optimal way to make a jar or not?"><y>#</y><d>2016-02-02</d><h>23:57</h><w>chrisoakman</w>I have no idea if that&apos;s the optimal way to make a jar or not?</z><z id="t1454457447" t="chrisoakman it&apos;s just what I was able to get working"><y>#</y><d>2016-02-02</d><h>23:57</h><w>chrisoakman</w>it&apos;s just what I was able to get working</z><z id="t1454457451" t="cfleming Ok. I’m just restructuring to build parinfer itself with Gradle so it will generate a proper artifact."><y>#</y><d>2016-02-02</d><h>23:57</h><w>cfleming</w>Ok. I’m just restructuring to build parinfer itself with Gradle so it will generate a proper artifact.</z><z id="t1454457470" t="chrisoakman awesome simple_smile"><y>#</y><d>2016-02-02</d><h>23:57</h><w>chrisoakman</w>awesome <b>simple_smile</b></z><z id="t1454457474" t="cfleming i.e. can be installed into the local repo etc"><y>#</y><d>2016-02-02</d><h>23:57</h><w>cfleming</w>i.e. can be installed into the local repo etc</z><z id="t1454457479" t="chrisoakman double awesome"><y>#</y><d>2016-02-02</d><h>23:57</h><w>chrisoakman</w>double awesome</z><z id="t1454457493" t="chrisoakman I knew I was not doing things as cleanly as possible (JVM inexperience)"><y>#</y><d>2016-02-02</d><h>23:58</h><w>chrisoakman</w>I knew I was not doing things as cleanly as possible (JVM inexperience)</z><z id="t1454457503" t="chrisoakman once I got it working I said &quot;ok - that&apos;s it! repeat those steps&quot;"><y>#</y><d>2016-02-02</d><h>23:58</h><w>chrisoakman</w>once I got it working I said &quot;ok - that&apos;s it! repeat those steps&quot;</z><z id="t1454457504" t="chrisoakman haha"><y>#</y><d>2016-02-02</d><h>23:58</h><w>chrisoakman</w>haha</z><z id="t1454457518" t="cfleming That sounds like me doing JavaScript simple_smile"><y>#</y><d>2016-02-02</d><h>23:58</h><w>cfleming</w>That sounds like me doing JavaScript <b>simple_smile</b></z><z id="t1454457537" t="cfleming It might be easier to add me as a contributor to the project rather than use pull requests, this is going to be a fairly large patch."><y>#</y><d>2016-02-02</d><h>23:58</h><w>cfleming</w>It might be easier to add me as a contributor to the project rather than use pull requests, this is going to be a fairly large patch.</z><z id="t1454457538" t="chrisoakman it&apos;s amazing how much &quot;tribal knowledge&quot; is baked into different development ecosystems"><y>#</y><d>2016-02-02</d><h>23:58</h><w>chrisoakman</w>it&apos;s amazing how much &quot;tribal knowledge&quot; is baked into different development ecosystems</z><z id="t1454457545" t="chrisoakman yeah; sure thing"><y>#</y><d>2016-02-02</d><h>23:59</h><w>chrisoakman</w>yeah; sure thing</z><z id="t1454457564" t="cfleming cursive-ide"><y>#</y><d>2016-02-02</d><h>23:59</h><w>cfleming</w>cursive-ide</z><z id="t1454457595" t="chrisoakman boom"><y>#</y><d>2016-02-02</d><h>23:59</h><w>chrisoakman</w>boom</z><z id="t1454457599" t="chrisoakman should be done"><y>#</y><d>2016-02-02</d><h>23:59</h><w>chrisoakman</w>should be done</z><z id="t1454457612" t="chrisoakman I did wrap the test suite in clojure.test today"><y>#</y><d>2016-02-03</d><h>00:00</h><w>chrisoakman</w>I did wrap the test suite in <code>clojure.test</code> today</z><z id="t1454457626" t="chrisoakman and added some of the tests that occur in parinfer.js"><y>#</y><d>2016-02-03</d><h>00:00</h><w>chrisoakman</w>and added some of the tests that occur in parinfer.js</z><z id="t1454457688" t="cfleming Cool, I’ll make it so that lein test works, and then we can remove the main"><y>#</y><d>2016-02-03</d><h>00:01</h><w>cfleming</w>Cool, I’ll make it so that <code>lein test</code> works, and then we can remove the main</z><z id="t1454457704" t="chrisoakman ok"><y>#</y><d>2016-02-03</d><h>00:01</h><w>chrisoakman</w>ok</z><z id="t1454457712" t="chrisoakman I was going to add a really rudimentary speed tests"><y>#</y><d>2016-02-03</d><h>00:01</h><w>chrisoakman</w>I was going to add a really rudimentary speed tests</z><z id="t1454457729" t="chrisoakman the same speed test as parinfer.py; just to see how it compares there"><y>#</y><d>2016-02-03</d><h>00:02</h><w>chrisoakman</w>the same speed test as parinfer.py; just to see how it compares there</z><z id="t1454457736" t="chrisoakman basically parsing cljs.core"><y>#</y><d>2016-02-03</d><h>00:02</h><w>chrisoakman</w>basically parsing cljs.core</z><z id="t1454457748" t="chrisoakman but I fell asleep in my hammock 😉"><y>#</y><d>2016-02-03</d><h>00:02</h><w>chrisoakman</w>but I fell asleep in my hammock <b>😉</b></z><z id="t1454457779" t="cfleming Hehe"><y>#</y><d>2016-02-03</d><h>00:02</h><w>cfleming</w>Hehe</z><z id="t1454457806" t="cfleming Of course, I was doing this against my fork, and now I have to find the magic incantation to make git use the original repo"><y>#</y><d>2016-02-03</d><h>00:03</h><w>cfleming</w>Of course, I was doing this against my fork, and now I have to find the magic incantation to make git use the original repo</z><z id="t1454457834" t="chrisoakman git remote set-url ?"><y>#</y><d>2016-02-03</d><h>00:03</h><w>chrisoakman</w><code>git remote set-url</code> ?</z><z id="t1454457905" t="cfleming Here’s hoping"><y>#</y><d>2016-02-03</d><h>00:05</h><w>cfleming</w>Here’s hoping</z><z id="t1454458312" t="cfleming [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] : Ok, this seems to work. I haven’t done anything to the code, but I’ve gradleised the main project (now under parinfer/ in the repo) and the tests now run using lein test and I’ve removed the main function."><y>#</y><d>2016-02-03</d><h>00:11</h><w>cfleming</w><a>@chrisoakman</a>: Ok, this seems to work. I haven’t done anything to the code, but I’ve gradleised the main project (now under parinfer/ in the repo) and the tests now run using <code>lein test</code> and I’ve removed the main function.</z><z id="t1454458363" t="chrisoakman ok"><y>#</y><d>2016-02-03</d><h>00:12</h><w>chrisoakman</w>ok</z><z id="t1454458378" t="cfleming I’ll push this now, one sec."><y>#</y><d>2016-02-03</d><h>00:12</h><w>cfleming</w>I’ll push this now, one sec.</z><z id="t1454458803" t="cfleming [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] : Done, take a look."><y>#</y><d>2016-02-03</d><h>00:20</h><w>cfleming</w><a>@chrisoakman</a>: Done, take a look.</z><z id="t1454458815" t="cfleming I haven’t updated the README, actually, I’ll do that shortly."><y>#</y><d>2016-02-03</d><h>00:20</h><w>cfleming</w>I haven’t updated the README, actually, I’ll do that shortly.</z><z id="t1454458866" t="cfleming Under /paredit , do ./gradlew install , then under /paredit-test do lein test"><y>#</y><d>2016-02-03</d><h>00:21</h><w>cfleming</w>Under <code>/paredit</code>, do <code>./gradlew install</code>, then under <code>/paredit-test</code> do <code>lein test</code></z><z id="t1454458903" t="chrisoakman ok - I&apos;ll test that out"><y>#</y><d>2016-02-03</d><h>00:21</h><w>chrisoakman</w>ok - I&apos;ll test that out</z><z id="t1454458909" t="chrisoakman doing the speed thing right now"><y>#</y><d>2016-02-03</d><h>00:21</h><w>chrisoakman</w>doing the speed thing right now</z><z id="t1454458938" t="cfleming I’m going to check the actual code after some lunch."><y>#</y><d>2016-02-03</d><h>00:22</h><w>cfleming</w>I’m going to check the actual code after some lunch.</z><z id="t1454459960" t="chrisoakman I&apos;m seeing around ~600ms for indent and paren mode on cljs.core"><y>#</y><d>2016-02-03</d><h>00:39</h><w>chrisoakman</w>I&apos;m seeing around ~600ms for indent and paren mode on cljs.core</z><z id="t1454459971" t="chrisoakman if these timestamps are to be trusted"><y>#</y><d>2016-02-03</d><h>00:39</h><w>chrisoakman</w>if these timestamps are to be trusted</z><z id="t1454459981" t="chrisoakman which is slower than Python and JS"><y>#</y><d>2016-02-03</d><h>00:39</h><w>chrisoakman</w>which is slower than Python and JS</z><z id="t1454459989" t="chrisoakman which is a bummer, if that&apos;s true"><y>#</y><d>2016-02-03</d><h>00:39</h><w>chrisoakman</w>which is a bummer, if that&apos;s true</z><z id="t1454460023" t="chrisoakman there is something about how the JVM &quot;warms up&quot; though? and could effect the time if it had been running for a long time"><y>#</y><d>2016-02-03</d><h>00:40</h><w>chrisoakman</w>there is something about how the JVM &quot;warms up&quot; though? and could effect the time if it had been running for a long time</z><z id="t1454460028" t="chrisoakman I don&apos;t know"><y>#</y><d>2016-02-03</d><h>00:40</h><w>chrisoakman</w>I don&apos;t know</z><z id="t1454460785" t="cfleming [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] : How are you testing that?"><y>#</y><d>2016-02-03</d><h>00:53</h><w>cfleming</w><a>@chrisoakman</a>: How are you testing that?</z><z id="t1454460822" t="chrisoakman https://gist.github.com/oakmac/e6749a63565249e296d6"><y>#</y><d>2016-02-03</d><h>00:53</h><w>chrisoakman</w><a href="https://gist.github.com/oakmac/e6749a63565249e296d6" target="_blank">https://gist.github.com/oakmac/e6749a63565249e296d6</a></z><z id="t1454460845" t="chrisoakman so very rudimentary"><y>#</y><d>2016-02-03</d><h>00:54</h><w>chrisoakman</w>so very rudimentary</z><z id="t1454460952" t="cfleming Yeah, that won’t do it at all."><y>#</y><d>2016-02-03</d><h>00:55</h><w>cfleming</w>Yeah, that won’t do it at all.</z><z id="t1454460963" t="cfleming You really need to use criterium."><y>#</y><d>2016-02-03</d><h>00:56</h><w>cfleming</w>You really need to use criterium.</z><z id="t1454460996" t="chrisoakman this is crazy..."><y>#</y><d>2016-02-03</d><h>00:56</h><w>chrisoakman</w>this is crazy...</z><z id="t1454461000" t="chrisoakman you know my SENTINEL_NULL hack?"><y>#</y><d>2016-02-03</d><h>00:56</h><w>chrisoakman</w>you know my <code>SENTINEL_NULL</code> hack?</z><z id="t1454461028" t="chrisoakman out of curiosity I made that same change to the JS version"><y>#</y><d>2016-02-03</d><h>00:57</h><w>chrisoakman</w>out of curiosity I made that same change to the JS version</z><z id="t1454461040" t="chrisoakman seeing noticeable performance improvement because of it"><y>#</y><d>2016-02-03</d><h>00:57</h><w>chrisoakman</w>seeing noticeable performance improvement because of it</z><z id="t1454461049" t="chrisoakman gotta make sure this isn&apos;t a fluke..."><y>#</y><d>2016-02-03</d><h>00:57</h><w>chrisoakman</w>gotta make sure this isn&apos;t a fluke...</z><z id="t1454461179" t="cfleming I’m replacing that with actual nulls at the moment"><y>#</y><d>2016-02-03</d><h>00:59</h><w>cfleming</w>I’m replacing that with actual nulls at the moment</z><z id="t1454461186" t="cfleming In the JVM version."><y>#</y><d>2016-02-03</d><h>00:59</h><w>cfleming</w>In the JVM version.</z><z id="t1454461357" t="chrisoakman we should probably get a performance testing harness up"><y>#</y><d>2016-02-03</d><h>01:02</h><w>chrisoakman</w>we should probably get a performance testing harness up</z><z id="t1454461920" t="cfleming [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] : I see what you mean about the null checking being difficult. It’s because the result fields are vars, so you don’t get a lot of the nice smart casting, because multiple threads might be modifying it concurrently."><y>#</y><d>2016-02-03</d><h>01:12</h><w>cfleming</w><a>@chrisoakman</a>: I see what you mean about the null checking being difficult. It’s because the <code>result</code> fields are vars, so you don’t get a lot of the nice smart casting, because multiple threads might be modifying it concurrently.</z><z id="t1454462024" t="chrisoakman ok"><y>#</y><d>2016-02-03</d><h>01:13</h><w>chrisoakman</w>ok</z><z id="t1454462049" t="chrisoakman man - this is nice simple_smile"><y>#</y><d>2016-02-03</d><h>01:14</h><w>chrisoakman</w>man - this is nice <b>simple_smile</b></z><z id="t1454462052" t="chrisoakman you know about the JVM"><y>#</y><d>2016-02-03</d><h>01:14</h><w>chrisoakman</w>you know about the JVM</z><z id="t1454462061" t="chrisoakman and I&apos;m very familiar with parinfer implementation algorithm"><y>#</y><d>2016-02-03</d><h>01:14</h><w>chrisoakman</w>and I&apos;m very familiar with parinfer implementation algorithm</z><z id="t1454462119" t="chrisoakman one big question I had was: is it faster to use Java Objects or a HashMap?"><y>#</y><d>2016-02-03</d><h>01:15</h><w>chrisoakman</w>one big question I had was: is it faster to use Java Objects or a HashMap?</z><z id="t1454462122" t="chrisoakman for result"><y>#</y><d>2016-02-03</d><h>01:15</h><w>chrisoakman</w>for result</z><z id="t1454462470" t="chrisoakman just tried the SENTINEL_NULL hack in Python: no speed improvement"><y>#</y><d>2016-02-03</d><h>01:21</h><w>chrisoakman</w>just tried the <code>SENTINEL_NULL</code> hack in Python: no speed improvement</z><z id="t1454462569" t="chrisoakman if anything it might be a touch slower"><y>#</y><d>2016-02-03</d><h>01:22</h><w>chrisoakman</w>if anything it might be a touch slower</z><z id="t1454462575" t="chrisoakman this must be a JS engine optimization thing"><y>#</y><d>2016-02-03</d><h>01:22</h><w>chrisoakman</w>this must be a JS engine optimization thing</z><z id="t1454462576" t="chrisoakman under the hood"><y>#</y><d>2016-02-03</d><h>01:22</h><w>chrisoakman</w>under the hood</z><z id="t1454463727" t="chrisoakman tell me I am not crazy:"><y>#</y><d>2016-02-03</d><h>01:42</h><w>chrisoakman</w>tell me I am not crazy:</z><z id="t1454463728" t="chrisoakman https://gist.github.com/oakmac/ede280269cfd9660f051"><y>#</y><d>2016-02-03</d><h>01:42</h><w>chrisoakman</w><a href="https://gist.github.com/oakmac/ede280269cfd9660f051" target="_blank">https://gist.github.com/oakmac/ede280269cfd9660f051</a></z><z id="t1454463733" t="chrisoakman https://gist.github.com/oakmac/b4200f2cf98f856af32b"><y>#</y><d>2016-02-03</d><h>01:42</h><w>chrisoakman</w><a href="https://gist.github.com/oakmac/b4200f2cf98f856af32b" target="_blank">https://gist.github.com/oakmac/b4200f2cf98f856af32b</a></z><z id="t1454463746" t="chrisoakman but that is a noticeable perf improvement"><y>#</y><d>2016-02-03</d><h>01:42</h><w>chrisoakman</w>but that is a noticeable perf improvement</z><z id="t1454465726" t="chrisoakman https://github.com/shaunlebron/parinfer/pull/88"><y>#</y><d>2016-02-03</d><h>02:15</h><w>chrisoakman</w><a href="https://github.com/shaunlebron/parinfer/pull/88" target="_blank">https://github.com/shaunlebron/parinfer/pull/88</a></z><z id="t1454467091" t="cfleming That’s bizarre"><y>#</y><d>2016-02-03</d><h>02:38</h><w>cfleming</w>That’s bizarre</z><z id="t1454468182" t="chrisoakman just added a table of the result averages"><y>#</y><d>2016-02-03</d><h>02:56</h><w>chrisoakman</w>just added a table of the result averages</z><z id="t1454468190" t="chrisoakman it&apos;s almost hard to believe how much the difference is on the long file"><y>#</y><d>2016-02-03</d><h>02:56</h><w>chrisoakman</w>it&apos;s almost hard to believe how much the difference is on the long file</z><z id="t1454468407" t="chrisoakman [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : we gotta set up a performance harness for the JVM version"><y>#</y><d>2016-02-03</d><h>03:00</h><w>chrisoakman</w><a>@cfleming</a>: we gotta set up a performance harness for the JVM version</z><z id="t1454468421" t="chrisoakman well"><y>#</y><d>2016-02-03</d><h>03:00</h><w>chrisoakman</w>well</z><z id="t1454468427" t="chrisoakman actually - maybe more important to get it in Cursive first?"><y>#</y><d>2016-02-03</d><h>03:00</h><w>chrisoakman</w>actually - maybe more important to get it in Cursive first?</z><z id="t1454468429" t="cfleming [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] : Ok, I’ll do that next."><y>#</y><d>2016-02-03</d><h>03:00</h><w>cfleming</w><a>@chrisoakman</a>: Ok, I’ll do that next.</z><z id="t1454468441" t="cfleming No, I think we should perf test it."><y>#</y><d>2016-02-03</d><h>03:00</h><w>cfleming</w>No, I think we should perf test it.</z><z id="t1454468447" t="cfleming I have some more changes to check in."><y>#</y><d>2016-02-03</d><h>03:00</h><w>cfleming</w>I have some more changes to check in.</z><z id="t1454468462" t="chrisoakman I can&apos;t even believe that JS difference; I&apos;m double-checking my spreadsheet now"><y>#</y><d>2016-02-03</d><h>03:01</h><w>chrisoakman</w>I can&apos;t even believe that JS difference; I&apos;m double-checking my spreadsheet now</z><z id="t1454468479" t="cfleming Yeah, that’s bizarre alright, but who knows what the JIT does with it?"><y>#</y><d>2016-02-03</d><h>03:01</h><w>cfleming</w>Yeah, that’s bizarre alright, but who knows what the JIT does with it?</z><z id="t1454468482" t="chrisoakman I guess v8 optimizations are not to be under-estimated"><y>#</y><d>2016-02-03</d><h>03:01</h><w>chrisoakman</w>I guess v8 optimizations are not to be under-estimated</z><z id="t1454468488" t="cfleming Absolutely not."><y>#</y><d>2016-02-03</d><h>03:01</h><w>cfleming</w>Absolutely not.</z><z id="t1454468633" t="cfleming I’m planning to create a ParenTrail object to store in result. I believe that can contain all non-nullable vars, and then MutableResult can just have a nullable ParenTrail ref."><y>#</y><d>2016-02-03</d><h>03:03</h><w>cfleming</w>I’m planning to create a ParenTrail object to store in result. I believe that can contain all non-nullable vars, and then MutableResult can just have a nullable ParenTrail ref.</z><z id="t1454468657" t="cfleming That will avoid a bunch of null checks and casts I had to do to make Kotlin happy."><y>#</y><d>2016-02-03</d><h>03:04</h><w>cfleming</w>That will avoid a bunch of null checks and casts I had to do to make Kotlin happy.</z><z id="t1454468674" t="chrisoakman ok"><y>#</y><d>2016-02-03</d><h>03:04</h><w>chrisoakman</w>ok</z><z id="t1454468682" t="cfleming I have to go shortly, but the next thing I’ll do is set up a test harness for the perf testing."><y>#</y><d>2016-02-03</d><h>03:04</h><w>cfleming</w>I have to go shortly, but the next thing I’ll do is set up a test harness for the perf testing.</z><z id="t1454468684" t="chrisoakman you see I decided to just &quot;add&quot; the parenTrail object to the result?"><y>#</y><d>2016-02-03</d><h>03:04</h><w>chrisoakman</w>you see I decided to just &quot;add&quot; the parenTrail object to the result?</z><z id="t1454468697" t="chrisoakman ok"><y>#</y><d>2016-02-03</d><h>03:04</h><w>chrisoakman</w>ok</z><z id="t1454468710" t="cfleming Actually, I haven’t compared that closely to the JS yet, I will do."><y>#</y><d>2016-02-03</d><h>03:05</h><w>cfleming</w>Actually, I haven’t compared that closely to the JS yet, I will do.</z><z id="t1454468723" t="chrisoakman in the JS and python version &quot;parenTrail&quot; is an object / dict"><y>#</y><d>2016-02-03</d><h>03:05</h><w>chrisoakman</w>in the JS and python version &quot;parenTrail&quot; is an object / dict</z><z id="t1454468726" t="cfleming I have some changes I’m about to push, all tests still pass."><y>#</y><d>2016-02-03</d><h>03:05</h><w>cfleming</w>I have some changes I’m about to push, all tests still pass.</z><z id="t1454468730" t="chrisoakman kk"><y>#</y><d>2016-02-03</d><h>03:05</h><w>chrisoakman</w>kk</z><z id="t1454468746" t="chrisoakman basically I didn&apos;t want to create another object definition, so I rolled it into the MutableResult object"><y>#</y><d>2016-02-03</d><h>03:05</h><w>chrisoakman</w>basically I didn&apos;t want to create another object definition, so I rolled it into the MutableResult object</z><z id="t1454468763" t="chrisoakman but it would be closer in spirit to the JS version if there were a parenTrail object"><y>#</y><d>2016-02-03</d><h>03:06</h><w>chrisoakman</w>but it would be closer in spirit to the JS version if there were a parenTrail object</z><z id="t1454468769" t="cfleming Oh, that’s basically what I’m planning to do here - it’ll work better since then there’s just one check - do we have a paren trail or not, and not a bunch of null checks for each of the individual vars."><y>#</y><d>2016-02-03</d><h>03:06</h><w>cfleming</w>Oh, that’s basically what I’m planning to do here - it’ll work better since then there’s just one check - do we have a paren trail or not, and not a bunch of null checks for each of the individual vars.</z><z id="t1454468779" t="cfleming Ok."><y>#</y><d>2016-02-03</d><h>03:06</h><w>cfleming</w>Ok.</z><z id="t1454468797" t="chrisoakman gotcha"><y>#</y><d>2016-02-03</d><h>03:06</h><w>chrisoakman</w>gotcha</z><z id="t1454468804" t="chrisoakman are objects faster than hashmaps?"><y>#</y><d>2016-02-03</d><h>03:06</h><w>chrisoakman</w>are objects faster than hashmaps?</z><z id="t1454468816" t="chrisoakman that was my other big question"><y>#</y><d>2016-02-03</d><h>03:06</h><w>chrisoakman</w>that was my other big question</z><z id="t1454468847" t="chrisoakman MutableResult could just be a HashMap"><y>#</y><d>2016-02-03</d><h>03:07</h><w>chrisoakman</w>MutableResult could just be a HashMap</z><z id="t1454468948" t="cfleming Yes, probably."><y>#</y><d>2016-02-03</d><h>03:09</h><w>cfleming</w>Yes, probably.</z><z id="t1454468960" t="cfleming Again, have to test it, but almost certainly yes."><y>#</y><d>2016-02-03</d><h>03:09</h><w>cfleming</w>Again, have to test it, but almost certainly yes.</z><z id="t1454468964" t="cfleming Just pushed my changes."><y>#</y><d>2016-02-03</d><h>03:09</h><w>cfleming</w>Just pushed my changes.</z><z id="t1454468982" t="cfleming You’ll see a bunch of as Int casts, they can go with the ParenTrail change I think."><y>#</y><d>2016-02-03</d><h>03:09</h><w>cfleming</w>You’ll see a bunch of <code>as Int</code> casts, they can go with the ParenTrail change I think.</z><z id="t1454468994" t="cfleming Ok, gotta go, talk to you later."><y>#</y><d>2016-02-03</d><h>03:09</h><w>cfleming</w>Ok, gotta go, talk to you later.</z><z id="t1454469160" t="chrisoakman later"><y>#</y><d>2016-02-03</d><h>03:12</h><w>chrisoakman</w>later</z><z id="t1454469178" t="chrisoakman let&apos;s make sure we keep the README up-to-date"><y>#</y><d>2016-02-03</d><h>03:12</h><w>chrisoakman</w>let&apos;s make sure we keep the README up-to-date</z><z id="t1454469190" t="chrisoakman I&apos;ll add the new gradle instructions"><y>#</y><d>2016-02-03</d><h>03:13</h><w>chrisoakman</w>I&apos;ll add the new gradle instructions</z><z id="t1454488017" t="cfleming Great, thanks."><y>#</y><d>2016-02-03</d><h>08:26</h><w>cfleming</w>Great, thanks.</z><z id="t1454543000" t="cfleming [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] : Here are the perf results using Criterium: ~/d/p/parinfer-test (master)&gt; lein with-profile bench run Evaluation count : 1380 in 60 samples of 23 calls. Execution time mean : 45.121138 ms Execution time std-deviation : 446.875947 µs Execution time lower quantile : 44.435676 ms ( 2.5%) Execution time upper quantile : 46.004253 ms (97.5%) Overhead used : 1.672151 ns Evaluation count : 1380 in 60 samples of 23 calls. Execution time mean : 45.253843 ms Execution time std-deviation : 1.039081 ms Execution time lower quantile : 44.084716 ms ( 2.5%) Execution time upper quantile : 47.587892 ms (97.5%) Overhead used : 1.672151 ns Found 3 outliers in 60 samples (5.0000 %) low-severe 3 (5.0000 %) Variance from outliers : 10.9943 % Variance is moderately inflated by outliers "><y>#</y><d>2016-02-03</d><h>23:43</h><w>cfleming</w><a>@chrisoakman</a>: Here are the perf results using Criterium:
<pre>~/d/p/parinfer-test (master)&gt; lein with-profile bench run
Evaluation count : 1380 in 60 samples of 23 calls.
             Execution time mean : 45.121138 ms
    Execution time std-deviation : 446.875947 µs
   Execution time lower quantile : 44.435676 ms ( 2.5%)
   Execution time upper quantile : 46.004253 ms (97.5%)
                   Overhead used : 1.672151 ns
Evaluation count : 1380 in 60 samples of 23 calls.
             Execution time mean : 45.253843 ms
    Execution time std-deviation : 1.039081 ms
   Execution time lower quantile : 44.084716 ms ( 2.5%)
   Execution time upper quantile : 47.587892 ms (97.5%)
                   Overhead used : 1.672151 ns

Found 3 outliers in 60 samples (5.0000 %)
	low-severe	 3 (5.0000 %)
 Variance from outliers : 10.9943 % Variance is moderately inflated by outliers
</pre></z><z id="t1454543009" t="cfleming ~45ms"><y>#</y><d>2016-02-03</d><h>23:43</h><w>cfleming</w>~45ms</z><z id="t1454543027" t="cfleming I saw there’s some spots that I can optimise there, too, I’ll do that now."><y>#</y><d>2016-02-03</d><h>23:43</h><w>cfleming</w>I saw there’s some spots that I can optimise there, too, I’ll do that now.</z><z id="t1454543068" t="cfleming Those two results are indent mode and paren mode on really_long_file"><y>#</y><d>2016-02-03</d><h>23:44</h><w>cfleming</w>Those two results are indent mode and paren mode on <code>really_long_file</code></z><z id="t1454545496" t="chrisoakman awesome simple_smile"><y>#</y><d>2016-02-04</d><h>00:24</h><w>chrisoakman</w>awesome <b>simple_smile</b></z><z id="t1454545503" t="chrisoakman thanks for setting that up"><y>#</y><d>2016-02-04</d><h>00:25</h><w>chrisoakman</w>thanks for setting that up</z><z id="t1454545514" t="chrisoakman I was planning on playing around with it, but will focus on something else"><y>#</y><d>2016-02-04</d><h>00:25</h><w>chrisoakman</w>I was planning on playing around with it, but will focus on something else</z><z id="t1454545563" t="chrisoakman haha - I like that you kept lots-o-clojure"><y>#</y><d>2016-02-04</d><h>00:26</h><w>chrisoakman</w>haha - I like that you kept <code>lots-o-clojure</code></z><z id="t1454545632" t="cfleming Definitely simple_smile"><y>#</y><d>2016-02-04</d><h>00:27</h><w>cfleming</w>Definitely <b>simple_smile</b></z><z id="t1454545634" t="chrisoakman man - JS is beating the pants off this JVM version"><y>#</y><d>2016-02-04</d><h>00:27</h><w>chrisoakman</w>man - JS is beating the pants off this JVM version</z><z id="t1454545652" t="chrisoakman but now we know that with confidence"><y>#</y><d>2016-02-04</d><h>00:27</h><w>chrisoakman</w>but now we know that with confidence</z><z id="t1454545653" t="cfleming Really?"><y>#</y><d>2016-02-04</d><h>00:27</h><w>cfleming</w>Really?</z><z id="t1454545654" t="chrisoakman and can optimize"><y>#</y><d>2016-02-04</d><h>00:27</h><w>chrisoakman</w>and can optimize</z><z id="t1454545663" t="cfleming What’s the timing for JS on that test?"><y>#</y><d>2016-02-04</d><h>00:27</h><w>cfleming</w>What’s the timing for JS on that test?</z><z id="t1454545688" t="chrisoakman the values in the table here: https://github.com/shaunlebron/parinfer/pull/88"><y>#</y><d>2016-02-04</d><h>00:28</h><w>chrisoakman</w>the values in the table here: <a href="https://github.com/shaunlebron/parinfer/pull/88" target="_blank">https://github.com/shaunlebron/parinfer/pull/88</a></z><z id="t1454545737" t="cfleming Is this the equivalent of the really_long_file values?"><y>#</y><d>2016-02-04</d><h>00:28</h><w>cfleming</w>Is this the equivalent of the really_long_file values?</z><z id="t1454545746" t="chrisoakman indent mode for really_long_file is around 12ms, 23ms for paren mode"><y>#</y><d>2016-02-04</d><h>00:29</h><w>chrisoakman</w>indent mode for really_long_file is around 12ms, 23ms for paren mode</z><z id="t1454545755" t="cfleming Interesting"><y>#</y><d>2016-02-04</d><h>00:29</h><w>cfleming</w>Interesting</z><z id="t1454545769" t="cfleming There are definitely improvements to be made, I’m working on them now"><y>#</y><d>2016-02-04</d><h>00:29</h><w>cfleming</w>There are definitely improvements to be made, I’m working on them now</z><z id="t1454545782" t="chrisoakman sweet"><y>#</y><d>2016-02-04</d><h>00:29</h><w>chrisoakman</w>sweet</z><z id="t1454545794" t="chrisoakman I am going to set up travis-ci to run the test suite on every commit"><y>#</y><d>2016-02-04</d><h>00:29</h><w>chrisoakman</w>I am going to set up travis-ci to run the test suite on every commit</z><z id="t1454545800" t="chrisoakman I think that should be not-too-hard to set up"><y>#</y><d>2016-02-04</d><h>00:30</h><w>chrisoakman</w>I think that should be not-too-hard to set up</z><z id="t1454545870" t="chrisoakman wonder what happens to the performance if you put SENTINEL_NULL back in?"><y>#</y><d>2016-02-04</d><h>00:31</h><w>chrisoakman</w>wonder what happens to the performance if you put SENTINEL_NULL back in?</z><z id="t1454545896" t="cfleming Hmm, not sure"><y>#</y><d>2016-02-04</d><h>00:31</h><w>cfleming</w>Hmm, not sure</z><z id="t1454545911" t="cfleming I’d be surprised if it made much difference, but I was surprised with JS too simple_smile"><y>#</y><d>2016-02-04</d><h>00:31</h><w>cfleming</w>I’d be surprised if it made much difference, but I was surprised with JS too <b>simple_smile</b></z><z id="t1454545925" t="cfleming You could run the bench against the original version I guess"><y>#</y><d>2016-02-04</d><h>00:32</h><w>cfleming</w>You could run the bench against the original version I guess</z><z id="t1454545959" t="chrisoakman I might give that a try; going to set up travis-ci first"><y>#</y><d>2016-02-04</d><h>00:32</h><w>chrisoakman</w>I might give that a try; going to set up travis-ci first</z><z id="t1454546566" t="cfleming ~/d/p/parinfer-test (master)&gt; lein with-profile bench run Evaluation count : 4920 in 60 samples of 82 calls. Execution time mean : 12.537784 ms Execution time std-deviation : 436.185958 µs Execution time lower quantile : 11.935113 ms ( 2.5%) Execution time upper quantile : 13.447069 ms (97.5%) Overhead used : 1.707955 ns Evaluation count : 5280 in 60 samples of 88 calls. Execution time mean : 11.775496 ms Execution time std-deviation : 408.468619 µs Execution time lower quantile : 11.253086 ms ( 2.5%) Execution time upper quantile : 12.753575 ms (97.5%) Overhead used : 1.707955 ns Found 5 outliers in 60 samples (8.3333 %) low-severe 5 (8.3333 %) Variance from outliers : 20.6507 % Variance is moderately inflated by outliers "><y>#</y><d>2016-02-04</d><h>00:42</h><w>cfleming</w><pre>~/d/p/parinfer-test (master)&gt; lein with-profile bench run
Evaluation count : 4920 in 60 samples of 82 calls.
             Execution time mean : 12.537784 ms
    Execution time std-deviation : 436.185958 µs
   Execution time lower quantile : 11.935113 ms ( 2.5%)
   Execution time upper quantile : 13.447069 ms (97.5%)
                   Overhead used : 1.707955 ns
Evaluation count : 5280 in 60 samples of 88 calls.
             Execution time mean : 11.775496 ms
    Execution time std-deviation : 408.468619 µs
   Execution time lower quantile : 11.253086 ms ( 2.5%)
   Execution time upper quantile : 12.753575 ms (97.5%)
                   Overhead used : 1.707955 ns

Found 5 outliers in 60 samples (8.3333 %)
	low-severe	 5 (8.3333 %)
 Variance from outliers : 20.6507 % Variance is moderately inflated by outliers
</pre></z><z id="t1454546627" t="cfleming I replaced a few of your functions with stdlib equivalents that are more efficient, especially around repeated String concatenation."><y>#</y><d>2016-02-04</d><h>00:43</h><w>cfleming</w>I replaced a few of your functions with stdlib equivalents that are more efficient, especially around repeated String concatenation.</z><z id="t1454546639" t="cfleming Perhaps V8 is better at optimising that?"><y>#</y><d>2016-02-04</d><h>00:43</h><w>cfleming</w>Perhaps V8 is better at optimising that?</z><z id="t1454546661" t="chrisoakman oh man 😄 😄 😄"><y>#</y><d>2016-02-04</d><h>00:44</h><w>chrisoakman</w>oh man <b>😄</b> <b>😄</b> <b>😄</b></z><z id="t1454546670" t="chrisoakman this is quite exciting"><y>#</y><d>2016-02-04</d><h>00:44</h><w>chrisoakman</w>this is quite exciting</z><z id="t1454546788" t="cfleming Is it true that http://result.ch is always a character, or empty?"><y>#</y><d>2016-02-04</d><h>00:46</h><w>cfleming</w>Is it true that <a href="http://result.ch" target="_blank">http://result.ch</a> is always a character, or empty?</z><z id="t1454546810" t="chrisoakman I believe so"><y>#</y><d>2016-02-04</d><h>00:46</h><w>chrisoakman</w>I believe so</z><z id="t1454546831" t="cfleming Thinking about it, parinfer doesn’t do anything special for #( and #{ , right?"><y>#</y><d>2016-02-04</d><h>00:47</h><w>cfleming</w>Thinking about it, parinfer doesn’t do anything special for <code>#(</code> and <code>#{</code>, right?</z><z id="t1454546842" t="chrisoakman hmmm"><y>#</y><d>2016-02-04</d><h>00:47</h><w>chrisoakman</w>hmmm</z><z id="t1454546849" t="chrisoakman I&apos;m not sure; Shaun would know the answer to that question"><y>#</y><d>2016-02-04</d><h>00:47</h><w>chrisoakman</w>I&apos;m not sure; Shaun would know the answer to that question</z><z id="t1454546857" t="chrisoakman I know he had to make some change in order to support Racket"><y>#</y><d>2016-02-04</d><h>00:47</h><w>chrisoakman</w>I know he had to make some change in order to support Racket</z><z id="t1454546858" t="cfleming Are there tests around those cases?"><y>#</y><d>2016-02-04</d><h>00:47</h><w>cfleming</w>Are there tests around those cases?</z><z id="t1454546867" t="chrisoakman there might be"><y>#</y><d>2016-02-04</d><h>00:47</h><w>chrisoakman</w>there might be</z><z id="t1454546886" t="chrisoakman it&apos;s his first week working at Stripe, so he&apos;s not around as much"><y>#</y><d>2016-02-04</d><h>00:48</h><w>chrisoakman</w>it&apos;s his first week working at Stripe, so he&apos;s not around as much</z><z id="t1454546900" t="chrisoakman although I spoke with him last night; he is pretty excited about parinfer-jvm as well as the JS speed-up"><y>#</y><d>2016-02-04</d><h>00:48</h><w>chrisoakman</w>although I spoke with him last night; he is pretty excited about parinfer-jvm as well as the JS speed-up</z><z id="t1454546900" t="cfleming Fair enough simple_smile"><y>#</y><d>2016-02-04</d><h>00:48</h><w>cfleming</w>Fair enough <b>simple_smile</b></z><z id="t1454546924" t="cfleming Here’s hoping Stripe will soon be running on Clojure and CLJS simple_smile"><y>#</y><d>2016-02-04</d><h>00:48</h><w>cfleming</w>Here’s hoping Stripe will soon be running on Clojure and CLJS <b>simple_smile</b></z><z id="t1454546933" t="chrisoakman yeah"><y>#</y><d>2016-02-04</d><h>00:48</h><w>chrisoakman</w>yeah</z><z id="t1454546942" t="chrisoakman here&apos;s hoping"><y>#</y><d>2016-02-04</d><h>00:49</h><w>chrisoakman</w>here&apos;s hoping</z><z id="t1454546945" t="cfleming Then I can sell them tons of licences - booohahahahaha"><y>#</y><d>2016-02-04</d><h>00:49</h><w>cfleming</w>Then I can sell them tons of licences - booohahahahaha</z><z id="t1454546950" t="chrisoakman haha"><y>#</y><d>2016-02-04</d><h>00:49</h><w>chrisoakman</w>haha</z><z id="t1454546956" t="chrisoakman gotta add parinfer to cursive first!"><y>#</y><d>2016-02-04</d><h>00:49</h><w>chrisoakman</w>gotta add parinfer to cursive first!</z><z id="t1454546963" t="chrisoakman how hard do you think that will be?"><y>#</y><d>2016-02-04</d><h>00:49</h><w>chrisoakman</w>how hard do you think that will be?</z><z id="t1454546967" t="cfleming I’m getting there, I’m getting there..."><y>#</y><d>2016-02-04</d><h>00:49</h><w>cfleming</w>I’m getting there, I’m getting there...</z><z id="t1454546976" t="chrisoakman there can be some trickiness adding parinfer to editors"><y>#</y><d>2016-02-04</d><h>00:49</h><w>chrisoakman</w>there can be some trickiness adding parinfer to editors</z><z id="t1454547006" t="cfleming I can probably do a naive impl relatively easily, but there’s a few bits around the edges making it user friendly."><y>#</y><d>2016-02-04</d><h>00:50</h><w>cfleming</w>I can probably do a naive impl relatively easily, but there’s a few bits around the edges making it user friendly.</z><z id="t1454547024" t="cfleming And I suspect I can make it more efficient with the lexer I use internally"><y>#</y><d>2016-02-04</d><h>00:50</h><w>cfleming</w>And I suspect I can make it more efficient with the lexer I use internally</z><z id="t1454547028" t="chrisoakman yeah - are you familiar with the &quot;parent expression&quot; hack that atom-parinfer uses?"><y>#</y><d>2016-02-04</d><h>00:50</h><w>chrisoakman</w>yeah - are you familiar with the &quot;parent expression&quot; hack that atom-parinfer uses?</z><z id="t1454547056" t="chrisoakman Shaun and I were talking about this last night; with the performance we&apos;re at now we might be able to just take it out"><y>#</y><d>2016-02-04</d><h>00:50</h><w>chrisoakman</w>Shaun and I were talking about this last night; with the performance we&apos;re at now we might be able to just take it out</z><z id="t1454547060" t="chrisoakman it&apos;s so fast already"><y>#</y><d>2016-02-04</d><h>00:51</h><w>chrisoakman</w>it&apos;s so fast already</z><z id="t1454547092" t="cfleming Yeah, I am. I’m actually planning to benchmark just parsing the top level forms from the top of the file until, say, the last one in really_large_file, and then parinfer’ing that."><y>#</y><d>2016-02-04</d><h>00:51</h><w>cfleming</w>Yeah, I am. I’m actually planning to benchmark just parsing the top level forms from the top of the file until, say, the last one in really_large_file, and then parinfer’ing that.</z><z id="t1454547115" t="chrisoakman haha - mental slip"><y>#</y><d>2016-02-04</d><h>00:51</h><w>chrisoakman</w>haha - mental slip</z></g><g id="s3"><z id="t1454547116" t="cfleming So no hack, but parsing to find the top level forms is faster."><y>#</y><d>2016-02-04</d><h>00:51</h><w>cfleming</w>So no hack, but parsing to find the top level forms is faster.</z><z id="t1454547119" t="chrisoakman you named a folder &quot;paredit&quot;"><y>#</y><d>2016-02-04</d><h>00:51</h><w>chrisoakman</w>you named a folder &quot;paredit&quot;</z><z id="t1454547128" t="cfleming Whoops"><y>#</y><d>2016-02-04</d><h>00:52</h><w>cfleming</w>Whoops</z><z id="t1454547141" t="chrisoakman I will fix it; I have to commit something in order to test travis-ci"><y>#</y><d>2016-02-04</d><h>00:52</h><w>chrisoakman</w>I will fix it; I have to commit something in order to test travis-ci</z><z id="t1454547144" t="cfleming Ok."><y>#</y><d>2016-02-04</d><h>00:52</h><w>cfleming</w>Ok.</z><z id="t1454547183" t="chrisoakman there might be a flurry of small commits in order to test that actually - nothing major"><y>#</y><d>2016-02-04</d><h>00:53</h><w>chrisoakman</w>there might be a flurry of small commits in order to test that actually - nothing major</z><z id="t1454547269" t="chrisoakman is it a convention to use the performance namespace?"><y>#</y><d>2016-02-04</d><h>00:54</h><w>chrisoakman</w>is it a convention to use the <code>performance</code> namespace?</z><z id="t1454547301" t="chrisoakman I was going to change that to parinfer-perf/core ?"><y>#</y><d>2016-02-04</d><h>00:55</h><w>chrisoakman</w>I was going to change that to <code>parinfer-perf/core</code> ?</z><z id="t1454547318" t="cfleming Sure, go for it."><y>#</y><d>2016-02-04</d><h>00:55</h><w>cfleming</w>Sure, go for it.</z><z id="t1454547321" t="chrisoakman ok"><y>#</y><d>2016-02-04</d><h>00:55</h><w>chrisoakman</w>ok</z><z id="t1454547331" t="chrisoakman wasn&apos;t sure if there was a convention there; I assume there is for tests"><y>#</y><d>2016-02-04</d><h>00:55</h><w>chrisoakman</w>wasn&apos;t sure if there was a convention there; I assume there is for tests</z><z id="t1454547349" t="cfleming does have DOUBLE_SPACE assigned to it, so it’s not just a char."><y>#</y><d>2016-02-04</d><h>00:55</h><w>cfleming</w><code></code> does have <code>DOUBLE_SPACE</code> assigned to it, so it’s not just a char.</z><z id="t1454547357" t="chrisoakman ahh"><y>#</y><d>2016-02-04</d><h>00:55</h><w>chrisoakman</w>ahh</z><z id="t1454547360" t="chrisoakman yes"><y>#</y><d>2016-02-04</d><h>00:56</h><w>chrisoakman</w>yes</z><z id="t1454547376" t="chrisoakman it would be faster if it were just a Char on the JVM?"><y>#</y><d>2016-02-04</d><h>00:56</h><w>chrisoakman</w>it would be faster if it were just a Char on the JVM?</z><z id="t1454547431" t="cfleming Not sure, I assume so, since that’s basically just a native int, not an object"><y>#</y><d>2016-02-04</d><h>00:57</h><w>cfleming</w>Not sure, I assume so, since that’s basically just a native int, not an object</z><z id="t1454547477" t="cfleming Looks like that’s only used for replacing tabs"><y>#</y><d>2016-02-04</d><h>00:57</h><w>cfleming</w>Looks like that’s only used for replacing tabs</z><z id="t1454547540" t="cfleming Ok, lunchtime, back in a bit."><y>#</y><d>2016-02-04</d><h>00:59</h><w>cfleming</w>Ok, lunchtime, back in a bit.</z><z id="t1454547763" t="cfleming I just pushed the perf improvements."><y>#</y><d>2016-02-04</d><h>01:02</h><w>cfleming</w>I just pushed the perf improvements.</z><z id="t1454548129" t="chrisoakman so sweet"><y>#</y><d>2016-02-04</d><h>01:08</h><w>chrisoakman</w>so sweet</z><z id="t1454548137" t="chrisoakman that test takes forever to run on my systme"><y>#</y><d>2016-02-04</d><h>01:08</h><w>chrisoakman</w>that test takes forever to run on my systme</z><z id="t1454548142" t="chrisoakman but I get similar results"><y>#</y><d>2016-02-04</d><h>01:09</h><w>chrisoakman</w>but I get similar results</z><z id="t1454548167" t="chrisoakman and your commit incidentally tested the build script"><y>#</y><d>2016-02-04</d><h>01:09</h><w>chrisoakman</w>and your commit incidentally tested the build script</z><z id="t1454548173" t="chrisoakman which worked perfect the first time"><y>#</y><d>2016-02-04</d><h>01:09</h><w>chrisoakman</w>which worked perfect the first time</z><z id="t1454548182" t="chrisoakman so we now have an automated build / test"><y>#</y><d>2016-02-04</d><h>01:09</h><w>chrisoakman</w>so we now have an automated build / test</z><z id="t1454549552" t="cfleming Yeah, the benchmark takes ages to ensure that the JIT has stabilised"><y>#</y><d>2016-02-04</d><h>01:32</h><w>cfleming</w>Yeah, the benchmark takes ages to ensure that the JIT has stabilised</z><z id="t1454549959" t="chrisoakman should we mark a v0.2.0 with your changes?"><y>#</y><d>2016-02-04</d><h>01:39</h><w>chrisoakman</w>should we mark a v0.2.0 with your changes?</z><z id="t1454550318" t="cfleming Yeah, that’s probably most of the low-hanging fruit."><y>#</y><d>2016-02-04</d><h>01:45</h><w>cfleming</w>Yeah, that’s probably most of the low-hanging fruit.</z><z id="t1454550562" t="chrisoakman do I need to add that number to build.gradle ?"><y>#</y><d>2016-02-04</d><h>01:49</h><w>chrisoakman</w>do I need to add that number to <code>build.gradle</code> ?</z><z id="t1454550583" t="chrisoakman in JS and Python people just include the file in their own builds"><y>#</y><d>2016-02-04</d><h>01:49</h><w>chrisoakman</w>in JS and Python people just include the file in their own builds</z><z id="t1454550598" t="chrisoakman in Java people use actual packages and .jar files, right?"><y>#</y><d>2016-02-04</d><h>01:49</h><w>chrisoakman</w>in Java people use actual packages and .jar files, right?</z><z id="t1454550610" t="cfleming Right."><y>#</y><d>2016-02-04</d><h>01:50</h><w>cfleming</w>Right.</z><z id="t1454550616" t="cfleming version &apos;1.0-SNAPSHOT&apos;"><y>#</y><d>2016-02-04</d><h>01:50</h><w>cfleming</w><code>version &apos;1.0-SNAPSHOT&apos;</code></z><z id="t1454550622" t="cfleming Is what you need to change"><y>#</y><d>2016-02-04</d><h>01:50</h><w>cfleming</w>Is what you need to change</z><z id="t1454550636" t="chrisoakman and is it ok to follow semver format there?"><y>#</y><d>2016-02-04</d><h>01:50</h><w>chrisoakman</w>and is it ok to follow semver format there?</z><z id="t1454550645" t="chrisoakman version &apos;0.2.0&apos;"><y>#</y><d>2016-02-04</d><h>01:50</h><w>chrisoakman</w><code>version &apos;0.2.0&apos;</code></z><z id="t1454550656" t="cfleming Sure, that’s what Maven usually uses"><y>#</y><d>2016-02-04</d><h>01:50</h><w>cfleming</w>Sure, that’s what Maven usually uses</z><z id="t1454550674" t="chrisoakman I suppose another question I have is: what should the public API look like?"><y>#</y><d>2016-02-04</d><h>01:51</h><w>chrisoakman</w>I suppose another question I have is: what should the public API look like?</z><z id="t1454550685" t="chrisoakman right now it&apos;s ParinferKt.indentMode()"><y>#</y><d>2016-02-04</d><h>01:51</h><w>chrisoakman</w>right now it&apos;s <code>ParinferKt.indentMode()</code></z><z id="t1454550689" t="cfleming I’m actually not sure why it started at 1.0 and didn’t use three digits"><y>#</y><d>2016-02-04</d><h>01:51</h><w>cfleming</w>I’m actually not sure why it started at 1.0 and didn’t use three digits</z><z id="t1454550691" t="chrisoakman drop the Kt ?"><y>#</y><d>2016-02-04</d><h>01:51</h><w>chrisoakman</w>drop the Kt ?</z><z id="t1454550705" t="cfleming Yeah, I think so - no-one using it cares"><y>#</y><d>2016-02-04</d><h>01:51</h><w>cfleming</w>Yeah, I think so - no-one using it cares</z><z id="t1454550711" t="chrisoakman ok"><y>#</y><d>2016-02-04</d><h>01:51</h><w>chrisoakman</w>ok</z><z id="t1454550720" t="chrisoakman because it has to pass the type system I suppose"><y>#</y><d>2016-02-04</d><h>01:52</h><w>chrisoakman</w>because it has to pass the type system I suppose</z><z id="t1454550725" t="chrisoakman that sort of thing is pretty important in JS"><y>#</y><d>2016-02-04</d><h>01:52</h><w>chrisoakman</w>that sort of thing is pretty important in JS</z><z id="t1454550737" t="chrisoakman also I went with 3-arity options instead of a hashmap of options"><y>#</y><d>2016-02-04</d><h>01:52</h><w>chrisoakman</w>also I went with 3-arity options instead of a hashmap of options</z><z id="t1454550741" t="cfleming In fact, that class name is automatically generated from the filename, looks like."><y>#</y><d>2016-02-04</d><h>01:52</h><w>cfleming</w>In fact, that class name is automatically generated from the filename, looks like.</z><z id="t1454550744" t="chrisoakman since Java doesn&apos;t have literal data types"><y>#</y><d>2016-02-04</d><h>01:52</h><w>chrisoakman</w>since Java doesn&apos;t have literal data types</z><z id="t1454550758" t="cfleming I’ll check what the best way to expose that API is."><y>#</y><d>2016-02-04</d><h>01:52</h><w>cfleming</w>I’ll check what the best way to expose that API is.</z><z id="t1454550767" t="cfleming (I’m still fairly new to Kotlin too)"><y>#</y><d>2016-02-04</d><h>01:52</h><w>cfleming</w>(I’m still fairly new to Kotlin too)</z><z id="t1454550770" t="chrisoakman ok"><y>#</y><d>2016-02-04</d><h>01:52</h><w>chrisoakman</w>ok</z><z id="t1454550788" t="cfleming And while we’re confessing, that was the first Gradle file I ever wrote simple_smile"><y>#</y><d>2016-02-04</d><h>01:53</h><w>cfleming</w>And while we’re confessing, that was the first Gradle file I ever wrote <b>simple_smile</b></z><z id="t1454550794" t="chrisoakman I guess the question is: if this already existed and you were just adding it to Cursive, would what you want the API to look like?"><y>#</y><d>2016-02-04</d><h>01:53</h><w>chrisoakman</w>I guess the question is: if this already existed and you were just adding it to Cursive, would what you want the API to look like?</z><z id="t1454550811" t="chrisoakman lots of firsts for us both here simple_smile"><y>#</y><d>2016-02-04</d><h>01:53</h><w>chrisoakman</w>lots of firsts for us both here <b>simple_smile</b></z><z id="t1454550819" t="cfleming I think that the concept (a public object with two static methods) is fine."><y>#</y><d>2016-02-04</d><h>01:53</h><w>cfleming</w>I think that the concept (a public object with two static methods) is fine.</z><z id="t1454550845" t="cfleming I think we should probably create the object explicitly so we can control the name, rather than have it be autogenerated."><y>#</y><d>2016-02-04</d><h>01:54</h><w>cfleming</w>I think we should probably create the object explicitly so we can control the name, rather than have it be autogenerated.</z><z id="t1454550855" t="chrisoakman yeah - I saw there was a way to do that in Kotlin"><y>#</y><d>2016-02-04</d><h>01:54</h><w>chrisoakman</w>yeah - I saw there was a way to do that in Kotlin</z><z id="t1454550859" t="chrisoakman @Jvmname"><y>#</y><d>2016-02-04</d><h>01:54</h><w>chrisoakman</w>@Jvmname</z><z id="t1454550861" t="chrisoakman or something"><y>#</y><d>2016-02-04</d><h>01:54</h><w>chrisoakman</w>or something</z><z id="t1454550866" t="chrisoakman but I couldn&apos;t figure it out"><y>#</y><d>2016-02-04</d><h>01:54</h><w>chrisoakman</w>but I couldn&apos;t figure it out</z><z id="t1454550895" t="cfleming No, I think we can just use: public object Parinfer { … api goes here … } "><y>#</y><d>2016-02-04</d><h>01:54</h><w>cfleming</w>No, I think we can just use:
<pre>public object Parinfer {
  … api goes here …
}
</pre></z><z id="t1454550931" t="cfleming I’ll double check and make that change if you like."><y>#</y><d>2016-02-04</d><h>01:55</h><w>cfleming</w>I’ll double check and make that change if you like.</z><z id="t1454550961" t="cfleming It’s interesting that in the V8 version, the paren mode is much slower"><y>#</y><d>2016-02-04</d><h>01:56</h><w>cfleming</w>It’s interesting that in the V8 version, the paren mode is much slower</z><z id="t1454550969" t="cfleming I wonder why"><y>#</y><d>2016-02-04</d><h>01:56</h><w>cfleming</w>I wonder why</z><z id="t1454550978" t="chrisoakman yeah - I was going to look at that tonight"><y>#</y><d>2016-02-04</d><h>01:56</h><w>chrisoakman</w>yeah - I was going to look at that tonight</z><z id="t1454550997" t="chrisoakman that discovery yesterday gave me the itch to squeeze out more performance"><y>#</y><d>2016-02-04</d><h>01:56</h><w>chrisoakman</w>that discovery yesterday gave me the itch to squeeze out more performance</z><z id="t1454551008" t="chrisoakman it&apos;s not too often that that sort of thing is the best way to spend your time"><y>#</y><d>2016-02-04</d><h>01:56</h><w>chrisoakman</w>it&apos;s not too often that that sort of thing is the best way to spend your time</z><z id="t1454551018" t="chrisoakman working on perf like that vs working on features or design"><y>#</y><d>2016-02-04</d><h>01:56</h><w>chrisoakman</w>working on perf like that vs working on features or design</z><z id="t1454551032" t="chrisoakman (at least in my experience)"><y>#</y><d>2016-02-04</d><h>01:57</h><w>chrisoakman</w>(at least in my experience)</z><z id="t1454551035" t="chrisoakman but in this case it&apos;s worth it"><y>#</y><d>2016-02-04</d><h>01:57</h><w>chrisoakman</w>but in this case it&apos;s worth it</z><z id="t1454551040" t="chrisoakman parinfer has to run constantly as you&apos;re typing"><y>#</y><d>2016-02-04</d><h>01:57</h><w>chrisoakman</w>parinfer has to run constantly as you&apos;re typing</z><z id="t1454551049" t="chrisoakman speed is essential"><y>#</y><d>2016-02-04</d><h>01:57</h><w>chrisoakman</w>speed is essential</z><z id="t1454551151" t="cfleming Yeah. I’ll have to check how fast it is in Cursive because it’s not just manipulating strings, it’s fiddling with documents that have locks and so forth."><y>#</y><d>2016-02-04</d><h>01:59</h><w>cfleming</w>Yeah. I’ll have to check how fast it is in Cursive because it’s not just manipulating strings, it’s fiddling with documents that have locks and so forth.</z><z id="t1454551205" t="chrisoakman Will you make that API change? I think I prefer just Parinfer to ParinferKt"><y>#</y><d>2016-02-04</d><h>02:00</h><w>chrisoakman</w>Will you make that API change? I think I prefer just <code>Parinfer</code> to <code>ParinferKt</code></z><z id="t1454551274" t="cfleming Yeah, I’ll make it."><y>#</y><d>2016-02-04</d><h>02:01</h><w>cfleming</w>Yeah, I’ll make it.</z><z id="t1454556691" t="cfleming In the end, this is a cleaner solution: @file:JvmName(&quot;Parinfer&quot;) "><y>#</y><d>2016-02-04</d><h>03:31</h><w>cfleming</w>In the end, this is a cleaner solution:
<pre>@file:JvmName(&quot;Parinfer&quot;)
</pre></z><z id="t1454556727" t="cfleming Then from Clojure it’s just (Parinfer/indentMode …)"><y>#</y><d>2016-02-04</d><h>03:32</h><w>cfleming</w>Then from Clojure it’s just <code>(Parinfer/indentMode …)</code></z><z id="t1454556741" t="cfleming And from Java Parinfer.indentMode(…)"><y>#</y><d>2016-02-04</d><h>03:32</h><w>cfleming</w>And from Java <code>Parinfer.indentMode(…)</code></z><z id="t1454558324" t="cfleming Unfortunately getting this into Cursive is a little trickier than I thought."><y>#</y><d>2016-02-04</d><h>03:58</h><w>cfleming</w>Unfortunately getting this into Cursive is a little trickier than I thought.</z><z id="t1454558337" t="cfleming I’ll need some help from someone at JetBrains I think."><y>#</y><d>2016-02-04</d><h>03:58</h><w>cfleming</w>I’ll need some help from someone at JetBrains I think.</z><z id="t1454558963" t="cfleming In Atom, are files ever changed in the background? There’s nothing like refactorings or anything like that, right?"><y>#</y><d>2016-02-04</d><h>04:09</h><w>cfleming</w>In Atom, are files ever changed in the background? There’s nothing like refactorings or anything like that, right?</z><z id="t1454558982" t="cfleming So these changes are only ever applied to a document while a user is interactively editing it?"><y>#</y><d>2016-02-04</d><h>04:09</h><w>cfleming</w>So these changes are only ever applied to a document while a user is interactively editing it?</z><z id="t1454559479" t="cfleming Actually, what about if a file is updated from VCS, which is effectively in the background as far as Atom is concerned?"><y>#</y><d>2016-02-04</d><h>04:17</h><w>cfleming</w>Actually, what about if a file is updated from VCS, which is effectively in the background as far as Atom is concerned?</z><z id="t1454560366" t="shaunlebron hey guys, just started catching up on messages here"><y>#</y><d>2016-02-04</d><h>04:32</h><w>shaunlebron</w>hey guys, just started catching up on messages here</z><z id="t1454561196" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] : I like that idea you had yesterday! tracking here: https://github.com/shaunlebron/parinfer/issues/89"><y>#</y><d>2016-02-04</d><h>04:46</h><w>shaunlebron</w><a>@snoe</a>: I like that idea you had yesterday!  tracking here: <a href="https://github.com/shaunlebron/parinfer/issues/89" target="_blank">https://github.com/shaunlebron/parinfer/issues/89</a></z><z id="t1454561342" t="shaunlebron [:attrs {:href &quot;/_/_/users/U052852ES&quot;}] : by “block comment” do you mean “comment the selected lines” or “comment the lines of the cursor’s sexp”?"><y>#</y><d>2016-02-04</d><h>04:49</h><w>shaunlebron</w><a>@thomas</a>: by “block comment” do you mean “comment the selected lines” or “comment the lines of the cursor’s sexp”?</z><z id="t1454561877" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : parinfer looks at all parens outside of comments, strings, and character literals. so it defaults to treating #{ , #[ and #( correctly."><y>#</y><d>2016-02-04</d><h>04:57</h><w>shaunlebron</w><a>@cfleming</a>: parinfer looks at all parens outside of comments, strings, and character literals.  so it defaults to treating <code>#{</code>, <code>#[</code> and <code>#(</code> correctly.</z><z id="t1454561954" t="shaunlebron it doesn’t actually know anything about the preceding # , so it’s treated as if it wasn’t there"><y>#</y><d>2016-02-04</d><h>04:59</h><w>shaunlebron</w>it doesn’t actually know anything about the preceding <code>#</code>, so it’s treated as if it wasn’t there</z><z id="t1454562213" t="shaunlebron and secondly what you said here is good"><y>#</y><d>2016-02-04</d><h>05:03</h><w>shaunlebron</w>and secondly what you said here is good</z><z id="t1454562215" t="shaunlebron I’m actually planning to benchmark just parsing the top level forms from the top of the file until, say, the last one in really_large_file, and then parinfer’ing that."><y>#</y><d>2016-02-04</d><h>05:03</h><w>shaunlebron</w><pre>I’m actually planning to benchmark just parsing the top level forms from the top of the file until, say, the last one in really_large_file, and then parinfer’ing that.</pre></z><z id="t1454562248" t="chrisoakman hey man simple_smile"><y>#</y><d>2016-02-04</d><h>05:04</h><w>chrisoakman</w>hey man <b>simple_smile</b></z><z id="t1454562256" t="shaunlebron hey simple_smile"><y>#</y><d>2016-02-04</d><h>05:04</h><w>shaunlebron</w>hey <b>simple_smile</b></z><z id="t1454562264" t="shaunlebron like the activity happening here!"><y>#</y><d>2016-02-04</d><h>05:04</h><w>shaunlebron</w>like the activity happening here!</z><z id="t1454562292" t="chrisoakman Colin is kicking total JVM ass; the benchmark on parinfer-jvm is cut in half from my original implementation"><y>#</y><d>2016-02-04</d><h>05:04</h><w>chrisoakman</w>Colin is kicking total JVM ass; the benchmark on parinfer-jvm is cut in half from my original implementation</z><z id="t1454562323" t="shaunlebron I saw it was around 40ms for indent-mode in really_long_file?"><y>#</y><d>2016-02-04</d><h>05:05</h><w>shaunlebron</w>I saw it was around 40ms for indent-mode in really_long_file?</z><z id="t1454562351" t="chrisoakman that&apos;s old news; now it&apos;s down to ~12ms"><y>#</y><d>2016-02-04</d><h>05:05</h><w>chrisoakman</w>that&apos;s old news; now it&apos;s down to ~12ms</z><z id="t1454562360" t="shaunlebron well then"><y>#</y><d>2016-02-04</d><h>05:06</h><w>shaunlebron</w>well then</z><z id="t1454562384" t="shaunlebron that is good news"><y>#</y><d>2016-02-04</d><h>05:06</h><w>shaunlebron</w>that is good news</z><z id="t1454562390" t="shaunlebron i can’t find the confetti emoji"><y>#</y><d>2016-02-04</d><h>05:06</h><w>shaunlebron</w>i can’t find the confetti emoji</z><z id="t1454562400" t="chrisoakman I&apos;m playing around with more JS optimizations"><y>#</y><d>2016-02-04</d><h>05:06</h><w>chrisoakman</w>I&apos;m playing around with more JS optimizations</z><z id="t1454562408" t="chrisoakman I&apos;m a little obsessed with it now"><y>#</y><d>2016-02-04</d><h>05:06</h><w>chrisoakman</w>I&apos;m a little obsessed with it now</z><z id="t1454562426" t="chrisoakman little worried that the &quot;clean implementation&quot; is going to have more JS-specific stuff"><y>#</y><d>2016-02-04</d><h>05:07</h><w>chrisoakman</w>little worried that the &quot;clean implementation&quot; is going to have more JS-specific  stuff</z><z id="t1454562432" t="chrisoakman that might not translate as easily to other languages"><y>#</y><d>2016-02-04</d><h>05:07</h><w>chrisoakman</w>that might not translate as easily to other languages</z><z id="t1454562442" t="chrisoakman but that&apos;s not really a big deal; we can always link people to an older version"><y>#</y><d>2016-02-04</d><h>05:07</h><w>chrisoakman</w>but that&apos;s not really a big deal; we can always link people to an older version</z><z id="t1454562454" t="shaunlebron i think it’s fast enough"><y>#</y><d>2016-02-04</d><h>05:07</h><w>shaunlebron</w>i think it’s fast enough</z><z id="t1454562458" t="chrisoakman yeah"><y>#</y><d>2016-02-04</d><h>05:07</h><w>chrisoakman</w>yeah</z><z id="t1454562474" t="chrisoakman just seeing very little difference between indentMode and parenMode on the JVM"><y>#</y><d>2016-02-04</d><h>05:07</h><w>chrisoakman</w>just seeing very little difference between indentMode and parenMode on the JVM</z><z id="t1454562484" t="chrisoakman and thinking that probably that can be achieved in JS too"><y>#</y><d>2016-02-04</d><h>05:08</h><w>chrisoakman</w>and thinking that probably that can be achieved in JS too</z><z id="t1454562529" t="shaunlebron I think in reality locating the parent expression is the important part"><y>#</y><d>2016-02-04</d><h>05:08</h><w>shaunlebron</w>I think in reality locating the parent expression is the important part</z><z id="t1454562549" t="shaunlebron and I feel like that circuit is finally closing"><y>#</y><d>2016-02-04</d><h>05:09</h><w>shaunlebron</w>and I feel like that circuit is finally closing</z><z id="t1454562566" t="shaunlebron colin can just use his lexer to locate that"><y>#</y><d>2016-02-04</d><h>05:09</h><w>shaunlebron</w>colin can just use his lexer to locate that</z><z id="t1454562580" t="shaunlebron emacs already has fast support for that as well"><y>#</y><d>2016-02-04</d><h>05:09</h><w>shaunlebron</w>emacs already has fast support for that as well</z><z id="t1454562619" t="shaunlebron and for editors without their own native support for locating it, I can put the fast reader back in the API"><y>#</y><d>2016-02-04</d><h>05:10</h><w>shaunlebron</w>and for editors without their own native support for locating it, I can put the fast reader back in the API</z><z id="t1454562664" t="shaunlebron parinfer without all the transformation business can run through really_long_file in about 7ms"><y>#</y><d>2016-02-04</d><h>05:11</h><w>shaunlebron</w>parinfer without all the transformation business can run through really_long_file in about 7ms</z><z id="t1454562719" t="shaunlebron idk why i didn’t think of this earlier. chatting with the emacs guy today helped I think"><y>#</y><d>2016-02-04</d><h>05:11</h><w>shaunlebron</w>idk why i didn’t think of this earlier.  chatting with the emacs guy today helped I think</z><z id="t1454562964" t="chrisoakman https://clojurians.slack.com/archives/parinfer/p1454558963000385 atom-parinfer only ever looks at the current buffer"><y>#</y><d>2016-02-04</d><h>05:16</h><w>chrisoakman</w><a href="https://clojurians.slack.com/archives/parinfer/p1454558963000385" target="_blank">https://clojurians.slack.com/archives/parinfer/p1454558963000385</a> atom-parinfer only ever looks at the current buffer</z><z id="t1454562981" t="snoe [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : I added a couple examples to the issue."><y>#</y><d>2016-02-04</d><h>05:16</h><w>snoe</w><a>@shaunlebron</a>: I added a couple examples to the issue.</z><z id="t1454563028" t="chrisoakman [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : in atom, if a file is changed in the background, atom-parinfer won&apos;t run until the user does something to trigger it, like press any key on the keyboard"><y>#</y><d>2016-02-04</d><h>05:17</h><w>chrisoakman</w><a>@cfleming</a>: in atom, if a file is changed in the background, atom-parinfer won&apos;t run until the user does something to trigger it, like press any key on the keyboard</z><z id="t1454563107" t="snoe ( 🎉 btw)"><y>#</y><d>2016-02-04</d><h>05:18</h><w>snoe</w>( <b>🎉</b> btw)</z><z id="t1454563649" t="shaunlebron ah, thanks it’s :tada: 🎉"><y>#</y><d>2016-02-04</d><h>05:27</h><w>shaunlebron</w>ah, thanks it’s <code>:tada:</code> <b>🎉</b></z><z id="t1454563670" t="shaunlebron I think we’re moving into paredit territory"><y>#</y><d>2016-02-04</d><h>05:27</h><w>shaunlebron</w>I think we’re moving into paredit territory</z><z id="t1454563744" t="shaunlebron from your example [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] , you want an indent-next-sexp function, not a indent-next-line function, since it indents the child expressions with it"><y>#</y><d>2016-02-04</d><h>05:29</h><w>shaunlebron</w>from your example <a>@snoe</a>, you want an <code>indent-next-sexp</code> function, not a <code>indent-next-line</code> function, since it indents the child expressions with it</z><z id="t1454563783" t="shaunlebron secondly, you want it to indent two spaces"><y>#</y><d>2016-02-04</d><h>05:29</h><w>shaunlebron</w>secondly, you want it to indent two spaces</z><z id="t1454563831" t="shaunlebron the offset from the tabstop would have to be configurable"><y>#</y><d>2016-02-04</d><h>05:30</h><w>shaunlebron</w>the offset from the tabstop would have to be configurable</z><z id="t1454563931" t="shaunlebron I think the parinfer API can provide some primitives that allow parinfer plugins to handle this behavior themselves"><y>#</y><d>2016-02-04</d><h>05:32</h><w>shaunlebron</w>I think the parinfer API can provide some primitives that allow parinfer plugins to handle this behavior themselves</z><z id="t1454563931" t="chrisoakman [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : !!!!!!!"><y>#</y><d>2016-02-04</d><h>05:32</h><w>chrisoakman</w><a>@shaunlebron</a>: !!!!!!!</z><z id="t1454563944" t="chrisoakman I just figured out the problem with paren mode simple_smile"><y>#</y><d>2016-02-04</d><h>05:32</h><w>chrisoakman</w>I just figured out the problem with paren mode <b>simple_smile</b></z><z id="t1454563955" t="shaunlebron ?"><y>#</y><d>2016-02-04</d><h>05:32</h><w>shaunlebron</w>?</z><z id="t1454563963" t="chrisoakman parinfer.js is about to get faster"><y>#</y><d>2016-02-04</d><h>05:32</h><w>chrisoakman</w>parinfer.js is about to get faster</z><z id="t1454564008" t="chrisoakman https://gist.github.com/oakmac/7639728fc162045c4f3b"><y>#</y><d>2016-02-04</d><h>05:33</h><w>chrisoakman</w><a href="https://gist.github.com/oakmac/7639728fc162045c4f3b" target="_blank">https://gist.github.com/oakmac/7639728fc162045c4f3b</a></z><z id="t1454564128" t="snoe I agree, maybe parinfer could return something like indentMode(..., {...}) =&gt; {:text &quot;...&quot; :tab-stops [1 4 8 11]} ?"><y>#</y><d>2016-02-04</d><h>05:35</h><w>snoe</w>I agree, maybe parinfer could return something like <code>indentMode(..., {...}) =&gt; {:text &quot;...&quot; :tab-stops [1 4 8 11]}</code>?</z><z id="t1454564181" t="snoe or maybe a separate function 😕"><y>#</y><d>2016-02-04</d><h>05:36</h><w>snoe</w>or maybe a separate function <b>😕</b></z><z id="t1454564337" t="snoe The make edit, goto next line, select form, indent/dedent selection dance is still something I find myself doing all the time. I wonder if others do the same thing?"><y>#</y><d>2016-02-04</d><h>05:38</h><w>snoe</w>The make edit, goto next line, select form, indent/dedent selection dance is still something I find myself doing all the time. I wonder if others do the same thing?</z><z id="t1454564369" t="shaunlebron [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] : sheeeeeiiit"><y>#</y><d>2016-02-04</d><h>05:39</h><w>shaunlebron</w><a>@chrisoakman</a>:  sheeeeeiiit</z><z id="t1454564431" t="chrisoakman https://github.com/shaunlebron/parinfer/pull/90"><y>#</y><d>2016-02-04</d><h>05:40</h><w>chrisoakman</w><a href="https://github.com/shaunlebron/parinfer/pull/90" target="_blank">https://github.com/shaunlebron/parinfer/pull/90</a></z><z id="t1454564515" t="chrisoakman that must have been preventing some v8 optimizations"><y>#</y><d>2016-02-04</d><h>05:41</h><w>chrisoakman</w>that must have been preventing some v8 optimizations</z><z id="t1454564526" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] : I think that info will be enough for one-space indentation"><y>#</y><d>2016-02-04</d><h>05:42</h><w>shaunlebron</w><a>@snoe</a>: I think that info will be enough for one-space indentation</z><z id="t1454564591" t="shaunlebron you’ll need more info for ( to be two-space, and for (expr arg to be n-space indent"><y>#</y><d>2016-02-04</d><h>05:43</h><w>shaunlebron</w>you’ll need more info for <code>(</code> to be two-space, and for <code>(expr arg</code> to be n-space indent</z><z id="t1454564609" t="snoe yeah, the important part is making the structural change. formatting can/should be handled outside."><y>#</y><d>2016-02-04</d><h>05:43</h><w>snoe</w>yeah, the important part is making the structural change. formatting can/should be handled outside.</z><z id="t1454564616" t="shaunlebron and whatever rules required for determining that stuff"><y>#</y><d>2016-02-04</d><h>05:43</h><w>shaunlebron</w>and whatever rules required for determining that stuff</z><z id="t1454564674" t="shaunlebron I see what you’re saying, so do a separate auto-indent operation after parinfer moves it to one-space indentation"><y>#</y><d>2016-02-04</d><h>05:44</h><w>shaunlebron</w>I see what you’re saying, so do a separate auto-indent operation after parinfer moves it to one-space indentation</z><z id="t1454564794" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] , seems like we need either indent-selected-lines option instead of a single line"><y>#</y><d>2016-02-04</d><h>05:46</h><w>shaunlebron</w><a>@snoe</a>, seems like we need either <code>indent-selected-lines</code> option instead of a single line</z><z id="t1454564816" t="snoe right, I&apos;m not sure if there&apos;s a real difference between forms and lines"><y>#</y><d>2016-02-04</d><h>05:46</h><w>snoe</w>right, I&apos;m not sure if there&apos;s a real difference between forms and lines</z><z id="t1454564818" t="shaunlebron or some way to specify the lines of an sexp"><y>#</y><d>2016-02-04</d><h>05:46</h><w>shaunlebron</w>or some way to specify the lines of an sexp</z><z id="t1454564893" t="snoe Maybe : 1) go to next line -&gt; 2) find first char -&gt; 3) keep going down until you find a char before step 2"><y>#</y><d>2016-02-04</d><h>05:48</h><w>snoe</w>Maybe : 1) go to next line -&gt; 2) find first char -&gt; 3) keep going down until you find a char before step 2</z><z id="t1454565010" t="chrisoakman gah - I am super-happy about that find"><y>#</y><d>2016-02-04</d><h>05:50</h><w>chrisoakman</w>gah - I am super-happy about that find</z><z id="t1454565033" t="chrisoakman I had a gut feel it was a JS thing"><y>#</y><d>2016-02-04</d><h>05:50</h><w>chrisoakman</w>I had a gut feel it was a JS thing</z><z id="t1454565046" t="chrisoakman parinfer.py and then parinfer-jvm showed that the algorithm should be returning similar result times for both functions"><y>#</y><d>2016-02-04</d><h>05:50</h><w>chrisoakman</w>parinfer.py and then parinfer-jvm showed that the algorithm should be returning similar result times for both functions</z><z id="t1454565053" t="chrisoakman something was clearly happening in the JS version"><y>#</y><d>2016-02-04</d><h>05:50</h><w>chrisoakman</w>something was clearly happening in the JS version</z><z id="t1454565087" t="chrisoakman I&apos;m not sure we&apos;re going to get faster than that; I was playing with replacing the if/else with dispatch and such"><y>#</y><d>2016-02-04</d><h>05:51</h><w>chrisoakman</w>I&apos;m not sure we&apos;re going to get faster than that; I was playing with replacing the if/else with dispatch and such</z><z id="t1454565099" t="chrisoakman but doing object key lookup in JS isn&apos;t free; in most cases it was hurting perf"><y>#</y><d>2016-02-04</d><h>05:51</h><w>chrisoakman</w>but doing object key lookup in JS isn&apos;t free; in most cases it was hurting perf</z><z id="t1454565104" t="shaunlebron [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] : cool, I wish we had something Criterium for node"><y>#</y><d>2016-02-04</d><h>05:51</h><w>shaunlebron</w><a>@chrisoakman</a>: cool, I wish we had something Criterium for node</z><z id="t1454565104" t="chrisoakman it&apos;s v8 optimizations"><y>#</y><d>2016-02-04</d><h>05:51</h><w>chrisoakman</w>it&apos;s v8 optimizations</z><z id="t1454565111" t="chrisoakman that&apos;s what this boils down to"><y>#</y><d>2016-02-04</d><h>05:51</h><w>chrisoakman</w>that&apos;s what this boils down to</z><z id="t1454565123" t="shaunlebron i can’t figure out why the last two tests are any faster than the previous"><y>#</y><d>2016-02-04</d><h>05:52</h><w>shaunlebron</w>i can’t figure out why the last two tests are any faster than the previous</z><z id="t1454565129" t="chrisoakman I considered changing the perf.js to run multiple iterations and then show the average, etc"><y>#</y><d>2016-02-04</d><h>05:52</h><w>chrisoakman</w>I considered changing the perf.js to run multiple iterations and then show the average, etc</z><z id="t1454565151" t="chrisoakman I only included one result on that PR, but ran it several times on my machine"><y>#</y><d>2016-02-04</d><h>05:52</h><w>chrisoakman</w>I only included one result on that PR, but ran it several times on my machine</z><z id="t1454565165" t="shaunlebron it might be saving some data from the first test"><y>#</y><d>2016-02-04</d><h>05:52</h><w>shaunlebron</w>it might be saving some data from the first test</z><z id="t1454565167" t="chrisoakman and it was consistently faster when Object.preventExtension was removed"><y>#</y><d>2016-02-04</d><h>05:52</h><w>chrisoakman</w>and it was consistently faster when <code>Object.preventExtension</code> was removed</z><z id="t1454565167" t="shaunlebron some caching I mean"><y>#</y><d>2016-02-04</d><h>05:52</h><w>shaunlebron</w>some caching I mean</z><z id="t1454565189" t="chrisoakman to be honest, I &quot;discovered&quot; that earlier today on a Windows machine running an older version of node"><y>#</y><d>2016-02-04</d><h>05:53</h><w>chrisoakman</w>to be honest, I &quot;discovered&quot; that earlier today on a Windows machine running an older version of node</z><z id="t1454565190" t="snoe Have you guys run parinfer.js through the the chrome profiler?"><y>#</y><d>2016-02-04</d><h>05:53</h><w>snoe</w>Have you guys run parinfer.js through the the chrome profiler?</z><z id="t1454565198" t="chrisoakman saw a huge bump when I removed that"><y>#</y><d>2016-02-04</d><h>05:53</h><w>chrisoakman</w>saw a huge bump when I removed that</z><z id="t1454565214" t="chrisoakman yes - but I can&apos;t seem to make heads or tails out of the .log files it produces"><y>#</y><d>2016-02-04</d><h>05:53</h><w>chrisoakman</w>yes - but I can&apos;t seem to make heads or tails out of the .log files it produces</z><z id="t1454565236" t="chrisoakman in both of these last cases of &quot;discovering&quot; big speed improvements, it&apos;s clear they are v8 optimizations"><y>#</y><d>2016-02-04</d><h>05:53</h><w>chrisoakman</w>in both of these last cases of &quot;discovering&quot; big speed improvements, it&apos;s clear they are v8 optimizations</z><z id="t1454565253" t="chrisoakman not fundamental algorithm or data structure changes"><y>#</y><d>2016-02-04</d><h>05:54</h><w>chrisoakman</w>not fundamental algorithm or data structure changes</z><z id="t1454565269" t="chrisoakman I did see some perf improvement in parinfer.py by changing that if/else chain to a Dict lookup"><y>#</y><d>2016-02-04</d><h>05:54</h><w>chrisoakman</w>I did see some perf improvement in parinfer.py by changing that if/else chain to a Dict lookup</z><z id="t1454565285" t="chrisoakman https://github.com/oakmac/parinfer.py/blob/master/parinfer.py#L278-L304"><y>#</y><d>2016-02-04</d><h>05:54</h><w>chrisoakman</w><a href="https://github.com/oakmac/parinfer.py/blob/master/parinfer.py#L278-L304" target="_blank">https://github.com/oakmac/parinfer.py/blob/master/parinfer.py#L278-L304</a></z><z id="t1454565292" t="chrisoakman but when I did that in JS it was slower across the board"><y>#</y><d>2016-02-04</d><h>05:54</h><w>chrisoakman</w>but when I did that in JS it was slower across the board</z><z id="t1454565316" t="chrisoakman I&apos;m looking at Python string concatenation now"><y>#</y><d>2016-02-04</d><h>05:55</h><w>chrisoakman</w>I&apos;m looking at Python string concatenation now</z><z id="t1454565545" t="snoe [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] : you were asking about the next language to tackle maybe if you do C/C++ you could then use emscripten for js (or c node module)"><y>#</y><d>2016-02-04</d><h>05:59</h><w>snoe</w><a>@chrisoakman</a>: you were asking about the next language to tackle maybe if you do C/C++ you could then use emscripten for js (or c node module)</z><z id="t1454565611" t="chrisoakman Shaun already went down that road a bit"><y>#</y><d>2016-02-04</d><h>06:00</h><w>chrisoakman</w>Shaun already went down that road a bit</z><z id="t1454565613" t="chrisoakman with c++"><y>#</y><d>2016-02-04</d><h>06:00</h><w>chrisoakman</w>with c++</z><z id="t1454565618" t="chrisoakman and decided to scrap it"><y>#</y><d>2016-02-04</d><h>06:00</h><w>chrisoakman</w>and decided to scrap it</z><z id="t1454565627" t="chrisoakman because the JS version is fast enough now"><y>#</y><d>2016-02-04</d><h>06:00</h><w>chrisoakman</w>because the JS version is fast enough now</z><z id="t1454565636" t="chrisoakman I&apos;m thinking emacs lisp should be the next target"><y>#</y><d>2016-02-04</d><h>06:00</h><w>chrisoakman</w>I&apos;m thinking emacs lisp should be the next target</z><z id="t1454565652" t="chrisoakman I don&apos;t use emacs, nor terribly wish to write the plugin"><y>#</y><d>2016-02-04</d><h>06:00</h><w>chrisoakman</w>I don&apos;t use emacs, nor terribly wish to write the plugin</z><z id="t1454565660" t="chrisoakman but I think writing the parinfer algorithm would be fun"><y>#</y><d>2016-02-04</d><h>06:01</h><w>chrisoakman</w>but I think writing the parinfer algorithm would be fun</z><z id="t1454565682" t="chrisoakman I also want to do it in F#"><y>#</y><d>2016-02-04</d><h>06:01</h><w>chrisoakman</w>I also want to do it in F#</z><z id="t1454565689" t="chrisoakman but only because I want to do something in F# 😉"><y>#</y><d>2016-02-04</d><h>06:01</h><w>chrisoakman</w>but only because I want to do something in F# <b>😉</b></z><z id="t1454565717" t="chrisoakman I don&apos;t know what editor would benefit from having an F# implementation; I don&apos;t think there are too many people using MS Visual Studio to edit Lisp code"><y>#</y><d>2016-02-04</d><h>06:01</h><w>chrisoakman</w>I don&apos;t know what editor would benefit from having an F# implementation; I don&apos;t think there are too many people using MS Visual Studio to edit Lisp code</z><z id="t1454565752" t="snoe simple_smile it could be the reason they start"><y>#</y><d>2016-02-04</d><h>06:02</h><w>snoe</w><b>simple_smile</b> it could be the reason they start</z><z id="t1454565768" t="chrisoakman true"><y>#</y><d>2016-02-04</d><h>06:02</h><w>chrisoakman</w>true</z><z id="t1454565788" t="chrisoakman another benefit of writing Parinfer in emacs lisp is that I get to use parinfer to write it in !"><y>#</y><d>2016-02-04</d><h>06:03</h><w>chrisoakman</w>another benefit of writing Parinfer in emacs lisp is that I get to use parinfer to write it in !</z><z id="t1454565806" t="chrisoakman which is cool and recursive"><y>#</y><d>2016-02-04</d><h>06:03</h><w>chrisoakman</w>which is cool and recursive</z><z id="t1454566128" t="shaunlebron not sure if I added enough context about finding the parent expression in a file"><y>#</y><d>2016-02-04</d><h>06:08</h><w>shaunlebron</w>not sure if I added enough context about finding the parent expression in a file</z><z id="t1454566177" t="shaunlebron but cursive, emacs, and parinfer stripped down to its reader form only, all of these can locate a parent expression very quickly and reliably"><y>#</y><d>2016-02-04</d><h>06:09</h><w>shaunlebron</w>but cursive, emacs, and parinfer stripped down to its reader form only,  all of these can locate a parent expression very quickly and reliably</z><z id="t1454566208" t="shaunlebron so it’s like using atom-parinfer’s parent expression hack, except without the corner cases"><y>#</y><d>2016-02-04</d><h>06:10</h><w>shaunlebron</w>so it’s like using atom-parinfer’s parent expression hack, except without the corner cases</z><z id="t1454566237" t="chrisoakman I am seriously considering dropping the parent expression hack for files under a certain N length"><y>#</y><d>2016-02-04</d><h>06:10</h><w>chrisoakman</w>I am seriously considering dropping the parent expression hack for files under a certain N length</z><z id="t1454566279" t="shaunlebron is what I said clear"><y>#</y><d>2016-02-04</d><h>06:11</h><w>shaunlebron</w>is what I said clear</z><z id="t1454566289" t="chrisoakman I mean - parinfer.js can do a 2800 line file in under 10ms"><y>#</y><d>2016-02-04</d><h>06:11</h><w>chrisoakman</w>I mean - parinfer.js can do a 2800 line file in under 10ms</z><z id="t1454566295" t="chrisoakman that&apos;s the debounce rate"><y>#</y><d>2016-02-04</d><h>06:11</h><w>chrisoakman</w>that&apos;s the debounce rate</z><z id="t1454566308" t="chrisoakman just to put that in perspective"><y>#</y><d>2016-02-04</d><h>06:11</h><w>chrisoakman</w>just to put that in perspective</z><z id="t1454566321" t="snoe yeah for what it&apos;s worth I haven&apos;t bothered with expressions in vim because the whole file is pretty much fast enough"><y>#</y><d>2016-02-04</d><h>06:12</h><w>snoe</w>yeah for what it&apos;s worth I haven&apos;t bothered with expressions in vim because the whole file is pretty much fast enough</z><z id="t1454566359" t="chrisoakman I am willing to wager that 99% of lisp files that people regularly work with are under 1000 lines of code"><y>#</y><d>2016-02-04</d><h>06:12</h><w>chrisoakman</w>I am willing to wager that 99% of lisp files that people regularly work with are under 1000 lines of code</z><z id="t1454566375" t="chrisoakman there are obviously exceptions to that, like if you&apos;re working on cljs.core"><y>#</y><d>2016-02-04</d><h>06:12</h><w>chrisoakman</w>there are obviously exceptions to that, like if you&apos;re working on cljs.core</z><z id="t1454566416" t="shaunlebron what i’m saying is that it’s now possible to hit 100% reliably and quickly"><y>#</y><d>2016-02-04</d><h>06:13</h><w>shaunlebron</w>what i’m saying is that it’s now possible to hit 100% reliably and quickly</z><z id="t1454566447" t="chrisoakman are you going to add another function to the API?"><y>#</y><d>2016-02-04</d><h>06:14</h><w>chrisoakman</w>are you going to add another function to the API?</z><z id="t1454566484" t="shaunlebron is what I said about the parent expression thing clear?"><y>#</y><d>2016-02-04</d><h>06:14</h><w>shaunlebron</w>is what I said about the parent expression thing clear?</z><z id="t1454566494" t="snoe vim&apos;s select top form: https://github.com/guns/vim-sexp/blob/b4398689f7483b01684044ab6b55bf369744c9b3/autoload/sexp.vim#L1054-L1211 hehe"><y>#</y><d>2016-02-04</d><h>06:14</h><w>snoe</w>vim&apos;s select top form: <a href="https://github.com/guns/vim-sexp/blob/b4398689f7483b01684044ab6b55bf369744c9b3/autoload/sexp.vim#L1054-L1211" target="_blank">https://github.com/guns/vim-sexp/blob/b4398689f7483b01684044ab6b55bf369744c9b3/autoload/sexp.vim#L1054-L1211</a> hehe</z><z id="t1454566495" t="chrisoakman maybe not?"><y>#</y><d>2016-02-04</d><h>06:14</h><w>chrisoakman</w>maybe not?</z><z id="t1454566526" t="shaunlebron you use regex"><y>#</y><d>2016-02-04</d><h>06:15</h><w>shaunlebron</w>you use regex</z><z id="t1454566566" t="shaunlebron emacs and cursive can do the same as your regex, but reliably and as fast"><y>#</y><d>2016-02-04</d><h>06:16</h><w>shaunlebron</w>emacs and cursive can do the same as your regex, but reliably and as fast</z><z id="t1454566581" t="shaunlebron so can parinfer’s reader"><y>#</y><d>2016-02-04</d><h>06:16</h><w>shaunlebron</w>so can parinfer’s reader</z><z id="t1454566592" t="chrisoakman by just keeping a running data structure of the whole file?"><y>#</y><d>2016-02-04</d><h>06:16</h><w>chrisoakman</w>by just keeping a running data structure of the whole file?</z><z id="t1454566609" t="shaunlebron i’m not sure how emacs and cursive do it"><y>#</y><d>2016-02-04</d><h>06:16</h><w>shaunlebron</w>i’m not sure how emacs and cursive do it</z><z id="t1454566643" t="shaunlebron but emacs’ paredit and smarparens plugins have fast implementations for it"><y>#</y><d>2016-02-04</d><h>06:17</h><w>shaunlebron</w>but emacs’ paredit and smarparens plugins have fast implementations for it</z><z id="t1454566671" t="shaunlebron the point is that data is available for parinfer to use"><y>#</y><d>2016-02-04</d><h>06:17</h><w>shaunlebron</w>the point is that data is available for parinfer to use</z><z id="t1454566697" t="chrisoakman I think atom uses regular expressions for the grammar engine"><y>#</y><d>2016-02-04</d><h>06:18</h><w>chrisoakman</w>I think atom uses regular expressions for the grammar engine</z><z id="t1454566701" t="chrisoakman actually, I know it does"><y>#</y><d>2016-02-04</d><h>06:18</h><w>chrisoakman</w>actually, I know it does</z><z id="t1454566713" t="chrisoakman for syntax highlighting and whatnot"><y>#</y><d>2016-02-04</d><h>06:18</h><w>chrisoakman</w>for syntax highlighting and whatnot</z><z id="t1454566729" t="chrisoakman which is probably a decent decision for most languages, but probably the wrong one for lisp-based languages"><y>#</y><d>2016-02-04</d><h>06:18</h><w>chrisoakman</w>which is probably a decent decision for most languages, but probably the wrong one for lisp-based languages</z><z id="t1454566737" t="chrisoakman where it would be cheaper to just keep the actual AST"><y>#</y><d>2016-02-04</d><h>06:18</h><w>chrisoakman</w>where it would be cheaper to just keep the actual AST</z><z id="t1454566777" t="shaunlebron right, that will not work for parinfer"><y>#</y><d>2016-02-04</d><h>06:19</h><w>shaunlebron</w>right, that will not work for parinfer</z><z id="t1454566823" t="shaunlebron breaking syntax highlighting will not corrupt your code, only its coloring"><y>#</y><d>2016-02-04</d><h>06:20</h><w>shaunlebron</w>breaking syntax highlighting will not corrupt your code, only its coloring</z><z id="t1454566900" t="shaunlebron thanks [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] ! this looks how most editors would locate the parent expression: https://github.com/guns/vim-sexp/blob/b4398689f7483b01684044ab6b55bf369744c9b3/autoload/sexp.vim#L1054-L1080"><y>#</y><d>2016-02-04</d><h>06:21</h><w>shaunlebron</w>thanks <a>@snoe</a>! this looks how most editors would locate the parent expression: <a href="https://github.com/guns/vim-sexp/blob/b4398689f7483b01684044ab6b55bf369744c9b3/autoload/sexp.vim#L1054-L1080" target="_blank">https://github.com/guns/vim-sexp/blob/b4398689f7483b01684044ab6b55bf369744c9b3/autoload/sexp.vim#L1054-L1080</a></z><z id="t1454566956" t="shaunlebron i want to test that in vim to see how well it works"><y>#</y><d>2016-02-04</d><h>06:22</h><w>shaunlebron</w>i want to test that in vim to see how well it works</z><z id="t1454567525" t="shaunlebron heading out for the night"><y>#</y><d>2016-02-04</d><h>06:32</h><w>shaunlebron</w>heading out for the night</z><z id="t1454567535" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] , I’ll keep thinking about the indent thing"><y>#</y><d>2016-02-04</d><h>06:32</h><w>shaunlebron</w><a>@snoe</a>, I’ll keep thinking about the indent thing</z><z id="t1454567541" t="chrisoakman did you bump parinfer.js on npm?"><y>#</y><d>2016-02-04</d><h>06:32</h><w>chrisoakman</w>did you bump parinfer.js on npm?</z><z id="t1454567550" t="shaunlebron [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] : thanks for speed improve, will publish"><y>#</y><d>2016-02-04</d><h>06:32</h><w>shaunlebron</w><a>@chrisoakman</a>: thanks for speed improve, will publish</z><z id="t1454567556" t="chrisoakman kk"><y>#</y><d>2016-02-04</d><h>06:32</h><w>chrisoakman</w>kk</z><z id="t1454567575" t="chrisoakman I don&apos;t think we&apos;re going to get too much faster than this, btw"><y>#</y><d>2016-02-04</d><h>06:32</h><w>chrisoakman</w>I don&apos;t think we&apos;re going to get too much faster than this, btw</z><z id="t1454567605" t="chrisoakman would be interesting to see how Chakra or SpiderWhatever performs"><y>#</y><d>2016-02-04</d><h>06:33</h><w>chrisoakman</w>would be interesting to see how Chakra or SpiderWhatever performs</z><z id="t1454567863" t="chrisoakman thanks man"><y>#</y><d>2016-02-04</d><h>06:37</h><w>chrisoakman</w>thanks man</z><z id="t1454594357" t="dominicm Has anyone got parinfer on emacs yet?"><y>#</y><d>2016-02-04</d><h>13:59</h><w>dominicm</w>Has anyone got parinfer on emacs yet?</z><z id="t1454594914" t="dominicm Last I saw, the strategy was to rewrite parinfer in emacs lisp, instead of using the lib"><y>#</y><d>2016-02-04</d><h>14:08</h><w>dominicm</w>Last I saw, the strategy was to rewrite parinfer in emacs lisp, instead of using the lib</z><z id="t1454597724" t="thomas I thought there was a link on the parinfer web site… but not sure what it said"><y>#</y><d>2016-02-04</d><h>14:55</h><w>thomas</w>I thought there was a link on the parinfer web site… but not sure what it said</z><z id="t1454597869" t="dominicm There is. The first is a very limited rewrite in emacs lisp, the other is a node server of some kind, which you&apos;ve got to start to use."><y>#</y><d>2016-02-04</d><h>14:57</h><w>dominicm</w>There is. The first is a very limited rewrite in emacs lisp, the other is a node server of some kind, which you&apos;ve got to start to use.</z><z id="t1454597886" t="dominicm Maybe I&apos;m just spoiled by [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] &apos;s excellent neovim integration simple_smile"><y>#</y><d>2016-02-04</d><h>14:58</h><w>dominicm</w>Maybe I&apos;m just spoiled by <a>@snoe</a>&apos;s excellent neovim integration <b>simple_smile</b></z><z id="t1454632766" t="mfikes Using Parinfer to calculate indentation when entering ClojureScript forms in Planck: https://youtu.be/q4LmSC6xdsI"><y>#</y><d>2016-02-05</d><h>00:39</h><w>mfikes</w>Using Parinfer to calculate indentation when entering ClojureScript forms in Planck: <a href="https://youtu.be/q4LmSC6xdsI" target="_blank">https://youtu.be/q4LmSC6xdsI</a></z><z id="t1454634161" t="cfleming [:attrs {:href &quot;/_/_/users/U04VDQDDY&quot;}] : Looks very nice."><y>#</y><d>2016-02-05</d><h>01:02</h><w>cfleming</w><a>@mfikes</a>: Looks very nice.</z><z id="t1454634222" t="cfleming [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] has shamed me into implementing it in Cursive now by removing all my excuses simple_smile"><y>#</y><d>2016-02-05</d><h>01:03</h><w>cfleming</w><a>@chrisoakman</a> has shamed me into implementing it in Cursive now by removing all my excuses <b>simple_smile</b></z><z id="t1454634332" t="mfikes Hah! It will be interesting to see how it works in Cursive. :) My use cases have been minimal in comparison to what must be going on in Cursive."><y>#</y><d>2016-02-05</d><h>01:05</h><w>mfikes</w>Hah! It will be interesting to see how it works in Cursive. :)  My use cases have been minimal in comparison to what must be going on in Cursive.</z><z id="t1454634381" t="cfleming Yeah, it’s actually trickier than I thought, quite apart from the UI aspects of not making it terribly confusing."><y>#</y><d>2016-02-05</d><h>01:06</h><w>cfleming</w>Yeah, it’s actually trickier than I thought, quite apart from the UI aspects of not making it terribly confusing.</z><z id="t1454635035" t="chrisoakman very nice [:attrs {:href &quot;/_/_/users/U04VDQDDY&quot;}] simple_smile"><y>#</y><d>2016-02-05</d><h>01:17</h><w>chrisoakman</w>very nice <a>@mfikes</a> <b>simple_smile</b></z><z id="t1454637203" t="shaunlebron [:attrs {:href &quot;/_/_/users/U04VDQDDY&quot;}] cool"><y>#</y><d>2016-02-05</d><h>01:53</h><w>shaunlebron</w><a>@mfikes</a> cool</z><z id="t1454637228" t="shaunlebron I’m not seeing any inferred parens, so I’m guessing you did some magic here"><y>#</y><d>2016-02-05</d><h>01:53</h><w>shaunlebron</w>I’m not seeing any inferred parens, so I’m guessing you did some magic here</z><z id="t1454637505" t="mfikes [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : It is only using it for calculating the indentation. (Really just a minor enhancement to Planck to automatically type the spaces at the beginning of each line for you.) I think if Planck gets multi-line editing, then full-on Parinfer is on the top of my list: https://github.com/mfikes/planck/issues/120"><y>#</y><d>2016-02-05</d><h>01:58</h><w>mfikes</w><a>@shaunlebron</a>: It is only using it for calculating the indentation. (Really just a minor enhancement to Planck to automatically type the spaces at the beginning of each line for you.) I think if Planck gets multi-line editing, then full-on Parinfer is on the top of my list: <a href="https://github.com/mfikes/planck/issues/120" target="_blank">https://github.com/mfikes/planck/issues/120</a></z><z id="t1454638312" t="shaunlebron [:attrs {:href &quot;/_/_/users/U04VDQDDY&quot;}] : cool, I like the balancing with indent-mode and then paren-mode for retrieving indentation length https://github.com/mfikes/planck/commit/7303cf8e435335e5bb054b861271e7916b886baa#diff-13fa1297261809d0414872aca47177beR30"><y>#</y><d>2016-02-05</d><h>02:11</h><w>shaunlebron</w><a>@mfikes</a>: cool, I like the balancing with indent-mode and then paren-mode for retrieving indentation length <a href="https://github.com/mfikes/planck/commit/7303cf8e435335e5bb054b861271e7916b886baa#diff-13fa1297261809d0414872aca47177beR30" target="_blank">https://github.com/mfikes/planck/commit/7303cf8e435335e5bb054b861271e7916b886baa#diff-13fa1297261809d0414872aca47177beR30</a></z><z id="t1454638419" t="mfikes Hehe, yeah, not the expected use case for Parinfer at all :)"><y>#</y><d>2016-02-05</d><h>02:13</h><w>mfikes</w>Hehe, yeah, not the expected use case for Parinfer at all :)</z><z id="t1454638455" t="shaunlebron clever and useful though!"><y>#</y><d>2016-02-05</d><h>02:14</h><w>shaunlebron</w>clever and useful though!</z><z id="t1454639980" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] what kind of problems are you having?"><y>#</y><d>2016-02-05</d><h>02:39</h><w>shaunlebron</w><a>@cfleming</a> what kind of problems are you having?</z><z id="t1454640032" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : It’s internal IntelliJ stuff. I have to use a document listener to get the changes to the documents, but I can’t update the document inside that listener."><y>#</y><d>2016-02-05</d><h>02:40</h><w>cfleming</w><a>@shaunlebron</a>: It’s internal IntelliJ stuff. I have to use a document listener to get the changes to the documents, but I can’t update the document inside that listener.</z><z id="t1454640054" t="cfleming So I have to some up with some way to update the document later after some event that provokes a change."><y>#</y><d>2016-02-05</d><h>02:40</h><w>cfleming</w>So I have to some up with some way to update the document later after some event that provokes a change.</z><z id="t1454640099" t="cfleming There’s also the issue that Cursive/IntelliJ will update documents that are not open in an editor with refactorings or VCS operations."><y>#</y><d>2016-02-05</d><h>02:41</h><w>cfleming</w>There’s also the issue that Cursive/IntelliJ will update documents that are not open in an editor with refactorings or VCS operations.</z><z id="t1454640102" t="shaunlebron hmm"><y>#</y><d>2016-02-05</d><h>02:41</h><w>shaunlebron</w>hmm</z><z id="t1454640112" t="cfleming I’m not sure whether I should do those too."><y>#</y><d>2016-02-05</d><h>02:41</h><w>cfleming</w>I’m not sure whether I should do those too.</z><z id="t1454640148" t="cfleming At the moment I’m working on some of the UI stuff to make this more obvious, then I’m going to try actually integrating it."><y>#</y><d>2016-02-05</d><h>02:42</h><w>cfleming</w>At the moment I’m working on some of the UI stuff to make this more obvious, then I’m going to try actually integrating it.</z><z id="t1454640163" t="shaunlebron I see"><y>#</y><d>2016-02-05</d><h>02:42</h><w>shaunlebron</w>I see</z><z id="t1454640195" t="shaunlebron depending on intellij, you may have a problem making parinfer’s edits bypass the undo stack"><y>#</y><d>2016-02-05</d><h>02:43</h><w>shaunlebron</w>depending on intellij, you may have a problem making parinfer’s edits bypass the undo stack</z><z id="t1454640265" t="shaunlebron if the parinfer edit gets added to the undo stack, undo will remove parinfer’s edit, but since parinfer runs after every edit, it will auto-redo the edit"><y>#</y><d>2016-02-05</d><h>02:44</h><w>shaunlebron</w>if the parinfer edit gets added to the undo stack, undo will remove parinfer’s edit, but since parinfer runs after every edit, it will auto-redo the edit</z><z id="t1454640271" t="shaunlebron if that makes sense"><y>#</y><d>2016-02-05</d><h>02:44</h><w>shaunlebron</w>if that makes sense</z><z id="t1454640294" t="cfleming No, that won’t be a problem - I can update the doc without affecting the undo stack."><y>#</y><d>2016-02-05</d><h>02:44</h><w>cfleming</w>No, that won’t be a problem - I can update the doc without affecting the undo stack.</z><z id="t1454640297" t="shaunlebron it was only a problem with Sublime Text, other editors were fine with it and didn’t require any extra work"><y>#</y><d>2016-02-05</d><h>02:44</h><w>shaunlebron</w>it was only a problem with Sublime Text, other editors were fine with it and didn’t require any extra work</z><z id="t1454640303" t="shaunlebron okay cool"><y>#</y><d>2016-02-05</d><h>02:45</h><w>shaunlebron</w>okay cool</z><z id="t1454640325" t="shaunlebron alright, well good luck"><y>#</y><d>2016-02-05</d><h>02:45</h><w>shaunlebron</w>alright, well good luck</z><z id="t1454640333" t="cfleming Thanks, I’ll let you know how I get on."><y>#</y><d>2016-02-05</d><h>02:45</h><w>cfleming</w>Thanks, I’ll let you know how I get on.</z><z id="t1454640340" t="cfleming How’s the new gig?"><y>#</y><d>2016-02-05</d><h>02:45</h><w>cfleming</w>How’s the new gig?</z><z id="t1454640352" t="shaunlebron ha, everyone here is really smart"><y>#</y><d>2016-02-05</d><h>02:45</h><w>shaunlebron</w>ha, everyone here is really smart</z><z id="t1454640363" t="cfleming Why thank you."><y>#</y><d>2016-02-05</d><h>02:46</h><w>cfleming</w>Why thank you.</z><z id="t1454640367" t="shaunlebron it’s a whole nother world here from what I’m used to"><y>#</y><d>2016-02-05</d><h>02:46</h><w>shaunlebron</w>it’s a whole nother world here from what I’m used to</z><z id="t1454640372" t="shaunlebron lol"><y>#</y><d>2016-02-05</d><h>02:46</h><w>shaunlebron</w>lol</z><z id="t1454640374" t="cfleming Oh wait, you meant Stripe."><y>#</y><d>2016-02-05</d><h>02:46</h><w>cfleming</w>Oh wait, you meant Stripe.</z><z id="t1454640384" t="shaunlebron you too colin"><y>#</y><d>2016-02-05</d><h>02:46</h><w>shaunlebron</w>you too colin</z><z id="t1454640387" t="shaunlebron haha"><y>#</y><d>2016-02-05</d><h>02:46</h><w>shaunlebron</w>haha</z><z id="t1454640388" t="cfleming Anyway, that’s cool. They seem like a great company."><y>#</y><d>2016-02-05</d><h>02:46</h><w>cfleming</w>Anyway, that’s cool. They seem like a great company.</z><z id="t1454640391" t="cfleming Oh stop it."><y>#</y><d>2016-02-05</d><h>02:46</h><w>cfleming</w>Oh stop it.</z><z id="t1454640397" t="cfleming Hehe"><y>#</y><d>2016-02-05</d><h>02:46</h><w>cfleming</w>Hehe</z><z id="t1454640413" t="cfleming Are you allowed to talk about what you’ll be doing, apart from infiltrating them with CLJS?"><y>#</y><d>2016-02-05</d><h>02:46</h><w>cfleming</w>Are you allowed to talk about what you’ll be doing, apart from infiltrating them with CLJS?</z><z id="t1454640430" t="shaunlebron yeah, i got a little overwhelmed today, but great people and far-reaching technology"><y>#</y><d>2016-02-05</d><h>02:47</h><w>shaunlebron</w>yeah, i got a little overwhelmed today, but great people and far-reaching technology</z><z id="t1454640437" t="shaunlebron i’m working on the checkout form"><y>#</y><d>2016-02-05</d><h>02:47</h><w>shaunlebron</w>i’m working on the checkout form</z><z id="t1454640474" t="shaunlebron they make all the new recruits get up during allhands to introduce themselves to the company"><y>#</y><d>2016-02-05</d><h>02:47</h><w>shaunlebron</w>they make all the new recruits get up during allhands to introduce themselves to the company</z><z id="t1454640489" t="shaunlebron i made it clear that my secret mission was to bring clojure to stripe"><y>#</y><d>2016-02-05</d><h>02:48</h><w>shaunlebron</w>i made it clear that my secret mission was to bring clojure to stripe</z><z id="t1454640496" t="shaunlebron so it’s not really a secret anymore"><y>#</y><d>2016-02-05</d><h>02:48</h><w>shaunlebron</w>so it’s not really a secret anymore</z><z id="t1454640556" t="cfleming Excellent work."><y>#</y><d>2016-02-05</d><h>02:49</h><w>cfleming</w>Excellent work.</z><z id="t1454640589" t="cfleming It’s going to be interesting times for them with the new PCI changes."><y>#</y><d>2016-02-05</d><h>02:49</h><w>cfleming</w>It’s going to be interesting times for them with the new PCI changes.</z><z id="t1454640590" t="shaunlebron seriously though, they’re open to new technology, and just want to add stuff incrementally in a way that doesn’t move us backwards"><y>#</y><d>2016-02-05</d><h>02:49</h><w>shaunlebron</w>seriously though, they’re open to new technology, and just want to add stuff incrementally in a way that doesn’t move us backwards</z><z id="t1454640602" t="shaunlebron so we’ll see"><y>#</y><d>2016-02-05</d><h>02:50</h><w>shaunlebron</w>so we’ll see</z><z id="t1454640608" t="cfleming They actually are just about to launch in NZ too."><y>#</y><d>2016-02-05</d><h>02:50</h><w>cfleming</w>They actually are just about to launch in NZ too.</z><z id="t1454640609" t="shaunlebron not going in guns blazing"><y>#</y><d>2016-02-05</d><h>02:50</h><w>shaunlebron</w>not going in guns blazing</z><z id="t1454640614" t="cfleming Good plan."><y>#</y><d>2016-02-05</d><h>02:50</h><w>cfleming</w>Good plan.</z><z id="t1454640617" t="shaunlebron yeah cool"><y>#</y><d>2016-02-05</d><h>02:50</h><w>shaunlebron</w>yeah cool</z><z id="t1454640637" t="cfleming Anyway, I’ll let you go, I’m sure you’ve had a busy week simple_smile"><y>#</y><d>2016-02-05</d><h>02:50</h><w>cfleming</w>Anyway, I’ll let you go, I’m sure you’ve had a busy week <b>simple_smile</b></z><z id="t1454640638" t="cfleming Seeya"><y>#</y><d>2016-02-05</d><h>02:50</h><w>cfleming</w>Seeya</z><z id="t1454640648" t="cfleming I’ll let you know how I get on with this."><y>#</y><d>2016-02-05</d><h>02:50</h><w>cfleming</w>I’ll let you know how I get on with this.</z><z id="t1454640659" t="shaunlebron yeah, catch up later, good night"><y>#</y><d>2016-02-05</d><h>02:50</h><w>shaunlebron</w>yeah, catch up later, good night</z><z id="t1454799625" t="chrisoakman [:attrs {:href &quot;/_/_/users/U09LZR36F&quot;}] : https://github.com/oakmac/parinfer-elisp"><y>#</y><d>2016-02-06</d><h>23:00</h><w>chrisoakman</w><a>@dominicm</a>: <a href="https://github.com/oakmac/parinfer-elisp" target="_blank">https://github.com/oakmac/parinfer-elisp</a></z><z id="t1454801167" t="dominicm [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] that&apos;s really cool. I&apos;m gonna have to show that to my colleagues. "><y>#</y><d>2016-02-06</d><h>23:26</h><w>dominicm</w><a>@chrisoakman</a> that&apos;s really cool. I&apos;m gonna have to show that to my colleagues. </z><z id="t1454801224" t="dominicm Out of interest, is there a block to consuming the existing library? "><y>#</y><d>2016-02-06</d><h>23:27</h><w>dominicm</w>Out of interest, is there a block to consuming the existing library? </z><z id="t1454801496" t="chrisoakman I&apos;m not sure what that means"><y>#</y><d>2016-02-06</d><h>23:31</h><w>chrisoakman</w>I&apos;m not sure what that means</z><z id="t1454801514" t="chrisoakman I namedspaced it under parinferlib , assuming that extension writers would use parinfer"><y>#</y><d>2016-02-06</d><h>23:31</h><w>chrisoakman</w>I namedspaced it under <code>parinferlib</code>, assuming that extension writers would use <code>parinfer</code></z><z id="t1454801724" t="dominicm [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] : Does emacs not well-support external libraries, which are partially js for example?"><y>#</y><d>2016-02-06</d><h>23:35</h><w>dominicm</w><a>@chrisoakman</a>: Does emacs not well-support external libraries, which are partially js for example?</z><z id="t1454801761" t="chrisoakman oh - now I understand your original question"><y>#</y><d>2016-02-06</d><h>23:36</h><w>chrisoakman</w>oh - now I understand your original question</z><z id="t1454801768" t="chrisoakman I have no idea; I don&apos;t use Emacs"><y>#</y><d>2016-02-06</d><h>23:36</h><w>chrisoakman</w>I have no idea; I don&apos;t use Emacs</z><z id="t1454801845" t="chrisoakman presumably the best language for writing Emacs extensions is Emacs Lisp"><y>#</y><d>2016-02-06</d><h>23:37</h><w>chrisoakman</w>presumably the best language for writing Emacs extensions is Emacs Lisp</z><z id="t1454801867" t="chrisoakman so that&apos;s why I wrote that library"><y>#</y><d>2016-02-06</d><h>23:37</h><w>chrisoakman</w>so that&apos;s why I wrote that library</z><z id="t1454801987" t="dominicm heh, fair enough 😛 ."><y>#</y><d>2016-02-06</d><h>23:39</h><w>dominicm</w>heh, fair enough <b>😛</b>.</z><z id="t1454801993" t="dominicm I&apos;ll have to give it a go"><y>#</y><d>2016-02-06</d><h>23:39</h><w>dominicm</w>I&apos;ll have to give it a go</z><z id="t1454922282" t="Niclas [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] : Cool!"><y>#</y><d>2016-02-08</d><h>09:04</h><w>Niclas</w><a>@chrisoakman</a>: Cool!</z></g><g id="s4"><z id="t1454929298" t="dominicm https://github.com/shaunlebron/parinfer/issues/92 Interested on thoughts regarding this"><y>#</y><d>2016-02-08</d><h>11:01</h><w>dominicm</w><a href="https://github.com/shaunlebron/parinfer/issues/92" target="_blank">https://github.com/shaunlebron/parinfer/issues/92</a> Interested on thoughts regarding this</z><z id="t1454974533" t="cfleming So with debouncing, the idea is that multiple edits are bundled up if they’re within a certain tolerance."><y>#</y><d>2016-02-08</d><h>23:35</h><w>cfleming</w>So with debouncing, the idea is that multiple edits are bundled up if they’re within a certain tolerance.</z><z id="t1454974563" t="cfleming Any idea what that tolerance should be? 5ms? 10ms? 20ms? 100ms?"><y>#</y><d>2016-02-08</d><h>23:36</h><w>cfleming</w>Any idea what that tolerance should be? 5ms? 10ms? 20ms? 100ms?</z><z id="t1454974585" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : I guess that is a question for you."><y>#</y><d>2016-02-08</d><h>23:36</h><w>cfleming</w><a>@shaunlebron</a>: I guess that is a question for you.</z><z id="t1454977774" t="chrisoakman [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] atom-parinfer uses 10ms https://github.com/oakmac/atom-parinfer/blob/master/src-cljs/atom_parinfer/core.cljs#L287-L293"><y>#</y><d>2016-02-09</d><h>00:29</h><w>chrisoakman</w><a>@cfleming</a> atom-parinfer uses 10ms <a href="https://github.com/oakmac/atom-parinfer/blob/master/src-cljs/atom_parinfer/core.cljs#L287-L293" target="_blank">https://github.com/oakmac/atom-parinfer/blob/master/src-cljs/atom_parinfer/core.cljs#L287-L293</a></z><z id="t1454977808" t="chrisoakman sublime is doing 50ms https://github.com/oakmac/sublime-text-parinfer/blob/master/sublime-parinfer.py#L29"><y>#</y><d>2016-02-09</d><h>00:30</h><w>chrisoakman</w>sublime is doing 50ms <a href="https://github.com/oakmac/sublime-text-parinfer/blob/master/sublime-parinfer.py#L29" target="_blank">https://github.com/oakmac/sublime-text-parinfer/blob/master/sublime-parinfer.py#L29</a></z><z id="t1454977815" t="chrisoakman although that can probably be safely lowered"><y>#</y><d>2016-02-09</d><h>00:30</h><w>chrisoakman</w>although that can probably be safely lowered</z><z id="t1454977841" t="chrisoakman [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] : https://github.com/oakmac/parinfer-viml"><y>#</y><d>2016-02-09</d><h>00:30</h><w>chrisoakman</w><a>@snoe</a>:  <a href="https://github.com/oakmac/parinfer-viml" target="_blank">https://github.com/oakmac/parinfer-viml</a></z><z id="t1454977848" t="chrisoakman Vimscript port is complete"><y>#</y><d>2016-02-09</d><h>00:30</h><w>chrisoakman</w>Vimscript port is complete</z><z id="t1454977854" t="chrisoakman it&apos;s pretty rough around the edges right now, but all the tests pass"><y>#</y><d>2016-02-09</d><h>00:30</h><w>chrisoakman</w>it&apos;s pretty rough around the edges right now, but all the tests pass</z><z id="t1454977857" t="chrisoakman which is the important thing"><y>#</y><d>2016-02-09</d><h>00:30</h><w>chrisoakman</w>which is the important thing</z><z id="t1454978326" t="chrisoakman [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : debouncing essentially means &quot;only execute parinfer every N milliseconds, even if the user is typing faster than N&quot;"><y>#</y><d>2016-02-09</d><h>00:38</h><w>chrisoakman</w><a>@cfleming</a>: debouncing essentially means &quot;only execute parinfer every N milliseconds, even if the user is typing faster than N&quot;</z><z id="t1454978358" t="chrisoakman it&apos;s a common pattern you see in UIs that have event loops"><y>#</y><d>2016-02-09</d><h>00:39</h><w>chrisoakman</w>it&apos;s a common pattern you see in UIs that have event loops</z><z id="t1454982104" t="cfleming [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] : right, I was just wondering what a good value for N was"><y>#</y><d>2016-02-09</d><h>01:41</h><w>cfleming</w><a>@chrisoakman</a>: right, I was just wondering what a good value for N was</z><z id="t1454982165" t="cfleming Has anyone using sublime complained about responsiveness at 50ms?"><y>#</y><d>2016-02-09</d><h>01:42</h><w>cfleming</w>Has anyone using sublime complained about responsiveness at 50ms?</z><z id="t1454982213" t="chrisoakman not to my knowledge"><y>#</y><d>2016-02-09</d><h>01:43</h><w>chrisoakman</w>not to my knowledge</z><z id="t1454982225" t="chrisoakman there aren&apos;t too many Sublime parinfer users though"><y>#</y><d>2016-02-09</d><h>01:43</h><w>chrisoakman</w>there aren&apos;t too many Sublime parinfer users though</z><z id="t1454982233" t="chrisoakman many more atom-parinfer users"><y>#</y><d>2016-02-09</d><h>01:43</h><w>chrisoakman</w>many more atom-parinfer users</z><z id="t1454982247" t="chrisoakman with the JVM speed I would try 10ms first and see how it works"><y>#</y><d>2016-02-09</d><h>01:44</h><w>chrisoakman</w>with the JVM speed I would try 10ms first and see how it works</z><z id="t1454983399" t="snoe [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] that&apos;s cool, what kind of speeds do you see in viml?"><y>#</y><d>2016-02-09</d><h>02:03</h><w>snoe</w><a>@chrisoakman</a> that&apos;s cool, what kind of speeds do you see in viml?</z><z id="t1454983414" t="chrisoakman I have no idea simple_smile"><y>#</y><d>2016-02-09</d><h>02:03</h><w>chrisoakman</w>I have no idea <b>simple_smile</b></z><z id="t1454983426" t="chrisoakman https://github.com/oakmac/parinfer-viml/issues/3"><y>#</y><d>2016-02-09</d><h>02:03</h><w>chrisoakman</w><a href="https://github.com/oakmac/parinfer-viml/issues/3" target="_blank">https://github.com/oakmac/parinfer-viml/issues/3</a></z><z id="t1454983477" t="chrisoakman hopefully that is useful though"><y>#</y><d>2016-02-09</d><h>02:04</h><w>chrisoakman</w>hopefully that is useful though</z><z id="t1454983506" t="chrisoakman think I might be done with Parinfer ports for a while now; I can&apos;t think of another major language that needs it"><y>#</y><d>2016-02-09</d><h>02:05</h><w>chrisoakman</w>think I might be done with Parinfer ports for a while now; I can&apos;t think of another major language that needs it</z><z id="t1454983508" t="chrisoakman maybe Lua?"><y>#</y><d>2016-02-09</d><h>02:05</h><w>chrisoakman</w>maybe Lua?</z><z id="t1454985403" t="cfleming [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] : Ok, thanks, I’ll start with 10ms"><y>#</y><d>2016-02-09</d><h>02:36</h><w>cfleming</w><a>@chrisoakman</a>: Ok, thanks, I’ll start with 10ms</z><z id="t1454985472" t="cfleming Basically, due to the way that IntelliJ works, when I see a change I’ll start a timer, and I’ll coalesce all updates until the timer runs out. On each new change I’ll reset it, so the delay will basically be 10ms since the last change."><y>#</y><d>2016-02-09</d><h>02:37</h><w>cfleming</w>Basically, due to the way that IntelliJ works, when I see a change I’ll start a timer, and I’ll coalesce all updates until the timer runs out. On each new change I’ll reset it, so the delay will basically be 10ms since the last change.</z><z id="t1454985512" t="chrisoakman right"><y>#</y><d>2016-02-09</d><h>02:38</h><w>chrisoakman</w>right</z><z id="t1454985524" t="chrisoakman in JS it&apos;s pretty easy to do debounce; not sure in Java"><y>#</y><d>2016-02-09</d><h>02:38</h><w>chrisoakman</w>in JS it&apos;s pretty easy to do debounce; not sure in Java</z><z id="t1454985530" t="cfleming There’s some additional complication around things like bulk changes (formatting etc) but that’s the gist of it"><y>#</y><d>2016-02-09</d><h>02:38</h><w>cfleming</w>There’s some additional complication around things like bulk changes (formatting etc) but that’s the gist of it</z><z id="t1454985532" t="chrisoakman you might want to look at how it&apos;s done in the sublime-plugin"><y>#</y><d>2016-02-09</d><h>02:38</h><w>chrisoakman</w>you might want to look at how it&apos;s done in the sublime-plugin</z><z id="t1454985580" t="chrisoakman https://github.com/oakmac/sublime-text-parinfer/blob/master/sublime-parinfer.py#L170-L181"><y>#</y><d>2016-02-09</d><h>02:39</h><w>chrisoakman</w><a href="https://github.com/oakmac/sublime-text-parinfer/blob/master/sublime-parinfer.py#L170-L181" target="_blank">https://github.com/oakmac/sublime-text-parinfer/blob/master/sublime-parinfer.py#L170-L181</a></z><z id="t1454985594" t="chrisoakman it just increments and decrements a counter"><y>#</y><d>2016-02-09</d><h>02:39</h><w>chrisoakman</w>it just increments and decrements a counter</z><z id="t1454985632" t="chrisoakman is the IntelliJ API that you&apos;re working with public?"><y>#</y><d>2016-02-09</d><h>02:40</h><w>chrisoakman</w>is the IntelliJ API that you&apos;re working with public?</z><z id="t1454986287" t="cfleming Ok, I’ll check it out, thanks"><y>#</y><d>2016-02-09</d><h>02:51</h><w>cfleming</w>Ok, I’ll check it out, thanks</z><z id="t1454986295" t="cfleming Yeah, the API is all public, but it’s complex"><y>#</y><d>2016-02-09</d><h>02:51</h><w>cfleming</w>Yeah, the API is all public, but it’s complex</z><z id="t1454989991" t="shaunlebron debouncing was something that was necessary when parinfer was slow"><y>#</y><d>2016-02-09</d><h>03:53</h><w>shaunlebron</w>debouncing was something that was necessary when parinfer was slow</z><z id="t1454990016" t="shaunlebron but it looks like parinfer-kotlin is sufficiently fast"><y>#</y><d>2016-02-09</d><h>03:53</h><w>shaunlebron</w>but it looks like parinfer-kotlin is sufficiently fast</z><z id="t1454990072" t="shaunlebron I just didn’t want parinfer to block the editor’s input thread"><y>#</y><d>2016-02-09</d><h>03:54</h><w>shaunlebron</w>I just didn’t want parinfer to block the editor’s input thread</z><z id="t1454990233" t="shaunlebron Parinfer on JS and JVM can process ~3000 lines about 60-100 times/second"><y>#</y><d>2016-02-09</d><h>03:57</h><w>shaunlebron</w>Parinfer on JS and JVM can process ~3000 lines about 60-100 times/second</z><z id="t1454990282" t="shaunlebron and if a person types 120 wpm, that’s about 8 characters/second"><y>#</y><d>2016-02-09</d><h>03:58</h><w>shaunlebron</w>and if a person types 120 wpm, that’s about 8 characters/second</z><z id="t1454990391" t="shaunlebron so, parinfer can run 8-10 times between every keystroke without blocking the input thread"><y>#</y><d>2016-02-09</d><h>03:59</h><w>shaunlebron</w>so, parinfer can run 8-10 times between every keystroke without blocking the input thread</z><z id="t1454990555" t="shaunlebron so [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] , you may want to try it without the debounce first since the JVM version is fast"><y>#</y><d>2016-02-09</d><h>04:02</h><w>shaunlebron</w>so <a>@cfleming</a>, you may want to try it without the debounce first since the JVM version is fast</z><z id="t1454990575" t="shaunlebron [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] : thoughts on removing debounce?"><y>#</y><d>2016-02-09</d><h>04:02</h><w>shaunlebron</w><a>@chrisoakman</a>: thoughts on removing debounce?</z><z id="t1454990706" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : Note that the issue isn’t just replacing the text, since in IntelliJ it also provokes a full parse of the file etc. I still think I’m going to debounce."><y>#</y><d>2016-02-09</d><h>04:05</h><w>cfleming</w><a>@shaunlebron</a>: Note that the issue isn’t just replacing the text, since in IntelliJ it also provokes a full parse of the file etc. I still think I’m going to debounce.</z><z id="t1454990738" t="cfleming Updating the text will trigger a bunch of background activity of different types."><y>#</y><d>2016-02-09</d><h>04:05</h><w>cfleming</w>Updating the text will trigger a bunch of background activity of different types.</z><z id="t1454990844" t="cfleming Anyone interested in a (huge, but very interesting) discussion on editor latency should see: https://pavelfatin.com/typing-with-pleasure/ . Quite amazing results, too."><y>#</y><d>2016-02-09</d><h>04:07</h><w>cfleming</w>Anyone interested in a (huge, but very interesting) discussion on editor latency should see: <a href="https://pavelfatin.com/typing-with-pleasure/" target="_blank">https://pavelfatin.com/typing-with-pleasure/</a>. Quite amazing results, too.</z><z id="t1454990935" t="shaunlebron thanks for the reminder, [:attrs {:href &quot;/_/_/users/U050CJFRU&quot;}] sent that to me a while back since it seems especially relevant to this"><y>#</y><d>2016-02-09</d><h>04:08</h><w>shaunlebron</w>thanks for the reminder, <a>@denik</a> sent that to me a while back since it seems especially relevant to this</z><z id="t1454998930" t="chrisoakman Probably a good idea to keep debounce in, even if it&apos;s only set for something like 10ms"><y>#</y><d>2016-02-09</d><h>06:22</h><w>chrisoakman</w>Probably a good idea to keep debounce in, even if it&apos;s only set for something like 10ms</z><z id="t1454998988" t="chrisoakman in atom-parinfer, sometimes the editor will kick off several events even though the user would assume it is only 1"><y>#</y><d>2016-02-09</d><h>06:23</h><w>chrisoakman</w>in atom-parinfer, sometimes the editor will kick off several events even though the user would assume it is only 1</z><z id="t1454998995" t="chrisoakman debounces handles those cases very cleanly"><y>#</y><d>2016-02-09</d><h>06:23</h><w>chrisoakman</w>debounces handles those cases very cleanly</z><z id="t1454999026" t="chrisoakman it&apos;s almost like a defense against aggressive editor events 😉"><y>#</y><d>2016-02-09</d><h>06:23</h><w>chrisoakman</w>it&apos;s almost like a defense against aggressive editor events <b>😉</b></z><z id="t1455061443" t="cfleming When using Indent mode in existing integrations, I believe indent and dedent pretty much just use 2 chars, right?"><y>#</y><d>2016-02-09</d><h>23:44</h><w>cfleming</w>When using Indent mode in existing integrations, I believe indent and dedent pretty much just use 2 chars, right?</z><z id="t1455061471" t="cfleming I know there’s been some discussion about smarter indenting, i.e. trying to choose the right indents to jump to."><y>#</y><d>2016-02-09</d><h>23:44</h><w>cfleming</w>I know there’s been some discussion about smarter indenting, i.e. trying to choose the right indents to jump to.</z><z id="t1455061518" t="cfleming Ah, this looks like https://github.com/shaunlebron/parinfer/issues/89"><y>#</y><d>2016-02-09</d><h>23:45</h><w>cfleming</w>Ah, this looks like <a href="https://github.com/shaunlebron/parinfer/issues/89" target="_blank">https://github.com/shaunlebron/parinfer/issues/89</a></z><z id="t1455062196" t="cfleming Wow, I should have read the issues ages ago, lots of good stuff there."><y>#</y><d>2016-02-09</d><h>23:56</h><w>cfleming</w>Wow, I should have read the issues ages ago, lots of good stuff there.</z><z id="t1455113756" t="mfikes Post about Planck&apos;s use of Parinfer: http://blog.fikesfarm.com/posts/2016-02-10-indenting-with-parinfer.html"><y>#</y><d>2016-02-10</d><h>14:15</h><w>mfikes</w>Post about Planck&apos;s use of Parinfer: <a href="http://blog.fikesfarm.com/posts/2016-02-10-indenting-with-parinfer.html" target="_blank">http://blog.fikesfarm.com/posts/2016-02-10-indenting-with-parinfer.html</a></z><z id="t1455115224" t="meow Slacker"><y>#</y><d>2016-02-10</d><h>14:40</h><w>meow</w>Slacker</z><z id="t1455125822" t="shaunlebron [:attrs {:href &quot;/_/_/users/U04VDQDDY&quot;}] sweet!"><y>#</y><d>2016-02-10</d><h>17:37</h><w>shaunlebron</w><a>@mfikes</a> sweet!</z><z id="t1455125830" t="shaunlebron love it"><y>#</y><d>2016-02-10</d><h>17:37</h><w>shaunlebron</w>love it</z><z id="t1455125883" t="mfikes &apos;(- 100 10)`"><y>#</y><d>2016-02-10</d><h>17:38</h><w>mfikes</w>&apos;(- 100 10)`</z><z id="t1455147892" t="cfleming How have people found copying and pasting with parinfer? Do any of the integrations do anything special with it?"><y>#</y><d>2016-02-10</d><h>23:44</h><w>cfleming</w>How have people found copying and pasting with parinfer? Do any of the integrations do anything special with it?</z><z id="t1455147927" t="cfleming If you paste a multi-line already-indented form at some position other than the start of the line, surely stuff gets messed up?"><y>#</y><d>2016-02-10</d><h>23:45</h><w>cfleming</w>If you paste a multi-line already-indented form at some position other than the start of the line, surely stuff gets messed up?</z><z id="t1455148271" t="shaunlebron im not aware of any plugins doing anything extra for paste ops"><y>#</y><d>2016-02-10</d><h>23:51</h><w>shaunlebron</w>im not aware of any plugins doing anything extra for paste ops</z><z id="t1455148320" t="shaunlebron it will mess up like you said, but its not irrerversible"><y>#</y><d>2016-02-10</d><h>23:52</h><w>shaunlebron</w>it will mess up like you said, but its not irrerversible</z><z id="t1455148377" t="shaunlebron i mean that correcting the indentation after pasting will restore what you intended to paste"><y>#</y><d>2016-02-10</d><h>23:52</h><w>shaunlebron</w>i mean that correcting the indentation after pasting will restore what you intended to paste</z><z id="t1455149131" t="snoe I&apos;ve thought of turning on paren mode when pasting but haven&apos;t got around to trying it, I think it would make a lot of sense"><y>#</y><d>2016-02-11</d><h>00:05</h><w>snoe</w>I&apos;ve thought of turning on paren mode when pasting but haven&apos;t got around to trying it, I think it would make a lot of sense</z><z id="t1455149296" t="cfleming Cursive can actually pre-process text on paste. This is something I’ve been thinking about doing for vanilla paredit - if the user tries to paste unbalanced text (by far the most common cause of unbalancing, for experienced users at least) I can pop up a window with the pasted text, highlight the bad parens and allow them to edit the text until it’s balanced before proceeding with the paste."><y>#</y><d>2016-02-11</d><h>00:08</h><w>cfleming</w>Cursive can actually pre-process text on paste. This is something I’ve been thinking about doing for vanilla paredit - if the user tries to paste unbalanced text (by far the most common cause of unbalancing, for experienced users at least) I can pop up a window with the pasted text, highlight the bad parens and allow them to edit the text until it’s balanced before proceeding with the paste.</z><z id="t1455149332" t="cfleming I’m thinking that in indent mode I’d adjust the indentation on paste so that it matches the point in the text that the user has pasted at."><y>#</y><d>2016-02-11</d><h>00:08</h><w>cfleming</w>I’m thinking that in indent mode I’d adjust the indentation on paste so that it matches the point in the text that the user has pasted at.</z><z id="t1455149350" t="cfleming In paren mode, perhaps do the same as I’m thinking for paredit."><y>#</y><d>2016-02-11</d><h>00:09</h><w>cfleming</w>In paren mode, perhaps do the same as I’m thinking for paredit.</z><z id="t1455149405" t="cfleming Of course, lots of tricky corner cases if the user is replacing a selection with the pasted text, etc etc"><y>#</y><d>2016-02-11</d><h>00:10</h><w>cfleming</w>Of course, lots of tricky corner cases if the user is replacing a selection with the pasted text, etc etc</z><z id="t1455149486" t="snoe what if you run indent mode to balance the parens, then paste in with paren mode, which would indent for you"><y>#</y><d>2016-02-11</d><h>00:11</h><w>snoe</w>what if you run indent mode to balance the parens, then paste in with paren mode, which would indent for you</z><z id="t1455149761" t="cfleming Interesting, I hadn’t considered that since parinfer wasn’t around when I started thinking about it."><y>#</y><d>2016-02-11</d><h>00:16</h><w>cfleming</w>Interesting, I hadn’t considered that since parinfer wasn’t around when I started thinking about it.</z><z id="t1455149785" t="cfleming But that actually sounds like a pretty nice idea."><y>#</y><d>2016-02-11</d><h>00:16</h><w>cfleming</w>But that actually sounds like a pretty nice idea.</z><z id="t1455149824" t="cfleming I guess for an arbitrary paste, I’d have to run paren mode first (like the first time you open a file in the editor), then indent mode, then paren mode on paste?"><y>#</y><d>2016-02-11</d><h>00:17</h><w>cfleming</w>I guess for an arbitrary paste, I’d have to run paren mode first (like the first time you open a file in the editor), then indent mode, then paren mode on paste?</z><z id="t1455149831" t="cfleming I’d have to think about it."><y>#</y><d>2016-02-11</d><h>00:17</h><w>cfleming</w>I’d have to think about it.</z><z id="t1455149917" t="cfleming I guess the difficulty is that the problematic case on paste is when it’s unbalanced, and neither parinfer mode handles that well."><y>#</y><d>2016-02-11</d><h>00:18</h><w>cfleming</w>I guess the difficulty is that the problematic case on paste is when it’s unbalanced, and neither parinfer mode handles that well.</z><z id="t1455150214" t="snoe eh, it depends, pasting (let [foo bar and turning it into (let [foo bar]) with indent mode would make sense to me"><y>#</y><d>2016-02-11</d><h>00:23</h><w>snoe</w>eh, it depends, pasting <code>(let [foo bar</code> and turning it into <code>(let [foo bar])</code> with indent mode would make sense to me</z><z id="t1455150306" t="mfikes [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : I had to add special support for the paste use case for Planck&apos;s use of Parinfer, but I bet there isn&apos;t much to share with respect to it. (The paragraph below the YouTube video in http://blog.fikesfarm.com/posts/2016-02-10-indenting-with-parinfer.html .)"><y>#</y><d>2016-02-11</d><h>00:25</h><w>mfikes</w><a>@cfleming</a>: I had to add special support for the paste use case for Planck&apos;s use of Parinfer, but I bet there isn&apos;t much to share with respect to it. (The paragraph below the YouTube video in <a href="http://blog.fikesfarm.com/posts/2016-02-10-indenting-with-parinfer.html" target="_blank">http://blog.fikesfarm.com/posts/2016-02-10-indenting-with-parinfer.html</a> .)</z><z id="t1455152525" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] my gut feeling is that the popup paste correction window has the right intentions, but will be difficult to get right"><y>#</y><d>2016-02-11</d><h>01:02</h><w>shaunlebron</w><a>@cfleming</a> my gut feeling is that the popup paste correction window has the right intentions, but will be difficult to get right</z><z id="t1455152609" t="shaunlebron when copying multiple lines of text, the user may start at the beginning of a line or start at the first paren instead"><y>#</y><d>2016-02-11</d><h>01:03</h><w>shaunlebron</w>when copying multiple lines of text, the user may start at the beginning of a line or start at the first paren instead</z><z id="t1455152655" t="shaunlebron pasting it somewhere has the same problems. they may paste at the beginning of a line or somewhere to the right"><y>#</y><d>2016-02-11</d><h>01:04</h><w>shaunlebron</w>pasting it somewhere has the same problems. they may paste at the beginning of a line or somewhere to the right</z><z id="t1455152704" t="shaunlebron i would keep with the rules of indent mode here. users manually manage indentation and everything else falls in place"><y>#</y><d>2016-02-11</d><h>01:05</h><w>shaunlebron</w>i would keep with the rules of indent mode here. users manually manage indentation and everything else falls in place</z><z id="t1455152823" t="shaunlebron under these rules, pasting code seems to be predictable and correctable for the inevitable minor indentation mistakes that result"><y>#</y><d>2016-02-11</d><h>01:07</h><w>shaunlebron</w>under these rules, pasting code seems to be predictable and correctable for the inevitable minor indentation mistakes that result</z><z id="t1455153610" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : Ok, I’ll try that first and see how people find it."><y>#</y><d>2016-02-11</d><h>01:20</h><w>cfleming</w><a>@shaunlebron</a>: Ok, I’ll try that first and see how people find it.</z><z id="t1455158833" t="cfleming How important is the cursorDx parameter?"><y>#</y><d>2016-02-11</d><h>02:47</h><w>cfleming</w>How important is the cursorDx parameter?</z><z id="t1455158840" t="cfleming It’s difficult to calculate in Cursive"><y>#</y><d>2016-02-11</d><h>02:47</h><w>cfleming</w>It’s difficult to calculate in Cursive</z><z id="t1455159095" t="shaunlebron good question"><y>#</y><d>2016-02-11</d><h>02:51</h><w>shaunlebron</w>good question</z><z id="t1455159111" t="shaunlebron chris never figured it out in atom"><y>#</y><d>2016-02-11</d><h>02:51</h><w>shaunlebron</w>chris never figured it out in atom</z><z id="t1455159121" t="shaunlebron i’ll give you an example in a minute, brb"><y>#</y><d>2016-02-11</d><h>02:52</h><w>shaunlebron</w>i’ll give you an example in a minute, brb</z><z id="t1455159126" t="cfleming In fact, several of the caret parameters are difficult to calculate, depending on how the event happens."><y>#</y><d>2016-02-11</d><h>02:52</h><w>cfleming</w>In fact, several of the caret parameters are difficult to calculate, depending on how the event happens.</z><z id="t1455159150" t="cfleming This is because IntelliJ makes the distinction between a document and an editor."><y>#</y><d>2016-02-11</d><h>02:52</h><w>cfleming</w>This is because IntelliJ makes the distinction between a document and an editor.</z><z id="t1455159180" t="cfleming The modification event happens on the document, but the editor holds the caret position."><y>#</y><d>2016-02-11</d><h>02:53</h><w>cfleming</w>The modification event happens on the document, but the editor holds the caret position.</z><z id="t1455159216" t="cfleming This is because you might have two editors open on the same document, or you might have modifications to a document that isn’t being edited (e.g. as a result of a refactoring)"><y>#</y><d>2016-02-11</d><h>02:53</h><w>cfleming</w>This is because you might have two editors open on the same document, or you might have modifications to a document that isn’t being edited (e.g. as a result of a refactoring)</z><z id="t1455159246" t="cfleming In fact, this is trickier than I thought."><y>#</y><d>2016-02-11</d><h>02:54</h><w>cfleming</w>In fact, this is trickier than I thought.</z><z id="t1455159590" t="cfleming Also, is this a true statement: Paren mode only ever touches the leading indent of a line, and indent mode only ever deletes closing parens inside lines, and adds them at the end of lines?"><y>#</y><d>2016-02-11</d><h>02:59</h><w>cfleming</w>Also, is this a true statement: Paren mode only ever touches the leading indent of a line, and indent mode only ever deletes closing parens inside lines, and adds them at the end of lines?</z><z id="t1455160188" t="shaunlebron short answer: cursorDx can be computed if there is an onChange event that communicates a portion of text that was added or removed and the position of the cursor"><y>#</y><d>2016-02-11</d><h>03:09</h><w>shaunlebron</w>short answer: <code>cursorDx</code> can be computed if there is an <code>onChange</code> event that communicates a portion of text that was added or removed and the position of the cursor</z><z id="t1455160236" t="shaunlebron but it’s only important for pulling indentation of child expressions back when you move its open-paren container back"><y>#</y><d>2016-02-11</d><h>03:10</h><w>shaunlebron</w>but it’s only important for pulling indentation of child expressions back when you move its open-paren container back</z><z id="t1455160270" t="shaunlebron not many people are using paren-mode honestly"><y>#</y><d>2016-02-11</d><h>03:11</h><w>shaunlebron</w>not many people are using paren-mode honestly</z><z id="t1455160403" t="shaunlebron paren mode will move close-parens in some situations"><y>#</y><d>2016-02-11</d><h>03:13</h><w>shaunlebron</w>paren mode will move close-parens in some situations</z><z id="t1455160426" t="shaunlebron (let [a 1 ]) "><y>#</y><d>2016-02-11</d><h>03:13</h><w>shaunlebron</w><pre>(let [a 1
      ])
</pre></z><z id="t1455160435" t="shaunlebron will be changed to:"><y>#</y><d>2016-02-11</d><h>03:13</h><w>shaunlebron</w>will be changed to:</z><z id="t1455160444" t="shaunlebron (let [a 1]) "><y>#</y><d>2016-02-11</d><h>03:14</h><w>shaunlebron</w><pre>(let [a 1])
</pre></z><z id="t1455160474" t="cfleming Unfortunately, I get an onChange event, but I don’t have the caret position"><y>#</y><d>2016-02-11</d><h>03:14</h><w>cfleming</w>Unfortunately, I get an onChange event, but I don’t have the caret position</z><z id="t1455160522" t="cfleming Since there might be multiple editors looking at the doc, or none. I don’t think I have any way to determine whether a particular change is as a result of a user action in a particular editor."><y>#</y><d>2016-02-11</d><h>03:15</h><w>cfleming</w>Since there might be multiple editors looking at the doc, or none. I don’t think I have any way to determine whether a particular change is as a result of a user action in a particular editor.</z><z id="t1455160564" t="shaunlebron it’s not something that is critical for a first run of parinfer in cursive"><y>#</y><d>2016-02-11</d><h>03:16</h><w>shaunlebron</w>it’s not something that is critical for a first run of parinfer in cursive</z><z id="t1455160581" t="shaunlebron atom-parinfer has never had it, and no one has ever filed an issue"><y>#</y><d>2016-02-11</d><h>03:16</h><w>shaunlebron</w>atom-parinfer has never had it, and no one has ever filed an issue</z><z id="t1455160604" t="shaunlebron there are complaints about other things, but paren mode never seems to come up"><y>#</y><d>2016-02-11</d><h>03:16</h><w>shaunlebron</w>there are complaints about other things, but paren mode never seems to come up</z><z id="t1455160613" t="shaunlebron i think folks are sticking to indent mode"><y>#</y><d>2016-02-11</d><h>03:16</h><w>shaunlebron</w>i think folks are sticking to indent mode</z><z id="t1455160623" t="cfleming What I can do is to maintain a list of open editors for a particular document. When I get a document event, I can see if the caret of any of those editors is at the boundaries of the change result - that is probably as a result of a change in that editor."><y>#</y><d>2016-02-11</d><h>03:17</h><w>cfleming</w>What I can do is to maintain a list of open editors for a particular document. When I get a document event, I can see if the caret of any of those editors is at the boundaries of the change result - that is probably as a result of a change in that editor.</z><z id="t1455160638" t="cfleming But there are some important cases that require knowing which line the caret is on, right?"><y>#</y><d>2016-02-11</d><h>03:17</h><w>cfleming</w>But there are some important cases that require knowing which line the caret is on, right?</z><z id="t1455160654" t="shaunlebron definitely"><y>#</y><d>2016-02-11</d><h>03:17</h><w>shaunlebron</w>definitely</z><z id="t1455160675" t="shaunlebron part 2 of the design doc covers a bunch of cases that need it"><y>#</y><d>2016-02-11</d><h>03:17</h><w>shaunlebron</w>part 2 of the design doc covers a bunch of cases that need it</z><z id="t1455160728" t="cfleming The problem is I don’t think I can get that either."><y>#</y><d>2016-02-11</d><h>03:18</h><w>cfleming</w>The problem is I don’t think I can get that either.</z><z id="t1455160747" t="cfleming Or at least, I’m going to have a set of them in the case where there is more than one editor."><y>#</y><d>2016-02-11</d><h>03:19</h><w>cfleming</w>Or at least, I’m going to have a set of them in the case where there is more than one editor.</z><z id="t1455160798" t="cfleming I’ll probably have to modify the algorithm to clamp the paren trail on any of the caret lines."><y>#</y><d>2016-02-11</d><h>03:19</h><w>cfleming</w>I’ll probably have to modify the algorithm to clamp the paren trail on any of the caret lines.</z><z id="t1455160819" t="shaunlebron that’s strange"><y>#</y><d>2016-02-11</d><h>03:20</h><w>shaunlebron</w>that’s strange</z><z id="t1455160827" t="cfleming What is?"><y>#</y><d>2016-02-11</d><h>03:20</h><w>cfleming</w>What is?</z><z id="t1455160845" t="cfleming Having more than one caret?"><y>#</y><d>2016-02-11</d><h>03:20</h><w>cfleming</w>Having more than one caret?</z><z id="t1455160891" t="shaunlebron sorry, coming in and out of conversations"><y>#</y><d>2016-02-11</d><h>03:21</h><w>shaunlebron</w>sorry, coming in and out of conversations</z><z id="t1455160901" t="shaunlebron brb"><y>#</y><d>2016-02-11</d><h>03:21</h><w>shaunlebron</w>brb</z><z id="t1455160917" t="cfleming NP"><y>#</y><d>2016-02-11</d><h>03:21</h><w>cfleming</w>NP</z><z id="t1455161452" t="shaunlebron so yeah, seems strange that it’s hard to determine where the cursor is in a document"><y>#</y><d>2016-02-11</d><h>03:30</h><w>shaunlebron</w>so yeah, seems strange that it’s hard to determine where the cursor is in a document</z><z id="t1455161486" t="shaunlebron a document can have multiple editors"><y>#</y><d>2016-02-11</d><h>03:31</h><w>shaunlebron</w>a document can have multiple editors</z><z id="t1455161510" t="shaunlebron I think that’s fine"><y>#</y><d>2016-02-11</d><h>03:31</h><w>shaunlebron</w>I think that’s fine</z><z id="t1455161542" t="shaunlebron when an editor changes a document, process the document with that editor’s cursor information"><y>#</y><d>2016-02-11</d><h>03:32</h><w>shaunlebron</w>when an editor changes a document, process the document with that editor’s cursor information</z><z id="t1455161556" t="shaunlebron I suppose we’re using cursor/caret interchangeably here"><y>#</y><d>2016-02-11</d><h>03:32</h><w>shaunlebron</w>I suppose we’re using cursor/caret interchangeably here</z><z id="t1455161573" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] ^"><y>#</y><d>2016-02-11</d><h>03:32</h><w>shaunlebron</w><a>@cfleming</a> ^</z><z id="t1455161669" t="cfleming Right, IntelliJ uses caret for the typing position, and cursor for the mouse"><y>#</y><d>2016-02-11</d><h>03:34</h><w>cfleming</w>Right, IntelliJ uses caret for the typing position, and cursor for the mouse</z><z id="t1455161674" t="cfleming Force of habit simple_smile"><y>#</y><d>2016-02-11</d><h>03:34</h><w>cfleming</w>Force of habit <b>simple_smile</b></z><z id="t1455161702" t="cfleming The problem is that on the document change event, I don’t know which editor (if any) caused the change."><y>#</y><d>2016-02-11</d><h>03:35</h><w>cfleming</w>The problem is that on the document change event, I don’t know which editor (if any) caused the change.</z><z id="t1455161763" t="shaunlebron hmm, is intellij open source?"><y>#</y><d>2016-02-11</d><h>03:36</h><w>shaunlebron</w>hmm, is intellij open source?</z><z id="t1455161771" t="shaunlebron might be a good PR"><y>#</y><d>2016-02-11</d><h>03:36</h><w>shaunlebron</w>might be a good PR</z><z id="t1455161786" t="cfleming I don’t think they’ll change that."><y>#</y><d>2016-02-11</d><h>03:36</h><w>cfleming</w>I don’t think they’ll change that.</z><z id="t1455161806" t="cfleming It’s also possible there’s a way to do it that I’m not aware of."><y>#</y><d>2016-02-11</d><h>03:36</h><w>cfleming</w>It’s also possible there’s a way to do it that I’m not aware of.</z><z id="t1455161815" t="cfleming I’ll ask on the forum."><y>#</y><d>2016-02-11</d><h>03:36</h><w>cfleming</w>I’ll ask on the forum.</z><z id="t1455161833" t="shaunlebron yeah, that’s a good idea"><y>#</y><d>2016-02-11</d><h>03:37</h><w>shaunlebron</w>yeah, that’s a good idea</z><z id="t1455161935" t="shaunlebron makes me wonder if there are other types of plugins that would need such information"><y>#</y><d>2016-02-11</d><h>03:38</h><w>shaunlebron</w>makes me wonder if there are other types of plugins that would need such information</z><z id="t1455161975" t="shaunlebron my first interaction with a text editor API was codemirror, which had this info readily available"><y>#</y><d>2016-02-11</d><h>03:39</h><w>shaunlebron</w>my first interaction with a text editor API was codemirror, which had this info readily available</z><z id="t1455161991" t="shaunlebron so I assumed it was standard"><y>#</y><d>2016-02-11</d><h>03:39</h><w>shaunlebron</w>so I assumed it was standard</z><z id="t1455162002" t="cfleming Right, but codemirror only ever has a single document with a single editor."><y>#</y><d>2016-02-11</d><h>03:40</h><w>cfleming</w>Right, but codemirror only ever has a single document with  a single editor.</z><z id="t1455162017" t="cfleming i.e. they’re basically the same thing."><y>#</y><d>2016-02-11</d><h>03:40</h><w>cfleming</w>i.e. they’re basically the same thing.</z><z id="t1455162024" t="cfleming I wonder how e.g. sublime handles it."><y>#</y><d>2016-02-11</d><h>03:40</h><w>cfleming</w>I wonder how e.g. sublime handles it.</z><z id="t1455162089" t="shaunlebron i’ll check sublime-parinfer real quick"><y>#</y><d>2016-02-11</d><h>03:41</h><w>shaunlebron</w>i’ll check sublime-parinfer real quick</z><z id="t1455162201" t="shaunlebron it has an on_modified event for every view"><y>#</y><d>2016-02-11</d><h>03:43</h><w>shaunlebron</w>it has an <code>on_modified</code> event for every <code>view</code></z><z id="t1455162229" t="shaunlebron so I suppose there can be multiple views for a document"><y>#</y><d>2016-02-11</d><h>03:43</h><w>shaunlebron</w>so I suppose there can be multiple views for a document</z><z id="t1455162240" t="shaunlebron i.e. tabs/windows"><y>#</y><d>2016-02-11</d><h>03:44</h><w>shaunlebron</w>i.e. tabs/windows</z><z id="t1455162250" t="cfleming So in the case where there are multiple views, parinfer will run multiple times?"><y>#</y><d>2016-02-11</d><h>03:44</h><w>cfleming</w>So in the case where there are multiple views, parinfer will run multiple times?</z><z id="t1455162269" t="shaunlebron well, I’m guessing here"><y>#</y><d>2016-02-11</d><h>03:44</h><w>shaunlebron</w>well, I’m guessing here</z><z id="t1455162285" t="shaunlebron but suppose I had two tabs opened to the same file"><y>#</y><d>2016-02-11</d><h>03:44</h><w>shaunlebron</w>but suppose I had two tabs opened to the same file</z><z id="t1455162293" t="cfleming Because the on_modified doesn’t get the caret info, or didn’t use it at least."><y>#</y><d>2016-02-11</d><h>03:44</h><w>cfleming</w>Because the on_modified doesn’t get the caret info, or didn’t use it at least.</z><z id="t1455162337" t="shaunlebron editing on one view will cause the document to update"><y>#</y><d>2016-02-11</d><h>03:45</h><w>shaunlebron</w>editing on one view will cause the document to update</z><z id="t1455162341" t="shaunlebron or its buffer, whatever"><y>#</y><d>2016-02-11</d><h>03:45</h><w>shaunlebron</w>or its buffer, whatever</z><z id="t1455162346" t="cfleming Right"><y>#</y><d>2016-02-11</d><h>03:45</h><w>cfleming</w>Right</z><z id="t1455162356" t="shaunlebron if the other view syncs, then that’s fine"><y>#</y><d>2016-02-11</d><h>03:45</h><w>shaunlebron</w>if the other view syncs, then that’s fine</z><z id="t1455162371" t="shaunlebron the other view will only transform if its view’s on_modified is called"><y>#</y><d>2016-02-11</d><h>03:46</h><w>shaunlebron</w>the other view will only transform if its view’s <code>on_modified</code> is called</z><z id="t1455162390" t="cfleming Yeah, depends if there are two on_modified events, or one and then the other doc is updated somehow."><y>#</y><d>2016-02-11</d><h>03:46</h><w>cfleming</w>Yeah, depends if there are two on_modified events, or one and then the other doc is updated somehow.</z><z id="t1455162417" t="cfleming But it’ll have its caret position moved and so forth, I’d expect it to get an update."><y>#</y><d>2016-02-11</d><h>03:46</h><w>cfleming</w>But it’ll have its caret position moved and so forth, I’d expect it to get an update.</z><z id="t1455162451" t="cfleming the other view, rather."><y>#</y><d>2016-02-11</d><h>03:47</h><w>cfleming</w>the other view, rather.</z><z id="t1455162478" t="shaunlebron each view has a selection , which describes the caret position"><y>#</y><d>2016-02-11</d><h>03:47</h><w>shaunlebron</w>each view has a <code>selection</code>, which describes the caret position</z><z id="t1455162510" t="cfleming Right, so it’s like an Editor in IntelliJ. The difference is that their on_modified receives the view, whereas mine doesn&apos;t"><y>#</y><d>2016-02-11</d><h>03:48</h><w>cfleming</w>Right, so it’s like an Editor in IntelliJ. The difference is that their on_modified receives the view, whereas mine doesn&apos;t</z><z id="t1455162534" t="shaunlebron I wouldn’t expect the secondary view to kick off an on_modified event based on the first view"><y>#</y><d>2016-02-11</d><h>03:48</h><w>shaunlebron</w>I wouldn’t expect the secondary view to kick off an <code>on_modified</code> event based on the first view</z><z id="t1455162537" t="cfleming Again, for a text editor they can assume that all changes are as a result of user action in a view"><y>#</y><d>2016-02-11</d><h>03:48</h><w>cfleming</w>Again, for a text editor they can assume that all changes are as a result of user action in a view</z><z id="t1455162548" t="shaunlebron i would expect them to sync views though"><y>#</y><d>2016-02-11</d><h>03:49</h><w>shaunlebron</w>i would expect them to sync views though</z><z id="t1455162549" t="cfleming IntelliJ can&apos;t"><y>#</y><d>2016-02-11</d><h>03:49</h><w>cfleming</w>IntelliJ can&apos;t</z><z id="t1455162562" t="shaunlebron ok"><y>#</y><d>2016-02-11</d><h>03:49</h><w>shaunlebron</w>ok</z><z id="t1455162581" t="cfleming I’ll ask in the forum and I’ll ask my mole at JetBrains too"><y>#</y><d>2016-02-11</d><h>03:49</h><w>cfleming</w>I’ll ask in the forum and I’ll ask my mole at JetBrains too</z><z id="t1455162589" t="shaunlebron nice!"><y>#</y><d>2016-02-11</d><h>03:49</h><w>shaunlebron</w>nice!</z><z id="t1455162594" t="shaunlebron haha"><y>#</y><d>2016-02-11</d><h>03:49</h><w>shaunlebron</w>haha</z><z id="t1455162600" t="cfleming simple_smile"><y>#</y><d>2016-02-11</d><h>03:50</h><w>cfleming</w><b>simple_smile</b></z><z id="t1455162759" t="shaunlebron yeah, share the post link here when you do"><y>#</y><d>2016-02-11</d><h>03:52</h><w>shaunlebron</w>yeah, share the post link here when you do</z><z id="t1455162772" t="shaunlebron curious to see"><y>#</y><d>2016-02-11</d><h>03:52</h><w>shaunlebron</w>curious to see</z><z id="t1455162788" t="cfleming Sadly, you may just see tumbleweeds"><y>#</y><d>2016-02-11</d><h>03:53</h><w>cfleming</w>Sadly, you may just see tumbleweeds</z><z id="t1455162800" t="cfleming Although they’re getting better recently."><y>#</y><d>2016-02-11</d><h>03:53</h><w>cfleming</w>Although they’re getting better recently.</z><z id="t1455162816" t="shaunlebron oh, I imagined a larger intellij community"><y>#</y><d>2016-02-11</d><h>03:53</h><w>shaunlebron</w>oh, I imagined a larger intellij community</z><z id="t1455162835" t="cfleming No, the plugin community is pretty small."><y>#</y><d>2016-02-11</d><h>03:53</h><w>cfleming</w>No, the plugin community is pretty small.</z><z id="t1455162846" t="cfleming In part because the doc + support is so bad."><y>#</y><d>2016-02-11</d><h>03:54</h><w>cfleming</w>In part because the doc + support is so bad.</z><z id="t1455162861" t="cfleming I spend a lot of time diving through the IntelliJ source code."><y>#</y><d>2016-02-11</d><h>03:54</h><w>cfleming</w>I spend a lot of time diving through the IntelliJ source code.</z><z id="t1455162871" t="cfleming But it is humungous"><y>#</y><d>2016-02-11</d><h>03:54</h><w>cfleming</w>But it is humungous</z><z id="t1455162873" t="shaunlebron well that makes cursive all the more impressive then"><y>#</y><d>2016-02-11</d><h>03:54</h><w>shaunlebron</w>well that makes cursive all the more impressive then</z><z id="t1455162887" t="shaunlebron at least it’s open source though"><y>#</y><d>2016-02-11</d><h>03:54</h><w>shaunlebron</w>at least it’s open source though</z><z id="t1455162902" t="shaunlebron i guess that makes up for lack of docs"><y>#</y><d>2016-02-11</d><h>03:55</h><w>shaunlebron</w>i guess that makes up for lack of docs</z><z id="t1455162923" t="shaunlebron but you said humungous, so maybe not"><y>#</y><d>2016-02-11</d><h>03:55</h><w>shaunlebron</w>but you said humungous, so maybe not</z><z id="t1455162971" t="cfleming I’m now curious, and am running cloc over it."><y>#</y><d>2016-02-11</d><h>03:56</h><w>cfleming</w>I’m now curious, and am running cloc over it.</z><z id="t1455163148" t="cfleming Oh dear, the IntelliJ source appears to have hung cloc, that’s not good."><y>#</y><d>2016-02-11</d><h>03:59</h><w>cfleming</w>Oh dear, the IntelliJ source appears to have hung cloc, that’s not good.</z><z id="t1455163165" t="shaunlebron hmm"><y>#</y><d>2016-02-11</d><h>03:59</h><w>shaunlebron</w>hmm</z><z id="t1455163171" t="shaunlebron I’ve never used cloc"><y>#</y><d>2016-02-11</d><h>03:59</h><w>shaunlebron</w>I’ve never used cloc</z><z id="t1455163186" t="shaunlebron find . -name “*.java” | xargs wc -l is my poorman’s cloc I guess"><y>#</y><d>2016-02-11</d><h>03:59</h><w>shaunlebron</w><code>find . -name “*.java” | xargs wc -l</code> is my poorman’s cloc I guess</z><z id="t1455163221" t="shaunlebron haha, that’s worked for smaller codebases at least"><y>#</y><d>2016-02-11</d><h>04:00</h><w>shaunlebron</w>haha, that’s worked for smaller codebases at least</z><z id="t1455163334" t="cfleming That claims 96kloc, which I don’t believe simple_smile"><y>#</y><d>2016-02-11</d><h>04:02</h><w>cfleming</w>That claims 96kloc, which I don’t believe <b>simple_smile</b></z><z id="t1455163474" t="cfleming Given that cloc appears to have slowed to a crawl after 30k files"><y>#</y><d>2016-02-11</d><h>04:04</h><w>cfleming</w>Given that cloc appears to have slowed to a crawl after 30k files</z><z id="t1455163570" t="shaunlebron 30k files!!!"><y>#</y><d>2016-02-11</d><h>04:06</h><w>shaunlebron</w>30k files!!!</z><z id="t1455163600" t="cfleming ~/d/community (master)&gt; cloc . 78158 text files. 67816 unique files. 14590 files ignored. v 1.62 T=605.99 s (95.9 files/s, 9563.3 lines/s) ---------------------------------------------------------------------------------------- Language files blank comment code ---------------------------------------------------------------------------------------- Java 46707 571050 689600 3201834 Python 6086 103644 155924 416348 XML 1845 12473 3389 281530 XSD 256 14623 3093 148651 HTML 2133 6639 3829 58595 Kotlin 312 5821 4956 29677 &lt;snip&gt; Erlang 1 0 0 1 ---------------------------------------------------------------------------------------- SUM: 58140 726580 875219 4193527 ----------------------------------------------------------------------------------------"><y>#</y><d>2016-02-11</d><h>04:06</h><w>cfleming</w><pre>~/d/community (master)&gt; cloc .
   78158 text files.
   67816 unique files.
   14590 files ignored.

 v 1.62  T=605.99 s (95.9 files/s, 9563.3 lines/s)
----------------------------------------------------------------------------------------
Language                              files          blank        comment           code
----------------------------------------------------------------------------------------
Java                                  46707         571050         689600        3201834
Python                                 6086         103644         155924         416348
XML                                    1845          12473           3389         281530
XSD                                     256          14623           3093         148651
HTML                                   2133           6639           3829          58595
Kotlin                                  312           5821           4956          29677
&lt;snip&gt;
Erlang                                    1              0              0              1
----------------------------------------------------------------------------------------
SUM:                                  58140         726580         875219        4193527
----------------------------------------------------------------------------------------</pre></z><z id="t1455163617" t="cfleming You didn’t believe me when I said humungous simple_smile"><y>#</y><d>2016-02-11</d><h>04:06</h><w>cfleming</w>You didn’t believe me when I said humungous <b>simple_smile</b></z><z id="t1455163634" t="cfleming 3.2M actual LOC"><y>#</y><d>2016-02-11</d><h>04:07</h><w>cfleming</w>3.2M actual LOC</z><z id="t1455163637" t="shaunlebron blank/comment?"><y>#</y><d>2016-02-11</d><h>04:07</h><w>shaunlebron</w>blank/comment?</z><z id="t1455163650" t="shaunlebron where are the code lines?"><y>#</y><d>2016-02-11</d><h>04:07</h><w>shaunlebron</w>where are the code lines?</z><z id="t1455163656" t="cfleming The last column"><y>#</y><d>2016-02-11</d><h>04:07</h><w>cfleming</w>The last column</z><z id="t1455163685" t="shaunlebron oh, my slack window was too narrow"><y>#</y><d>2016-02-11</d><h>04:08</h><w>shaunlebron</w>oh, my slack window was too narrow</z><z id="t1455163703" t="shaunlebron yeah wow"><y>#</y><d>2016-02-11</d><h>04:08</h><w>shaunlebron</w>yeah wow</z><z id="t1455163712" t="cfleming It takes like 20 mins+ to check out."><y>#</y><d>2016-02-11</d><h>04:08</h><w>cfleming</w>It takes like 20 mins+ to check out.</z><z id="t1455163802" t="cfleming https://github.com/JetBrains/intellij-community/graphs/contributors"><y>#</y><d>2016-02-11</d><h>04:10</h><w>cfleming</w><a href="https://github.com/JetBrains/intellij-community/graphs/contributors" target="_blank">https://github.com/JetBrains/intellij-community/graphs/contributors</a></z><z id="t1455163809" t="cfleming They peak at about 400 commits/day"><y>#</y><d>2016-02-11</d><h>04:10</h><w>cfleming</w>They peak at about 400 commits/day</z><z id="t1455163841" t="cfleming Yole appears to top out at about 100/day just on his own 😐"><y>#</y><d>2016-02-11</d><h>04:10</h><w>cfleming</w>Yole appears to top out at about 100/day just on his own <b>😐</b></z><z id="t1455163929" t="shaunlebron yeah, intellij must do so many things"><y>#</y><d>2016-02-11</d><h>04:12</h><w>shaunlebron</w>yeah, intellij must do so many things</z><z id="t1455163941" t="cfleming Right."><y>#</y><d>2016-02-11</d><h>04:12</h><w>cfleming</w>Right.</z><z id="t1455163947" t="shaunlebron shame api isn’t documented"><y>#</y><d>2016-02-11</d><h>04:12</h><w>shaunlebron</w>shame api isn’t documented</z><z id="t1455163950" t="shaunlebron plugin api*"><y>#</y><d>2016-02-11</d><h>04:12</h><w>shaunlebron</w>plugin api*</z><z id="t1455163967" t="cfleming And that’s just one product of theirs (well two actually, PyCharm is in there too)"><y>#</y><d>2016-02-11</d><h>04:12</h><w>cfleming</w>And that’s just one product of theirs (well two actually, PyCharm is in there too)</z><z id="t1455163980" t="cfleming But all the Ultimate stuff which is closed source is probably a similar size."><y>#</y><d>2016-02-11</d><h>04:13</h><w>cfleming</w>But all the Ultimate stuff which is closed source is probably a similar size.</z><z id="t1455164047" t="shaunlebron i feel spoiled"><y>#</y><d>2016-02-11</d><h>04:14</h><w>shaunlebron</w>i feel spoiled</z><z id="t1455164056" t="shaunlebron codemirror was &lt;9k"><y>#</y><d>2016-02-11</d><h>04:14</h><w>shaunlebron</w>codemirror was &lt;9k</z><z id="t1455164063" t="shaunlebron it was such a pleasure to read"><y>#</y><d>2016-02-11</d><h>04:14</h><w>shaunlebron</w>it was such a pleasure to read</z><z id="t1455164074" t="shaunlebron can’t imagine cutting my teeth on 3.2m"><y>#</y><d>2016-02-11</d><h>04:14</h><w>shaunlebron</w>can’t imagine cutting my teeth on 3.2m</z><z id="t1455164095" t="cfleming Yeah, Marijn has a post where he talks about the pleasure of working on small, self-contained codebases"><y>#</y><d>2016-02-11</d><h>04:14</h><w>cfleming</w>Yeah, Marijn has a post where he talks about the pleasure of working on small, self-contained codebases</z><z id="t1455164114" t="cfleming He was a nice guy actually, I hung out with him at a conference last year."><y>#</y><d>2016-02-11</d><h>04:15</h><w>cfleming</w>He was a nice guy actually, I hung out with him at a conference last year.</z><z id="t1455164145" t="cfleming https://intellij-support.jetbrains.com/hc/en-us/community/posts/206441239-How-to-determine-if-a-document-change-is-as-a-result-of-an-editor-action-"><y>#</y><d>2016-02-11</d><h>04:15</h><w>cfleming</w><a href="https://intellij-support.jetbrains.com/hc/en-us/community/posts/206441239-How-to-determine-if-a-document-change-is-as-a-result-of-an-editor-action-" target="_blank">https://intellij-support.jetbrains.com/hc/en-us/community/posts/206441239-How-to-determine-if-a-document-change-is-as-a-result-of-an-editor-action-</a></z><z id="t1455164187" t="shaunlebron cool, does he speak at conferences? never looked"><y>#</y><d>2016-02-11</d><h>04:16</h><w>shaunlebron</w>cool, does he speak at conferences?  never looked</z><z id="t1455164194" t="cfleming I’m actually wondering how this relates to multiple carets"><y>#</y><d>2016-02-11</d><h>04:16</h><w>cfleming</w>I’m actually wondering how this relates to multiple carets</z><z id="t1455164211" t="cfleming Yeah, he spoke about Tern at Curry On where I met him."><y>#</y><d>2016-02-11</d><h>04:16</h><w>cfleming</w>Yeah, he spoke about Tern at Curry On where I met him.</z><z id="t1455164253" t="cfleming Do Stripe give you a conference budget?"><y>#</y><d>2016-02-11</d><h>04:17</h><w>cfleming</w>Do Stripe give you a conference budget?</z><z id="t1455164285" t="shaunlebron cool, I’ll check that out, I like his coding style and his project focus"><y>#</y><d>2016-02-11</d><h>04:18</h><w>shaunlebron</w>cool, I’ll check that out, I like his coding style and his project focus</z><z id="t1455164296" t="shaunlebron yeah, stripe does I think"><y>#</y><d>2016-02-11</d><h>04:18</h><w>shaunlebron</w>yeah, stripe does I think</z><z id="t1455164306" t="cfleming Nice"><y>#</y><d>2016-02-11</d><h>04:18</h><w>cfleming</w>Nice</z><z id="t1455164321" t="cfleming I recommend Curry On, it was great last year."><y>#</y><d>2016-02-11</d><h>04:18</h><w>cfleming</w>I recommend Curry On, it was great last year.</z><z id="t1455164388" t="cfleming Ok, got to go, thanks for the help"><y>#</y><d>2016-02-11</d><h>04:19</h><w>cfleming</w>Ok, got to go, thanks for the help</z><z id="t1455164394" t="cfleming I’ll let you know how I get on."><y>#</y><d>2016-02-11</d><h>04:19</h><w>cfleming</w>I’ll let you know how I get on.</z><z id="t1455164405" t="shaunlebron k cool, catch you later"><y>#</y><d>2016-02-11</d><h>04:20</h><w>shaunlebron</w>k cool, catch you later</z><z id="t1455168026" t="shaunlebron btw, handling multiple cursors in parinfer would fix the issue like you said in the post"><y>#</y><d>2016-02-11</d><h>05:20</h><w>shaunlebron</w>btw, handling multiple cursors in parinfer would fix the issue like you said in the post</z><z id="t1455170560" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : Yeah, I think I’ll do that tomorrow if I don’t get a response"><y>#</y><d>2016-02-11</d><h>06:02</h><w>cfleming</w><a>@shaunlebron</a>: Yeah, I think I’ll do that tomorrow if I don’t get a response</z><z id="t1455170569" t="cfleming It should be a small modification."><y>#</y><d>2016-02-11</d><h>06:02</h><w>cfleming</w>It should be a small modification.</z><z id="t1455349097" t="cfleming looking at the CLOC output, I just realised that the sum of all languages for IntelliJ is closer to 4.2MLOC - wow."><y>#</y><d>2016-02-13</d><h>07:38</h><w>cfleming</w>looking at the CLOC output, I just realised that the sum of all languages for IntelliJ is closer to 4.2MLOC - wow.</z><z id="t1455510857" t="cfleming So I have very basic parinfer working now. Here are some problems I’ve found:"><y>#</y><d>2016-02-15</d><h>04:34</h><w>cfleming</w>So I have very basic parinfer working now. Here are some problems I’ve found:</z><z id="t1455510880" t="cfleming Paren mode lines up subforms of lists with a one-space indent:"><y>#</y><d>2016-02-15</d><h>04:34</h><w>cfleming</w>Paren mode lines up subforms of lists with a one-space indent:</z><z id="t1455511017" t="cfleming (defn foo &quot;I don&apos;t do a whole lot.&quot; [x] (println x &quot;Hello, World!&quot;)) "><y>#</y><d>2016-02-15</d><h>04:36</h><w>cfleming</w><pre>(defn foo 
&quot;I don&apos;t do a whole lot.&quot;
[x]
(println x &quot;Hello, World!&quot;))
</pre></z><z id="t1455511020" t="cfleming -&gt;"><y>#</y><d>2016-02-15</d><h>04:37</h><w>cfleming</w>-&gt;</z><z id="t1455511059" t="cfleming (defn foo &quot;I don&apos;t do a whole lot.&quot; [x] (println x &quot;Hello, World!&quot;)) "><y>#</y><d>2016-02-15</d><h>04:37</h><w>cfleming</w><pre>(defn foo 
 &quot;I don&apos;t do a whole lot.&quot;
 [x]
 (println x &quot;Hello, World!&quot;))
</pre></z><z id="t1455511072" t="cfleming Those lines should be indented by two spaces."><y>#</y><d>2016-02-15</d><h>04:37</h><w>cfleming</w>Those lines should be indented by two spaces.</z><z id="t1455511095" t="cfleming The problem is, thinking about it, that line indentation requires semantic knowledge."><y>#</y><d>2016-02-15</d><h>04:38</h><w>cfleming</w>The problem is, thinking about it, that line indentation requires semantic knowledge.</z><z id="t1455511156" t="cfleming Here they should be indented by 2 spaces, but in the following case they should be aligned under the first param:"><y>#</y><d>2016-02-15</d><h>04:39</h><w>cfleming</w>Here they should be indented by 2 spaces, but in the following case they should be aligned under the first param:</z><z id="t1455511237" t="cfleming (println test :test &quot;test&quot;) "><y>#</y><d>2016-02-15</d><h>04:40</h><w>cfleming</w><pre>(println test 
         :test 
         &quot;test&quot;)
</pre></z><z id="t1455511341" t="cfleming Another problem: how should undo work? Due to debouncing, parinfer is executed asynchronously some time after the actual change. This means that the parinfer change has a different undo event, and an undo action will only undo the parinfer correction, not the original edit. This will leave the doc in a bad state and confuse the user."><y>#</y><d>2016-02-15</d><h>04:42</h><w>cfleming</w>Another problem: how should undo work? Due to debouncing, parinfer is executed asynchronously some time after the actual change. This means that the parinfer change has a different undo event, and an undo action will only undo the parinfer correction, not the original edit. This will leave the doc in a bad state and confuse the user.</z><z id="t1455511555" t="cfleming Another problem: The caret often ends up in the wrong location after the parinfer correction. There’s no tracking of caret location in the algorithm IIRC, this is very surprising behaviour."><y>#</y><d>2016-02-15</d><h>04:45</h><w>cfleming</w>Another problem: The caret often ends up in the wrong location after the parinfer correction. There’s no tracking of caret location in the algorithm IIRC, this is very surprising behaviour.</z><z id="t1455511580" t="cfleming Another problem: Indent mode does not correct indentation when parens are moved around."><y>#</y><d>2016-02-15</d><h>04:46</h><w>cfleming</w>Another problem: Indent mode does not correct indentation when parens are moved around.</z><z id="t1455511587" t="cfleming Here’s an example of the last two problems:"><y>#</y><d>2016-02-15</d><h>04:46</h><w>cfleming</w>Here’s an example of the last two problems:</z><z id="t1455511613" t="cfleming (let [x 10]&lt;caret&gt; (when true)) "><y>#</y><d>2016-02-15</d><h>04:46</h><w>cfleming</w><pre>(let [x 10]&lt;caret&gt;
  (when true))
</pre></z><z id="t1455511622" t="cfleming I type )"><y>#</y><d>2016-02-15</d><h>04:47</h><w>cfleming</w>I type <code>)</code></z><z id="t1455511628" t="cfleming I end up with:"><y>#</y><d>2016-02-15</d><h>04:47</h><w>cfleming</w>I end up with:</z><z id="t1455511657" t="cfleming &lt;caret&gt; (let [x 10]) (when true) "><y>#</y><d>2016-02-15</d><h>04:47</h><w>cfleming</w><pre>&lt;caret&gt;
(let [x 10])
  (when true)
</pre></z><z id="t1455511693" t="cfleming Here, the caret is in the wrong place (it should be after the newly-inserted ) and the indentation of the (when true) is wrong."><y>#</y><d>2016-02-15</d><h>04:48</h><w>cfleming</w>Here, the caret is in the wrong place (it should be after the newly-inserted <code>)</code> and the indentation of the <code>(when true)</code> is wrong.</z><z id="t1455511776" t="cfleming If these are due to something I’m doing wrong in my implementation, let me know - likewise if they’re real problems that deserve an issue in the tracker."><y>#</y><d>2016-02-15</d><h>04:49</h><w>cfleming</w>If these are due to something I’m doing wrong in my implementation, let me know - likewise if they’re real problems that deserve an issue in the tracker.</z><z id="t1455511787" t="cfleming I’m also interested to know if other implementations suffer from these problems."><y>#</y><d>2016-02-15</d><h>04:49</h><w>cfleming</w>I’m also interested to know if other implementations suffer from these problems.</z><z id="t1455512199" t="cfleming I believe I can fix the caret movement problem - I’m planning to build up a list of changes required to the document and apply them individually rather than wholesale replacing the text. This will work better with anything else that’s driven by document changes, and also has the nice side effect of (hopefully) ensuring that the caret ends up in the right place."><y>#</y><d>2016-02-15</d><h>04:56</h><w>cfleming</w>I believe I can fix the caret movement problem - I’m planning to build up a list of changes required to the document and apply them individually rather than wholesale replacing the text. This will work better with anything else that’s driven by document changes, and also has the nice side effect of (hopefully) ensuring that the caret ends up in the right place.</z><z id="t1455512366" t="cfleming Any opinions on whether it’s worth implementing this with only indent mode support? It seems that that’s what everyone uses anyway - are there situations where paren mode is actually required, or does it just provide a pleasing sense of mathematical symmetry? simple_smile"><y>#</y><d>2016-02-15</d><h>04:59</h><w>cfleming</w>Any opinions on whether it’s worth implementing this with only indent mode support? It seems that that’s what everyone uses anyway - are there situations where paren mode is actually required, or does it just provide a pleasing sense of mathematical symmetry? <b>simple_smile</b></z><z id="t1455512724" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : ^^"><y>#</y><d>2016-02-15</d><h>05:05</h><w>cfleming</w><a>@shaunlebron</a>: ^^</z><z id="t1455513722" t="cfleming Here’s something else that’s a bit strange:"><y>#</y><d>2016-02-15</d><h>05:22</h><w>cfleming</w>Here’s something else that’s a bit strange:</z><z id="t1455513740" t="cfleming (let [x 10]&lt;caret&gt;) "><y>#</y><d>2016-02-15</d><h>05:22</h><w>cfleming</w><pre>(let [x 10]&lt;caret&gt;)
</pre></z><z id="t1455513748" t="cfleming When I press enter here, I get:"><y>#</y><d>2016-02-15</d><h>05:22</h><w>cfleming</w>When I press enter here, I get:</z><z id="t1455513750" t="cfleming (let [x 10]) &lt;caret&gt; "><y>#</y><d>2016-02-15</d><h>05:22</h><w>cfleming</w><pre>(let [x 10])
  &lt;caret&gt;
</pre></z><z id="t1455513893" t="cfleming This looks strange to me, but perhaps it makes sense since if I then type x I get:"><y>#</y><d>2016-02-15</d><h>05:24</h><w>cfleming</w>This looks strange to me, but perhaps it makes sense since if I then type <code>x</code> I get:</z><z id="t1455513916" t="cfleming (let [x 10] x&lt;caret&gt;) "><y>#</y><d>2016-02-15</d><h>05:25</h><w>cfleming</w><pre>(let [x 10]
  x&lt;caret&gt;)
</pre></z><z id="t1455536858" t="shaunlebron sweet! congrats on getting basic parinfer working in cursive simple_smile"><y>#</y><d>2016-02-15</d><h>11:47</h><w>shaunlebron</w>sweet! congrats on getting basic parinfer working in cursive <b>simple_smile</b></z><z id="t1455536982" t="shaunlebron Paren Mode only knows about indentation thresholds, and will simply clamp existing indentation to these thresholds."><y>#</y><d>2016-02-15</d><h>11:49</h><w>shaunlebron</w>Paren Mode only knows about indentation thresholds, and will simply clamp existing indentation to these thresholds.</z><z id="t1455537065" t="shaunlebron You are right that correcting indentation is semantic and based on several things, including user-preference"><y>#</y><d>2016-02-15</d><h>11:51</h><w>shaunlebron</w>You are right that correcting indentation is semantic and based on several things, including user-preference</z><z id="t1455537258" t="shaunlebron You can think of Paren Mode as the minimal set of operations required to make code editable under Indent Mode"><y>#</y><d>2016-02-15</d><h>11:54</h><w>shaunlebron</w>You can think of Paren Mode as the minimal set of operations required to make code editable under Indent Mode</z><z id="t1455537291" t="shaunlebron (i.e. where does the indentation need to be such that Indent Mode won’t relocate any parens?)"><y>#</y><d>2016-02-15</d><h>11:54</h><w>shaunlebron</w>(i.e. where does the indentation need to be such that Indent Mode won’t relocate any parens?)</z><z id="t1455537475" t="shaunlebron the cursorDx option was meant to preserve your configured indentation (1-space, 2-space, n-space) as you type"><y>#</y><d>2016-02-15</d><h>11:57</h><w>shaunlebron</w>the <code>cursorDx</code> option was meant to preserve your configured indentation (1-space, 2-space, n-space) as you type</z><z id="t1455537509" t="shaunlebron so that it falls on the user to choose the correct indentation within a threshold, and then Paren Mode would try to respect what you chose"><y>#</y><d>2016-02-15</d><h>11:58</h><w>shaunlebron</w>so that it falls on the user to choose the correct indentation within a threshold, and then Paren Mode would try to respect what you chose</z><z id="t1455537983" t="shaunlebron &gt; Indent Mode does not correct indentation"><y>#</y><d>2016-02-15</d><h>12:06</h><w>shaunlebron</w>&gt; Indent Mode does not correct indentation</z><z id="t1455538002" t="shaunlebron regarding this point, Indent Mode only correct parens, and will never correct your indentation for you"><y>#</y><d>2016-02-15</d><h>12:06</h><w>shaunlebron</w>regarding this point, Indent Mode only correct parens, and will never correct your indentation for you</z><z id="t1455538100" t="shaunlebron In your example, the cursor is holding the recently-typed paren and preventing its relocation as a necessary courtesy"><y>#</y><d>2016-02-15</d><h>12:08</h><w>shaunlebron</w>In your example, the cursor is holding the recently-typed paren and preventing its relocation as a necessary courtesy</z><z id="t1455538103" t="shaunlebron see: https://shaunlebron.github.io/parinfer/#knowing-when-parens-move-in-indent-mode"><y>#</y><d>2016-02-15</d><h>12:08</h><w>shaunlebron</w>see: <a href="https://shaunlebron.github.io/parinfer/#knowing-when-parens-move-in-indent-mode" target="_blank">https://shaunlebron.github.io/parinfer/#knowing-when-parens-move-in-indent-mode</a></z><z id="t1455538282" t="shaunlebron and in more detail here: https://github.com/shaunlebron/parinfer/blob/master/lib/parinfer.js.md#the-cursor-in-indent-mode"><y>#</y><d>2016-02-15</d><h>12:11</h><w>shaunlebron</w>and in more detail here: <a href="https://github.com/shaunlebron/parinfer/blob/master/lib/parinfer.js.md#the-cursor-in-indent-mode" target="_blank">https://github.com/shaunlebron/parinfer/blob/master/lib/parinfer.js.md#the-cursor-in-indent-mode</a></z><z id="t1455538359" t="shaunlebron you’ll notice that the last link goes to Part 2 of the Parinfer design doc. The two parts are: 1) the simpler parts for processing static documents, and 2) the extra UX parts needed for a live-edited document"><y>#</y><d>2016-02-15</d><h>12:12</h><w>shaunlebron</w>you’ll notice that the last link goes to Part 2 of the Parinfer design doc.  The two parts are: 1) the simpler parts for processing static documents, and 2) the extra UX parts needed for a live-edited document</z><z id="t1455538729" t="shaunlebron The undo problem is related to keeping Parinfer change events off the undo history stack"><y>#</y><d>2016-02-15</d><h>12:18</h><w>shaunlebron</w>The undo problem is related to keeping Parinfer change events off the undo history stack</z><z id="t1455538908" t="shaunlebron We couldn’t do this in Sublime, so Chris labeled Parinfer’s change events, and then rebound Ctrl+Z to run undo twice if the top of the undo stack was created by Parinfer"><y>#</y><d>2016-02-15</d><h>12:21</h><w>shaunlebron</w>We couldn’t do this in Sublime, so Chris labeled Parinfer’s change events, and then rebound <code>Ctrl+Z</code> to run undo twice if the top of the undo stack was created by Parinfer</z><z id="t1455538967" t="shaunlebron you can follow that discussion here: https://github.com/oakmac/sublime-text-parinfer/issues/20"><y>#</y><d>2016-02-15</d><h>12:22</h><w>shaunlebron</w>you can follow that discussion here: <a href="https://github.com/oakmac/sublime-text-parinfer/issues/20" target="_blank">https://github.com/oakmac/sublime-text-parinfer/issues/20</a></z><z id="t1455539365" t="shaunlebron The caret repositioning problem is difficult, because it requires the algorithm to know the exact change(s) that occurred"><y>#</y><d>2016-02-15</d><h>12:29</h><w>shaunlebron</w>The caret repositioning problem is difficult, because it requires the algorithm to know the exact change(s) that occurred</z><z id="t1455539383" t="shaunlebron it’s a known problem, tracked here: https://github.com/shaunlebron/parinfer/issues/47"><y>#</y><d>2016-02-15</d><h>12:29</h><w>shaunlebron</w>it’s a known problem, tracked here: <a href="https://github.com/shaunlebron/parinfer/issues/47" target="_blank">https://github.com/shaunlebron/parinfer/issues/47</a></z><z id="t1455539418" t="shaunlebron I have three cases listed there, but let me know if you find any more"><y>#</y><d>2016-02-15</d><h>12:30</h><w>shaunlebron</w>I have three cases listed there, but let me know if you find any more</z><z id="t1455539722" t="shaunlebron Ha, Paren Mode is less about mathematical symmetry for its own sake, and more about creating a complete system to explore what is useful to the users"><y>#</y><d>2016-02-15</d><h>12:35</h><w>shaunlebron</w>Ha, Paren Mode is less about mathematical symmetry for its own sake, and more about creating a complete system to explore what is useful to the users</z><z id="t1455539751" t="shaunlebron since it’s early on, there isn’t much data on that"><y>#</y><d>2016-02-15</d><h>12:35</h><w>shaunlebron</w>since it’s early on, there isn’t much data on that</z><z id="t1455539861" t="shaunlebron but some are reporting cases where they expected indentation to be corrected in Indent Mode"><y>#</y><d>2016-02-15</d><h>12:37</h><w>shaunlebron</w>but some are reporting cases where they expected indentation to be corrected in Indent Mode</z><z id="t1455539994" t="shaunlebron so Paren Mode exists for these small cases where we haven’t yet figured out how else to do this without requiring a separate mode"><y>#</y><d>2016-02-15</d><h>12:39</h><w>shaunlebron</w>so Paren Mode exists for these small cases where we haven’t yet figured out how else to do this without requiring a separate mode</z><z id="t1455540039" t="shaunlebron see avoid fracturing and indentation is maintained examples here: https://shaunlebron.github.io/parinfer/#paren-mode"><y>#</y><d>2016-02-15</d><h>12:40</h><w>shaunlebron</w>see avoid fracturing and indentation is maintained examples here: <a href="https://shaunlebron.github.io/parinfer/#paren-mode" target="_blank">https://shaunlebron.github.io/parinfer/#paren-mode</a></z><z id="t1455540106" t="shaunlebron but we’ve started thinking about fusing the modes here: https://github.com/shaunlebron/parinfer/issues/86"><y>#</y><d>2016-02-15</d><h>12:41</h><w>shaunlebron</w>but we’ve started thinking about fusing the modes here: <a href="https://github.com/shaunlebron/parinfer/issues/86" target="_blank">https://github.com/shaunlebron/parinfer/issues/86</a></z><z id="t1455540267" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : ^^ thanks for all feedback and questions. sorry about the caret movement problem. i think your incremental changes solution will help since I’m not planning a near-term fix that would require the modes to know exact changes made"><y>#</y><d>2016-02-15</d><h>12:44</h><w>shaunlebron</w><a>@cfleming</a>: ^^ thanks for all feedback and questions. sorry about the caret movement problem.  i think your incremental changes solution will help since I’m not planning a near-term fix that would require the modes to know exact changes made</z><z id="t1455543805" t="shaunlebron Actually [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] , I’ll work on the caret movement this week, I think I can solve it in the API now without change information (blunder): https://github.com/shaunlebron/parinfer/issues/47#issuecomment-184212306"><y>#</y><d>2016-02-15</d><h>13:43</h><w>shaunlebron</w>Actually <a>@cfleming</a>, I’ll work on the caret movement this week, I think I can solve it in the API now without change information (blunder): <a href="https://github.com/shaunlebron/parinfer/issues/47#issuecomment-184212306" target="_blank">https://github.com/shaunlebron/parinfer/issues/47#issuecomment-184212306</a></z><z id="t1455544854" t="shaunlebron about your last point, I’ll think about whether pressing enter should displace the paren or not. it makes sense not to from the algorithm’s perspective, but not the user perspective"><y>#</y><d>2016-02-15</d><h>14:00</h><w>shaunlebron</w>about your last point, I’ll think about whether pressing enter should displace the paren or not.  it makes sense not to from the algorithm’s perspective, but not the user perspective</z><z id="t1455557904" t="chrisoakman great questions and answers here simple_smile"><y>#</y><d>2016-02-15</d><h>17:38</h><w>chrisoakman</w>great questions and answers here <b>simple_smile</b></z><z id="t1455557955" t="chrisoakman for undo, if IntelliJ allows you to apply an edit and skip the undo stack, then that&apos;s the cleanest option"><y>#</y><d>2016-02-15</d><h>17:39</h><w>chrisoakman</w>for undo, if IntelliJ allows you to apply an edit and skip the undo stack, then that&apos;s the cleanest option</z><z id="t1455557987" t="chrisoakman atom-parinfer does this: https://github.com/oakmac/atom-parinfer/blob/master/src-cljs/atom_parinfer/core.cljs#L266-L268"><y>#</y><d>2016-02-15</d><h>17:39</h><w>chrisoakman</w>atom-parinfer does this: <a href="https://github.com/oakmac/atom-parinfer/blob/master/src-cljs/atom_parinfer/core.cljs#L266-L268" target="_blank">https://github.com/oakmac/atom-parinfer/blob/master/src-cljs/atom_parinfer/core.cljs#L266-L268</a></z><z id="t1455558005" t="chrisoakman rather, I should say that the Atom API offers that, and atom-parinfer takes advantage of it"><y>#</y><d>2016-02-15</d><h>17:40</h><w>chrisoakman</w>rather, I should say that the Atom API offers that, and atom-parinfer takes advantage of it</z><z id="t1455558038" t="chrisoakman else you have come up with a similar solution to what we did in the sublime plugin"><y>#</y><d>2016-02-15</d><h>17:40</h><w>chrisoakman</w>else you have come up with a similar solution to what we did in the sublime plugin</z><z id="t1455566660" t="snoe The undo problem is why I changed from async to sync in nvim-parinfer, in vim undojoin basically rolls a result into the previous undo entry. Depending on the editor it may be able to do something similar even asynchronously. https://github.com/snoe/nvim-parinfer.js/blob/master/plugin/parinfer.vim#L22-L25"><y>#</y><d>2016-02-15</d><h>20:04</h><w>snoe</w>The undo problem is why I changed from async to sync in nvim-parinfer, in vim <code>undojoin</code> basically rolls a result into the previous undo entry.  Depending on the editor it may be able to do something similar even asynchronously. <a href="https://github.com/snoe/nvim-parinfer.js/blob/master/plugin/parinfer.vim#L22-L25" target="_blank">https://github.com/snoe/nvim-parinfer.js/blob/master/plugin/parinfer.vim#L22-L25</a></z><z id="t1455577600" t="cfleming I got an answer in the JetBrains forum about the undo problem, so I think I can fix that. They’re stepping up their game on the support."><y>#</y><d>2016-02-15</d><h>23:06</h><w>cfleming</w>I got an answer in the JetBrains forum about the undo problem, so I think I can fix that. They’re stepping up their game on the support.</z><z id="t1455577791" t="cfleming There’s another interesting undo case. When a new file is opened in indent mode, paren mode is run to prep the file. However this also needs to happen when the user turns indent mode on in an existing open file. I’m showing a notification of the changes made by paren mode (“Indentation fixed for &lt;x&gt; lines”), and if the user realises that that is not what they want and they undo, that undo should also turn indent mode off again. It’s quite tricky but I think I can do it."><y>#</y><d>2016-02-15</d><h>23:09</h><w>cfleming</w>There’s another interesting undo case. When a new file is opened in indent mode, paren mode is run to prep the file. However this also needs to happen when the user turns indent mode on in an existing open file. I’m showing a notification of the changes made by paren mode (“Indentation fixed for &lt;x&gt; lines”), and if the user realises that that is not what they want and they undo, that undo should also turn indent mode off again. It’s quite tricky but I think I can do it.</z><z id="t1455577958" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : Yes, I think the caret movement should be relatively simple to implement. In your issue you’re mapping the cases to logical operations, but I think it will be easier if you think of the changes that are applied as modifications to the document. Basically, if the line the cursor is currently on is modified, then a text deletion of any kind before the cursor means that its offset needs to be decremented by the width of that text, and and insertion of any kind before the cursor means that it needs to be incremented by the width. The only tricky case is when an insertion happens at the caret - you’ll need to work out whether it should go before or after it."><y>#</y><d>2016-02-15</d><h>23:12</h><w>cfleming</w><a>@shaunlebron</a>: Yes, I think the caret movement should be relatively simple to implement. In your issue you’re mapping the cases to logical operations, but I think it will be easier if you think of the changes that are applied as modifications to the document. Basically, if the line the cursor is currently on is modified, then a text deletion of any kind before the cursor means that its offset needs to be decremented by the width of that text, and and insertion of any kind before the cursor means that it needs to be incremented by the width. The only tricky case is when an insertion happens at the caret - you’ll need to work out whether it should go before or after it.</z><z id="t1455578145" t="cfleming The more I think about it, the more I’m tempted to only implement indent mode. I think the fact that indentation is semantic means that paren mode as it stands won’t be useful as a general editing mode, and actually using the correct indentation will be editor specific and quite possibly too slow to be interactive. For the initial indentation correction on file open, I think I’ll modify the paren mode algorithm to just record the lines that need correction, and then indent them (slowly but accurately) with the existing formatting code."><y>#</y><d>2016-02-15</d><h>23:15</h><w>cfleming</w>The more I think about it, the more I’m tempted to only implement indent mode. I think the fact that indentation is semantic means that paren mode as it stands won’t be useful as a general editing mode, and actually using the correct indentation will be editor specific and quite possibly too slow to be interactive. For the initial indentation correction on file open, I think I’ll modify the paren mode algorithm to just record the lines that need correction, and then indent them (slowly but accurately) with the existing formatting code.</z><z id="t1455578207" t="cfleming If people complain and it turns out that it really is necessary, I’ll either add it then or try a hybrid as suggested in #86"><y>#</y><d>2016-02-15</d><h>23:16</h><w>cfleming</w>If people complain and it turns out that it really is necessary, I’ll either add it then or try a hybrid as suggested in #86</z></g><g id="s5"><z id="t1455578390" t="cfleming &gt; In your example, the cursor is holding the recently-typed paren and preventing its relocation as a necessary courtesy I don’t think this is correct, since the cursor has been (incorrectly) moved to the previous line anyway. Indent mode only fixes that paren when another modification is made to the doc. This also seems wrong, since it’s relatively trivial for the user to get the doc into a state which violates the parinfer invariants. I think the indentation should be modified in that case - I guess I’m really asking for the hybrid mode."><y>#</y><d>2016-02-15</d><h>23:19</h><w>cfleming</w>&gt; In your example, the cursor is holding the recently-typed paren and preventing its relocation as a necessary courtesy
I don’t think this is correct, since the cursor has been (incorrectly) moved to the previous line anyway. Indent mode only fixes that paren when another modification is made to the doc. This also seems wrong, since it’s relatively trivial for the user to get the doc into a state which violates the parinfer invariants. I think the indentation should be modified in that case - I guess I’m really asking for the hybrid mode.</z><z id="t1455578767" t="cfleming Thinking about it, the algorithm thinks that it’s holding the recently-typed paren, but this is hidden by the fact that the cursor has moved. However, this seems incorrect, that implies that indent mode should be run again on a caret movement where the caret leaves the line with the held paren. However that means that you type a paren, it’s held but then it’s immediately moved back when you leave the line. I think the conclusion of this is that in indent mode, the user should not actually be allowed to type close parens."><y>#</y><d>2016-02-15</d><h>23:26</h><w>cfleming</w>Thinking about it, the algorithm thinks that it’s holding the recently-typed paren, but this is hidden by the fact that the cursor has moved. However, this seems incorrect, that implies that indent mode should be run again on a caret movement where the caret leaves the line with the held paren. However that means that you type a paren, it’s held but then it’s immediately moved back when you leave the line. I think the conclusion of this is that in indent mode, the user should not actually be allowed to type close parens.</z><z id="t1455582749" t="chrisoakman &quot;implies that indent mode should be run again on a caret movement where the caret leaves the line with the held paren&quot; &lt;-- this is correct and expected behavior while in Indent Mode"><y>#</y><d>2016-02-16</d><h>00:32</h><w>chrisoakman</w>&quot;implies that indent mode should be run again on a caret movement where the caret leaves the line with the held paren&quot; &lt;-- this is correct and expected behavior while in Indent Mode</z><z id="t1455582777" t="chrisoakman [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : have you used atom-parinfer at all? it might be worth using it some to get a feel for how Parinfer works there"><y>#</y><d>2016-02-16</d><h>00:32</h><w>chrisoakman</w><a>@cfleming</a>: have you used atom-parinfer at all? it might be worth using it some to get a feel for how Parinfer works there</z><z id="t1455582837" t="chrisoakman the code for applying Paren Mode when a file is opened can get tricky. For reference: https://github.com/oakmac/atom-parinfer/blob/master/src-cljs/atom_parinfer/core.cljs#L337-L383"><y>#</y><d>2016-02-16</d><h>00:33</h><w>chrisoakman</w>the code for applying Paren Mode when a file is opened can get tricky. For reference: <a href="https://github.com/oakmac/atom-parinfer/blob/master/src-cljs/atom_parinfer/core.cljs#L337-L383" target="_blank">https://github.com/oakmac/atom-parinfer/blob/master/src-cljs/atom_parinfer/core.cljs#L337-L383</a></z><z id="t1455583116" t="cfleming [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] : I haven’t but I’ve been meaning to"><y>#</y><d>2016-02-16</d><h>00:38</h><w>cfleming</w><a>@chrisoakman</a>: I haven’t but I’ve been meaning to</z><z id="t1455583146" t="chrisoakman might be helpful; atom-parinfer is the most mature and stable implementation of parinfer (to my knowledge)"><y>#</y><d>2016-02-16</d><h>00:39</h><w>chrisoakman</w>might be helpful; atom-parinfer is the most mature and stable implementation of parinfer (to my knowledge)</z><z id="t1455583155" t="cfleming &gt; this is correct and expected behavior while in Indent Mode Doesn’t this mean that you can never actually manually enter a close paren though?"><y>#</y><d>2016-02-16</d><h>00:39</h><w>cfleming</w>&gt; this is correct and expected behavior while in Indent Mode
Doesn’t this mean that you can never actually manually enter a close paren though?</z><z id="t1455583198" t="chrisoakman while in Indent mode, closing parens at the end of lines are always &quot;under control&quot; of the Parinfer algorithm"><y>#</y><d>2016-02-16</d><h>00:39</h><w>chrisoakman</w>while in Indent mode, closing parens at the end of lines are always &quot;under control&quot; of the Parinfer algorithm</z><z id="t1455583222" t="chrisoakman you can edit them, but then Parinfer will always just replace what you type"><y>#</y><d>2016-02-16</d><h>00:40</h><w>chrisoakman</w>you can edit them, but then Parinfer will always just replace what you type</z><z id="t1455583266" t="cfleming Right. The more I play around with it, the more I think a hybrid mode is what’s required."><y>#</y><d>2016-02-16</d><h>00:41</h><w>cfleming</w>Right. The more I play around with it, the more I think a hybrid mode is what’s required.</z><z id="t1455583288" t="chrisoakman give atom-parinfer a try"><y>#</y><d>2016-02-16</d><h>00:41</h><w>chrisoakman</w>give atom-parinfer a try</z><z id="t1455583291" t="cfleming I have to get ready for a demo, I’ll be back later on."><y>#</y><d>2016-02-16</d><h>00:41</h><w>cfleming</w>I have to get ready for a demo, I’ll be back later on.</z><z id="t1455583296" t="chrisoakman ok"><y>#</y><d>2016-02-16</d><h>00:41</h><w>chrisoakman</w>ok</z><z id="t1455583300" t="cfleming I&apos;ll try it out this afternoon."><y>#</y><d>2016-02-16</d><h>00:41</h><w>cfleming</w>I&apos;ll try it out this afternoon.</z><z id="t1455585316" t="cfleming [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] : I can’t find the parinfer package for Atom"><y>#</y><d>2016-02-16</d><h>01:15</h><w>cfleming</w><a>@chrisoakman</a>: I can’t find the parinfer package for Atom</z><z id="t1455585352" t="chrisoakman are you on the packages tab in the settings?"><y>#</y><d>2016-02-16</d><h>01:15</h><w>chrisoakman</w>are you on the packages tab in the settings?</z><z id="t1455585352" t="cfleming From the getting started page, I clicked “Install a package” and searched for “parinfer”, but it doesn’t find anything."><y>#</y><d>2016-02-16</d><h>01:15</h><w>cfleming</w>From the getting started page, I clicked “Install a package” and searched for “parinfer”, but it doesn’t find anything.</z><z id="t1455585356" t="cfleming Yes"><y>#</y><d>2016-02-16</d><h>01:15</h><w>cfleming</w>Yes</z><z id="t1455585376" t="chrisoakman which platform are you on?"><y>#</y><d>2016-02-16</d><h>01:16</h><w>chrisoakman</w>which platform are you on?</z><z id="t1455585381" t="cfleming OSX"><y>#</y><d>2016-02-16</d><h>01:16</h><w>cfleming</w>OSX</z><z id="t1455585387" t="chrisoakman Cmd+,"><y>#</y><d>2016-02-16</d><h>01:16</h><w>chrisoakman</w><code>Cmd+,</code></z><z id="t1455585403" t="chrisoakman then the &quot;Install&quot; tab"><y>#</y><d>2016-02-16</d><h>01:16</h><w>chrisoakman</w>then the &quot;Install&quot; tab</z><z id="t1455585427" t="chrisoakman then type &quot;parinfer&quot; + Enter"><y>#</y><d>2016-02-16</d><h>01:17</h><w>chrisoakman</w>then type &quot;parinfer&quot; + <code>Enter</code></z><z id="t1455585447" t="cfleming There it is - I think the first time it presented me with a list of recommended plugins"><y>#</y><d>2016-02-16</d><h>01:17</h><w>cfleming</w>There it is - I think the first time it presented me with a list of recommended plugins</z><z id="t1455585454" t="cfleming I’d swear I did that simple_smile"><y>#</y><d>2016-02-16</d><h>01:17</h><w>cfleming</w>I’d swear I did that <b>simple_smile</b></z><z id="t1455585454" t="chrisoakman yes"><y>#</y><d>2016-02-16</d><h>01:17</h><w>chrisoakman</w>yes</z><z id="t1455585465" t="chrisoakman or if you were on the &quot;Packages&quot; tab, that was a list of your existing packages"><y>#</y><d>2016-02-16</d><h>01:17</h><w>chrisoakman</w>or if you were on the &quot;Packages&quot; tab, that was a list of your existing packages</z><z id="t1455585472" t="cfleming That might have been it."><y>#</y><d>2016-02-16</d><h>01:17</h><w>cfleming</w>That might have been it.</z><z id="t1455585481" t="cfleming Anything else I need for Clojure?"><y>#</y><d>2016-02-16</d><h>01:18</h><w>cfleming</w>Anything else I need for Clojure?</z><z id="t1455585481" t="chrisoakman probably"><y>#</y><d>2016-02-16</d><h>01:18</h><w>chrisoakman</w>probably</z><z id="t1455585496" t="chrisoakman I think it ships with the Clojure language already"><y>#</y><d>2016-02-16</d><h>01:18</h><w>chrisoakman</w>I think it ships with the Clojure language already</z><z id="t1455585502" t="chrisoakman nope - give that a try"><y>#</y><d>2016-02-16</d><h>01:18</h><w>chrisoakman</w>nope - give that a try</z><z id="t1455585506" t="cfleming Ok, I’ll play around"><y>#</y><d>2016-02-16</d><h>01:18</h><w>cfleming</w>Ok, I’ll play around</z><z id="t1455585507" t="chrisoakman pretend like you&apos;re a new Clojure user 😉"><y>#</y><d>2016-02-16</d><h>01:18</h><w>chrisoakman</w>pretend like you&apos;re a new Clojure user <b>😉</b></z><z id="t1455585585" t="chrisoakman Are you aware of the Cmd + ( and Cmd + ) hotkeys?"><y>#</y><d>2016-02-16</d><h>01:19</h><w>chrisoakman</w>Are you aware of the <code>Cmd + (</code> and <code>Cmd + )</code> hotkeys?</z><z id="t1455585605" t="cfleming I am not"><y>#</y><d>2016-02-16</d><h>01:20</h><w>cfleming</w>I am not</z><z id="t1455585618" t="chrisoakman https://github.com/oakmac/atom-parinfer#usage"><y>#</y><d>2016-02-16</d><h>01:20</h><w>chrisoakman</w><a href="https://github.com/oakmac/atom-parinfer#usage" target="_blank">https://github.com/oakmac/atom-parinfer#usage</a></z><z id="t1455585636" t="cfleming Ok, swaps and disables, looks like"><y>#</y><d>2016-02-16</d><h>01:20</h><w>cfleming</w>Ok, swaps and disables, looks like</z><z id="t1455585655" t="cfleming Having used this more than me, what’s your feeling about the usefulness of paren mode?"><y>#</y><d>2016-02-16</d><h>01:20</h><w>cfleming</w>Having used this more than me, what’s your feeling about the usefulness of paren mode?</z><z id="t1455585683" t="chrisoakman as an editing mode? I basically never use it"><y>#</y><d>2016-02-16</d><h>01:21</h><w>chrisoakman</w>as an editing mode? I basically never use it</z><z id="t1455585703" t="cfleming Do you think it would be ok to only implement indent mode in Cursive?"><y>#</y><d>2016-02-16</d><h>01:21</h><w>cfleming</w>Do you think it would be ok to only implement indent mode in Cursive?</z><z id="t1455585705" t="chrisoakman I can&apos;t remember the last time I ever turned it on other than checking the extension"><y>#</y><d>2016-02-16</d><h>01:21</h><w>chrisoakman</w>I can&apos;t remember the last time I ever turned it on other than checking the extension</z><z id="t1455585709" t="cfleming For editing?"><y>#</y><d>2016-02-16</d><h>01:21</h><w>cfleming</w>For editing?</z><z id="t1455585729" t="chrisoakman are you planning on having a toggle to turn Parinfer on / off?"><y>#</y><d>2016-02-16</d><h>01:22</h><w>chrisoakman</w>are you planning on having a toggle to turn Parinfer on / off?</z><z id="t1455585733" t="cfleming Yes"><y>#</y><d>2016-02-16</d><h>01:22</h><w>cfleming</w>Yes</z><z id="t1455585746" t="chrisoakman then I would offer it"><y>#</y><d>2016-02-16</d><h>01:22</h><w>chrisoakman</w>then I would offer it</z><z id="t1455585768" t="chrisoakman I mean - I&apos;m not familiar with Cursive conventions"><y>#</y><d>2016-02-16</d><h>01:22</h><w>chrisoakman</w>I mean - I&apos;m not familiar with Cursive conventions</z><z id="t1455585801" t="chrisoakman but I think if you copy the atom-parinfer conventions of Ctrl + ( and Ctrl + ) that would be good"><y>#</y><d>2016-02-16</d><h>01:23</h><w>chrisoakman</w>but I think if you copy the atom-parinfer conventions of <code>Ctrl + (</code> and <code>Ctrl + )</code> that would be good</z><z id="t1455585821" t="chrisoakman after using Parinfer for a while, you don&apos;t even notice it&apos;s there"><y>#</y><d>2016-02-16</d><h>01:23</h><w>chrisoakman</w>after using Parinfer for a while, you don&apos;t even notice it&apos;s there</z><z id="t1455585831" t="chrisoakman it automatically turns on for file extensions it recognizes"><y>#</y><d>2016-02-16</d><h>01:23</h><w>chrisoakman</w>it automatically turns on for file extensions it recognizes</z><z id="t1455585841" t="chrisoakman runs paren mode (which usually doesn&apos;t do anything to the file)"><y>#</y><d>2016-02-16</d><h>01:24</h><w>chrisoakman</w>runs paren mode (which usually doesn&apos;t do anything to the file)</z><z id="t1455585845" t="chrisoakman and drop you into indent mode"><y>#</y><d>2016-02-16</d><h>01:24</h><w>chrisoakman</w>and drop you into indent mode</z><z id="t1455585915" t="chrisoakman it&apos;s only when you first start using it that you hit the Paren Mode edge cases"><y>#</y><d>2016-02-16</d><h>01:25</h><w>chrisoakman</w>it&apos;s only when you first start using it that you hit the Paren Mode edge cases</z><z id="t1455585930" t="chrisoakman also - none of the extensions are using cursorDx correctly right now"><y>#</y><d>2016-02-16</d><h>01:25</h><w>chrisoakman</w>also - none of the extensions are using cursorDx correctly right now</z><z id="t1455585950" t="chrisoakman so that limits Paren Mode&apos;s usefulness"><y>#</y><d>2016-02-16</d><h>01:25</h><w>chrisoakman</w>so that limits Paren Mode&apos;s usefulness</z><z id="t1455586143" t="cfleming That’s what I’ve been thinking. I’m also thinking that I might start working towards the hybrid mode by special casing some things (like entering a closing paren)"><y>#</y><d>2016-02-16</d><h>01:29</h><w>cfleming</w>That’s what I’ve been thinking. I’m also thinking that I might start working towards the hybrid mode by special casing some things (like entering a closing paren)</z><z id="t1455586175" t="cfleming I think people will expect that case to correct indentation rather than parens."><y>#</y><d>2016-02-16</d><h>01:29</h><w>cfleming</w>I think people will expect that case to correct indentation rather than parens.</z><z id="t1455586198" t="cfleming So you also run parinfer on cursor movement?"><y>#</y><d>2016-02-16</d><h>01:29</h><w>cfleming</w>So you also run parinfer on cursor movement?</z><z id="t1455586307" t="chrisoakman correct"><y>#</y><d>2016-02-16</d><h>01:31</h><w>chrisoakman</w>correct</z><z id="t1455586317" t="chrisoakman I would suggest the opposite, actually"><y>#</y><d>2016-02-16</d><h>01:31</h><w>chrisoakman</w>I would suggest the opposite, actually</z><z id="t1455586325" t="chrisoakman re: entering closing parens"><y>#</y><d>2016-02-16</d><h>01:32</h><w>chrisoakman</w>re: entering closing parens</z><z id="t1455586337" t="chrisoakman when using Indent Mode, indentation is the master and parens are the slave"><y>#</y><d>2016-02-16</d><h>01:32</h><w>chrisoakman</w>when using Indent Mode, indentation is the master and parens are the slave</z><z id="t1455586358" t="cfleming But then it doesn’t make sense to even allow them to enter a closing paren"><y>#</y><d>2016-02-16</d><h>01:32</h><w>cfleming</w>But then it doesn’t make sense to even allow them to enter a closing paren</z><z id="t1455586369" t="chrisoakman you mean at the end of a line?"><y>#</y><d>2016-02-16</d><h>01:32</h><w>chrisoakman</w>you mean at the end of a line?</z><z id="t1455586375" t="cfleming Yes"><y>#</y><d>2016-02-16</d><h>01:32</h><w>cfleming</w>Yes</z><z id="t1455586385" t="chrisoakman I mean - it just doesn&apos;t matter if they do or not"><y>#</y><d>2016-02-16</d><h>01:33</h><w>chrisoakman</w>I mean - it just doesn&apos;t matter if they do or not</z><z id="t1455586402" t="chrisoakman if they do, and it&apos;s the &quot;correct&quot; one, then parinfer runs and it looks like nothing happens"><y>#</y><d>2016-02-16</d><h>01:33</h><w>chrisoakman</w>if they do, and it&apos;s the &quot;correct&quot; one, then parinfer runs and it looks like nothing happens</z><z id="t1455586412" t="chrisoakman if they do, and it&apos;s the &quot;wrong&quot; one, parinfer runs and corrects it immediately"><y>#</y><d>2016-02-16</d><h>01:33</h><w>chrisoakman</w>if they do, and it&apos;s the &quot;wrong&quot; one, parinfer runs and corrects it immediately</z><z id="t1455586418" t="cfleming No it doesn&apos;t"><y>#</y><d>2016-02-16</d><h>01:33</h><w>cfleming</w>No it doesn&apos;t</z><z id="t1455586432" t="cfleming (let [x 10]&lt;caret&gt; (when true)) "><y>#</y><d>2016-02-16</d><h>01:33</h><w>cfleming</w><pre>(let [x 10]&lt;caret&gt;
  (when true))
</pre></z><z id="t1455586445" t="cfleming If you close the paren there, the paren stays until you move off the line."><y>#</y><d>2016-02-16</d><h>01:34</h><w>cfleming</w>If you close the paren there, the paren stays until you move off the line.</z><z id="t1455586453" t="chrisoakman oh - yes"><y>#</y><d>2016-02-16</d><h>01:34</h><w>chrisoakman</w>oh - yes</z><z id="t1455586457" t="chrisoakman due to the cursor rules"><y>#</y><d>2016-02-16</d><h>01:34</h><w>chrisoakman</w>due to the cursor rules</z><z id="t1455586461" t="cfleming Here’s another one:"><y>#</y><d>2016-02-16</d><h>01:34</h><w>cfleming</w>Here’s another one:</z><z id="t1455586481" t="cfleming (let&lt;caret&gt; [x 10] (when true)) "><y>#</y><d>2016-02-16</d><h>01:34</h><w>cfleming</w><pre>(let&lt;caret&gt; [x 10]
  (when true))
</pre></z><z id="t1455586505" t="cfleming If you close that paren, it doesn’t get corrected but the indentation is wrong on the (when true)"><y>#</y><d>2016-02-16</d><h>01:35</h><w>cfleming</w>If you close that paren, it doesn’t get corrected but the indentation is wrong on the <code>(when true)</code></z><z id="t1455586532" t="chrisoakman hmm"><y>#</y><d>2016-02-16</d><h>01:35</h><w>chrisoakman</w>hmm</z><z id="t1455586537" t="chrisoakman that&apos;s just how parinfer works"><y>#</y><d>2016-02-16</d><h>01:35</h><w>chrisoakman</w>that&apos;s just how parinfer works</z><z id="t1455586551" t="cfleming I just don’t think it’s ever valid to close a paren and not correct indentation"><y>#</y><d>2016-02-16</d><h>01:35</h><w>cfleming</w>I just don’t think it’s ever valid to close a paren and not correct indentation</z><z id="t1455586571" t="chrisoakman indent mode never touches indentation"><y>#</y><d>2016-02-16</d><h>01:36</h><w>chrisoakman</w>indent mode never touches indentation</z><z id="t1455586576" t="cfleming I mean, I understand the theory but using it it would feel more natural if it did correct indentation."><y>#</y><d>2016-02-16</d><h>01:36</h><w>cfleming</w>I mean, I understand the theory but using it it would feel more natural if it did correct indentation.</z><z id="t1455586589" t="cfleming I know, I’m arguing that that’s not a good invariant to enforce simple_smile"><y>#</y><d>2016-02-16</d><h>01:36</h><w>cfleming</w>I know, I’m arguing that that’s not a good invariant to enforce <b>simple_smile</b></z><z id="t1455586615" t="cfleming I’m basically arguing to move towards the hybrid mode in #86"><y>#</y><d>2016-02-16</d><h>01:36</h><w>cfleming</w>I’m basically arguing to move towards the hybrid mode in #86</z><z id="t1455586635" t="chrisoakman I need to give it a think; it&apos;s hard for me to separate my thoughts on this since I have ported the thing 4 times and written two plugins for it"><y>#</y><d>2016-02-16</d><h>01:37</h><w>chrisoakman</w>I need to give it a think; it&apos;s hard for me to separate my thoughts on this since I have ported the thing 4 times and written two plugins for it</z><z id="t1455586650" t="cfleming Sure, let me know"><y>#</y><d>2016-02-16</d><h>01:37</h><w>cfleming</w>Sure, let me know</z><z id="t1455586651" t="chrisoakman it feels very natural to me at this point"><y>#</y><d>2016-02-16</d><h>01:37</h><w>chrisoakman</w>it feels very natural to me at this point</z><z id="t1455586658" t="cfleming As a new user, those cases feel wrong"><y>#</y><d>2016-02-16</d><h>01:37</h><w>cfleming</w>As a new user, those cases feel wrong</z><z id="t1455586673" t="cfleming Maybe they never actually come up in practice"><y>#</y><d>2016-02-16</d><h>01:37</h><w>cfleming</w>Maybe they never actually come up in practice</z><z id="t1455586681" t="chrisoakman when in indent mode, my primary &quot;control lever&quot; is indentation, basically tab and shift + tab"><y>#</y><d>2016-02-16</d><h>01:38</h><w>chrisoakman</w>when in indent mode, my primary &quot;control lever&quot; is indentation, basically <code>tab</code> and <code>shift + tab</code></z><z id="t1455586701" t="chrisoakman just like it would be in Python or if I were formatting JS code to common convention"><y>#</y><d>2016-02-16</d><h>01:38</h><w>chrisoakman</w>just like it would be in Python or if I were formatting JS code to common convention</z><z id="t1455586742" t="cfleming Sure, but I don’t think that precludes other types of manipulations doing intuitive things."><y>#</y><d>2016-02-16</d><h>01:39</h><w>cfleming</w>Sure, but I don’t think that precludes other types of manipulations doing intuitive things.</z><z id="t1455586745" t="chrisoakman and I practically never leave Indent Mode"><y>#</y><d>2016-02-16</d><h>01:39</h><w>chrisoakman</w>and I practically never leave Indent Mode</z><z id="t1455586750" t="cfleming Here’s another case:"><y>#</y><d>2016-02-16</d><h>01:39</h><w>cfleming</w>Here’s another case:</z><z id="t1455586764" t="cfleming (&lt;caret&gt;let [x 10] (when true)) "><y>#</y><d>2016-02-16</d><h>01:39</h><w>cfleming</w><pre>(&lt;caret&gt;let [x 10]
  (when true))

</pre></z><z id="t1455586778" t="cfleming If you insert an opening paren there, the when is not indented further."><y>#</y><d>2016-02-16</d><h>01:39</h><w>cfleming</w>If you insert an opening paren there, the when is not indented further.</z><z id="t1455586820" t="chrisoakman I would have to use it with those modifications in order to see if they felt &quot;natural&quot;"><y>#</y><d>2016-02-16</d><h>01:40</h><w>chrisoakman</w>I would have to use it with those modifications in order to see if they felt &quot;natural&quot;</z><z id="t1455586837" t="chrisoakman of course &quot;natural&quot; is a function of what you&apos;re familiar with... but you know what I mean"><y>#</y><d>2016-02-16</d><h>01:40</h><w>chrisoakman</w>of course &quot;natural&quot; is a function of what you&apos;re familiar with... but you know what I mean</z><z id="t1455586850" t="cfleming Sure, I need to think about what the cases are and when this would make sense"><y>#</y><d>2016-02-16</d><h>01:40</h><w>cfleming</w>Sure, I need to think about what the cases are and when this would make sense</z><z id="t1455586863" t="cfleming I’ll add these cases to #86"><y>#</y><d>2016-02-16</d><h>01:41</h><w>cfleming</w>I’ll add these cases to #86</z><z id="t1455586870" t="chrisoakman would also be interested to hear what Shaun thinks about it"><y>#</y><d>2016-02-16</d><h>01:41</h><w>chrisoakman</w>would also be interested to hear what Shaun thinks about it</z><z id="t1455586886" t="chrisoakman he&apos;s good at coming up with use cases that break or support intended behavior"><y>#</y><d>2016-02-16</d><h>01:41</h><w>chrisoakman</w>he&apos;s good at coming up with use cases that break or support intended behavior</z><z id="t1455586888" t="cfleming But I’m leaning towards implementing a hybrid mode out of the gate and iterating based on feedback."><y>#</y><d>2016-02-16</d><h>01:41</h><w>cfleming</w>But I’m leaning towards implementing a hybrid mode out of the gate and iterating based on feedback.</z><z id="t1455586936" t="chrisoakman that might be quite tricky to implement; I&apos;m not sure"><y>#</y><d>2016-02-16</d><h>01:42</h><w>chrisoakman</w>that might be quite tricky to implement; I&apos;m not sure</z><z id="t1455586967" t="chrisoakman something about the parinfer algorithm right now: it doesn&apos;t know what you just typed"><y>#</y><d>2016-02-16</d><h>01:42</h><w>chrisoakman</w>something about the parinfer algorithm right now: it doesn&apos;t know what you just typed</z><z id="t1455587000" t="chrisoakman it just has input text --&gt; output text; the result is a pure function of the input text"><y>#</y><d>2016-02-16</d><h>01:43</h><w>chrisoakman</w>it just has input text --&gt; output text; the result is a pure function of the input text</z><z id="t1455587010" t="chrisoakman (with optional cursor parameters, but still makes it a pure function)"><y>#</y><d>2016-02-16</d><h>01:43</h><w>chrisoakman</w>(with optional cursor parameters, but still makes it a pure function)</z><z id="t1455587036" t="chrisoakman so you would have to come up with &quot;what the user just typed&quot;"><y>#</y><d>2016-02-16</d><h>01:43</h><w>chrisoakman</w>so you would have to come up with &quot;what the user just typed&quot;</z><z id="t1455587046" t="cfleming I have that"><y>#</y><d>2016-02-16</d><h>01:44</h><w>cfleming</w>I have that</z><z id="t1455587047" t="chrisoakman which you might know in some simple cases, like regular typing"><y>#</y><d>2016-02-16</d><h>01:44</h><w>chrisoakman</w>which you might know in some simple cases, like regular typing</z><z id="t1455587064" t="chrisoakman but that becomes quite tricky once you start dealing with copy/paste and multiple cursors, etc"><y>#</y><d>2016-02-16</d><h>01:44</h><w>chrisoakman</w>but that becomes quite tricky once you start dealing with copy/paste and multiple cursors, etc</z><z id="t1455587066" t="cfleming Or at least, for a document change event, I have the old text and the new text"><y>#</y><d>2016-02-16</d><h>01:44</h><w>cfleming</w>Or at least, for a document change event, I have the old text and the new text</z><z id="t1455587190" t="cfleming I think that what I would do is: the before or after text contain an unbalanced number of parens, I would adjust the indentation for the whole top-level form."><y>#</y><d>2016-02-16</d><h>01:46</h><w>cfleming</w>I think that what I would do is: the before or after text contain an unbalanced number of parens, I would adjust the indentation for the whole top-level form.</z><z id="t1455587215" t="cfleming Everything else can be indent mode I think."><y>#</y><d>2016-02-16</d><h>01:46</h><w>cfleming</w>Everything else can be indent mode I think.</z><z id="t1455587267" t="cfleming Basically, if the event is changing the nesting, then the indentation needs to be adjusted"><y>#</y><d>2016-02-16</d><h>01:47</h><w>cfleming</w>Basically, if the event is changing the nesting, then the indentation needs to be adjusted</z><z id="t1455587365" t="chrisoakman I&apos;m not sure what happens at the end of a line when you do that"><y>#</y><d>2016-02-16</d><h>01:49</h><w>chrisoakman</w>I&apos;m not sure what happens at the end of a line when you do that</z><z id="t1455587399" t="chrisoakman yeah; interesting"><y>#</y><d>2016-02-16</d><h>01:49</h><w>chrisoakman</w>yeah; interesting</z><z id="t1455587411" t="chrisoakman having some test cases and discussing on Issue #86 is the way to go I think"><y>#</y><d>2016-02-16</d><h>01:50</h><w>chrisoakman</w>having some test cases and discussing on Issue #86 is the way to go I think</z><z id="t1455587435" t="chrisoakman being able to test it out would be helpful too"><y>#</y><d>2016-02-16</d><h>01:50</h><w>chrisoakman</w>being able to test it out would be helpful too</z><z id="t1455587470" t="cfleming Yeah, I’ll try to modify the algorithm to test it out, and I can help you get a test build of Cursive installed to try when I do."><y>#</y><d>2016-02-16</d><h>01:51</h><w>cfleming</w>Yeah, I’ll try to modify the algorithm to test it out, and I can help you get a test build of Cursive installed to try when I do.</z><z id="t1455587471" t="chrisoakman try some real-world editing in Atom for a day; see how it feels after a while"><y>#</y><d>2016-02-16</d><h>01:51</h><w>chrisoakman</w>try some real-world editing in Atom for a day; see how it feels after a while</z><z id="t1455587519" t="chrisoakman sure; I would be open to that"><y>#</y><d>2016-02-16</d><h>01:51</h><w>chrisoakman</w>sure; I would be open to that</z><z id="t1455587606" t="cfleming So do you run parinfer on every caret movement as well as doc changes?"><y>#</y><d>2016-02-16</d><h>01:53</h><w>cfleming</w>So do you run parinfer on every caret movement as well as doc changes?</z><z id="t1455587730" t="chrisoakman every onChange and cursorMove event"><y>#</y><d>2016-02-16</d><h>01:55</h><w>chrisoakman</w>every <code>onChange</code> and <code>cursorMove</code> event</z><z id="t1455587740" t="chrisoakman which is why the debounce is important, because those fire all the time"><y>#</y><d>2016-02-16</d><h>01:55</h><w>chrisoakman</w>which is why the debounce is important, because those fire all the time</z><z id="t1455587755" t="cfleming Right. I’m using 10ms which seems good."><y>#</y><d>2016-02-16</d><h>01:55</h><w>cfleming</w>Right. I’m using 10ms which seems good.</z><z id="t1455587762" t="chrisoakman on a single keypress both of those events are fired"><y>#</y><d>2016-02-16</d><h>01:56</h><w>chrisoakman</w>on a single keypress both of those events are fired</z><z id="t1455587763" t="cfleming It could probably be longer."><y>#</y><d>2016-02-16</d><h>01:56</h><w>cfleming</w>It could probably be longer.</z><z id="t1455587771" t="chrisoakman it&apos;s probably fine"><y>#</y><d>2016-02-16</d><h>01:56</h><w>chrisoakman</w>it&apos;s probably fine</z><z id="t1455587778" t="chrisoakman parinfer is so fast"><y>#</y><d>2016-02-16</d><h>01:56</h><w>chrisoakman</w>parinfer is so fast</z><z id="t1455587790" t="chrisoakman unless you&apos;re noticing any sluggishness"><y>#</y><d>2016-02-16</d><h>01:56</h><w>chrisoakman</w>unless you&apos;re noticing any sluggishness</z><z id="t1455587814" t="cfleming No, but in IntelliJ doc changes trigger a whole lot of stuff, it’s not just about the speed of parinfer"><y>#</y><d>2016-02-16</d><h>01:56</h><w>cfleming</w>No, but in IntelliJ doc changes trigger a whole lot of stuff, it’s not just about the speed of parinfer</z><z id="t1455587970" t="chrisoakman I&apos;m not sure I know what you mean when you say &quot;doc change&quot;"><y>#</y><d>2016-02-16</d><h>01:59</h><w>chrisoakman</w>I&apos;m not sure I know what you mean when you say &quot;doc change&quot;</z><z id="t1455587990" t="cfleming When the edited document is updated with the changes from parinfer."><y>#</y><d>2016-02-16</d><h>01:59</h><w>cfleming</w>When the edited document is updated with the changes from parinfer.</z><z id="t1455588002" t="cfleming (or anything else)"><y>#</y><d>2016-02-16</d><h>02:00</h><w>cfleming</w>(or anything else)</z><z id="t1455588002" t="chrisoakman oh - ok"><y>#</y><d>2016-02-16</d><h>02:00</h><w>chrisoakman</w>oh - ok</z><z id="t1455590251" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : Actually, re-reading the issue about caret movement I misunderstood what was written there - feel free to ignore me simple_smile"><y>#</y><d>2016-02-16</d><h>02:37</h><w>cfleming</w><a>@shaunlebron</a>: Actually, re-reading the issue about caret movement I misunderstood what was written there - feel free to ignore me <b>simple_smile</b></z><z id="t1455597466" t="shaunlebron trying to distill some of the points you made so I can address them simply"><y>#</y><d>2016-02-16</d><h>04:37</h><w>shaunlebron</w>trying to distill some of the points you made so I can address them simply</z><z id="t1455597498" t="shaunlebron 1. user should not be able to type a close-paren in Indent Mode (given the current rules)"><y>#</y><d>2016-02-16</d><h>04:38</h><w>shaunlebron</w>1. user should not be able to type a close-paren in Indent Mode (given the current rules)</z><z id="t1455597596" t="shaunlebron 2. the behavior of “holding parens” is confusing and breaks Indent Mode rules"><y>#</y><d>2016-02-16</d><h>04:39</h><w>shaunlebron</w>2. the behavior of “holding parens” is confusing and breaks Indent Mode rules</z><z id="t1455597727" t="shaunlebron 3. Indentation can be wrong when inserting a close-paren"><y>#</y><d>2016-02-16</d><h>04:42</h><w>shaunlebron</w>3. Indentation can be wrong when inserting a close-paren</z><z id="t1455597749" t="shaunlebron 4. Inserting close-parens should trigger an indentation correction"><y>#</y><d>2016-02-16</d><h>04:42</h><w>shaunlebron</w>4. Inserting close-parens should trigger an indentation correction</z><z id="t1455597864" t="shaunlebron For point 1, here’s an example of a simple close-paren insertion that doesn’t cause indentation problems, and it results in an inline paredit-barf"><y>#</y><d>2016-02-16</d><h>04:44</h><w>shaunlebron</w>For point 1, here’s an example of a simple close-paren insertion that doesn’t cause indentation problems, and it results in an inline paredit-barf</z><z id="t1455597908" t="shaunlebron (def foo| bar) =&gt; (def foo|) bar , after inserting a ) at the cursor"><y>#</y><d>2016-02-16</d><h>04:45</h><w>shaunlebron</w><code>(def foo| bar)</code> =&gt; <code>(def foo|) bar</code>, after inserting a <code>)</code> at the cursor</z><z id="t1455597943" t="shaunlebron For point 2, let me sketch out a diagram..."><y>#</y><d>2016-02-16</d><h>04:45</h><w>shaunlebron</w>For point 2, let me sketch out a diagram...</z><z id="t1455598840" t="shaunlebron The problem is that indent mode does not allow you to move between these states"><y>#</y><d>2016-02-16</d><h>05:00</h><w>shaunlebron</w>The problem is that indent mode does not allow you to move between these states</z><z id="t1455598856" t="shaunlebron because the moment you type the ] , it would be displaced"><y>#</y><d>2016-02-16</d><h>05:00</h><w>shaunlebron</w>because the moment you type the <code>]</code>, it would be displaced</z><z id="t1455598974" t="shaunlebron the problem is that moving between valid states sometimes requires moving through an invalid one"><y>#</y><d>2016-02-16</d><h>05:02</h><w>shaunlebron</w>the problem is that moving between valid states sometimes requires moving through an invalid one</z><z id="t1455599085" t="shaunlebron I’m not saying this is the best way, this is just to paint a picture of the model that I currently use to solve it"><y>#</y><d>2016-02-16</d><h>05:04</h><w>shaunlebron</w>I’m not saying this is the best way, this is just to paint a picture of the model that I currently use to solve it</z><z id="t1455599204" t="shaunlebron You may be wondering why “State 2” is valid above. Obviously, the indentation is wonky. This brings us to Point 3. I’ll first address the example you gave for clarity, and then cover “State 2&quot;"><y>#</y><d>2016-02-16</d><h>05:06</h><w>shaunlebron</w>You may be wondering why “State 2” is valid above.  Obviously, the indentation is wonky.
This brings us to Point 3.  I’ll first address the example you gave for clarity, and then cover “State 2&quot;</z><z id="t1455599247" t="shaunlebron Cursor is | (let| [x 10] (when true)) "><y>#</y><d>2016-02-16</d><h>05:07</h><w>shaunlebron</w>Cursor is <code>|</code>

<pre>(let| [x 10]
  (when true))
</pre></z><z id="t1455599422" t="shaunlebron when the user types a ) , we get (let)| [x 10] (when true) "><y>#</y><d>2016-02-16</d><h>05:10</h><w>shaunlebron</w>when the user types a <code>)</code>, we get

<pre>(let)| [x 10]
  (when true)
</pre></z><z id="t1455599518" t="shaunlebron Even when the cursor moves away, this indentation here will remain the same: (let) [x 10] (when true) "><y>#</y><d>2016-02-16</d><h>05:11</h><w>shaunlebron</w>Even when the cursor moves away, this indentation here will remain the same:

<pre>(let) [x 10]
  (when true)
</pre></z><z id="t1455599828" t="shaunlebron So we end up with code that has wonky indentation, just like “State 2” in the previous example"><y>#</y><d>2016-02-16</d><h>05:17</h><w>shaunlebron</w>So we end up with code that has wonky indentation, just like “State 2” in the previous example</z><z id="t1455599900" t="shaunlebron This is just a design decision that was made"><y>#</y><d>2016-02-16</d><h>05:18</h><w>shaunlebron</w>This is just a design decision that was made</z><z id="t1455600090" t="shaunlebron even though the indentation is weird, it doesn’t violate the indentation thresholds"><y>#</y><d>2016-02-16</d><h>05:21</h><w>shaunlebron</w>even though the indentation is weird, it doesn’t violate the indentation thresholds</z><z id="t1455600176" t="shaunlebron The right-bound of the threshold is this: (let) [x 10] (when true) "><y>#</y><d>2016-02-16</d><h>05:22</h><w>shaunlebron</w>The right-bound of the threshold is this:

<pre>(let) [x 10]
(when true)
</pre></z><z id="t1455600237" t="shaunlebron You can indent the expression to the right, but the structure won’t change until you hit this: (let) [x 10 (when true)] "><y>#</y><d>2016-02-16</d><h>05:23</h><w>shaunlebron</w>You can indent the expression to the right, but the structure won’t change until you hit this:

<pre>(let) [x 10
       (when true)]
</pre></z><z id="t1455600392" t="shaunlebron And since Parinfer respects the user’s chosen indentation within thresholds, we allow this: (let) [x 10] (when true) "><y>#</y><d>2016-02-16</d><h>05:26</h><w>shaunlebron</w>And since Parinfer respects the user’s chosen indentation within thresholds, we allow this:

<pre>(let) [x 10]
  (when true)
</pre></z><z id="t1455601175" t="shaunlebron I think my guiding design philosophy behind these examples is that I find it important to allow this motion between valid states"><y>#</y><d>2016-02-16</d><h>05:39</h><w>shaunlebron</w>I think my guiding design philosophy behind these examples is that I find it important to allow this motion between valid states</z><z id="t1455601282" t="shaunlebron Alright, for Point 4, I think this will sum up my thoughts pretty well..."><y>#</y><d>2016-02-16</d><h>05:41</h><w>shaunlebron</w>Alright, for Point 4, I think this will sum up my thoughts pretty well...</z><z id="t1455601411" t="shaunlebron My suspicion is that Parinfer has become a set of primitives by which you can perform what you describe in Point 4"><y>#</y><d>2016-02-16</d><h>05:43</h><w>shaunlebron</w>My suspicion is that Parinfer has become a set of primitives by which you can perform what you describe in Point 4</z><z id="t1455601540" t="shaunlebron you can see this by how Mike Fikes has combined the modes to meet his own needs in Planck"><y>#</y><d>2016-02-16</d><h>05:45</h><w>shaunlebron</w>you can see this by how Mike Fikes has combined the modes to meet his own needs in Planck</z><z id="t1455601688" t="shaunlebron For example, for point 4, we start with: (let [x 1]| (when true)) "><y>#</y><d>2016-02-16</d><h>05:48</h><w>shaunlebron</w>For example, for point 4, we start with:

<pre>(let [x 1]|
  (when true))
</pre></z><z id="t1455601730" t="shaunlebron In indent mode, we insert a ) : (let [x 1])| (when true) "><y>#</y><d>2016-02-16</d><h>05:48</h><w>shaunlebron</w>In indent mode, we insert a <code>)</code>:

<pre>(let [x 1])|
  (when true)
</pre></z><z id="t1455601951" t="shaunlebron If you wish indentation to be corrected, you don’t have to rewrite Parinfer. Rather, you can treat Parinfer as the primitive operations which you can compose for your desired behavior. To continue the example, you can have Cursive’s plugin apply Paren Mode when ) is typed: (let [x 1]) (when true) "><y>#</y><d>2016-02-16</d><h>05:52</h><w>shaunlebron</w>If you wish indentation to be corrected, you don’t have to rewrite Parinfer.  Rather, you can treat Parinfer as the primitive operations which you can compose for your desired behavior.

To continue the example, you can have Cursive’s plugin apply Paren Mode when <code>)</code> is typed:

<pre>(let [x 1])
(when true)
</pre></z><z id="t1455602368" t="shaunlebron I’m really happy that you’re challenging the notions of what Parinfer should be doing in different cases"><y>#</y><d>2016-02-16</d><h>05:59</h><w>shaunlebron</w>I’m really happy that you’re challenging the notions of what Parinfer should be doing in different cases</z><z id="t1455602768" t="shaunlebron I would recommend thinking about your custom rules not as a new mode separate from Indent Mode and Paren Mode"><y>#</y><d>2016-02-16</d><h>06:06</h><w>shaunlebron</w>I would recommend thinking about your custom rules not as a new mode separate from Indent Mode and Paren Mode</z><z id="t1455602880" t="shaunlebron but rather as a set of rules for determining when to apply each Mode"><y>#</y><d>2016-02-16</d><h>06:08</h><w>shaunlebron</w>but rather as a set of rules for determining when to apply each Mode</z><z id="t1455603263" t="shaunlebron anyway, I’ve tried to get everything that I know about Parinfer into the website, design doc, and test cases for posterity."><y>#</y><d>2016-02-16</d><h>06:14</h><w>shaunlebron</w>anyway, I’ve tried to get everything that I know about Parinfer into the website, design doc, and test cases for posterity.</z><z id="t1455603397" t="shaunlebron but I still think the best way to explore an idea is to ask a person, so keep the questions coming if you have a question"><y>#</y><d>2016-02-16</d><h>06:16</h><w>shaunlebron</w>but I still think the best way to explore an idea is to ask a person, so keep the questions coming if you have a question</z><z id="t1455613547" t="cfleming Thanks for the thoughtful feedback [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] , this is very interesting."><y>#</y><d>2016-02-16</d><h>09:05</h><w>cfleming</w>Thanks for the thoughtful feedback <a>@shaunlebron</a>, this is very interesting.</z><z id="t1455613688" t="cfleming I agree that this should be thought of as a combination of primitives. I think I’m proposing to modify paren mode to use IntelliJ/Cursive’s indentation, so it will use semantically-aware indentation. This will make it probably too slow to be as real-time as indent mode, but even with these modifications it won’t be run that often."><y>#</y><d>2016-02-16</d><h>09:08</h><w>cfleming</w>I agree that this should be thought of as a combination of primitives. I think I’m proposing to modify paren mode to use IntelliJ/Cursive’s indentation, so it will use semantically-aware indentation. This will make it probably too slow to be as real-time as indent mode, but even with these modifications it won’t be run that often.</z><z id="t1455613695" t="cfleming I need to try it though."><y>#</y><d>2016-02-16</d><h>09:08</h><w>cfleming</w>I need to try it though.</z><z id="t1455613734" t="cfleming And then to work out when that should be applied based on the change to the document."><y>#</y><d>2016-02-16</d><h>09:08</h><w>cfleming</w>And then to work out when that should be applied based on the change to the document.</z><z id="t1455614701" t="thomas Hi, can I just say that I LOVE parinfer!!!! I am using it with Atom and it works perfect!!!"><y>#</y><d>2016-02-16</d><h>09:25</h><w>thomas</w>Hi, can I just say that I LOVE parinfer!!!! I am using it with Atom and it works perfect!!!</z><z id="t1455635420" t="chrisoakman thanks [:attrs {:href &quot;/_/_/users/U052852ES&quot;}] simple_smile"><y>#</y><d>2016-02-16</d><h>15:10</h><w>chrisoakman</w>thanks <a>@thomas</a> <b>simple_smile</b></z><z id="t1455639020" t="edpaget Hey all after seeing parinferlib in emacslisp I updated my attempt at the parinfer emacs plugin to use it: https://github.com/edpaget/parinfer-mode"><y>#</y><d>2016-02-16</d><h>16:10</h><w>edpaget</w>Hey all after seeing parinferlib in emacslisp I updated my attempt at the parinfer emacs plugin to use it: <a href="https://github.com/edpaget/parinfer-mode" target="_blank">https://github.com/edpaget/parinfer-mode</a></z><z id="t1455639045" t="edpaget I think it&apos;s working better than the node version did, but I&apos;m not sure it&apos;s all the way correct yet, if someone wants to give it a try I&apos;d appreciate it"><y>#</y><d>2016-02-16</d><h>16:10</h><w>edpaget</w>I think it&apos;s working better than the node version did, but I&apos;m not sure it&apos;s all the way correct yet, if someone wants to give it a try I&apos;d appreciate it</z><z id="t1455639666" t="dominicm That&apos;s great simple_smile"><y>#</y><d>2016-02-16</d><h>16:21</h><w>dominicm</w>That&apos;s great <b>simple_smile</b></z><z id="t1455640052" t="edpaget unfortunately for me, today is a python day at work instead of a clojure one, so I&apos;ll have to try it more after work"><y>#</y><d>2016-02-16</d><h>16:27</h><w>edpaget</w>unfortunately for me, today is a python day at work instead of a clojure one, so I&apos;ll have to try it more after work</z><z id="t1455640281" t="chrisoakman [:attrs {:href &quot;/_/_/users/U0FNJ23AP&quot;}] : great work simple_smile"><y>#</y><d>2016-02-16</d><h>16:31</h><w>chrisoakman</w><a>@edpaget</a>: great work <b>simple_smile</b></z><z id="t1455640319" t="chrisoakman let me know if you need anything from the parinferlib side; I&apos;m looking at MELPA right now"><y>#</y><d>2016-02-16</d><h>16:31</h><w>chrisoakman</w>let me know if you need anything from the parinferlib side; I&apos;m looking at MELPA right now</z><z id="t1455645699" t="edpaget [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] : thanks for porting it over. I gave it a try about a month ago and got totally overwhelmed."><y>#</y><d>2016-02-16</d><h>18:01</h><w>edpaget</w><a>@chrisoakman</a>: thanks for porting it over. I gave it a try about a month ago and got totally overwhelmed.</z><z id="t1455645753" t="edpaget I think all you&apos;ll need to do to add it to melpa is add some metadata to the main parinferlib file and send a pull request here: https://github.com/melpa/melpa"><y>#</y><d>2016-02-16</d><h>18:02</h><w>edpaget</w>I think all you&apos;ll need to do to add it to melpa is add some metadata to the main parinferlib file and send a pull request here: <a href="https://github.com/melpa/melpa" target="_blank">https://github.com/melpa/melpa</a></z><z id="t1455645831" t="edpaget I can look into exactly what need to be added later"><y>#</y><d>2016-02-16</d><h>18:03</h><w>edpaget</w>I can look into exactly what need to be added later</z><z id="t1455645842" t="chrisoakman right - I was reading about that"><y>#</y><d>2016-02-16</d><h>18:04</h><w>chrisoakman</w>right - I was reading about that</z><z id="t1455645884" t="chrisoakman I was thinking it definitely makes sense for the editing mode to be available from a package manager like that; does the same logic apply for just the library though?"><y>#</y><d>2016-02-16</d><h>18:04</h><w>chrisoakman</w>I was thinking it definitely makes sense for the editing mode to be available from a package manager like that; does the same logic apply for just the library though?</z><z id="t1455645905" t="chrisoakman would your package just depend on the parinferlib package?"><y>#</y><d>2016-02-16</d><h>18:05</h><w>chrisoakman</w>would your package just depend on the parinferlib package?</z><z id="t1455645913" t="chrisoakman and people&apos;s Emacs installations would figure out that dependency chain?"><y>#</y><d>2016-02-16</d><h>18:05</h><w>chrisoakman</w>and people&apos;s Emacs installations would figure out that dependency chain?</z><z id="t1455645917" t="chrisoakman I know nothing about Emacs"><y>#</y><d>2016-02-16</d><h>18:05</h><w>chrisoakman</w>I know nothing about Emacs</z><z id="t1455645921" t="chrisoakman FYI simple_smile"><y>#</y><d>2016-02-16</d><h>18:05</h><w>chrisoakman</w>FYI <b>simple_smile</b></z><z id="t1455646031" t="edpaget haha, yeah packages can declare dependencies and melpa (or package.el can&apos;t remember which bit handles it) will resolve them when they get installed"><y>#</y><d>2016-02-16</d><h>18:07</h><w>edpaget</w>haha, yeah packages can declare dependencies and melpa (or package.el can&apos;t remember which bit handles it) will resolve them when they get installed</z><z id="t1455646052" t="edpaget I could also see me just adding my little bit of code to your project and publishing that if you want"><y>#</y><d>2016-02-16</d><h>18:07</h><w>edpaget</w>I could also see me just adding my little bit of code to your project and publishing that if you want</z><z id="t1455646052" t="chrisoakman ok, so it&apos;s very similar to package.json and the npm world"><y>#</y><d>2016-02-16</d><h>18:07</h><w>chrisoakman</w>ok, so it&apos;s very similar to package.json and the npm world</z><z id="t1455646066" t="edpaget since the hooks aren&apos;t very big at the moment"><y>#</y><d>2016-02-16</d><h>18:07</h><w>edpaget</w>since the hooks aren&apos;t very big at the moment</z><z id="t1455646074" t="chrisoakman let&apos;s treat them separately; I&apos;d like to keep the library independent"><y>#</y><d>2016-02-16</d><h>18:07</h><w>chrisoakman</w>let&apos;s treat them separately; I&apos;d like to keep the library independent</z><z id="t1455646089" t="chrisoakman in case someone else wants to make a different Emacs package (for whatever reason)"><y>#</y><d>2016-02-16</d><h>18:08</h><w>chrisoakman</w>in case someone else wants to make a different Emacs package (for whatever reason)</z><z id="t1455646102" t="edpaget sure sounds great to me"><y>#</y><d>2016-02-16</d><h>18:08</h><w>edpaget</w>sure sounds great to me</z><z id="t1455660592" t="cfleming In the JVM parinfer, the PARENS map maps opening braces to closing ones, but it also maps closing ones to opening ones."><y>#</y><d>2016-02-16</d><h>22:09</h><w>cfleming</w>In the JVM parinfer, the PARENS map maps opening braces to closing ones, but it also maps closing ones to opening ones.</z><z id="t1455660606" t="cfleming As far as I can tell, this is not required - am I missing something?"><y>#</y><d>2016-02-16</d><h>22:10</h><w>cfleming</w>As far as I can tell, this is not required - am I missing something?</z><z id="t1455660633" t="cfleming I can only see cases that I believe should map from openers to closers."><y>#</y><d>2016-02-16</d><h>22:10</h><w>cfleming</w>I can only see cases that I believe should map from openers to closers.</z><z id="t1455662110" t="chrisoakman I think it uses both"><y>#</y><d>2016-02-16</d><h>22:35</h><w>chrisoakman</w>I think it uses both</z><z id="t1455662127" t="chrisoakman but you could remove the closing -&gt; opening map and see if all the tests still pass"><y>#</y><d>2016-02-16</d><h>22:35</h><w>chrisoakman</w>but you could remove the closing -&gt; opening map and see if all the tests still pass</z><z id="t1455663049" t="cfleming Ok, I’ll try it"><y>#</y><d>2016-02-16</d><h>22:50</h><w>cfleming</w>Ok, I’ll try it</z><z id="t1455663080" t="cfleming I’m modifying it at the moment to use Cursive’s lexer, which makes a lot of things simpler"><y>#</y><d>2016-02-16</d><h>22:51</h><w>cfleming</w>I’m modifying it at the moment to use Cursive’s lexer, which makes a lot of things simpler</z><z id="t1455663110" t="cfleming Since I get strings, characters and comments as whole tokens, so a lot of the intermediate state tracking just goes away"><y>#</y><d>2016-02-16</d><h>22:51</h><w>cfleming</w>Since I get strings, characters and comments as whole tokens, so a lot of the intermediate state tracking just goes away</z><z id="t1455663153" t="cfleming But I also get #{ and #( as single tokens, so there’s no single mapping from a close token to an opening one"><y>#</y><d>2016-02-16</d><h>22:52</h><w>cfleming</w>But I also get <code>#{</code> and <code>#(</code> as single tokens, so there’s no single mapping from a close token to an opening one</z><z id="t1455670987" t="cfleming PARENS does require the bidirectional mapping, but that can be fixed trivially."><y>#</y><d>2016-02-17</d><h>01:03</h><w>cfleming</w>PARENS does require the bidirectional mapping, but that can be fixed trivially.</z><z id="t1455680280" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : modifying parinfer for the lexer may be more trouble than it’s worth, especially since kotlin parinfer is really fast"><y>#</y><d>2016-02-17</d><h>03:38</h><w>shaunlebron</w><a>@cfleming</a>: modifying parinfer for the lexer may be more trouble than it’s worth, especially since kotlin parinfer is really fast</z><z id="t1455680326" t="shaunlebron chris and I will maintain the ports as the canonical one is updated"><y>#</y><d>2016-02-17</d><h>03:38</h><w>shaunlebron</w>chris and I will maintain the ports as the canonical one is updated</z><z id="t1455680340" t="shaunlebron might be difficult to continue updating the kotlin fork"><y>#</y><d>2016-02-17</d><h>03:39</h><w>shaunlebron</w>might be difficult to continue updating the kotlin fork</z><z id="t1455680409" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : Yeah, I’m not sure if it’s worth it yet. It does have some nice features - everything is simpler because the state tracking is easier, and it works better with the existing infrastructure (everything is tracked using source offsets rather than line/col, allowing minimal updates to happen)"><y>#</y><d>2016-02-17</d><h>03:40</h><w>cfleming</w><a>@shaunlebron</a>: Yeah, I’m not sure if it’s worth it yet. It does have some nice features - everything is simpler because the state tracking is easier, and it works better with the existing infrastructure (everything is tracked using source offsets rather than line/col, allowing minimal updates to happen)</z><z id="t1455680422" t="cfleming I’m going to evaluate tomorrow and see where it’s at."><y>#</y><d>2016-02-17</d><h>03:40</h><w>cfleming</w>I’m going to evaluate tomorrow and see where it’s at.</z><z id="t1455680432" t="shaunlebron oh okay, that sounds cool then if you got it figured out"><y>#</y><d>2016-02-17</d><h>03:40</h><w>shaunlebron</w>oh okay, that sounds cool then if you got it figured out</z><z id="t1455680438" t="shaunlebron simple_smile"><y>#</y><d>2016-02-17</d><h>03:40</h><w>shaunlebron</w><b>simple_smile</b></z><z id="t1455680440" t="cfleming But merging in future changes is definitely a concern."><y>#</y><d>2016-02-17</d><h>03:40</h><w>cfleming</w>But merging in future changes is definitely a concern.</z><z id="t1455680448" t="shaunlebron yeah"><y>#</y><d>2016-02-17</d><h>03:40</h><w>shaunlebron</w>yeah</z><z id="t1455680458" t="cfleming Well, I have it figured out but not finished yet simple_smile"><y>#</y><d>2016-02-17</d><h>03:40</h><w>cfleming</w>Well, I have it figured out but not finished yet <b>simple_smile</b></z><z id="t1455680483" t="shaunlebron btw"><y>#</y><d>2016-02-17</d><h>03:41</h><w>shaunlebron</w>btw</z><z id="t1455680490" t="shaunlebron you gave an example I didn’t address"><y>#</y><d>2016-02-17</d><h>03:41</h><w>shaunlebron</w>you gave an example I didn’t address</z><z id="t1455680498" t="shaunlebron (let [x 10]&lt;caret&gt;) "><y>#</y><d>2016-02-17</d><h>03:41</h><w>shaunlebron</w><pre>(let [x 10]&lt;caret&gt;)
</pre></z><z id="t1455680521" t="shaunlebron just run paren mode when pressing enter"><y>#</y><d>2016-02-17</d><h>03:42</h><w>shaunlebron</w>just run paren mode when pressing enter</z><z id="t1455680552" t="shaunlebron and you’ll get (let [x 10] &lt;caret&gt;) "><y>#</y><d>2016-02-17</d><h>03:42</h><w>shaunlebron</w>and you’ll get

<pre>(let [x 10]
  &lt;caret&gt;)
</pre></z><z id="t1455680553" t="cfleming To ensure that the paren stays on the caret line?"><y>#</y><d>2016-02-17</d><h>03:42</h><w>cfleming</w>To ensure that the paren stays on the caret line?</z><z id="t1455680557" t="cfleming Hmm"><y>#</y><d>2016-02-17</d><h>03:42</h><w>cfleming</w>Hmm</z><z id="t1455680574" t="shaunlebron mike fikes does this in replete"><y>#</y><d>2016-02-17</d><h>03:42</h><w>shaunlebron</w>mike fikes does this in replete</z><z id="t1455680576" t="cfleming The problem is that parinfer is run asynchronously after the event happens."><y>#</y><d>2016-02-17</d><h>03:42</h><w>cfleming</w>The problem is that parinfer is run asynchronously after the event happens.</z><z id="t1455680595" t="cfleming It’s actually surprisingly hard to detect “this change is as a result of this action&quot;"><y>#</y><d>2016-02-17</d><h>03:43</h><w>cfleming</w>It’s actually surprisingly hard to detect “this change is as a result of this action&quot;</z><z id="t1455680630" t="cfleming I’d need to detect cases like “a change that only inserts whitespace including a newline” which would catch that case."><y>#</y><d>2016-02-17</d><h>03:43</h><w>cfleming</w>I’d need to detect cases like “a change that only inserts whitespace including a newline” which would catch that case.</z><z id="t1455680686" t="shaunlebron not sure about that heuristic"><y>#</y><d>2016-02-17</d><h>03:44</h><w>shaunlebron</w>not sure about that heuristic</z><z id="t1455680692" t="cfleming Me either."><y>#</y><d>2016-02-17</d><h>03:44</h><w>cfleming</w>Me either.</z><z id="t1455680719" t="cfleming The async nature of this integration makes a lot of the edge case rules pretty hard."><y>#</y><d>2016-02-17</d><h>03:45</h><w>cfleming</w>The async nature of this integration makes a lot of the edge case rules pretty hard.</z><z id="t1455680745" t="shaunlebron do you at least have a guaranteed order?"><y>#</y><d>2016-02-17</d><h>03:45</h><w>shaunlebron</w>do you at least have a guaranteed order?</z><z id="t1455680763" t="shaunlebron i.e. key event comes before document update event?"><y>#</y><d>2016-02-17</d><h>03:46</h><w>shaunlebron</w>i.e. key event comes before document update event?</z><z id="t1455680922" t="cfleming Yes, but it’s tricky due to the multiple document model."><y>#</y><d>2016-02-17</d><h>03:48</h><w>cfleming</w>Yes, but it’s tricky due to the multiple document model.</z><z id="t1455680966" t="cfleming I may have to try something more complicated where I try to detect key events and work out whether doc changes are as a result of them."><y>#</y><d>2016-02-17</d><h>03:49</h><w>cfleming</w>I may have to try something more complicated where I try to detect key events and work out whether doc changes are as a result of them.</z><z id="t1455681014" t="cfleming More or less what Dmitry suggested in the forum."><y>#</y><d>2016-02-17</d><h>03:50</h><w>cfleming</w>More or less what Dmitry suggested in the forum.</z><z id="t1455681053" t="cfleming But events like cut &amp; paste are tricky, since someone could paste a carriage return in there instead of pressing enter."><y>#</y><d>2016-02-17</d><h>03:50</h><w>cfleming</w>But events like cut &amp; paste are tricky, since someone could paste a carriage return in there instead of pressing enter.</z><z id="t1455681101" t="cfleming And doc changes as a result of other events like code reformatting are hard too, or at least have potential for lots of edge cases."><y>#</y><d>2016-02-17</d><h>03:51</h><w>cfleming</w>And doc changes as a result of other events like code reformatting are hard too, or at least have potential for lots of edge cases.</z><z id="t1455681838" t="shaunlebron yeah, these edge cases seem difficult"><y>#</y><d>2016-02-17</d><h>04:03</h><w>shaunlebron</w>yeah, these edge cases seem difficult</z><z id="t1455681865" t="shaunlebron that is my fear when I think about straying from mode invariants"><y>#</y><d>2016-02-17</d><h>04:04</h><w>shaunlebron</w>that is my fear when I think about straying from mode invariants</z><z id="t1455682073" t="cfleming yeah, I can totally understand that."><y>#</y><d>2016-02-17</d><h>04:07</h><w>cfleming</w>yeah, I can totally understand that.</z><z id="t1455682109" t="cfleming But things like the paren clamping are already changing those invariants to make things more intuitive/correct."><y>#</y><d>2016-02-17</d><h>04:08</h><w>cfleming</w>But things like the paren clamping are already changing those invariants to make things more intuitive/correct.</z><z id="t1455682266" t="cfleming BTW I really like the idea of having the tests in Markdown - I wish I’d thought of that."><y>#</y><d>2016-02-17</d><h>04:11</h><w>cfleming</w>BTW I really like the idea of having the tests in Markdown - I wish I’d thought of that.</z><z id="t1455682289" t="cfleming Currently I have a ton of test cases with the before/after cases in strings, which is really ugly."><y>#</y><d>2016-02-17</d><h>04:11</h><w>cfleming</w>Currently I have a ton of test cases with the before/after cases in strings, which is really ugly.</z><z id="t1455682319" t="cfleming I was going to have them in separate files, but then you end up with thousands of them."><y>#</y><d>2016-02-17</d><h>04:11</h><w>cfleming</w>I was going to have them in separate files, but then you end up with thousands of them.</z><z id="t1455682329" t="cfleming I’ll be stealing that one simple_smile"><y>#</y><d>2016-02-17</d><h>04:12</h><w>cfleming</w>I’ll be stealing that one <b>simple_smile</b></z><z id="t1455682486" t="shaunlebron haha, cool"><y>#</y><d>2016-02-17</d><h>04:14</h><w>shaunlebron</w>haha, cool</z><z id="t1455682516" t="shaunlebron I just hate escaped syntax"><y>#</y><d>2016-02-17</d><h>04:15</h><w>shaunlebron</w>I just hate escaped syntax</z><z id="t1455682548" t="shaunlebron what are your test cases for?"><y>#</y><d>2016-02-17</d><h>04:15</h><w>shaunlebron</w>what are your test cases for?</z><z id="t1455682593" t="cfleming Tons of things - all the paredit stuff, for example."><y>#</y><d>2016-02-17</d><h>04:16</h><w>cfleming</w>Tons of things - all the paredit stuff, for example.</z><z id="t1455682656" t="cfleming I create files in syntax like (some test &lt;caret&gt; code) which I use to create an editor with a caret, then I run an action (e.g. slurp, barf, whatever) and then check that the output matches (some test) &lt;caret&gt;code or whatever."><y>#</y><d>2016-02-17</d><h>04:17</h><w>cfleming</w>I create files in syntax like <code>(some test &lt;caret&gt; code)</code> which I use to create an editor with a caret, then I run an action (e.g. slurp, barf, whatever) and then check that the output matches <code>(some test) &lt;caret&gt;code</code> or whatever.</z><z id="t1455682684" t="cfleming But lots of them are multiline, and the formatting is important, so I can’t just use quoted forms."><y>#</y><d>2016-02-17</d><h>04:18</h><w>cfleming</w>But lots of them are multiline, and the formatting is important, so I can’t just use quoted forms.</z><z id="t1455682748" t="cfleming IntelliJ actually has very few unit tests, they’re mostly of that type - set up a scenario, do some interaction, check the result. It’s much more robust to refactoring the underlying code than unit tests are."><y>#</y><d>2016-02-17</d><h>04:19</h><w>cfleming</w>IntelliJ actually has very few unit tests, they’re mostly of that type - set up a scenario, do some interaction, check the result. It’s much more robust to refactoring the underlying code than unit tests are.</z><z id="t1455682761" t="cfleming I have a mix but probably 90% are interaction tests like that."><y>#</y><d>2016-02-17</d><h>04:19</h><w>cfleming</w>I have a mix but probably 90% are interaction tests like that.</z><z id="t1455682827" t="shaunlebron cool, seems like a lot to test then"><y>#</y><d>2016-02-17</d><h>04:20</h><w>shaunlebron</w>cool, seems like a lot to test then</z><z id="t1455682841" t="cfleming Yeah, I have around 2000 tests I think."><y>#</y><d>2016-02-17</d><h>04:20</h><w>cfleming</w>Yeah, I have around 2000 tests I think.</z><z id="t1455682844" t="shaunlebron i’m a bit spoiled by parinfer testing, it’s nice just thinking of pure functions"><y>#</y><d>2016-02-17</d><h>04:20</h><w>shaunlebron</w>i’m a bit spoiled by parinfer testing, it’s nice just thinking of pure functions</z><z id="t1455682862" t="shaunlebron rather than interactions I mean"><y>#</y><d>2016-02-17</d><h>04:21</h><w>shaunlebron</w>rather than interactions I mean</z><z id="t1455682939" t="cfleming Right - lots of the tests are quite complex: Set up file1 to look like this, file2 to look like this, then make file3 look like this, run autocompletion, select the element called “foo” and make sure that the output of the files looks like file1’, file2’, file3&apos;"><y>#</y><d>2016-02-17</d><h>04:22</h><w>cfleming</w>Right - lots of the tests are quite complex: Set up file1 to look like this, file2 to look like this, then make file3 look like this, run autocompletion, select the element called “foo” and make sure that the output of the files looks like file1’, file2’, file3&apos;</z><z id="t1455682975" t="cfleming Even with all that, things still break - it’s just so complicated."><y>#</y><d>2016-02-17</d><h>04:22</h><w>cfleming</w>Even with all that, things still break - it’s just so complicated.</z><z id="t1455682982" t="shaunlebron really interesting"><y>#</y><d>2016-02-17</d><h>04:23</h><w>shaunlebron</w>really interesting</z><z id="t1455682986" t="cfleming And lots of UI stuff is difficult to test."><y>#</y><d>2016-02-17</d><h>04:23</h><w>cfleming</w>And lots of UI stuff is difficult to test.</z><z id="t1455682999" t="shaunlebron I’m really curious about how others do UI testing"><y>#</y><d>2016-02-17</d><h>04:23</h><w>shaunlebron</w>I’m really curious about how others do UI testing</z><z id="t1455683014" t="shaunlebron it seemed like a mess when I tried it"><y>#</y><d>2016-02-17</d><h>04:23</h><w>shaunlebron</w>it seemed like a mess when I tried it</z><z id="t1455683020" t="shaunlebron so many different layers to it"><y>#</y><d>2016-02-17</d><h>04:23</h><w>shaunlebron</w>so many different layers to it</z><z id="t1455683021" t="cfleming It generally is a mess."><y>#</y><d>2016-02-17</d><h>04:23</h><w>cfleming</w>It generally is a mess.</z><z id="t1455683045" t="shaunlebron and also trying to decide at which level to test"><y>#</y><d>2016-02-17</d><h>04:24</h><w>shaunlebron</w>and also trying to decide at which level to test</z><z id="t1455683067" t="cfleming JetBrains basically don’t test the UI, nearly all their tests are model based as I described, and they assume that the UI works."><y>#</y><d>2016-02-17</d><h>04:24</h><w>cfleming</w>JetBrains basically don’t test the UI, nearly all their tests are model based as I described, and they assume that the UI works.</z><z id="t1455683069" t="shaunlebron and brittleness of tests is a big issue for UI, unless design is done"><y>#</y><d>2016-02-17</d><h>04:24</h><w>shaunlebron</w>and brittleness of tests is a big issue for UI, unless design is done</z><z id="t1455683077" t="cfleming They probably do some manual testing too I guess."><y>#</y><d>2016-02-17</d><h>04:24</h><w>cfleming</w>They probably do some manual testing too I guess.</z><z id="t1455683104" t="shaunlebron i was handed a spreadsheet of things to check before our last deploy at stripe"><y>#</y><d>2016-02-17</d><h>04:25</h><w>shaunlebron</w>i was handed a spreadsheet of things to check before our last deploy at stripe</z><z id="t1455683113" t="shaunlebron made me think, hmmm"><y>#</y><d>2016-02-17</d><h>04:25</h><w>shaunlebron</w>made me think, hmmm</z><z id="t1455683118" t="cfleming yeah, I think that’s really common."><y>#</y><d>2016-02-17</d><h>04:25</h><w>cfleming</w>yeah, I think that’s really common.</z><z id="t1455683155" t="cfleming For web stuff, Selenium is really good I think, but it doesn’t help with design/layout bugs."><y>#</y><d>2016-02-17</d><h>04:25</h><w>cfleming</w>For web stuff, Selenium is really good I think, but it doesn’t help with design/layout bugs.</z><z id="t1455683171" t="cfleming There are tools that compare image snapshots, but I think they’re very brittle."><y>#</y><d>2016-02-17</d><h>04:26</h><w>cfleming</w>There are tools that compare image snapshots, but I think they’re very brittle.</z><z id="t1455683205" t="shaunlebron stripe uses bitmap testing for the style guide, i think that makes sense"><y>#</y><d>2016-02-17</d><h>04:26</h><w>shaunlebron</w>stripe uses bitmap testing for the style guide, i think that makes sense</z><z id="t1455683217" t="shaunlebron but for UIs in development, i don’t see much value in that"><y>#</y><d>2016-02-17</d><h>04:26</h><w>shaunlebron</w>but for UIs in development, i don’t see much value in that</z><z id="t1455683249" t="shaunlebron i was looking at a stub/mock/spy framework that we use"><y>#</y><d>2016-02-17</d><h>04:27</h><w>shaunlebron</w>i was looking at a stub/mock/spy framework that we use</z><z id="t1455683279" t="shaunlebron so much effort going into stubbing out function paths and verifying if certain things are being called, and how many times"><y>#</y><d>2016-02-17</d><h>04:27</h><w>shaunlebron</w>so much effort going into stubbing out function paths and verifying if certain things are being called, and how many times</z><z id="t1455683308" t="cfleming Ugh"><y>#</y><d>2016-02-17</d><h>04:28</h><w>cfleming</w>Ugh</z><z id="t1455683319" t="cfleming Those are really brittle too, in my experience."><y>#</y><d>2016-02-17</d><h>04:28</h><w>cfleming</w>Those are really brittle too, in my experience.</z><z id="t1455683320" t="shaunlebron and my last job had me writing tests in english, using cucumber"><y>#</y><d>2016-02-17</d><h>04:28</h><w>shaunlebron</w>and my last job had me writing tests in english, using cucumber</z><z id="t1455683335" t="shaunlebron so the PM and QAs could write them"><y>#</y><d>2016-02-17</d><h>04:28</h><w>shaunlebron</w>so the PM and QAs could write them</z><z id="t1455683340" t="shaunlebron just didn’t work in practice"><y>#</y><d>2016-02-17</d><h>04:29</h><w>shaunlebron</w>just didn’t work in practice</z><z id="t1455683346" t="cfleming Did you like cucumber? A few people have asked for it."><y>#</y><d>2016-02-17</d><h>04:29</h><w>cfleming</w>Did you like cucumber? A few people have asked for it.</z><z id="t1455683348" t="shaunlebron for what I tried anyway"><y>#</y><d>2016-02-17</d><h>04:29</h><w>shaunlebron</w>for what I tried anyway</z><z id="t1455683351" t="cfleming For Cursive, that is."><y>#</y><d>2016-02-17</d><h>04:29</h><w>cfleming</w>For Cursive, that is.</z><z id="t1455683353" t="cfleming Ok"><y>#</y><d>2016-02-17</d><h>04:29</h><w>cfleming</w>Ok</z><z id="t1455683372" t="shaunlebron I didn’t read the full cucumber book, so I may not have used it correctly"><y>#</y><d>2016-02-17</d><h>04:29</h><w>shaunlebron</w>I didn’t read the full cucumber book, so I may not have used it correctly</z><z id="t1455683375" t="cfleming I think there’s a lot of value in them being able to understand the tests."><y>#</y><d>2016-02-17</d><h>04:29</h><w>cfleming</w>I think there’s a lot of value in them being able to understand the tests.</z><z id="t1455683379" t="shaunlebron I really liked the philosophy of it"><y>#</y><d>2016-02-17</d><h>04:29</h><w>shaunlebron</w>I really liked the philosophy of it</z><z id="t1455683383" t="cfleming Not necessarily write them."><y>#</y><d>2016-02-17</d><h>04:29</h><w>cfleming</w>Not necessarily write them.</z><z id="t1455683391" t="shaunlebron agree"><y>#</y><d>2016-02-17</d><h>04:29</h><w>shaunlebron</w>agree</z><z id="t1455683428" t="shaunlebron I think it’d work great outside of UI actually"><y>#</y><d>2016-02-17</d><h>04:30</h><w>shaunlebron</w>I think it’d work great outside of UI actually</z><z id="t1455683454" t="cfleming In my last job we made a graphical UI and language for modelling transaction flows. The idea was that technical business analysts would be able to design the flows, but that turned out to be a pipe dream. But it was really valuable that they could understand them."><y>#</y><d>2016-02-17</d><h>04:30</h><w>cfleming</w>In my last job we made a graphical UI and language for modelling transaction flows. The idea was that technical business analysts would be able to design the flows, but that turned out to be a pipe dream. But it was really valuable that they could understand them.</z><z id="t1455683483" t="shaunlebron right on"><y>#</y><d>2016-02-17</d><h>04:31</h><w>shaunlebron</w>right on</z><z id="t1455683517" t="shaunlebron even though this idea might fail a lot, i think it’s important to keep trying for sure"><y>#</y><d>2016-02-17</d><h>04:31</h><w>shaunlebron</w>even though this idea might fail a lot, i think it’s important to keep trying for sure</z><z id="t1455683529" t="cfleming Parinfer, you mean?"><y>#</y><d>2016-02-17</d><h>04:32</h><w>cfleming</w>Parinfer, you mean?</z></g><g id="s6"><z id="t1455683542" t="shaunlebron oh, invisible segue"><y>#</y><d>2016-02-17</d><h>04:32</h><w>shaunlebron</w>oh, invisible segue</z><z id="t1455683545" t="cfleming hehe"><y>#</y><d>2016-02-17</d><h>04:32</h><w>cfleming</w>hehe</z><z id="t1455683547" t="shaunlebron ha"><y>#</y><d>2016-02-17</d><h>04:32</h><w>shaunlebron</w>ha</z><z id="t1455683570" t="shaunlebron it reminded me of visual representation for designing flows"><y>#</y><d>2016-02-17</d><h>04:32</h><w>shaunlebron</w>it reminded me of visual representation for designing flows</z><z id="t1455683605" t="shaunlebron nasa tried something similar for creating their software, so that requirements could be specified in flow, and then directly executed"><y>#</y><d>2016-02-17</d><h>04:33</h><w>shaunlebron</w>nasa tried something similar for creating their software, so that requirements could be specified in flow, and then directly executed</z><z id="t1455683616" t="cfleming Interesting."><y>#</y><d>2016-02-17</d><h>04:33</h><w>cfleming</w>Interesting.</z><z id="t1455683627" t="cfleming We found it didn’t work that well."><y>#</y><d>2016-02-17</d><h>04:33</h><w>cfleming</w>We found it didn’t work that well.</z><z id="t1455683674" t="cfleming We would have been better off with a language or DSL that forced a strict development model on actual code, which you could then introspect to produce the graphical flows from for consumption by BAs or whoever."><y>#</y><d>2016-02-17</d><h>04:34</h><w>cfleming</w>We would have been better off with a language or DSL that forced a strict development model on actual code, which you could then introspect to produce the graphical flows from for consumption by BAs or whoever.</z><z id="t1455683688" t="shaunlebron it turns out that text is better for skimming large code bases, and visual flowcharts lose their benefit once they get too large"><y>#</y><d>2016-02-17</d><h>04:34</h><w>shaunlebron</w>it turns out that text is better for skimming large code bases, and visual flowcharts lose their benefit once they get too large</z><z id="t1455683690" t="cfleming One thing it did work extremely well for was selling the project."><y>#</y><d>2016-02-17</d><h>04:34</h><w>cfleming</w>One thing it did work extremely well for was selling the project.</z><z id="t1455683706" t="cfleming Customers love a pretty picture."><y>#</y><d>2016-02-17</d><h>04:35</h><w>cfleming</w>Customers love a pretty picture.</z><z id="t1455683788" t="shaunlebron yeah, that DSL idea seems ideal"><y>#</y><d>2016-02-17</d><h>04:36</h><w>shaunlebron</w>yeah, that DSL idea seems ideal</z><z id="t1455683801" t="shaunlebron everyone loves a pretty picture"><y>#</y><d>2016-02-17</d><h>04:36</h><w>shaunlebron</w>everyone loves a pretty picture</z><z id="t1455683835" t="cfleming Not the developers when they’d rather express what they’re doing in code simple_smile"><y>#</y><d>2016-02-17</d><h>04:37</h><w>cfleming</w>Not the developers when they’d rather express what they’re doing in code <b>simple_smile</b></z><z id="t1455683867" t="shaunlebron haha, true"><y>#</y><d>2016-02-17</d><h>04:37</h><w>shaunlebron</w>haha, true</z><z id="t1455683901" t="shaunlebron did you design cursive website?"><y>#</y><d>2016-02-17</d><h>04:38</h><w>shaunlebron</w>did you design cursive website?</z><z id="t1455683909" t="cfleming yeah, I did"><y>#</y><d>2016-02-17</d><h>04:38</h><w>cfleming</w>yeah, I did</z><z id="t1455683913" t="cfleming It could use a little love"><y>#</y><d>2016-02-17</d><h>04:38</h><w>cfleming</w>It could use a little love</z><z id="t1455683937" t="cfleming A lot, in fact. I’m about to start re-vamping the doc, which is sadly out of date."><y>#</y><d>2016-02-17</d><h>04:38</h><w>cfleming</w>A lot, in fact. I’m about to start re-vamping the doc, which is sadly out of date.</z><z id="t1455683948" t="shaunlebron nah, I think the typography is good"><y>#</y><d>2016-02-17</d><h>04:39</h><w>shaunlebron</w>nah, I think the typography is good</z><z id="t1455683971" t="cfleming I’m actually considering trying to pull the whole user guide into the IDE as an interactive tutorial."><y>#</y><d>2016-02-17</d><h>04:39</h><w>cfleming</w>I’m actually considering trying to pull the whole user guide into the IDE as an interactive tutorial.</z><z id="t1455683984" t="cfleming Thanks, that’s mostly Skeleton’s doing."><y>#</y><d>2016-02-17</d><h>04:39</h><w>cfleming</w>Thanks, that’s mostly Skeleton’s doing.</z><z id="t1455684002" t="cfleming Although I swapped out their font, I don’t like Raleway"><y>#</y><d>2016-02-17</d><h>04:40</h><w>cfleming</w>Although I swapped out their font, I don’t like Raleway</z><z id="t1455684039" t="cfleming The animations are neat, though, I stole the idea from the competition: https://www.sublimetext.com/~jps/animated_gifs_the_hard_way.html"><y>#</y><d>2016-02-17</d><h>04:40</h><w>cfleming</w>The animations are neat, though, I stole the idea from the competition: <a href="https://www.sublimetext.com/~jps/animated_gifs_the_hard_way.html" target="_blank">https://www.sublimetext.com/~jps/animated_gifs_the_hard_way.html</a></z><z id="t1455684118" t="shaunlebron nice"><y>#</y><d>2016-02-17</d><h>04:41</h><w>shaunlebron</w>nice</z><z id="t1455684165" t="shaunlebron i wonder if mp4 is supported enough"><y>#</y><d>2016-02-17</d><h>04:42</h><w>shaunlebron</w>i wonder if mp4 is supported enough</z><z id="t1455684174" t="shaunlebron and if it would look as sharp"><y>#</y><d>2016-02-17</d><h>04:42</h><w>shaunlebron</w>and if it would look as sharp</z><z id="t1455684189" t="cfleming Probably not, that’s basically lossless true colour"><y>#</y><d>2016-02-17</d><h>04:43</h><w>cfleming</w>Probably not, that’s basically lossless true colour</z><z id="t1455684218" t="cfleming And even if you rely on canvas and ditch the fallback, it still works pretty much everywhere (including phones etc)"><y>#</y><d>2016-02-17</d><h>04:43</h><w>cfleming</w>And even if you rely on canvas and ditch the fallback, it still works pretty much everywhere (including phones etc)</z><z id="t1455684245" t="shaunlebron ah, there you go"><y>#</y><d>2016-02-17</d><h>04:44</h><w>shaunlebron</w>ah, there you go</z><z id="t1455684277" t="cfleming I found the images got a lot bigger when doing non-trivial demos including autocomplete dropdowns etc - the diffs got a lot bigger."><y>#</y><d>2016-02-17</d><h>04:44</h><w>cfleming</w>I found the images got a lot bigger when doing non-trivial demos including autocomplete dropdowns etc - the diffs got a lot bigger.</z><z id="t1455684307" t="cfleming If I did this as an interactive tutorial I could do something similar to what you did with codemirror."><y>#</y><d>2016-02-17</d><h>04:45</h><w>cfleming</w>If I did this as an interactive tutorial I could do something similar to what you did with codemirror.</z><z id="t1455684350" t="cfleming Which would be much easier to keep up to date - some of those animations on the website are from IntelliJ 12 and a version of Cursive from 2 years ago."><y>#</y><d>2016-02-17</d><h>04:45</h><w>cfleming</w>Which would be much easier to keep up to date - some of those animations on the website are from IntelliJ 12 and a version of Cursive from 2 years ago.</z><z id="t1455684406" t="cfleming I have about half a system written that would allow me to record them as macros, but there’s still a bunch of manual steps I’d have to do for things you can’t script easily."><y>#</y><d>2016-02-17</d><h>04:46</h><w>cfleming</w>I have about half a system written that would allow me to record them as macros, but there’s still a bunch of manual steps I’d have to do for things you can’t script easily.</z><z id="t1455684413" t="cfleming (much like testing)."><y>#</y><d>2016-02-17</d><h>04:46</h><w>cfleming</w>(much like testing).</z><z id="t1455684475" t="shaunlebron right, but not even sure how you would simulate cursive in the browser..."><y>#</y><d>2016-02-17</d><h>04:47</h><w>shaunlebron</w>right, but not even sure how you would simulate cursive in the browser...</z><z id="t1455684502" t="cfleming Well, if i did them as an interactive tutorial they’d be inside Cursive itself."><y>#</y><d>2016-02-17</d><h>04:48</h><w>cfleming</w>Well, if i did them as an interactive tutorial they’d be inside Cursive itself.</z><z id="t1455684512" t="cfleming And I wouldn’t even have an online user guide."><y>#</y><d>2016-02-17</d><h>04:48</h><w>cfleming</w>And I wouldn’t even have an online user guide.</z><z id="t1455684542" t="cfleming I have some ideas about something like a typing tutor for paredit, for example, that could work well with that."><y>#</y><d>2016-02-17</d><h>04:49</h><w>cfleming</w>I have some ideas about something like a typing tutor for paredit, for example, that could work well with that.</z><z id="t1455684563" t="shaunlebron that makes more sense, haha"><y>#</y><d>2016-02-17</d><h>04:49</h><w>shaunlebron</w>that makes more sense, haha</z><z id="t1455684576" t="shaunlebron yeah, that’d be great"><y>#</y><d>2016-02-17</d><h>04:49</h><w>shaunlebron</w>yeah, that’d be great</z><z id="t1455684590" t="cfleming Ok, got to go. I think this change is probably getting too big. I’m going to try a smaller refactoring tomorrow which would create a small set of diffs instead of replacing the whole thing, and a few related changes."><y>#</y><d>2016-02-17</d><h>04:49</h><w>cfleming</w>Ok, got to go. I think this change is probably getting too big. I’m going to try a smaller refactoring tomorrow which would create a small set of diffs instead of replacing the whole thing, and a few related changes.</z><z id="t1455684614" t="shaunlebron alright, sounds good"><y>#</y><d>2016-02-17</d><h>04:50</h><w>shaunlebron</w>alright, sounds good</z><z id="t1455684636" t="cfleming I think I’m going to modify paren mode to return the lines which need reindenting, and then I’ll reindent them accurately using the Cursive engine."><y>#</y><d>2016-02-17</d><h>04:50</h><w>cfleming</w>I think I’m going to modify paren mode to return the lines which need reindenting, and then I’ll reindent them accurately using the Cursive engine.</z><z id="t1455684662" t="shaunlebron yeah, auto-indent has to happen somehow like that"><y>#</y><d>2016-02-17</d><h>04:51</h><w>shaunlebron</w>yeah, auto-indent has to happen somehow like that</z><z id="t1455684702" t="shaunlebron you might be able to get away with just auto-indent the parent form altogether, unless speed is really that bad"><y>#</y><d>2016-02-17</d><h>04:51</h><w>shaunlebron</w>you might be able to get away with just auto-indent the parent form altogether, unless speed is really that bad</z><z id="t1455684709" t="shaunlebron but yeah, talk to you later"><y>#</y><d>2016-02-17</d><h>04:51</h><w>shaunlebron</w>but yeah, talk to you later</z><z id="t1455684747" t="cfleming That’s what I’m thinking, I’ll identify the top-level forms and wholly reindent them. Cursive will have to do the expensive part of the reindentation for that anyway."><y>#</y><d>2016-02-17</d><h>04:52</h><w>cfleming</w>That’s what I’m thinking, I’ll identify the top-level forms and wholly reindent them. Cursive will have to do the expensive part of the reindentation for that anyway.</z><z id="t1455684750" t="cfleming Ok, seeya"><y>#</y><d>2016-02-17</d><h>04:52</h><w>cfleming</w>Ok, seeya</z><z id="t1455737889" t="shaunlebron i got parinfer returning the cursor position this morning"><y>#</y><d>2016-02-17</d><h>19:38</h><w>shaunlebron</w>i got parinfer returning the cursor position this morning</z><z id="t1455737961" t="shaunlebron gonna add more test cases tonight to confirm"><y>#</y><d>2016-02-17</d><h>19:39</h><w>shaunlebron</w>gonna add more test cases tonight to confirm</z><z id="t1455738009" t="shaunlebron thanks cfleming for the push. way simpler than i thought. really important feature too"><y>#</y><d>2016-02-17</d><h>19:40</h><w>shaunlebron</w>thanks cfleming for the push. way simpler than i thought. really important feature too</z><z id="t1455742914" t="sekao [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : that’s pretty cool, is that mainly to make it easier to reposition the cursor after hitting enter? i’m adding parinfer to paren-soup and already got that working but it would still be useful"><y>#</y><d>2016-02-17</d><h>21:01</h><w>sekao</w><a>@shaunlebron</a>: that’s pretty cool, is that mainly to make it easier to reposition the cursor after hitting enter? i’m adding parinfer to paren-soup and already got that working but it would still be useful</z><z id="t1455746638" t="shaunlebron [:attrs {:href &quot;/_/_/users/U080181PF&quot;}] : oh hey zach 🙂"><y>#</y><d>2016-02-17</d><h>22:03</h><w>shaunlebron</w><a>@sekao</a>: oh hey zach <b>🙂</b></z><z id="t1455746689" t="shaunlebron yeah this actually takes care of a few other cases. not just pressing enter"><y>#</y><d>2016-02-17</d><h>22:04</h><w>shaunlebron</w>yeah this actually takes care of a few other cases. not just pressing enter</z><z id="t1455746741" t="shaunlebron for example, it will keep your cursor from moving if you insert a close-paren that parinfer removes"><y>#</y><d>2016-02-17</d><h>22:05</h><w>shaunlebron</w>for example, it will keep your cursor from moving if you insert a close-paren that parinfer removes</z><z id="t1455746850" t="shaunlebron any case where some part of the line before the cursor is added or removed"><y>#</y><d>2016-02-17</d><h>22:07</h><w>shaunlebron</w>any case where some part of the line before the cursor is added or removed</z><z id="t1455747617" t="sekao hey greetings shaun — that sounds perfect, i’ll keep an eye out for that update. i only spent last night shoehorning it into paren-soup and it is already way nicer to use than the current release version. i definitely want to add this to nightcode as well."><y>#</y><d>2016-02-17</d><h>22:20</h><w>sekao</w>hey greetings shaun — that sounds perfect, i’ll keep an eye out for that update. i only spent last night shoehorning it into paren-soup and it is already way nicer to use than the current release version. i definitely want to add this to nightcode as well.</z><z id="t1455749282" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : Oh great, thanks for that! I’ll look at the change and if I have time I’ll port the changes over to the JVM version."><y>#</y><d>2016-02-17</d><h>22:48</h><w>cfleming</w><a>@shaunlebron</a>: Oh great, thanks for that! I’ll look at the change and if I have time I’ll port the changes over to the JVM version.</z><z id="t1455749314" t="cfleming I’m going to see if I can get the tests running in the JVM version using Gradle too, to avoid having to install before testing."><y>#</y><d>2016-02-17</d><h>22:48</h><w>cfleming</w>I’m going to see if I can get the tests running in the JVM version using Gradle too, to avoid having to install before testing.</z><z id="t1455750922" t="shaunlebron great, i&apos;ll post a note in here about the change when i release"><y>#</y><d>2016-02-17</d><h>23:15</h><w>shaunlebron</w>great, i&apos;ll post a note in here about the change when i release</z><z id="t1455750987" t="shaunlebron luckily the change is really small, so we can update ports pretty easily"><y>#</y><d>2016-02-17</d><h>23:16</h><w>shaunlebron</w>luckily the change is really small, so we can update ports pretty easily</z><z id="t1455751175" t="shaunlebron [:attrs {:href &quot;/_/_/users/U080181PF&quot;}] : excited to see parinfer in night code! also glad parinfer-jvm is already taken care of for that"><y>#</y><d>2016-02-17</d><h>23:19</h><w>shaunlebron</w><a>@sekao</a>:  excited to see parinfer in night code! also glad parinfer-jvm is already taken care of for that</z><z id="t1455819564" t="shaunlebron parinfer 1.6.0 is published to npm"><y>#</y><d>2016-02-18</d><h>18:19</h><w>shaunlebron</w>parinfer 1.6.0 is published to npm</z><z id="t1455819592" t="shaunlebron returns the cursor position (so that modifications to a line shift the cursor appropriately)"><y>#</y><d>2016-02-18</d><h>18:19</h><w>shaunlebron</w>returns the cursor position (so that modifications to a line shift the cursor appropriately)</z><z id="t1455819656" t="shaunlebron for users, cursorX is always returned from the mode functions, so always update the cursor with that"><y>#</y><d>2016-02-18</d><h>18:20</h><w>shaunlebron</w>for users, <code>cursorX</code> is always returned from the mode functions, so always update the cursor with that</z><z id="t1455819695" t="shaunlebron for porting, see the following pull request, which splits the code/tester/cases/doc changes into individual commits for easy reading"><y>#</y><d>2016-02-18</d><h>18:21</h><w>shaunlebron</w>for porting, see the following pull request, which splits the code/tester/cases/doc changes into individual commits for easy reading</z><z id="t1455819699" t="shaunlebron https://github.com/shaunlebron/parinfer/pull/96"><y>#</y><d>2016-02-18</d><h>18:21</h><w>shaunlebron</w><a href="https://github.com/shaunlebron/parinfer/pull/96" target="_blank">https://github.com/shaunlebron/parinfer/pull/96</a></z><z id="t1455826375" t="sekao hey [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] i tried out the new version was wondering if this was intended: parinfer.indentMode(&quot;(&quot;, {cursorLine: 0, cursorX: 1}) returns {text: &quot;()&quot;, cursorX: 2} (among other things). that seems to mean that typing an open paren moves the cursor after the closing brace."><y>#</y><d>2016-02-18</d><h>20:12</h><w>sekao</w>hey <a>@shaunlebron</a> i tried out the new version was wondering if this was intended: <code>parinfer.indentMode(&quot;(&quot;, {cursorLine: 0, cursorX: 1})</code> returns <code>{text: &quot;()&quot;, cursorX: 2}</code> (among other things). that seems to mean that typing an open paren moves the cursor after the closing brace.</z><z id="t1455827080" t="shaunlebron [:attrs {:href &quot;/_/_/users/U080181PF&quot;}] thanks. def a bug"><y>#</y><d>2016-02-18</d><h>20:24</h><w>shaunlebron</w><a>@sekao</a> thanks. def a bug</z><z id="t1455827200" t="shaunlebron looks like i missed a basic use case. will add a test case for that, and actually play with it in an editor to see what else i missed"><y>#</y><d>2016-02-18</d><h>20:26</h><w>shaunlebron</w>looks like i missed a basic use case. will add a test case for that, and actually play with it in an editor to see what else i missed</z><z id="t1455848209" t="cfleming [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] : Heads up, some big changes to code organisation in parinfer-jvm"><y>#</y><d>2016-02-19</d><h>02:16</h><w>cfleming</w><a>@chrisoakman</a>: Heads up, some big changes to code organisation in parinfer-jvm</z><z id="t1455848230" t="cfleming It all uses Gradle now and is in a single module, which avoids needing to install to run the unit tests."><y>#</y><d>2016-02-19</d><h>02:17</h><w>cfleming</w>It all uses Gradle now and is in a single module, which avoids needing to install to run the unit tests.</z><z id="t1455848244" t="cfleming Running the perf tests is slightly ugly, but other than that it’s a good change."><y>#</y><d>2016-02-19</d><h>02:17</h><w>cfleming</w>Running the perf tests is slightly ugly, but other than that it’s a good change.</z><z id="t1455857333" t="cfleming I’m getting some failures trying to run the tests on parinfer (JS):"><y>#</y><d>2016-02-19</d><h>04:48</h><w>cfleming</w>I’m getting some failures trying to run the tests on parinfer (JS):</z><z id="t1455857370" t="cfleming Returning changed lines 1) indent mode: single change 2) indent mode: multiple changes 3) paren mode: single change 4) paren mode: multiple changes 67 passing (33ms) 4 failing 1) Returning changed lines indent mode: single change: TypeError: undefined is not a function at checkLines (test/extras.js:37:10) at Context.&lt;anonymous&gt; (test/extras.js:41:51) 2) Returning changed lines indent mode: multiple changes: TypeError: undefined is not a function at checkLines (test/extras.js:37:10) at Context.&lt;anonymous&gt; (test/extras.js:42:51) 3) Returning changed lines paren mode: single change: TypeError: undefined is not a function at checkLines (test/extras.js:37:10) at Context.&lt;anonymous&gt; (test/extras.js:44:51) 4) Returning changed lines paren mode: multiple changes: TypeError: undefined is not a function at checkLines (test/extras.js:37:10) at Context.&lt;anonymous&gt; (test/extras.js:45:51) npm ERR! Test failed. See above for more details. ~/d/p/lib (master)&gt; git status On branch master Your branch is up-to-date with &apos;origin/master&apos;. nothing to commit, working directory clean ~/d/p/lib (master)&gt; "><y>#</y><d>2016-02-19</d><h>04:49</h><w>cfleming</w><pre>Returning changed lines
    1) indent mode: single change
    2) indent mode: multiple changes
    3) paren mode: single change
    4) paren mode: multiple changes


  67 passing (33ms)
  4 failing

  1) Returning changed lines indent mode: single change:
     TypeError: undefined is not a function
      at checkLines (test/extras.js:37:10)
      at Context.&lt;anonymous&gt; (test/extras.js:41:51)

  2) Returning changed lines indent mode: multiple changes:
     TypeError: undefined is not a function
      at checkLines (test/extras.js:37:10)
      at Context.&lt;anonymous&gt; (test/extras.js:42:51)

  3) Returning changed lines paren mode: single change:
     TypeError: undefined is not a function
      at checkLines (test/extras.js:37:10)
      at Context.&lt;anonymous&gt; (test/extras.js:44:51)

  4) Returning changed lines paren mode: multiple changes:
     TypeError: undefined is not a function
      at checkLines (test/extras.js:37:10)
      at Context.&lt;anonymous&gt; (test/extras.js:45:51)



npm ERR! Test failed.  See above for more details.
~/d/p/lib (master)&gt; git status
On branch master
Your branch is up-to-date with &apos;origin/master&apos;.
nothing to commit, working directory clean
~/d/p/lib (master)&gt;
</pre></z><z id="t1455860916" t="shaunlebron parinfer 1.6.1 published, fixes the bug that [:attrs {:href &quot;/_/_/users/U080181PF&quot;}] reported"><y>#</y><d>2016-02-19</d><h>05:48</h><w>shaunlebron</w>parinfer 1.6.1 published, fixes the bug that <a>@sekao</a> reported</z><z id="t1455861061" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : thanks for report, looks like a node version problem"><y>#</y><d>2016-02-19</d><h>05:51</h><w>shaunlebron</w><a>@cfleming</a>: thanks for report, looks like a node version problem</z><z id="t1455861077" t="shaunlebron assert.deepStrictEqual probably wasn’t available in older versions"><y>#</y><d>2016-02-19</d><h>05:51</h><w>shaunlebron</w><code>assert.deepStrictEqual</code> probably wasn’t available in older versions</z><z id="t1455861112" t="shaunlebron I’m running node v5.2, locally and on travis-ci"><y>#</y><d>2016-02-19</d><h>05:51</h><w>shaunlebron</w>I’m running node v5.2, locally and on travis-ci</z><z id="t1455872729" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : Looks like that was it, thanks - an upgrade and some faffing around later and it’s working."><y>#</y><d>2016-02-19</d><h>09:05</h><w>cfleming</w><a>@shaunlebron</a>: Looks like that was it, thanks - an upgrade and some faffing around later and it’s working.</z><z id="t1455872744" t="cfleming I’m 100% node illiterate simple_smile"><y>#</y><d>2016-02-19</d><h>09:05</h><w>cfleming</w>I’m 100% node illiterate <b>simple_smile</b></z><z id="t1455897364" t="shaunlebron well, it’s the infamous JS error undefined is not a function that only becomes clear after years of seeing it"><y>#</y><d>2016-02-19</d><h>15:56</h><w>shaunlebron</w>well, it’s the infamous JS error <code>undefined is not a function</code> that only becomes clear after years of seeing it</z><z id="t1455897404" t="shaunlebron 🤕"><y>#</y><d>2016-02-19</d><h>15:56</h><w>shaunlebron</w><b>🤕</b></z><z id="t1455897959" t="snoe luckily v8 solved that in chrome a year ago and I think node v4 might have it, and v5 definitely does."><y>#</y><d>2016-02-19</d><h>16:05</h><w>snoe</w>luckily v8 solved that in chrome a year ago and I think node v4 might have it, and v5 definitely does.</z><z id="t1455897990" t="snoe $ node &gt; var x = {} undefined &gt; x.foo() TypeError: x.foo is not a function"><y>#</y><d>2016-02-19</d><h>16:06</h><w>snoe</w><pre>$ node
&gt; var x = {}
undefined
&gt; x.foo()
TypeError: x.foo is not a function</pre></z><z id="t1455922539" t="cfleming This seems relevant: https://pbs.twimg.com/media/Cbh6dV7UUAAVZ-y.png"><y>#</y><d>2016-02-19</d><h>22:55</h><w>cfleming</w>This seems relevant: <a href="https://pbs.twimg.com/media/Cbh6dV7UUAAVZ-y.png" target="_blank">https://pbs.twimg.com/media/Cbh6dV7UUAAVZ-y.png</a></z><z id="t1456042582" t="cfleming (sorry about the actual tweet there, I tried to just link the image but Slack is too clever)"><y>#</y><d>2016-02-21</d><h>08:16</h><w>cfleming</w>(sorry about the actual tweet there, I tried to just link the image but Slack is too clever)</z><z id="t1456093420" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : There’s another interesting case related to maintaining the caret position - maintaining the selection."><y>#</y><d>2016-02-21</d><h>22:23</h><w>cfleming</w><a>@shaunlebron</a>: There’s another interesting case related to maintaining the caret position - maintaining the selection.</z><z id="t1456093448" t="cfleming If I have the following: (println test) :test &quot;test” "><y>#</y><d>2016-02-21</d><h>22:24</h><w>cfleming</w>If I have the following:
<pre>(println test)
:test
&quot;test”
</pre></z><z id="t1456093479" t="cfleming And I select the final two lines and indent them, then the selection gets messed up after running parinfer."><y>#</y><d>2016-02-21</d><h>22:24</h><w>cfleming</w>And I select the final two lines and indent them, then the selection gets messed up after running parinfer.</z><z id="t1456093507" t="cfleming I’m wondering if some more general mechanism might not be required here."><y>#</y><d>2016-02-21</d><h>22:25</h><w>cfleming</w>I’m wondering if some more general mechanism might not be required here.</z><z id="t1456093587" t="cfleming It looks like Atom actually handles this correctly even though the file changes, but I’m not sure how."><y>#</y><d>2016-02-21</d><h>22:26</h><w>cfleming</w>It looks like Atom actually handles this correctly even though the file changes, but I’m not sure how.</z><z id="t1456093618" t="cfleming [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] : Do you know how that works? Do you have to do anything explicit to maintain the selection?"><y>#</y><d>2016-02-21</d><h>22:26</h><w>cfleming</w><a>@chrisoakman</a>: Do you know how that works? Do you have to do anything explicit to maintain the selection?</z><z id="t1456093937" t="chrisoakman I capture the selection before parinfer runs, then I re-apply that selection after it&apos;s finished"><y>#</y><d>2016-02-21</d><h>22:32</h><w>chrisoakman</w>I capture the selection before parinfer runs, then I re-apply that selection after it&apos;s finished</z><z id="t1456093948" t="chrisoakman in Atom, a selection is just an array of points"><y>#</y><d>2016-02-21</d><h>22:32</h><w>chrisoakman</w>in Atom, a selection is just an array of points</z><z id="t1456093979" t="chrisoakman I don&apos;t modify the selection at all, essentially"><y>#</y><d>2016-02-21</d><h>22:32</h><w>chrisoakman</w>I don&apos;t modify the selection at all, essentially</z><z id="t1456093998" t="chrisoakman I&apos;m not 100% sure if that is &quot;correct&quot;, but it always seems to feel natural when I&apos;m using it"><y>#</y><d>2016-02-21</d><h>22:33</h><w>chrisoakman</w>I&apos;m not 100% sure if that is &quot;correct&quot;, but it always seems to feel natural when I&apos;m using it</z><z id="t1456094000" t="chrisoakman if that makes sense"><y>#</y><d>2016-02-21</d><h>22:33</h><w>chrisoakman</w>if that makes sense</z><z id="t1456094091" t="chrisoakman the relevant Atom integration code is all in this function: https://github.com/oakmac/atom-parinfer/blob/master/src-cljs/atom_parinfer/core.cljs#L244-L279"><y>#</y><d>2016-02-21</d><h>22:34</h><w>chrisoakman</w>the relevant Atom integration code is all in this function: <a href="https://github.com/oakmac/atom-parinfer/blob/master/src-cljs/atom_parinfer/core.cljs#L244-L279" target="_blank">https://github.com/oakmac/atom-parinfer/blob/master/src-cljs/atom_parinfer/core.cljs#L244-L279</a></z><z id="t1456094110" t="chrisoakman that function is the heart and soul of atom-parinfer"><y>#</y><d>2016-02-21</d><h>22:35</h><w>chrisoakman</w>that function is the heart and soul of atom-parinfer</z><z id="t1456094162" t="chrisoakman everything else is essentially plugin state management or interop / event glue code"><y>#</y><d>2016-02-21</d><h>22:36</h><w>chrisoakman</w>everything else is essentially plugin state management or interop / event glue code</z><z id="t1456095250" t="cfleming But doesn’t the selection change when parinfer modifies the underlying file?"><y>#</y><d>2016-02-21</d><h>22:54</h><w>cfleming</w>But doesn’t the selection change when parinfer modifies the underlying file?</z><z id="t1456095513" t="chrisoakman I suppose?"><y>#</y><d>2016-02-21</d><h>22:58</h><w>chrisoakman</w>I suppose?</z><z id="t1456095545" t="chrisoakman I guess it might just move it whatever characters have been added to the end of a line"><y>#</y><d>2016-02-21</d><h>22:59</h><w>chrisoakman</w>I guess it might just move it whatever characters have been added to the end of a line</z><z id="t1456095547" t="chrisoakman I&apos;m not 100% sure"><y>#</y><d>2016-02-21</d><h>22:59</h><w>chrisoakman</w>I&apos;m not 100% sure</z><z id="t1456095579" t="chrisoakman when I was first setting up atom-parinfer it would lose the selection completely, then I just tried copying the old selection into the result text"><y>#</y><d>2016-02-21</d><h>22:59</h><w>chrisoakman</w>when I was first setting up atom-parinfer it would lose the selection completely, then I just tried copying the old selection into the result text</z><z id="t1456095583" t="chrisoakman and it seemed to work ok"><y>#</y><d>2016-02-21</d><h>22:59</h><w>chrisoakman</w>and it seemed to work ok</z><z id="t1456095611" t="chrisoakman I think most of the time when you&apos;re modifying the file and have a selection, you have multiple lines selected and are probably indenting / dedenting"><y>#</y><d>2016-02-21</d><h>23:00</h><w>chrisoakman</w>I think most of the time when you&apos;re modifying the file and have a selection, you have multiple lines selected and are probably indenting / dedenting</z><z id="t1456095618" t="chrisoakman that&apos;s my normal use case for it anyway"><y>#</y><d>2016-02-21</d><h>23:00</h><w>chrisoakman</w>that&apos;s my normal use case for it anyway</z><z id="t1456095693" t="cfleming Ok, thanks - I’ll try that and see how it works."><y>#</y><d>2016-02-21</d><h>23:01</h><w>cfleming</w>Ok, thanks - I’ll try that and see how it works.</z><z id="t1456095716" t="chrisoakman yeah - give it try and see how it feels / performs"><y>#</y><d>2016-02-21</d><h>23:01</h><w>chrisoakman</w>yeah - give it try and see how it feels / performs</z><z id="t1456095728" t="chrisoakman no one has complained about atom-parinfer selection"><y>#</y><d>2016-02-21</d><h>23:02</h><w>chrisoakman</w>no one has complained about atom-parinfer selection</z><z id="t1456095737" t="chrisoakman and I don&apos;t notice any problems with it"><y>#</y><d>2016-02-21</d><h>23:02</h><w>chrisoakman</w>and I don&apos;t notice any problems with it</z><z id="t1456095745" t="cfleming BTW I think it would be a good idea to have some perf tests where changes are actually made to the document."><y>#</y><d>2016-02-21</d><h>23:02</h><w>cfleming</w>BTW I think it would be a good idea to have some perf tests where changes are actually made to the document.</z><z id="t1456095767" t="cfleming Currently the really big file test, just runs parinfer but (presumably) doesn’t actually modify it."><y>#</y><d>2016-02-21</d><h>23:02</h><w>cfleming</w>Currently the really big file test, just runs parinfer but (presumably) doesn’t actually modify it.</z><z id="t1456095784" t="chrisoakman [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : FYI"><y>#</y><d>2016-02-21</d><h>23:03</h><w>chrisoakman</w><a>@shaunlebron</a>: FYI</z><z id="t1456095798" t="chrisoakman yeah - I agree with that"><y>#</y><d>2016-02-21</d><h>23:03</h><w>chrisoakman</w>yeah - I agree with that</z><z id="t1456095800" t="cfleming That might actually change the perf a bit since it’ll have to copy more strings around."><y>#</y><d>2016-02-21</d><h>23:03</h><w>cfleming</w>That might actually change the perf a bit since it’ll have to copy more strings around.</z><z id="t1456095804" t="chrisoakman real-world will be modifications"><y>#</y><d>2016-02-21</d><h>23:03</h><w>chrisoakman</w>real-world will be modifications</z><z id="t1456095841" t="chrisoakman real-world will be lots of changes happening from parenMode()"><y>#</y><d>2016-02-21</d><h>23:04</h><w>chrisoakman</w>real-world will be lots of changes happening from <code>parenMode()</code></z><z id="t1456095887" t="cfleming Right. I’m going to modify the JVM version at least to create a set of diffs rather than return a new file, that should eliminate a lot of string copying, and I suspect that for most editors it will be more efficient to apply."><y>#</y><d>2016-02-21</d><h>23:04</h><w>cfleming</w>Right. I’m going to modify the JVM version at least to create a set of diffs rather than return a new file, that should eliminate a lot of string copying, and I suspect that for most editors it will be more efficient to apply.</z><z id="t1456095901" t="cfleming It’s hard to benchmark, though."><y>#</y><d>2016-02-21</d><h>23:05</h><w>cfleming</w>It’s hard to benchmark, though.</z><z id="t1456095929" t="cfleming I’ll make that modification in my fork first, and then we can see if that’s something we might want in the official version or not."><y>#</y><d>2016-02-21</d><h>23:05</h><w>cfleming</w>I’ll make that modification in my fork first, and then we can see if that’s something we might want in the official version or not.</z><z id="t1456095983" t="chrisoakman ok"><y>#</y><d>2016-02-21</d><h>23:06</h><w>chrisoakman</w>ok</z><z id="t1456095994" t="chrisoakman sounds good; I haven&apos;t caught up with the last few days of Parinfer news"><y>#</y><d>2016-02-21</d><h>23:06</h><w>chrisoakman</w>sounds good; I haven&apos;t caught up with the last few days of Parinfer news</z><z id="t1456096001" t="chrisoakman have been working on a different project"><y>#</y><d>2016-02-21</d><h>23:06</h><w>chrisoakman</w>have been working on a different project</z><z id="t1456096028" t="cfleming No worries. I’m going to port Shaun’s caret movement update over to the JVM version when I get a moment."><y>#</y><d>2016-02-21</d><h>23:07</h><w>cfleming</w>No worries. I’m going to port Shaun’s caret movement update over to the JVM version when I get a moment.</z><z id="t1456096228" t="chrisoakman cool"><y>#</y><d>2016-02-21</d><h>23:10</h><w>chrisoakman</w>cool</z><z id="t1456105410" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] , yeah chris and I paired this afternoon to fix the selection issue you mentioned"><y>#</y><d>2016-02-22</d><h>01:43</h><w>shaunlebron</w><a>@cfleming</a>, yeah chris and I paired this afternoon to fix the selection issue you mentioned</z><z id="t1456105492" t="shaunlebron when a selection is made, or if there are multiple cursors, atom-parinfer will not update the cursor position for you"><y>#</y><d>2016-02-22</d><h>01:44</h><w>shaunlebron</w>when a selection is made, or if there are multiple cursors, atom-parinfer will not update the cursor position for you</z><z id="t1456105494" t="shaunlebron https://github.com/oakmac/atom-parinfer/blob/master/src-cljs/atom_parinfer/core.cljs#L277-L282"><y>#</y><d>2016-02-22</d><h>01:44</h><w>shaunlebron</w><a href="https://github.com/oakmac/atom-parinfer/blob/master/src-cljs/atom_parinfer/core.cljs#L277-L282" target="_blank">https://github.com/oakmac/atom-parinfer/blob/master/src-cljs/atom_parinfer/core.cljs#L277-L282</a></z><z id="t1456105546" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : Ok, thanks."><y>#</y><d>2016-02-22</d><h>01:45</h><w>cfleming</w><a>@shaunlebron</a>: Ok, thanks.</z><z id="t1456105563" t="cfleming I’ll replicate that logic, I think."><y>#</y><d>2016-02-22</d><h>01:46</h><w>cfleming</w>I’ll replicate that logic, I think.</z><z id="t1456105628" t="cfleming I’m just playing around with the idea of creating deltas instead of updating the lines in place - then the algorithm can be run in one pass over the original document, and the user could call a function to get new text with the deltas applied, or choose to receive the deltas."><y>#</y><d>2016-02-22</d><h>01:47</h><w>cfleming</w>I’m just playing around with the idea of creating deltas instead of updating the lines in place - then the algorithm can be run in one pass over the original document, and the user could call a function to get new text with the deltas applied, or choose to receive the deltas.</z><z id="t1456105652" t="cfleming Most editors won’t store the text as a single contiguous string, so applying small deltas will probably be more efficient."><y>#</y><d>2016-02-22</d><h>01:47</h><w>cfleming</w>Most editors won’t store the text as a single contiguous string, so applying small deltas will probably be more efficient.</z><z id="t1456105687" t="cfleming If the change gets too tricky, I’ll just use the existing algorithm for now since I should get a release out sometime soon."><y>#</y><d>2016-02-22</d><h>01:48</h><w>cfleming</w>If the change gets too tricky, I’ll just use the existing algorithm for now since I should get a release out sometime soon.</z><z id="t1456105710" t="shaunlebron character-based diffs?"><y>#</y><d>2016-02-22</d><h>01:48</h><w>shaunlebron</w>character-based diffs?</z><z id="t1456105735" t="shaunlebron a nice property of parinfer is that it will never add or remove lines, just modifies existing ones"><y>#</y><d>2016-02-22</d><h>01:48</h><w>shaunlebron</w>a nice property of parinfer is that it will never add or remove lines, just modifies existing ones</z><z id="t1456105756" t="shaunlebron so that’s why the line-based deltas are so straightforward, i’m returning changedLines"><y>#</y><d>2016-02-22</d><h>01:49</h><w>shaunlebron</w>so that’s why the line-based deltas are so straightforward, i’m returning <code>changedLines</code></z><z id="t1456105787" t="cfleming Yeah, I saw that. Perhaps I’ll just use that to start since that’s (relatively) minimal."><y>#</y><d>2016-02-22</d><h>01:49</h><w>cfleming</w>Yeah, I saw that. Perhaps I’ll just use that to start since that’s (relatively) minimal.</z><z id="t1456105867" t="shaunlebron just trying to understand what the delta change looks like, or what it’s doing"><y>#</y><d>2016-02-22</d><h>01:51</h><w>shaunlebron</w>just trying to understand what the delta change looks like, or what it’s doing</z><z id="t1456105902" t="shaunlebron so instead of modifying the line in result.lines[i] , you’re doing something else?"><y>#</y><d>2016-02-22</d><h>01:51</h><w>shaunlebron</w>so instead of modifying the line in <code>result.lines[i]</code>, you’re doing something else?</z><z id="t1456105973" t="cfleming Right. Instead of scanning by line, I scan once over the whole text without splitting it into lines. I do the line bookkeeping when I see a \n"><y>#</y><d>2016-02-22</d><h>01:52</h><w>cfleming</w>Right. Instead of scanning by line, I scan once over the whole text without splitting it into lines. I do the line bookkeeping when I see a <code>\n</code></z><z id="t1456105990" t="cfleming And instead of line/x combos, I just use an offset into the whole document."><y>#</y><d>2016-02-22</d><h>01:53</h><w>cfleming</w>And instead of line/x combos, I just use an offset into the whole document.</z><z id="t1456106020" t="cfleming Then the changes are stored as a list of start, end, replacement combos."><y>#</y><d>2016-02-22</d><h>01:53</h><w>cfleming</w>Then the changes are stored as a list of start, end, replacement combos.</z><z id="t1456106047" t="cfleming I’m worried about the garbage being created on every call to parinfer by taking the document and splitting it into lines."><y>#</y><d>2016-02-22</d><h>01:54</h><w>cfleming</w>I’m worried about the garbage being created on every call to parinfer by taking the document and splitting it into lines.</z><z id="t1456106070" t="cfleming On the JVM that used to re-use the same character array, but it now copies it instead."><y>#</y><d>2016-02-22</d><h>01:54</h><w>cfleming</w>On the JVM that used to re-use the same character array, but it now copies it instead.</z><z id="t1456106077" t="cfleming I’m not sure about JS engines."><y>#</y><d>2016-02-22</d><h>01:54</h><w>cfleming</w>I’m not sure about JS engines.</z><z id="t1456106171" t="shaunlebron i think that’s feasible"><y>#</y><d>2016-02-22</d><h>01:56</h><w>shaunlebron</w>i think that’s feasible</z><z id="t1456106185" t="cfleming Yeah, I don’t think the change is going to be too big."><y>#</y><d>2016-02-22</d><h>01:56</h><w>cfleming</w>Yeah, I don’t think the change is going to be too big.</z><z id="t1456106189" t="shaunlebron the last version changed removeParenTrail"><y>#</y><d>2016-02-22</d><h>01:56</h><w>shaunlebron</w>the last version changed <code>removeParenTrail</code></z><z id="t1456106205" t="shaunlebron it used to remove the paren trail after processing every line"><y>#</y><d>2016-02-22</d><h>01:56</h><w>shaunlebron</w>it used to remove the paren trail after processing every line</z><z id="t1456106230" t="cfleming Ok"><y>#</y><d>2016-02-22</d><h>01:57</h><w>cfleming</w>Ok</z><z id="t1456106231" t="shaunlebron it’s now just popParenTrail , modifies the paren stack"><y>#</y><d>2016-02-22</d><h>01:57</h><w>shaunlebron</w>it’s now just <code>popParenTrail</code>, modifies the paren stack</z><z id="t1456106248" t="cfleming It would also mean that you wouldn’t need the getLineEnding thing to re-join the lines."><y>#</y><d>2016-02-22</d><h>01:57</h><w>cfleming</w>It would also mean that you wouldn’t need the getLineEnding thing to re-join the lines.</z><z id="t1456106263" t="shaunlebron anyway, no unnecessary modifications, and you can watch all line modifications at replaceWithinLine function"><y>#</y><d>2016-02-22</d><h>01:57</h><w>shaunlebron</w>anyway, no unnecessary modifications, and you can watch all line modifications at <code>replaceWithinLine</code> function</z><z id="t1456106288" t="shaunlebron interesting"><y>#</y><d>2016-02-22</d><h>01:58</h><w>shaunlebron</w>interesting</z><z id="t1456106290" t="cfleming And it is probably feasible to apply the changes in whichever way is friendliest to the JS garbage collector."><y>#</y><d>2016-02-22</d><h>01:58</h><w>cfleming</w>And it is probably feasible to apply the changes in whichever way is friendliest to the JS garbage collector.</z><z id="t1456106303" t="shaunlebron I like this"><y>#</y><d>2016-02-22</d><h>01:58</h><w>shaunlebron</w>I like this</z><z id="t1456106312" t="cfleming I’m actually very impressed with how well V8 handles all the string concatenation though."><y>#</y><d>2016-02-22</d><h>01:58</h><w>cfleming</w>I’m actually very impressed with how well V8 handles all the string concatenation though.</z><z id="t1456106321" t="shaunlebron same"><y>#</y><d>2016-02-22</d><h>01:58</h><w>shaunlebron</w>same</z><z id="t1456106329" t="cfleming I guess they have to optimise it a lot since there’s no mutable option."><y>#</y><d>2016-02-22</d><h>01:58</h><w>cfleming</w>I guess they have to optimise it a lot since there’s no mutable option.</z><z id="t1456106374" t="cfleming Anyway, I’m hoping to have it working this afternoon with a bit of luck, and we can see if we like it at that stage."><y>#</y><d>2016-02-22</d><h>01:59</h><w>cfleming</w>Anyway, I’m hoping to have it working this afternoon with a bit of luck, and we can see if we like it at that stage.</z><z id="t1456106414" t="cfleming As an aside, I’m using http://wallabyjs.com to make the change, it’s lovely."><y>#</y><d>2016-02-22</d><h>02:00</h><w>cfleming</w>As an aside, I’m using <a href="http://wallabyjs.com" target="_blank">http://wallabyjs.com</a> to make the change, it’s lovely.</z><z id="t1456106421" t="shaunlebron was it slow when splitting lines?"><y>#</y><d>2016-02-22</d><h>02:00</h><w>shaunlebron</w>was it slow when splitting lines?</z><z id="t1456106441" t="cfleming I’m not sure. I don’t know whether the JS engines re-use the backing char array or not."><y>#</y><d>2016-02-22</d><h>02:00</h><w>cfleming</w>I’m not sure. I don’t know whether the JS engines re-use the backing char array or not.</z><z id="t1456106481" t="cfleming The JVM used to but then they changed it since apparently people would often hold onto small substrings of very large backing arrays, which caused memory problems."><y>#</y><d>2016-02-22</d><h>02:01</h><w>cfleming</w>The JVM used to but then they changed it since apparently people would often hold onto small substrings of very large backing arrays, which caused memory problems.</z><z id="t1456106488" t="cfleming So substring() now copies instead."><y>#</y><d>2016-02-22</d><h>02:01</h><w>cfleming</w>So substring() now copies instead.</z><z id="t1456106529" t="cfleming But I’m not just thinking about memory pressure, I suspect that in practice applying diffs will be much better for performance in text editors, although I have no idea how to benchmark that."><y>#</y><d>2016-02-22</d><h>02:02</h><w>cfleming</w>But I’m not just thinking about memory pressure, I suspect that in practice applying diffs will be much better for performance in text editors, although I have no idea how to benchmark that.</z><z id="t1456106560" t="shaunlebron i’m really liking the delta idea"><y>#</y><d>2016-02-22</d><h>02:02</h><w>shaunlebron</w>i’m really liking the delta idea</z><z id="t1456106568" t="shaunlebron are you trying this in parinfer.js first?"><y>#</y><d>2016-02-22</d><h>02:02</h><w>shaunlebron</w>are you trying this in parinfer.js first?</z><z id="t1456106575" t="shaunlebron with wallaby somehow?"><y>#</y><d>2016-02-22</d><h>02:02</h><w>shaunlebron</w>with wallaby somehow?</z><z id="t1456106589" t="cfleming You’ll be pleased to hear that Wallaby shows great test coverage too, only a couple of edge cases not covered (tabs and \r\n )"><y>#</y><d>2016-02-22</d><h>02:03</h><w>cfleming</w>You’ll be pleased to hear that Wallaby shows great test coverage too, only a couple of edge cases not covered (tabs and <code>\r\n</code>)</z><z id="t1456106591" t="cfleming Yes"><y>#</y><d>2016-02-22</d><h>02:03</h><w>cfleming</w>Yes</z><z id="t1456106627" t="shaunlebron awesome, would love to try this"><y>#</y><d>2016-02-22</d><h>02:03</h><w>shaunlebron</w>awesome, would love to try this</z><z id="t1456106695" t="cfleming I have the wallaby config if you want to try it, let me know."><y>#</y><d>2016-02-22</d><h>02:04</h><w>cfleming</w>I have the wallaby config if you want to try it, let me know.</z><z id="t1456106697" t="shaunlebron yeah, i sort of changed my testing philosophy in parinfer, just focusing on the core inference stuff"><y>#</y><d>2016-02-22</d><h>02:04</h><w>shaunlebron</w>yeah, i sort of changed my testing philosophy in parinfer, just focusing on the core inference stuff</z><z id="t1456106713" t="cfleming Sure, that makes sense."><y>#</y><d>2016-02-22</d><h>02:05</h><w>cfleming</w>Sure, that makes sense.</z><z id="t1456106716" t="shaunlebron yeah, if you have time to share that"><y>#</y><d>2016-02-22</d><h>02:05</h><w>shaunlebron</w>yeah, if you have time to share that</z><z id="t1456106749" t="shaunlebron need to step out for an hour"><y>#</y><d>2016-02-22</d><h>02:05</h><w>shaunlebron</w>need to step out for an hour</z><z id="t1456106764" t="shaunlebron awesome change btw if we can get that in"><y>#</y><d>2016-02-22</d><h>02:06</h><w>shaunlebron</w>awesome change btw if we can get that in</z><z id="t1456106773" t="cfleming Sure, no problem"><y>#</y><d>2016-02-22</d><h>02:06</h><w>cfleming</w>Sure, no problem</z><z id="t1456106794" t="cfleming I think he has an atom plugin now, no vim sorry"><y>#</y><d>2016-02-22</d><h>02:06</h><w>cfleming</w>I think he has an atom plugin now, no vim sorry</z><z id="t1456106808" t="cfleming Oh, and sublime too"><y>#</y><d>2016-02-22</d><h>02:06</h><w>cfleming</w>Oh, and sublime too</z><z id="t1456106819" t="shaunlebron haha, i don’t mind that"><y>#</y><d>2016-02-22</d><h>02:06</h><w>shaunlebron</w>haha, i don’t mind that</z><z id="t1456106824" t="shaunlebron i’ll be moving to parinfer soon anyway"><y>#</y><d>2016-02-22</d><h>02:07</h><w>shaunlebron</w>i’ll be moving to parinfer soon anyway</z><z id="t1456106828" t="shaunlebron atom*"><y>#</y><d>2016-02-22</d><h>02:07</h><w>shaunlebron</w>atom*</z><z id="t1456106835" t="cfleming Hehe"><y>#</y><d>2016-02-22</d><h>02:07</h><w>cfleming</w>Hehe</z><z id="t1456106840" t="cfleming ok, talk to you later"><y>#</y><d>2016-02-22</d><h>02:07</h><w>cfleming</w>ok, talk to you later</z><z id="t1456106845" t="shaunlebron bye"><y>#</y><d>2016-02-22</d><h>02:07</h><w>shaunlebron</w>bye</z><z id="t1456107415" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : Actually, one more advantage of the deltas is that you don’t actually need to track cursor or selection position - they’ll automatically be updated by the editor as the text is modified."><y>#</y><d>2016-02-22</d><h>02:16</h><w>cfleming</w><a>@shaunlebron</a>: Actually, one more advantage of the deltas is that you don’t actually need to track cursor or selection position - they’ll automatically be updated by the editor as the text is modified.</z><z id="t1456110842" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : mind blown"><y>#</y><d>2016-02-22</d><h>03:14</h><w>shaunlebron</w><a>@cfleming</a>: mind blown</z><z id="t1456110864" t="shaunlebron lol, yeah, the editor should totally take care of that. way simpler"><y>#</y><d>2016-02-22</d><h>03:14</h><w>shaunlebron</w>lol, yeah, the editor should totally take care of that.  way simpler</z><z id="t1456110894" t="cfleming I have about half the tests passing now"><y>#</y><d>2016-02-22</d><h>03:14</h><w>cfleming</w>I have about half the tests passing now</z><z id="t1456180768" t="cfleming There are some tricky cases with this."><y>#</y><d>2016-02-22</d><h>22:39</h><w>cfleming</w>There are some tricky cases with this.</z><z id="t1456180790" t="cfleming I had hoped that all edits would be applied to the document in source order, but that’s not the case."><y>#</y><d>2016-02-22</d><h>22:39</h><w>cfleming</w>I had hoped that all edits would be applied to the document in source order, but that’s not the case.</z><z id="t1456180844" t="cfleming For example, in (def foo [a b]] , the second ] is removed first, because it’s unmatched."><y>#</y><d>2016-02-22</d><h>22:40</h><w>cfleming</w>For example, in <code>(def foo [a b]]</code>, the second <code>]</code> is removed first, because it’s unmatched.</z><z id="t1456180855" t="cfleming Then the paren trail is corrected, which is tricky now."><y>#</y><d>2016-02-22</d><h>22:40</h><w>cfleming</w>Then the paren trail is corrected, which is tricky now.</z><z id="t1456188766" t="cfleming Actually, that case is not bad because the paren trail doesn’t get extended over the unmatched ] . But I suspect a case like (foo (bar)]]) would cause problems. I have all the indent mode tests working now so there are no cases like that, I’ll try to write some around the edge cases."><y>#</y><d>2016-02-23</d><h>00:52</h><w>cfleming</w>Actually, that case is not bad because the paren trail doesn’t get extended over the unmatched <code>]</code>. But I suspect a case like <code>(foo (bar)]])</code> would cause problems. I have all the indent mode tests working now so there are no cases like that, I’ll try to write some around the edge cases.</z><z id="t1456196072" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : I have all the test cases passing with the delta algorithm now."><y>#</y><d>2016-02-23</d><h>02:54</h><w>cfleming</w><a>@shaunlebron</a>: I have all the test cases passing with the delta algorithm now.</z><z id="t1456196082" t="cfleming I’ll tidy it up and send a PR."><y>#</y><d>2016-02-23</d><h>02:54</h><w>cfleming</w>I’ll tidy it up and send a PR.</z><z id="t1456196625" t="cfleming This is parinfer master on my machine: ~/d/p/lib (master)&gt; node test/perf.js Processing long_map_with_strings : 303 lines, 4380 chars indent: 10.331ms paren: 4.725ms Processing really_long_file : 2865 lines, 112431 chars indent: 15.639ms paren: 21.972ms Processing really_long_file_with_unclosed_paren : 2865 lines, 112432 chars indent: 11.439ms paren: 9.827ms Processing really_long_file_with_unclosed_quote : 2865 lines, 112433 chars indent: 8.420ms paren: 8.317ms "><y>#</y><d>2016-02-23</d><h>03:03</h><w>cfleming</w>This is parinfer master on my machine:
<pre>~/d/p/lib (master)&gt; node test/perf.js
Processing long_map_with_strings : 303 lines, 4380 chars
indent: 10.331ms
paren: 4.725ms

Processing really_long_file : 2865 lines, 112431 chars
indent: 15.639ms
paren: 21.972ms

Processing really_long_file_with_unclosed_paren : 2865 lines, 112432 chars
indent: 11.439ms
paren: 9.827ms

Processing really_long_file_with_unclosed_quote : 2865 lines, 112433 chars
indent: 8.420ms
paren: 8.317ms
</pre></z><z id="t1456196656" t="cfleming This is the delta algorithm: ~/d/p/lib (master)&gt; node test/perf.js Processing long_map_with_strings : 303 lines, 4380 chars indent: 11.210ms paren: 6.438ms Processing really_long_file : 2865 lines, 112431 chars indent: 16.363ms paren: 19.291ms Processing really_long_file_with_unclosed_paren : 2865 lines, 112432 chars indent: 10.691ms paren: 9.168ms Processing really_long_file_with_unclosed_quote : 2865 lines, 112433 chars indent: 9.460ms paren: 9.965ms "><y>#</y><d>2016-02-23</d><h>03:04</h><w>cfleming</w>This is the delta algorithm:
<pre>~/d/p/lib (master)&gt; node test/perf.js
Processing long_map_with_strings : 303 lines, 4380 chars
indent: 11.210ms
paren: 6.438ms

Processing really_long_file : 2865 lines, 112431 chars
indent: 16.363ms
paren: 19.291ms

Processing really_long_file_with_unclosed_paren : 2865 lines, 112432 chars
indent: 10.691ms
paren: 9.168ms

Processing really_long_file_with_unclosed_quote : 2865 lines, 112433 chars
indent: 9.460ms
paren: 9.965ms
</pre></z><z id="t1456196666" t="cfleming It’s actually about the same speed - I’m surprised."><y>#</y><d>2016-02-23</d><h>03:04</h><w>cfleming</w>It’s actually about the same speed - I’m surprised.</z><z id="t1456207191" t="shaunlebron i’m not understanding how the cases you mentioned would cause problems"><y>#</y><d>2016-02-23</d><h>05:59</h><w>shaunlebron</w>i’m not understanding how the cases you mentioned would cause problems</z><z id="t1456207303" t="shaunlebron every edit essentially introduces a new coordinate space"><y>#</y><d>2016-02-23</d><h>06:01</h><w>shaunlebron</w>every edit essentially introduces a new coordinate space</z><z id="t1456207366" t="shaunlebron so an edit should be in the coordinate space that results from the previous edit"><y>#</y><d>2016-02-23</d><h>06:02</h><w>shaunlebron</w>so an edit should be in the coordinate space that results from the previous edit</z><z id="t1456207419" t="shaunlebron the edits wouldn’t be in source order; they would just be in edit order"><y>#</y><d>2016-02-23</d><h>06:03</h><w>shaunlebron</w>the edits wouldn’t be in source order; they would just be in edit order</z><z id="t1456207713" t="shaunlebron in the case of (foo (bar)]]) , the edits would be: (foo (bar)]]) ^ 1. remove index 10 (foo (bar)]) ^ 2. remove index 10 (foo (bar)) ^^ 3. replace indices 9-10 with `))` (oops, we shouldn&apos;t replace this if it&apos;s already there) "><y>#</y><d>2016-02-23</d><h>06:08</h><w>shaunlebron</w>in the case of <code>(foo (bar)]])</code>, the edits would be:

<pre>(foo (bar)]])
          ^ 1. remove index 10

(foo (bar)])
          ^ 2. remove index 10

(foo (bar))
         ^^ 3. replace indices 9-10 with `))`   (oops, we shouldn&apos;t replace this if it&apos;s already there)
</pre></z><z id="t1456208008" t="shaunlebron i may not be understanding your delta algorithm though, so I’ll look at the code when you’re done"><y>#</y><d>2016-02-23</d><h>06:13</h><w>shaunlebron</w>i may not be understanding your delta algorithm though, so I’ll look at the code when you’re done</z><z id="t1456210807" t="cfleming No, at the moment, all edits are in source document space."><y>#</y><d>2016-02-23</d><h>07:00</h><w>cfleming</w>No, at the moment, all edits are in source document space.</z><z id="t1456210934" t="cfleming It might have been easier to do them with a new coordinate space, I’m not sure."><y>#</y><d>2016-02-23</d><h>07:02</h><w>cfleming</w>It might have been easier to do them with a new coordinate space, I’m not sure.</z><z id="t1456210975" t="cfleming I’ll check tomorrow if the algorithm could be easily modified to do that."><y>#</y><d>2016-02-23</d><h>07:02</h><w>cfleming</w>I’ll check tomorrow if the algorithm could be easily modified to do that.</z><z id="t1456211003" t="cfleming I actually still have a single breaking indent case, I had some tests commented out accidentally."><y>#</y><d>2016-02-23</d><h>07:03</h><w>cfleming</w>I actually still have a single breaking indent case, I had some tests commented out accidentally.</z><z id="t1456218346" t="cfleming I remember the problem with the coordinate space per edit idea."><y>#</y><d>2016-02-23</d><h>09:05</h><w>cfleming</w>I remember the problem with the coordinate space per edit idea.</z><z id="t1456218459" t="cfleming The issue is that you’re always reading from the source coordinate space, since the edits are not actually applied. So somewhere you have to maintain the delta between source and destination spaces, and that depends on where the edits have been made already."><y>#</y><d>2016-02-23</d><h>09:07</h><w>cfleming</w>The issue is that you’re always reading from the source coordinate space, since the edits are not actually applied. So somewhere you have to maintain the delta between source and destination spaces, and that depends on where the edits have been made already.</z><z id="t1456218609" t="cfleming What I have now works. Basically I make sure that the edits are always in source document order, and the only cases I’ve found where they overlap is the case I showed earlier where individual unbalanced close parens are inside a paren trail that is later removed. So when making a replacement, I just remove any current edits which are completely overwritten by the new replacement. So if the whole paren trail is replaced, the individual close paren deletions are simply removed because they’re completely overwritten by the later change."><y>#</y><d>2016-02-23</d><h>09:10</h><w>cfleming</w>What I have now works. Basically I make sure that the edits are always in source document order, and the only cases I’ve found where they overlap is the case I showed earlier where individual unbalanced close parens are inside a paren trail that is later removed. So when making a replacement, I just remove any current edits which are completely overwritten by the new replacement. So if the whole paren trail is replaced, the individual close paren deletions are simply removed because they’re completely overwritten by the later change.</z><z id="t1456218741" t="cfleming I’ll fix the one remaining case tomorrow morning and push it to my repo, and you can take a look and see what you think. TBH I’m not sure that this change makes sense for the main parinfer implementation, but it does for me - I think I’ll base the Cursive implementation on it."><y>#</y><d>2016-02-23</d><h>09:12</h><w>cfleming</w>I’ll fix the one remaining case tomorrow morning and push it to my repo, and you can take a look and see what you think. TBH I’m not sure that this change makes sense for the main parinfer implementation, but it does for me - I think I’ll base the Cursive implementation on it.</z><z id="t1456218777" t="cfleming I don’t know enough about other editor implementations to know whether applying deltas would work better or not."><y>#</y><d>2016-02-23</d><h>09:12</h><w>cfleming</w>I don’t know enough about other editor implementations to know whether applying deltas would work better or not.</z><z id="t1456218910" t="cfleming One nice property of this new algorithm for me is that it translates naturally to using lexer tokens instead of chars. I profiled this, and nearly all the time is spent in processChar and updateParenTrailBounds - this would be faster using the lexer probably since the paren trail would only be updated on token boundaries."><y>#</y><d>2016-02-23</d><h>09:15</h><w>cfleming</w>One nice property of this new algorithm for me is that it translates naturally to using lexer tokens instead of chars. I profiled this, and nearly all the time is spent in <code>processChar</code> and <code>updateParenTrailBounds</code> - this would be faster using the lexer probably since the paren trail would only be updated on token boundaries.</z><z id="t1456259544" t="snoe So I worry that the delta approach sounds similar to the stateful change diff api that parinfer originally had. In that the structure and application of the diff was built on applying it to code mirror, so porting to vim involved adding a lot of code to handle the structure and build what code mirror gave you for free. This isn&apos;t to say that it wouldn&apos;t be worth it but any editor that accepts a different way of encoding deltas (if they do at all as in vims case), would require, potentially, a good chunk of code."><y>#</y><d>2016-02-23</d><h>20:32</h><w>snoe</w>So I worry that the delta approach sounds similar to the stateful change diff api that parinfer originally had. In that the structure and application of the diff was built on applying it to code mirror, so porting to vim involved adding a lot of code to handle the structure and build what code mirror gave you for free. This isn&apos;t to say that it wouldn&apos;t be worth it but any editor that accepts a different way of encoding deltas (if they do at all as in vims case), would require, potentially, a good chunk of code.</z><z id="t1456265089" t="cfleming [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] : What is the complication with vim? Does it not have a function to replace from char x to char y with string z ?"><y>#</y><d>2016-02-23</d><h>22:04</h><w>cfleming</w><a>@snoe</a>: What is the complication with vim? Does it not have a function to <code>replace from char x to char y with string z</code>?</z><z id="t1456265130" t="cfleming Or do you have to handle it manually for some reason?"><y>#</y><d>2016-02-23</d><h>22:05</h><w>cfleming</w>Or do you have to handle it manually for some reason?</z><z id="t1456265266" t="cfleming I also have a function which you can use to get the complete replacement text, given the original text and the deltas, so at the worst with one more function call you can get what exists right now."><y>#</y><d>2016-02-23</d><h>22:07</h><w>cfleming</w>I also have a function which you can use to get the complete replacement text, given the original text and the deltas, so at the worst with one more function call you can get what exists right now.</z><z id="t1456266889" t="cfleming (I’m not familiar with parinfer’s original interface)"><y>#</y><d>2016-02-23</d><h>22:34</h><w>cfleming</w>(I’m not familiar with parinfer’s original interface)</z><z id="t1456266961" t="snoe Not through the rpc interface that my neovim plugin uses, I suspect doing deltas would either involve building out the edit commands to execute the delta as if typed or some regex magic. Having that function to maintain the existing functionality would be desirable from my perspective"><y>#</y><d>2016-02-23</d><h>22:36</h><w>snoe</w>Not  through the rpc interface that my neovim plugin uses, I suspect doing deltas would either involve building out the edit commands to execute the delta as if typed or some regex magic. Having that function to maintain the existing functionality would be desirable from my perspective</z><z id="t1456267019" t="cfleming [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] : Ok, thanks, that’s interesting."><y>#</y><d>2016-02-23</d><h>22:36</h><w>cfleming</w><a>@snoe</a>: Ok, thanks, that’s interesting.</z><z id="t1456274359" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : https://github.com/cursive-ide/parinfer/commit/7ad3568f43bd76394fe30d1a49187cb1bf2e395f and https://github.com/cursive-ide/parinfer/commit/505c0d09e4872c82a36c3948a762646a066dbfde"><y>#</y><d>2016-02-24</d><h>00:39</h><w>cfleming</w><a>@shaunlebron</a>: <a href="https://github.com/cursive-ide/parinfer/commit/7ad3568f43bd76394fe30d1a49187cb1bf2e395f" target="_blank">https://github.com/cursive-ide/parinfer/commit/7ad3568f43bd76394fe30d1a49187cb1bf2e395f</a> and <a href="https://github.com/cursive-ide/parinfer/commit/505c0d09e4872c82a36c3948a762646a066dbfde" target="_blank">https://github.com/cursive-ide/parinfer/commit/505c0d09e4872c82a36c3948a762646a066dbfde</a></z><z id="t1456274446" t="cfleming BTW benchmark.js shows the main parinfer algorithm running at 8ms, I think the previous benchmarking code didn’t warm the VM up enough."><y>#</y><d>2016-02-24</d><h>00:40</h><w>cfleming</w>BTW benchmark.js shows the main parinfer algorithm running at 8ms, I think the previous benchmarking code didn’t warm the VM up enough.</z><z id="t1456286626" t="cfleming Actually, I just updated those with a few things I saw while porting the change to the JVM and force pushed the new changes: https://github.com/cursive-ide/parinfer/commit/0cfa086277accb1371776c8f71707b1ec9402257 and https://github.com/cursive-ide/parinfer/commit/7c99ba029a19bb86a6a44f71b27e56b42e46f233"><y>#</y><d>2016-02-24</d><h>04:03</h><w>cfleming</w>Actually, I just updated those with a few things I saw while porting the change to the JVM and force pushed the new changes: <a href="https://github.com/cursive-ide/parinfer/commit/0cfa086277accb1371776c8f71707b1ec9402257" target="_blank">https://github.com/cursive-ide/parinfer/commit/0cfa086277accb1371776c8f71707b1ec9402257</a> and <a href="https://github.com/cursive-ide/parinfer/commit/7c99ba029a19bb86a6a44f71b27e56b42e46f233" target="_blank">https://github.com/cursive-ide/parinfer/commit/7c99ba029a19bb86a6a44f71b27e56b42e46f233</a></z><z id="t1456298270" t="shaunlebron hey [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] , loud and clear on the change api concerns. the early change api was particular to input, whereas this new stuff is now about output."><y>#</y><d>2016-02-24</d><h>07:17</h><w>shaunlebron</w>hey <a>@snoe</a>, loud and clear on the change api concerns.  the early change api was particular to input, whereas this new stuff is now about output.</z><z id="t1456298299" t="shaunlebron i’m looking through the changes now"><y>#</y><d>2016-02-24</d><h>07:18</h><w>shaunlebron</w>i’m looking through the changes now</z><z id="t1456299287" t="shaunlebron I got distracted and read through nvim-parinfer.js, nice code [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] !"><y>#</y><d>2016-02-24</d><h>07:34</h><w>shaunlebron</w>I got distracted and read through nvim-parinfer.js, nice code <a>@snoe</a>!</z><z id="t1456300673" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] , hey thanks for forwarding the changes"><y>#</y><d>2016-02-24</d><h>07:57</h><w>shaunlebron</w><a>@cfleming</a>, hey thanks for forwarding the changes</z><z id="t1456300741" t="shaunlebron I looked at calculateText to get a feel for the structure of result.edits"><y>#</y><d>2016-02-24</d><h>07:59</h><w>shaunlebron</w>I looked at <code>calculateText</code> to get a feel for the structure of <code>result.edits</code></z><z id="t1456300974" t="shaunlebron I’m seeing how the full text can be constructed from these edits"><y>#</y><d>2016-02-24</d><h>08:02</h><w>shaunlebron</w>I’m seeing how the full text can be constructed from these edits</z><z id="t1456301026" t="shaunlebron but I’m not seeing how this edit structure helps an editor make incremental changes to a document"><y>#</y><d>2016-02-24</d><h>08:03</h><w>shaunlebron</w>but I’m not seeing how this edit structure helps an editor make incremental changes to a document</z><z id="t1456301049" t="shaunlebron i might be stuck in viewing edits as a sequence of mutations to a string though"><y>#</y><d>2016-02-24</d><h>08:04</h><w>shaunlebron</w>i might be stuck in viewing edits as a sequence of mutations to a string though</z><z id="t1456301561" t="shaunlebron if I apply the first edit to the document, the location of the second edit must be offset by the amount added or removed by the first edit"><y>#</y><d>2016-02-24</d><h>08:12</h><w>shaunlebron</w>if I apply the first edit to the document, the location of the second edit must be offset by the amount added or removed by the first edit</z><z id="t1456302492" t="shaunlebron maybe parinfer should accept readChar and writeChar editor functions"><y>#</y><d>2016-02-24</d><h>08:28</h><w>shaunlebron</w>maybe parinfer should accept <code>readChar</code> and <code>writeChar</code> editor functions</z><z id="t1456302508" t="shaunlebron so we can directly write to and read from the editor buffer"><y>#</y><d>2016-02-24</d><h>08:28</h><w>shaunlebron</w>so we can directly write to and read from the editor buffer</z><z id="t1456302580" t="shaunlebron each would have to take a lineNo and x coordinate though"><y>#</y><d>2016-02-24</d><h>08:29</h><w>shaunlebron</w>each would have to take a <code>lineNo</code> and <code>x</code> coordinate though</z><z id="t1456302932" t="shaunlebron that would allow us to do away with 1. tracking all edits in terms of source space replacements (colin’s new solution) 2. making the edits twice: one for parinfer’s line array, and one for the editor’s buffer (current solution)"><y>#</y><d>2016-02-24</d><h>08:35</h><w>shaunlebron</w>that would allow us to do away with

1. tracking all edits in terms of source space replacements (colin’s new solution)
2. making the edits twice: one for parinfer’s line array, and one for the editor’s buffer (current solution)</z><z id="t1456303391" t="shaunlebron and about performance differences, i think any solution that changes the way edits are made will have no significance on JS because string ops seem super optimized, and there seem to be few edits that Parinfer will make in really_long_file (as you mentioned)"><y>#</y><d>2016-02-24</d><h>08:43</h><w>shaunlebron</w>and about performance differences, i think any solution that changes the way edits are made will have no significance on JS because string ops seem super optimized, and there seem to be few edits that Parinfer will make in <code>really_long_file</code> (as you mentioned)</z><z id="t1456354868" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : Giving parinfer direct access to the editor buffer is an interesting idea. I’d worry that all editors might not allow that, or that it might not be efficient for something like neovim’s RPC."><y>#</y><d>2016-02-24</d><h>23:01</h><w>cfleming</w><a>@shaunlebron</a>: Giving parinfer direct access to the editor buffer is an interesting idea. I’d worry that all editors might not allow that, or that it might not be efficient for something like neovim’s RPC.</z><z id="t1456354900" t="cfleming You’re basically right that the edits are a sequence of mutations to a string (the editor buffer)."><y>#</y><d>2016-02-24</d><h>23:01</h><w>cfleming</w>You’re basically right that the edits are a sequence of mutations to a string (the editor buffer).</z><z id="t1456354936" t="cfleming However applying these edits is likely to be much more efficient than replacing the whole text."><y>#</y><d>2016-02-24</d><h>23:02</h><w>cfleming</w>However applying these edits is likely to be much more efficient than replacing the whole text.</z><z id="t1456356064" t="cfleming The problem is that it’s difficult to know what the best return value is to allow efficient implementation across all editors. Perhaps [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] might have a better idea of that."><y>#</y><d>2016-02-24</d><h>23:21</h><w>cfleming</w>The problem is that it’s difficult to know what the best return value is to allow efficient implementation across all editors. Perhaps <a>@chrisoakman</a> might have a better idea of that.</z><z id="t1456356090" t="cfleming I’m going to try implementing the Cursive version with the diffs since for IntelliJ I’m almost certain it’s better."><y>#</y><d>2016-02-24</d><h>23:21</h><w>cfleming</w>I’m going to try implementing the Cursive version with the diffs since for IntelliJ I’m almost certain it’s better.</z><z id="t1456357050" t="chrisoakman catching up on this now"><y>#</y><d>2016-02-24</d><h>23:37</h><w>chrisoakman</w>catching up on this now</z><z id="t1456357076" t="chrisoakman I haven&apos;t really looked at the big diffs you linked"><y>#</y><d>2016-02-24</d><h>23:37</h><w>chrisoakman</w>I haven&apos;t really looked at the big diffs you linked</z><z id="t1456357104" t="chrisoakman Is there a one or two sentence summary of what this is about?"><y>#</y><d>2016-02-24</d><h>23:38</h><w>chrisoakman</w>Is there a one or two sentence summary of what this is about?</z><z id="t1456357127" t="chrisoakman a series of small character changes as opposed to text replacement?"><y>#</y><d>2016-02-24</d><h>23:38</h><w>chrisoakman</w>a series of small character changes as opposed to text replacement?</z><z id="t1456357132" t="cfleming Basically, my change works by creating a series of diffs to … right"><y>#</y><d>2016-02-24</d><h>23:38</h><w>cfleming</w>Basically, my change works by creating a series of diffs to … right</z><z id="t1456357181" t="cfleming In IntelliJ, this has a lot of advantages. The document isn’t stored as one linear string, and small diffs can be more efficiently applied."><y>#</y><d>2016-02-24</d><h>23:39</h><w>cfleming</w>In IntelliJ, this has a lot of advantages. The document isn’t stored as one linear string, and small diffs can be more efficiently applied.</z><z id="t1456357209" t="cfleming It will also create more sensible diff events for anything else listening to document events."><y>#</y><d>2016-02-24</d><h>23:40</h><w>cfleming</w>It will also create more sensible diff events for anything else listening to document events.</z><z id="t1456357222" t="cfleming I speculate that it’s much faster, but have no idea how to benchmark it."><y>#</y><d>2016-02-24</d><h>23:40</h><w>cfleming</w>I speculate that it’s much faster, but have no idea how to benchmark it.</z><z id="t1456357261" t="cfleming I thought that the parinfer algorithm would be much faster, but it’s not. It will certainly create less garbage, on the JVM at least, but that doesn’t appear to affect runtime."><y>#</y><d>2016-02-24</d><h>23:41</h><w>cfleming</w>I thought that the parinfer algorithm would be much faster, but it’s not. It will certainly create less garbage, on the JVM at least, but that doesn’t appear to affect runtime.</z><z id="t1456357287" t="chrisoakman that&apos;s really interesting; that is definitely not the case for the editors I have worked with"><y>#</y><d>2016-02-24</d><h>23:41</h><w>chrisoakman</w>that&apos;s really interesting; that is definitely not the case for the editors I have worked with</z><z id="t1456357314" t="chrisoakman re: this statement &quot;The document isn’t stored as one linear string, and small diffs can be more efficiently applied.&quot;"><y>#</y><d>2016-02-24</d><h>23:41</h><w>chrisoakman</w>re: this statement &quot;The document isn’t stored as one linear string, and small diffs can be more efficiently applied.&quot;</z><z id="t1456357344" t="cfleming Oh, and the algorithm doesn’t have to explicitly track cursor movement, since the cursor will be moved automatically when applying the diffs (same for the selection)"><y>#</y><d>2016-02-24</d><h>23:42</h><w>cfleming</w>Oh, and the algorithm doesn’t have to explicitly track cursor movement, since the cursor will be moved automatically when applying the diffs (same for the selection)</z><z id="t1456357370" t="cfleming Well, one thing is the API that the editor presents, and another thing is what it uses behind the scenes."><y>#</y><d>2016-02-24</d><h>23:42</h><w>cfleming</w>Well, one thing is the API that the editor presents, and another thing is what it uses behind the scenes.</z><z id="t1456357392" t="cfleming IntelliJ presents a view of the document as a linear CharSequence, but it’s not stored like that."><y>#</y><d>2016-02-24</d><h>23:43</h><w>cfleming</w>IntelliJ presents a view of the document as  a linear CharSequence, but it’s not stored like that.</z><z id="t1456357451" t="chrisoakman are there docs for the IntelliJ API?"><y>#</y><d>2016-02-24</d><h>23:44</h><w>chrisoakman</w>are there docs for the IntelliJ API?</z><z id="t1456357498" t="cfleming I’d be very surprised if any editor actually used a single char buffer, since the vast majority of editing activity is small insertions and deletions at arbitrary points in the document. This would be very inefficient if you had to copy all the time to do that."><y>#</y><d>2016-02-24</d><h>23:44</h><w>cfleming</w>I’d be very surprised if any editor actually used a single char buffer, since the vast majority of editing activity is small insertions and deletions at arbitrary points in the document. This would be very inefficient if you had to copy all the time to do that.</z><z id="t1456357508" t="cfleming Not to speak of, what are you looking for?"><y>#</y><d>2016-02-24</d><h>23:45</h><w>cfleming</w>Not to speak of, what are you looking for?</z><z id="t1456357546" t="cfleming There’s some Javadoc on some of the interfaces, but it doesn’t explain the implementation."><y>#</y><d>2016-02-24</d><h>23:45</h><w>cfleming</w>There’s some Javadoc on some of the interfaces, but it doesn’t explain the implementation.</z><z id="t1456357618" t="chrisoakman I was just curious"><y>#</y><d>2016-02-24</d><h>23:46</h><w>chrisoakman</w>I was just curious</z><z id="t1456357655" t="chrisoakman so everytime parinfer runs it returns a data structure of the edits to be made to the text it processed - is that correct?"><y>#</y><d>2016-02-24</d><h>23:47</h><w>chrisoakman</w>so everytime parinfer runs it returns a data structure of the edits to be made to the text it processed - is that correct?</z><z id="t1456357685" t="chrisoakman my first thought is dealing with &quot;undo&quot;"><y>#</y><d>2016-02-24</d><h>23:48</h><w>chrisoakman</w>my first thought is dealing with &quot;undo&quot;</z><z id="t1456357687" t="cfleming Yes, and the current API (subject to discussion) returns a function that you can invoke to get the fully-processed text."><y>#</y><d>2016-02-24</d><h>23:48</h><w>cfleming</w>Yes, and the current API (subject to discussion) returns a function that you can invoke to get the fully-processed text.</z><z id="t1456357705" t="cfleming It’s possible that this change is only useful to me."><y>#</y><d>2016-02-24</d><h>23:48</h><w>cfleming</w>It’s possible that this change is only useful to me.</z><z id="t1456357722" t="cfleming I have it ported to the Kotlin version but haven’t checked that in anywhere yet."><y>#</y><d>2016-02-24</d><h>23:48</h><w>cfleming</w>I have it ported to the Kotlin version but haven’t checked that in anywhere yet.</z><z id="t1456357732" t="chrisoakman that would be almost impossible to work with the Sublime Text API"><y>#</y><d>2016-02-24</d><h>23:48</h><w>chrisoakman</w>that would be almost impossible to work with the Sublime Text API</z><z id="t1456357737" t="chrisoakman in terms of handling &quot;undo&quot;"><y>#</y><d>2016-02-24</d><h>23:48</h><w>chrisoakman</w>in terms of handling &quot;undo&quot;</z><z id="t1456357748" t="chrisoakman it would be possible, but very very tricky"><y>#</y><d>2016-02-24</d><h>23:49</h><w>chrisoakman</w>it would be possible, but very very tricky</z><z id="t1456357754" t="cfleming You can’t group a series of changes into a single undoable thing?"><y>#</y><d>2016-02-24</d><h>23:49</h><w>cfleming</w>You can’t group a series of changes into a single undoable thing?</z><z id="t1456357778" t="cfleming You must still have to group the text change and the related caret movement, right?"><y>#</y><d>2016-02-24</d><h>23:49</h><w>cfleming</w>You must still have to group the text change and the related caret movement, right?</z><z id="t1456357788" t="chrisoakman hmm, maybe"><y>#</y><d>2016-02-24</d><h>23:49</h><w>chrisoakman</w>hmm, maybe</z><z id="t1456357832" t="chrisoakman undo in Sublime Text was pretty difficult; it doesn&apos;t give you the option to apply any change and not have it added to the undo stack"><y>#</y><d>2016-02-24</d><h>23:50</h><w>chrisoakman</w>undo in Sublime Text was pretty difficult; it doesn&apos;t give you the option to apply any change and not have it added to the undo stack</z><z id="t1456357846" t="cfleming That’s… limited."><y>#</y><d>2016-02-24</d><h>23:50</h><w>cfleming</w>That’s… limited.</z><z id="t1456357862" t="chrisoakman so I basically had to create a sentinel command for any parinfer change, and then overwrite &quot;undo&quot; to check if that command was the last command and undo twice"><y>#</y><d>2016-02-24</d><h>23:51</h><w>chrisoakman</w>so I basically had to create a sentinel command for any parinfer change, and then overwrite &quot;undo&quot; to check if that command was the last command and undo twice</z><z id="t1456357900" t="chrisoakman I have no idea what it would do if someone else&apos;s plugin overwrote &quot;undo&quot; like the Parinfer plugin does; I suspect one or both of them would break"><y>#</y><d>2016-02-24</d><h>23:51</h><w>chrisoakman</w>I have no idea what it would do if someone else&apos;s plugin overwrote &quot;undo&quot; like the Parinfer plugin does; I suspect one or both of them would break</z><z id="t1456357923" t="cfleming That’s… funky simple_smile"><y>#</y><d>2016-02-24</d><h>23:52</h><w>cfleming</w>That’s… funky <b>simple_smile</b></z><z id="t1456357930" t="chrisoakman totally"><y>#</y><d>2016-02-24</d><h>23:52</h><w>chrisoakman</w>totally</z><z id="t1456357941" t="chrisoakman it took a while to 1) figure that out and 2) make it work correctly"><y>#</y><d>2016-02-24</d><h>23:52</h><w>chrisoakman</w>it took a while to 1) figure that out and 2) make it work correctly</z><z id="t1456357957" t="chrisoakman Atom lets you apply changes to the buffer and skip the undo stack"><y>#</y><d>2016-02-24</d><h>23:52</h><w>chrisoakman</w>Atom lets you apply changes to the buffer and skip the undo stack</z><z id="t1456357970" t="chrisoakman so it would be relatively simple to apply N number of changes that all skipped the undo stack"><y>#</y><d>2016-02-24</d><h>23:52</h><w>chrisoakman</w>so it would be relatively simple to apply N number of changes that all skipped the undo stack</z><z id="t1456357976" t="cfleming Ok. I’m totally open to a decision that this change is not generally useful. I’ll definitely use it for my implementation."><y>#</y><d>2016-02-24</d><h>23:52</h><w>cfleming</w>Ok. I’m totally open to a decision that this change is not generally useful. I’ll definitely use it for my implementation.</z><z id="t1456358006" t="chrisoakman Were you able to do whole line replacement in IntelliJ?"><y>#</y><d>2016-02-24</d><h>23:53</h><w>chrisoakman</w>Were you able to do whole line replacement in IntelliJ?</z><z id="t1456358021" t="chrisoakman Was there a performance problem with that?"><y>#</y><d>2016-02-24</d><h>23:53</h><w>chrisoakman</w>Was there a performance problem with that?</z><z id="t1456358062" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] proposed above a modification where we passed a function to parinfer so it could modify the document directly. It sounds like this is not an option due to the variety of editor APIs."><y>#</y><d>2016-02-24</d><h>23:54</h><w>cfleming</w><a>@shaunlebron</a> proposed above a modification where we passed a function to parinfer so it could modify the document directly. It sounds like this is not an option due to the variety of editor APIs.</z><z id="t1456358097" t="cfleming So in the original algorithm, I’m worried about the garbage that it creates, although I didn’t see any problems in the benchmarks."><y>#</y><d>2016-02-24</d><h>23:54</h><w>cfleming</w>So in the original algorithm, I’m worried about the garbage that it creates, although I didn’t see any problems in the benchmarks.</z><z id="t1456358102" t="chrisoakman yeah; I don&apos;t think that would work well in certain circumstances"><y>#</y><d>2016-02-24</d><h>23:55</h><w>chrisoakman</w>yeah; I don&apos;t think that would work well in certain circumstances</z><z id="t1456358119" t="cfleming On the JVM, String.substring() copies the underlying char array."><y>#</y><d>2016-02-24</d><h>23:55</h><w>cfleming</w>On the JVM, String.substring() copies the underlying char array.</z><z id="t1456358134" t="cfleming Since the V8 version is so fast, I suspect it doesn’t."><y>#</y><d>2016-02-24</d><h>23:55</h><w>cfleming</w>Since the V8 version is so fast, I suspect it doesn’t.</z><z id="t1456358160" t="chrisoakman I thought the JVM version was faster than the JS version once we set up that benchmark?"><y>#</y><d>2016-02-24</d><h>23:56</h><w>chrisoakman</w>I thought the JVM version was faster than the JS version once we set up that benchmark?</z><z id="t1456358186" t="cfleming They’re about the same. One of my changes was to use benchmark.js to benchmark the V8 version - it runs in about 8ms."><y>#</y><d>2016-02-24</d><h>23:56</h><w>cfleming</w>They’re about the same. One of my changes was to use benchmark.js to benchmark the V8 version - it runs in about 8ms.</z><z id="t1456358200" t="cfleming The previous code probably didn’t warm the JVM up enough"><y>#</y><d>2016-02-24</d><h>23:56</h><w>cfleming</w>The previous code probably didn’t warm the JVM up enough</z></g><g id="s7"><z id="t1456358216" t="cfleming So that’s about the same speed as the JVM one is now."><y>#</y><d>2016-02-24</d><h>23:56</h><w>cfleming</w>So that’s about the same speed as the JVM one is now.</z><z id="t1456358252" t="chrisoakman seems like the sort of things parinfer is doing would be relatively simple for a VM to optimize"><y>#</y><d>2016-02-24</d><h>23:57</h><w>chrisoakman</w>seems like the sort of things parinfer is doing would be relatively simple for a VM to optimize</z><z id="t1456358264" t="cfleming I profiled the code, it spends 70% of its time in processChar and updateParenTrailBounds."><y>#</y><d>2016-02-24</d><h>23:57</h><w>cfleming</w>I profiled the code, it spends 70% of its time in processChar and updateParenTrailBounds.</z><z id="t1456358266" t="chrisoakman object creation, string manipulation"><y>#</y><d>2016-02-24</d><h>23:57</h><w>chrisoakman</w>object creation, string manipulation</z><z id="t1456358279" t="chrisoakman yeah - that is consistent with the Python results too"><y>#</y><d>2016-02-24</d><h>23:57</h><w>chrisoakman</w>yeah - that is consistent with the Python results too</z><z id="t1456358330" t="cfleming I’m planning to use this diff version I have and implement it using the Cursive lexer - I speculate that will be faster due to the fact that updateParenTrailBounds will only run per token rather than per char."><y>#</y><d>2016-02-24</d><h>23:58</h><w>cfleming</w>I’m planning to use this diff version I have and implement it using the Cursive lexer - I speculate that will be faster due to the fact that updateParenTrailBounds will only run per token rather than per char.</z><z id="t1456358366" t="cfleming Although it’s already pretty fast."><y>#</y><d>2016-02-24</d><h>23:59</h><w>cfleming</w>Although it’s already pretty fast.</z><z id="t1456358391" t="cfleming It’s really hard to determine what the performance impact in the editor as a whole of the different approaches is, though."><y>#</y><d>2016-02-24</d><h>23:59</h><w>cfleming</w>It’s really hard to determine what the performance impact in the editor as a whole of the different approaches is, though.</z><z id="t1456358411" t="chrisoakman yeah; I would think that would be close to impossible unless you had it implemented"><y>#</y><d>2016-02-25</d><h>00:00</h><w>chrisoakman</w>yeah; I would think that would be close to impossible unless you had it implemented</z><z id="t1456358442" t="cfleming Anyway, I have to get a release out sometime soon, so I think I’ll go with this version and we can decide which implementation is better for the general version after some discussion."><y>#</y><d>2016-02-25</d><h>00:00</h><w>cfleming</w>Anyway, I have to get a release out sometime soon, so I think I’ll go with this version and we can decide which implementation is better for the general version after some discussion.</z><z id="t1456358457" t="cfleming To answer your earlier question, yes, IntelliJ can replace lines."><y>#</y><d>2016-02-25</d><h>00:00</h><w>cfleming</w>To answer your earlier question, yes, IntelliJ can replace lines.</z><z id="t1456358466" t="cfleming So I could use the original version and just update modified lines."><y>#</y><d>2016-02-25</d><h>00:01</h><w>cfleming</w>So I could use the original version and just update modified lines.</z><z id="t1456358498" t="chrisoakman my general sense would be to try that first and then see if it&apos;s fast enough"><y>#</y><d>2016-02-25</d><h>00:01</h><w>chrisoakman</w>my general sense would be to try that first and then see if it&apos;s fast enough</z><z id="t1456358519" t="chrisoakman sounds like IntelliJ is quite different than these other editors though"><y>#</y><d>2016-02-25</d><h>00:01</h><w>chrisoakman</w>sounds like IntelliJ is quite different than these other editors though</z><z id="t1456358535" t="cfleming It definitely is - it’s way more complicated."><y>#</y><d>2016-02-25</d><h>00:02</h><w>cfleming</w>It definitely is - it’s way more complicated.</z><z id="t1456358561" t="cfleming It’s actually amazingly sophisticated - people complain about the performance but don’t realise what it’s doing behind the scenes."><y>#</y><d>2016-02-25</d><h>00:02</h><w>cfleming</w>It’s actually amazingly sophisticated - people complain about the performance but don’t realise what it’s doing behind the scenes.</z><z id="t1456358586" t="cfleming And with the new zero-latency stuff it’s more responsive for typing than everything but gvim."><y>#</y><d>2016-02-25</d><h>00:03</h><w>cfleming</w>And with the new zero-latency stuff it’s more responsive for typing than everything but gvim.</z><z id="t1456358655" t="chrisoakman I&apos;m amazed that people were ever willing to use an editor that had any typing latency 😉"><y>#</y><d>2016-02-25</d><h>00:04</h><w>chrisoakman</w>I&apos;m amazed that people were ever willing to use an editor that had any typing latency <b>😉</b></z><z id="t1456358674" t="chrisoakman that seems like such a fundamental UX violation for a text editor"><y>#</y><d>2016-02-25</d><h>00:04</h><w>chrisoakman</w>that seems like such a fundamental UX violation for a text editor</z><z id="t1456358675" t="cfleming Well, Atom comes out pretty badly in the latency tests simple_smile"><y>#</y><d>2016-02-25</d><h>00:04</h><w>cfleming</w>Well, Atom comes out pretty badly in the latency tests <b>simple_smile</b></z><z id="t1456358693" t="chrisoakman I suppose the criteria is &quot;below a noticeable threshold&quot;"><y>#</y><d>2016-02-25</d><h>00:04</h><w>chrisoakman</w>I suppose the criteria is &quot;below a noticeable threshold&quot;</z><z id="t1456358711" t="cfleming That could be their new tagline: Atom - the performance of an IDE with the functionality of a text editor!"><y>#</y><d>2016-02-25</d><h>00:05</h><w>cfleming</w>That could be their new tagline: Atom - the performance of an IDE with the functionality of a text editor!</z><z id="t1456358717" t="chrisoakman I&apos;m a fast typer, but I don&apos;t think I would ever notice a difference between 10 and 20ms"><y>#</y><d>2016-02-25</d><h>00:05</h><w>chrisoakman</w>I&apos;m a fast typer, but I don&apos;t think I would ever notice a difference between 10 and 20ms</z><z id="t1456358723" t="cfleming Might not shift a lot of copies though."><y>#</y><d>2016-02-25</d><h>00:05</h><w>cfleming</w>Might not shift a lot of copies though.</z><z id="t1456358755" t="cfleming Did you read the typing with pleasure article? It’s well worth a read, it’s really interesting and deals with perceived latency a lot."><y>#</y><d>2016-02-25</d><h>00:05</h><w>cfleming</w>Did you read the typing with pleasure article? It’s well worth a read, it’s really interesting and deals with perceived latency a lot.</z><z id="t1456358779" t="chrisoakman I skimmed it; need to go back and give it a full read"><y>#</y><d>2016-02-25</d><h>00:06</h><w>chrisoakman</w>I skimmed it; need to go back and give it a full read</z><z id="t1456358807" t="chrisoakman one of these days I&apos;m going to write an editor in a language that deals with concurrency properly"><y>#</y><d>2016-02-25</d><h>00:06</h><w>chrisoakman</w>one of these days I&apos;m going to write an editor in a language that deals with concurrency properly</z><z id="t1456358809" t="chrisoakman like Erlang or Pony"><y>#</y><d>2016-02-25</d><h>00:06</h><w>chrisoakman</w>like Erlang or Pony</z><z id="t1456358827" t="chrisoakman this is on my todo list once I have infinite time and infinite money"><y>#</y><d>2016-02-25</d><h>00:07</h><w>chrisoakman</w>this is on my todo list once I have infinite time and infinite money</z><z id="t1456358865" t="cfleming That shouldn’t take too long to achieve."><y>#</y><d>2016-02-25</d><h>00:07</h><w>cfleming</w>That shouldn’t take too long to achieve.</z><z id="t1456358953" t="cfleming But most editor implementations aren’t actually concurrent at all."><y>#</y><d>2016-02-25</d><h>00:09</h><w>cfleming</w>But most editor implementations aren’t actually concurrent at all.</z><z id="t1456358971" t="cfleming IntelliJ has really good concurrency support, but editor modifications are still serialised."><y>#</y><d>2016-02-25</d><h>00:09</h><w>cfleming</w>IntelliJ has really good concurrency support, but editor modifications are still serialised.</z><z id="t1456358993" t="chrisoakman I&apos;ve given this some thought; haven&apos;t implemented anything to test it out yet"><y>#</y><d>2016-02-25</d><h>00:09</h><w>chrisoakman</w>I&apos;ve given this some thought; haven&apos;t implemented anything to test it out yet</z><z id="t1456359008" t="chrisoakman but my thinking would be to completely separate these logically different parts of the system"><y>#</y><d>2016-02-25</d><h>00:10</h><w>chrisoakman</w>but my thinking would be to completely separate these logically different parts of the system</z><z id="t1456359019" t="chrisoakman so the UI never has latency and only communicates through message passing"><y>#</y><d>2016-02-25</d><h>00:10</h><w>chrisoakman</w>so the UI never has latency and only communicates through message passing</z><z id="t1456359029" t="cfleming React Editor"><y>#</y><d>2016-02-25</d><h>00:10</h><w>cfleming</w>React Editor</z><z id="t1456359050" t="chrisoakman I like the idea that &quot;the syntax highlighting can crash&quot; and have zero effect on the rest of the system"><y>#</y><d>2016-02-25</d><h>00:10</h><w>chrisoakman</w>I like the idea that &quot;the syntax highlighting can crash&quot; and have zero effect on the rest of the system</z><z id="t1456359059" t="chrisoakman so could any plugin"><y>#</y><d>2016-02-25</d><h>00:10</h><w>chrisoakman</w>so could any plugin</z><z id="t1456359069" t="chrisoakman hot-code swapping, live-updates, etc"><y>#</y><d>2016-02-25</d><h>00:11</h><w>chrisoakman</w>hot-code swapping, live-updates, etc</z><z id="t1456359073" t="chrisoakman like a true Erlang OTP system"><y>#</y><d>2016-02-25</d><h>00:11</h><w>chrisoakman</w>like a true Erlang OTP system</z><z id="t1456359104" t="cfleming Erlang is actually probably not a great choice though, I suspect."><y>#</y><d>2016-02-25</d><h>00:11</h><w>cfleming</w>Erlang is actually probably not a great choice though, I suspect.</z><z id="t1456359108" t="cfleming Pony might be better."><y>#</y><d>2016-02-25</d><h>00:11</h><w>cfleming</w>Pony might be better.</z><z id="t1456359127" t="chrisoakman I was reading the Pony docs last night 😉"><y>#</y><d>2016-02-25</d><h>00:12</h><w>chrisoakman</w>I was reading the Pony docs last night <b>😉</b></z><z id="t1456359138" t="chrisoakman the UI-portion would be pretty complex"><y>#</y><d>2016-02-25</d><h>00:12</h><w>chrisoakman</w>the UI-portion would be pretty complex</z><z id="t1456359155" t="chrisoakman Erlang has some support for wxWidgets, but I would love to not build the UI in wxWidgets..."><y>#</y><d>2016-02-25</d><h>00:12</h><w>chrisoakman</w>Erlang has some support for wxWidgets, but I would love to not build the UI in wxWidgets...</z><z id="t1456359157" t="cfleming In general, Erlang is actually quite slow, and an editor wouldn’t take much advantage of its benefits IMO"><y>#</y><d>2016-02-25</d><h>00:12</h><w>cfleming</w>In general, Erlang is actually quite slow, and an editor wouldn’t take much advantage of its benefits IMO</z><z id="t1456359194" t="chrisoakman you think it would be too slow for editing tasks?"><y>#</y><d>2016-02-25</d><h>00:13</h><w>chrisoakman</w>you think it would be too slow for editing tasks?</z><z id="t1456359230" t="cfleming Well, I’m not sure - Erlang’s huge benefit is in parallelisation and robustness."><y>#</y><d>2016-02-25</d><h>00:13</h><w>cfleming</w>Well, I’m not sure - Erlang’s huge benefit is in parallelisation and robustness.</z><z id="t1456359255" t="cfleming I suspect that in an editor, it’s very difficult to parallelise many of the tasks."><y>#</y><d>2016-02-25</d><h>00:14</h><w>cfleming</w>I suspect that in an editor, it’s very difficult to parallelise many of the tasks.</z><z id="t1456359275" t="chrisoakman that&apos;s the crux of the problem; I wonder how possible that would be"><y>#</y><d>2016-02-25</d><h>00:14</h><w>chrisoakman</w>that&apos;s the crux of the problem; I wonder how possible that would be</z><z id="t1456359320" t="cfleming It’s hard. It might be easier for something like Clojure, where each top-level form is essentially independent."><y>#</y><d>2016-02-25</d><h>00:15</h><w>cfleming</w>It’s hard. It might be easier for something like Clojure, where each top-level form is essentially independent.</z><z id="t1456359342" t="cfleming But the problem is always when your code is invalid, which is pretty much the standard state of things while editing."><y>#</y><d>2016-02-25</d><h>00:15</h><w>cfleming</w>But the problem is always when your code is invalid, which is pretty much the standard state of things while editing.</z><z id="t1456359345" t="chrisoakman this might be an architectural dead-end; just something I&apos;ve been thinking about the last year or so"><y>#</y><d>2016-02-25</d><h>00:15</h><w>chrisoakman</w>this might be an architectural dead-end; just something I&apos;ve been thinking about the last year or so</z><z id="t1456359412" t="cfleming I think that you’d find you might be able to achieve parallelisation, but making it performant would be very hard since many of the tasks are intrinsically serial."><y>#</y><d>2016-02-25</d><h>00:16</h><w>cfleming</w>I think that you’d find you might be able to achieve parallelisation, but making it performant would be very hard since many of the tasks are intrinsically serial.</z><z id="t1456359438" t="cfleming Using Erlang or Pony or something like that, you might be able to use an actor per line, or something."><y>#</y><d>2016-02-25</d><h>00:17</h><w>cfleming</w>Using Erlang or Pony or something like that, you might be able to use an actor per line, or something.</z><z id="t1456359469" t="cfleming But you still have the problem that your syntax highlighter for each line needs the state at the end of the previous line to do its thing."><y>#</y><d>2016-02-25</d><h>00:17</h><w>cfleming</w>But you still have the problem that your syntax highlighter for each line needs the state at the end of the previous line to do its thing.</z><z id="t1456359581" t="cfleming Lunch: back in a bit"><y>#</y><d>2016-02-25</d><h>00:19</h><w>cfleming</w>Lunch: back in a bit</z><z id="t1456359590" t="chrisoakman k"><y>#</y><d>2016-02-25</d><h>00:19</h><w>chrisoakman</w>k</z><z id="t1456359597" t="chrisoakman I wanted to give this a try: https://medium.com/@evnbr/coding-in-color-3a6db2743a1e#.d1in32l59"><y>#</y><d>2016-02-25</d><h>00:19</h><w>chrisoakman</w>I wanted to give this a try: <a href="https://medium.com/@evnbr/coding-in-color-3a6db2743a1e#.d1in32l59" target="_blank">https://medium.com/@evnbr/coding-in-color-3a6db2743a1e#.d1in32l59</a></z><z id="t1456359608" t="chrisoakman man - text editing is such a tricky problem"><y>#</y><d>2016-02-25</d><h>00:20</h><w>chrisoakman</w>man - text editing is such a tricky problem</z><z id="t1456359617" t="chrisoakman very involved; lots of moving pieces"><y>#</y><d>2016-02-25</d><h>00:20</h><w>chrisoakman</w>very involved; lots of moving pieces</z><z id="t1456359709" t="cfleming Cursive already does something simplistic like this, and has the opportunity to do much more. Currently I highlight symbols from clojure.core differently."><y>#</y><d>2016-02-25</d><h>00:21</h><w>cfleming</w>Cursive already does something simplistic like this, and has the opportunity to do much more. Currently I highlight symbols from clojure.core differently.</z><z id="t1456359731" t="cfleming But I could relatively easily highlight local vars differently, or macros - I have an issue about that somewhere."><y>#</y><d>2016-02-25</d><h>00:22</h><w>cfleming</w>But I could relatively easily highlight local vars differently, or macros - I have an issue about that somewhere.</z><z id="t1456359837" t="chrisoakman yeah - one thing that essay / idea doesn&apos;t take into account is function scope"><y>#</y><d>2016-02-25</d><h>00:23</h><w>chrisoakman</w>yeah - one thing that essay / idea doesn&apos;t take into account is function scope</z><z id="t1456359849" t="chrisoakman it assumes that if you have a symbol, it should be the same color in any scope"><y>#</y><d>2016-02-25</d><h>00:24</h><w>chrisoakman</w>it assumes that if you have a symbol, it should be the same color in any scope</z><z id="t1456359850" t="cfleming The linked KDE article talks about that."><y>#</y><d>2016-02-25</d><h>00:24</h><w>cfleming</w>The linked KDE article talks about that.</z><z id="t1456359853" t="chrisoakman which may be what you want, and may be what you don&apos;t"><y>#</y><d>2016-02-25</d><h>00:24</h><w>chrisoakman</w>which may be what you want, and may be what you don&apos;t</z><z id="t1456359868" t="chrisoakman ok; I need to give that a deep read"><y>#</y><d>2016-02-25</d><h>00:24</h><w>chrisoakman</w>ok; I need to give that a deep read</z><z id="t1456359872" t="chrisoakman I also just skimmed it"><y>#</y><d>2016-02-25</d><h>00:24</h><w>chrisoakman</w>I also just skimmed it</z><z id="t1456359886" t="cfleming Each local var within a particular scope has an individual colour."><y>#</y><d>2016-02-25</d><h>00:24</h><w>cfleming</w>Each local var within a particular scope has an individual colour.</z><z id="t1456359902" t="chrisoakman nice"><y>#</y><d>2016-02-25</d><h>00:25</h><w>chrisoakman</w>nice</z><z id="t1456359910" t="chrisoakman so the editor has to have some knowledge of the underlying program then"><y>#</y><d>2016-02-25</d><h>00:25</h><w>chrisoakman</w>so the editor has to have some knowledge of the underlying program then</z><z id="t1456359915" t="chrisoakman in order to do that"><y>#</y><d>2016-02-25</d><h>00:25</h><w>chrisoakman</w>in order to do that</z><z id="t1456359934" t="cfleming Right, and in Cursive I have a ton of semantic knowledge I can use."><y>#</y><d>2016-02-25</d><h>00:25</h><w>cfleming</w>Right, and in Cursive I have a ton of semantic knowledge I can use.</z><z id="t1456359960" t="cfleming I’m also going to use that soon for intelligent autocomplete, so autocomplete in different contexts shows different things."><y>#</y><d>2016-02-25</d><h>00:26</h><w>cfleming</w>I’m also going to use that soon for intelligent autocomplete, so autocomplete in different contexts shows different things.</z><z id="t1456360024" t="cfleming Anyway: lunch, and then I need to actually do some work simple_smile"><y>#</y><d>2016-02-25</d><h>00:27</h><w>cfleming</w>Anyway: lunch, and then I need to actually do some work <b>simple_smile</b></z><z id="t1456360065" t="chrisoakman later simple_smile"><y>#</y><d>2016-02-25</d><h>00:27</h><w>chrisoakman</w>later <b>simple_smile</b></z><z id="t1456360294" t="snoe [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] you need might be interested in looking at https://github.com/oakes/SolidOak one of the goals of neovim was to allow a GUI to embed and pass messages from the ui thread."><y>#</y><d>2016-02-25</d><h>00:31</h><w>snoe</w><a>@chrisoakman</a> you need might be interested in looking at <a href="https://github.com/oakes/SolidOak" target="_blank">https://github.com/oakes/SolidOak</a> one of the goals of neovim was to allow a GUI to embed and pass messages from the ui thread.</z><z id="t1456360328" t="chrisoakman word"><y>#</y><d>2016-02-25</d><h>00:32</h><w>chrisoakman</w>word</z><z id="t1456360341" t="chrisoakman I saw SolidOak when it first came out, but didn&apos;t dive too deeply"><y>#</y><d>2016-02-25</d><h>00:32</h><w>chrisoakman</w>I saw SolidOak when it first came out, but didn&apos;t dive too deeply</z><z id="t1456369657" t="cfleming [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] : Your original JVM port was based on 1.5.3, right?"><y>#</y><d>2016-02-25</d><h>03:07</h><w>cfleming</w><a>@chrisoakman</a>: Your original JVM port was based on 1.5.3, right?</z><z id="t1456369708" t="cfleming I’m working on updating master to 1.6.1, but some of the new test cases fail."><y>#</y><d>2016-02-25</d><h>03:08</h><w>cfleming</w>I’m working on updating master to 1.6.1, but some of the new test cases fail.</z><z id="t1456370488" t="cfleming So something I don’t understand. I’m looking at the paren-mode test for (foo . The tests for it all pass, except for the cross-mode preservation test, which returns (foo) . But surely that is correct for indent mode?"><y>#</y><d>2016-02-25</d><h>03:21</h><w>cfleming</w>So something I don’t understand. I’m looking at the paren-mode test for <code>(foo</code>. The tests for it all pass, except for the cross-mode preservation test, which returns <code>(foo)</code>.  But surely that is correct for indent mode?</z><z id="t1456371020" t="cfleming Similarly for: (defn foo [arg bar) "><y>#</y><d>2016-02-25</d><h>03:30</h><w>cfleming</w>Similarly for:
<pre>(defn foo
  [arg
  bar)
</pre></z><z id="t1456371058" t="cfleming Parinfer-JVM is returning: (defn foo [arg] bar) For the cross mode preservation, which looks right to me."><y>#</y><d>2016-02-25</d><h>03:30</h><w>cfleming</w>Parinfer-JVM is returning:
<pre>(defn foo
  [arg]
  bar)
</pre>
For the cross mode preservation, which looks right to me.</z><z id="t1456371629" t="shaunlebron hi [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] , looking at it now"><y>#</y><d>2016-02-25</d><h>03:40</h><w>shaunlebron</w>hi <a>@cfleming</a>, looking at it now</z><z id="t1456371796" t="shaunlebron I added test cases for errors"><y>#</y><d>2016-02-25</d><h>03:43</h><w>shaunlebron</w>I added test cases for errors</z><z id="t1456371814" t="shaunlebron (foo in paren mode returns an unclosed-paren error"><y>#</y><d>2016-02-25</d><h>03:43</h><w>shaunlebron</w><code>(foo</code> in paren mode returns an <code>unclosed-paren</code> error</z><z id="t1456371832" t="cfleming Oh, so if the error doesn’t match, Mocha doesn’t continue the test case?"><y>#</y><d>2016-02-25</d><h>03:43</h><w>cfleming</w>Oh, so if the error doesn’t match, Mocha doesn’t continue the test case?</z><z id="t1456371836" t="shaunlebron so idempotent tests should only be run against successful results"><y>#</y><d>2016-02-25</d><h>03:43</h><w>shaunlebron</w>so idempotent tests should only be run against successful results</z><z id="t1456371842" t="shaunlebron right: https://github.com/shaunlebron/parinfer/blob/master/lib/test/cases.js#L38-L44"><y>#</y><d>2016-02-25</d><h>03:44</h><w>shaunlebron</w>right: <a href="https://github.com/shaunlebron/parinfer/blob/master/lib/test/cases.js#L38-L44" target="_blank">https://github.com/shaunlebron/parinfer/blob/master/lib/test/cases.js#L38-L44</a></z><z id="t1456371857" t="cfleming That’s different from clojure.test, then, which is the problem."><y>#</y><d>2016-02-25</d><h>03:44</h><w>cfleming</w>That’s different from clojure.test, then, which is the problem.</z><z id="t1456371877" t="shaunlebron well, it’s not Mocha’s choice right"><y>#</y><d>2016-02-25</d><h>03:44</h><w>shaunlebron</w>well, it’s not Mocha’s choice right</z><z id="t1456371898" t="shaunlebron the end of the code block I linked will return from the test case early if the result has an error"><y>#</y><d>2016-02-25</d><h>03:44</h><w>shaunlebron</w>the end of the code block I linked will <code>return</code> from the test case early if the result has an error</z><z id="t1456371919" t="cfleming You’re absolutely right, my bad."><y>#</y><d>2016-02-25</d><h>03:45</h><w>cfleming</w>You’re absolutely right, my bad.</z><z id="t1456371969" t="shaunlebron np"><y>#</y><d>2016-02-25</d><h>03:46</h><w>shaunlebron</w>np</z><z id="t1456371982" t="cfleming I’m also having problems with some of the paren mode tests, which are modifying indentation in the idempotency tests."><y>#</y><d>2016-02-25</d><h>03:46</h><w>cfleming</w>I’m also having problems with some of the paren mode tests, which are modifying indentation in the idempotency tests.</z><z id="t1456372031" t="cfleming I don’t understand why paren mode modifies: (let [foo 1 bar 2 baz 3]) to (let [foo 1 bar 2 baz 3]) "><y>#</y><d>2016-02-25</d><h>03:47</h><w>cfleming</w>I don’t understand why paren mode modifies:
<pre>(let [foo 1
           bar 2
           baz 3])
</pre>
to
<pre>(let [foo 1
       bar 2
       baz 3])
</pre></z><z id="t1456372044" t="shaunlebron that’s new too"><y>#</y><d>2016-02-25</d><h>03:47</h><w>shaunlebron</w>that’s new too</z><z id="t1456372050" t="shaunlebron uses cursorDx"><y>#</y><d>2016-02-25</d><h>03:47</h><w>shaunlebron</w>uses cursorDx</z><z id="t1456372064" t="shaunlebron there are three stages here"><y>#</y><d>2016-02-25</d><h>03:47</h><w>shaunlebron</w>there are three stages here</z><z id="t1456372068" t="cfleming Ohhh, these tests may not take that into account."><y>#</y><d>2016-02-25</d><h>03:47</h><w>cfleming</w>Ohhh, these tests may not take that into account.</z><z id="t1456372082" t="cfleming I’ll have to update the test harness a bit."><y>#</y><d>2016-02-25</d><h>03:48</h><w>cfleming</w>I’ll have to update the test harness a bit.</z><z id="t1456372083" t="shaunlebron https://github.com/shaunlebron/parinfer/blob/master/lib/test/cases.js#L47-L50"><y>#</y><d>2016-02-25</d><h>03:48</h><w>shaunlebron</w><a href="https://github.com/shaunlebron/parinfer/blob/master/lib/test/cases.js#L47-L50" target="_blank">https://github.com/shaunlebron/parinfer/blob/master/lib/test/cases.js#L47-L50</a></z><z id="t1456372105" t="cfleming Got it, thanks."><y>#</y><d>2016-02-25</d><h>03:48</h><w>cfleming</w>Got it, thanks.</z><z id="t1456372107" t="shaunlebron if there is a cursorDx, it’s no longer an idempotent operation"><y>#</y><d>2016-02-25</d><h>03:48</h><w>shaunlebron</w>if there is a cursorDx, it’s no longer an idempotent operation</z><z id="t1456372118" t="cfleming Right, that makes sense."><y>#</y><d>2016-02-25</d><h>03:48</h><w>cfleming</w>Right, that makes sense.</z><z id="t1456372129" t="cfleming Thanks!"><y>#</y><d>2016-02-25</d><h>03:48</h><w>cfleming</w>Thanks!</z><z id="t1456372143" t="shaunlebron cool simple_smile"><y>#</y><d>2016-02-25</d><h>03:49</h><w>shaunlebron</w>cool <b>simple_smile</b></z><z id="t1456372145" t="cfleming Totally unrelated, Stripe Atlas is amazing."><y>#</y><d>2016-02-25</d><h>03:49</h><w>cfleming</w>Totally unrelated, Stripe Atlas is amazing.</z><z id="t1456372157" t="shaunlebron man"><y>#</y><d>2016-02-25</d><h>03:49</h><w>shaunlebron</w>man</z><z id="t1456372178" t="shaunlebron day one at stripe, patrick explained that to us, four weeks ago"><y>#</y><d>2016-02-25</d><h>03:49</h><w>shaunlebron</w>day one at stripe, patrick explained that to us, four weeks ago</z><z id="t1456372182" t="cfleming That totally came out of left field."><y>#</y><d>2016-02-25</d><h>03:49</h><w>cfleming</w>That totally came out of left field.</z><z id="t1456372183" t="shaunlebron blown away"><y>#</y><d>2016-02-25</d><h>03:49</h><w>shaunlebron</w>blown away</z><z id="t1456372208" t="cfleming Haha, it’s hard not to talk about some of the things you hear about at companies like that."><y>#</y><d>2016-02-25</d><h>03:50</h><w>cfleming</w>Haha, it’s hard not to talk about some of the things you hear about at companies like that.</z><z id="t1456372212" t="cfleming Google was the same."><y>#</y><d>2016-02-25</d><h>03:50</h><w>cfleming</w>Google was the same.</z><z id="t1456372245" t="shaunlebron yeah for sure"><y>#</y><d>2016-02-25</d><h>03:50</h><w>shaunlebron</w>yeah for sure</z><z id="t1456372318" t="shaunlebron it was just really cool that owners of the company talked to all the new recruits about the values of the company, and then they brought atlas as a case for how they direct their products with those values"><y>#</y><d>2016-02-25</d><h>03:51</h><w>shaunlebron</w>it was just really cool that owners of the company talked to all the new recruits about the values of the company, and then they brought atlas as a case for how they direct their products with those values</z><z id="t1456372341" t="shaunlebron that was a word soup lol"><y>#</y><d>2016-02-25</d><h>03:52</h><w>shaunlebron</w>that was a word soup lol</z><z id="t1456372356" t="shaunlebron anyway, fun company, I like patrick"><y>#</y><d>2016-02-25</d><h>03:52</h><w>shaunlebron</w>anyway, fun company, I like patrick</z><z id="t1456372425" t="shaunlebron all companies have their list of values, but patrick goes out of his way to communicate to us how each product represents those values"><y>#</y><d>2016-02-25</d><h>03:53</h><w>shaunlebron</w>all companies have their list of values, but patrick goes out of his way to communicate to us how each product represents those values</z><z id="t1456372439" t="cfleming Yeah, pretty amazing guys. It’s a little worrying that John is literally young enough to be my son."><y>#</y><d>2016-02-25</d><h>03:53</h><w>cfleming</w>Yeah, pretty amazing guys. It’s a little worrying that John is literally young enough to be my son.</z><z id="t1456372456" t="shaunlebron LOL"><y>#</y><d>2016-02-25</d><h>03:54</h><w>shaunlebron</w>LOL</z><z id="t1456372461" t="shaunlebron you mean inspiring"><y>#</y><d>2016-02-25</d><h>03:54</h><w>shaunlebron</w>you mean inspiring</z><z id="t1456372466" t="shaunlebron yeah, they’re 25?"><y>#</y><d>2016-02-25</d><h>03:54</h><w>shaunlebron</w>yeah, they’re 25?</z><z id="t1456372484" t="shaunlebron richard branson said the same of elon"><y>#</y><d>2016-02-25</d><h>03:54</h><w>shaunlebron</w>richard branson said the same of elon</z><z id="t1456372517" t="cfleming It’s great when companies have good values, articulate them clearly and then explain how what they’re doing follows them."><y>#</y><d>2016-02-25</d><h>03:55</h><w>cfleming</w>It’s great when companies have good values, articulate them clearly and then explain how what they’re doing follows them.</z><z id="t1456372523" t="cfleming It’s distressingly rare."><y>#</y><d>2016-02-25</d><h>03:55</h><w>cfleming</w>It’s distressingly rare.</z><z id="t1456372565" t="shaunlebron i think respect, integrity, etc… were official enron values"><y>#</y><d>2016-02-25</d><h>03:56</h><w>shaunlebron</w>i think respect, integrity, etc… were official enron values</z><z id="t1456372734" t="cfleming Hmm, true."><y>#</y><d>2016-02-25</d><h>03:58</h><w>cfleming</w>Hmm, true.</z><z id="t1456441390" t="sekao [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] do you have plans to return the cursor position for parinfer-jvm? I&apos;m adding it to nightcode and wondering if I should find the new position manually when enter is hit"><y>#</y><d>2016-02-25</d><h>23:03</h><w>sekao</w><a>@chrisoakman</a> do you have plans to return the cursor position for parinfer-jvm? I&apos;m adding it to nightcode and wondering if I should find the new position manually when enter is hit</z><z id="t1456441419" t="cfleming [:attrs {:href &quot;/_/_/users/U080181PF&quot;}] : I have that change made, but I haven’t committed it yet. I’ll do it today."><y>#</y><d>2016-02-25</d><h>23:03</h><w>cfleming</w><a>@sekao</a>: I have that change made, but I haven’t committed it yet. I’ll do it today.</z><z id="t1456441440" t="sekao [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] oh thanks!"><y>#</y><d>2016-02-25</d><h>23:04</h><w>sekao</w><a>@cfleming</a> oh thanks!</z><z id="t1456442174" t="chrisoakman Hi Zach simple_smile"><y>#</y><d>2016-02-25</d><h>23:16</h><w>chrisoakman</w>Hi Zach <b>simple_smile</b></z><z id="t1456442194" t="chrisoakman did you get those cljs stickers?"><y>#</y><d>2016-02-25</d><h>23:16</h><w>chrisoakman</w>did you get those <b>cljs</b> stickers?</z><z id="t1456442247" t="chrisoakman [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : this is keeping up with the latest from parinfer.js?"><y>#</y><d>2016-02-25</d><h>23:17</h><w>chrisoakman</w><a>@cfleming</a>: this is keeping up with the latest from parinfer.js?</z><z id="t1456442252" t="cfleming Yep"><y>#</y><d>2016-02-25</d><h>23:17</h><w>cfleming</w>Yep</z><z id="t1456442256" t="chrisoakman right"><y>#</y><d>2016-02-25</d><h>23:17</h><w>chrisoakman</w>right</z><z id="t1456442267" t="chrisoakman I need to port those changes to parinfer.py and update the Sublime plugin"><y>#</y><d>2016-02-25</d><h>23:17</h><w>chrisoakman</w>I need to port those changes to parinfer.py and update the Sublime plugin</z><z id="t1456442270" t="cfleming It’s basically in line with 1.6.1, and the tests updated"><y>#</y><d>2016-02-25</d><h>23:17</h><w>cfleming</w>It’s basically in line with 1.6.1, and the tests updated</z><z id="t1456442284" t="chrisoakman I&apos;ve been working on a different project the last week or so"><y>#</y><d>2016-02-25</d><h>23:18</h><w>chrisoakman</w>I&apos;ve been working on a different project the last week or so</z><z id="t1456442298" t="cfleming Sure, no worries."><y>#</y><d>2016-02-25</d><h>23:18</h><w>cfleming</w>Sure, no worries.</z><z id="t1456442327" t="cfleming I’ve been investigating different parinfer approaches for most of the week."><y>#</y><d>2016-02-25</d><h>23:18</h><w>cfleming</w>I’ve been investigating different parinfer approaches for most of the week.</z><z id="t1456442351" t="cfleming I’m going to try to polish up the integration into IntelliJ today."><y>#</y><d>2016-02-25</d><h>23:19</h><w>cfleming</w>I’m going to try to polish up the integration into IntelliJ today.</z><z id="t1456442415" t="chrisoakman cool"><y>#</y><d>2016-02-25</d><h>23:20</h><w>chrisoakman</w>cool</z><z id="t1456442431" t="chrisoakman yeah - that Github thread keeps getting pinged by people who want Parinfer 😉"><y>#</y><d>2016-02-25</d><h>23:20</h><w>chrisoakman</w>yeah - that Github thread keeps getting pinged by people who want Parinfer <b>😉</b></z><z id="t1456442478" t="cfleming Yeah, no doubt - I’ll go with what I have now for the first release, in the interest of just getting something out there."><y>#</y><d>2016-02-25</d><h>23:21</h><w>cfleming</w>Yeah, no doubt - I’ll go with what I have now for the first release, in the interest of just getting something out there.</z><z id="t1456442519" t="cfleming BTW are you still highlighting the inferred parens differently? I can’t see any difference in Atom."><y>#</y><d>2016-02-25</d><h>23:21</h><w>cfleming</w>BTW are you still highlighting the inferred parens differently? I can’t see any difference in Atom.</z><z id="t1456442579" t="chrisoakman We&apos;re working on it: https://github.com/oakmac/atom-parinfer/issues/26"><y>#</y><d>2016-02-25</d><h>23:22</h><w>chrisoakman</w>We&apos;re working on it: <a href="https://github.com/oakmac/atom-parinfer/issues/26" target="_blank">https://github.com/oakmac/atom-parinfer/issues/26</a></z><z id="t1456442595" t="chrisoakman it&apos;s tricky; requires making changes to Atom&apos;s clojure language package"><y>#</y><d>2016-02-25</d><h>23:23</h><w>chrisoakman</w>it&apos;s tricky; requires making changes to Atom&apos;s clojure language package</z><z id="t1456442600" t="cfleming Ok"><y>#</y><d>2016-02-25</d><h>23:23</h><w>cfleming</w>Ok</z><z id="t1456442620" t="chrisoakman Shaun has been working on it this week actually; there&apos;s a PR where it works: https://github.com/oakmac/atom-parinfer/pull/50"><y>#</y><d>2016-02-25</d><h>23:23</h><w>chrisoakman</w>Shaun has been working on it this week actually; there&apos;s a PR where it works: <a href="https://github.com/oakmac/atom-parinfer/pull/50" target="_blank">https://github.com/oakmac/atom-parinfer/pull/50</a></z><z id="t1456442644" t="chrisoakman but I&apos;d rather pull those grammars changes into the main language package than distribute a custom one with the parinfer extension"><y>#</y><d>2016-02-25</d><h>23:24</h><w>chrisoakman</w>but I&apos;d rather pull those grammars changes into the main language package than distribute a custom one with the parinfer extension</z><z id="t1456442663" t="chrisoakman but either way, it&apos;s close to getting there"><y>#</y><d>2016-02-25</d><h>23:24</h><w>chrisoakman</w>but either way, it&apos;s close to getting there</z><z id="t1456442774" t="cfleming Ok cool, thanks."><y>#</y><d>2016-02-25</d><h>23:26</h><w>cfleming</w>Ok cool, thanks.</z><z id="t1456442790" t="cfleming Fortunately I bundle everything together so I can do this."><y>#</y><d>2016-02-25</d><h>23:26</h><w>cfleming</w>Fortunately I bundle everything together so I can do this.</z><z id="t1456443217" t="chrisoakman Yeah - the atom package for the clojure language is pretty slim. There are essentially no tests for it: https://github.com/atom/language-clojure/issues/38"><y>#</y><d>2016-02-25</d><h>23:33</h><w>chrisoakman</w>Yeah - the atom package for the clojure language is pretty slim. There are essentially no tests for it: <a href="https://github.com/atom/language-clojure/issues/38" target="_blank">https://github.com/atom/language-clojure/issues/38</a></z><z id="t1456443243" t="chrisoakman seems like they just copied it over from TextMate and then called it good"><y>#</y><d>2016-02-25</d><h>23:34</h><w>chrisoakman</w>seems like they just copied it over from TextMate and then called it good</z><z id="t1456443256" t="chrisoakman I suspect most of the core Atom developers aren&apos;t using Clojure on a regular basis"><y>#</y><d>2016-02-25</d><h>23:34</h><w>chrisoakman</w>I suspect most of the core Atom developers aren&apos;t using Clojure on a regular basis</z><z id="t1456446122" t="cfleming [:attrs {:href &quot;/_/_/users/U080181PF&quot;}] : I just pushed 0.3.0, which has the cursorX fix."><y>#</y><d>2016-02-26</d><h>00:22</h><w>cfleming</w><a>@sekao</a>: I just pushed 0.3.0, which has the cursorX fix.</z><z id="t1456446170" t="cfleming It’s not published anywhere right now, you’ll have to pull it and build it."><y>#</y><d>2016-02-26</d><h>00:22</h><w>cfleming</w>It’s not published anywhere right now, you’ll have to pull it and build it.</z><z id="t1456446344" t="chrisoakman thank you for keeping up with parinfer-jvm [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] simple_smile"><y>#</y><d>2016-02-26</d><h>00:25</h><w>chrisoakman</w>thank you for keeping up with parinfer-jvm <a>@cfleming</a> <b>simple_smile</b></z><z id="t1456447916" t="chrisoakman a lot of that was Parinfer related simple_smile"><y>#</y><d>2016-02-26</d><h>00:51</h><w>chrisoakman</w>a lot of that was Parinfer related <b>simple_smile</b></z><z id="t1456448619" t="cfleming Haha, nice simple_smile"><y>#</y><d>2016-02-26</d><h>01:03</h><w>cfleming</w>Haha, nice <b>simple_smile</b></z><z id="t1456448643" t="sekao [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] yep I got the stickers! I&apos;m only gonna give them to my students who like clojure"><y>#</y><d>2016-02-26</d><h>01:04</h><w>sekao</w><a>@chrisoakman</a> yep I got the stickers! I&apos;m only gonna give them to my students who like clojure</z><z id="t1456448681" t="chrisoakman rationing, eh?"><y>#</y><d>2016-02-26</d><h>01:04</h><w>chrisoakman</w>rationing, eh?</z><z id="t1456448685" t="sekao [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] thanks very much I&apos;ll check it out"><y>#</y><d>2016-02-26</d><h>01:04</h><w>sekao</w><a>@cfleming</a> thanks very much I&apos;ll check it out</z><z id="t1456448730" t="sekao It&apos;s the carrot. Haven&apos;t figured out the stick yet"><y>#</y><d>2016-02-26</d><h>01:05</h><w>sekao</w>It&apos;s the carrot. Haven&apos;t figured out the stick yet</z><z id="t1456448792" t="chrisoakman I don&apos;t remember where I heard this from, but you&apos;re teaching at The Iron Yard these days?"><y>#</y><d>2016-02-26</d><h>01:06</h><w>chrisoakman</w>I don&apos;t remember where I heard this from, but you&apos;re teaching at The Iron Yard these days?</z><z id="t1456448903" t="sekao Yep, I&apos;m their first java instructor and I teach some clojure as well"><y>#</y><d>2016-02-26</d><h>01:08</h><w>sekao</w>Yep, I&apos;m their first java instructor and I teach some clojure as well</z><z id="t1456448919" t="chrisoakman neat"><y>#</y><d>2016-02-26</d><h>01:08</h><w>chrisoakman</w>neat</z><z id="t1456448937" t="chrisoakman I considered teaching at their Houston chapter here, but I couldn&apos;t bring myself to teach non-clojure"><y>#</y><d>2016-02-26</d><h>01:08</h><w>chrisoakman</w>I considered teaching at their Houston chapter here, but I couldn&apos;t bring myself to teach non-clojure</z><z id="t1456448980" t="cfleming [:attrs {:href &quot;/_/_/users/U080181PF&quot;}] : Do you teach Clojure to non-programmers, or to people with other dev experience?"><y>#</y><d>2016-02-26</d><h>01:09</h><w>cfleming</w><a>@sekao</a>: Do you teach Clojure to non-programmers, or to people with other dev experience?</z><z id="t1456449052" t="sekao Most have no experience other than the java I teach them beforehand"><y>#</y><d>2016-02-26</d><h>01:10</h><w>sekao</w>Most have no experience other than the java I teach them beforehand</z><z id="t1456449151" t="sekao I get into clojure weeks 8 and 9 which is the functional programming part"><y>#</y><d>2016-02-26</d><h>01:12</h><w>sekao</w>I get into clojure weeks 8 and 9 which is the functional programming part</z><z id="t1456449235" t="cfleming How do they find it?"><y>#</y><d>2016-02-26</d><h>01:13</h><w>cfleming</w>How do they find it?</z><z id="t1456449242" t="cfleming Is it difficult for them after Java?"><y>#</y><d>2016-02-26</d><h>01:14</h><w>cfleming</w>Is it difficult for them after Java?</z><z id="t1456449934" t="sekao Yeah they actually found it pretty hard. One problem was that they had a really hard time editing it. They couldn&apos;t remember paredit commands, and without it their parens were constantly unbalanced. Hence why I&apos;m here :)"><y>#</y><d>2016-02-26</d><h>01:25</h><w>sekao</w>Yeah they actually found it pretty hard. One problem was that they had a really hard time editing it. They couldn&apos;t remember paredit commands, and without it their parens were constantly unbalanced. Hence why I&apos;m here :)</z><z id="t1456450066" t="cfleming Nice, I’d be interested to hear how it works out for them."><y>#</y><d>2016-02-26</d><h>01:27</h><w>cfleming</w>Nice, I’d be interested to hear how it works out for them.</z><z id="t1456450072" t="chrisoakman oh man"><y>#</y><d>2016-02-26</d><h>01:27</h><w>chrisoakman</w>oh man</z><z id="t1456450075" t="chrisoakman yeah, that&apos;s huge"><y>#</y><d>2016-02-26</d><h>01:27</h><w>chrisoakman</w>yeah, that&apos;s huge</z><z id="t1456450077" t="cfleming I have a couple of people interested in using Cursive for education"><y>#</y><d>2016-02-26</d><h>01:27</h><w>cfleming</w>I have a couple of people interested in using Cursive for education</z><z id="t1456450089" t="chrisoakman I need to write about this, but I think Parinfer is a game-changer for Lisp"><y>#</y><d>2016-02-26</d><h>01:28</h><w>chrisoakman</w>I need to write about this, but I think Parinfer is a game-changer for Lisp</z><z id="t1456450116" t="cfleming I’m very interested to see how newbies find it."><y>#</y><d>2016-02-26</d><h>01:28</h><w>cfleming</w>I’m very interested to see how newbies find it.</z><z id="t1456450118" t="chrisoakman it totally removes the &quot;balance parens&quot; or &quot;learn an extreme editing mode&quot; part of the equation"><y>#</y><d>2016-02-26</d><h>01:28</h><w>chrisoakman</w>it totally removes the &quot;balance parens&quot; or &quot;learn an extreme editing mode&quot; part of the equation</z><z id="t1456450134" t="chrisoakman (I think the learning curve of paredit is too steep)"><y>#</y><d>2016-02-26</d><h>01:28</h><w>chrisoakman</w>(I think the learning curve of paredit is too steep)</z><z id="t1456450171" t="cfleming No doubt"><y>#</y><d>2016-02-26</d><h>01:29</h><w>cfleming</w>No doubt</z><z id="t1456450171" t="chrisoakman I&apos;m trying to promote the idea that Parinfer turns Lisp into an off-side rule language like Python or CoffeeScript"><y>#</y><d>2016-02-26</d><h>01:29</h><w>chrisoakman</w>I&apos;m trying to promote the idea that Parinfer turns Lisp into an off-side rule language like Python or CoffeeScript</z><z id="t1456450181" t="cfleming Right, it pretty much does that."><y>#</y><d>2016-02-26</d><h>01:29</h><w>cfleming</w>Right, it pretty much does that.</z><z id="t1456450209" t="cfleming I should actually take PyCharm for a spin, I don’t know what editor functionality they provide around indentation."><y>#</y><d>2016-02-26</d><h>01:30</h><w>cfleming</w>I should actually take PyCharm for a spin, I don’t know what editor functionality they provide around indentation.</z><z id="t1456450406" t="sekao yeah i’ll definitely let y’all know how it goes. my current class is on week 4 so i have some time before we get into clojure"><y>#</y><d>2016-02-26</d><h>01:33</h><w>sekao</w>yeah i’ll definitely let y’all know how it goes. my current class is on week 4 so i have some time before we get into clojure</z><z id="t1456450445" t="chrisoakman sounds good; let us know if you run into anything"><y>#</y><d>2016-02-26</d><h>01:34</h><w>chrisoakman</w>sounds good; let us know if you run into anything</z><z id="t1456450466" t="chrisoakman FYI - I&apos;m a fan of The Iron Yard. I have spoken to every cohort here in Houston"><y>#</y><d>2016-02-26</d><h>01:34</h><w>chrisoakman</w>FYI - I&apos;m a fan of The Iron Yard. I have spoken to every cohort here in Houston</z><z id="t1456450492" t="chrisoakman in general I&apos;m bullish on the idea of these coding bootcamps; hired some people out of one at my last job and taught them CLJS"><y>#</y><d>2016-02-26</d><h>01:34</h><w>chrisoakman</w>in general I&apos;m bullish on the idea of these coding bootcamps; hired some people out of one at my last job and taught them CLJS</z><z id="t1456450500" t="chrisoakman they were some of my best team members"><y>#</y><d>2016-02-26</d><h>01:35</h><w>chrisoakman</w>they were some of my best team members</z><z id="t1456450570" t="sekao yeah it’s been a great gig. i dunno if any others are teaching clojure or other functional langs. they’ve given me a lot of leeway"><y>#</y><d>2016-02-26</d><h>01:36</h><w>sekao</w>yeah it’s been a great gig. i dunno if any others are teaching clojure or other functional langs. they’ve given me a lot of leeway</z><z id="t1456450599" t="chrisoakman I&apos;ve been toying with the idea of giving a weekend clojure workshop here in Houston with Shaun"><y>#</y><d>2016-02-26</d><h>01:36</h><w>chrisoakman</w>I&apos;ve been toying with the idea of giving a weekend clojure workshop here in Houston with Shaun</z><z id="t1456450608" t="chrisoakman we have enough people who are interested I think"><y>#</y><d>2016-02-26</d><h>01:36</h><w>chrisoakman</w>we have enough people who are interested I think</z><z id="t1456450632" t="chrisoakman I feel like people need to dedicate some time to it; I don&apos;t think it&apos;s the sort of thing you can really learn in a few hours"><y>#</y><d>2016-02-26</d><h>01:37</h><w>chrisoakman</w>I feel like people need to dedicate some time to it; I don&apos;t think it&apos;s the sort of thing you can really learn in a few hours</z><z id="t1456450638" t="snoe That&apos;s really cool [:attrs {:href &quot;/_/_/users/U080181PF&quot;}] , grats on the gig"><y>#</y><d>2016-02-26</d><h>01:37</h><w>snoe</w>That&apos;s really cool <a>@sekao</a>, grats on the gig</z><z id="t1456450668" t="snoe - (Case from outpace)"><y>#</y><d>2016-02-26</d><h>01:37</h><w>snoe</w>- (Case from outpace)</z><z id="t1456450682" t="cfleming Yeah, I helped out at a ClojureBridge - even with a whole day, a lot of the code they wrote was filling in the blanks in code they’d been given."><y>#</y><d>2016-02-26</d><h>01:38</h><w>cfleming</w>Yeah, I helped out at a ClojureBridge - even with a whole day, a lot of the code they wrote was filling in the blanks in code they’d been given.</z><z id="t1456450776" t="sekao [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] : hey good to hear from you. did you see that bryce (a.k.a. remington) is speaking at clojure/west?"><y>#</y><d>2016-02-26</d><h>01:39</h><w>sekao</w><a>@snoe</a>: hey good to hear from you. did you see that bryce (a.k.a. remington) is speaking at clojure/west?</z><z id="t1456450801" t="sekao he was my team lead at outpace FYI to others"><y>#</y><d>2016-02-26</d><h>01:40</h><w>sekao</w>he was my team lead at outpace FYI to others</z><z id="t1456450811" t="sekao never met him in the flesh hah"><y>#</y><d>2016-02-26</d><h>01:40</h><w>sekao</w>never met him in the flesh hah</z><z id="t1456450817" t="snoe Yup, didn&apos;t see the topic, is it about his game?"><y>#</y><d>2016-02-26</d><h>01:40</h><w>snoe</w>Yup, didn&apos;t see the topic, is it about his game?</z><z id="t1456450826" t="sekao ya, the game he made with my library 😃"><y>#</y><d>2016-02-26</d><h>01:40</h><w>sekao</w>ya, the game he made with my library <b>😃</b></z><z id="t1456450851" t="sekao well, a heavily edited fork of my library"><y>#</y><d>2016-02-26</d><h>01:40</h><w>sekao</w>well, a heavily edited fork of my library</z><z id="t1456450895" t="snoe Awesome"><y>#</y><d>2016-02-26</d><h>01:41</h><w>snoe</w>Awesome</z><z id="t1456454047" t="sekao [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : been playing with the new release. in a repl, i did (Parinfer/parenMode &quot;(defn hi []\n)&quot; (int 0) (int 1) (int 0)) . the result has a text of &quot;(defn hi []\n )” , which is right (if indenting by one space is the intent), but it seems the cursorX is 0 . shouldn’t it be 1 so it is next to the end paren?"><y>#</y><d>2016-02-26</d><h>02:34</h><w>sekao</w><a>@cfleming</a>: been playing with the new release. in a repl, i did <code>(Parinfer/parenMode &quot;(defn hi []\n)&quot; (int 0) (int 1) (int 0))</code>. the result has a text of <code>&quot;(defn hi []\n )”</code>, which is right (if indenting by one space is the intent), but it seems the cursorX is <code>0</code>. shouldn’t it be <code>1</code> so it is next to the end paren?</z><z id="t1456454106" t="sekao i’m not sure what cursor-dx is BTW, i just passed 0"><y>#</y><d>2016-02-26</d><h>02:35</h><w>sekao</w>i’m not sure what cursor-dx is BTW, i just passed 0</z><z id="t1456454135" t="cfleming Yeah, cursor-dx is if you’re in paren mode and you know how much the current edit moved the cursor by."><y>#</y><d>2016-02-26</d><h>02:35</h><w>cfleming</w>Yeah, cursor-dx is if you’re in paren mode and you know how much the current edit moved the cursor by.</z><z id="t1456454147" t="cfleming I don’t think any of the integrations handle it right now."><y>#</y><d>2016-02-26</d><h>02:35</h><w>cfleming</w>I don’t think any of the integrations handle it right now.</z><z id="t1456454182" t="sekao oh should i set it to something else?"><y>#</y><d>2016-02-26</d><h>02:36</h><w>sekao</w>oh should i set it to something else?</z><z id="t1456454202" t="cfleming I think null is probably the best thing to pass right now."><y>#</y><d>2016-02-26</d><h>02:36</h><w>cfleming</w>I think null is probably the best thing to pass right now.</z><z id="t1456454234" t="sekao ok. but as for the cursorX, am i right that it should be 1 ?"><y>#</y><d>2016-02-26</d><h>02:37</h><w>sekao</w>ok. but as for the cursorX, am i right that it should be <code>1</code>?</z><z id="t1456454278" t="cfleming So I think the issue might be that the lines are 0-based in parinfer."><y>#</y><d>2016-02-26</d><h>02:37</h><w>cfleming</w>So I think the issue might be that the lines are 0-based in parinfer.</z><z id="t1456454287" t="cfleming One sec, firing up a REPL"><y>#</y><d>2016-02-26</d><h>02:38</h><w>cfleming</w>One sec, firing up a REPL</z><z id="t1456454487" t="cfleming Damn, I am currently REPL-less"><y>#</y><d>2016-02-26</d><h>02:41</h><w>cfleming</w>Damn, I am currently REPL-less</z><z id="t1456454537" t="cfleming Ok, so that actually looks right. Since the lines are 0-based, your caret should be at the start of the second line."><y>#</y><d>2016-02-26</d><h>02:42</h><w>cfleming</w>Ok, so that actually looks right. Since the lines are 0-based, your caret should be at the start of the second line.</z><z id="t1456454675" t="sekao shouldn’t it move the cursor to be next to the end paren? i tried the same thing in parinfer.js: parinfer.parenMode(&quot;(defn hi []\n)&quot;, {cursorX: 0, cursorLine: 1}) and the result’s cursorX is 1 ."><y>#</y><d>2016-02-26</d><h>02:44</h><w>sekao</w>shouldn’t it move the cursor to be next to the end paren? i tried the same thing in parinfer.js: <code>parinfer.parenMode(&quot;(defn hi []\n)&quot;, {cursorX: 0, cursorLine: 1})</code> and the result’s cursorX is <code>1</code>.</z><z id="t1456454711" t="cfleming I’m getting the result cursorX as one too."><y>#</y><d>2016-02-26</d><h>02:45</h><w>cfleming</w>I’m getting the result cursorX as one too.</z><z id="t1456454724" t="cfleming The only difference is that I’m passing null as the cursorDx"><y>#</y><d>2016-02-26</d><h>02:45</h><w>cfleming</w>The only difference is that I’m passing null as the cursorDx</z><z id="t1456454822" t="sekao weird…i tried (Parinfer/parenMode &quot;(defn hi []\n)&quot; (int 0) (int 1) nil) and the cursorX is still 0 for me."><y>#</y><d>2016-02-26</d><h>02:47</h><w>sekao</w>weird…i tried <code>(Parinfer/parenMode &quot;(defn hi []\n)&quot; (int 0) (int 1) nil)</code> and the cursorX is still <code>0</code> for me.</z><z id="t1456454881" t="sekao unless you’re talking about the js version"><y>#</y><d>2016-02-26</d><h>02:48</h><w>sekao</w>unless you’re talking about the js version</z><z id="t1456454899" t="cfleming No, I’m definitely getting a cursorX of 1."><y>#</y><d>2016-02-26</d><h>02:48</h><w>cfleming</w>No, I’m definitely getting a cursorX of 1.</z><z id="t1456454933" t="cfleming Connecting to local nREPL server... Clojure 1.8.0 nREPL server started on port 58111 on host 127.0.0.1 - (import com.oakmac.parinfer.Parinfer) =&gt; com.oakmac.parinfer.Parinfer (.-cursorX (Parinfer/parenMode &quot;(defn hi []\n)&quot; (int 0) (int 1) nil)) =&gt; 1 "><y>#</y><d>2016-02-26</d><h>02:48</h><w>cfleming</w><pre>Connecting to local nREPL server...
Clojure 1.8.0
nREPL server started on port 58111 on host 127.0.0.1 - 
(import com.oakmac.parinfer.Parinfer)
=&gt; com.oakmac.parinfer.Parinfer
(.-cursorX (Parinfer/parenMode &quot;(defn hi []\n)&quot; (int 0) (int 1) nil))
=&gt; 1
</pre></z><z id="t1456454965" t="cfleming How did you build the version you’re using?"><y>#</y><d>2016-02-26</d><h>02:49</h><w>cfleming</w>How did you build the version you’re using?</z><z id="t1456455010" t="sekao i did ./gradlew build and copied the jar from build/libs"><y>#</y><d>2016-02-26</d><h>02:50</h><w>sekao</w>i did <code>./gradlew build</code> and copied the jar from <code>build/libs</code></z><z id="t1456455012" t="cfleming ./gradlew clean install, and then reference com.oakmac/parinfer “0.3.0&quot;"><y>#</y><d>2016-02-26</d><h>02:50</h><w>cfleming</w>./gradlew clean install, and then reference <code>com.oakmac/parinfer “0.3.0&quot;</code></z><z id="t1456455016" t="cfleming ?"><y>#</y><d>2016-02-26</d><h>02:50</h><w>cfleming</w>?</z><z id="t1456455023" t="cfleming Hmm"><y>#</y><d>2016-02-26</d><h>02:50</h><w>cfleming</w>Hmm</z><z id="t1456455029" t="cfleming I think that should do the same thing."><y>#</y><d>2016-02-26</d><h>02:50</h><w>cfleming</w>I think that should do the same thing.</z><z id="t1456455056" t="cfleming I’m actually pretty new to gradle, but I can’t imagine that does anything too different."><y>#</y><d>2016-02-26</d><h>02:50</h><w>cfleming</w>I’m actually pretty new to gradle, but I can’t imagine that does anything too different.</z><z id="t1456455081" t="cfleming I did the install, and then in a lein project pulled in [com.oakmac/parinfer &quot;0.3.0”] as a dep."><y>#</y><d>2016-02-26</d><h>02:51</h><w>cfleming</w>I did the install, and then in a lein project pulled in <code>[com.oakmac/parinfer &quot;0.3.0”]</code> as a dep.</z><z id="t1456455108" t="sekao wait, (.-cursorX (Parinfer/parenMode &quot;(defn hi []\n)&quot; (int 0) (int 1) nil)) actually does return 1 for me. i was doing (def res (Parinfer/parenMode &quot;(defn hi []\n)&quot; (int 0) (int 1) nil)) and then (.-cursorX res) , which returns 0 ."><y>#</y><d>2016-02-26</d><h>02:51</h><w>sekao</w>wait, <code>(.-cursorX (Parinfer/parenMode &quot;(defn hi []\n)&quot; (int 0) (int 1) nil))</code> actually does return <code>1</code> for me. i was doing <code>(def res (Parinfer/parenMode &quot;(defn hi []\n)&quot; (int 0) (int 1) nil))</code> and then <code>(.-cursorX res)</code>, which returns <code>0</code>.</z><z id="t1456455128" t="cfleming Wat"><y>#</y><d>2016-02-26</d><h>02:52</h><w>cfleming</w>Wat</z><z id="t1456455174" t="cfleming I get that too."><y>#</y><d>2016-02-26</d><h>02:52</h><w>cfleming</w>I get that too.</z><z id="t1456455179" t="cfleming How is that possible?"><y>#</y><d>2016-02-26</d><h>02:52</h><w>cfleming</w>How is that possible?</z><z id="t1456455204" t="sekao no idea 😃"><y>#</y><d>2016-02-26</d><h>02:53</h><w>sekao</w>no idea <b>😃</b></z><z id="t1456455305" t="cfleming I assume the tests pass for you?"><y>#</y><d>2016-02-26</d><h>02:55</h><w>cfleming</w>I assume the tests pass for you?</z><z id="t1456455336" t="sekao yeah i didn’t get any test failures when i built it"><y>#</y><d>2016-02-26</d><h>02:55</h><w>sekao</w>yeah i didn’t get any test failures when i built it</z><z id="t1456455366" t="cfleming So that is officially extremely weird."><y>#</y><d>2016-02-26</d><h>02:56</h><w>cfleming</w>So that is officially extremely weird.</z><z id="t1456455374" t="sekao is there something about kotlin’s classes that make them behave differently?"><y>#</y><d>2016-02-26</d><h>02:56</h><w>sekao</w>is there something about kotlin’s classes that make them behave differently?</z><z id="t1456455377" t="cfleming I have no idea what is going on there."><y>#</y><d>2016-02-26</d><h>02:56</h><w>cfleming</w>I have no idea what is going on there.</z><z id="t1456455384" t="cfleming I don’t think so."><y>#</y><d>2016-02-26</d><h>02:56</h><w>cfleming</w>I don’t think so.</z><z id="t1456455398" t="cfleming That result should just be a normal Java class with normal fields."><y>#</y><d>2016-02-26</d><h>02:56</h><w>cfleming</w>That result should just be a normal Java class with normal fields.</z><z id="t1456455459" t="cfleming The only thing I can think of is that in the first case, type inference will give the correct type, whereas in the second it will not."><y>#</y><d>2016-02-26</d><h>02:57</h><w>cfleming</w>The only thing I can think of is that in the first case, type inference will give the correct type, whereas in the second it will not.</z><z id="t1456455771" t="sekao (.-cursorX (deref (def res (Parinfer/parenMode &quot;(defn hi []\n)&quot; (int 0) (int 1) nil)))) also returns 1 . i have no idea what that means"><y>#</y><d>2016-02-26</d><h>03:02</h><w>sekao</w><code>(.-cursorX (deref (def res (Parinfer/parenMode &quot;(defn hi []\n)&quot; (int 0) (int 1) nil))))</code> also returns <code>1</code>. i have no idea what that means</z><z id="t1456455816" t="cfleming ~/d/parinfer-test&gt; javap -classpath ~/.m2/repository/com/oakmac/parinfer/0.3.0/parinfer-0.3.0.jar com.oakmac.parinfer.ParinferResult Compiled from &quot;parinfer.kt&quot; public final class com.oakmac.parinfer.ParinferResult { public java.lang.String text; public boolean success; public java.lang.Integer cursorX; public com.oakmac.parinfer.ParinferException error; public java.util.ArrayList&lt;com.oakmac.parinfer.LineDelta&gt; changedLines; public com.oakmac.parinfer.ParinferResult(com.oakmac.parinfer.MutableResult); } "><y>#</y><d>2016-02-26</d><h>03:03</h><w>cfleming</w><pre>~/d/parinfer-test&gt; javap -classpath ~/.m2/repository/com/oakmac/parinfer/0.3.0/parinfer-0.3.0.jar com.oakmac.parinfer.ParinferResult
Compiled from &quot;parinfer.kt&quot;
public final class com.oakmac.parinfer.ParinferResult {
  public java.lang.String text;
  public boolean success;
  public java.lang.Integer cursorX;
  public com.oakmac.parinfer.ParinferException error;
  public java.util.ArrayList&lt;com.oakmac.parinfer.LineDelta&gt; changedLines;
  public com.oakmac.parinfer.ParinferResult(com.oakmac.parinfer.MutableResult);
}
</pre></z><z id="t1456455980" t="cfleming The equivalent Java class also prints 1"><y>#</y><d>2016-02-26</d><h>03:06</h><w>cfleming</w>The equivalent Java class also prints 1</z><z id="t1456456047" t="cfleming Interestingly, I get (defn hi []\n) for the text"><y>#</y><d>2016-02-26</d><h>03:07</h><w>cfleming</w>Interestingly, I get <code>(defn hi []\n)</code> for the text</z><z id="t1456456056" t="cfleming i.e., no extra space added"><y>#</y><d>2016-02-26</d><h>03:07</h><w>cfleming</w>i.e., no extra space added</z><z id="t1456456298" t="sekao really? (.-text res) has the space for me"><y>#</y><d>2016-02-26</d><h>03:11</h><w>sekao</w>really? <code>(.-text res)</code> has the space for me</z><z id="t1456456332" t="sekao same when not defing a var"><y>#</y><d>2016-02-26</d><h>03:12</h><w>sekao</w>same when not defing a var</z><z id="t1456456363" t="chrisoakman what is the status of success for these calls?"><y>#</y><d>2016-02-26</d><h>03:12</h><w>chrisoakman</w>what is the status of <code>success</code> for these calls?</z><z id="t1456456375" t="chrisoakman I also have a completely unrelated question"><y>#</y><d>2016-02-26</d><h>03:12</h><w>chrisoakman</w>I also have a completely unrelated question</z><z id="t1456456395" t="sekao true in both cases"><y>#</y><d>2016-02-26</d><h>03:13</h><w>sekao</w><code>true</code> in both cases</z><z id="t1456456400" t="chrisoakman I pulled the latest parinfer-jvm and ./gradlew install is taking bloody forever"><y>#</y><d>2016-02-26</d><h>03:13</h><w>chrisoakman</w>I pulled the latest parinfer-jvm and <code>./gradlew install</code> is taking bloody forever</z><z id="t1456456416" t="chrisoakman I&apos;ve been on that screen for like 10 minutes"><y>#</y><d>2016-02-26</d><h>03:13</h><w>chrisoakman</w>I&apos;ve been on that screen for like 10 minutes</z><z id="t1456456434" t="chrisoakman oh wow - it&apos;s moving now"><y>#</y><d>2016-02-26</d><h>03:13</h><w>chrisoakman</w>oh wow - it&apos;s moving now</z><z id="t1456456439" t="chrisoakman haha, right as I uploaded that"><y>#</y><d>2016-02-26</d><h>03:13</h><w>chrisoakman</w>haha, right as I uploaded that</z><z id="t1456456511" t="chrisoakman now I suppose there is a different problem"><y>#</y><d>2016-02-26</d><h>03:15</h><w>chrisoakman</w>now I suppose there is a different problem</z><z id="t1456456545" t="chrisoakman I just ran it again and got the same thing"><y>#</y><d>2016-02-26</d><h>03:15</h><w>chrisoakman</w>I just ran it again and got the same thing</z><z id="t1456456552" t="chrisoakman what is clojuresque ?"><y>#</y><d>2016-02-26</d><h>03:15</h><w>chrisoakman</w>what is <code>clojuresque</code> ?</z><z id="t1456456843" t="chrisoakman ok, I got things working by typing ./gradlew clean"><y>#</y><d>2016-02-26</d><h>03:20</h><w>chrisoakman</w>ok, I got things working by typing <code>./gradlew clean</code></z><z id="t1456456930" t="cfleming clojuresque is the Clojure plugin for Gradle"><y>#</y><d>2016-02-26</d><h>03:22</h><w>cfleming</w><code>clojuresque</code> is the Clojure plugin for Gradle</z><z id="t1456456945" t="cfleming It’s what allows the tests to be run by Gradle, in this case."><y>#</y><d>2016-02-26</d><h>03:22</h><w>cfleming</w>It’s what allows the tests to be run by Gradle, in this case.</z><z id="t1456456973" t="chrisoakman I&apos;m just updating the README"><y>#</y><d>2016-02-26</d><h>03:22</h><w>chrisoakman</w>I&apos;m just updating the README</z><z id="t1456456977" t="chrisoakman making sure the setup instructions work"><y>#</y><d>2016-02-26</d><h>03:22</h><w>chrisoakman</w>making sure the setup instructions work</z><z id="t1456456992" t="cfleming Ok cool, I’m surprised that that requires a clean"><y>#</y><d>2016-02-26</d><h>03:23</h><w>cfleming</w>Ok cool, I’m surprised that that requires a clean</z><z id="t1456457011" t="chrisoakman I just know it worked after I tried the ./gradlew clean clojureTest command"><y>#</y><d>2016-02-26</d><h>03:23</h><w>chrisoakman</w>I just know it worked after I tried the <code>./gradlew clean clojureTest</code> command</z><z id="t1456457030" t="chrisoakman I haven&apos;t updated my system in a while; could be something left over from whatever I was doing previously with Kotlin"><y>#</y><d>2016-02-26</d><h>03:23</h><w>chrisoakman</w>I haven&apos;t updated my system in a while; could be something left over from whatever I was doing previously with Kotlin</z><z id="t1456457045" t="chrisoakman I just want to make sure the README is bulletproof"><y>#</y><d>2016-02-26</d><h>03:24</h><w>chrisoakman</w>I just want to make sure the README is bulletproof</z><z id="t1456457062" t="chrisoakman it&apos;s painful when projects don&apos;t have clear setup instructions"><y>#</y><d>2016-02-26</d><h>03:24</h><w>chrisoakman</w>it&apos;s painful when projects don&apos;t have clear setup instructions</z><z id="t1456457076" t="cfleming Yeah, no doubt."><y>#</y><d>2016-02-26</d><h>03:24</h><w>cfleming</w>Yeah, no doubt.</z><z id="t1456457101" t="cfleming I actually have to head off. I have no idea what might be causing that problem, sorry - I’ll try to look at it over the weekend."><y>#</y><d>2016-02-26</d><h>03:25</h><w>cfleming</w>I actually have to head off. I have no idea what might be causing that problem, sorry - I’ll try to look at it over the weekend.</z><z id="t1456457106" t="cfleming It’s really bizarre."><y>#</y><d>2016-02-26</d><h>03:25</h><w>cfleming</w>It’s really bizarre.</z><z id="t1456457111" t="chrisoakman no worries"><y>#</y><d>2016-02-26</d><h>03:25</h><w>chrisoakman</w>no worries</z><z id="t1456457120" t="chrisoakman pretty sure this crew are the only people using Parinfer at the moment anyhow 😉"><y>#</y><d>2016-02-26</d><h>03:25</h><w>chrisoakman</w>pretty sure this crew are the only people using Parinfer at the moment anyhow <b>😉</b></z><z id="t1456457158" t="cfleming Hehe, true enough - it seems to be working pretty well for me, although I have a bunch of niceties to add around the edges."><y>#</y><d>2016-02-26</d><h>03:25</h><w>cfleming</w>Hehe, true enough - it seems to be working pretty well for me, although I have a bunch of niceties to add around the edges.</z><z id="t1456457174" t="cfleming But undo/redo and caret/selection movement all seems to be working well."><y>#</y><d>2016-02-26</d><h>03:26</h><w>cfleming</w>But undo/redo and caret/selection movement all seems to be working well.</z><z id="t1456457225" t="chrisoakman sweet simple_smile"><y>#</y><d>2016-02-26</d><h>03:27</h><w>chrisoakman</w>sweet <b>simple_smile</b></z><z id="t1456457232" t="chrisoakman I&apos;m sure people will be glad to hear that and play around with it"><y>#</y><d>2016-02-26</d><h>03:27</h><w>chrisoakman</w>I&apos;m sure people will be glad to hear that and play around with it</z><z id="t1456459309" t="sekao found a workaround...wrapping the calls in functions that return the results in a map seems to avoid the weird behavior"><y>#</y><d>2016-02-26</d><h>04:01</h><w>sekao</w>found a workaround...wrapping the calls in functions that return the results in a map seems to avoid the weird behavior</z><z id="t1456459320" t="sekao still don’t know why though"><y>#</y><d>2016-02-26</d><h>04:02</h><w>sekao</w>still don’t know why though</z><z id="t1456459545" t="chrisoakman strange"><y>#</y><d>2016-02-26</d><h>04:05</h><w>chrisoakman</w>strange</z><z id="t1456459555" t="chrisoakman wonder if it has anything to do with Kotlin"><y>#</y><d>2016-02-26</d><h>04:05</h><w>chrisoakman</w>wonder if it has anything to do with Kotlin</z><z id="t1456472254" t="cfleming I’m going to investigate that further, it’s really strange."><y>#</y><d>2016-02-26</d><h>07:37</h><w>cfleming</w>I’m going to investigate that further, it’s really strange.</z><z id="t1456472285" t="cfleming I thought it was something to do with the fact that the field was primitive, but in fact it’s not, it’s an Integer object."><y>#</y><d>2016-02-26</d><h>07:38</h><w>cfleming</w>I thought it was something to do with the fact that the field was primitive, but in fact it’s not, it’s an Integer object.</z><z id="t1456479467" t="cfleming I added a toString() to the result object, just to confirm that the actual result itself is different - it is: Connecting to local nREPL server... Clojure 1.6.0 nREPL server started on port 60022 on host 127.0.0.1 - (import com.oakmac.parinfer.Parinfer) =&gt; com.oakmac.parinfer.Parinfer (def res (Parinfer/parenMode &quot;(defn hi []\n)&quot; (int 0) (int 1) nil)) =&gt; #&apos;user/res res =&gt; #&lt;ParinferResult ParinferResult(text=&apos;(defn hi [] )&apos;, cursorX=0, success=true)&gt; (Parinfer/parenMode &quot;(defn hi []\n)&quot; (int 0) (int 1) nil) =&gt; #&lt;ParinferResult ParinferResult(text=&apos;(defn hi [] )&apos;, cursorX=1, success=true)&gt; "><y>#</y><d>2016-02-26</d><h>09:37</h><w>cfleming</w>I added a toString() to the result object, just to confirm that the actual result itself is different - it is:
<pre>Connecting to local nREPL server...
Clojure 1.6.0
nREPL server started on port 60022 on host 127.0.0.1 - 
(import com.oakmac.parinfer.Parinfer)
=&gt; com.oakmac.parinfer.Parinfer
(def res (Parinfer/parenMode &quot;(defn hi []\n)&quot; (int 0) (int 1) nil))
=&gt; #&apos;user/res
res
=&gt; #&lt;ParinferResult ParinferResult(text=&apos;(defn hi []
 )&apos;, cursorX=0, success=true)&gt;
(Parinfer/parenMode &quot;(defn hi []\n)&quot; (int 0) (int 1) nil)
=&gt; #&lt;ParinferResult ParinferResult(text=&apos;(defn hi []
 )&apos;, cursorX=1, success=true)&gt;
</pre></z><z id="t1456479495" t="cfleming I have literally zero idea why the context in which the function is invoked should affect the result."><y>#</y><d>2016-02-26</d><h>09:38</h><w>cfleming</w>I have literally zero idea why the context in which the function is invoked should affect the result.</z><z id="t1456479509" t="cfleming But at least it seems reproducible and I can debug it."><y>#</y><d>2016-02-26</d><h>09:38</h><w>cfleming</w>But at least it seems reproducible and I can debug it.</z><z id="t1456498035" t="denik I’m curious: does any editor compute the cursor position based on edit deltas?"><y>#</y><d>2016-02-26</d><h>14:47</h><w>denik</w>I’m curious: does any editor compute the cursor position based on edit deltas?</z><z id="t1456498855" t="dominicm [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : Have you tried setting up parinfer as nrepl middleware? That would really enable parinfer for emacs users quite well (and anything that can connect to the nrepl really..)"><y>#</y><d>2016-02-26</d><h>15:00</h><w>dominicm</w><a>@cfleming</a>: Have you tried setting up parinfer as nrepl middleware? That would really enable parinfer for emacs users quite well (and anything that can connect to the nrepl really..)</z><z id="t1456511320" t="cfleming [:attrs {:href &quot;/_/_/users/U050CJFRU&quot;}] : The IntelliJ integration I’m working on now does."><y>#</y><d>2016-02-26</d><h>18:28</h><w>cfleming</w><a>@denik</a>: The IntelliJ integration I’m working on now does.</z><z id="t1456511366" t="cfleming [:attrs {:href &quot;/_/_/users/U09LZR36F&quot;}] : No, I haven’t. Paredit is really a client-side thing since it works on the source code, not during evaluation."><y>#</y><d>2016-02-26</d><h>18:29</h><w>cfleming</w><a>@dominicm</a>: No, I haven’t. Paredit is really a client-side thing since it works on the source code, not during evaluation.</z><z id="t1456515937" t="dominicm [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] I agree that really it&apos;s client side. But I&apos;m trying to come up with a way to have one parinfer implementation to rule them all "><y>#</y><d>2016-02-26</d><h>19:45</h><w>dominicm</w><a>@cfleming</a> I agree that really it&apos;s client side. But I&apos;m trying to come up with a way to have one parinfer implementation to rule them all </z><z id="t1456515954" t="dominicm Javascript is almost perfect. But the emacs guys are lacking "><y>#</y><d>2016-02-26</d><h>19:45</h><w>dominicm</w>Javascript is almost perfect. But the emacs guys are lacking </z><z id="t1456515979" t="dominicm I mean, even java could run it on nashorn"><y>#</y><d>2016-02-26</d><h>19:46</h><w>dominicm</w>I mean, even java could run it on nashorn</z></g><g id="s8"><z id="t1456519725" t="denik [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : is there a public repo for it? what does it use for inputs?"><y>#</y><d>2016-02-26</d><h>20:48</h><w>denik</w><a>@cfleming</a>: is there a public repo for it? what does it use for inputs?</z><z id="t1456526548" t="shaunlebron [:attrs {:href &quot;/_/_/users/U09LZR36F&quot;}] : oh man, was it an oversight to port parinfer to kotlin instead of using nashorn?"><y>#</y><d>2016-02-26</d><h>22:42</h><w>shaunlebron</w><a>@dominicm</a>: oh man, was it an oversight to port parinfer to kotlin instead of using nashorn?</z><z id="t1456526720" t="snoe nashorn startup time is pretty egregious, you really need pooling"><y>#</y><d>2016-02-26</d><h>22:45</h><w>snoe</w>nashorn startup time is pretty egregious, you really need pooling</z><z id="t1456527213" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] idk what you mean by pooling. is that jvm specific? "><y>#</y><d>2016-02-26</d><h>22:53</h><w>shaunlebron</w><a>@snoe</a> idk what you mean by pooling. is that jvm specific? </z><z id="t1456527461" t="snoe so in order to run nashorn you need to create an engine, but the engine takes 2-5s to start IME. so you&apos;d usually start a bunch put them in a pool, and take them out and refill as needed"><y>#</y><d>2016-02-26</d><h>22:57</h><w>snoe</w>so in order to run nashorn you need to create an engine,  but the engine takes 2-5s to start IME. so you&apos;d usually start a bunch put them in a pool, and take them out and refill as needed</z><z id="t1456527577" t="snoe like a connection or thread pool"><y>#</y><d>2016-02-26</d><h>22:59</h><w>snoe</w>like a connection or thread pool</z><z id="t1456527630" t="shaunlebron ha okay. thanks"><y>#</y><d>2016-02-26</d><h>23:00</h><w>shaunlebron</w>ha okay. thanks</z><z id="t1456527653" t="shaunlebron wonder if syncing features across ports is easier than pooling then"><y>#</y><d>2016-02-26</d><h>23:00</h><w>shaunlebron</w>wonder if syncing features across ports is easier than pooling then</z><z id="t1456527662" t="shaunlebron prolly not"><y>#</y><d>2016-02-26</d><h>23:01</h><w>shaunlebron</w>prolly not</z><z id="t1456527721" t="dominicm [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : I mean.. maybe? 😛 Might have saved you some time, and I think consistency across implementations is important."><y>#</y><d>2016-02-26</d><h>23:02</h><w>dominicm</w><a>@shaunlebron</a>: I mean.. maybe? <b>😛</b> Might have saved you some time, and I think consistency across implementations is important.</z><z id="t1456527756" t="dominicm ah, looks like snoe is the boss on this stuff 😛"><y>#</y><d>2016-02-26</d><h>23:02</h><w>dominicm</w>ah, looks like snoe is the boss on this stuff <b>😛</b></z><z id="t1456529482" t="sekao looks like i’ve mostly got parinfer into nightcode. am i correct that one-space indentation is the intended behavior? it’s not how i’ve normally indented in the past but that seems to be the behavior in both parinfer.js and parinfer-jvm"><y>#</y><d>2016-02-26</d><h>23:31</h><w>sekao</w>looks like i’ve mostly got parinfer into nightcode. am i correct that one-space indentation is the intended behavior? it’s not how i’ve normally indented in the past but that seems to be the behavior in both parinfer.js and parinfer-jvm</z><z id="t1456529573" t="snoe parinfer only moves stuff to boundaries, indentation is officially editor&apos;s problem"><y>#</y><d>2016-02-26</d><h>23:32</h><w>snoe</w>parinfer only moves stuff to boundaries, indentation is officially editor&apos;s problem</z><z id="t1456529673" t="sekao [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] : i mean paren mode. the output string of ”(defn hi []\n)” is ”(defn hi []\n )” . should i adjust it after the fact to insert two spaces instead of one?"><y>#</y><d>2016-02-26</d><h>23:34</h><w>sekao</w><a>@snoe</a>: i mean paren mode. the output string of <code>”(defn hi []\n)”</code> is <code>”(defn hi []\n )”</code>. should i adjust it after the fact to insert two spaces instead of one?</z><z id="t1456530175" t="snoe I believe so, yeah. Although I honestly don&apos;t use paren mode very much"><y>#</y><d>2016-02-26</d><h>23:42</h><w>snoe</w>I believe so, yeah. Although I honestly don&apos;t use paren mode very much</z><z id="t1456530291" t="sekao i just use paren mode to pre-process my files and indent after hitting enter"><y>#</y><d>2016-02-26</d><h>23:44</h><w>sekao</w>i just use paren mode to pre-process my files and indent after hitting enter</z><z id="t1456530321" t="sekao i could look into adjusting its output but i thought the point of paren mode was to figure out indentation for me so indent mode can be used afterwards"><y>#</y><d>2016-02-26</d><h>23:45</h><w>sekao</w>i could look into adjusting its output but i thought the point of paren mode was to figure out indentation for me so indent mode can be used afterwards</z><z id="t1456530341" t="sekao doing that adjustment afterwards will be pretty complicated"><y>#</y><d>2016-02-26</d><h>23:45</h><w>sekao</w>doing that adjustment afterwards will be pretty complicated</z><z id="t1456530432" t="snoe so I think indent mode handles the pressing enter issue, my plugin doesn&apos;t need to indent there"><y>#</y><d>2016-02-26</d><h>23:47</h><w>snoe</w>so I think indent mode handles the pressing enter issue, my plugin doesn&apos;t need to indent there</z><z id="t1456530737" t="sekao hmm really? i don’t get auto-indent unless i run paren mode when i hit enter. for example, parinfer.indentMode(&quot;(defn hi []\n)&quot;, {cursorX:0, cursorLine:1}) returns a result with a text of &quot;(defn hi [])\n” which would not be correct behavior for auto-indenting"><y>#</y><d>2016-02-26</d><h>23:52</h><w>sekao</w>hmm really? i don’t get auto-indent unless i run paren mode when i hit enter. for example, <code>parinfer.indentMode(&quot;(defn hi []\n)&quot;, {cursorX:0, cursorLine:1})</code> returns a result with a text of <code>&quot;(defn hi [])\n”</code> which would not be correct behavior for auto-indenting</z><z id="t1456531037" t="snoe eh sorry, I&apos;m past the depth of my understanding of the details then"><y>#</y><d>2016-02-26</d><h>23:57</h><w>snoe</w>eh sorry, I&apos;m past the depth of my understanding of the details then</z><z id="t1456531555" t="cfleming [:attrs {:href &quot;/_/_/users/U080181PF&quot;}] : This confused me as well at first. I don’t think paren mode is actually useful as an editing mode to expose to the user."><y>#</y><d>2016-02-27</d><h>00:05</h><w>cfleming</w><a>@sekao</a>: This confused me as well at first. I don’t think paren mode is actually useful as an editing mode to expose to the user.</z><z id="t1456531568" t="cfleming Indentation requires semantic knowledge:"><y>#</y><d>2016-02-27</d><h>00:06</h><w>cfleming</w>Indentation requires semantic knowledge:</z><z id="t1456531584" t="cfleming (defn x [] something) "><y>#</y><d>2016-02-27</d><h>00:06</h><w>cfleming</w><pre>(defn x []
  something)
</pre></z><z id="t1456531586" t="cfleming vs"><y>#</y><d>2016-02-27</d><h>00:06</h><w>cfleming</w>vs</z><z id="t1456531682" t="cfleming (println a b c) "><y>#</y><d>2016-02-27</d><h>00:08</h><w>cfleming</w><pre>(println a
         b
         c)
</pre></z><z id="t1456531707" t="cfleming Paren mode just corrects the file so that it’s within the invariants required by indent mode."><y>#</y><d>2016-02-27</d><h>00:08</h><w>cfleming</w>Paren mode just corrects the file so that it’s within the invariants required by indent mode.</z><z id="t1456531718" t="cfleming I think it’s mostly useful for that that correction."><y>#</y><d>2016-02-27</d><h>00:08</h><w>cfleming</w>I think it’s mostly useful for that that correction.</z><z id="t1456538218" t="sekao [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] that makes sense, there is a lot of subtlety to indentation. it does however mean that this will be more challenging to integrate into my ide than I thought ;) it will be hard to post-process the output of paren mode, especially since indent mode may misinterpret it"><y>#</y><d>2016-02-27</d><h>01:56</h><w>sekao</w><a>@cfleming</a> that makes sense, there is a lot of subtlety to indentation. it does however mean that this will be more challenging to integrate into my ide than I thought ;) it will be hard to post-process the output of paren mode, especially since indent mode may misinterpret it</z><z id="t1456538299" t="sekao I don&apos;t actually expose paren mode to the user except for pre processing files and handling enter, btw"><y>#</y><d>2016-02-27</d><h>01:58</h><w>sekao</w>I don&apos;t actually expose paren mode to the user except for pre processing files and handling enter, btw</z><z id="t1456538574" t="chrisoakman [:attrs {:href &quot;/_/_/users/U080181PF&quot;}] : I&apos;m not sure about &quot;running paren mode on enter&quot;; I don&apos;t think other plugins are doing that"><y>#</y><d>2016-02-27</d><h>02:02</h><w>chrisoakman</w><a>@sekao</a>: I&apos;m not sure about &quot;running paren mode on enter&quot;; I don&apos;t think other plugins are doing that</z><z id="t1456538588" t="chrisoakman have you tried atom-parinfer at all?"><y>#</y><d>2016-02-27</d><h>02:03</h><w>chrisoakman</w>have you tried atom-parinfer at all?</z><z id="t1456538814" t="sekao in the parinfer readme it recommends doing that, albeit specifically for repls"><y>#</y><d>2016-02-27</d><h>02:06</h><w>sekao</w>in the parinfer readme it recommends doing that, albeit specifically for repls</z><z id="t1456543023" t="cfleming [:attrs {:href &quot;/_/_/users/U080181PF&quot;}] : I&apos;m not convinced that paren mode will do a good enough job on enter for that purpose for the reasons above. I think you&apos;ll need some custom indentation code."><y>#</y><d>2016-02-27</d><h>03:17</h><w>cfleming</w><a>@sekao</a>: I&apos;m not convinced that paren mode will do a good enough job on enter for that purpose for the reasons above. I think you&apos;ll need some custom indentation code.</z><z id="t1456544981" t="cfleming It&apos;ll work in a lot of cases but in some important ones it won&apos;t"><y>#</y><d>2016-02-27</d><h>03:49</h><w>cfleming</w>It&apos;ll work in a lot of cases but in some important ones it won&apos;t</z><z id="t1456545459" t="mfikes [:attrs {:href &quot;/_/_/users/U080181PF&quot;}] : I use the “indent-on-enter” pattern in Replete and Planck, and I just live with the 1-space indent (and the lack of semantic indentation as [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] points out)"><y>#</y><d>2016-02-27</d><h>03:57</h><w>mfikes</w><a>@sekao</a>: I use the “indent-on-enter” pattern in Replete and Planck, and I just live with the 1-space indent (and the lack of semantic indentation as <a>@cfleming</a> points out)</z><z id="t1456583314" t="shaunlebron catching up from yesterday now"><y>#</y><d>2016-02-27</d><h>14:28</h><w>shaunlebron</w>catching up from yesterday now</z><z id="t1456583352" t="shaunlebron [:attrs {:href &quot;/_/_/users/U080181PF&quot;}] : paren mode only does one-space indentation because it clamps indentation to valid thresholds"><y>#</y><d>2016-02-27</d><h>14:29</h><w>shaunlebron</w><a>@sekao</a>: paren mode only does one-space indentation because it clamps indentation to valid thresholds</z><z id="t1456583401" t="shaunlebron for example, it will clamp: (defn foo [a b] c) to: (defn foo [a b] c) "><y>#</y><d>2016-02-27</d><h>14:30</h><w>shaunlebron</w>for example, it will clamp:

<pre>(defn foo [a b]
             c)
</pre>

to:

<pre>(defn foo [a b]
          c)
</pre></z><z id="t1456583490" t="shaunlebron I mean clamping: https://en.wikipedia.org/wiki/Clamping_(graphics)"><y>#</y><d>2016-02-27</d><h>14:31</h><w>shaunlebron</w>I mean clamping: <a href="https://en.wikipedia.org/wiki/Clamping_(graphics)" target="_blank">https://en.wikipedia.org/wiki/Clamping_(graphics)</a></z><z id="t1456583540" t="shaunlebron So the above example is not one-space indentation, because it clamped to max not min"><y>#</y><d>2016-02-27</d><h>14:32</h><w>shaunlebron</w>So the above example is not one-space indentation, because it clamped to max not min</z><z id="t1456583602" t="shaunlebron For completeness, here’s one-space indentation responding to clamp min: (defn foo [a b] c) to: (defn foo [a b] c) "><y>#</y><d>2016-02-27</d><h>14:33</h><w>shaunlebron</w>For completeness, here’s one-space indentation responding to clamp min:

<pre>(defn foo [a b]
c)
</pre>

to:

<pre>(defn foo [a b]
 c)
</pre></z><z id="t1456583667" t="shaunlebron This has been a stopgap solution for setting indentation since auto-indent is something provided by most editors I thought"><y>#</y><d>2016-02-27</d><h>14:34</h><w>shaunlebron</w>This has been a stopgap solution for setting indentation since auto-indent is something provided by most editors I thought</z><z id="t1456583760" t="shaunlebron precise auto-indent inside thresholds becomes subjective in a few cases. for example, david nolen only ever uses two-space indentation: (println a b c) not: (println a b c) "><y>#</y><d>2016-02-27</d><h>14:36</h><w>shaunlebron</w>precise auto-indent inside thresholds becomes subjective in a few cases.  for example, david nolen only ever uses two-space indentation:

<pre>(println a
  b
  c)
</pre>

not:

<pre>(println a
         b
         c)
</pre></z><z id="t1456583834" t="shaunlebron and the clojure style guide calls on one-space indentation if a newline comes directly after the first symbol of a call: (println a b c) "><y>#</y><d>2016-02-27</d><h>14:37</h><w>shaunlebron</w>and the clojure style guide calls on one-space indentation if a newline comes directly after the first symbol of a call:

<pre>(println
 a
 b
 c)
</pre></z><z id="t1456583859" t="shaunlebron which is something I’ve never done"><y>#</y><d>2016-02-27</d><h>14:37</h><w>shaunlebron</w>which is something I’ve never done</z><z id="t1456584106" t="shaunlebron my point is that Paren Mode allows ALL of the styles above since it only clamps to threshold. It&apos;s my intention to not destroy people’s preferred indentation as long as it fits in the threshold."><y>#</y><d>2016-02-27</d><h>14:41</h><w>shaunlebron</w>my point is that Paren Mode allows ALL of the styles above since it only clamps to threshold.  It&apos;s my intention to not destroy people’s preferred indentation as long as it fits in the threshold.</z><z id="t1456584167" t="shaunlebron this means that auto-indentation length must be decided by a thing separate from Paren Mode"><y>#</y><d>2016-02-27</d><h>14:42</h><w>shaunlebron</w>this means that auto-indentation length must be decided by a thing separate from Paren Mode</z><z id="t1456584544" t="shaunlebron I have been working for the past couple days on adding auto-indent on enter for Indent Mode"><y>#</y><d>2016-02-27</d><h>14:49</h><w>shaunlebron</w>I have been working for the past couple days on adding auto-indent on enter for Indent Mode</z><z id="t1456584567" t="shaunlebron so it’s coming [:attrs {:href &quot;/_/_/users/U080181PF&quot;}]"><y>#</y><d>2016-02-27</d><h>14:49</h><w>shaunlebron</w>so it’s coming <a>@sekao</a></z><z id="t1456584616" t="shaunlebron I thought it would be straight forward since mfikes has been doing the Paren Mode on enter thing"><y>#</y><d>2016-02-27</d><h>14:50</h><w>shaunlebron</w>I thought it would be straight forward since mfikes has been doing the Paren Mode on enter thing</z><z id="t1456584749" t="shaunlebron But this case caused me to reevaluate: (foo|) bar After pressing enter in Paren Mode: (foo |) bar Then re-enabling Indent Mode: (foo) | bar which is not what we want"><y>#</y><d>2016-02-27</d><h>14:52</h><w>shaunlebron</w>But this case caused me to reevaluate:

<pre>(foo|) bar
</pre>

After pressing enter in Paren Mode:

<pre>(foo
 |) bar
</pre>

Then re-enabling Indent Mode:

<pre>(foo)
 | bar
</pre>

which is not what we want</z><z id="t1456585028" t="shaunlebron My current opinion is that pressing enter below should produce the following output in Indent Mode. (foo|) bar (foo |) bar "><y>#</y><d>2016-02-27</d><h>14:57</h><w>shaunlebron</w>My current opinion is that pressing enter below should produce the following output in Indent Mode.

<pre>(foo|) bar
</pre>

<pre>(foo
 |)
bar
</pre></z><z id="t1456585221" t="shaunlebron if the cursor were to move to another line above, then bar is not at risk of being reabsorbed into the foo expression"><y>#</y><d>2016-02-27</d><h>15:00</h><w>shaunlebron</w>if the cursor were to move to another line above, then <code>bar</code> is not at risk of being reabsorbed into the <code>foo</code> expression</z><z id="t1456585324" t="shaunlebron this is the first instance of an explicit action in Parinfer, whereas all other actions are implicit on the text inserted in respective modes."><y>#</y><d>2016-02-27</d><h>15:02</h><w>shaunlebron</w>this is the first instance of an explicit action in Parinfer, whereas all other actions are implicit on the text inserted in respective modes.</z><z id="t1456585384" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : your idea to run Paren Mode when inserting a ) could be a second explicit that may lead us to an Auto Mode"><y>#</y><d>2016-02-27</d><h>15:03</h><w>shaunlebron</w><a>@cfleming</a>: your idea to run Paren Mode when inserting a <code>)</code> could be a second explicit that may lead us to an Auto Mode</z><z id="t1456585520" t="shaunlebron i’ve been spelunking on this issue pretty hard, you can read more if you really want to: https://github.com/shaunlebron/parinfer/issues/98"><y>#</y><d>2016-02-27</d><h>15:05</h><w>shaunlebron</w>i’ve been spelunking on this issue pretty hard, you can read more if you really want to: <a href="https://github.com/shaunlebron/parinfer/issues/98" target="_blank">https://github.com/shaunlebron/parinfer/issues/98</a></z><z id="t1456586231" t="mfikes [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : By the way, Planck and Replete with Parinfer will likely both be released within a week, so we may get good real-world feedback."><y>#</y><d>2016-02-27</d><h>15:17</h><w>mfikes</w><a>@shaunlebron</a>: By the way, Planck and Replete with Parinfer will likely both be released within a week, so we may get good real-world feedback.</z><z id="t1456587082" t="shaunlebron [:attrs {:href &quot;/_/_/users/U04VDQDDY&quot;}] : cool, thanks. I’ll ping you when this new enter stuff is implemented"><y>#</y><d>2016-02-27</d><h>15:31</h><w>shaunlebron</w><a>@mfikes</a>: cool, thanks.  I’ll ping you when this new <code>enter</code> stuff is implemented</z><z id="t1456592092" t="sekao thanks [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] for the explanation. in the process of adding parinfer i removed the code which was providing me auto-indentation previously. i can try combining them, but my fear is that they will clash"><y>#</y><d>2016-02-27</d><h>16:54</h><w>sekao</w>thanks <a>@shaunlebron</a> for the explanation. in the process of adding parinfer i removed the code which was providing me auto-indentation previously.  i can try combining them, but my fear is that they will clash</z><z id="t1456592110" t="sekao one example is multi-arity functions"><y>#</y><d>2016-02-27</d><h>16:55</h><w>sekao</w>one example is multi-arity functions</z><z id="t1456592196" t="sekao nightcode’s current auto-indentation code makes the inner functions indent with two spaces, so hitting enter at ([arg1 arg2]|) leads to ([arg1 arg2]\n |)"><y>#</y><d>2016-02-27</d><h>16:56</h><w>sekao</w>nightcode’s current auto-indentation code makes the inner functions indent with two spaces, so hitting enter at <code>([arg1 arg2]|)</code> leads to <code>([arg1 arg2]\n  |)</code></z><z id="t1456592232" t="sekao but with parinfer’s indent mode this would mean anything i type at that point would be added to my arg list rather than the body of the function"><y>#</y><d>2016-02-27</d><h>16:57</h><w>sekao</w>but with parinfer’s indent mode this would mean anything i type at that point would be added to my arg list rather than the body of the function</z><z id="t1456593748" t="shaunlebron [:attrs {:href &quot;/_/_/users/U080181PF&quot;}] : good point"><y>#</y><d>2016-02-27</d><h>17:22</h><w>shaunlebron</w><a>@sekao</a>: good point</z><z id="t1456593844" t="shaunlebron clojure style guide recommends against that. bozhidar batsov was adamant about that convention stemming from a clojure-mode bug in emacs"><y>#</y><d>2016-02-27</d><h>17:24</h><w>shaunlebron</w>clojure style guide recommends against that.  bozhidar batsov was adamant about that convention stemming from a clojure-mode bug in emacs</z><z id="t1456593959" t="shaunlebron source: https://github.com/bbatsov/clojure-style-guide/pull/95#issuecomment-148742659"><y>#</y><d>2016-02-27</d><h>17:25</h><w>shaunlebron</w>source: <a href="https://github.com/bbatsov/clojure-style-guide/pull/95#issuecomment-148742659" target="_blank">https://github.com/bbatsov/clojure-style-guide/pull/95#issuecomment-148742659</a></z><z id="t1456594031" t="shaunlebron I ran Paren Mode on many core clojure libraries to pickup on things that would be in conflict with Indent Mode"><y>#</y><d>2016-02-27</d><h>17:27</h><w>shaunlebron</w>I ran Paren Mode on many core clojure libraries to pickup on things that would be in conflict with Indent Mode</z><z id="t1456594065" t="shaunlebron the only thing Indent Mode is in conflict with is the multi-arity convention you mentioned"><y>#</y><d>2016-02-27</d><h>17:27</h><w>shaunlebron</w>the only thing Indent Mode is in conflict with is the multi-arity convention you mentioned</z><z id="t1456594169" t="shaunlebron [:attrs {:href &quot;/_/_/users/U080181PF&quot;}] , so if you modify nightcode&apos;s auto-indentation to not indent multi-arity bodies, auto-indent would be safe to use with Indent Mode"><y>#</y><d>2016-02-27</d><h>17:29</h><w>shaunlebron</w><a>@sekao</a>, so if you modify nightcode&apos;s auto-indentation to not indent multi-arity bodies, auto-indent would be safe to use with Indent Mode</z><z id="t1456594295" t="shaunlebron with the exception of the special line-splitting case I mentioned above, which I should have fixed next week"><y>#</y><d>2016-02-27</d><h>17:31</h><w>shaunlebron</w>with the exception of the special line-splitting case I mentioned above, which I should have fixed next week</z><z id="t1456594550" t="sekao interesting, if that’s the only one then i’ll look into combining them. it’s already usable enough that i’m editing nightcode with the latest master build of nightcode using parinfer 😃"><y>#</y><d>2016-02-27</d><h>17:35</h><w>sekao</w>interesting, if that’s the only one then i’ll look into combining them. it’s already usable enough that i’m editing nightcode with the latest master build of nightcode using parinfer <b>😃</b></z><z id="t1456595221" t="shaunlebron nice! cant wait to play with it"><y>#</y><d>2016-02-27</d><h>17:47</h><w>shaunlebron</w>nice! cant wait to play with it</z><z id="t1456777116" t="mfikes Replete with Parinfer is now in the App Store simple_smile"><y>#</y><d>2016-02-29</d><h>20:18</h><w>mfikes</w>Replete with Parinfer is now in the App Store <b>simple_smile</b></z><z id="t1456808681" t="shaunlebron nice! 😄"><y>#</y><d>2016-03-01</d><h>05:04</h><w>shaunlebron</w>nice! <b>😄</b></z><z id="t1456893520" t="snoe I&apos;ve been testing out a simple little &quot;hybrid&quot; mode. It&apos;s actually kind of neat, things tend to auto-indent as in paren-mode when you add params or change a fn name, pasting behaves like paren mode paste, but if you are typing at the bottom of a form it behaves like indent-mode. (if (re-matches #&quot;\s*\S$&quot; current-line) (parinfer/indentMode current-text opts) (let [paren (parinfer/parenMode current-text opts)] (parinfer/indentMode (.-text paren) opts)))"><y>#</y><d>2016-03-02</d><h>04:38</h><w>snoe</w>I&apos;ve been testing out a simple little &quot;hybrid&quot; mode. It&apos;s actually kind of neat, things tend to auto-indent as in paren-mode when you add params or change a fn name, pasting behaves like paren mode paste, but if you are typing at the bottom of a form it behaves like indent-mode. <pre>(if (re-matches #&quot;\s*\S$&quot; current-line)
     (parinfer/indentMode current-text opts)
     (let [paren (parinfer/parenMode current-text opts)]
       (parinfer/indentMode (.-text paren) opts)))</pre></z><z id="t1456893601" t="snoe Going to use it more this week to see where the problems lie, but over the last day it&apos;s been pretty good to work with."><y>#</y><d>2016-03-02</d><h>04:40</h><w>snoe</w>Going to use it more this week to see where the problems lie, but over the last day it&apos;s been pretty good to work with.</z><z id="t1456893649" t="snoe Pasting unbalanced forms is a no-no"><y>#</y><d>2016-03-02</d><h>04:40</h><w>snoe</w>Pasting unbalanced forms is a no-no</z><z id="t1456932373" t="shaunlebron That’s awesome [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}]"><y>#</y><d>2016-03-02</d><h>15:26</h><w>shaunlebron</w>That’s awesome <a>@snoe</a></z><z id="t1456932402" t="shaunlebron I’d like to try that out"><y>#</y><d>2016-03-02</d><h>15:26</h><w>shaunlebron</w>I’d like to try that out</z><z id="t1456932476" t="shaunlebron can you indent/dedent selected lines with that?"><y>#</y><d>2016-03-02</d><h>15:27</h><w>shaunlebron</w>can you indent/dedent selected lines with that?</z><z id="t1456932524" t="shaunlebron looks like that would only work if there’s only one non-whitespace character on a line"><y>#</y><d>2016-03-02</d><h>15:28</h><w>shaunlebron</w>looks like that would only work if there’s only one non-whitespace character on a line</z><z id="t1456932588" t="shaunlebron but it’s interesting that it satisfies the use-case of insertion of a new line"><y>#</y><d>2016-03-02</d><h>15:29</h><w>shaunlebron</w>but it’s interesting that it satisfies the use-case of insertion of a new line</z><z id="t1456932809" t="shaunlebron https://shaunlebron.github.io/parinfer/demo"><y>#</y><d>2016-03-02</d><h>15:33</h><w>shaunlebron</w><a href="https://shaunlebron.github.io/parinfer/demo" target="_blank">https://shaunlebron.github.io/parinfer/demo</a></z><z id="t1456932841" t="shaunlebron I’m starting this demo site to be the canonical place to test Parinfer’s intended behavior"><y>#</y><d>2016-03-02</d><h>15:34</h><w>shaunlebron</w>I’m starting this demo site to be the canonical place to test Parinfer’s intended behavior</z><z id="t1456932893" t="shaunlebron feedback welcome on the new previewCursorScope option"><y>#</y><d>2016-03-02</d><h>15:34</h><w>shaunlebron</w>feedback welcome on the new <code>previewCursorScope</code> option</z><z id="t1456937238" t="chrisoakman [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : this is wonderful"><y>#</y><d>2016-03-02</d><h>16:47</h><w>chrisoakman</w><a>@shaunlebron</a>: this is wonderful</z><z id="t1456937266" t="chrisoakman I&apos;m talking with [:attrs {:href &quot;/_/_/users/U051GFP2V&quot;}] about integrating with this with CLJS fiddle: http://cljsfiddle.com/"><y>#</y><d>2016-03-02</d><h>16:47</h><w>chrisoakman</w>I&apos;m talking with <a>@escherize</a> about integrating with this with CLJS fiddle: <a href="http://cljsfiddle.com/" target="_blank">http://cljsfiddle.com/</a></z><z id="t1456969732" t="escherize til there&apos;s a parinfer channel"><y>#</y><d>2016-03-03</d><h>01:48</h><w>escherize</w>til there&apos;s a parinfer channel</z><z id="t1456969754" t="escherize Haha, just before I got told about it, [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] 😛"><y>#</y><d>2016-03-03</d><h>01:49</h><w>escherize</w>Haha, just before I got told about it, <a>@shaunlebron</a> <b>😛</b></z><z id="t1456969825" t="shaunlebron simple_smile"><y>#</y><d>2016-03-03</d><h>01:50</h><w>shaunlebron</w><b>simple_smile</b></z><z id="t1456969837" t="shaunlebron so you were asking about why two modes exist [:attrs {:href &quot;/_/_/users/U051GFP2V&quot;}]"><y>#</y><d>2016-03-03</d><h>01:50</h><w>shaunlebron</w>so you were asking about why two modes exist <a>@escherize</a></z><z id="t1456969886" t="shaunlebron the website might be too much information about this, but check out the new demo site"><y>#</y><d>2016-03-03</d><h>01:51</h><w>shaunlebron</w>the website might be too much information about this, but check out the new demo site</z><z id="t1456969900" t="escherize Yeah, I havn&apos;t used parinfer a TON, but indent-mode clicked with me more"><y>#</y><d>2016-03-03</d><h>01:51</h><w>escherize</w>Yeah, I havn&apos;t used parinfer a TON, but indent-mode clicked with me more</z><z id="t1456969901" t="shaunlebron it has a caption that describes each mode when you hover over it"><y>#</y><d>2016-03-03</d><h>01:51</h><w>shaunlebron</w>it has a caption that describes each mode when you hover over it</z><z id="t1456969937" t="escherize I actually asked because i was digging in the source of the demo"><y>#</y><d>2016-03-03</d><h>01:52</h><w>escherize</w>I actually asked because i was digging in the source of the demo</z><z id="t1456969940" t="shaunlebron Paren Mode is not popular, but it’s hard to communicate the context required to appreciate it"><y>#</y><d>2016-03-03</d><h>01:52</h><w>shaunlebron</w>Paren Mode is not popular, but it’s hard to communicate the context required to appreciate it</z><z id="t1456969963" t="escherize those may be related"><y>#</y><d>2016-03-03</d><h>01:52</h><w>escherize</w>those may be related</z><z id="t1456970013" t="escherize I suppose, respecting the indentation I&apos;ve chosen could be a good thing"><y>#</y><d>2016-03-03</d><h>01:53</h><w>escherize</w>I suppose, respecting the indentation I&apos;ve chosen could be a good thing</z><z id="t1456970088" t="shaunlebron I’ll record a quick gif of the main use case that keeps me from throwing away Paren Mode"><y>#</y><d>2016-03-03</d><h>01:54</h><w>shaunlebron</w>I’ll record a quick gif of the main use case that keeps me from throwing away Paren Mode</z><z id="t1456970128" t="escherize One I could think of, is - in emacs it&apos;s called align-cljlet , and indents code like this: (defn foo &quot;hello, this is a docstring&quot; [a b] (let [sum (+ a b) prod (* a b) unused-thing nil] {:sum sum :prod prod :parinfer-awesome? true}))"><y>#</y><d>2016-03-03</d><h>01:55</h><w>escherize</w>One I could think of, is - in emacs it&apos;s called <code>align-cljlet</code>, and indents code like this:
<pre>(defn foo
  &quot;hello, this is a docstring&quot;
  [a b]
  (let [sum          (+ a b)
        prod         (* a b)
        unused-thing nil]
     {:sum               sum
      :prod              prod
      :parinfer-awesome? true}))</pre></z><z id="t1456970385" t="shaunlebron uploading quick screencast"><y>#</y><d>2016-03-03</d><h>01:59</h><w>shaunlebron</w>uploading quick screencast</z><z id="t1456970395" t="escherize appreciate it"><y>#</y><d>2016-03-03</d><h>01:59</h><w>escherize</w>appreciate it</z><z id="t1456970400" t="shaunlebron np, comes up a lot"><y>#</y><d>2016-03-03</d><h>02:00</h><w>shaunlebron</w>np, comes up a lot</z><z id="t1456970639" t="shaunlebron upload speeds are atrocious"><y>#</y><d>2016-03-03</d><h>02:03</h><w>shaunlebron</w>upload speeds are atrocious</z><z id="t1456970655" t="shaunlebron well, they’re not fast"><y>#</y><d>2016-03-03</d><h>02:04</h><w>shaunlebron</w>well, they’re not fast</z><z id="t1456970706" t="shaunlebron do you have screenhero?"><y>#</y><d>2016-03-03</d><h>02:05</h><w>shaunlebron</w>do you have screenhero?</z><z id="t1456970757" t="escherize hey, i do have screenhero"><y>#</y><d>2016-03-03</d><h>02:05</h><w>escherize</w>hey, i do have screenhero</z><z id="t1456970764" t="escherize email: {:tag :mailto:bryan.maassgmail.combryan.maassgmail.com, :attrs nil, :content nil}"><y>#</y><d>2016-03-03</d><h>02:06</h><w>escherize</w>email: <code>{:tag :mailto:bryan.maassgmail.combryan.maassgmail.com, :attrs nil, :content nil}</code></z><z id="t1456970804" t="shaunlebron well, turns out I don&apos;t"><y>#</y><d>2016-03-03</d><h>02:06</h><w>shaunlebron</w>well, turns out I don&apos;t</z><z id="t1456970805" t="shaunlebron ..."><y>#</y><d>2016-03-03</d><h>02:06</h><w>shaunlebron</w>...</z><z id="t1456970810" t="escherize Haha, whats your email"><y>#</y><d>2016-03-03</d><h>02:06</h><w>escherize</w>Haha, whats your email</z><z id="t1456970812" t="shaunlebron I have it on my work acount..."><y>#</y><d>2016-03-03</d><h>02:06</h><w>shaunlebron</w>I have it on my work acount...</z><z id="t1456970817" t="shaunlebron &lt;mailto: /cdn-cgi/l/email-protection | /cdn-cgi/l/email-protection &gt;"><y>#</y><d>2016-03-03</d><h>02:06</h><w>shaunlebron</w>&lt;mailto:<a href="/cdn-cgi/l/email-protection" target="_blank">/cdn-cgi/l/email-protection</a>|<a href="/cdn-cgi/l/email-protection" target="_blank">/cdn-cgi/l/email-protection</a>&gt;</z><z id="t1456977280" t="shaunlebron https://www.youtube.com/watch?v=8BkAD0vKJrA"><y>#</y><d>2016-03-03</d><h>03:54</h><w>shaunlebron</w><a href="https://www.youtube.com/watch?v=8BkAD0vKJrA" target="_blank">https://www.youtube.com/watch?v=8BkAD0vKJrA</a></z><z id="t1457016456" t="mfikes Planck 1.10, which uses Parinfer for indentation has been pushed out. Will be announcing it shortly."><y>#</y><d>2016-03-03</d><h>14:47</h><w>mfikes</w>Planck 1.10, which uses Parinfer for indentation has been pushed out. Will be announcing it shortly.</z><z id="t1457036575" t="denik [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : i prefer previewCursorScope !"><y>#</y><d>2016-03-03</d><h>20:22</h><w>denik</w><a>@shaunlebron</a>: i prefer <code>previewCursorScope</code>!</z><z id="t1457061037" t="shaunlebron thanks for checking it out [:attrs {:href &quot;/_/_/users/U050CJFRU&quot;}] !"><y>#</y><d>2016-03-04</d><h>03:10</h><w>shaunlebron</w>thanks for checking it out <a>@denik</a>!</z><z id="t1457061060" t="shaunlebron chris and I found some corner cases to fix, so it’ll be a little different than that"><y>#</y><d>2016-03-04</d><h>03:11</h><w>shaunlebron</w>chris and I found some corner cases to fix, so it’ll be a little different than that</z><z id="t1457156658" t="snoe an observation from this week: (is= {:things [|1 :stuff :yup} (test-me args))"><y>#</y><d>2016-03-05</d><h>05:44</h><w>snoe</w>an observation from this week: <code>(is= {:things [|1 :stuff :yup} (test-me args))</code></z><z id="t1457157103" t="snoe Inserting the square bracket here does something surprising (unless you know the parinfer algo). It results in: (is= {:things [1 :stuff :yup (test-me args)]}) but it&apos;s actually easy to miss that test-me was slurped in, especially if you are just trying to wrap the 1 in brackets. It would be less surprising if the unbalanced [ had it&apos;s closing pair inserted before the } . (is= {:things [1 :stuff :yup]} (test-me args))"><y>#</y><d>2016-03-05</d><h>05:51</h><w>snoe</w>Inserting the square bracket here does something surprising (unless you know the parinfer algo). It results in: <code>(is= {:things [1 :stuff :yup (test-me args)]})</code> but it&apos;s actually easy to miss that <code>test-me</code> was slurped in, especially if you are just trying to wrap the <code>1</code> in brackets. It would be less surprising if the unbalanced <code>[</code> had it&apos;s closing pair inserted before the <code>}</code>. <code>(is= {:things [1 :stuff :yup]} (test-me args))</code></z><z id="t1457157168" t="snoe As it stands, you need to find where the map used to end, and re-splice it (need to close ] and the } ). With the suggestion you need only close the ] . I feel like I&apos;ve been bit by this a few times."><y>#</y><d>2016-03-05</d><h>05:52</h><w>snoe</w>As it stands, you need to find where the map used to end, and re-splice it (need to close <code>]</code> and the <code>}</code>). With the suggestion you need only close the <code>]</code>. I feel like I&apos;ve been bit by this a few times.</z><z id="t1457157184" t="snoe What do you guys think?"><y>#</y><d>2016-03-05</d><h>05:53</h><w>snoe</w>What do you guys think?</z><z id="t1457162771" t="chrisoakman I have been bit by a similar variation of this"><y>#</y><d>2016-03-05</d><h>07:26</h><w>chrisoakman</w>I have been bit by a similar variation of this</z><z id="t1457162814" t="chrisoakman I would describe it Parinfer closing ending parens on the same line in not the place I want it to close"><y>#</y><d>2016-03-05</d><h>07:26</h><w>chrisoakman</w>I would describe it Parinfer closing ending parens on the same line in not the place I want it to close</z><z id="t1457162867" t="chrisoakman I&apos;m not sure if the algorithm can be improved to deal with cases like this"><y>#</y><d>2016-03-05</d><h>07:27</h><w>chrisoakman</w>I&apos;m not sure if the algorithm can be improved to deal with cases like this</z><z id="t1457190627" t="shaunlebron thanks [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}]"><y>#</y><d>2016-03-05</d><h>15:10</h><w>shaunlebron</w>thanks <a>@snoe</a></z><z id="t1457190637" t="shaunlebron that behavior sucks, I’ll look at it"><y>#</y><d>2016-03-05</d><h>15:10</h><w>shaunlebron</w>that behavior sucks, I’ll look at it</z><z id="t1457200227" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] thought about some, tracking here: https://github.com/shaunlebron/parinfer/issues/102"><y>#</y><d>2016-03-05</d><h>17:50</h><w>shaunlebron</w><a>@snoe</a> thought about some, tracking here: <a href="https://github.com/shaunlebron/parinfer/issues/102" target="_blank">https://github.com/shaunlebron/parinfer/issues/102</a></z><z id="t1457281221" t="sekao if anyone’s interested in trying parinfer in nightcode, i built and uploaded a snapshot: https://github.com/oakes/Nightcode/releases/tag/1.1.0-SNAPSHOT"><y>#</y><d>2016-03-06</d><h>16:20</h><w>sekao</w>if anyone’s interested in trying parinfer in nightcode, i built and uploaded a snapshot: <a href="https://github.com/oakes/Nightcode/releases/tag/1.1.0-SNAPSHOT" target="_blank">https://github.com/oakes/Nightcode/releases/tag/1.1.0-SNAPSHOT</a></z><z id="t1457281285" t="sekao i wrote a new indent system from scratch that uses tools.reader to figure out the proper indent. maybe overkill but it seems ok so far"><y>#</y><d>2016-03-06</d><h>16:21</h><w>sekao</w>i wrote a new indent system from scratch that uses tools.reader to figure out the proper indent. maybe overkill but it seems ok so far</z><z id="t1457281373" t="sekao i updated paren-soup as well, and it’s using the same indentation and undo/redo code as nightcode, so it’s an easy way to try the behaviors out: https://oakes.github.io/paren-soup/"><y>#</y><d>2016-03-06</d><h>16:22</h><w>sekao</w>i updated paren-soup as well, and it’s using the same indentation and undo/redo code as nightcode, so it’s an easy way to try the behaviors out: <a href="https://oakes.github.io/paren-soup/" target="_blank">https://oakes.github.io/paren-soup/</a></z><z id="t1457281443" t="sekao only downside to this change is that nightcode is like 12MB larger 😃 not sure why, maybe it’s the kotlin dependency. it’s worth it though"><y>#</y><d>2016-03-06</d><h>16:24</h><w>sekao</w>only downside to this change is that nightcode is like 12MB larger <b>😃</b> not sure why, maybe it’s the kotlin dependency. it’s worth it though</z><z id="t1457281453" t="dominicm That&apos;s pretty neat."><y>#</y><d>2016-03-06</d><h>16:24</h><w>dominicm</w>That&apos;s pretty neat.</z><z id="t1457281462" t="dominicm I like the paren soup."><y>#</y><d>2016-03-06</d><h>16:24</h><w>dominicm</w>I like the paren soup.</z><z id="t1457281477" t="dominicm Be interesting to try that in vim running async or something."><y>#</y><d>2016-03-06</d><h>16:24</h><w>dominicm</w>Be interesting to try that in vim running async or something.</z><z id="t1457282006" t="solicode The size increase is surprising though. I thought Kotlin’s runtime + standard lib came out to be less than 1 MB"><y>#</y><d>2016-03-06</d><h>16:33</h><w>solicode</w>The size increase is surprising though. I thought Kotlin’s runtime + standard lib came out to be less than 1 MB</z><z id="t1457282015" t="solicode Must be some other dependency?"><y>#</y><d>2016-03-06</d><h>16:33</h><w>solicode</w>Must be some other dependency?</z><z id="t1457282081" t="escherize Hey guys, wanted to mention that we added a feature to cljsfiddle. http://cljsfiddle.com/#gist=6a609b6af5430a4be97d"><y>#</y><d>2016-03-06</d><h>16:34</h><w>escherize</w>Hey guys, wanted to mention that we added a feature to cljsfiddle. <a href="http://cljsfiddle.com/#gist=6a609b6af5430a4be97d" target="_blank">http://cljsfiddle.com/#gist=6a609b6af5430a4be97d</a></z><z id="t1457282098" t="escherize I&apos;d like to add parinfer next - it&apos;s wonderful stuff"><y>#</y><d>2016-03-06</d><h>16:34</h><w>escherize</w>I&apos;d like to add parinfer next - it&apos;s wonderful stuff</z><z id="t1457289701" t="shaunlebron [:attrs {:href &quot;/_/_/users/U080181PF&quot;}] : just tried out the new nightcode and paren-soup versions"><y>#</y><d>2016-03-06</d><h>18:41</h><w>shaunlebron</w><a>@sekao</a>: just tried out the new nightcode and paren-soup versions</z><z id="t1457289735" t="shaunlebron works well! surprised that you were able to share code between them"><y>#</y><d>2016-03-06</d><h>18:42</h><w>shaunlebron</w>works well!  surprised that you were able to share code between them</z><z id="t1457290057" t="shaunlebron [:attrs {:href &quot;/_/_/users/U051GFP2V&quot;}] : nice addition"><y>#</y><d>2016-03-06</d><h>18:47</h><w>shaunlebron</w><a>@escherize</a>: nice addition</z><z id="t1457290079" t="shaunlebron I was looking at doing this for the parinfer demo site with firebase"><y>#</y><d>2016-03-06</d><h>18:47</h><w>shaunlebron</w>I was looking at doing this for the parinfer demo site with firebase</z><z id="t1457290122" t="shaunlebron I’m guessing you do some Gist API calls on the backend to save snippets?"><y>#</y><d>2016-03-06</d><h>18:48</h><w>shaunlebron</w>I’m guessing you do some Gist API calls on the backend to save snippets?</z><z id="t1457290147" t="shaunlebron was hoping to use firebase to skirt the backend requirement"><y>#</y><d>2016-03-06</d><h>18:49</h><w>shaunlebron</w>was hoping to use firebase to skirt the backend requirement</z><z id="t1457291564" t="shaunlebron nevermind, just looked at cljsfiddle.gist . i’ll just do that then!"><y>#</y><d>2016-03-06</d><h>19:12</h><w>shaunlebron</w>nevermind, just looked at <code>cljsfiddle.gist</code>.  i’ll just do that then!</z><z id="t1457291772" t="sekao [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : yeah i was surprised too…i wrote it all in paren-soup first, then broke the code out into their own libraries and made them cljc files. one of my first experiences with clj/cljs code reuse, it was pretty cool"><y>#</y><d>2016-03-06</d><h>19:16</h><w>sekao</w><a>@shaunlebron</a>: yeah i was surprised too…i wrote it all in paren-soup first, then broke the code out into their own libraries and made them cljc files. one of my first experiences with clj/cljs code reuse, it was pretty cool</z><z id="t1457294103" t="shaunlebron that’s cool, tag-soup and mwm, just perused them a bit"><y>#</y><d>2016-03-06</d><h>19:55</h><w>shaunlebron</w>that’s cool, tag-soup and mwm, just perused them a bit</z><z id="t1457295646" t="dominicm [:attrs {:href &quot;/_/_/users/U051GFP2V&quot;}] : Interesting that you went gitlab, was pretty confused I couldn&apos;t find it on github. I&apos;m really interested to watch how gitlab shapes the github empire."><y>#</y><d>2016-03-06</d><h>20:20</h><w>dominicm</w><a>@escherize</a>: Interesting that you went gitlab, was pretty confused I couldn&apos;t find it on github. I&apos;m really interested to watch how gitlab shapes the github empire.</z><z id="t1457301087" t="cfleming [:attrs {:href &quot;/_/_/users/U09LZR36F&quot;}] : [:attrs {:href &quot;/_/_/users/U051GFP2V&quot;}] : I’ve considered moving the Cursive issues to Gitlab because their issue handling is a lot better and their dev process is more open, but I’m worried about this discoverability issue so I shelved the idea for the moment."><y>#</y><d>2016-03-06</d><h>21:51</h><w>cfleming</w><a>@dominicm</a>: <a>@escherize</a>: I’ve considered moving the Cursive issues to Gitlab because their issue handling is a lot better and their dev process is more open, but I’m worried about this discoverability issue so I shelved the idea for the moment.</z><z id="t1457343077" t="dominicm [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : I mean, I doubt people think along the lines of &quot;Oh, I need to submit an issue to cursive, let&apos;s go find them on github&quot; The likely flow is probably more along the lines of go to https://cursive-ide.com/ =&gt; find support of some kind =&gt; Follow on screen steps"><y>#</y><d>2016-03-07</d><h>09:31</h><w>dominicm</w><a>@cfleming</a>: I mean, I doubt people think along the lines of &quot;Oh, I need to submit an issue to cursive, let&apos;s go find them on github&quot; The likely flow is probably more along the lines of go to <a href="https://cursive-ide.com/" target="_blank">https://cursive-ide.com/</a> =&gt; find support of some kind =&gt; Follow on screen steps</z><z id="t1457357990" t="escherize Is it the case that parinfer doesn&apos;t match &quot; s? Or did I install it wrong?"><y>#</y><d>2016-03-07</d><h>13:39</h><w>escherize</w>Is it the case that parinfer doesn&apos;t match <code>&quot;</code>s? Or did I install it wrong?</z><z id="t1457358028" t="escherize expected behavior: [:h2 |] + hit &quot; =&gt; [:h2 &quot;|&quot;] [:h2 &quot;|&quot;] + hit a =&gt; [:h2 &quot;a|&quot;] [:h2 &quot;a|&quot;] + hit &quot; =&gt; [:h2 &quot;a&quot;|]"><y>#</y><d>2016-03-07</d><h>13:40</h><w>escherize</w>expected behavior: 
<code>[:h2 |]</code> + hit <code>&quot;</code> =&gt; <code>[:h2 &quot;|&quot;]</code>
<code>[:h2 &quot;|&quot;]</code> + hit <code>a</code> =&gt; <code>[:h2 &quot;a|&quot;]</code>
 <code>[:h2 &quot;a|&quot;]</code> + hit <code>&quot;</code> =&gt; <code>[:h2 &quot;a&quot;|]</code></z><z id="t1457358621" t="escherize Anyway, will ping you guys for help with the last step when I get up. (it&apos;s ~1am here)"><y>#</y><d>2016-03-07</d><h>13:50</h><w>escherize</w>Anyway, will ping you guys for help with the last step when I get up. (it&apos;s ~1am here)</z><z id="t1457364143" t="shaunlebron &gt; Parinfer cannot infer anything about quote positions like it can with parens. So it doesn&apos;t try to do anything special with them, other than abandon processing if imbalanced quotes are detected."><y>#</y><d>2016-03-07</d><h>15:22</h><w>shaunlebron</w>&gt; Parinfer cannot infer anything about quote positions like it can with parens. So it doesn&apos;t try to do anything special with them, other than abandon processing if imbalanced quotes are detected.</z><z id="t1457364170" t="shaunlebron ^ [:attrs {:href &quot;/_/_/users/U051GFP2V&quot;}] : quotes cannot be auto-inserted, because they don’t follow indentation rules"><y>#</y><d>2016-03-07</d><h>15:22</h><w>shaunlebron</w>^ <a>@escherize</a>: quotes cannot be auto-inserted, because they don’t follow indentation rules</z><z id="t1457366171" t="shaunlebron Parinfer v1.7.0 published"><y>#</y><d>2016-03-07</d><h>15:56</h><w>shaunlebron</w>Parinfer v1.7.0 published</z><z id="t1457366184" t="shaunlebron Indent Mode has new previewCursorScope option"><y>#</y><d>2016-03-07</d><h>15:56</h><w>shaunlebron</w>Indent Mode has new <code>previewCursorScope</code> option</z><z id="t1457366190" t="shaunlebron https://youtu.be/vrY27KOs_nk"><y>#</y><d>2016-03-07</d><h>15:56</h><w>shaunlebron</w><a href="https://youtu.be/vrY27KOs_nk" target="_blank">https://youtu.be/vrY27KOs_nk</a></z><z id="t1457366243" t="shaunlebron i think it should probably be default, but i’ll wait for feedback before doing that"><y>#</y><d>2016-03-07</d><h>15:57</h><w>shaunlebron</w>i think it should probably be default, but i’ll wait for feedback before doing that</z><z id="t1457366692" t="chrisoakman nice video [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] !"><y>#</y><d>2016-03-07</d><h>16:04</h><w>chrisoakman</w>nice video <a>@shaunlebron</a> !</z><z id="t1457399446" t="jasongilman I just created a gist describing my Atom setup including Parinfer. It fixes the indentation issues that were discussed earlier in #C03S1L9DN https://gist.github.com/jasongilman/d1f70507bed021b48625#file-my_atom_clojure_setup-md"><y>#</y><d>2016-03-08</d><h>01:10</h><w>jasongilman</w>I just created a gist describing my Atom setup including Parinfer.  It fixes the indentation issues that were discussed earlier in #C03S1L9DN  <a href="https://gist.github.com/jasongilman/d1f70507bed021b48625#file-my_atom_clojure_setup-md" target="_blank">https://gist.github.com/jasongilman/d1f70507bed021b48625#file-my_atom_clojure_setup-md</a></z><z id="t1457406355" t="shaunlebron thanks [:attrs {:href &quot;/_/_/users/U0MJD9LKA&quot;}] for putting that together"><y>#</y><d>2016-03-08</d><h>03:05</h><w>shaunlebron</w>thanks <a>@jasongilman</a> for putting that together</z><z id="t1457406376" t="shaunlebron I’ll look at how lisp-paredit handles that"><y>#</y><d>2016-03-08</d><h>03:06</h><w>shaunlebron</w>I’ll look at how lisp-paredit handles that</z><z id="t1457413328" t="shaunlebron lisp-paredit uses paredit.js for its auto-indentation"><y>#</y><d>2016-03-08</d><h>05:02</h><w>shaunlebron</w>lisp-paredit uses paredit.js for its auto-indentation</z><z id="t1457413536" t="shaunlebron it parses the entire file for the AST before determining the indentation of a line"><y>#</y><d>2016-03-08</d><h>05:05</h><w>shaunlebron</w>it parses the entire file for the AST before determining the indentation of a line</z><z id="t1457413570" t="shaunlebron then it determines the indentation based on 3 rules: https://github.com/shaunlebron/parinfer/issues/59#issuecomment-193609417"><y>#</y><d>2016-03-08</d><h>05:06</h><w>shaunlebron</w>then it determines the indentation based on 3 rules: <a href="https://github.com/shaunlebron/parinfer/issues/59#issuecomment-193609417" target="_blank">https://github.com/shaunlebron/parinfer/issues/59#issuecomment-193609417</a></z><z id="t1457413678" t="shaunlebron it’s not configurable, but it’s inline with the clojure style guide afaict"><y>#</y><d>2016-03-08</d><h>05:07</h><w>shaunlebron</w>it’s not configurable, but it’s inline with the clojure style guide afaict</z><z id="t1457413693" t="shaunlebron some folks prefer two-space indentation for nearly everything though"><y>#</y><d>2016-03-08</d><h>05:08</h><w>shaunlebron</w>some folks prefer two-space indentation for nearly everything though</z><z id="t1457425736" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : previewCursorScope looks nice"><y>#</y><d>2016-03-08</d><h>08:28</h><w>cfleming</w><a>@shaunlebron</a>: previewCursorScope looks nice</z><z id="t1457425749" t="cfleming I’d make that the default unless there’s weirdness at the edges."><y>#</y><d>2016-03-08</d><h>08:29</h><w>cfleming</w>I’d make that the default unless there’s weirdness at the edges.</z><z id="t1457458420" t="shaunlebron I think the only weirdness is trying to insert a comment on an empty line"><y>#</y><d>2016-03-08</d><h>17:33</h><w>shaunlebron</w>I think the only weirdness is trying to insert a comment on an empty line</z><z id="t1457928514" t="cfleming I have JVM Parinfer updated to 1.7.0, I’ll probably push it tomorrow."><y>#</y><d>2016-03-14</d><h>04:08</h><w>cfleming</w>I have JVM Parinfer updated to 1.7.0, I’ll probably push it tomorrow.</z><z id="t1457928564" t="cfleming I’m going to start numbering the versions to match Parinfer proper, too."><y>#</y><d>2016-03-14</d><h>04:09</h><w>cfleming</w>I’m going to start numbering the versions to match Parinfer proper, too.</z><z id="t1457929449" t="chrisoakman hmm"><y>#</y><d>2016-03-14</d><h>04:24</h><w>chrisoakman</w>hmm</z><z id="t1457929464" t="chrisoakman I suppose that makes sense so long as it tracks parinfer implementation pretty closely?"><y>#</y><d>2016-03-14</d><h>04:24</h><w>chrisoakman</w>I suppose that makes sense so long as it tracks parinfer implementation pretty closely?</z><z id="t1457929542" t="cfleming At the moment they’re basically identical."><y>#</y><d>2016-03-14</d><h>04:25</h><w>cfleming</w>At the moment they’re basically identical.</z><z id="t1457929576" t="cfleming I mean, I can version it independently, but I’m not sure how much sense that makes. Currently the idea is that the JVM version is basically an exact port of the original, right?"><y>#</y><d>2016-03-14</d><h>04:26</h><w>cfleming</w>I mean, I can version it independently, but I’m not sure how much sense that makes. Currently the idea is that the JVM version is basically an exact port of the original, right?</z><z id="t1457929686" t="chrisoakman What happens when you make a change that doesn&apos;t match parinfer.js? Like a JVM speed improvement."><y>#</y><d>2016-03-14</d><h>04:28</h><w>chrisoakman</w>What happens when you make a change that doesn&apos;t match parinfer.js? Like a JVM speed improvement.</z><z id="t1457929800" t="chrisoakman The idea of semver is that the public API regulates your version numbers"><y>#</y><d>2016-03-14</d><h>04:30</h><w>chrisoakman</w>The idea of semver is that the public API regulates your version numbers</z><z id="t1457929888" t="chrisoakman I think the public API and major version should probably track parinfer.js closely, but I can see situations where parinfer-jvm would have minor or patch releases that differ from parinfer.js"><y>#</y><d>2016-03-14</d><h>04:31</h><w>chrisoakman</w>I think the public API and major version should probably track parinfer.js closely, but I can see situations where parinfer-jvm would have minor or patch releases that differ from parinfer.js</z><z id="t1457929950" t="chrisoakman parinfer.py 0.7.0 is a good example of a release that only changed internals for Python-reasons: https://github.com/oakmac/parinfer.py/commit/eff391b444e6944737107d027d0abd38b2aa27a6"><y>#</y><d>2016-03-14</d><h>04:32</h><w>chrisoakman</w>parinfer.py 0.7.0 is a good example of a release that only changed internals for Python-reasons: <a href="https://github.com/oakmac/parinfer.py/commit/eff391b444e6944737107d027d0abd38b2aa27a6" target="_blank">https://github.com/oakmac/parinfer.py/commit/eff391b444e6944737107d027d0abd38b2aa27a6</a></z><z id="t1457930170" t="chrisoakman Want to just flag parinfer-jvm at 1.0.0 with your next release? I&apos;m fine with that; I don&apos;t think the public API is going to change in a breaking way anytime soon"><y>#</y><d>2016-03-14</d><h>04:36</h><w>chrisoakman</w>Want to just flag parinfer-jvm at 1.0.0 with your next release? I&apos;m fine with that; I don&apos;t think the public API is going to change in a breaking way anytime soon</z><z id="t1457930180" t="chrisoakman You are probably the only consumer of parinfer-jvm anyway 😉"><y>#</y><d>2016-03-14</d><h>04:36</h><w>chrisoakman</w>You are probably the only consumer of parinfer-jvm anyway <b>😉</b></z><z id="t1457931829" t="sekao [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] : actually i’m using it too 😃"><y>#</y><d>2016-03-14</d><h>05:03</h><w>sekao</w><a>@chrisoakman</a>: actually i’m using it too <b>😃</b></z><z id="t1457931883" t="chrisoakman cool"><y>#</y><d>2016-03-14</d><h>05:04</h><w>chrisoakman</w>cool</z><z id="t1457936495" t="cfleming [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] : Yeah, I was thinking about that on the way home and came to the same conclusion. I’m actually going to look at changing the API to make it throw an exception on error rather than catching it and wrapping it, which is fairly idiomatic and makes the result object simpler."><y>#</y><d>2016-03-14</d><h>06:21</h><w>cfleming</w><a>@chrisoakman</a>: Yeah, I was thinking about that on the way home and came to the same conclusion. I’m actually going to look at changing the API to make it throw an exception on error rather than catching it and wrapping it, which is fairly idiomatic and makes the result object simpler.</z><z id="t1457936504" t="cfleming [:attrs {:href &quot;/_/_/users/U080181PF&quot;}] : Any complaints if I do that?"><y>#</y><d>2016-03-14</d><h>06:21</h><w>cfleming</w><a>@sekao</a>: Any complaints if I do that?</z><z id="t1457936937" t="chrisoakman hmm; I also need to give that a think"><y>#</y><d>2016-03-14</d><h>06:28</h><w>chrisoakman</w>hmm; I also need to give that a think</z><z id="t1457936951" t="chrisoakman that would be different from all the other ports of Parinfer"><y>#</y><d>2016-03-14</d><h>06:29</h><w>chrisoakman</w>that would be different from all the other ports of Parinfer</z><z id="t1457937027" t="chrisoakman the exception catching mechanism inside Parinfer isn&apos;t really an error in the classic sense of &quot;something went wrong and I don&apos;t know how to deal with it&quot;"><y>#</y><d>2016-03-14</d><h>06:30</h><w>chrisoakman</w>the exception catching mechanism inside Parinfer isn&apos;t really an error in the classic sense of &quot;something went wrong and I don&apos;t know how to deal with it&quot;</z><z id="t1457937060" t="chrisoakman it&apos;s perfectly valid (and expected) for the user to type text in Indent Mode that Parinfer simply cannot process (unbalanced quotes are the best example of this)"><y>#</y><d>2016-03-14</d><h>06:31</h><w>chrisoakman</w>it&apos;s perfectly valid (and expected) for the user to type text in Indent Mode that Parinfer simply cannot process (unbalanced quotes are the best example of this)</z><z id="t1457937097" t="chrisoakman the result object returns success: false in those cases"><y>#</y><d>2016-03-14</d><h>06:31</h><w>chrisoakman</w>the result object returns <code>success: false</code> in those cases</z><z id="t1457937127" t="chrisoakman but it&apos;s nice that the result from Parinfer is always in the same format"><y>#</y><d>2016-03-14</d><h>06:32</h><w>chrisoakman</w>but it&apos;s nice that the result from Parinfer is always in the same format</z><z id="t1457937210" t="chrisoakman I don&apos;t really know what it would mean if Parinfer threw an error in those cases; whatever would be trapping that error would have to know about Parinfer internals to be able to understand or deal with it"><y>#</y><d>2016-03-14</d><h>06:33</h><w>chrisoakman</w>I don&apos;t really know what it would mean if Parinfer threw an error in those cases; whatever would be trapping that error would have to know about Parinfer internals to be able to understand or deal with it</z><z id="t1457937303" t="chrisoakman and, if the user of the API doesn&apos;t wrap the Parinfer try in a catch, then something pretty innocent (like passing an unbalanced quote string) could theoretically blow up very high up the in stack"><y>#</y><d>2016-03-14</d><h>06:35</h><w>chrisoakman</w>and, if the user of the API doesn&apos;t wrap the Parinfer try in a catch, then something pretty innocent (like passing an unbalanced quote string) could theoretically blow up very high up the in stack</z><z id="t1457937342" t="chrisoakman I think maybe Parinfer exceptions should be constrained to the Parinfer library"><y>#</y><d>2016-03-14</d><h>06:35</h><w>chrisoakman</w>I think maybe Parinfer exceptions should be constrained to the Parinfer library</z><z id="t1457937385" t="chrisoakman parinfer.js didn&apos;t use exceptions in the past; it just kept some additional boolean flags on the result object and checked them at every loop iteration"><y>#</y><d>2016-03-14</d><h>06:36</h><w>chrisoakman</w>parinfer.js didn&apos;t use exceptions in the past; it just kept some additional boolean flags on the result object and checked them at every loop iteration</z><z id="t1457937424" t="chrisoakman (not that that is better than the way it currently works, just an interesting observation)"><y>#</y><d>2016-03-14</d><h>06:37</h><w>chrisoakman</w>(not that that is better than the way it currently works, just an interesting observation)</z><z id="t1457945641" t="cfleming It’s more idiomatic for Java libraries, though. And (checked) exceptions in Java are usually used for conditions that are expected (file not found), and runtime ones for unexpected (null pointer etc)"><y>#</y><d>2016-03-14</d><h>08:54</h><w>cfleming</w>It’s more idiomatic for Java libraries, though. And (checked) exceptions in Java are usually used for conditions that are expected (file not found), and runtime ones for unexpected (null pointer etc)</z><z id="t1457945698" t="cfleming The exception isn’t an unknown part of the Parinfer internals, it becomes a part of the API at that point. It’s unusual to return an error object in Java libs."><y>#</y><d>2016-03-14</d><h>08:54</h><w>cfleming</w>The exception isn’t an unknown part of the Parinfer internals, it becomes a part of the API at that point. It’s unusual to return an error object in Java libs.</z><z id="t1457945793" t="cfleming &gt; if the user of the API doesn&apos;t wrap the Parinfer try in a catch, then something pretty innocent (like passing an unbalanced quote string) could theoretically blow up very high up the in stack You’re inadvertently making the case for checked exceptions simple_smile . And the same is true if you return a result object where some fields are filled in on error and others on success - if you don’t correctly check the error cases you’ll get a null pointer with the same effect."><y>#</y><d>2016-03-14</d><h>08:56</h><w>cfleming</w>&gt; if the user of the API doesn&apos;t wrap the Parinfer try in a catch, then something pretty innocent (like passing an unbalanced quote string) could theoretically blow up very high up the in stack
You’re inadvertently making the case for checked exceptions <b>simple_smile</b>. And the same is true if you return a result object where some fields are filled in on error and others on success - if you don’t correctly check the error cases you’ll get a null pointer with the same effect.</z><z id="t1457945919" t="cfleming An error like that should be a one-time event during development, too, unless the implementer never checks any error conditions either in manual testing or test cases. That’s unlikely here since there’s an established test suite."><y>#</y><d>2016-03-14</d><h>08:58</h><w>cfleming</w>An error like that should be a one-time event during development, too, unless the implementer never checks any error conditions either in manual testing or test cases. That’s unlikely here since there’s an established test suite.</z><z id="t1457946027" t="cfleming &gt; it&apos;s nice that the result from Parinfer is always in the same format Except that it’s not, really. There are fields that are filled in in case of error, and fields that are filled in in case of success. If you think in terms of schemas they’re really two distinct cases. Using an exception with the error fields, and a result object with the success fields is IMO cleaner and means that the fields don’t have to be nullable."><y>#</y><d>2016-03-14</d><h>09:00</h><w>cfleming</w>&gt; it&apos;s nice that the result from Parinfer is always in the same format
Except that it’s not, really. There are fields that are filled in in case of error, and fields that are filled in in case of success. If you think in terms of schemas they’re really two distinct cases. Using an exception with the error fields, and a result object with the success fields is IMO cleaner and means that the fields don’t have to be nullable.</z><z id="t1457946078" t="cfleming I don’t think it’s a big deal though, it’s just a little odd for Java consumers right now."><y>#</y><d>2016-03-14</d><h>09:01</h><w>cfleming</w>I don’t think it’s a big deal though, it’s just a little odd for Java consumers right now.</z><z id="t1457959568" t="sekao interesting discussion. i gotta admit, i’m indifferent 😉 i guess it depends on whether your goal is to be a direct port of the reference impl or be an idiomatic library in its own right. i thought the goal of parinfer-jvm was primarily the former. if it was the latter, i imagine you’d want to change other things as well, like (heaven forbid) use a stateful object with instance methods instead of static methods."><y>#</y><d>2016-03-14</d><h>12:46</h><w>sekao</w>interesting discussion. i gotta admit, i’m indifferent <b>😉</b> i guess it depends on whether your goal is to be a direct port of the reference impl or be an idiomatic library in its own right. i thought the goal of parinfer-jvm was primarily the former. if it was the latter, i imagine you’d want to change other things as well, like (heaven forbid) use a stateful object with instance methods instead of static methods.</z><z id="t1457991207" t="cfleming Yeah, although I think static methods in APIs are more common than error objects. Either way, I agree that the worldwide anticipated audience for this port probably approximates 2, so I’ll leave it as is right now."><y>#</y><d>2016-03-14</d><h>21:33</h><w>cfleming</w>Yeah, although I think static methods in APIs are more common than error objects. Either way, I agree that the worldwide anticipated audience for this port probably approximates 2, so I’ll leave it as is right now.</z><z id="t1457997140" t="cfleming I just pushed 0.4.0 of parinfer-jvm, tracking parinfer proper 1.7.0."><y>#</y><d>2016-03-14</d><h>23:12</h><w>cfleming</w>I just pushed 0.4.0 of parinfer-jvm, tracking parinfer proper 1.7.0.</z><z id="t1457997148" t="cfleming This has the previewCursorScope fix."><y>#</y><d>2016-03-14</d><h>23:12</h><w>cfleming</w>This has the previewCursorScope fix.</z><z id="t1457997192" t="cfleming I’ll stick with the current numbering for the moment - [:attrs {:href &quot;/_/_/users/U080181PF&quot;}] was having a strange problem that I haven’t had time to investigate, I’d like to fix that before pushing a 1.0."><y>#</y><d>2016-03-14</d><h>23:13</h><w>cfleming</w>I’ll stick with the current numbering for the moment - <a>@sekao</a> was having a strange problem that I haven’t had time to investigate, I’d like to fix that before pushing a 1.0.</z><z id="t1458005660" t="jasongilman Is previewCursorScope part of the Atom plugin yet or in the works?"><y>#</y><d>2016-03-15</d><h>01:34</h><w>jasongilman</w>Is previewCursorScope part of the Atom plugin yet or in the works?</z><z id="t1458086303" t="cfleming Ugh, implementing this reliably in IntelliJ is really hard."><y>#</y><d>2016-03-15</d><h>23:58</h><w>cfleming</w>Ugh, implementing this reliably in IntelliJ is really hard.</z><z id="t1458086381" t="cfleming I’m trying to implement running paren mode on file open. Unfortunately IntelliJ implements a caching file system layer, so when the editor opens it’s opened with the previous content that IntelliJ saw."><y>#</y><d>2016-03-15</d><h>23:59</h><w>cfleming</w>I’m trying to implement running paren mode on file open. Unfortunately IntelliJ implements a caching file system layer, so when the editor opens it’s opened with the previous content that IntelliJ saw.</z><z id="t1458086416" t="cfleming Then it gets a “file was updated on disk” event, which I can catch but I can’t modify the document during."><y>#</y><d>2016-03-16</d><h>00:00</h><w>cfleming</w>Then it gets a “file was updated on disk” event, which I can catch but I can’t modify the document during.</z><z id="t1458086447" t="cfleming Then after that I get some document updates, which I debounce and run parinfer after 10ms."><y>#</y><d>2016-03-16</d><h>00:00</h><w>cfleming</w>Then after that I get some document updates, which I debounce and run parinfer after 10ms.</z><z id="t1458086483" t="cfleming Unfortunately there’s no way I can think of to reliably run paren mode between the updates, since I don’t have the intermediate document states when I finally come to run indent mode after debouncing."><y>#</y><d>2016-03-16</d><h>00:01</h><w>cfleming</w>Unfortunately there’s no way I can think of to reliably run paren mode between the updates, since I don’t have the intermediate document states when I finally come to run indent mode after debouncing.</z><z id="t1458086580" t="cfleming i.e. if there’s a file reload event I can mark that file as needing paren mode, but if there are more updates before I actually run paren mode then the document is modified in place and I can’t get the previous version. Even if I could, if paren mode modifies it then the later updates may be invalid since the document will have changed."><y>#</y><d>2016-03-16</d><h>00:03</h><w>cfleming</w>i.e. if there’s a file reload event I can mark that file as needing paren mode, but if there are more updates before I actually run paren mode then the document is modified in place and I can’t get the previous version. Even if I could, if paren mode modifies it then the later updates may be invalid since the document will have changed.</z><z id="t1458089504" t="snoe Ugh I&apos;m glad I didn&apos;t go far down the road of trying to write a neovim backed intellij editor plugin."><y>#</y><d>2016-03-16</d><h>00:51</h><w>snoe</w>Ugh I&apos;m glad I didn&apos;t go far down the road of trying to write a neovim backed intellij editor plugin.</z><z id="t1458091067" t="cfleming [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] : Yeah, I’ve actually considered that myself but I suspect it would be difficult."><y>#</y><d>2016-03-16</d><h>01:17</h><w>cfleming</w><a>@snoe</a>: Yeah, I’ve actually considered that myself but I suspect it would be difficult.</z><z id="t1458091156" t="cfleming All the complexity means that massive codebases work really well, but this sort of integration is not easy. This is one of the most difficult things I’ve had to shoehorn into IntelliJ, which I didn’t expect."><y>#</y><d>2016-03-16</d><h>01:19</h><w>cfleming</w>All the complexity means that massive codebases work really well, but this sort of integration is not easy. This is one of the most difficult things I’ve had to shoehorn into IntelliJ, which I didn’t expect.</z><z id="t1458097942" t="shaunlebron what a nightmare"><y>#</y><d>2016-03-16</d><h>03:12</h><w>shaunlebron</w>what a nightmare</z><z id="t1458097976" t="shaunlebron I’m not sure there is a precedent for the type of transformation that parinfer performs"><y>#</y><d>2016-03-16</d><h>03:12</h><w>shaunlebron</w>I’m not sure there is a precedent for the type of transformation that parinfer performs</z><z id="t1458098002" t="shaunlebron and I think that is why editor integration has been difficult"><y>#</y><d>2016-03-16</d><h>03:13</h><w>shaunlebron</w>and I think that is why editor integration has been difficult</z><z id="t1458098049" t="shaunlebron editors do not anticipate plugins to act as a kind of middleware like this"><y>#</y><d>2016-03-16</d><h>03:14</h><w>shaunlebron</w>editors do not anticipate plugins to act as a kind of middleware like this</z><z id="t1458099453" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : I’d agree with that - I can’t think of any other transformation that works like this, except something like file formatting."><y>#</y><d>2016-03-16</d><h>03:37</h><w>cfleming</w><a>@shaunlebron</a>: I’d agree with that - I can’t think of any other transformation that works like this, except something like file formatting.</z><z id="t1458099463" t="cfleming And that’s generally integrated pretty deeply into the editor."><y>#</y><d>2016-03-16</d><h>03:37</h><w>cfleming</w>And that’s generally integrated pretty deeply into the editor.</z><z id="t1458099511" t="cfleming Certainly IntelliJ isn’t really designed for it, but it’s not really designed for text-based manipulation based on events in general."><y>#</y><d>2016-03-16</d><h>03:38</h><w>cfleming</w>Certainly IntelliJ isn’t really designed for it, but it’s not really designed for text-based manipulation based on events in general.</z><z id="t1458099609" t="cfleming Anyway, my workaround now works, the only corner case is if the user manages to create a manual event within 10ms of the file being opened, that event will get paren mode instead of indent mode. It seems very unlikely that this could happen based on user input, but some kind of plugin modifying the doc based on some event might happen."><y>#</y><d>2016-03-16</d><h>03:40</h><w>cfleming</w>Anyway, my workaround now works, the only corner case is if the user manages to create a manual event within 10ms of the file being opened, that event will get paren mode instead of indent mode. It seems very unlikely that this could happen based on user input, but some kind of plugin modifying the doc based on some event might happen.</z><z id="t1458102059" t="chrisoakman [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : thank you for staying on top of parinfer-jvm and pushing that update with previewCursorScope"><y>#</y><d>2016-03-16</d><h>04:20</h><w>chrisoakman</w><a>@cfleming</a>: thank you for staying on top of parinfer-jvm and pushing that update with <code>previewCursorScope</code></z><z id="t1458102101" t="chrisoakman [:attrs {:href &quot;/_/_/users/U0MJD9LKA&quot;}] : not yet; still need to give it a think. have been focusing elsewhere the last week or so"><y>#</y><d>2016-03-16</d><h>04:21</h><w>chrisoakman</w><a>@jasongilman</a>: not yet; still need to give it a think. have been focusing elsewhere the last week or so</z><z id="t1458118173" t="cfleming [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] : No worries, I’ll have to push a point release, I realised that there are some === that sneaked in there from cut’n’pasted code."><y>#</y><d>2016-03-16</d><h>08:49</h><w>cfleming</w><a>@chrisoakman</a>: No worries, I’ll have to push a point release, I realised that there are some <code>===</code> that sneaked in there from cut’n’pasted code.</z><z id="t1458118192" t="cfleming All the tests pass, it may not actually be a problem, but I’ll fix that in the next couple of days."><y>#</y><d>2016-03-16</d><h>08:49</h><w>cfleming</w>All the tests pass, it may not actually be a problem, but I’ll fix that in the next couple of days.</z><z id="t1458118218" t="cfleming It’s pretty impressive that copying JS actually produces almost valid Kotlin."><y>#</y><d>2016-03-16</d><h>08:50</h><w>cfleming</w>It’s pretty impressive that copying JS actually produces almost valid Kotlin.</z><z id="t1458124197" t="dominicm That&apos;s mildly hilarious."><y>#</y><d>2016-03-16</d><h>10:29</h><w>dominicm</w>That&apos;s mildly hilarious.</z><z id="t1458132883" t="jasongilman Thanks [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] . Parinfer in Atom is great. I never hear anyone mention Atom and Clojure without also saying &quot;And of course you should use Parinfer too&quot;"><y>#</y><d>2016-03-16</d><h>12:54</h><w>jasongilman</w>Thanks <a>@chrisoakman</a>. Parinfer in Atom is great. I never hear anyone mention Atom and Clojure without also saying &quot;And of course you should use Parinfer too&quot;</z><z id="t1458171640" t="sekao i released nightcode 1.1.0 with parinfer 😃 i’ll be teaching my java class some clojure next week using it so i’ll let y&apos;all know how it goes"><y>#</y><d>2016-03-16</d><h>23:40</h><w>sekao</w>i released nightcode 1.1.0 with parinfer <b>😃</b> i’ll be teaching my java class some clojure next week using it so i’ll let y&apos;all know how it goes</z><z id="t1458171872" t="cfleming [:attrs {:href &quot;/_/_/users/U080181PF&quot;}] : Awesome, I’d love to hear if it’s helpful for them."><y>#</y><d>2016-03-16</d><h>23:44</h><w>cfleming</w><a>@sekao</a>: Awesome, I’d love to hear if it’s helpful for them.</z><z id="t1458250622" t="shaunlebron [:attrs {:href &quot;/_/_/users/U080181PF&quot;}] : awesome, can’t wait to hear about it simple_smile"><y>#</y><d>2016-03-17</d><h>21:37</h><w>shaunlebron</w><a>@sekao</a>: awesome, can’t wait to hear about it <b>simple_smile</b></z><z id="t1458250639" t="shaunlebron have fun"><y>#</y><d>2016-03-17</d><h>21:37</h><w>shaunlebron</w>have fun</z><z id="t1458370440" t="shaunlebron I find it interesting that [:attrs {:href &quot;/_/_/users/U0FHWANJK&quot;}] ’s vim plugin waits to apply parinfer until the user leaves insert mode"><y>#</y><d>2016-03-19</d><h>06:54</h><w>shaunlebron</w>I find it interesting that <a>@bhurlow</a>’s vim plugin waits to apply parinfer until the user leaves insert mode</z><z id="t1458370492" t="shaunlebron that sort of solves the issue that [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] brought up earlier: https://github.com/shaunlebron/parinfer/issues/102"><y>#</y><d>2016-03-19</d><h>06:54</h><w>shaunlebron</w>that sort of solves the issue that <a>@snoe</a> brought up earlier: <a href="https://github.com/shaunlebron/parinfer/issues/102" target="_blank">https://github.com/shaunlebron/parinfer/issues/102</a></z><z id="t1458370605" t="shaunlebron fixing that issue would wreck the insertion of ) as an auto-barf feature"><y>#</y><d>2016-03-19</d><h>06:56</h><w>shaunlebron</w>fixing that issue would wreck the insertion of <code>)</code> as an auto-barf feature</z><z id="t1458446957" t="cfleming Cursive 1.2.1 is out now, with parinfer support!"><y>#</y><d>2016-03-20</d><h>04:09</h><w>cfleming</w>Cursive 1.2.1 is out now, with parinfer support!</z><z id="t1458446994" t="cfleming There are still some issues I need to work through, sadly I had to rush the release slightly because of an IntelliJ release. I’ll fix those for the next point release."><y>#</y><d>2016-03-20</d><h>04:09</h><w>cfleming</w>There are still some issues I need to work through, sadly I had to rush the release slightly because of an IntelliJ release. I’ll fix those for the next point release.</z><z id="t1458454635" t="adamkowalski awesome!"><y>#</y><d>2016-03-20</d><h>06:17</h><w>adamkowalski</w>awesome!</z><z id="t1458454731" t="adamkowalski looks like you got it working for the 2016.1 release too. exciting stuff"><y>#</y><d>2016-03-20</d><h>06:18</h><w>adamkowalski</w>looks like you got it working for the 2016.1 release too. exciting stuff</z><z id="t1458596169" t="cfleming Here’s the weirdest thing I’ve noticed with previewCursorScope: if you put the caret on the next line manually, the parens are also pulled down, which is ok I think. But I can’t move the caret right past the paren, it blocks the caret movement. This I think is because of the rule that when an insertion is made at the caret position, it only goes before the caret if it’s at the start of the line."><y>#</y><d>2016-03-21</d><h>21:36</h><w>cfleming</w>Here’s the weirdest thing I’ve noticed with previewCursorScope: if you put the caret on the next line manually, the parens are also pulled down, which is ok I think. But I can’t move the caret right past the paren, it blocks the caret movement. This I think is because of the rule that when an insertion is made at the caret position, it only goes before the caret if it’s at the start of the line.</z><z id="t1458596199" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : ^^"><y>#</y><d>2016-03-21</d><h>21:36</h><w>cfleming</w><a>@shaunlebron</a>: ^^</z><z id="t1458610135" t="shaunlebron hey cfleming, congrats on the release simple_smile , haven’t had a chance to try it out yet sorry"><y>#</y><d>2016-03-22</d><h>01:28</h><w>shaunlebron</w>hey cfleming, congrats on the release <b>simple_smile</b>, haven’t had a chance to try it out yet sorry</z><z id="t1458610151" t="shaunlebron what you described is by design"><y>#</y><d>2016-03-22</d><h>01:29</h><w>shaunlebron</w>what you described is by design</z><z id="t1458610244" t="shaunlebron I played with it for a week in the demo editor when I posted it here before releasing that"><y>#</y><d>2016-03-22</d><h>01:30</h><w>shaunlebron</w>I played with it for a week in the demo editor when I posted it here before releasing that</z><z id="t1458610277" t="shaunlebron i played with allowing the cursor to move right, but it was inserting a lot of spaces"><y>#</y><d>2016-03-22</d><h>01:31</h><w>shaunlebron</w>i played with allowing the cursor to move right, but it was inserting a lot of spaces</z><z id="t1458610284" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : Thanks! There’s a bunch of teething issues but nothing serious. I’m hoping to get another release out tomorrow to fix them."><y>#</y><d>2016-03-22</d><h>01:31</h><w>cfleming</w><a>@shaunlebron</a>: Thanks! There’s a bunch of teething issues but nothing serious. I’m hoping to get another release out tomorrow to fix them.</z><z id="t1458610285" t="shaunlebron err, you could press right indefinitely"><y>#</y><d>2016-03-22</d><h>01:31</h><w>shaunlebron</w>err, you could press right indefinitely</z><z id="t1458610314" t="shaunlebron so I thought it might be apparent to just press spacebar"><y>#</y><d>2016-03-22</d><h>01:31</h><w>shaunlebron</w>so I thought it might be apparent to just press spacebar</z><z id="t1458610359" t="cfleming Perhaps it’s just something you need to get used to - I found it pretty jarring."><y>#</y><d>2016-03-22</d><h>01:32</h><w>cfleming</w>Perhaps it’s just something you need to get used to - I found it pretty jarring.</z><z id="t1458610369" t="shaunlebron |) after pressing right 5 times =&gt; |)"><y>#</y><d>2016-03-22</d><h>01:32</h><w>shaunlebron</w><code>   |)</code> after pressing right 5 times =&gt; <code>        |)</code></z><z id="t1458610382" t="shaunlebron parinfer can be jarring"><y>#</y><d>2016-03-22</d><h>01:33</h><w>shaunlebron</w>parinfer can be jarring</z><z id="t1458610428" t="cfleming Yeah, I still haven’t tried it properly with real code yet."><y>#</y><d>2016-03-22</d><h>01:33</h><w>cfleming</w>Yeah, I still haven’t tried it properly with real code yet.</z><z id="t1458610428" t="shaunlebron its rules can lead to surprises, either pleasant or confusing"><y>#</y><d>2016-03-22</d><h>01:33</h><w>shaunlebron</w>its rules can lead to surprises, either pleasant or confusing</z><z id="t1458610489" t="shaunlebron how I can keep track of feedback from cursive users?"><y>#</y><d>2016-03-22</d><h>01:34</h><w>shaunlebron</w>how I can keep track of feedback from cursive users?</z><z id="t1458610497" t="shaunlebron just on github?"><y>#</y><d>2016-03-22</d><h>01:34</h><w>shaunlebron</w>just on github?</z><z id="t1458610558" t="cfleming Yeah, there’s been some discussion on the issue tracker, and some on the mailing list too: https://cursive-ide.com/archive/1882.html"><y>#</y><d>2016-03-22</d><h>01:35</h><w>cfleming</w>Yeah, there’s been some discussion on the issue tracker, and some on the mailing list too: <a href="https://cursive-ide.com/archive/1882.html" target="_blank">https://cursive-ide.com/archive/1882.html</a></z><z id="t1458610633" t="cfleming There are a few issues in the tracker too, I’m working through them now for the next release."><y>#</y><d>2016-03-22</d><h>01:37</h><w>cfleming</w>There are a few issues in the tracker too, I’m working through them now for the next release.</z><z id="t1458610763" t="shaunlebron work never ends!"><y>#</y><d>2016-03-22</d><h>01:39</h><w>shaunlebron</w>work never ends!</z><z id="t1458610783" t="shaunlebron this cursive mailing list design looks good btw"><y>#</y><d>2016-03-22</d><h>01:39</h><w>shaunlebron</w>this cursive mailing list design looks good btw</z><z id="t1458610800" t="cfleming Thanks, I shamelessly stole it from lobsters."><y>#</y><d>2016-03-22</d><h>01:40</h><w>cfleming</w>Thanks, I shamelessly stole it from lobsters.</z><z id="t1458610844" t="cfleming I’m planning to improve it, currently it’s based on the text version of the emails but I’m going to use mailgun’s API to get the stripped HTML version."><y>#</y><d>2016-03-22</d><h>01:40</h><w>cfleming</w>I’m planning to improve it, currently it’s based on the text version of the emails but I’m going to use mailgun’s API to get the stripped HTML version.</z><z id="t1458610854" t="cfleming That should look much nicer."><y>#</y><d>2016-03-22</d><h>01:40</h><w>cfleming</w>That should look much nicer.</z><z id="t1458610873" t="cfleming I’m also going to replace the search with a Google custom search - DDG just doesn’t work that well."><y>#</y><d>2016-03-22</d><h>01:41</h><w>cfleming</w>I’m also going to replace the search with a Google custom search - DDG just doesn’t work that well.</z><z id="t1458610896" t="shaunlebron ah, bummer"><y>#</y><d>2016-03-22</d><h>01:41</h><w>shaunlebron</w>ah, bummer</z><z id="t1458610928" t="cfleming It turns out that de-Googlifying my life is trickier than I thought."><y>#</y><d>2016-03-22</d><h>01:42</h><w>cfleming</w>It turns out that de-Googlifying my life is trickier than I thought.</z><z id="t1458610940" t="shaunlebron haha"><y>#</y><d>2016-03-22</d><h>01:42</h><w>shaunlebron</w>haha</z><z id="t1458610948" t="shaunlebron just as they would have it"><y>#</y><d>2016-03-22</d><h>01:42</h><w>shaunlebron</w>just as they would have it</z><z id="t1458610988" t="shaunlebron i’m gonna be following this mailing list then, try to answer some questions regarding parinfer core"><y>#</y><d>2016-03-22</d><h>01:43</h><w>shaunlebron</w>i’m gonna be following this mailing list then, try to answer some questions regarding parinfer core</z><z id="t1458611045" t="cfleming Ok, sounds great."><y>#</y><d>2016-03-22</d><h>01:44</h><w>cfleming</w>Ok, sounds great.</z><z id="t1458611068" t="cfleming https://cursive-ide.com/mailinglist.html"><y>#</y><d>2016-03-22</d><h>01:44</h><w>cfleming</w><a href="https://cursive-ide.com/mailinglist.html" target="_blank">https://cursive-ide.com/mailinglist.html</a></z><z id="t1458611096" t="cfleming Looks like I need to change my title there"><y>#</y><d>2016-03-22</d><h>01:44</h><w>cfleming</w>Looks like I need to change my title there</z><z id="t1458611385" t="shaunlebron how frequent is the digest version?"><y>#</y><d>2016-03-22</d><h>01:49</h><w>shaunlebron</w>how frequent is the digest version?</z><z id="t1458611394" t="cfleming Daily, I think."><y>#</y><d>2016-03-22</d><h>01:49</h><w>cfleming</w>Daily, I think.</z><z id="t1458611437" t="cfleming But it’s pretty low traffic in general - yesterday and today there have been some mails due to the release, but generally it’s a couple of mails a week."><y>#</y><d>2016-03-22</d><h>01:50</h><w>cfleming</w>But it’s pretty low traffic in general - yesterday and today there have been some mails due to the release, but generally it’s a couple of mails a week.</z><z id="t1458611529" t="cfleming There’s some interesting stuff in the parinfer tracker now."><y>#</y><d>2016-03-22</d><h>01:52</h><w>cfleming</w>There’s some interesting stuff in the parinfer tracker now.</z><z id="t1458611642" t="cfleming I’m actually considering an auto-indent mode for Cursive for when parinfer and paredit are both off, and also for paredit."><y>#</y><d>2016-03-22</d><h>01:54</h><w>cfleming</w>I’m actually considering an auto-indent mode for Cursive for when parinfer and paredit are both off, and also for paredit.</z><z id="t1458611693" t="cfleming I’m not sure if I should try to just make my paren mode indent correctly using Cursive’s semantic knowledge, or just have a lighter-weight thing that works ok but needs occasional full formats."><y>#</y><d>2016-03-22</d><h>01:54</h><w>cfleming</w>I’m not sure if I should try to just make my paren mode indent correctly using Cursive’s semantic knowledge, or just have a lighter-weight thing that works ok but needs occasional full formats.</z><z id="t1458612462" t="shaunlebron auto-indent mode?"><y>#</y><d>2016-03-22</d><h>02:07</h><w>shaunlebron</w>auto-indent mode?</z><z id="t1458612481" t="cfleming Like emacs’s aggressive indent"><y>#</y><d>2016-03-22</d><h>02:08</h><w>cfleming</w>Like emacs’s aggressive indent</z><z id="t1458612486" t="shaunlebron ah"><y>#</y><d>2016-03-22</d><h>02:08</h><w>shaunlebron</w>ah</z><z id="t1458612494" t="shaunlebron I think people would like that"><y>#</y><d>2016-03-22</d><h>02:08</h><w>shaunlebron</w>I think people would like that</z><z id="t1458612499" t="cfleming I thought noctuid’s comments were really interesting."><y>#</y><d>2016-03-22</d><h>02:08</h><w>cfleming</w>I thought noctuid’s comments were really interesting.</z><z id="t1458612516" t="cfleming I need to look at some of the plugins he recommends."><y>#</y><d>2016-03-22</d><h>02:08</h><w>cfleming</w>I need to look at some of the plugins he recommends.</z><z id="t1458612519" t="shaunlebron his parinfer-notes repo?"><y>#</y><d>2016-03-22</d><h>02:08</h><w>shaunlebron</w>his parinfer-notes repo?</z><z id="t1458612528" t="cfleming Right"><y>#</y><d>2016-03-22</d><h>02:08</h><w>cfleming</w>Right</z><z id="t1458612538" t="shaunlebron yeah"><y>#</y><d>2016-03-22</d><h>02:08</h><w>shaunlebron</w>yeah</z><z id="t1458612551" t="cfleming I did look at lispy a while ago, but it didn’t seem like a huge step over paredit."><y>#</y><d>2016-03-22</d><h>02:09</h><w>cfleming</w>I did look at lispy a while ago, but it didn’t seem like a huge step over paredit.</z><z id="t1458612600" t="cfleming Based on comments, I’m getting the feeling that parinfer isn’t as intuitive for new users as I’d hoped. I’ll be very interested to hear [:attrs {:href &quot;/_/_/users/U080181PF&quot;}] ’s comments after he runs his class."><y>#</y><d>2016-03-22</d><h>02:10</h><w>cfleming</w>Based on comments, I’m getting the feeling that parinfer isn’t as intuitive for new users as I’d hoped. I’ll be very interested to hear <a>@sekao</a>’s comments after he runs his class.</z><z id="t1458612886" t="shaunlebron yeah, I’m starting to think that paren mode is more intuitive"><y>#</y><d>2016-03-22</d><h>02:14</h><w>shaunlebron</w>yeah, I’m starting to think that paren mode is more intuitive</z><z id="t1458612905" t="shaunlebron I thought about it a lot this weekend"><y>#</y><d>2016-03-22</d><h>02:15</h><w>shaunlebron</w>I thought about it a lot this weekend</z><z id="t1458612934" t="shaunlebron I think auto-formatting of indentation makes sense"><y>#</y><d>2016-03-22</d><h>02:15</h><w>shaunlebron</w>I think auto-formatting of indentation makes sense</z><z id="t1458612948" t="shaunlebron but there is a subtle difference between aggressive indent and paren mode"><y>#</y><d>2016-03-22</d><h>02:15</h><w>shaunlebron</w>but there is a subtle difference between aggressive indent and paren mode</z><z id="t1458613009" t="shaunlebron aggressive indent enforces exact indentation, and paren mode just constrains to thresholds and preserves chosen indentation when expressions shift"><y>#</y><d>2016-03-22</d><h>02:16</h><w>shaunlebron</w>aggressive indent enforces exact indentation, and paren mode just constrains to thresholds and preserves chosen indentation when expressions shift</z></g><g id="s9"><z id="t1458613034" t="shaunlebron aggressive indentation would drive david nolen crazy for example"><y>#</y><d>2016-03-22</d><h>02:17</h><w>shaunlebron</w>aggressive indentation would drive david nolen crazy for example</z><z id="t1458613046" t="shaunlebron he uses two-space indentation for everything"><y>#</y><d>2016-03-22</d><h>02:17</h><w>shaunlebron</w>he uses two-space indentation for everything</z><z id="t1458613348" t="sekao today was the first day of clojure in my class, but i always spend the first day entirely in the REPL. technically i am running parinfer in nightcode’s REPL but i won’t be able to reach conclusions until we start working in a file tomorrow"><y>#</y><d>2016-03-22</d><h>02:22</h><w>sekao</w>today was the first day of clojure in my class, but i always spend the first day entirely in the REPL. technically i am running parinfer in nightcode’s REPL but i won’t be able to reach conclusions until we start working in a file tomorrow</z><z id="t1458613682" t="cfleming Right, you’d have to aggressively indent to the right place."><y>#</y><d>2016-03-22</d><h>02:28</h><w>cfleming</w>Right, you’d have to aggressively indent to the right place.</z><z id="t1458613744" t="cfleming I’m actually thinking about just trying to maintain indentation in the current form when typing, which will work up to a point, and then having a “format top level form” which will clean the whole form up correctly."><y>#</y><d>2016-03-22</d><h>02:29</h><w>cfleming</w>I’m actually thinking about just trying to maintain indentation in the current form when typing, which will work up to a point, and then having a “format top level form” which will clean the whole form up correctly.</z><z id="t1458615365" t="sekao regarding the intuitiveness of paren vs indent mode, the reason i’m on the indent mode bandwagon is because i think manually managing indentation comes more naturally than manually managing parens and other delimiters."><y>#</y><d>2016-03-22</d><h>02:56</h><w>sekao</w>regarding the intuitiveness of paren vs indent mode, the reason i’m on the indent mode bandwagon is because i think manually managing indentation comes more naturally than manually managing parens and other delimiters.</z><z id="t1458615368" t="sekao when teaching Java, i never have to teach people how to indent properly when the scope changes — they just get it. but when it comes to delimiters, they often would accidentally forget to copy a closing brace when moving code around."><y>#</y><d>2016-03-22</d><h>02:56</h><w>sekao</w>when teaching Java, i never have to teach people how to indent properly when the scope changes — they just get it. but when it comes to delimiters, they often would accidentally forget to copy a closing brace when moving code around.</z><z id="t1458615438" t="sekao indentation is very visually apparent, while delimiters are subtle and easy to overlook"><y>#</y><d>2016-03-22</d><h>02:57</h><w>sekao</w>indentation is very visually apparent, while delimiters are subtle and easy to overlook</z><z id="t1458615580" t="cfleming That makes sense to me intuitively."><y>#</y><d>2016-03-22</d><h>02:59</h><w>cfleming</w>That makes sense to me intuitively.</z><z id="t1458615593" t="cfleming However I’m not sure it’s being borne out in practice."><y>#</y><d>2016-03-22</d><h>02:59</h><w>cfleming</w>However I’m not sure it’s being borne out in practice.</z><z id="t1458615607" t="cfleming Needs more investigation though, and probably more time."><y>#</y><d>2016-03-22</d><h>03:00</h><w>cfleming</w>Needs more investigation though, and probably more time.</z><z id="t1458616429" t="shaunlebron the problem is that Lisp is cubist, if that makes sense"><y>#</y><d>2016-03-22</d><h>03:13</h><w>shaunlebron</w>the problem is that Lisp is cubist, if that makes sense</z><z id="t1458616452" t="shaunlebron you’re essentially shown two different perspectives, and you’re forced to reconcile one when the other changes"><y>#</y><d>2016-03-22</d><h>03:14</h><w>shaunlebron</w>you’re essentially shown two different perspectives, and you’re forced to reconcile one when the other changes</z><z id="t1458616529" t="shaunlebron indentation is intuitive when you see it on its own, but parens create a kind of noise around it that creates hesitation I think"><y>#</y><d>2016-03-22</d><h>03:15</h><w>shaunlebron</w>indentation is intuitive when you see it on its own, but parens create a kind of noise around it that creates hesitation I think</z><z id="t1458616608" t="shaunlebron this is exacerbated by the fact that a multi-line expression can start in the middle of a line"><y>#</y><d>2016-03-22</d><h>03:16</h><w>shaunlebron</w>this is exacerbated by the fact that a multi-line expression can start in the middle of a line</z><z id="t1458616682" t="shaunlebron that’s not a problem in python, but since it’s possible in lisp, it creates fragile indentation points"><y>#</y><d>2016-03-22</d><h>03:18</h><w>shaunlebron</w>that’s not a problem in python, but since it’s possible in lisp, it creates fragile indentation points</z><z id="t1458616790" t="shaunlebron fragile in the sense that changing text before the expression can necessitate reindenting of several lines"><y>#</y><d>2016-03-22</d><h>03:19</h><w>shaunlebron</w>fragile in the sense that changing text before the expression can necessitate reindenting of several lines</z><z id="t1458616997" t="sekao i wonder if that hesitation comes from those who have already edited lisp using traditional modes and are experiencing something contrary to their expectations. my students haven’t edited any lisp at all, so i’m curious if they will just learn to “trust the indentation”"><y>#</y><d>2016-03-22</d><h>03:23</h><w>sekao</w>i wonder if that hesitation comes from those who have already edited lisp using traditional modes and are experiencing something contrary to their expectations. my students haven’t edited any lisp at all, so i’m curious if they will just learn to “trust the indentation”</z><z id="t1458617043" t="sekao the latter point is certainly true. hopefully they will be able to manually re-indent in that situation"><y>#</y><d>2016-03-22</d><h>03:24</h><w>sekao</w>the latter point is certainly true. hopefully they will be able to manually re-indent in that situation</z><z id="t1458617062" t="shaunlebron i have not had an environment for user-testing, so I’m really looking forward to hearing about reactions from new users"><y>#</y><d>2016-03-22</d><h>03:24</h><w>shaunlebron</w>i have not had an environment for user-testing, so I’m really looking forward to hearing about reactions from new users</z><z id="t1458617275" t="shaunlebron it’s not just manually reindenting that is the problem"><y>#</y><d>2016-03-22</d><h>03:27</h><w>shaunlebron</w>it’s not just manually reindenting that is the problem</z><z id="t1458617323" t="shaunlebron the most troubling thing about indent mode since the quote bug is the unmatched close paren behavior"><y>#</y><d>2016-03-22</d><h>03:28</h><w>shaunlebron</w>the most troubling thing about indent mode since the quote bug is the unmatched close paren behavior</z><z id="t1458617393" t="shaunlebron insert [ at (foo|) bar =&gt; (foo [ bar])"><y>#</y><d>2016-03-22</d><h>03:29</h><w>shaunlebron</w>insert <code>[</code>  at  <code>(foo|) bar</code>  =&gt;  <code>(foo [ bar])</code></z><z id="t1458617584" t="sekao i see, haven’t seen that one before"><y>#</y><d>2016-03-22</d><h>03:33</h><w>sekao</w>i see, haven’t seen that one before</z><z id="t1458617861" t="shaunlebron parinfer indiscriminately removes unmatched close-parens, which is the problem there. but I’m revisiting that right now"><y>#</y><d>2016-03-22</d><h>03:37</h><w>shaunlebron</w>parinfer indiscriminately removes unmatched close-parens, which is the problem there.  but I’m revisiting that right now</z><z id="t1458619563" t="shaunlebron uncovered more examples: https://github.com/shaunlebron/parinfer/issues/102"><y>#</y><d>2016-03-22</d><h>04:06</h><w>shaunlebron</w>uncovered more examples: <a href="https://github.com/shaunlebron/parinfer/issues/102" target="_blank">https://github.com/shaunlebron/parinfer/issues/102</a></z><z id="t1458619666" t="shaunlebron I think I’m gonna have to delete the “Paredit emerges&quot; section on the website"><y>#</y><d>2016-03-22</d><h>04:07</h><w>shaunlebron</w>I think I’m gonna have to delete the “Paredit emerges&quot; section on the website</z><z id="t1458619757" t="shaunlebron i feel like andrew wiles after someone found a mistake in his theorem… gonna have to backpedal a bit"><y>#</y><d>2016-03-22</d><h>04:09</h><w>shaunlebron</w>i feel like andrew wiles after someone found a mistake in his theorem… gonna have to backpedal a bit</z><z id="t1458622763" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : This is also not behaving as I expected:"><y>#</y><d>2016-03-22</d><h>04:59</h><w>cfleming</w><a>@shaunlebron</a>: This is also not behaving as I expected:</z><z id="t1458622768" t="cfleming (defn close-paren-and-newline [editor caret context] (close-and-newline editor \)) "><y>#</y><d>2016-03-22</d><h>04:59</h><w>cfleming</w><pre>(defn close-paren-and-newline [editor caret context]
  (close-and-newline editor \))
</pre></z><z id="t1458622791" t="cfleming In the Cursive implementation, that originally had another closing paren - paren mode removed it."><y>#</y><d>2016-03-22</d><h>04:59</h><w>cfleming</w>In the Cursive implementation, that originally had another closing paren - paren mode removed it.</z><z id="t1458622864" t="cfleming Actually, I lie - this happens in the reference impl too. It’s not paren mode that removes it, it’s indent mode."><y>#</y><d>2016-03-22</d><h>05:01</h><w>cfleming</w>Actually, I lie - this happens in the reference impl too. It’s not paren mode that removes it, it’s indent mode.</z><z id="t1458622901" t="cfleming Copy that text with an extra close paren, and put it in the reference impl in paren mode."><y>#</y><d>2016-03-22</d><h>05:01</h><w>cfleming</w>Copy that text with an extra close paren, and put it in the reference impl in paren mode.</z><z id="t1458622914" t="cfleming Then switch to Indent mode, the last closing paren is removed."><y>#</y><d>2016-03-22</d><h>05:01</h><w>cfleming</w>Then switch to Indent mode, the last closing paren is removed.</z><z id="t1458622929" t="cfleming Then switch back to paren mode, and it complains about unbalanced parens."><y>#</y><d>2016-03-22</d><h>05:02</h><w>cfleming</w>Then switch back to paren mode, and it complains about unbalanced parens.</z><z id="t1458622956" t="cfleming Actually, I’ll file a bug about this."><y>#</y><d>2016-03-22</d><h>05:02</h><w>cfleming</w>Actually, I’ll file a bug about this.</z><z id="t1458623356" t="cfleming https://github.com/shaunlebron/parinfer/issues/106"><y>#</y><d>2016-03-22</d><h>05:09</h><w>cfleming</w><a href="https://github.com/shaunlebron/parinfer/issues/106" target="_blank">https://github.com/shaunlebron/parinfer/issues/106</a></z><z id="t1458654358" t="shaunlebron PANIC MODE"><y>#</y><d>2016-03-22</d><h>13:45</h><w>shaunlebron</w>PANIC MODE</z><z id="t1458654396" t="shaunlebron (me right now)"><y>#</y><d>2016-03-22</d><h>13:46</h><w>shaunlebron</w>(me right now)</z><z id="t1458656194" t="snoe Ah that might explain my regex of #&quot;//&quot; getting rewritten to #&quot;\/\/&quot; it happens rarely enough that I haven&apos;t been able to track down the source... Maybe not"><y>#</y><d>2016-03-22</d><h>14:16</h><w>snoe</w>Ah that might explain my regex of <code>#&quot;//&quot;</code> getting rewritten to <code>#&quot;\/\/&quot;</code> it happens rarely enough that I haven&apos;t been able to track down the source... Maybe not</z><z id="t1458656800" t="snoe I&apos;ve personally gone to an aggressive indent style of wrangling code. I think that lisp will always require thinking in trees in some capacity, yet indent mode becomes an imperfect proxy for that thinking. Aggressive indent makes the structure more apparent through indentation but structure is directly determined and executed by the parens."><y>#</y><d>2016-03-22</d><h>14:26</h><w>snoe</w>I&apos;ve personally gone to an aggressive indent style of wrangling code. I think that lisp will always require thinking in trees in some capacity, yet indent mode becomes an imperfect proxy for that thinking. Aggressive indent makes the structure more apparent through indentation but structure is directly determined and executed by the parens.</z><z id="t1458657158" t="snoe As far as paren mode vs aggressive; we use the emacs standard indentation, so if I&apos;m writing code and the indentation of my form doesn&apos;t match the code around it, I have more trouble reading it. I&apos;m constantly reindenting to match code style and confirming that the shape I built matches the shape in my head/shapes around it."><y>#</y><d>2016-03-22</d><h>14:32</h><w>snoe</w>As far as paren mode vs aggressive; we use the emacs standard indentation, so if I&apos;m writing code and the indentation of my form doesn&apos;t match the code around it, I have more trouble reading it. I&apos;m constantly reindenting to match code style and confirming that the shape I built matches the shape in my head/shapes around it.</z><z id="t1458657462" t="snoe I think it would be hard (and wrong) to force a team all to use the same editor and plugins so some sort of style and indent rules need to exist to write code in a team."><y>#</y><d>2016-03-22</d><h>14:37</h><w>snoe</w>I think it would be hard (and wrong) to force a team all to use the same editor and plugins so some sort of style and indent rules need to exist to write code in a team.</z><z id="t1458658797" t="chrisoakman [:attrs {:href &quot;/_/_/users/U080181PF&quot;}] : &quot;hesitation comes from those who have already edited lisp using traditional modes and are experiencing something contrary to their expectations&quot; --&gt; I agree with this so much"><y>#</y><d>2016-03-22</d><h>14:59</h><w>chrisoakman</w><a>@sekao</a>: &quot;hesitation comes from those who have already edited lisp using traditional modes and are experiencing something contrary to their expectations&quot; --&gt; I agree with this so much</z><z id="t1458658818" t="chrisoakman Has this been posted to the channel yet? https://github.com/noctuid/parinfer-notes"><y>#</y><d>2016-03-22</d><h>15:00</h><w>chrisoakman</w>Has this been posted to the channel yet? <a href="https://github.com/noctuid/parinfer-notes" target="_blank">https://github.com/noctuid/parinfer-notes</a></z><z id="t1458658890" t="chrisoakman So much in there that I disagree with; I might have to write a commentary on it. I suspect that&apos;s the same guy who posts in every reddit thread about Parinfer about how it&apos;s so inferior to Emacs + plugins."><y>#</y><d>2016-03-22</d><h>15:01</h><w>chrisoakman</w>So much in there that I disagree with; I might have to write a commentary on it. I suspect that&apos;s the same guy who posts in every reddit thread about Parinfer about how it&apos;s so inferior to Emacs + plugins.</z><z id="t1458658972" t="chrisoakman Meanwhile, beginners believe that Parinfer is &quot;pure magic&quot;: https://twitter.com/SoftwareWarlock/status/710895116232364036"><y>#</y><d>2016-03-22</d><h>15:02</h><w>chrisoakman</w>Meanwhile, beginners believe that Parinfer is &quot;pure magic&quot;: <a href="https://twitter.com/SoftwareWarlock/status/710895116232364036" target="_blank">https://twitter.com/SoftwareWarlock/status/710895116232364036</a></z><z id="t1458659009" t="chrisoakman People have stockholm syndrome with their tools"><y>#</y><d>2016-03-22</d><h>15:03</h><w>chrisoakman</w>People have stockholm syndrome with their tools</z><z id="t1458664925" t="sekao [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : if it makes you feel better, today’s class was a big success. my last class was pandemonium by day 2 of clojure, when i was using unassisted and paredit mode with my students. after every line i had to fix unbalanced parens or remind them how to splice with paredit."><y>#</y><d>2016-03-22</d><h>16:42</h><w>sekao</w><a>@shaunlebron</a>: if it makes you feel better, today’s class was a big success. my last class was pandemonium by day 2 of clojure, when i was using unassisted and paredit mode with my students. after every line i had to fix unbalanced parens or remind them how to splice with paredit.</z><z id="t1458664928" t="sekao today i just told them to forget about the parens and focus on indentation. there were only two times the whole lecture that a student had a bug related to misplaced parens, and i was able to show both of them that they could fix it by simply fixing the indentation. the rest of the issues were just stupid nightcode bugs 😃"><y>#</y><d>2016-03-22</d><h>16:42</h><w>sekao</w>today i just told them to forget about the parens and focus on indentation. there were only two times the whole lecture that a student had a bug related to misplaced parens, and i was able to show both of them that they could fix it by simply fixing the indentation. the rest of the issues were just stupid nightcode bugs <b>😃</b></z><z id="t1458665027" t="sekao i’ll keep updating you as we go along of course. i’m doing two weeks of clojure so there will be plenty of time to observe how it goes"><y>#</y><d>2016-03-22</d><h>16:43</h><w>sekao</w>i’ll keep updating you as we go along of course. i’m doing two weeks of clojure so there will be plenty of time to observe how it goes</z><z id="t1458674191" t="chrisoakman that is huge feedback [:attrs {:href &quot;/_/_/users/U080181PF&quot;}]"><y>#</y><d>2016-03-22</d><h>19:16</h><w>chrisoakman</w>that is huge feedback <a>@sekao</a></z><z id="t1458674327" t="chrisoakman thanks for the real-world report"><y>#</y><d>2016-03-22</d><h>19:18</h><w>chrisoakman</w>thanks for the real-world report</z><z id="t1458680698" t="cfleming [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] : I think he makes some valid points. This is pretty crazy, for example: https://raw.githubusercontent.com/noctuid/parinfer-notes/master/parinfer_demos/parinfer-downsides-3.gif"><y>#</y><d>2016-03-22</d><h>21:04</h><w>cfleming</w><a>@chrisoakman</a>: I think he makes some valid points. This is pretty crazy, for example: <a href="https://raw.githubusercontent.com/noctuid/parinfer-notes/master/parinfer_demos/parinfer-downsides-3.gif" target="_blank">https://raw.githubusercontent.com/noctuid/parinfer-notes/master/parinfer_demos/parinfer-downsides-3.gif</a></z><z id="t1458680761" t="cfleming I agree with him that the understanding of how parinfer works required in order to use it accurately is greater than I hoped."><y>#</y><d>2016-03-22</d><h>21:06</h><w>cfleming</w>I agree with him that the understanding of how parinfer works required in order to use it accurately is greater than I hoped.</z><z id="t1458680777" t="cfleming Although [:attrs {:href &quot;/_/_/users/U080181PF&quot;}] ’s feedback is encouraging."><y>#</y><d>2016-03-22</d><h>21:06</h><w>cfleming</w>Although <a>@sekao</a>’s feedback is encouraging.</z><z id="t1458680938" t="cfleming I haven’t used it enough to be sure, but I’m starting to feel like some sort of auto-indent like paren mode might be the solution."><y>#</y><d>2016-03-22</d><h>21:08</h><w>cfleming</w>I haven’t used it enough to be sure, but I’m starting to feel like some sort of auto-indent like paren mode might be the solution.</z><z id="t1458681035" t="cfleming And I definitely agree that I think there’s some kind of hybrid mode in there somewhere, but I’m not clear what it looks like. I don’t think that switching modes is ideal."><y>#</y><d>2016-03-22</d><h>21:10</h><w>cfleming</w>And I definitely agree that I think there’s some kind of hybrid mode in there somewhere, but I’m not clear what it looks like. I don’t think that switching modes is ideal.</z><z id="t1458691012" t="sekao [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : the few downsides and edge cases of parinfer have so far not bothered me because the alternatives have downsides too. nothing is perfect. with no structured mode, you get unbalanced parens, and with paredit mode, you get bewilderment. those problems don’t show up easily in a cute gif but are painful for beginners nonetheless"><y>#</y><d>2016-03-22</d><h>23:56</h><w>sekao</w><a>@cfleming</a>: the few downsides and edge cases of parinfer have so far not bothered me because the alternatives have downsides too. nothing is perfect. with no structured mode, you get unbalanced parens, and with paredit mode, you get bewilderment. those problems don’t show up easily in a cute gif but are painful for beginners nonetheless</z><z id="t1458691030" t="sekao besides, i wonder if renaming symbols should be treated in a special way by the ide 😉"><y>#</y><d>2016-03-22</d><h>23:57</h><w>sekao</w>besides, i wonder if renaming symbols should be treated in a special way by the ide <b>😉</b></z><z id="t1458691162" t="cfleming [:attrs {:href &quot;/_/_/users/U080181PF&quot;}] : That’s an interesting point. Imagine that the user, using some hypothetical magic IDE that could actually rename symbols, renamed m to my-map from a usage in some other part of the document."><y>#</y><d>2016-03-22</d><h>23:59</h><w>cfleming</w><a>@sekao</a>: That’s an interesting point. Imagine that the user, using some hypothetical magic IDE that could actually rename symbols, renamed <code>m</code> to <code>my-map</code> from a usage in some other part of the document.</z><z id="t1458691175" t="cfleming In that case, their definition will break, and they won’t notice."><y>#</y><d>2016-03-22</d><h>23:59</h><w>cfleming</w>In that case, their definition will break, and they won’t notice.</z><z id="t1458691185" t="cfleming Ugh."><y>#</y><d>2016-03-22</d><h>23:59</h><w>cfleming</w>Ugh.</z><z id="t1458691190" t="cfleming That really sucks."><y>#</y><d>2016-03-22</d><h>23:59</h><w>cfleming</w>That really sucks.</z><z id="t1458691205" t="sekao why not run paren mode when that happens?"><y>#</y><d>2016-03-23</d><h>00:00</h><w>sekao</w>why not run paren mode when that happens?</z><z id="t1458691292" t="cfleming I’m not sure I can. Those modifications are done on the AST, which is built over the text document. So the symbol for the name will be replaced in the AST, which will be synced back to the text document by magic. I don’t think I can intercept that at that point."><y>#</y><d>2016-03-23</d><h>00:01</h><w>cfleming</w>I’m not sure I can. Those modifications are done on the AST, which is built over the text document. So the symbol for the name will be replaced in the AST, which will be synced back to the text document by magic. I don’t think I can intercept that at that point.</z><z id="t1458691330" t="cfleming Besides, I’d have to ensure that I caught all possible operations which might make non-local edits which would break the code in this way."><y>#</y><d>2016-03-23</d><h>00:02</h><w>cfleming</w>Besides, I’d have to ensure that I caught all possible operations which might make non-local edits which would break the code in this way.</z><z id="t1458691412" t="sekao true, it has many implications. i’m not familiar with intellij"><y>#</y><d>2016-03-23</d><h>00:03</h><w>sekao</w>true, it has many implications. i’m not familiar with intellij</z><z id="t1458691418" t="sekao with their API that is"><y>#</y><d>2016-03-23</d><h>00:03</h><w>sekao</w>with their API that is</z><z id="t1458691520" t="sekao sucks if they don’t give you some kind of hook after the renaming action happens"><y>#</y><d>2016-03-23</d><h>00:05</h><w>sekao</w>sucks if they don’t give you some kind of hook after the renaming action happens</z><z id="t1458691555" t="cfleming They do, but it’s all based around the AST."><y>#</y><d>2016-03-23</d><h>00:05</h><w>cfleming</w>They do, but it’s all based around the AST.</z><z id="t1458691833" t="cfleming IntelliJ in general is not designed around non-local text-based manipulation, which has made getting parinfer in very hard."><y>#</y><d>2016-03-23</d><h>00:10</h><w>cfleming</w>IntelliJ in general is not designed around non-local text-based manipulation, which has made getting parinfer in very hard.</z><z id="t1458698994" t="cfleming So I’m interested what everyone thinks. In noctuid’s article, he argues basically (ignoring all the Emacs stuff) that a combination of auto-indentation and then an action which will indent and rebalance the parens will get most of parinfer’s advantages with none of the disadvantages. What does everyone think about this?"><y>#</y><d>2016-03-23</d><h>02:09</h><w>cfleming</w>So I’m interested what everyone thinks. In noctuid’s article, he argues basically (ignoring all the Emacs stuff) that a combination of auto-indentation and then an action which will indent and rebalance the parens will get most of parinfer’s advantages with none of the disadvantages. What does everyone think about this?</z><z id="t1458699057" t="cfleming You miss the sort-of automatic paredit, but from shaunlebron&apos;s comment above it looks like that may not work as well as hoped due to the issues snoe has raised."><y>#</y><d>2016-03-23</d><h>02:10</h><w>cfleming</w>You miss the sort-of automatic paredit, but from shaunlebron&apos;s comment above it looks like that may not work as well as hoped due to the issues snoe has raised.</z><z id="t1458699088" t="cfleming This means that the modifications are local rather than global, but I’m actually starting to think that that is an advantage."><y>#</y><d>2016-03-23</d><h>02:11</h><w>cfleming</w>This means that the modifications are local rather than global, but I’m actually starting to think that that is an advantage.</z><z id="t1458699120" t="cfleming It does not require running paren mode over the whole doc on file open, which has made this a non-starter for several people that I’ve seen."><y>#</y><d>2016-03-23</d><h>02:12</h><w>cfleming</w>It does not require running paren mode over the whole doc on file open, which has made this a non-starter for several people that I’ve seen.</z><z id="t1458699154" t="cfleming Assuming the auto-indentation works correctly, I’m actually inclined to agree with him. I’m interested in feedback or counter arguments simple_smile"><y>#</y><d>2016-03-23</d><h>02:12</h><w>cfleming</w>Assuming the auto-indentation works correctly, I’m actually inclined to agree with him. I’m interested in feedback or counter arguments <b>simple_smile</b></z><z id="t1458699310" t="cfleming In fact, it has one big advantage over parinfer - it doesn’t require mode switching, but provides the main things that users seem to want from both modes (auto-indent from paren mode, and rebalancing based on indentation from indent mode)."><y>#</y><d>2016-03-23</d><h>02:15</h><w>cfleming</w>In fact, it has one big advantage over parinfer - it doesn’t require mode switching, but provides the main things that users seem to want from both modes (auto-indent from paren mode, and rebalancing based on indentation from indent mode).</z><z id="t1458699340" t="shaunlebron few points here:"><y>#</y><d>2016-03-23</d><h>02:15</h><w>shaunlebron</w>few points here:</z><z id="t1458699350" t="shaunlebron 1. yeah, it’s sad to see the auto-paredit stuff crumbling"><y>#</y><d>2016-03-23</d><h>02:15</h><w>shaunlebron</w>1. yeah, it’s sad to see the auto-paredit stuff crumbling</z><z id="t1458699421" t="shaunlebron it remains true in some cases, obviously, but it’s certainly broken in enough cases that it can’t be advertised like that anymore"><y>#</y><d>2016-03-23</d><h>02:17</h><w>shaunlebron</w>it remains true in some cases, obviously, but it’s certainly broken in enough cases that it can’t be advertised like that anymore</z><z id="t1458699469" t="cfleming Yeah. I’m interested whether people using parinfer a lot actually use that. It always seemed to me like it doesn’t offer enough control - I don’t usually slurp or barf to the end of the line."><y>#</y><d>2016-03-23</d><h>02:17</h><w>cfleming</w>Yeah. I’m interested whether people using parinfer a lot actually use that. It always seemed to me like it doesn’t offer enough control - I don’t usually slurp or barf to the end of the line.</z><z id="t1458699491" t="cfleming But again, I may not have used it enough."><y>#</y><d>2016-03-23</d><h>02:18</h><w>cfleming</w>But again, I may not have used it enough.</z><z id="t1458699558" t="cfleming From my POV, the hypothetical mode above has another huge advantage - it works much better with IntelliJ’s model."><y>#</y><d>2016-03-23</d><h>02:19</h><w>cfleming</w>From my POV, the hypothetical mode above has another huge advantage - it works much better with IntelliJ’s model.</z><z id="t1458699580" t="cfleming It’s still quite a lot of work, but removes a lot of the edge cases."><y>#</y><d>2016-03-23</d><h>02:19</h><w>cfleming</w>It’s still quite a lot of work, but removes a lot of the edge cases.</z><z id="t1458699584" t="shaunlebron 2. the aggressive-indent + rebalance action based on indentation is another idea that will have tradeoffs that noctuid mentions"><y>#</y><d>2016-03-23</d><h>02:19</h><w>shaunlebron</w>2. the aggressive-indent + rebalance action based on indentation is another idea that will have tradeoffs that noctuid mentions</z><z id="t1458699644" t="shaunlebron in the absence of modes, we must deduce user intention about what is to be preserved by the action the user is taking"><y>#</y><d>2016-03-23</d><h>02:20</h><w>shaunlebron</w>in the absence of modes, we must deduce user intention about what is to be preserved by the action the user is taking</z><z id="t1458699670" t="shaunlebron there are multiple actions that make this tricky"><y>#</y><d>2016-03-23</d><h>02:21</h><w>shaunlebron</w>there are multiple actions that make this tricky</z><z id="t1458699691" t="shaunlebron tab/shift-tab can be wrapped to convey ‘rebalance based on indentation&apos;"><y>#</y><d>2016-03-23</d><h>02:21</h><w>shaunlebron</w>tab/shift-tab can be wrapped to convey ‘rebalance based on indentation&apos;</z><z id="t1458699704" t="shaunlebron spacebar and backspace though?"><y>#</y><d>2016-03-23</d><h>02:21</h><w>shaunlebron</w>spacebar and backspace though?</z><z id="t1458699704" t="cfleming Right, that was what I was thinking."><y>#</y><d>2016-03-23</d><h>02:21</h><w>cfleming</w>Right, that was what I was thinking.</z><z id="t1458699713" t="shaunlebron or pasting spaces"><y>#</y><d>2016-03-23</d><h>02:21</h><w>shaunlebron</w>or pasting spaces</z><z id="t1458699726" t="shaunlebron pasting code containing indentation"><y>#</y><d>2016-03-23</d><h>02:22</h><w>shaunlebron</w>pasting code containing indentation</z><z id="t1458699741" t="cfleming But pasting code containing indentation doesn’t work correctly with indent mode either."><y>#</y><d>2016-03-23</d><h>02:22</h><w>cfleming</w>But pasting code containing indentation doesn’t work correctly with indent mode either.</z><z id="t1458699751" t="cfleming AFAIK"><y>#</y><d>2016-03-23</d><h>02:22</h><w>cfleming</w>AFAIK</z><z id="t1458699795" t="shaunlebron it must work in Indent Mode because transformation is based on text not user action"><y>#</y><d>2016-03-23</d><h>02:23</h><w>shaunlebron</w>it must work in Indent Mode because transformation is based on text not user action</z><z id="t1458699820" t="shaunlebron however the text gets there, it will be transformed"><y>#</y><d>2016-03-23</d><h>02:23</h><w>shaunlebron</w>however the text gets there, it will be transformed</z><z id="t1458699823" t="cfleming Only if you’re pasting code with the caret at the start of the line."><y>#</y><d>2016-03-23</d><h>02:23</h><w>cfleming</w>Only if you’re pasting code with the caret at the start of the line.</z><z id="t1458699853" t="shaunlebron full file transformation, unless the parent expression hack is used"><y>#</y><d>2016-03-23</d><h>02:24</h><w>shaunlebron</w>full file transformation, unless the parent expression hack is used</z><z id="t1458699865" t="cfleming If you’re pasting code after a bunch of spaces, which is pretty common, it won’t work."><y>#</y><d>2016-03-23</d><h>02:24</h><w>cfleming</w>If you’re pasting code after a bunch of spaces, which is pretty common, it won’t work.</z><z id="t1458699879" t="shaunlebron https://shaunlebron.github.io/parinfer/demo"><y>#</y><d>2016-03-23</d><h>02:24</h><w>shaunlebron</w><a href="https://shaunlebron.github.io/parinfer/demo" target="_blank">https://shaunlebron.github.io/parinfer/demo</a></z><z id="t1458699910" t="shaunlebron sorry, never made this share snippets, but I think it’d be constructive to produce an example here"><y>#</y><d>2016-03-23</d><h>02:25</h><w>shaunlebron</w>sorry, never made this share snippets, but I think it’d be constructive to produce an example here</z><z id="t1458699943" t="cfleming Ok, let me see if I can come up with one"><y>#</y><d>2016-03-23</d><h>02:25</h><w>cfleming</w>Ok, let me see if I can come up with one</z><z id="t1458699957" t="shaunlebron I think you may be talking about the extra indentation of the first line"><y>#</y><d>2016-03-23</d><h>02:25</h><w>shaunlebron</w>I think you may be talking about the extra indentation of the first line</z><z id="t1458699987" t="shaunlebron I’m referring to the fact that the indentation is parsed no matter how it gets there"><y>#</y><d>2016-03-23</d><h>02:26</h><w>shaunlebron</w>I’m referring to the fact that the indentation is parsed no matter how it gets there</z><z id="t1458700032" t="cfleming What I mean is: (let [x 10]) "><y>#</y><d>2016-03-23</d><h>02:27</h><w>cfleming</w>What I mean is:
<pre>(let [x 10])
</pre></z><z id="t1458700063" t="cfleming I’ve just closed the square brace, and I press enter, then I paste: (when true (do-something)) "><y>#</y><d>2016-03-23</d><h>02:27</h><w>cfleming</w>I’ve just closed the square brace, and I press enter, then I paste:
<pre>(when true
  (do-something))
</pre></z><z id="t1458700086" t="cfleming That code gets broken. I mean, I understand why it happens, but it’s a very common case that will confuse users."><y>#</y><d>2016-03-23</d><h>02:28</h><w>cfleming</w>That code gets broken. I mean, I understand why it happens, but it’s a very common case that will confuse users.</z><z id="t1458700164" t="shaunlebron right, okay"><y>#</y><d>2016-03-23</d><h>02:29</h><w>shaunlebron</w>right, okay</z><z id="t1458700209" t="cfleming I have the additional problem I discussed above, where non-local changes like renames will currently break things badly."><y>#</y><d>2016-03-23</d><h>02:30</h><w>cfleming</w>I have the additional problem I discussed above, where non-local changes like renames will currently break things badly.</z><z id="t1458700219" t="shaunlebron so in the case of pasting this in this new hypothetical mode, it would be pasted, then aggressively indented"><y>#</y><d>2016-03-23</d><h>02:30</h><w>shaunlebron</w>so in the case of pasting this in this new hypothetical mode, it would be pasted, then aggressively indented</z><z id="t1458700242" t="cfleming Yeah, Cursive actually already does that - newly pasted code gets reformatted."><y>#</y><d>2016-03-23</d><h>02:30</h><w>cfleming</w>Yeah, Cursive actually already does that - newly pasted code gets reformatted.</z><z id="t1458700269" t="shaunlebron how would you handle backspacing indentation"><y>#</y><d>2016-03-23</d><h>02:31</h><w>shaunlebron</w>how would you handle backspacing indentation</z><z id="t1458700295" t="cfleming It probably would not be allowed, thinking about it - you’d have to dedent"><y>#</y><d>2016-03-23</d><h>02:31</h><w>cfleming</w>It probably would not be allowed, thinking about it - you’d have to dedent</z><z id="t1458700306" t="shaunlebron I imagine aggressive indent would stop the cursor at the indentation threshold, similar to paren mode"><y>#</y><d>2016-03-23</d><h>02:31</h><w>shaunlebron</w>I imagine aggressive indent would stop the cursor at the indentation threshold, similar to paren mode</z><z id="t1458700313" t="cfleming Right."><y>#</y><d>2016-03-23</d><h>02:31</h><w>cfleming</w>Right.</z><z id="t1458700332" t="cfleming I guess I’m just starting to get the feeling that indentation is actually more fragile than I had assumed."><y>#</y><d>2016-03-23</d><h>02:32</h><w>cfleming</w>I guess I’m just starting to get the feeling that indentation is actually more fragile than I had assumed.</z><z id="t1458700346" t="cfleming Especially at transitional points while editing."><y>#</y><d>2016-03-23</d><h>02:32</h><w>cfleming</w>Especially at transitional points while editing.</z><z id="t1458700384" t="cfleming And I’m starting to think that perhaps changing parens around based on indentation should be the explicit action, not the automatic one."><y>#</y><d>2016-03-23</d><h>02:33</h><w>cfleming</w>And I’m starting to think that perhaps changing parens around based on indentation should be the explicit action, not the automatic one.</z><z id="t1458700429" t="shaunlebron I think it’s worth trying"><y>#</y><d>2016-03-23</d><h>02:33</h><w>shaunlebron</w>I think it’s worth trying</z><z id="t1458700469" t="cfleming If only because the refactoring problem I describe above is probably a deal-breaker for me."><y>#</y><d>2016-03-23</d><h>02:34</h><w>cfleming</w>If only because the refactoring problem I describe above is probably a deal-breaker for me.</z><z id="t1458700475" t="shaunlebron we can hypothesize about new users, but we gotta build both and see how they respond"><y>#</y><d>2016-03-23</d><h>02:34</h><w>shaunlebron</w>we can hypothesize about new users, but we gotta build both and see how they respond</z><z id="t1458700483" t="cfleming Definitely."><y>#</y><d>2016-03-23</d><h>02:34</h><w>cfleming</w>Definitely.</z><z id="t1458700500" t="shaunlebron obviously, do what’s best for your sanity in Cursive especially"><y>#</y><d>2016-03-23</d><h>02:35</h><w>shaunlebron</w>obviously, do what’s best for your sanity in Cursive especially</z><z id="t1458700513" t="shaunlebron you’ve been battling terrible corner cases on that for a while"><y>#</y><d>2016-03-23</d><h>02:35</h><w>shaunlebron</w>you’ve been battling terrible corner cases on that for a while</z><z id="t1458700536" t="cfleming Yeah, it’s been painful."><y>#</y><d>2016-03-23</d><h>02:35</h><w>cfleming</w>Yeah, it’s been painful.</z><z id="t1458700573" t="shaunlebron (sorry to be the source of that…)"><y>#</y><d>2016-03-23</d><h>02:36</h><w>shaunlebron</w>(sorry to be the source of that…)</z><z id="t1458700576" t="cfleming Ok, I’m going to patch this up for now, and then I think I’m going to try to implement hypothetical mode X for a test release that people can try out."><y>#</y><d>2016-03-23</d><h>02:36</h><w>cfleming</w>Ok, I’m going to patch this up for now, and then I think I’m going to try to implement hypothetical mode X for a test release that people can try out.</z><z id="t1458700587" t="cfleming No worries, it’s all been very interesting."><y>#</y><d>2016-03-23</d><h>02:36</h><w>cfleming</w>No worries, it’s all been very interesting.</z><z id="t1458700613" t="cfleming Even if nothing else comes of it, having provoked people to think about it is really valuable."><y>#</y><d>2016-03-23</d><h>02:36</h><w>cfleming</w>Even if nothing else comes of it, having provoked people to think about it is really valuable.</z><z id="t1458700641" t="shaunlebron marking off dead ends is still science I suppose"><y>#</y><d>2016-03-23</d><h>02:37</h><w>shaunlebron</w>marking off dead ends is still science I suppose</z><z id="t1458700662" t="cfleming Hehe, definitely, although I wouldn’t say we’re at the point of marking off parinfer just yet."><y>#</y><d>2016-03-23</d><h>02:37</h><w>cfleming</w>Hehe, definitely, although I wouldn’t say we’re at the point of marking off parinfer just yet.</z><z id="t1458700681" t="shaunlebron haha, well if it comes to that"><y>#</y><d>2016-03-23</d><h>02:38</h><w>shaunlebron</w>haha, well if it comes to that</z><z id="t1458700687" t="cfleming Think of it as just losing some theoretical purity simple_smile"><y>#</y><d>2016-03-23</d><h>02:38</h><w>cfleming</w>Think of it as just losing some theoretical purity <b>simple_smile</b></z><z id="t1458700697" t="cfleming As the edge cases come out."><y>#</y><d>2016-03-23</d><h>02:38</h><w>cfleming</w>As the edge cases come out.</z><z id="t1458709353" t="snoe I think the issue I raised about tab stops is part of this too. In indent mode, if you are changing the indentation it means you want to change the structure of the code, that can be done imprecisely with spaces or tabs or rebinding tab to paredit slurp or barf. I needed to highlight cursor column to work in indent mode effectively but even then it&apos;s so easy to indent one off in, say, long hiccup forms that the number of mistakes i made was always relatively high in the five months i used it. so I&apos;ve come around to thinking that the paredit functions really do capture structural edits well. "><y>#</y><d>2016-03-23</d><h>05:02</h><w>snoe</w>I think the issue I raised about tab stops is part of this too. In indent mode, if you are changing the indentation it means you want to change the structure of the code, that can be done imprecisely with spaces or tabs or rebinding tab to paredit slurp or barf. I needed to highlight cursor column to work in indent mode effectively but even then it&apos;s so easy to indent one off in, say, long hiccup forms that the number of mistakes i made was always relatively high in the five months i used it. so I&apos;ve come around to thinking that the paredit functions really do capture structural edits well. </z><z id="t1458709641" t="snoe In vim though, paredit or vimsexp, both have insert mappings that keep parens balanced. Parinfer&apos;s behavior when typing open or close parens, or removing them is however far better than vims paredit wrap, or indent mappings and I think slightly better than emacs&apos;"><y>#</y><d>2016-03-23</d><h>05:07</h><w>snoe</w>In vim though, paredit or vimsexp, both have insert mappings that keep parens balanced. Parinfer&apos;s behavior when typing open or close parens, or removing them is however far better than vims paredit wrap, or indent mappings and I think slightly better than emacs&apos;</z><z id="t1458722555" t="cfleming [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] : Yes, I definitely think that indent mode should snap to the right possible locations - that’s a change I’m planning to make tomorrow."><y>#</y><d>2016-03-23</d><h>08:42</h><w>cfleming</w><a>@snoe</a>: Yes, I definitely think that indent mode should snap to the right possible locations - that’s a change I’m planning to make tomorrow.</z><z id="t1458784447" t="shaunlebron I’m not writing a lot of clojure these days"><y>#</y><d>2016-03-24</d><h>01:54</h><w>shaunlebron</w>I’m not writing a lot of clojure these days</z><z id="t1458784457" t="shaunlebron but I’m picking it up again on the side"><y>#</y><d>2016-03-24</d><h>01:54</h><w>shaunlebron</w>but I’m picking it up again on the side</z><z id="t1458784472" t="shaunlebron wrote some clojure last night in atom-parinfer"><y>#</y><d>2016-03-24</d><h>01:54</h><w>shaunlebron</w>wrote some clojure last night in atom-parinfer</z><z id="t1458784522" t="shaunlebron ridiculous that I haven’t been dogfooding it, but I couldn’t get myself away from my vim setup"><y>#</y><d>2016-03-24</d><h>01:55</h><w>shaunlebron</w>ridiculous that I haven’t been dogfooding it, but I couldn’t get myself away from my vim setup</z><z id="t1458784605" t="shaunlebron I’ll share my thoughts on here as I use it, but last night went well. feels pretty good so far"><y>#</y><d>2016-03-24</d><h>01:56</h><w>shaunlebron</w>I’ll share my thoughts on here as I use it, but last night went well.  feels pretty good so far</z><z id="t1458911572" t="sekao just want to update y’all on my class using parinfer. it is still going really smoothly. we are already doing web apps and writing large hiccup data structures. each day there has still only been a few problems resulting from incorrect indentation, and typically they were actually conceptual errors (they thought something should be in a certain scope, but it actually should be in a different one)."><y>#</y><d>2016-03-25</d><h>13:12</h><w>sekao</w>just want to update y’all on my class using parinfer. it is still going really smoothly. we are already doing web apps and writing large hiccup data structures. each day there has still only been a few problems resulting from incorrect indentation, and typically they were actually conceptual errors (they thought something should be in a certain scope, but it actually should be in a different one).</z><z id="t1458911599" t="sekao for example, someone thought their code should be in the binding vector of a let , and when i pointed out it should actually be in the body of the let , they just selected the lines and hit shift+tab without being told to do so. another person accidentally had some hiccup vectors inside the parent element’s attribute map, and when i pointed that out, they did they same thing — select the vectors and hit shift+tab a few times to move the code out of that scope."><y>#</y><d>2016-03-25</d><h>13:13</h><w>sekao</w>for example, someone thought their code should be in the binding vector of a <code>let</code>, and when i pointed out it should actually be in the body of the <code>let</code>, they just selected the lines and hit shift+tab without being told to do so. another person accidentally had some hiccup vectors inside the parent element’s attribute map, and when i pointed that out, they did they same thing — select the vectors and hit shift+tab a few times to move the code out of that scope.</z><z id="t1458918984" t="chrisoakman wonderful updates; thank you [:attrs {:href &quot;/_/_/users/U080181PF&quot;}] simple_smile"><y>#</y><d>2016-03-25</d><h>15:16</h><w>chrisoakman</w>wonderful updates; thank you <a>@sekao</a> <b>simple_smile</b></z><z id="t1458931096" t="shaunlebron thanks [:attrs {:href &quot;/_/_/users/U080181PF&quot;}] , really great to have real world feedback from newcomers"><y>#</y><d>2016-03-25</d><h>18:38</h><w>shaunlebron</w>thanks <a>@sekao</a>, really great to have real world feedback from newcomers</z><z id="t1458960876" t="cfleming [:attrs {:href &quot;/_/_/users/U080181PF&quot;}] : That’s great, thanks for the report"><y>#</y><d>2016-03-26</d><h>02:54</h><w>cfleming</w><a>@sekao</a>: That’s great, thanks for the report</z><z id="t1458960931" t="cfleming Have you noticed them using the slurp-and-barf-lite functionality, i.e. have you seen them inserting and deleting parens in the middle of lines, or is the indent/dedent the main benefit for them?"><y>#</y><d>2016-03-26</d><h>02:55</h><w>cfleming</w>Have you noticed them using the slurp-and-barf-lite functionality, i.e. have you seen them inserting and deleting parens in the middle of lines, or is the indent/dedent the main benefit for them?</z><z id="t1459000844" t="sekao [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : i think that aspect of parinfer took longer for them to internalize since the behavior is more subtle. a woman in my class was trying to make an input tag in hiccup but she closed the attr map too early so it looked like this: [:input {:type “text”} :name “message”]"><y>#</y><d>2016-03-26</d><h>14:00</h><w>sekao</w><a>@cfleming</a>: i think that aspect of parinfer took longer for them to internalize since the behavior is more subtle. a woman in my class was trying to make an input tag in hiccup but she closed the attr map too early so it looked like this: <code>[:input {:type “text”} :name “message”]</code></z><z id="t1459000861" t="sekao she was initially confused when she couldn’t simply write the end curly brace after ”message” but since then I’ve seen her inserting and deleting correctly"><y>#</y><d>2016-03-26</d><h>14:01</h><w>sekao</w>she was initially confused when she couldn’t simply write the end curly brace after <code>”message”</code> but since then I’ve seen her inserting and deleting correctly</z><z id="t1459001063" t="sekao i have never explicitly told them the editing rules because i wanted to see if they could figure them out on their own, and so far it seems they are"><y>#</y><d>2016-03-26</d><h>14:04</h><w>sekao</w>i have never explicitly told them the editing rules because i wanted to see if they could figure them out on their own, and so far it seems they are</z><z id="t1459001103" t="sekao but yeah, i think indent/dedent was the most intuitive part initially"><y>#</y><d>2016-03-26</d><h>14:05</h><w>sekao</w>but yeah, i think indent/dedent was the most intuitive part initially</z><z id="t1459001769" t="shaunlebron [:attrs {:href &quot;/_/_/users/U080181PF&quot;}] : cool, how much longer will they be using it? was it just for the week?"><y>#</y><d>2016-03-26</d><h>14:16</h><w>shaunlebron</w><a>@sekao</a>: cool, how much longer will they be using it?  was it just for the week?</z><z id="t1459002446" t="sekao We have another week of clojure. I&apos;m thinking about switching to cursive so we can use the debugger, they do miss that since we used it so much with java"><y>#</y><d>2016-03-26</d><h>14:27</h><w>sekao</w>We have another week of clojure. I&apos;m thinking about switching to cursive so we can use the debugger, they do miss that since we used it so much with java</z><z id="t1459012897" t="sekao One thing that may help people visualize scope is to color the entire background of a given s expression rather than just the delimiters like rainbow parens does. I wonder if any editor does that"><y>#</y><d>2016-03-26</d><h>17:21</h><w>sekao</w>One thing that may help people visualize scope is to color the entire background of a given s expression rather than just the delimiters like rainbow parens does. I wonder if any editor does that</z><z id="t1459012989" t="shaunlebron funny, that was [:attrs {:href &quot;/_/_/users/U050CJFRU&quot;}] &apos;s first reaction to seeing lisp"><y>#</y><d>2016-03-26</d><h>17:23</h><w>shaunlebron</w> funny, that was <a>@denik</a>&apos;s first reaction to seeing lisp</z><z id="t1459013006" t="shaunlebron dont know of any editor that does it"><y>#</y><d>2016-03-26</d><h>17:23</h><w>shaunlebron</w>dont know of any editor that does it</z><z id="t1459014328" t="shaunlebron i think it might be overwhelming to nested rainbow boxes"><y>#</y><d>2016-03-26</d><h>17:45</h><w>shaunlebron</w>i think it might be overwhelming to nested rainbow boxes</z><z id="t1459014345" t="shaunlebron unless their borders were collapsed"><y>#</y><d>2016-03-26</d><h>17:45</h><w>shaunlebron</w>unless their borders were collapsed</z><z id="t1459017665" t="adamkowalski maybe rather then nested rainbow boxes, the current scope could have a background hue, while the outside scope could use standard rainbow parnes"><y>#</y><d>2016-03-26</d><h>18:41</h><w>adamkowalski</w>maybe rather then nested rainbow boxes, the current scope could have a background hue, while the outside scope could use standard rainbow parnes</z><z id="t1459017695" t="adamkowalski that way you can see the scope you are working it very clearly, without being overwhelmed with colored boxes everywhere"><y>#</y><d>2016-03-26</d><h>18:41</h><w>adamkowalski</w>that way you can see the scope you are working it very clearly, without being overwhelmed with colored boxes everywhere</z><z id="t1459017727" t="adamkowalski or even just have a colored rectangular outline rather then a filled in rect"><y>#</y><d>2016-03-26</d><h>18:42</h><w>adamkowalski</w>or even just have a colored rectangular outline rather then a filled in rect</z><z id="t1459018798" t="sekao [:attrs {:href &quot;/_/_/users/U0A9FD6KZ&quot;}] : great idea, i’m going to experiment with that in my paren-soup project"><y>#</y><d>2016-03-26</d><h>18:59</h><w>sekao</w><a>@adamkowalski</a>: great idea, i’m going to experiment with that in my paren-soup project</z><z id="t1459026593" t="denik ha! [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] [:attrs {:href &quot;/_/_/users/U080181PF&quot;}] I think it would be worthwhile. I’d like a keyboard combination that I have to hold to preview scope - nothing permanent."><y>#</y><d>2016-03-26</d><h>21:09</h><w>denik</w>ha! <a>@shaunlebron</a> <a>@sekao</a> I think it would be worthwhile. I’d like a keyboard combination that I have to hold to preview scope - nothing permanent.</z><z id="t1459026651" t="denik To understand something one has to look at it from different angles, right? 😉"><y>#</y><d>2016-03-26</d><h>21:10</h><w>denik</w>To understand something one has to look at it from different angles, right? <b>😉</b></z><z id="t1459029712" t="denik https://programmers.stackexchange.com/questions/87077/how-can-a-code-editor-effectively-hint-at-code-nesting-level-without-using-ind"><y>#</y><d>2016-03-26</d><h>22:01</h><w>denik</w><a href="https://programmers.stackexchange.com/questions/87077/how-can-a-code-editor-effectively-hint-at-code-nesting-level-without-using-ind" target="_blank">https://programmers.stackexchange.com/questions/87077/how-can-a-code-editor-effectively-hint-at-code-nesting-level-without-using-ind</a></z><z id="t1459031040" t="shaunlebron interesting"><y>#</y><d>2016-03-26</d><h>22:24</h><w>shaunlebron</w>interesting</z><z id="t1459031057" t="shaunlebron I feel like sublime text used to outline the current expression you were in automatically"><y>#</y><d>2016-03-26</d><h>22:24</h><w>shaunlebron</w>I feel like sublime text used to outline the current expression you were in automatically</z><z id="t1459032372" t="adamkowalski another thing that I thought was a really interesting idea is what is shown here at 14:45 https://www.youtube.com/watch?v=b0EF0VTs9Dc"><y>#</y><d>2016-03-26</d><h>22:46</h><w>adamkowalski</w>another thing that I thought was a really interesting idea is what is shown here at 14:45 <a href="https://www.youtube.com/watch?v=b0EF0VTs9Dc" target="_blank">https://www.youtube.com/watch?v=b0EF0VTs9Dc</a></z><z id="t1459032426" t="adamkowalski The idea is context coloring rather than syntax coloring, and the claim is that professional programers don’t benefit from highlighting syntax as they know what it means. instead the color of the text should signify within what scope is it valid"><y>#</y><d>2016-03-26</d><h>22:47</h><w>adamkowalski</w>The idea is context coloring rather than syntax coloring, and the claim is that professional programers don’t benefit from highlighting syntax as they know what it means. instead the color of the text should signify within what scope is it valid</z><z id="t1459043571" t="sekao Yeah I&apos;m definitely interested in semantic highlighting as well. Now that I can eval in clojurescript I&apos;m gonna try to do that with paren-soup. I think cider can highlight macros differently than functions which falls under this category iirc"><y>#</y><d>2016-03-27</d><h>01:52</h><w>sekao</w>Yeah I&apos;m definitely interested in semantic highlighting as well. Now that I can eval in clojurescript I&apos;m gonna try to do that with paren-soup. I think cider can highlight macros differently than functions which falls under this category iirc</z><z id="t1459053145" t="denik [:attrs {:href &quot;/_/_/users/U0A9FD6KZ&quot;}] : that’s cool. I’d actually prefer that too. I like how some themes in intellij play with font-weight. It is used for def s and defn s but that doesn’t make much sense since they’re nearly the only top level expressions you see. Something crazy would be cool where the font-weight is determined by the chain of functions defined in your project that a given execution goes through. A complexity hint."><y>#</y><d>2016-03-27</d><h>04:32</h><w>denik</w><a>@adamkowalski</a>: that’s cool. I’d actually prefer that too. I like how some themes in intellij play with font-weight. It is used for <code>def</code>s and <code>defn</code>s but that doesn’t make much sense since they’re nearly the only top level expressions you see. Something crazy would be cool where the font-weight is determined by the chain of functions defined in your project that a given execution goes through. A complexity hint.</z><z id="t1459061106" t="cfleming I have a couple of issues open in my tracker, both around highlighting the background for the current scope and semantic highlighting."><y>#</y><d>2016-03-27</d><h>06:45</h><w>cfleming</w>I have a couple of issues open in my tracker, both around highlighting the background for the current scope and semantic highlighting.</z><z id="t1459061115" t="cfleming Here’s a Sublime plugin that does something similar: https://github.com/mazurov/sublime-levels"><y>#</y><d>2016-03-27</d><h>06:45</h><w>cfleming</w>Here’s a Sublime plugin that does something similar: <a href="https://github.com/mazurov/sublime-levels" target="_blank">https://github.com/mazurov/sublime-levels</a></z><z id="t1459061135" t="cfleming It makes my eyes bleed personally, but it’s an interesting idea."><y>#</y><d>2016-03-27</d><h>06:45</h><w>cfleming</w>It makes my eyes bleed personally, but it’s an interesting idea.</z><z id="t1459061181" t="cfleming One thing I’ve wanted to do for a while is to highlight subtly differently the then/else clauses of if statements, to stop me accidentally using if instead of when or vice versa."><y>#</y><d>2016-03-27</d><h>06:46</h><w>cfleming</w>One thing I’ve wanted to do for a while is to highlight subtly differently the then/else clauses of <code>if</code> statements, to stop me accidentally using <code>if</code> instead of <code>when</code> or vice versa.</z><z id="t1459061235" t="cfleming Here’s an example of Sublime highlighting the current sexp: https://github.com/cursive-ide/cursive/issues/25#issuecomment-26153214"><y>#</y><d>2016-03-27</d><h>06:47</h><w>cfleming</w>Here’s an example of Sublime highlighting the current sexp: <a href="https://github.com/cursive-ide/cursive/issues/25#issuecomment-26153214" target="_blank">https://github.com/cursive-ide/cursive/issues/25#issuecomment-26153214</a></z><z id="t1459061252" t="cfleming That would be more subtle if it were a different background colour rather than an outline."><y>#</y><d>2016-03-27</d><h>06:47</h><w>cfleming</w>That would be more subtle if it were a different background colour rather than an outline.</z><z id="t1459061268" t="cfleming Here’s the Emacs equivalent: https://www.emacswiki.org/emacs/HighlightSexps"><y>#</y><d>2016-03-27</d><h>06:47</h><w>cfleming</w>Here’s the Emacs equivalent: <a href="https://www.emacswiki.org/emacs/HighlightSexps" target="_blank">https://www.emacswiki.org/emacs/HighlightSexps</a></z><z id="t1459061300" t="cfleming Here’s another suggestion I’ve received: https://medium.com/@evnbr/coding-in-color-3a6db2743a1e#.cm7qdnl01"><y>#</y><d>2016-03-27</d><h>06:48</h><w>cfleming</w>Here’s another suggestion I’ve received: <a href="https://medium.com/@evnbr/coding-in-color-3a6db2743a1e#.cm7qdnl01" target="_blank">https://medium.com/@evnbr/coding-in-color-3a6db2743a1e#.cm7qdnl01</a></z><z id="t1459062731" t="adamkowalski I think this type of coloring could actually be useful: https://plus.google.com/+PaulIrish/posts/XjR4WmSDFAV if you had the options to turn it on and off"><y>#</y><d>2016-03-27</d><h>07:12</h><w>adamkowalski</w>I think this type of coloring could actually be useful: <a href="https://plus.google.com/+PaulIrish/posts/XjR4WmSDFAV" target="_blank">https://plus.google.com/+PaulIrish/posts/XjR4WmSDFAV</a> if you had the options to turn it on and off</z><z id="t1459124994" t="cfleming I’ve implemented https://github.com/shaunlebron/parinfer/issues/89#issuecomment-202176311 for the next Cursive release. It seems pretty nice so far."><y>#</y><d>2016-03-28</d><h>00:29</h><w>cfleming</w>I’ve implemented <a href="https://github.com/shaunlebron/parinfer/issues/89#issuecomment-202176311" target="_blank">https://github.com/shaunlebron/parinfer/issues/89#issuecomment-202176311</a> for the next Cursive release. It seems pretty nice so far.</z><z id="t1459492563" t="cfleming Cursive 1.2.2 is out with the tab stop change and a bunch of other fixes."><y>#</y><d>2016-04-01</d><h>06:36</h><w>cfleming</w>Cursive 1.2.2 is out with the tab stop change and a bunch of other fixes.</z><z id="t1459492616" t="cfleming I also turned off previewCursorScope due to #106"><y>#</y><d>2016-04-01</d><h>06:36</h><w>cfleming</w>I also turned off previewCursorScope due to #106</z><z id="t1459492634" t="cfleming Lots of fixes in this release, hopefully it’ll work better for everyone."><y>#</y><d>2016-04-01</d><h>06:37</h><w>cfleming</w>Lots of fixes in this release, hopefully it’ll work better for everyone.</z><z id="t1459667202" t="shaunlebron Awesome Colin! simple_smile"><y>#</y><d>2016-04-03</d><h>07:06</h><w>shaunlebron</w>Awesome Colin! <b>simple_smile</b></z><z id="t1459667223" t="shaunlebron tried it out today, feels good"><y>#</y><d>2016-04-03</d><h>07:07</h><w>shaunlebron</w>tried it out today, feels good</z><z id="t1459667286" t="shaunlebron made a video since a couple things like this happened this week"><y>#</y><d>2016-04-03</d><h>07:08</h><w>shaunlebron</w>made a video since a couple things like this happened this week</z><z id="t1459667288" t="shaunlebron https://youtu.be/mqjDOSKyIcc"><y>#</y><d>2016-04-03</d><h>07:08</h><w>shaunlebron</w><a href="https://youtu.be/mqjDOSKyIcc" target="_blank">https://youtu.be/mqjDOSKyIcc</a></z><z id="t1459667768" t="shaunlebron reported the tab stop issue I mentioned in the video here: https://github.com/cursive-ide/cursive/issues/1346"><y>#</y><d>2016-04-03</d><h>07:16</h><w>shaunlebron</w>reported the tab stop issue I mentioned in the video here: <a href="https://github.com/cursive-ide/cursive/issues/1346" target="_blank">https://github.com/cursive-ide/cursive/issues/1346</a></z><z id="t1459668228" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : Thanks, I’ll take a look at that issue tomorrow, I have a bunch more to look at. Undo/redo is proving tricky."><y>#</y><d>2016-04-03</d><h>07:23</h><w>cfleming</w><a>@shaunlebron</a>: Thanks, I’ll take a look at that issue tomorrow, I have a bunch more to look at. Undo/redo is proving tricky.</z><z id="t1459776265" t="sekao [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : the indentation behavior you describe in the video is something i’ve been thinking about a lot lately. currently my editors are just indenting/dedenting by two spaces but i’ve definitely noticed a need for something more intelligent. i’m going to tackle that next."><y>#</y><d>2016-04-04</d><h>13:24</h><w>sekao</w><a>@shaunlebron</a>: the indentation behavior you describe in the video is something i’ve been thinking about a lot lately. currently my editors are just indenting/dedenting by two spaces but i’ve definitely noticed a need for something more intelligent. i’m going to tackle that next.</z><z id="t1459808335" t="cfleming sekao: See here for the logic I implemented: https://github.com/shaunlebron/parinfer/issues/89#issuecomment-202176311"><y>#</y><d>2016-04-04</d><h>22:18</h><w>cfleming</w>sekao: See here for the logic I implemented: <a href="https://github.com/shaunlebron/parinfer/issues/89#issuecomment-202176311" target="_blank">https://github.com/shaunlebron/parinfer/issues/89#issuecomment-202176311</a></z><z id="t1459808362" t="cfleming There’s a couple of bugs in the current release, I’m hoping to make a release fixing them today."><y>#</y><d>2016-04-04</d><h>22:19</h><w>cfleming</w>There’s a couple of bugs in the current release, I’m hoping to make a release fixing them today.</z><z id="t1459809757" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : [:attrs {:href &quot;/_/_/users/U080181PF&quot;}] : I just proposed a solution you can read about here: https://github.com/shaunlebron/parinfer/issues/89#issuecomment-205525034"><y>#</y><d>2016-04-04</d><h>22:42</h><w>shaunlebron</w><a>@cfleming</a>: <a>@sekao</a>:  I just proposed a solution you can read about here: <a href="https://github.com/shaunlebron/parinfer/issues/89#issuecomment-205525034" target="_blank">https://github.com/shaunlebron/parinfer/issues/89#issuecomment-205525034</a></z><z id="t1459809789" t="shaunlebron I’ll put that together tonight if we can agree it’s okay"><y>#</y><d>2016-04-04</d><h>22:43</h><w>shaunlebron</w>I’ll put that together tonight if we can agree it’s okay</z><z id="t1459809810" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : In the example there, the let binding vector should not be a tab stop, I think."><y>#</y><d>2016-04-04</d><h>22:43</h><w>cfleming</w><a>@shaunlebron</a>: In the example there, the let binding vector should not be a tab stop, I think.</z><z id="t1459809827" t="cfleming It’s shadowed by the (foo bar)"><y>#</y><d>2016-04-04</d><h>22:43</h><w>cfleming</w>It’s shadowed by the <code>(foo bar)</code></z><z id="t1459809830" t="shaunlebron good catch"><y>#</y><d>2016-04-04</d><h>22:43</h><w>shaunlebron</w>good catch</z><z id="t1459809881" t="cfleming Here’s how I calculate it:"><y>#</y><d>2016-04-04</d><h>22:44</h><w>cfleming</w>Here’s how I calculate it:</z><z id="t1459809912" t="cfleming Mine is interactive on the tab action, so I work backwards from the caret line until I find a line with content at offset 0, i.e. a top level form."><y>#</y><d>2016-04-04</d><h>22:45</h><w>cfleming</w>Mine is interactive on the tab action, so I work backwards from the caret line until I find a line with content at offset 0, i.e. a top level form.</z><z id="t1459809922" t="shaunlebron (corrected the example)"><y>#</y><d>2016-04-04</d><h>22:45</h><w>shaunlebron</w>(corrected the example)</z><z id="t1459809939" t="cfleming Then I work out the list of tab stops for that line."><y>#</y><d>2016-04-04</d><h>22:45</h><w>cfleming</w>Then I work out the list of tab stops for that line.</z><z id="t1459809973" t="cfleming Then, for subsequent lines I trim all tab stops that are greater than the indent level for that line, and add any new tab stops."><y>#</y><d>2016-04-04</d><h>22:46</h><w>cfleming</w>Then, for subsequent lines I trim all tab stops that are greater than the indent level for that line, and add any new tab stops.</z><z id="t1459809997" t="cfleming Once I reach the caret line, that’s my list of stops."><y>#</y><d>2016-04-04</d><h>22:46</h><w>cfleming</w>Once I reach the caret line, that’s my list of stops.</z><z id="t1459810021" t="shaunlebron &gt; I trim all tab stops that are greater than the indent level for that line"><y>#</y><d>2016-04-04</d><h>22:47</h><w>shaunlebron</w>&gt; I trim all tab stops that are greater than the indent level for that line</z><z id="t1459810031" t="shaunlebron that seems wrong I think"><y>#</y><d>2016-04-04</d><h>22:47</h><w>shaunlebron</w>that seems wrong I think</z><z id="t1459810047" t="shaunlebron unless I’m misreading"><y>#</y><d>2016-04-04</d><h>22:47</h><w>shaunlebron</w>unless I’m misreading</z><z id="t1459810092" t="cfleming Isn’t that the rule? When would you want a tab stop that appears to the right of the subsequent line’s indent?"><y>#</y><d>2016-04-04</d><h>22:48</h><w>cfleming</w>Isn’t that the rule? When would you want a tab stop that appears to the right of the subsequent line’s indent?</z><z id="t1459810130" t="shaunlebron nevermind, yeah that’s it"><y>#</y><d>2016-04-04</d><h>22:48</h><w>shaunlebron</w>nevermind, yeah that’s it</z><z id="t1459810165" t="cfleming I also return extra stops as I mentioned in my comment, they’re all trivially able to be calculated except for the one where the user may want to align parameters."><y>#</y><d>2016-04-04</d><h>22:49</h><w>cfleming</w>I also return extra stops as I mentioned in my comment, they’re all trivially able to be calculated except for the one where the user may want to align parameters.</z><z id="t1459810204" t="shaunlebron as in checking the previous sibling line?"><y>#</y><d>2016-04-04</d><h>22:50</h><w>shaunlebron</w>as in checking the previous sibling line?</z><z id="t1459810214" t="cfleming here’s an example:"><y>#</y><d>2016-04-04</d><h>22:50</h><w>cfleming</w>here’s an example:</z><z id="t1459810218" t="shaunlebron or subsequent sibling line too"><y>#</y><d>2016-04-04</d><h>22:50</h><w>shaunlebron</w>or subsequent sibling line too</z><z id="t1459810237" t="cfleming (println x y) "><y>#</y><d>2016-04-04</d><h>22:50</h><w>cfleming</w><pre>(println x
         y)
</pre></z><z id="t1459810252" t="cfleming Here, you want a tab stop where the parameters appear."><y>#</y><d>2016-04-04</d><h>22:50</h><w>cfleming</w>Here, you want a tab stop where the parameters appear.</z><z id="t1459810255" t="shaunlebron oh yeah, first arg alignment"><y>#</y><d>2016-04-04</d><h>22:50</h><w>shaunlebron</w>oh yeah, first arg alignment</z><z id="t1459810276" t="cfleming That’s the only case the parinfer caller won’t be able to trivially add themselves."><y>#</y><d>2016-04-04</d><h>22:51</h><w>cfleming</w>That’s the only case the parinfer caller won’t be able to trivially add themselves.</z><z id="t1459810305" t="cfleming Adding another inside the collection for the various open delimiters is trivial, obviously."><y>#</y><d>2016-04-04</d><h>22:51</h><w>cfleming</w>Adding another inside the collection for the various open delimiters is trivial, obviously.</z><z id="t1459810312" t="shaunlebron i suppose they could run a regex for the first space after the open-paren I would return them"><y>#</y><d>2016-04-04</d><h>22:51</h><w>shaunlebron</w>i suppose they could run a regex for the first space after the open-paren I would return them</z><z id="t1459810331" t="shaunlebron well, first space outside a string"><y>#</y><d>2016-04-04</d><h>22:52</h><w>shaunlebron</w>well, first space outside a string</z><z id="t1459810352" t="shaunlebron and outside any collection in the first position..."><y>#</y><d>2016-04-04</d><h>22:52</h><w>shaunlebron</w>and outside any collection in the first position...</z><z id="t1459810360" t="shaunlebron yes, non-trivial"><y>#</y><d>2016-04-04</d><h>22:52</h><w>shaunlebron</w>yes, non-trivial</z><z id="t1459810368" t="cfleming Yeah, I guess that’s trickier for you, I’m doing this based on a lexer so I just look to see if after the delimiter I have symbol/keyword then whitespace then something else on the same line."><y>#</y><d>2016-04-04</d><h>22:52</h><w>cfleming</w>Yeah, I guess that’s trickier for you, I’m doing this based on a lexer so I just look to see if after the delimiter I have symbol/keyword then whitespace then something else on the same line.</z><z id="t1459810385" t="cfleming And if so, I add the start offset of the something else."><y>#</y><d>2016-04-04</d><h>22:53</h><w>cfleming</w>And if so, I add the start offset of the something else.</z><z id="t1459810417" t="shaunlebron awesome, so you’re using cursive’s lexer here"><y>#</y><d>2016-04-04</d><h>22:53</h><w>shaunlebron</w>awesome, so you’re using cursive’s lexer here</z><z id="t1459810433" t="cfleming I’m actually about to re-work the Cursive lexer, the current one is a horrible JFlex monstrosity."><y>#</y><d>2016-04-04</d><h>22:53</h><w>cfleming</w>I’m actually about to re-work the Cursive lexer, the current one is a horrible JFlex monstrosity.</z><z id="t1459810458" t="cfleming Once I have it, I think it’ll actually be some pretty simple Java code. It might be worth porting to JS and using that for parinfer."><y>#</y><d>2016-04-04</d><h>22:54</h><w>cfleming</w>Once I have it, I think it’ll actually be some pretty simple Java code. It might be worth porting to JS and using that for parinfer.</z><z id="t1459810482" t="shaunlebron yeah, we should talk about standardizing the method here"><y>#</y><d>2016-04-04</d><h>22:54</h><w>shaunlebron</w>yeah, we should talk about standardizing the method here</z><z id="t1459810484" t="cfleming When I profiled parinfer, a lot of the time was spent updating all the state per char - by using a lexer, you could do it per token."><y>#</y><d>2016-04-04</d><h>22:54</h><w>cfleming</w>When I profiled parinfer, a lot of the time was spent updating all the state per char - by using a lexer, you could do it per token.</z><z id="t1459810509" t="cfleming And you also would remove all the inString, inCode, inComment stuff totally."><y>#</y><d>2016-04-04</d><h>22:55</h><w>cfleming</w>And you also would remove all the inString, inCode, inComment stuff totally.</z><z id="t1459810526" t="shaunlebron right, I consider that stuff a mistake"><y>#</y><d>2016-04-04</d><h>22:55</h><w>shaunlebron</w>right, I consider that stuff a mistake</z><z id="t1459810539" t="cfleming Well, you have to do it, but if you used a lexer it wouldn’t be required."><y>#</y><d>2016-04-04</d><h>22:55</h><w>cfleming</w>Well, you have to do it, but if you used a lexer it wouldn’t be required.</z><z id="t1459810563" t="shaunlebron have to do what now?"><y>#</y><d>2016-04-04</d><h>22:56</h><w>shaunlebron</w>have to do what now?</z><z id="t1459810593" t="cfleming Since you’re processing per-char, you have to track your current state - are you in a string, or a comment, etc."><y>#</y><d>2016-04-04</d><h>22:56</h><w>cfleming</w>Since you’re processing per-char, you have to track your current state - are you in a string, or a comment, etc.</z><z id="t1459810601" t="shaunlebron right"><y>#</y><d>2016-04-04</d><h>22:56</h><w>shaunlebron</w>right</z><z id="t1459810623" t="shaunlebron I wonder how switching to a lexer would affect compatibility with different lisps"><y>#</y><d>2016-04-04</d><h>22:57</h><w>shaunlebron</w>I wonder how switching to a lexer would affect compatibility with different lisps</z><z id="t1459810635" t="cfleming Yeah, that would be an issue."><y>#</y><d>2016-04-04</d><h>22:57</h><w>cfleming</w>Yeah, that would be an issue.</z><z id="t1459810657" t="shaunlebron I straight up don’t care about anything except strings and collections and comments"><y>#</y><d>2016-04-04</d><h>22:57</h><w>shaunlebron</w>I straight up don’t care about anything except strings and collections and comments</z><z id="t1459810668" t="cfleming Parinfer actually broke my code the other day, I haven’t had time to reproduce it, but it was using an sexp comment."><y>#</y><d>2016-04-04</d><h>22:57</h><w>cfleming</w>Parinfer actually broke my code the other day, I haven’t had time to reproduce it, but it was using an sexp comment.</z><z id="t1459810684" t="shaunlebron sexp comment?"><y>#</y><d>2016-04-04</d><h>22:58</h><w>shaunlebron</w>sexp comment?</z><z id="t1459810701" t="cfleming I’m not sure if that’s a bug in the Cursive implementation or not, I would have thought that vanilla parinfer should have handled it."><y>#</y><d>2016-04-04</d><h>22:58</h><w>cfleming</w>I’m not sure if that’s a bug in the Cursive implementation or not, I would have thought that vanilla parinfer should have handled it.</z><z id="t1459810716" t="cfleming I had some code I had commented out with #_#_"><y>#</y><d>2016-04-04</d><h>22:58</h><w>cfleming</w>I had some code I had commented out with <code>#_#_</code></z><z id="t1459810730" t="cfleming That pushed the code over to the right, and indent mode broke it."><y>#</y><d>2016-04-04</d><h>22:58</h><w>cfleming</w>That pushed the code over to the right, and indent mode broke it.</z><z id="t1459810757" t="cfleming What I’m not sure of is why paren mode didn’t fix it - I wanted to reproduce it to see what was going on there."><y>#</y><d>2016-04-04</d><h>22:59</h><w>cfleming</w>What I’m not sure of is why paren mode didn’t fix it - I wanted to reproduce it to see what was going on there.</z><z id="t1459810785" t="shaunlebron #_(defn foo [a b]) (+ a b) "><y>#</y><d>2016-04-04</d><h>22:59</h><w>shaunlebron</w><pre>#_(defn foo [a b])
  (+ a b)
</pre></z><z id="t1459810790" t="cfleming Right."><y>#</y><d>2016-04-04</d><h>22:59</h><w>cfleming</w>Right.</z><z id="t1459810812" t="shaunlebron yeah, that is actually the case that made me start thinking about paren mode"><y>#</y><d>2016-04-04</d><h>23:00</h><w>shaunlebron</w>yeah, that is actually the case that made me start thinking about paren mode</z><z id="t1459810817" t="cfleming But I didn’t make the change in parinfer, it was old code, so the paren mode cleanup should have fixed it."><y>#</y><d>2016-04-04</d><h>23:00</h><w>cfleming</w>But I didn’t make the change in parinfer, it was old code, so the paren mode cleanup should have fixed it.</z><z id="t1459810860" t="cfleming So either it wasn’t run correctly, or it didn’t fix it for some reason."><y>#</y><d>2016-04-04</d><h>23:01</h><w>cfleming</w>So either it wasn’t run correctly, or it didn’t fix it for some reason.</z><z id="t1459810863" t="shaunlebron paren mode cleanup, not sure what you mean byt that"><y>#</y><d>2016-04-04</d><h>23:01</h><w>shaunlebron</w>paren mode cleanup, not sure what you mean byt that</z><z id="t1459810873" t="cfleming When paren mode is run upon opening the file."><y>#</y><d>2016-04-04</d><h>23:01</h><w>cfleming</w>When paren mode is run upon opening the file.</z><z id="t1459810892" t="cfleming To correct the indentation."><y>#</y><d>2016-04-04</d><h>23:01</h><w>cfleming</w>To correct the indentation.</z><z id="t1459810909" t="shaunlebron oh, yeah, paren mode should fix something that would look like this: #_(defn foo [a b] (+ a b)) "><y>#</y><d>2016-04-04</d><h>23:01</h><w>shaunlebron</w>oh, yeah, paren mode should fix something that would look like this:

<pre>#_(defn foo [a b]
  (+ a b))
</pre></z><z id="t1459810926" t="shaunlebron before indent mode ever corrupts it"><y>#</y><d>2016-04-04</d><h>23:02</h><w>shaunlebron</w>before indent mode ever corrupts it</z><z id="t1459810932" t="cfleming Right."><y>#</y><d>2016-04-04</d><h>23:02</h><w>cfleming</w>Right.</z><z id="t1459810947" t="cfleming It didn’t, for some reason, but I haven’t had time to investigate why."><y>#</y><d>2016-04-04</d><h>23:02</h><w>cfleming</w>It didn’t, for some reason, but I haven’t had time to investigate why.</z><z id="t1459810971" t="shaunlebron just pasted that code into the demo editor just to verify"><y>#</y><d>2016-04-04</d><h>23:02</h><w>shaunlebron</w>just pasted that code into the demo editor just to verify</z><z id="t1459810995" t="shaunlebron so I wonder what happened"><y>#</y><d>2016-04-04</d><h>23:03</h><w>shaunlebron</w>so I wonder what happened</z><z id="t1459811004" t="shaunlebron let me know if you see it again I guess"><y>#</y><d>2016-04-04</d><h>23:03</h><w>shaunlebron</w>let me know if you see it again I guess</z><z id="t1459811021" t="cfleming It’s entirely possible it’s a bug in my integration."><y>#</y><d>2016-04-04</d><h>23:03</h><w>cfleming</w>It’s entirely possible it’s a bug in my integration.</z><z id="t1459811023" t="shaunlebron (demo editor corrected it after pasting)"><y>#</y><d>2016-04-04</d><h>23:03</h><w>shaunlebron</w>(demo editor corrected it after pasting)</z><z id="t1459811039" t="cfleming BTW I’ve been thinking about how a potential hybrid mode might work."><y>#</y><d>2016-04-04</d><h>23:03</h><w>cfleming</w>BTW I’ve been thinking about how a potential hybrid mode might work.</z><z id="t1459811054" t="cfleming I’m going to try to implement this once I get the current implementation working."><y>#</y><d>2016-04-04</d><h>23:04</h><w>cfleming</w>I’m going to try to implement this once I get the current implementation working.</z><z id="t1459811080" t="cfleming I think one of the biggest problems for people with parinfer is that the changes have to be global."><y>#</y><d>2016-04-04</d><h>23:04</h><w>cfleming</w>I think one of the biggest problems for people with parinfer is that the changes have to be global.</z><z id="t1459811105" t="cfleming Several people have commented to me that they can’t use it at work because it modifies the whole file, not just where they’re working."><y>#</y><d>2016-04-04</d><h>23:05</h><w>cfleming</w>Several people have commented to me that they can’t use it at work because it modifies the whole file, not just where they’re working.</z><z id="t1459811135" t="shaunlebron oh sorry, before we talk about this, is the tabstops implementation an agreeable thing, since [:attrs {:href &quot;/_/_/users/U080181PF&quot;}] will be needing something like that too?"><y>#</y><d>2016-04-04</d><h>23:05</h><w>shaunlebron</w>oh sorry, before we talk about this, is the <code>tabstops</code> implementation an agreeable thing, since <a>@sekao</a> will be needing something like that too?</z><z id="t1459811143" t="cfleming And in particular, the fact that paren mode tidies up hanging closing parens is a problem."><y>#</y><d>2016-04-04</d><h>23:05</h><w>cfleming</w>And in particular, the fact that paren mode tidies up hanging closing parens is a problem.</z><z id="t1459811180" t="cfleming Yes, definitely - if you can provide that I think it will be very helpful. I definitely think you’ll need the first parameter align, but I’m not sure how to implement it as parinfer is right now."><y>#</y><d>2016-04-04</d><h>23:06</h><w>cfleming</w>Yes, definitely - if you can provide that I think it will be very helpful. I definitely think you’ll need the first parameter align, but I’m not sure how to implement it as parinfer is right now.</z><z id="t1459811210" t="cfleming I think a regex is probably your best option, ideally parinfer would do that internally."><y>#</y><d>2016-04-04</d><h>23:06</h><w>cfleming</w>I think a regex is probably your best option, ideally parinfer would do that internally.</z><z id="t1459811222" t="cfleming There are lots of edge cases there."><y>#</y><d>2016-04-04</d><h>23:07</h><w>cfleming</w>There are lots of edge cases there.</z><z id="t1459811236" t="shaunlebron I’ll have to leave that out until a lexer makes it into the implementation I think"><y>#</y><d>2016-04-04</d><h>23:07</h><w>shaunlebron</w>I’ll have to leave that out until a lexer makes it into the implementation I think</z><z id="t1459811252" t="shaunlebron but I wouldn’t be returning the extra tab stops for 1-space or 2-space indentation after open-parens"><y>#</y><d>2016-04-04</d><h>23:07</h><w>shaunlebron</w>but I wouldn’t be returning the extra tab stops for 1-space or 2-space indentation after open-parens</z><z id="t1459811271" t="cfleming Yeah, that’s fine - those are easy to add, and may depend on the user’s config in the editor anyway."><y>#</y><d>2016-04-04</d><h>23:07</h><w>cfleming</w>Yeah, that’s fine - those are easy to add, and may depend on the user’s config in the editor anyway.</z><z id="t1459811282" t="shaunlebron that’s entering into convention territory that parinfer isn’t touching right now"><y>#</y><d>2016-04-04</d><h>23:08</h><w>shaunlebron</w>that’s entering into convention territory that parinfer isn’t touching right now</z><z id="t1459811306" t="shaunlebron alright, I’ll add that in"><y>#</y><d>2016-04-04</d><h>23:08</h><w>shaunlebron</w>alright, I’ll add that in</z><z id="t1459811318" t="cfleming i.e. whether you want one or two space indents for lists. I’m not handling that case right now, nor am I handling the two-space-for-everything indent case."><y>#</y><d>2016-04-04</d><h>23:08</h><w>cfleming</w>i.e. whether you want one or two space indents for lists. I’m not handling that case right now, nor am I handling the two-space-for-everything indent case.</z><z id="t1459811328" t="cfleming But they’re both quite easy to add."><y>#</y><d>2016-04-04</d><h>23:08</h><w>cfleming</w>But they’re both quite easy to add.</z><z id="t1459811333" t="shaunlebron agreed"><y>#</y><d>2016-04-04</d><h>23:08</h><w>shaunlebron</w>agreed</z><z id="t1459811384" t="shaunlebron interesting that you mention people commenting on global changes"><y>#</y><d>2016-04-04</d><h>23:09</h><w>shaunlebron</w>interesting that you mention people commenting on global changes</z><z id="t1459811396" t="shaunlebron valuable feedback"><y>#</y><d>2016-04-04</d><h>23:09</h><w>shaunlebron</w>valuable feedback</z><z id="t1459811408" t="cfleming Yes, it’s an issue."><y>#</y><d>2016-04-04</d><h>23:10</h><w>cfleming</w>Yes, it’s an issue.</z><z id="t1459811455" t="shaunlebron yeah, and I suppose paren mode is sort of a linter when it comes to hanging close-parens"><y>#</y><d>2016-04-04</d><h>23:10</h><w>shaunlebron</w>yeah, and I suppose paren mode is sort of a linter when it comes to hanging close-parens</z><z id="t1459811463" t="cfleming In particular, people use dangling closing parens… right."><y>#</y><d>2016-04-04</d><h>23:11</h><w>cfleming</w>In particular, people use dangling closing parens… right.</z><z id="t1459811482" t="cfleming I was going to ask if that was an essential part of the algorithm, but indent mode would tidy them anyway."><y>#</y><d>2016-04-04</d><h>23:11</h><w>cfleming</w>I was going to ask if that was an essential part of the algorithm, but indent mode would tidy them anyway.</z><z id="t1459811511" t="shaunlebron hmm"><y>#</y><d>2016-04-04</d><h>23:11</h><w>shaunlebron</w>hmm</z><z id="t1459811516" t="cfleming So here’s what I’m planning."><y>#</y><d>2016-04-04</d><h>23:11</h><w>cfleming</w>So here’s what I’m planning.</z><z id="t1459811530" t="shaunlebron I’d have to revisit to see if it’s essential, but go ahead, yeah"><y>#</y><d>2016-04-04</d><h>23:12</h><w>shaunlebron</w>I’d have to revisit to see if it’s essential, but go ahead, yeah</z><z id="t1459811594" t="cfleming In Cursive, when changes happen to the document, I get before and after ranges for each modification. I use that to determine the total range affected by a particular action, but I’m not using that final range right now."><y>#</y><d>2016-04-04</d><h>23:13</h><w>cfleming</w>In Cursive, when changes happen to the document, I get before and after ranges for each modification. I use that to determine the total range affected by a particular action, but I’m not using that final range right now.</z><z id="t1459811620" t="cfleming However using the lexer, I can use that range to find the innermost form which completely covers the change."><y>#</y><d>2016-04-04</d><h>23:13</h><w>cfleming</w>However using the lexer, I can use that range to find the innermost form which completely covers the change.</z><z id="t1459811661" t="cfleming If the change is to top-level forms there may be multiple forms affected by a change, but that’s fine. Basically, I get a minimal range of the document I have to run parinfer over."><y>#</y><d>2016-04-04</d><h>23:14</h><w>cfleming</w>If the change is to top-level forms there may be multiple forms affected by a change, but that’s fine. Basically, I get a minimal range of the document I have to run parinfer over.</z><z id="t1459811703" t="shaunlebron ah I see"><y>#</y><d>2016-04-04</d><h>23:15</h><w>shaunlebron</w>ah I see</z><z id="t1459811703" t="cfleming On any change, I’m going to run a slightly modified paren mode, so the indentation will always be maintained."><y>#</y><d>2016-04-04</d><h>23:15</h><w>cfleming</w>On any change, I’m going to run a slightly modified paren mode, so the indentation will always be maintained.</z><z id="t1459811722" t="cfleming And the number of doc changes I’ll have to make will be minimal."><y>#</y><d>2016-04-04</d><h>23:15</h><w>cfleming</w>And the number of doc changes I’ll have to make will be minimal.</z><z id="t1459811780" t="cfleming I can actually check - if none of the before or after ranges for a particular action contain any of ()[]{}”\n then the change only affects a single line and doesn’t affect indentation - I can optimise that case and just insert spaces."><y>#</y><d>2016-04-04</d><h>23:16</h><w>cfleming</w>I can actually check - if none of the before or after ranges for a particular action contain any of <code>()[]{}”\n</code> then the change only affects a single line and doesn’t affect indentation - I can optimise that case and just insert spaces.</z><z id="t1459811805" t="cfleming This covers the very common cases of typing, backspace, delete etc."><y>#</y><d>2016-04-04</d><h>23:16</h><w>cfleming</w>This covers the very common cases of typing, backspace, delete etc.</z><z id="t1459811851" t="cfleming If any of the changes do contain those characters, then I’ll run Cursive’s indentation on the range of lines affected by the innermost form I worked out previously."><y>#</y><d>2016-04-04</d><h>23:17</h><w>cfleming</w>If any of the changes do contain those characters, then I’ll run Cursive’s indentation on the range of lines affected by the innermost form I worked out previously.</z><z id="t1459811860" t="cfleming So the indentation will be semantically accurate."><y>#</y><d>2016-04-04</d><h>23:17</h><w>cfleming</w>So the indentation will be semantically accurate.</z><z id="t1459811869" t="shaunlebron can you describe the before and after ranges more?"><y>#</y><d>2016-04-04</d><h>23:17</h><w>shaunlebron</w>can you describe the before and after ranges more?</z></g><g id="s10"><z id="t1459811915" t="cfleming If you type a space, I’ll get a change saying something like: at offset 10, old-length 0, new-length 1, old-text “”, new-text “ &quot;"><y>#</y><d>2016-04-04</d><h>23:18</h><w>cfleming</w>If you type a space, I’ll get a change saying something like: at offset 10, old-length 0, new-length 1, old-text “”, new-text “ &quot;</z><z id="t1459811954" t="cfleming If you then backspace over that, I’ll get the opposite change: at offset 10, old-length 1, new-length 0, old-text “ “, new-text “&quot;"><y>#</y><d>2016-04-04</d><h>23:19</h><w>cfleming</w>If you then backspace over that, I’ll get the opposite change: at offset 10, old-length 1, new-length 0, old-text “ “, new-text “&quot;</z><z id="t1459812004" t="shaunlebron perfect, yeah"><y>#</y><d>2016-04-04</d><h>23:20</h><w>shaunlebron</w>perfect, yeah</z><z id="t1459812026" t="cfleming Or if you select a word and paste a new word in it’s place, you might get: at offset 10, old-length 4, new-length 3, old-text “foos”, new-text “bar&quot;"><y>#</y><d>2016-04-04</d><h>23:20</h><w>cfleming</w>Or if you select a word and paste a new word in it’s place, you might get: at offset 10, old-length 4, new-length 3, old-text “foos”, new-text “bar&quot;</z><z id="t1459812055" t="shaunlebron that’s inline with the change object in codemirror, cool"><y>#</y><d>2016-04-04</d><h>23:20</h><w>shaunlebron</w>that’s inline with the <code>change</code> object in codemirror, cool</z><z id="t1459812085" t="cfleming There may be multiple changes like that for a particular action, but I use those deltas to find the total range in the resulting document affected by the change."><y>#</y><d>2016-04-04</d><h>23:21</h><w>cfleming</w>There may be multiple changes like that for a particular action, but I use those deltas to find the total range in the resulting document affected by the change.</z><z id="t1459812130" t="cfleming Using that and the lexer, I can then fairly trivially find the innermost form enclosing the whole change."><y>#</y><d>2016-04-04</d><h>23:22</h><w>cfleming</w>Using that and the lexer, I can then fairly trivially find the innermost form enclosing the whole change.</z><z id="t1459812158" t="cfleming After any change, I’ll run my modified paren mode, so I’ll maintain indentation with minimal changes."><y>#</y><d>2016-04-04</d><h>23:22</h><w>cfleming</w>After any change, I’ll run my modified paren mode, so I’ll maintain indentation with minimal changes.</z><z id="t1459812192" t="shaunlebron I’m with you so far"><y>#</y><d>2016-04-04</d><h>23:23</h><w>shaunlebron</w>I’m with you so far</z><z id="t1459812196" t="cfleming Then I’ll have explicit indent and dedent actions, using tab and shift-tab as I have now."><y>#</y><d>2016-04-04</d><h>23:23</h><w>cfleming</w>Then I’ll have explicit indent and dedent actions, using tab and shift-tab as I have now.</z><z id="t1459812219" t="cfleming Those actions also affect a range, since they affect either the current line or the range of selected lines."><y>#</y><d>2016-04-04</d><h>23:23</h><w>cfleming</w>Those actions also affect a range, since they affect either the current line or the range of selected lines.</z><z id="t1459812261" t="cfleming So on those actions, I’ll work out that range. I’ll then run vanilla paren mode over it, to ensure that the indentation is within the bounds required for indent mode."><y>#</y><d>2016-04-04</d><h>23:24</h><w>cfleming</w>So on those actions, I’ll work out that range. I’ll then run vanilla paren mode over it, to ensure that the indentation is within the bounds required for indent mode.</z><z id="t1459812275" t="cfleming Note that the indentation only has to be correct for that range."><y>#</y><d>2016-04-04</d><h>23:24</h><w>cfleming</w>Note that the indentation only has to be correct for that range.</z><z id="t1459812288" t="cfleming And I can correct it on the action, not at file open."><y>#</y><d>2016-04-04</d><h>23:24</h><w>cfleming</w>And I can correct it on the action, not at file open.</z><z id="t1459812331" t="cfleming If the indentation requires correction, I’ll do that instead of the indent action, and provide an “indentation corrected” action to the user."><y>#</y><d>2016-04-04</d><h>23:25</h><w>cfleming</w>If the indentation requires correction, I’ll do that instead of the indent action, and provide an “indentation corrected” action to the user.</z><z id="t1459812352" t="cfleming Otherwise I’ll indent the lines, and run indent mode over the range to correct the parens."><y>#</y><d>2016-04-04</d><h>23:25</h><w>cfleming</w>Otherwise I’ll indent the lines, and run indent mode over the range to correct the parens.</z><z id="t1459812395" t="cfleming So I’m basically treating parens as the source of truth, but allowing the user to explicitly use indentation to adjust scope when they want to."><y>#</y><d>2016-04-04</d><h>23:26</h><w>cfleming</w>So I’m basically treating parens as the source of truth, but allowing the user to explicitly use indentation to adjust scope when they want to.</z><z id="t1459812396" t="shaunlebron this is intereseting"><y>#</y><d>2016-04-04</d><h>23:26</h><w>shaunlebron</w>this is intereseting</z><z id="t1459812412" t="cfleming And only affecting the part of the doc that the user is touching."><y>#</y><d>2016-04-04</d><h>23:26</h><w>cfleming</w>And only affecting the part of the doc that the user is touching.</z><z id="t1459812420" t="snoe [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : the cursive lexer would be amazing to have in js, but I&apos;m afraid it&apos;s kind of your secret sauce simple_smile"><y>#</y><d>2016-04-04</d><h>23:27</h><w>snoe</w><a>@cfleming</a>: the cursive lexer would be amazing to have in js, but I&apos;m afraid it&apos;s kind of your secret sauce <b>simple_smile</b></z><z id="t1459812422" t="shaunlebron so tab will dispatch to paren mode if indentation is incorrect, but if it’s correct, it’ll run indent mode"><y>#</y><d>2016-04-04</d><h>23:27</h><w>shaunlebron</w>so tab will dispatch to paren mode if indentation is incorrect, but if it’s correct, it’ll run indent mode</z><z id="t1459812427" t="cfleming It only makes very local changes"><y>#</y><d>2016-04-04</d><h>23:27</h><w>cfleming</w>It only makes very local changes</z><z id="t1459812437" t="cfleming Right."><y>#</y><d>2016-04-04</d><h>23:27</h><w>cfleming</w>Right.</z><z id="t1459812459" t="cfleming [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] : I’m planning to OSS it, it’s not that secret and it would be really useful for this sort of thing."><y>#</y><d>2016-04-04</d><h>23:27</h><w>cfleming</w><a>@snoe</a>: I’m planning to OSS it, it’s not that secret and it would be really useful for this sort of thing.</z><z id="t1459812511" t="cfleming I think that will provide the best of both worlds in a single mode, and also address a lot of the complaints I’ve seen about parinfer."><y>#</y><d>2016-04-04</d><h>23:28</h><w>cfleming</w>I think that will provide the best of both worlds in a single mode, and also address a lot of the complaints I’ve seen about parinfer.</z><z id="t1459812512" t="shaunlebron I think this is promising. I wonder about auto-closing of parens"><y>#</y><d>2016-04-04</d><h>23:28</h><w>shaunlebron</w>I think this is promising.  I wonder about auto-closing of parens</z><z id="t1459812535" t="cfleming Yeah, there are probably edge cases to be considered, I’ll try it out."><y>#</y><d>2016-04-04</d><h>23:28</h><w>cfleming</w>Yeah, there are probably edge cases to be considered, I’ll try it out.</z><z id="t1459812553" t="shaunlebron it’s weird because indent mode is really doing two things"><y>#</y><d>2016-04-04</d><h>23:29</h><w>shaunlebron</w>it’s weird because indent mode is really doing two things</z><z id="t1459812584" t="shaunlebron correcting structure based on indentation, and auto-closing parens as you type them (based on indentation)"><y>#</y><d>2016-04-04</d><h>23:29</h><w>shaunlebron</w>correcting structure based on indentation, and auto-closing parens as you type them (based on indentation)</z><z id="t1459812584" t="cfleming You do lose some things from vanilla parinfer: being able to indent using spaces, and the slurping/barfing."><y>#</y><d>2016-04-04</d><h>23:29</h><w>cfleming</w>You do lose some things from vanilla parinfer: being able to indent using spaces, and the slurping/barfing.</z><z id="t1459812605" t="shaunlebron (and of course, it’s good at breaking expressions inside a line in certain cases…)"><y>#</y><d>2016-04-04</d><h>23:30</h><w>shaunlebron</w>(and of course, it’s good at breaking expressions inside a line in certain cases…)</z><z id="t1459812639" t="cfleming I can probably fix the first by checking if the user has hit space, backspace or delete inside the leading indent of the line, and doing the indent/dedent action in that case."><y>#</y><d>2016-04-04</d><h>23:30</h><w>cfleming</w>I can probably fix the first by checking if the user has hit space, backspace or delete inside the leading indent of the line, and doing the indent/dedent action in that case.</z><z id="t1459812690" t="cfleming I’m also starting to think that a lot of this functionality should be in composable pieces rather than all-in-one modes."><y>#</y><d>2016-04-04</d><h>23:31</h><w>cfleming</w>I’m also starting to think that a lot of this functionality should be in composable pieces rather than all-in-one modes.</z><z id="t1459812707" t="cfleming Currently I have a parinfer mode, a paredit mode, and a none mode."><y>#</y><d>2016-04-04</d><h>23:31</h><w>cfleming</w>Currently I have a parinfer mode, a paredit mode, and a none mode.</z><z id="t1459812732" t="cfleming But I had to make a change because users missed some of the electric handling of open parens when in parinfer mode."><y>#</y><d>2016-04-04</d><h>23:32</h><w>cfleming</w>But I had to make a change because users missed some of the electric handling of open parens when in parinfer mode.</z><z id="t1459812745" t="shaunlebron oh, I see. yeah, it was my hope that parinfer would be compatible with paredit"><y>#</y><d>2016-04-04</d><h>23:32</h><w>shaunlebron</w>oh, I see.  yeah, it was my hope that parinfer would be compatible with paredit</z><z id="t1459812759" t="cfleming And really, parinfer mode is mostly the backspace handling over closing delimiters at that point, since the actions work in any mode."><y>#</y><d>2016-04-04</d><h>23:32</h><w>cfleming</w>And really, parinfer mode is mostly the backspace handling over closing delimiters at that point, since the actions work in any mode.</z><z id="t1459812787" t="shaunlebron electric, like moving close-parens when pressing enter?"><y>#</y><d>2016-04-04</d><h>23:33</h><w>shaunlebron</w>electric, like moving close-parens when pressing enter?</z><z id="t1459812796" t="cfleming So with this proposed change, the actions would always work anywhere, and users would just choose the options they want."><y>#</y><d>2016-04-04</d><h>23:33</h><w>cfleming</w>So with this proposed change, the actions would always work anywhere, and users would just choose the options they want.</z><z id="t1459812819" t="cfleming In parinfer mode, if you backspace before a closing paren, it jumps over it rather than deleting it."><y>#</y><d>2016-04-04</d><h>23:33</h><w>cfleming</w>In parinfer mode, if you backspace before a closing paren, it jumps over it rather than deleting it.</z><z id="t1459812836" t="shaunlebron right"><y>#</y><d>2016-04-04</d><h>23:33</h><w>shaunlebron</w>right</z><z id="t1459812838" t="cfleming Which is wonderful or maddening, depending on preference."><y>#</y><d>2016-04-04</d><h>23:33</h><w>cfleming</w>Which is wonderful or maddening, depending on preference.</z><z id="t1459812867" t="shaunlebron end-of-line close-parens, yes"><y>#</y><d>2016-04-04</d><h>23:34</h><w>shaunlebron</w>end-of-line close-parens, yes</z><z id="t1459812879" t="shaunlebron which I why I think it’s important to dim them in the editor to communicate their nature"><y>#</y><d>2016-04-04</d><h>23:34</h><w>shaunlebron</w>which I why I think it’s important to dim them in the editor to communicate their nature</z><z id="t1459812896" t="cfleming Sorry, I meant in paredit mode there."><y>#</y><d>2016-04-04</d><h>23:34</h><w>cfleming</w>Sorry, I meant in paredit mode there.</z><z id="t1459812913" t="shaunlebron parinfer too, in indent mode"><y>#</y><d>2016-04-04</d><h>23:35</h><w>shaunlebron</w>parinfer too, in indent mode</z><z id="t1459812923" t="cfleming That’s something I explicitly added rather than something that falls out of the parinfer algorithm."><y>#</y><d>2016-04-04</d><h>23:35</h><w>cfleming</w>That’s something I explicitly added rather than something that falls out of the parinfer algorithm.</z><z id="t1459812924" t="cfleming Right."><y>#</y><d>2016-04-04</d><h>23:35</h><w>cfleming</w>Right.</z><z id="t1459812946" t="shaunlebron it works that way in the demo editor"><y>#</y><d>2016-04-04</d><h>23:35</h><w>shaunlebron</w>it works that way in the demo editor</z><z id="t1459812978" t="cfleming So instead of the mode switcher I have right now, I’m imagining that popping up a palette of options - want tab bound to scope manipulation, want auto-indent, want clever close-paren handling, etc"><y>#</y><d>2016-04-04</d><h>23:36</h><w>cfleming</w>So instead of the mode switcher I have right now, I’m imagining that popping up a palette of options - want tab bound to scope manipulation, want auto-indent, want clever close-paren handling, etc</z><z id="t1459812986" t="cfleming And there are no explicit modes at all."><y>#</y><d>2016-04-04</d><h>23:36</h><w>cfleming</w>And there are no explicit modes at all.</z><z id="t1459813023" t="cfleming Users will be able to mix and match the parts they like of each mode."><y>#</y><d>2016-04-04</d><h>23:37</h><w>cfleming</w>Users will be able to mix and match the parts they like of each mode.</z><z id="t1459813066" t="shaunlebron so, to recap:"><y>#</y><d>2016-04-04</d><h>23:37</h><w>shaunlebron</w>so, to recap:</z><z id="t1459813094" t="cfleming I’d need to try it - I suspect that removing the global nature of parinfer is a good thing, but I’m not sure until I experiment."><y>#</y><d>2016-04-04</d><h>23:38</h><w>cfleming</w>I’d need to try it - I suspect that removing the global nature of parinfer is a good thing, but I’m not sure until I experiment.</z><z id="t1459813125" t="shaunlebron it’s all about representing the intention of the user"><y>#</y><d>2016-04-04</d><h>23:38</h><w>shaunlebron</w>it’s all about representing the intention of the user</z><z id="t1459813131" t="shaunlebron in parinfer, that intention is in modes"><y>#</y><d>2016-04-04</d><h>23:38</h><w>shaunlebron</w>in parinfer, that intention is in modes</z><z id="t1459813168" t="shaunlebron with this new mode, intentions are represented from a mapping of keys -&gt; actions"><y>#</y><d>2016-04-04</d><h>23:39</h><w>shaunlebron</w>with this new mode, intentions are represented from a mapping of keys -&gt; actions</z><z id="t1459813185" t="shaunlebron tab or shift-tab -&gt; scope manip"><y>#</y><d>2016-04-04</d><h>23:39</h><w>shaunlebron</w>tab or shift-tab -&gt; scope manip</z><z id="t1459813212" t="shaunlebron or, not so much mapping of keys as mapping of the types of changes being made by the user"><y>#</y><d>2016-04-04</d><h>23:40</h><w>shaunlebron</w>or, not so much mapping of keys as mapping of the types of changes being made by the user</z><z id="t1459813241" t="shaunlebron so I insert ( -&gt; auto-insert ) somewhere"><y>#</y><d>2016-04-04</d><h>23:40</h><w>shaunlebron</w>so I insert <code>(</code> -&gt; auto-insert <code>)</code> somewhere</z><z id="t1459813268" t="shaunlebron of if I add or remove spaces at the leading indentation point of a line -&gt; scope manip"><y>#</y><d>2016-04-04</d><h>23:41</h><w>shaunlebron</w>of if I add or remove spaces at the leading indentation point of a line -&gt; scope manip</z><z id="t1459813299" t="shaunlebron so you can mix and match these things"><y>#</y><d>2016-04-04</d><h>23:41</h><w>shaunlebron</w>so you can mix and match these things</z><z id="t1459813332" t="cfleming Hopefully, yes"><y>#</y><d>2016-04-04</d><h>23:42</h><w>cfleming</w>Hopefully, yes</z><z id="t1459813371" t="cfleming I think it will be possible to get something which is as intuitive for the user as parinfer right now, but without some of the confusing edge cases and without the whole-doc modification."><y>#</y><d>2016-04-04</d><h>23:42</h><w>cfleming</w>I think it will be possible to get something which is as intuitive for the user as parinfer right now, but without some of the confusing edge cases and without the whole-doc modification.</z><z id="t1459813458" t="shaunlebron about the whole-doc modification"><y>#</y><d>2016-04-04</d><h>23:44</h><w>shaunlebron</w>about the whole-doc modification</z><z id="t1459813460" t="cfleming I do have some users who don’t like any sort of paren matching at all, I’d have to ensure that even when the doc is fairly broken these operations do something sensible."><y>#</y><d>2016-04-04</d><h>23:44</h><w>cfleming</w>I do have some users who don’t like any sort of paren matching at all, I’d have to ensure that even when the doc is fairly broken these operations do something sensible.</z><z id="t1459813474" t="shaunlebron I thought the diffs might be a problem for people at work, yeah"><y>#</y><d>2016-04-04</d><h>23:44</h><w>shaunlebron</w>I thought the diffs might be a problem for people at work, yeah</z><z id="t1459813503" t="shaunlebron but I also thought it was making the code follow uncontroversial standards across all Lisps"><y>#</y><d>2016-04-04</d><h>23:45</h><w>shaunlebron</w>but I also thought it was making the code follow uncontroversial standards across all Lisps</z><z id="t1459813525" t="cfleming One thing I have learned about lisps is that there are no uncontroversial standards simple_smile"><y>#</y><d>2016-04-04</d><h>23:45</h><w>cfleming</w>One thing I have learned about lisps is that there are no uncontroversial standards <b>simple_smile</b></z><z id="t1459813527" t="shaunlebron it’s like running a linter on your code base, there’s be some diffs, but only once"><y>#</y><d>2016-04-04</d><h>23:45</h><w>shaunlebron</w>it’s like running a linter on your code base, there’s be some diffs, but only once</z><z id="t1459813561" t="cfleming So for example, one user wrote to me saying that they have some big file which for whatever reason is only ever added to."><y>#</y><d>2016-04-04</d><h>23:46</h><w>cfleming</w>So for example, one user wrote to me saying that they have some big file which for whatever reason is only ever added to.</z><z id="t1459813562" t="shaunlebron I mean, hanging parens, that’s done mostly out of convenience for line insertion"><y>#</y><d>2016-04-04</d><h>23:46</h><w>shaunlebron</w>I mean, hanging parens, that’s done mostly out of convenience for line insertion</z><z id="t1459813594" t="cfleming So they always maintain a blank line at the end so that they don’t get diff conflicts when someone adds to it."><y>#</y><d>2016-04-04</d><h>23:46</h><w>cfleming</w>So they always maintain a blank line at the end so that they don’t get diff conflicts when someone adds to it.</z><z id="t1459813611" t="cfleming Parinfer messed that up, so the guy always had to remember to turn it off before opening that file."><y>#</y><d>2016-04-04</d><h>23:46</h><w>cfleming</w>Parinfer messed that up, so the guy always had to remember to turn it off before opening that file.</z><z id="t1459813646" t="cfleming Another common problem is forms with hanging parens with comments inside them, ; new tests go here or whatever"><y>#</y><d>2016-04-04</d><h>23:47</h><w>cfleming</w>Another common problem is forms with hanging parens with comments inside them, <code>; new tests go here</code> or whatever</z><z id="t1459813646" t="shaunlebron yeah, [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] was thinking about that when proposing standard comment directives for disabling parinfer"><y>#</y><d>2016-04-04</d><h>23:47</h><w>shaunlebron</w>yeah, <a>@chrisoakman</a> was thinking about that when proposing standard comment directives for disabling parinfer</z><z id="t1459813667" t="cfleming The parens get pulled over the comments."><y>#</y><d>2016-04-04</d><h>23:47</h><w>cfleming</w>The parens get pulled over the comments.</z><z id="t1459813684" t="shaunlebron yeah, that’s a tricky one"><y>#</y><d>2016-04-04</d><h>23:48</h><w>shaunlebron</w>yeah, that’s a tricky one</z><z id="t1459813728" t="cfleming The other nice thing about all this from the implementer’s point of view is that it all happens as a direct result of user action. The async stuff plays hell with undo-redo."><y>#</y><d>2016-04-04</d><h>23:48</h><w>cfleming</w>The other nice thing about all this from the implementer’s point of view is that it all happens as a direct result of user action. The async stuff plays hell with undo-redo.</z><z id="t1459813787" t="shaunlebron oh, I remember warning about managing the history stack with parinfer"><y>#</y><d>2016-04-04</d><h>23:49</h><w>shaunlebron</w>oh, I remember warning about managing the history stack with parinfer</z><z id="t1459813797" t="cfleming Yeah, it’s really hard."><y>#</y><d>2016-04-04</d><h>23:49</h><w>cfleming</w>Yeah, it’s really hard.</z><z id="t1459813819" t="shaunlebron because of the async?"><y>#</y><d>2016-04-04</d><h>23:50</h><w>shaunlebron</w>because of the async?</z><z id="t1459813827" t="shaunlebron if the ops were done in sync, maybe not?"><y>#</y><d>2016-04-04</d><h>23:50</h><w>shaunlebron</w>if the ops were done in sync, maybe not?</z><z id="t1459813853" t="cfleming I think Chris had problems with that, and it was killing me in IntelliJ. I actually found a much better way of handling the changes which alleviated that somewhat, but it’s very editor dependent."><y>#</y><d>2016-04-04</d><h>23:50</h><w>cfleming</w>I think Chris had problems with that, and it was killing me in IntelliJ. I actually found a much better way of handling the changes which alleviated that somewhat, but it’s very editor dependent.</z><z id="t1459813929" t="cfleming Right, depending on the editor it’s easier. I found a listener in IntelliJ which allows me to insert new changes into an undoable change so they all get synchronously packaged up."><y>#</y><d>2016-04-04</d><h>23:52</h><w>cfleming</w>Right, depending on the editor it’s easier. I found a listener in IntelliJ which allows me to insert new changes into an undoable change so they all get synchronously packaged up.</z><z id="t1459813937" t="shaunlebron i think it was something like replacing the top of the undo stack when parinfer runs, or something"><y>#</y><d>2016-04-04</d><h>23:52</h><w>shaunlebron</w>i think it was something like replacing the top of the undo stack when parinfer runs, or something</z><z id="t1459813940" t="cfleming And the fact that it’s synchronous helps responsiveness a lot."><y>#</y><d>2016-04-04</d><h>23:52</h><w>cfleming</w>And the fact that it’s synchronous helps responsiveness a lot.</z><z id="t1459813947" t="shaunlebron but I’m missing the subtleties obviously"><y>#</y><d>2016-04-04</d><h>23:52</h><w>shaunlebron</w>but I’m missing the subtleties obviously</z><z id="t1459813971" t="cfleming Well, I’d guess it’s editor dependent if you can even do that."><y>#</y><d>2016-04-04</d><h>23:52</h><w>cfleming</w>Well, I’d guess it’s editor dependent if you can even do that.</z><z id="t1459813985" t="cfleming I don’t think IntelliJ allows it, but I may be wrong."><y>#</y><d>2016-04-04</d><h>23:53</h><w>cfleming</w>I don’t think IntelliJ allows it, but I may be wrong.</z><z id="t1459814004" t="cfleming Anyway, think about it a bit, feedback very welcome."><y>#</y><d>2016-04-04</d><h>23:53</h><w>cfleming</w>Anyway, think about it a bit, feedback very welcome.</z><z id="t1459814029" t="cfleming I’ll try to implement that at some point relatively soon, although I have some other fixes that need some attention too."><y>#</y><d>2016-04-04</d><h>23:53</h><w>cfleming</w>I’ll try to implement that at some point relatively soon, although I have some other fixes that need some attention too.</z><z id="t1459814058" t="cfleming I’m going to re-work the lexer soon and benchmark it against the old one, and I’ll OSS that - that’ll be Java but porting to JS should be easy."><y>#</y><d>2016-04-04</d><h>23:54</h><w>cfleming</w>I’m going to re-work the lexer soon and benchmark it against the old one, and I’ll OSS that - that’ll be Java but porting to JS should be easy.</z><z id="t1459814085" t="shaunlebron not sure I can use a clojure lexer for parinfer"><y>#</y><d>2016-04-04</d><h>23:54</h><w>shaunlebron</w>not sure I can use a clojure lexer for parinfer</z><z id="t1459814105" t="shaunlebron it’ll be interesting to see though"><y>#</y><d>2016-04-04</d><h>23:55</h><w>shaunlebron</w>it’ll be interesting to see though</z><z id="t1459814107" t="cfleming Yeah, I guess it’ll depend on whether you want to support other lisps or not."><y>#</y><d>2016-04-04</d><h>23:55</h><w>cfleming</w>Yeah, I guess it’ll depend on whether you want to support other lisps or not.</z><z id="t1459814118" t="shaunlebron definitely do"><y>#</y><d>2016-04-04</d><h>23:55</h><w>shaunlebron</w>definitely do</z><z id="t1459814131" t="shaunlebron it’s working for racket, and guile so far"><y>#</y><d>2016-04-04</d><h>23:55</h><w>shaunlebron</w>it’s working for racket, and guile so far</z><z id="t1459814132" t="cfleming In that case it’s difficult, yeah."><y>#</y><d>2016-04-04</d><h>23:55</h><w>cfleming</w>In that case it’s difficult, yeah.</z><z id="t1459814156" t="cfleming Do no other lisps have tricky string handling?"><y>#</y><d>2016-04-04</d><h>23:55</h><w>cfleming</w>Do no other lisps have tricky string handling?</z><z id="t1459814185" t="shaunlebron they seem to have the same strings I think"><y>#</y><d>2016-04-04</d><h>23:56</h><w>shaunlebron</w>they seem to have the same strings I think</z><z id="t1459814186" t="cfleming i.e. allowing strings delimited by single quotes, or something?"><y>#</y><d>2016-04-04</d><h>23:56</h><w>cfleming</w>i.e. allowing strings delimited by single quotes, or something?</z><z id="t1459814190" t="shaunlebron oh"><y>#</y><d>2016-04-04</d><h>23:56</h><w>shaunlebron</w>oh</z><z id="t1459814193" t="shaunlebron that would suck"><y>#</y><d>2016-04-04</d><h>23:56</h><w>shaunlebron</w>that would suck</z><z id="t1459814200" t="cfleming Or chars like ‘c&apos;"><y>#</y><d>2016-04-04</d><h>23:56</h><w>cfleming</w>Or chars like ‘c&apos;</z><z id="t1459814230" t="shaunlebron luckily I think that’s reserved for quoting forms"><y>#</y><d>2016-04-04</d><h>23:57</h><w>shaunlebron</w>luckily I think that’s reserved for quoting forms</z><z id="t1459814243" t="cfleming Oh, of course"><y>#</y><d>2016-04-04</d><h>23:57</h><w>cfleming</w>Oh, of course</z><z id="t1459814262" t="cfleming (no tea yet this morning)"><y>#</y><d>2016-04-04</d><h>23:57</h><w>cfleming</w>(no tea yet this morning)</z><z id="t1459814272" t="shaunlebron haha"><y>#</y><d>2016-04-04</d><h>23:57</h><w>shaunlebron</w>haha</z><z id="t1459814283" t="shaunlebron well, I just burned my last hour at work thinking about parinfer"><y>#</y><d>2016-04-04</d><h>23:58</h><w>shaunlebron</w>well, I just burned my last hour at work thinking about parinfer</z><z id="t1459814288" t="cfleming Haha"><y>#</y><d>2016-04-04</d><h>23:58</h><w>cfleming</w>Haha</z><z id="t1459814300" t="shaunlebron I’ll keep thinking about the auto-mode, I think it sounds cool"><y>#</y><d>2016-04-04</d><h>23:58</h><w>shaunlebron</w>I’ll keep thinking about the auto-mode, I think it sounds cool</z><z id="t1459814306" t="shaunlebron can’t wait to try"><y>#</y><d>2016-04-04</d><h>23:58</h><w>shaunlebron</w>can’t wait to try</z><z id="t1459814341" t="shaunlebron i’ll add the tabstops thing too"><y>#</y><d>2016-04-04</d><h>23:59</h><w>shaunlebron</w>i’ll add the <code>tabstops</code> thing too</z><z id="t1459814369" t="cfleming (Full disclosure requires me to point out that it’s basically what the Emacs parinfer-criticism doc suggested)"><y>#</y><d>2016-04-04</d><h>23:59</h><w>cfleming</w>(Full disclosure requires me to point out that it’s basically what the Emacs parinfer-criticism doc suggested)</z><z id="t1459814377" t="shaunlebron oh, and especially the locally-bound changes sounds really useful"><y>#</y><d>2016-04-04</d><h>23:59</h><w>shaunlebron</w>oh, and especially the locally-bound changes sounds really useful</z><z id="t1459814409" t="cfleming Yeah, I agree, I think that’s going to be the change that will allow some people to use it at work who can’t currently."><y>#</y><d>2016-04-05</d><h>00:00</h><w>cfleming</w>Yeah, I agree, I think that’s going to be the change that will allow some people to use it at work who can’t currently.</z><z id="t1459814426" t="shaunlebron right, I think that’s what all non-inferenced modes would converge to"><y>#</y><d>2016-04-05</d><h>00:00</h><w>shaunlebron</w>right, I think that’s what all non-inferenced modes would converge to</z><z id="t1459814430" t="cfleming What I’m worried about is how slurping and barfing will work without tons of commands."><y>#</y><d>2016-04-05</d><h>00:00</h><w>cfleming</w>What I’m worried about is how slurping and barfing will work without tons of commands.</z><z id="t1459814446" t="shaunlebron lispy has that down"><y>#</y><d>2016-04-05</d><h>00:00</h><w>shaunlebron</w>lispy has that down</z><z id="t1459814461" t="cfleming Yeah, I need to look at those modes again."><y>#</y><d>2016-04-05</d><h>00:01</h><w>cfleming</w>Yeah, I need to look at those modes again.</z><z id="t1459814481" t="shaunlebron I mean, obviously you can’t map normal insertion/change events to those operations"><y>#</y><d>2016-04-05</d><h>00:01</h><w>shaunlebron</w>I mean, obviously you can’t map normal insertion/change events to those operations</z><z id="t1459814502" t="cfleming This has actually been a great change in terms of figuring out how to handle all these things in IntelliJ - turns out I can easily hook things like delete line and tidy up the parens, which I didn’t realise."><y>#</y><d>2016-04-05</d><h>00:01</h><w>cfleming</w>This has actually been a great change in terms of figuring out how to handle all these things in IntelliJ - turns out I can easily hook things like delete line and tidy up the parens, which I didn’t realise.</z><z id="t1459814507" t="shaunlebron it uses the vim-like hjkl keys to make it quick"><y>#</y><d>2016-04-05</d><h>00:01</h><w>shaunlebron</w>it uses the vim-like <code>hjkl</code> keys to make it quick</z><z id="t1459814510" t="cfleming That has been a killer for vim users."><y>#</y><d>2016-04-05</d><h>00:01</h><w>cfleming</w>That has been a killer for vim users.</z><z id="t1459814530" t="cfleming Right, but it’s very context-sensitive. I can imagine it being powerful but it’s not newbie-friendly."><y>#</y><d>2016-04-05</d><h>00:02</h><w>cfleming</w>Right, but it’s very context-sensitive. I can imagine it being powerful but it’s not newbie-friendly.</z><z id="t1459814543" t="shaunlebron right, that’s the caveat"><y>#</y><d>2016-04-05</d><h>00:02</h><w>shaunlebron</w>right, that’s the caveat</z><z id="t1459814589" t="shaunlebron my hope is that the auto-mode and the parinfer-criticism can be realized as full thing"><y>#</y><d>2016-04-05</d><h>00:03</h><w>shaunlebron</w>my hope is that the auto-mode and the parinfer-criticism can be realized as full thing</z><z id="t1459814595" t="cfleming So I’ll need to go through and look at things like evil-cleverparens and see what to steal. They have some nice heuristics for fixing up pasted code which is something I’ve wanted to do for ages."><y>#</y><d>2016-04-05</d><h>00:03</h><w>cfleming</w>So I’ll need to go through and look at things like evil-cleverparens and see what to steal. They have some nice heuristics for fixing up pasted code which is something I’ve wanted to do for ages.</z><z id="t1459814599" t="shaunlebron and for us to be able to compare tradeoffs"><y>#</y><d>2016-04-05</d><h>00:03</h><w>shaunlebron</w>and for us to be able to compare tradeoffs</z><z id="t1459814639" t="shaunlebron yeah, I think Cursive would be perfect grounds to explore that"><y>#</y><d>2016-04-05</d><h>00:03</h><w>shaunlebron</w>yeah, I think Cursive would be perfect grounds to explore that</z><z id="t1459814640" t="cfleming Yeah, we definitely need a full implementation to see one against the other. What he discussed in that doc was a hodge-podge of existing modes, which even for an existing Emacs user is probably unrealistic."><y>#</y><d>2016-04-05</d><h>00:04</h><w>cfleming</w>Yeah, we definitely need a full implementation to see one against the other. What he discussed in that doc was a hodge-podge of existing modes, which even for an existing Emacs user is probably unrealistic.</z><z id="t1459814660" t="shaunlebron but for Cursive..."><y>#</y><d>2016-04-05</d><h>00:04</h><w>shaunlebron</w>but for Cursive...</z><z id="t1459814673" t="shaunlebron yeah"><y>#</y><d>2016-04-05</d><h>00:04</h><w>shaunlebron</w>yeah</z><z id="t1459814685" t="cfleming And I’m excited to be able to remove the distinction between the modes and just compose the features as required."><y>#</y><d>2016-04-05</d><h>00:04</h><w>cfleming</w>And I’m excited to be able to remove the distinction between the modes and just compose the features as required.</z><z id="t1459814695" t="cfleming I hope it works."><y>#</y><d>2016-04-05</d><h>00:04</h><w>cfleming</w>I hope it works.</z><z id="t1459814737" t="cfleming Ok, great to chat about all this - I’d better go and actually implement something."><y>#</y><d>2016-04-05</d><h>00:05</h><w>cfleming</w>Ok, great to chat about all this - I’d better go and actually implement something.</z><z id="t1459814742" t="cfleming I’ll let you know how I get on."><y>#</y><d>2016-04-05</d><h>00:05</h><w>cfleming</w>I’ll let you know how I get on.</z><z id="t1459814759" t="shaunlebron cool, thanks for all the context. chat with you soon, good luck"><y>#</y><d>2016-04-05</d><h>00:05</h><w>shaunlebron</w>cool, thanks for all the context.  chat with you soon, good luck</z><z id="t1459814778" t="cfleming Thanks, seeya"><y>#</y><d>2016-04-05</d><h>00:06</h><w>cfleming</w>Thanks, seeya</z><z id="t1459814799" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : Oh, one more question"><y>#</y><d>2016-04-05</d><h>00:06</h><w>cfleming</w><a>@shaunlebron</a>: Oh, one more question</z><z id="t1459814833" t="cfleming With the tab stops change, I calculate the tab stops and if the user hits tab but their code is already at or past the last stop, I just indent two spaces."><y>#</y><d>2016-04-05</d><h>00:07</h><w>cfleming</w>With the tab stops change, I calculate the tab stops and if the user hits tab but their code is already at or past the last stop, I just indent two spaces.</z><z id="t1459814848" t="cfleming I’m wondering if that is ever useful, or if it would be better to just not do anything."><y>#</y><d>2016-04-05</d><h>00:07</h><w>cfleming</w>I’m wondering if that is ever useful, or if it would be better to just not do anything.</z><z id="t1459814849" t="shaunlebron ah, good point to bring up, yeah"><y>#</y><d>2016-04-05</d><h>00:07</h><w>shaunlebron</w>ah, good point to bring up, yeah</z><z id="t1459814871" t="shaunlebron nah, I think falling back on normal indenting is good"><y>#</y><d>2016-04-05</d><h>00:07</h><w>shaunlebron</w>nah, I think falling back on normal indenting is good</z><z id="t1459814882" t="shaunlebron for example, for aligning a two-line comment"><y>#</y><d>2016-04-05</d><h>00:08</h><w>shaunlebron</w>for example, for aligning a two-line comment</z><z id="t1459814898" t="shaunlebron would be annoying to not be able to push the cursor to a certain point after a tab stop"><y>#</y><d>2016-04-05</d><h>00:08</h><w>shaunlebron</w>would be annoying to not be able to push the cursor to a certain point after a tab stop</z><z id="t1459814904" t="cfleming Ah, yeah, good example."><y>#</y><d>2016-04-05</d><h>00:08</h><w>cfleming</w>Ah, yeah, good example.</z><z id="t1459814931" t="shaunlebron so yeah, I think your idea is good behavior, two-spaces"><y>#</y><d>2016-04-05</d><h>00:08</h><w>shaunlebron</w>so yeah, I think your idea is good behavior, two-spaces</z><z id="t1459815012" t="cfleming Cool, that would be worth mentioning in the tab stop doc."><y>#</y><d>2016-04-05</d><h>00:10</h><w>cfleming</w>Cool, that would be worth mentioning in the tab stop doc.</z><z id="t1459841509" t="shaunlebron published 1.8.0 with the new tabStops feature"><y>#</y><d>2016-04-05</d><h>07:31</h><w>shaunlebron</w>published 1.8.0 with the new <code>tabStops</code> feature</z><z id="t1459841642" t="shaunlebron added tests and docs. changes are split by commit to make for easier porting: https://github.com/shaunlebron/parinfer/pull/110/commits"><y>#</y><d>2016-04-05</d><h>07:34</h><w>shaunlebron</w>added tests and docs.  changes are split by commit to make for easier porting: <a href="https://github.com/shaunlebron/parinfer/pull/110/commits" target="_blank">https://github.com/shaunlebron/parinfer/pull/110/commits</a></z><z id="t1459841742" t="shaunlebron tab stops are not used in the demo editor yet"><y>#</y><d>2016-04-05</d><h>07:35</h><w>shaunlebron</w>tab stops are not used in the demo editor yet</z><z id="t1459877540" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : something I’ve had in mind since the beginning is allowing space and shift +`space` to indent/dedent selected lines by a single space. This would the user the ability to correct an off-by-one alignment caused by the usual two-space jumps"><y>#</y><d>2016-04-05</d><h>17:32</h><w>shaunlebron</w><a>@cfleming</a>: something I’ve had in mind since the beginning is allowing <code>space</code> and <code>shift</code>+`space` to indent/dedent selected lines by a single space.  This would the user the ability to correct an off-by-one alignment caused by the usual two-space jumps</z><z id="t1459897209" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : Right, something like that would be required in the auto-indent case, for sure."><y>#</y><d>2016-04-05</d><h>23:00</h><w>cfleming</w><a>@shaunlebron</a>: Right, something like that would be required in the auto-indent case, for sure.</z><z id="t1459913427" t="sekao [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : exciting to hear about the tab stop feature! for some reason i decided to try implementing it myself using the info i get from tools.reader. here is a demo of what i have so far: https://oakes.github.io/paren-soup/indent-feature/"><y>#</y><d>2016-04-06</d><h>03:30</h><w>sekao</w><a>@shaunlebron</a>: exciting to hear about the tab stop feature! for some reason i decided to try implementing it myself using the info i get from tools.reader. here is a demo of what i have so far: <a href="https://oakes.github.io/paren-soup/indent-feature/" target="_blank">https://oakes.github.io/paren-soup/indent-feature/</a></z><z id="t1459913624" t="sekao not sure if there is any point to pursuing that further, though, if i can get it from parinfer instead"><y>#</y><d>2016-04-06</d><h>03:33</h><w>sekao</w>not sure if there is any point to pursuing that further, though, if i can get it from parinfer instead</z><z id="t1459990314" t="escherize Looks like parinfer support has been added to re-console. https://github.com/Lambda-X/re-console/releases/tag/0.1.2"><y>#</y><d>2016-04-07</d><h>00:51</h><w>escherize</w>Looks like parinfer support has been added to re-console. <a href="https://github.com/Lambda-X/re-console/releases/tag/0.1.2" target="_blank">https://github.com/Lambda-X/re-console/releases/tag/0.1.2</a></z><z id="t1459995161" t="shaunlebron [:attrs {:href &quot;/_/_/users/U080181PF&quot;}] : cool! looks like you’re indenting to child expressions inside of the last collection of the line, smart!"><y>#</y><d>2016-04-07</d><h>02:12</h><w>shaunlebron</w><a>@sekao</a>: cool!  looks like you’re indenting to child expressions inside of the last collection of the line, smart!</z><z id="t1459995221" t="shaunlebron that’s not information I’m providing, just tab stops at open-parens currently"><y>#</y><d>2016-04-07</d><h>02:13</h><w>shaunlebron</w>that’s not information I’m providing, just tab stops at open-parens currently</z><z id="t1459995498" t="shaunlebron just a headsup, doesn’t seem to work on empty lines"><y>#</y><d>2016-04-07</d><h>02:18</h><w>shaunlebron</w>just a headsup, doesn’t seem to work on empty lines</z><z id="t1459995512" t="shaunlebron for placing the cursor at tabstops I mean"><y>#</y><d>2016-04-07</d><h>02:18</h><w>shaunlebron</w>for placing the cursor at tabstops I mean</z><z id="t1459995799" t="shaunlebron re-console, that’s cool. looks like it’s using codemirror-parinfer"><y>#</y><d>2016-04-07</d><h>02:23</h><w>shaunlebron</w>re-console, that’s cool.  looks like it’s using codemirror-parinfer</z><z id="t1459995856" t="shaunlebron mauricio szabo worked his magic on getting it working really well in codemirror, for paren mode at least"><y>#</y><d>2016-04-07</d><h>02:24</h><w>shaunlebron</w>mauricio szabo worked his magic on getting it working really well in codemirror, for paren mode at least</z><z id="t1459995883" t="shaunlebron would like that merged in with codemirror-parinfer so we can unite those implementations"><y>#</y><d>2016-04-07</d><h>02:24</h><w>shaunlebron</w>would like that merged in with codemirror-parinfer so we can unite those implementations</z><z id="t1460003821" t="sekao [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : oh good call on the empty line issue, i just fixed it. i’m really loving this indentation snapping so far, it’s making parinfer a lot nicer to use. gonna play with it more but i’ll probably release it in nightcode in the next few days"><y>#</y><d>2016-04-07</d><h>04:37</h><w>sekao</w><a>@shaunlebron</a>: oh good call on the empty line issue, i just fixed it. i’m really loving this indentation snapping so far, it’s making parinfer a lot nicer to use. gonna play with it more but i’ll probably release it in nightcode in the next few days</z><z id="t1460048263" t="chrisoakman I need to catch up with all of this and update atom-parinfer"><y>#</y><d>2016-04-07</d><h>16:57</h><w>chrisoakman</w>I need to catch up with all of this and update atom-parinfer</z><z id="t1460048635" t="snoe I&apos;ve got this mostly working in nvim but running into some remote plugin features that are missing. If people are itching for it I could release sooner."><y>#</y><d>2016-04-07</d><h>17:03</h><w>snoe</w>I&apos;ve got this mostly working in nvim but running into some remote plugin features that are missing. If people are itching for it I could release sooner.</z><z id="t1460056170" t="shaunlebron snoe: remote plugin features? "><y>#</y><d>2016-04-07</d><h>19:09</h><w>shaunlebron</w>snoe: remote plugin features? </z><z id="t1460056357" t="snoe https://github.com/neovim/neovim/pull/3259"><y>#</y><d>2016-04-07</d><h>19:12</h><w>snoe</w><a href="https://github.com/neovim/neovim/pull/3259" target="_blank">https://github.com/neovim/neovim/pull/3259</a></z><z id="t1460056618" t="shaunlebron ok thanks, vim-specific"><y>#</y><d>2016-04-07</d><h>19:16</h><w>shaunlebron</w>ok thanks, vim-specific</z><z id="t1460090567" t="snoe There&apos;s a new version of nvim-parinfer with the new indent and dedent mappings. https://github.com/snoe/nvim-parinfer.js"><y>#</y><d>2016-04-08</d><h>04:42</h><w>snoe</w>There&apos;s a new version of nvim-parinfer with the new indent and dedent mappings. <a href="https://github.com/snoe/nvim-parinfer.js" target="_blank">https://github.com/snoe/nvim-parinfer.js</a></z><z id="t1460205853" t="shaunlebron hey [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] , looks good"><y>#</y><d>2016-04-09</d><h>12:44</h><w>shaunlebron</w>hey <a>@snoe</a>, looks good</z><z id="t1460205906" t="shaunlebron looks like your code isn’t inserting extra tab stops though for the 1-space or 2-space indentation levels, right?"><y>#</y><d>2016-04-09</d><h>12:45</h><w>shaunlebron</w>looks like your code isn’t inserting extra tab stops though for the 1-space or 2-space indentation levels, right?</z><z id="t1460205950" t="shaunlebron from the readme section https://github.com/shaunlebron/parinfer/tree/master/lib#adding-parinfer-to-an-editor , item 5.iii These returned tab stops only represent open-paren positions, so you need to insert extra tab stops depending on your desired indentation conventions. For example, you can add a tab stop to represent a one-space indentation after every [, a two-space indentation after every (, or even get fancy by reading the text that comes after ( to determine context-specific indentation, as is common in Lisp. "><y>#</y><d>2016-04-09</d><h>12:45</h><w>shaunlebron</w>from the readme section <a href="https://github.com/shaunlebron/parinfer/tree/master/lib#adding-parinfer-to-an-editor" target="_blank">https://github.com/shaunlebron/parinfer/tree/master/lib#adding-parinfer-to-an-editor</a>, item 5.iii
<pre>These returned tab stops only represent open-paren positions, so you need to insert extra tab stops depending on your desired indentation conventions. For example, you can add a tab stop to represent a one-space indentation after every [, a two-space indentation after every (, or even get fancy by reading the text that comes after ( to determine context-specific indentation, as is common in Lisp.
</pre></z><z id="t1460206037" t="shaunlebron I should probably clarify that with an example"><y>#</y><d>2016-04-09</d><h>12:47</h><w>shaunlebron</w>I should probably clarify that with an example</z><z id="t1460206124" t="shaunlebron (let [foo 1 | | bar 2]) "><y>#</y><d>2016-04-09</d><h>12:48</h><w>shaunlebron</w><pre>(let [foo 1
|    |
      bar 2])
</pre></z><z id="t1460206177" t="shaunlebron (let [foo 1 | | || bar 2]) "><y>#</y><d>2016-04-09</d><h>12:49</h><w>shaunlebron</w><pre>(let [foo 1
| |  ||
      bar 2])
</pre></z><z id="t1460206245" t="shaunlebron I supply the tab stops in the first example, and you have to add the extra ones depending on your desired indentation conventions"><y>#</y><d>2016-04-09</d><h>12:50</h><w>shaunlebron</w>I supply the tab stops in the first example, and you have to add the extra ones depending on your desired indentation conventions</z><z id="t1460234701" t="snoe Ya, so I basically just inc all the stops and then add one at 0. That felt most natural to me but I probably missed somewhere that stopping on the open parens is important."><y>#</y><d>2016-04-09</d><h>20:45</h><w>snoe</w>Ya, so I basically just inc all the stops and then add one at 0. That felt most natural to me but I probably missed somewhere that stopping on the open parens is important.</z><z id="t1460567701" t="eraserhd Would anyone like to pair on adding parinfer to Avi ( https://github.com/maitria/avi ) who is in Seattle for Clojure/west this week?"><y>#</y><d>2016-04-13</d><h>17:15</h><w>eraserhd</w>Would anyone like to pair on adding parinfer to Avi ( <a href="https://github.com/maitria/avi" target="_blank">https://github.com/maitria/avi</a> ) who is in Seattle for Clojure/west this week?</z><z id="t1460654630" t="sekao my new strategy for cut/paste events is to run paren mode and then indent mode. that way, it will first correct indentation if possible, then it will fix unbalanced delimiters"><y>#</y><d>2016-04-14</d><h>17:23</h><w>sekao</w>my new strategy for cut/paste events is to run paren mode and then indent mode. that way, it will first correct indentation if possible, then it will fix unbalanced delimiters</z><z id="t1460654727" t="sekao previously i was running indent mode alone, which was messing up since pasting a multi-line form in a REPL (or sometimes in the editor) caused it to mess up the form because the prompt caused the first line to separate from the rest of the form"><y>#</y><d>2016-04-14</d><h>17:25</h><w>sekao</w>previously i was running indent mode alone, which was messing up since pasting a multi-line form in a REPL (or sometimes in the editor) caused it to mess up the form because the prompt caused the first line to separate from the rest of the form</z><z id="t1460654775" t="sekao the fix is in the latest nightcode and paren-soup, seems to work well so far but there may be things i overlooekd"><y>#</y><d>2016-04-14</d><h>17:26</h><w>sekao</w>the fix is in the latest nightcode and paren-soup, seems to work well so far but there may be things i overlooekd</z><z id="t1460665115" t="shaunlebron @avi yeah ill pair with you for a session or two 🙂"><y>#</y><d>2016-04-14</d><h>20:18</h><w>shaunlebron</w>@avi yeah ill pair with you for a session or two <b>🙂</b></z><z id="t1460665131" t="shaunlebron im in seattle for clojurewest too"><y>#</y><d>2016-04-14</d><h>20:18</h><w>shaunlebron</w>im in seattle for clojurewest too</z><z id="t1460665260" t="shaunlebron [:attrs {:href &quot;/_/_/users/U080181PF&quot;}] cool. paren mode will only work if parens are already balanced actually. mfikes sort of modified it work without being fully balanced for the purpose of autoindent in planck"><y>#</y><d>2016-04-14</d><h>20:21</h><w>shaunlebron</w><a>@sekao</a> cool. paren mode will only work if parens are already balanced actually. mfikes sort of modified it work without being fully balanced for the purpose of autoindent in planck</z><z id="t1460665333" t="shaunlebron i&apos;ll look into adding that as an option since this is a good strategy for copy paste"><y>#</y><d>2016-04-14</d><h>20:22</h><w>shaunlebron</w>i&apos;ll look into adding that as an option since this is a good strategy for copy paste</z><z id="t1460665352" t="mfikes Yeah, I guess I used indent mode followed by paren mode https://github.com/mfikes/planck/blob/master/planck-cljs/src/planck/repl.cljs#L38"><y>#</y><d>2016-04-14</d><h>20:22</h><w>mfikes</w>Yeah, I guess I used indent mode followed by paren mode <a href="https://github.com/mfikes/planck/blob/master/planck-cljs/src/planck/repl.cljs#L38" target="_blank">https://github.com/mfikes/planck/blob/master/planck-cljs/src/planck/repl.cljs#L38</a></z><z id="t1460665593" t="shaunlebron ah thats not what we want then"><y>#</y><d>2016-04-14</d><h>20:26</h><w>shaunlebron</w>ah thats not what we want then</z><z id="t1460665708" t="shaunlebron i think i can make it emit a partial result"><y>#</y><d>2016-04-14</d><h>20:28</h><w>shaunlebron</w>i think i can make it emit a partial result</z><z id="t1460665728" t="sekao [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : yeah i knew it only worked with balanced parens. the logic i wanted was essentially “fix indentation if the parens are balanced; otherwise, balance the parens&quot;"><y>#</y><d>2016-04-14</d><h>20:28</h><w>sekao</w><a>@shaunlebron</a>: yeah i knew it only worked with balanced parens. the logic i wanted was essentially “fix indentation if the parens are balanced; otherwise, balance the parens&quot;</z><z id="t1460666205" t="shaunlebron ah i see. sorry i misread your first message"><y>#</y><d>2016-04-14</d><h>20:36</h><w>shaunlebron</w>ah i see. sorry i misread your first message</z><z id="t1460666237" t="shaunlebron yeah that seems like a good strategy. will try it out "><y>#</y><d>2016-04-14</d><h>20:37</h><w>shaunlebron</w>yeah that seems like a good strategy. will try it out </z><z id="t1460666257" t="shaunlebron [:attrs {:href &quot;/_/_/users/U080181PF&quot;}] you attending clojurewest?"><y>#</y><d>2016-04-14</d><h>20:37</h><w>shaunlebron</w><a>@sekao</a>  you attending clojurewest?</z><z id="t1460675236" t="sekao [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : sadly no =\ my fellow charlestonian ghadi will be speaking there so i was tempted but couldn’t justify the travel expense. i’m determined to make it to the conj this year though"><y>#</y><d>2016-04-14</d><h>23:07</h><w>sekao</w><a>@shaunlebron</a>: sadly no =\ my fellow charlestonian ghadi will be speaking there so i was tempted but couldn’t justify the travel expense. i’m determined to make it to the conj this year though</z><z id="t1460675917" t="snoe [:attrs {:href &quot;/_/_/users/U080181PF&quot;}] that sounds like the hybrid mode that I put into nvim https://github.com/snoe/nvim-parinfer.js/blob/master/src/nvim_parinfer/main.cljs#L28-L32 sadly, it then requires slurp and barf from paredit to be usable."><y>#</y><d>2016-04-14</d><h>23:18</h><w>snoe</w><a>@sekao</a> that sounds like the hybrid mode that I put into nvim <a href="https://github.com/snoe/nvim-parinfer.js/blob/master/src/nvim_parinfer/main.cljs#L28-L32" target="_blank">https://github.com/snoe/nvim-parinfer.js/blob/master/src/nvim_parinfer/main.cljs#L28-L32</a> sadly, it then requires slurp and barf from paredit to be usable.</z><z id="t1460675968" t="snoe it helped pasting a lot!"><y>#</y><d>2016-04-14</d><h>23:19</h><w>snoe</w>it helped pasting a lot!</z><z id="t1461019996" t="cfleming I’m going to have to modify parinfer so it only runs the initial paren mode on first modification, before the indent mode."><y>#</y><d>2016-04-18</d><h>22:53</h><w>cfleming</w>I’m going to have to modify parinfer so it only runs the initial paren mode on first modification, before the indent mode.</z><z id="t1461020017" t="cfleming Having it modify files the user has only looked at is really problematic."><y>#</y><d>2016-04-18</d><h>22:53</h><w>cfleming</w>Having it modify files the user has only looked at is really problematic.</z><z id="t1461020070" t="cfleming I also have a “toggle structural style” action which cycles through the current 3 options - I hadn’t considered that doing that would also modify code as the user cycles through parinfer mode."><y>#</y><d>2016-04-18</d><h>22:54</h><w>cfleming</w>I also have a “toggle structural style” action which cycles through the current 3 options - I hadn’t considered that doing that would also modify code as the user cycles through parinfer mode.</z><z id="t1461109472" t="sekao [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] you mean problematic for user experience or for technical reasons?"><y>#</y><d>2016-04-19</d><h>23:44</h><w>sekao</w><a>@cfleming</a> you mean problematic for user experience or for technical reasons?</z><z id="t1461109738" t="cfleming [:attrs {:href &quot;/_/_/users/U080181PF&quot;}] : For user experience."><y>#</y><d>2016-04-19</d><h>23:48</h><w>cfleming</w><a>@sekao</a>: For user experience.</z><z id="t1461109773" t="cfleming I understand how it works, and it’s still jarring for me to suddenly see a bunch of modified files in my project when I’ve just been looking at it."><y>#</y><d>2016-04-19</d><h>23:49</h><w>cfleming</w>I understand how it works, and it’s still jarring for me to suddenly see a bunch of modified files in my project when I’ve just been looking at it.</z><z id="t1461109878" t="cfleming In particular, modifying files just by cycling through the options is not acceptable."><y>#</y><d>2016-04-19</d><h>23:51</h><w>cfleming</w>In particular, modifying files just by cycling through the options is not acceptable.</z><z id="t1461109896" t="cfleming (although that’s a UI problem on my part, not a parinfer problem)"><y>#</y><d>2016-04-19</d><h>23:51</h><w>cfleming</w>(although that’s a UI problem on my part, not a parinfer problem)</z><z id="t1461155718" t="sekao [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : in Nightcode my approach is to run paren mode but leave the file unsaved. It may still be confusing for it to indicate unsaved changes in a file you just opened but oh well"><y>#</y><d>2016-04-20</d><h>12:35</h><w>sekao</w><a>@cfleming</a>: in Nightcode my approach is to run paren mode but leave the file unsaved. It may still be confusing for it to indicate unsaved changes in a file you just opened but oh well</z><z id="t1461201035" t="cfleming [:attrs {:href &quot;/_/_/users/U080181PF&quot;}] : I can’t do that in IntelliJ unfortunately since it saves automatically."><y>#</y><d>2016-04-21</d><h>01:10</h><w>cfleming</w><a>@sekao</a>: I can’t do that in IntelliJ unfortunately since it saves automatically.</z><z id="t1461298642" t="shaunlebron A cursive user discovered a major bug in Parinfer that is now fixed in 1.8.1"><y>#</y><d>2016-04-22</d><h>04:17</h><w>shaunlebron</w>A cursive user discovered a major bug in Parinfer that is now fixed in 1.8.1</z><z id="t1461298666" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : Thanks for the quick fix!"><y>#</y><d>2016-04-22</d><h>04:17</h><w>cfleming</w><a>@shaunlebron</a>: Thanks for the quick fix!</z><z id="t1461298677" t="shaunlebron thanks for reporting!"><y>#</y><d>2016-04-22</d><h>04:17</h><w>shaunlebron</w>thanks for reporting!</z><z id="t1461298720" t="cfleming I was planning to try to modify the integration so that it would only run the initial paren mode on first modification rather than file opening, but I can’t figure out a way to do that."><y>#</y><d>2016-04-22</d><h>04:18</h><w>cfleming</w>I was planning to try to modify the integration so that it would only run the initial paren mode on first modification rather than file opening, but I can’t figure out a way to do that.</z><z id="t1461298741" t="shaunlebron yeah, that seems tricky 😕"><y>#</y><d>2016-04-22</d><h>04:19</h><w>shaunlebron</w>yeah, that seems tricky <b>😕</b></z><z id="t1461298773" t="cfleming Yeah - I can hook into the action system and do it before any action, but actions are everything from editor actions to moving to another editor."><y>#</y><d>2016-04-22</d><h>04:19</h><w>cfleming</w>Yeah - I can hook into the action system and do it before any action, but actions are everything from editor actions to moving to another editor.</z><z id="t1461298800" t="cfleming So it would always trigger - there’s no way to detect an action that will modify the doc. And once the doc is being modified it’s too late."><y>#</y><d>2016-04-22</d><h>04:20</h><w>cfleming</w>So it would always trigger - there’s no way to detect an action that will modify the doc. And once the doc is being modified it’s too late.</z><z id="t1461298845" t="shaunlebron eesh"><y>#</y><d>2016-04-22</d><h>04:20</h><w>shaunlebron</w>eesh</z><z id="t1461298867" t="shaunlebron I don’t think that spacex video is any consolation here"><y>#</y><d>2016-04-22</d><h>04:21</h><w>shaunlebron</w>I don’t think that spacex video is any consolation here</z><z id="t1461298879" t="shaunlebron 😄"><y>#</y><d>2016-04-22</d><h>04:21</h><w>shaunlebron</w><b>😄</b></z><z id="t1461298894" t="cfleming No, I’m going to have to go with nanorobots performing heart surgery, or something."><y>#</y><d>2016-04-22</d><h>04:21</h><w>cfleming</w>No, I’m going to have to go with nanorobots performing heart surgery, or something.</z><z id="t1461298971" t="cfleming It’s been a bad problem because I have a “toggle structural editing style” action which cycles through none, parinfer, paredit. That previously would modify the doc while passing through parinfer mode."><y>#</y><d>2016-04-22</d><h>04:22</h><w>cfleming</w>It’s been a bad problem because I have a “toggle structural editing style” action which cycles through none, parinfer, paredit. That previously would modify the doc while passing through parinfer mode.</z><z id="t1461298985" t="cfleming It was pretty annoying for people."><y>#</y><d>2016-04-22</d><h>04:23</h><w>cfleming</w>It was pretty annoying for people.</z><z id="t1461299011" t="cfleming (it was even worse because of a bug that wouldn’t run paren mode when it should, so it would actually break code)."><y>#</y><d>2016-04-22</d><h>04:23</h><w>cfleming</w>(it was even worse because of a bug that wouldn’t run paren mode when it should, so it would actually break code).</z><z id="t1461299015" t="shaunlebron I would remove it from the toggle cycle"><y>#</y><d>2016-04-22</d><h>04:23</h><w>shaunlebron</w>I would remove it from the toggle cycle</z><z id="t1461299034" t="cfleming It’s now configurable - users can select which modes they want to appear in the toggle."><y>#</y><d>2016-04-22</d><h>04:23</h><w>cfleming</w>It’s now configurable - users can select which modes they want to appear in the toggle.</z><z id="t1461299055" t="cfleming I know several users basically toggle between parinfer and paredit."><y>#</y><d>2016-04-22</d><h>04:24</h><w>cfleming</w>I know several users basically toggle between parinfer and paredit.</z><z id="t1461299065" t="shaunlebron interesting"><y>#</y><d>2016-04-22</d><h>04:24</h><w>shaunlebron</w>interesting</z><z id="t1461299083" t="cfleming And some may want to go none &lt;-&gt; parinfer or none &lt;-&gt; paredit"><y>#</y><d>2016-04-22</d><h>04:24</h><w>cfleming</w>And some may want to go none &lt;-&gt; parinfer or none &lt;-&gt; paredit</z><z id="t1461299134" t="shaunlebron what is the default toggle cycle then"><y>#</y><d>2016-04-22</d><h>04:25</h><w>shaunlebron</w>what is the default toggle cycle then</z><z id="t1461299217" t="shaunlebron and would a localized (non-global) paren mode help here?"><y>#</y><d>2016-04-22</d><h>04:26</h><w>shaunlebron</w>and would a localized (non-global) paren mode help here?</z><z id="t1461299221" t="cfleming All 3."><y>#</y><d>2016-04-22</d><h>04:27</h><w>cfleming</w>All 3.</z><z id="t1461299222" t="cfleming Yes"><y>#</y><d>2016-04-22</d><h>04:27</h><w>cfleming</w>Yes</z><z id="t1461299232" t="cfleming Definitely."><y>#</y><d>2016-04-22</d><h>04:27</h><w>cfleming</w>Definitely.</z><z id="t1461299275" t="cfleming I’m still thinking about options for a local hybrid mode. I’m using parinfer myself at the moment, and there’s a lot I like about it that I’ll have to try to replicate in whatever I come up with."><y>#</y><d>2016-04-22</d><h>04:27</h><w>cfleming</w>I’m still thinking about options for a local hybrid mode. I’m using parinfer myself at the moment, and there’s a lot I like about it that I’ll have to try to replicate in whatever I come up with.</z><z id="t1461299328" t="cfleming In particular, I often leave dangling parens at the end of test forms so that I can easily add a new case just by duplicating the line. Using parinfer I can just duplicate the line anyway and it all gets tidied up."><y>#</y><d>2016-04-22</d><h>04:28</h><w>cfleming</w>In particular, I often leave dangling parens at the end of test forms so that I can easily add a new case just by duplicating the line. Using parinfer I can just duplicate the line anyway and it all gets tidied up.</z><z id="t1461299338" t="cfleming That is really nice."><y>#</y><d>2016-04-22</d><h>04:28</h><w>cfleming</w>That is really nice.</z><z id="t1461299364" t="shaunlebron can you undo the paren mode changes if you can detect that the user toggled through parinfer without any manual modifications?"><y>#</y><d>2016-04-22</d><h>04:29</h><w>shaunlebron</w>can you undo the paren mode changes if you can detect that the user toggled through parinfer without any manual modifications?</z><z id="t1461299372" t="cfleming But it is definitely a problem that files are modified after just looking at them."><y>#</y><d>2016-04-22</d><h>04:29</h><w>cfleming</w>But it is definitely a problem that files are modified after just looking at them.</z><z id="t1461299381" t="cfleming Maybe, but it’s clunky."><y>#</y><d>2016-04-22</d><h>04:29</h><w>cfleming</w>Maybe, but it’s clunky.</z><z id="t1461299402" t="cfleming IntelliJ maintains history of all file modifications, and that would show up there."><y>#</y><d>2016-04-22</d><h>04:30</h><w>cfleming</w>IntelliJ maintains history of all file modifications, and that would show up there.</z><z id="t1461299451" t="cfleming I considered doing the action system hook and whitelisting some actions that a user would typically use to navigate between files, but that’s fragile."><y>#</y><d>2016-04-22</d><h>04:30</h><w>cfleming</w>I considered doing the action system hook and whitelisting some actions that a user would typically use to navigate between files, but that’s fragile.</z><z id="t1461299534" t="cfleming (I even considered analysing the bytecode of all actions in the platform to see which ones definitely don’t modify the document, but that’s probably crazy)."><y>#</y><d>2016-04-22</d><h>04:32</h><w>cfleming</w>(I even considered analysing the bytecode of all actions in the platform to see which ones definitely don’t modify the document, but that’s probably crazy).</z><z id="t1461299614" t="shaunlebron java bytecode?"><y>#</y><d>2016-04-22</d><h>04:33</h><w>shaunlebron</w>java bytecode?</z><z id="t1461299618" t="cfleming Yes"><y>#</y><d>2016-04-22</d><h>04:33</h><w>cfleming</w>Yes</z><z id="t1461299627" t="shaunlebron yeah definitely crazy"><y>#</y><d>2016-04-22</d><h>04:33</h><w>shaunlebron</w>yeah definitely crazy</z><z id="t1461299633" t="shaunlebron lol"><y>#</y><d>2016-04-22</d><h>04:33</h><w>shaunlebron</w>lol</z><z id="t1461299635" t="cfleming Or I could potentially use the IntelliJ API to analyse the source."><y>#</y><d>2016-04-22</d><h>04:33</h><w>cfleming</w>Or I could potentially use the IntelliJ API to analyse the source.</z><z id="t1461299747" t="shaunlebron I just don’t have enough context on this to comment one way or the other"><y>#</y><d>2016-04-22</d><h>04:35</h><w>shaunlebron</w>I just don’t have enough context on this to comment one way or the other</z><z id="t1461299754" t="cfleming Yeah, no problem."><y>#</y><d>2016-04-22</d><h>04:35</h><w>cfleming</w>Yeah, no problem.</z><z id="t1461299829" t="shaunlebron is there something else I can help with? I’ve been refocusing on cljs api docs in secret"><y>#</y><d>2016-04-22</d><h>04:37</h><w>shaunlebron</w>is there something else I can help with?  I’ve been refocusing on cljs api docs in secret</z><z id="t1461299974" t="cfleming No, thanks - I’m just patching bugs for the moment. Once I have a hybrid mode to test I’d love some feedback."><y>#</y><d>2016-04-22</d><h>04:39</h><w>cfleming</w>No, thanks - I’m just patching bugs for the moment. Once I have a hybrid mode to test I’d love some feedback.</z><z id="t1461300021" t="cfleming Doing the real-time indentation is tricky to make performant, so not sure when I’ll get that going."><y>#</y><d>2016-04-22</d><h>04:40</h><w>cfleming</w>Doing the real-time indentation is tricky to make performant, so not sure when I’ll get that going.</z><z id="t1461300063" t="shaunlebron i’ve been in Atom for the past couple weeks trying out Parinfer"><y>#</y><d>2016-04-22</d><h>04:41</h><w>shaunlebron</w>i’ve been in Atom for the past couple weeks trying out Parinfer</z><z id="t1461300116" t="shaunlebron I’ll switch to cursive for the next couple weeks to get more familiar with it. will let you know how it goes, and happy to give feedback on others things as they come"><y>#</y><d>2016-04-22</d><h>04:41</h><w>shaunlebron</w>I’ll switch to cursive for the next couple weeks to get more familiar with it.  will let you know how it goes, and happy to give feedback on others things as they come</z><z id="t1461300131" t="shaunlebron real-time indentation?"><y>#</y><d>2016-04-22</d><h>04:42</h><w>shaunlebron</w>real-time indentation?</z><z id="t1461300162" t="cfleming Ok, thanks. I’m going to push a release probably Monday fixing some pretty bad bugs, and I’ll get that 1.8.1 fix in there too."><y>#</y><d>2016-04-22</d><h>04:42</h><w>cfleming</w>Ok, thanks. I’m going to push a release probably Monday fixing some pretty bad bugs, and I’ll get that 1.8.1 fix in there too.</z><z id="t1461300207" t="cfleming I mean, doing something like paren mode which maintains indentation, but having it be aware of semantics, i.e. how different forms need to be indented."><y>#</y><d>2016-04-22</d><h>04:43</h><w>cfleming</w>I mean, doing something like paren mode which maintains indentation, but having it be aware of semantics, i.e. how different forms need to be indented.</z><z id="t1461300225" t="cfleming Like emacs aggressive-indent mode."><y>#</y><d>2016-04-22</d><h>04:43</h><w>cfleming</w>Like emacs aggressive-indent mode.</z><z id="t1461300266" t="shaunlebron ah, yes. that stuff needs to be synchronous if you do it with paren mode. i see what you mean now"><y>#</y><d>2016-04-22</d><h>04:44</h><w>shaunlebron</w>ah, yes.  that stuff needs to be synchronous if you do it with paren mode.  i see what you mean now</z><z id="t1461300289" t="shaunlebron i have to jet, getting late"><y>#</y><d>2016-04-22</d><h>04:44</h><w>shaunlebron</w>i have to jet, getting late</z><z id="t1461300298" t="shaunlebron catch up soon"><y>#</y><d>2016-04-22</d><h>04:44</h><w>shaunlebron</w>catch up soon</z><z id="t1461300324" t="cfleming Seeya"><y>#</y><d>2016-04-22</d><h>04:45</h><w>cfleming</w>Seeya</z><z id="t1462220834" t="sekao i wrote a little library that uses reader conditionals to provide a common wrapper around parinfer.js and parinfer-jvm. that isn’t inherently all that useful, but it also provides a very long and ugly function i wrote to fix indentation after running indent mode, in case it helps anyone: https://github.com/oakes/cross-parinfer"><y>#</y><d>2016-05-02</d><h>20:27</h><w>sekao</w>i wrote a little library that uses reader conditionals to provide a common wrapper around parinfer.js and parinfer-jvm. that isn’t inherently all that useful, but it also provides a very long and ugly function i wrote to fix indentation after running indent mode, in case it helps anyone: <a href="https://github.com/oakes/cross-parinfer" target="_blank">https://github.com/oakes/cross-parinfer</a></z><z id="t1462223353" t="shaunlebron thanks [:attrs {:href &quot;/_/_/users/U080181PF&quot;}]"><y>#</y><d>2016-05-02</d><h>21:09</h><w>shaunlebron</w>thanks <a>@sekao</a></z><z id="t1462223374" t="shaunlebron i’m not sure about the state of cljsjs.parinfer, which I see you’re using"><y>#</y><d>2016-05-02</d><h>21:09</h><w>shaunlebron</w>i’m not sure about the state of cljsjs.parinfer, which I see you’re using</z><z id="t1462223399" t="shaunlebron i haven’t been updating it because it doesn’t work on Node I believe"><y>#</y><d>2016-05-02</d><h>21:09</h><w>shaunlebron</w>i haven’t been updating it because it doesn’t work on Node I believe</z><z id="t1462223682" t="shaunlebron how is the perf of the add-indent function?"><y>#</y><d>2016-05-02</d><h>21:14</h><w>shaunlebron</w>how is the perf of the <code>add-indent</code> function?</z><z id="t1462223735" t="shaunlebron (i’ve been pausing work on parinfer to focus on #C13B4NQDP and #C13GGUX45)"><y>#</y><d>2016-05-02</d><h>21:15</h><w>shaunlebron</w>(i’ve been pausing work on parinfer to focus on #C13B4NQDP and #C13GGUX45)</z><z id="t1462223756" t="shaunlebron and a little bit of #C13PVDWLF"><y>#</y><d>2016-05-02</d><h>21:15</h><w>shaunlebron</w>and a little bit of #C13PVDWLF</z><z id="t1462225556" t="sekao [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] I submitted an update to cljsjs.parinfer this morning so it&apos;s using 1.8.1. I forgot to update the comment in the externs file though, not sure if that matters"><y>#</y><d>2016-05-02</d><h>21:45</h><w>sekao</w><a>@shaunlebron</a> I submitted an update to cljsjs.parinfer this morning so it&apos;s using 1.8.1. I forgot to update the comment in the externs file though, not sure if that matters</z><z id="t1462225655" t="sekao The perf is probably not great but it&apos;s not a bottleneck for me. paren-soup is slow as a dog right now but that&apos;s because it&apos;s processing and replacing the full text on every keystroke, gotta figure out how to avoid doing that"><y>#</y><d>2016-05-02</d><h>21:47</h><w>sekao</w>The perf is probably not great but it&apos;s not a bottleneck for me. paren-soup is slow as a dog right now but that&apos;s because it&apos;s processing and replacing the full text on every keystroke, gotta figure out how to avoid doing that</z><z id="t1462708273" t="escherize Kudos to you guys on getting parinfer into Mancy - I&apos;m messing around with it and it&apos;s great so far"><y>#</y><d>2016-05-08</d><h>11:51</h><w>escherize</w>Kudos to you guys on getting parinfer into Mancy - I&apos;m messing around with it and it&apos;s great so far</z><z id="t1464400179" t="ericlavigne Anyone know how to turn parinfer off in nightcode? I feel like I&apos;m fighting it too much."><y>#</y><d>2016-05-28</d><h>01:49</h><w>ericlavigne</w>Anyone know how to turn parinfer off in nightcode? I feel like I&apos;m fighting it too much.</z><z id="t1464458836" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0CKHFBKQ&quot;}] : thats a question for [:attrs {:href &quot;/_/_/users/U080181PF&quot;}] "><y>#</y><d>2016-05-28</d><h>18:07</h><w>shaunlebron</w><a>@ericlavigne</a>:  thats a question for <a>@sekao</a> </z><z id="t1464459039" t="ericlavigne Thanks. I spoke with sekao via direct message last night. For now there is no way to turn off parinfer in NightCode. That may change in the future."><y>#</y><d>2016-05-28</d><h>18:10</h><w>ericlavigne</w>Thanks. I spoke with sekao via direct message last night. For now there is no way to turn off parinfer in NightCode. That may change in the future.</z><z id="t1465297395" t="spfeiffer Hi guys. I am no expert in elisp, but i would like to get parinfer going in emacs. Anyone lucky with that?"><y>#</y><d>2016-06-07</d><h>11:03</h><w>spfeiffer</w>Hi guys. I am no expert in elisp, but i would like to get parinfer going in emacs. Anyone lucky with that?</z><z id="t1465297447" t="spfeiffer I went with https://github.com/joodie/parinfer-mode as a starting point, as he has two fixes that are not merged in https://github.com/edpaget/parinfer-mode"><y>#</y><d>2016-06-07</d><h>11:04</h><w>spfeiffer</w>I went with <a href="https://github.com/joodie/parinfer-mode" target="_blank">https://github.com/joodie/parinfer-mode</a> as a starting point, as he has two fixes that are not merged in <a href="https://github.com/edpaget/parinfer-mode" target="_blank">https://github.com/edpaget/parinfer-mode</a></z><z id="t1465297558" t="spfeiffer I loaded the parinfor-mode.el file, evaluated it, executed M-x parinfer-mode on a lisp buffer, have parinfer in my mode line, but it seems to do nothing. No shuffling around forms when indenting."><y>#</y><d>2016-06-07</d><h>11:05</h><w>spfeiffer</w>I loaded the parinfor-mode.el file, evaluated it, executed <code>M-x parinfer-mode</code> on a lisp buffer, have <code>parinfer</code> in my mode line, but it seems to do nothing. No shuffling around forms when indenting.</z><z id="t1465297640" t="spfeiffer I also manually deactivated smart parens minor mode which is active by default in https://github.com/bbatsov/prelude but no change"><y>#</y><d>2016-06-07</d><h>11:07</h><w>spfeiffer</w>I also manually deactivated smart parens minor mode which is active by default in <a href="https://github.com/bbatsov/prelude" target="_blank">https://github.com/bbatsov/prelude</a> but no change</z><z id="t1465297670" t="spfeiffer Anyone made parinfer-mode work in Emacs?"><y>#</y><d>2016-06-07</d><h>11:07</h><w>spfeiffer</w>Anyone made parinfer-mode work in Emacs?</z><z id="t1465298052" t="spfeiffer Ah, it starts up in parens-mode, that explains."><y>#</y><d>2016-06-07</d><h>11:14</h><w>spfeiffer</w>Ah, it starts up in parens-mode, that explains.</z><z id="t1465298938" t="spfeiffer No, its not. It is calling indent mode, but obviously &lt;TAB&gt; gets swallowed or routed elsewhere or who-knows-what. So the problem seems to be more general-emacs-related than parinfer-related. Sorry for getting that wrong in the first place."><y>#</y><d>2016-06-07</d><h>11:28</h><w>spfeiffer</w>No, its not. It is calling indent mode, but obviously &lt;TAB&gt; gets swallowed or routed elsewhere or who-knows-what. So the problem seems to be more general-emacs-related than parinfer-related. Sorry for getting that wrong in the first place.</z><z id="t1466532758" t="sekao hey everyone. i just released paren-soup 2.1.0, which now is able to behave as a self-hosted cljs REPL with parinfer! check it out: https://oakes.github.io/paren-soup/repl.html"><y>#</y><d>2016-06-21</d><h>18:12</h><w>sekao</w>hey everyone. i just released paren-soup 2.1.0, which now is able to behave as a self-hosted cljs REPL with parinfer! check it out: <a href="https://oakes.github.io/paren-soup/repl.html" target="_blank">https://oakes.github.io/paren-soup/repl.html</a></z><z id="t1466740628" t="shaunlebron awesome, it’s zippy 👍"><y>#</y><d>2016-06-24</d><h>03:57</h><w>shaunlebron</w>awesome, it’s zippy <b>👍</b></z><z id="t1467383342" t="sekao somewhat off topic but i finally got around to implementing the “highlight the form that your cursor is currently inside of” idea that we discussed a while ago, i really like it 🙂 you can try it here: https://oakes.github.io/paren-soup/"><y>#</y><d>2016-07-01</d><h>14:29</h><w>sekao</w>somewhat off topic but i finally got around to implementing the “highlight the form that your cursor is currently inside of” idea that we discussed a while ago, i really like it <b>🙂</b> you can try it here: <a href="https://oakes.github.io/paren-soup/" target="_blank">https://oakes.github.io/paren-soup/</a></z><z id="t1467384442" t="snoe that&apos;s really cool [:attrs {:href &quot;/_/_/users/U080181PF&quot;}]"><y>#</y><d>2016-07-01</d><h>14:47</h><w>snoe</w>that&apos;s really cool <a>@sekao</a></z><z id="t1467429101" t="cfleming [:attrs {:href &quot;/_/_/users/U080181PF&quot;}] : It’s very nice that it uses the rainbow paren colour, nice touch."><y>#</y><d>2016-07-02</d><h>03:11</h><w>cfleming</w><a>@sekao</a>: It’s very nice that it uses the rainbow paren colour, nice touch.</z><z id="t1467429131" t="cfleming I’m considering doing the same for Cursive, but I think for if forms I’m going to subtly highlight the then/else branches, perhaps with green/red"><y>#</y><d>2016-07-02</d><h>03:12</h><w>cfleming</w>I’m considering doing the same for Cursive, but I think for <code>if</code> forms I’m going to subtly highlight the then/else branches, perhaps with green/red</z><z id="t1467429157" t="cfleming Which will hopefully stop me mistakenly using when when I really want if"><y>#</y><d>2016-07-02</d><h>03:12</h><w>cfleming</w>Which will hopefully stop me mistakenly using <code>when</code> when I really want <code>if</code></z><z id="t1467471134" t="sekao [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : neat idea. my next big goal is to see if I can implement semantic highlighting in paren-soup. Seems like it should be fairly easy but I could be wrong. it would be especially cool to use color or weight to distinguish fns and macros"><y>#</y><d>2016-07-02</d><h>14:52</h><w>sekao</w><a>@cfleming</a>: neat idea. my next big goal is to see if I can implement semantic highlighting in paren-soup. Seems like it should be fairly easy but I could be wrong. it would be especially cool to use color or weight to distinguish fns and macros</z><z id="t1467581982" t="wilkerlucio [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : I would love to see this highlight feature on Cursive 🙂"><y>#</y><d>2016-07-03</d><h>21:39</h><w>wilkerlucio</w><a>@cfleming</a>: I would love to see this highlight feature on Cursive <b>🙂</b></z><z id="t1469901578" t="greenhorse Are there any plans to add parinfer to http://web.clojurerepl.com ?"><y>#</y><d>2016-07-30</d><h>17:59</h><w>greenhorse</w>Are there  any plans to add parinfer to <a href="http://web.clojurerepl.com" target="_blank">http://web.clojurerepl.com</a> ?</z><z id="t1470013348" t="sekao [:attrs {:href &quot;/_/_/users/U1QBK5SDU&quot;}] : not sure about that site in particular but i implemented an instarepl with parinfer here in case you’re interested: https://oakes.github.io/paren-soup/"><y>#</y><d>2016-08-01</d><h>01:02</h><w>sekao</w><a>@greenhorse</a>: not sure about that site in particular but i implemented an instarepl with parinfer here in case you’re interested: <a href="https://oakes.github.io/paren-soup/" target="_blank">https://oakes.github.io/paren-soup/</a></z><z id="t1470063559" t="greenhorse Nice ! Glad that I asked 🙂"><y>#</y><d>2016-08-01</d><h>14:59</h><w>greenhorse</w>Nice !  Glad that I asked <b>🙂</b></z><z id="t1470942346" t="Jakub Holý (HolyJak) Hello, I have a problem with parinfer (or its config in #C0744GXCJ?), likely I am just misunderstanding how to use it. I am trying to comment out a form using #_ and this happens: 1. Before (do (print &quot;hi&quot;)) 2. After typing #_ : #_(do) (print &quot;hi&quot;) I have expected the whole form to be commented out. Instead, parinfer moved parens so that just the first &quot;line&quot; is commented out. Is that a bug? Is there a better way to do this? Thank you!"><y>#</y><d>2016-08-11</d><h>19:05</h><w>Jakub Holý (HolyJak)</w>Hello, I have a problem with parinfer (or its config in #C0744GXCJ?), likely I am just misunderstanding how to use it. I am trying to comment out a form using <code>#_</code> and this happens:
1. Before <pre>(do
  (print &quot;hi&quot;))</pre>
2. After typing <code>#_</code>: <pre>#_(do)
  (print &quot;hi&quot;)</pre>
I have expected the whole form to be commented out. Instead, parinfer moved parens so that just the first &quot;line&quot; is commented out. Is that a bug? Is there a better way to do this? Thank you!</z><z id="t1470942849" t="snoe [:attrs {:href &quot;/_/_/users/U0522TWDA&quot;}] : for edits like that, you want to be in paren-mode. however I got in the habit of adding the #_ on the line above"><y>#</y><d>2016-08-11</d><h>19:14</h><w>snoe</w><a>@holyjak</a>: for edits like that, you want to be in paren-mode. however I got in the habit of adding the <code>#_</code> on the line above</z><z id="t1470943166" t="Jakub Holý (HolyJak) Thanks! I would prefer avoid switching modes 😞"><y>#</y><d>2016-08-11</d><h>19:19</h><w>Jakub Holý (HolyJak)</w>Thanks! I would prefer avoid switching modes <b>😞</b></z><z id="t1470944432" t="Jakub Holý (HolyJak) I would have expected that commenting out a form in this way should be possible even in parinfer. Perhaps it needs to learn that #_ is a &quot;part&quot; of the ( ?"><y>#</y><d>2016-08-11</d><h>19:40</h><w>Jakub Holý (HolyJak)</w>I would have expected that commenting out a form in this way should be possible even in parinfer. Perhaps it needs to learn that <code>#_</code> is a &quot;part&quot; of the <code>(</code>?</z><z id="t1470960644" t="cfleming [:attrs {:href &quot;/_/_/users/U0522TWDA&quot;}] : This is one of the most annoying things about parinfer in Cursive right now, yes. I’m planning to experiment with fixes for this soon, that hopefully won’t involve switching modes."><y>#</y><d>2016-08-12</d><h>00:10</h><w>cfleming</w><a>@holyjak</a>: This is one of the most annoying things about parinfer in Cursive right now, yes. I’m planning to experiment with fixes for this soon, that hopefully won’t involve switching modes.</z><z id="t1470960688" t="cfleming But sadly, the only fix right now is to manually reindent following lines."><y>#</y><d>2016-08-12</d><h>00:11</h><w>cfleming</w>But sadly, the only fix right now is to manually reindent following lines.</z><z id="t1471036377" t="sekao i bet there’s a way i can look at the cursor and enable paren-mode if the code after that line starts after the cursor’s column. or something like that… is that basically what you’re thinking of [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] ? haven’t thought through it at all but i’m intrigued..."><y>#</y><d>2016-08-12</d><h>21:12</h><w>sekao</w>i bet there’s a way i can look at the cursor and enable paren-mode if the code after that line starts after the cursor’s column. or something like that… is that basically what you’re thinking of <a>@cfleming</a>? haven’t thought through it at all but i’m intrigued...</z></g><g id="s11"><z id="t1471054537" t="bstahlman Was reading section on &quot;Adding parinfer to an editor&quot; (on npmjs site), and was wondering about 5. Use Tab Stops: specifically, the handling of indent/dedent. What seemed odd to me is that the unin/de-dented text is passed to the indentMode function in step 1, and there&apos;s nothing that would recalculate parens once you&apos;ve applied the indent/dedent in step 2. Why doesn&apos;t the indent/dedent need to be performed prior to the call to indentMode?"><y>#</y><d>2016-08-13</d><h>02:15</h><w>bstahlman</w>Was reading section on &quot;Adding parinfer to an editor&quot; (on npmjs site), and was wondering about 5. Use Tab Stops: specifically, the handling of indent/dedent. What seemed odd to me is that the unin/de-dented text is passed to the indentMode function in step 1, and there&apos;s nothing that would recalculate parens once you&apos;ve applied the indent/dedent in step 2. Why doesn&apos;t the indent/dedent need to be performed prior to the call to indentMode?</z><z id="t1471249187" t="Jakub Holý (HolyJak) I have another problem/question regarding parinfer in cursive - typing on a new line works, pasting not: START situation: (do) | When typing, to works: (do xy|) When pasting, it does not - the (xy) function call that I have pasted isn&apos;t put into the do block but ends up as a top-level statement: (do) (xy)|"><y>#</y><d>2016-08-15</d><h>08:19</h><w>Jakub Holý (HolyJak)</w>I have another problem/question regarding parinfer in cursive - typing on a new line works, pasting not:

START situation:<pre>(do)
  |</pre>

When typing, to works:<pre>(do
  xy|)</pre>

When pasting, it does not - the <code>(xy)</code> function call that I have pasted isn&apos;t put into the do block but ends up as a top-level statement: <pre>(do)
(xy)|</pre></z><z id="t1471256483" t="cfleming [:attrs {:href &quot;/_/_/users/U0522TWDA&quot;}] : Yes, that and the other issue you mentioned are the main two problems with parinfer in Cursive. The pasting issue you mention is IntelliJ trying to indent the code automatically after pasting. It’s generally what you want except in parinfer mode, I have to investigate if I can turn that off."><y>#</y><d>2016-08-15</d><h>10:21</h><w>cfleming</w><a>@holyjak</a>: Yes, that and the other issue you mentioned are the main two problems with parinfer in Cursive. The pasting issue you mention is IntelliJ trying to indent the code automatically after pasting. It’s generally what you want except in parinfer mode, I have to investigate if I can turn that off.</z><z id="t1471300429" t="cfleming [:attrs {:href &quot;/_/_/users/U080181PF&quot;}] : I’m planning something more complicated. I’m planning to try for a hybrid mode, which auto indents like paren mode but takes semantics into account, and also fixes up parens like indent mode. I’m not sure it’ll work yet, but if it does I think it’ll be a good compromise. It will only work locally, i.e. it will only affect the largest surrounding matched pair, not the whole file, which will mean no longer needing to run paren mode over the whole file on open."><y>#</y><d>2016-08-15</d><h>22:33</h><w>cfleming</w><a>@sekao</a>: I’m planning something more complicated. I’m planning to try for a hybrid mode, which auto indents like paren mode but takes semantics into account, and also fixes up parens like indent mode. I’m not sure it’ll work yet, but if it does I think it’ll be a good compromise. It will only work locally, i.e. it will only affect the largest surrounding matched pair, not the whole file, which will mean no longer needing to run paren mode over the whole file on open.</z><z id="t1471311199" t="escherize Looking forward to see what comes of your experimenting [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}]"><y>#</y><d>2016-08-16</d><h>01:33</h><w>escherize</w>Looking forward to see what comes of your experimenting <a>@cfleming</a></z><z id="t1471440035" t="Jakub Holý (HolyJak) I have yet another problem with parinfer/Cursive: 1. START: |(doto nil (.someMethod)) 2. TYPE (do&lt;enter&gt; where the | cursor is =&gt; you get: (do |(doto nil) (.someMethod)) ; &lt;-- this has lost the correct indentation and moved out of its parent sexp! But I EXPECTED: (do |(doto nil (.someMethod)))"><y>#</y><d>2016-08-17</d><h>13:20</h><w>Jakub Holý (HolyJak)</w>I have yet another problem with parinfer/Cursive:
1. START:
<pre>|(doto nil
  (.someMethod))</pre>

2. TYPE <code>(do&lt;enter&gt;</code> where the <code>|</code> cursor is =&gt; you get:
<pre>(do
 |(doto nil)
  (.someMethod)) ; &lt;-- this has lost the correct indentation and moved out of its parent sexp!</pre>
But I EXPECTED:
<pre>(do
  |(doto nil
    (.someMethod)))</pre></z><z id="t1471456148" t="shaunlebron thanks [:attrs {:href &quot;/_/_/users/U0522TWDA&quot;}] , due to related problems, I’ve planned for a well-formed way to preserve the AST when enter is pressed"><y>#</y><d>2016-08-17</d><h>17:49</h><w>shaunlebron</w>thanks <a>@holyjak</a>, due to related problems, I’ve planned for a well-formed way to preserve the AST when enter is pressed</z><z id="t1471456207" t="shaunlebron that’s actually an example I hadn’t considered, but is a great example of why pressing enter should not break the AST"><y>#</y><d>2016-08-17</d><h>17:50</h><w>shaunlebron</w>that’s actually an example I hadn’t considered, but is a great example of why pressing enter should not break the AST</z><z id="t1471456214" t="Jakub Holý (HolyJak) I think that parinfer will be really awesome when these &quot;small&quot; inconveniences are overcome!"><y>#</y><d>2016-08-17</d><h>17:50</h><w>Jakub Holý (HolyJak)</w>I think that parinfer will be really awesome when these &quot;small&quot; inconveniences are overcome!</z><z id="t1471456267" t="shaunlebron there are some warts that will be hard to solve, but this is not one of them 👍"><y>#</y><d>2016-08-17</d><h>17:51</h><w>shaunlebron</w>there are some warts that will be hard to solve, but this is not one of them <b>👍</b></z><z id="t1471456292" t="shaunlebron will add this example to the plan here: https://github.com/shaunlebron/parinfer/issues/98"><y>#</y><d>2016-08-17</d><h>17:51</h><w>shaunlebron</w>will add this example to the plan here: <a href="https://github.com/shaunlebron/parinfer/issues/98" target="_blank">https://github.com/shaunlebron/parinfer/issues/98</a></z><z id="t1471709114" t="tianshu which editor has a good support for parinfer?"><y>#</y><d>2016-08-20</d><h>16:05</h><w>tianshu</w>which editor has a good support for parinfer?</z><z id="t1471709164" t="shaunlebron none are perfect"><y>#</y><d>2016-08-20</d><h>16:06</h><w>shaunlebron</w>none are perfect</z><z id="t1471709169" t="shaunlebron i’d recommend atom and cursive"><y>#</y><d>2016-08-20</d><h>16:06</h><w>shaunlebron</w>i’d recommend atom and cursive</z><z id="t1471709203" t="shaunlebron I think vim’s implementation is also good, though I haven’t checked in a long time"><y>#</y><d>2016-08-20</d><h>16:06</h><w>shaunlebron</w>I think vim’s implementation is also good, though I haven’t checked in a long time</z><z id="t1471709302" t="tianshu parinfer in atom seems can not calculate indent correctly when I start a newline."><y>#</y><d>2016-08-20</d><h>16:08</h><w>tianshu</w>parinfer in atom seems can not calculate indent correctly when I start a newline.</z><z id="t1471709348" t="tianshu and I think something like aggressive-indent-mode in emacs is necessary? otherwise some case I have adjust indent manually."><y>#</y><d>2016-08-20</d><h>16:09</h><w>tianshu</w>and I think something like <code>aggressive-indent-mode</code> in emacs is necessary? otherwise some case I have adjust indent manually.</z><z id="t1471709430" t="shaunlebron atom’s support for indentation is pretty bad"><y>#</y><d>2016-08-20</d><h>16:10</h><w>shaunlebron</w>atom’s support for indentation is pretty bad</z><z id="t1471709457" t="shaunlebron it relies on regex grammar for some reason, which makes it pretty hard to get indentation right on newline"><y>#</y><d>2016-08-20</d><h>16:10</h><w>shaunlebron</w>it relies on regex grammar for some reason, which makes it pretty hard to get indentation right on newline</z><z id="t1471709545" t="tianshu it&apos;s really hard to find a good editor for clojure with all features work perfectly"><y>#</y><d>2016-08-20</d><h>16:12</h><w>tianshu</w>it&apos;s really hard to find a good editor for clojure with all features work perfectly</z><z id="t1471709602" t="shaunlebron i bet nightcode works really well"><y>#</y><d>2016-08-20</d><h>16:13</h><w>shaunlebron</w>i bet nightcode works really well</z><z id="t1471709677" t="shaunlebron i can’t speak for other clojure features, but parinfer’s implementation has been limited a lot by editor APIs"><y>#</y><d>2016-08-20</d><h>16:14</h><w>shaunlebron</w>i can’t speak for other clojure features, but parinfer’s implementation has been limited a lot by editor APIs</z><z id="t1471709694" t="shaunlebron they’re just not prepared for the fine control it needs"><y>#</y><d>2016-08-20</d><h>16:14</h><w>shaunlebron</w>they’re just not prepared for the fine control it needs</z><z id="t1471709742" t="shaunlebron there are other problems that are not the editor’s fault too, some design problems I overlooked in the initial design"><y>#</y><d>2016-08-20</d><h>16:15</h><w>shaunlebron</w>there are other problems that are not the editor’s fault too, some design problems I overlooked in the initial design</z><z id="t1471709841" t="tianshu why not write a editor with built-in ast support? I mean save code as ast instead of plain text? I saw someone made demo, but they didn&apos;t continue their work."><y>#</y><d>2016-08-20</d><h>16:17</h><w>tianshu</w>why not write a editor with built-in ast support? I mean save code as ast instead  of plain text? I saw someone made demo, but they didn&apos;t continue their work.</z><z id="t1471709891" t="shaunlebron Cirru I think is a leading example of that idea"><y>#</y><d>2016-08-20</d><h>16:18</h><w>shaunlebron</w>Cirru I think is a leading example of that idea</z><z id="t1471709910" t="tianshu Cirru?"><y>#</y><d>2016-08-20</d><h>16:18</h><w>tianshu</w>Cirru?</z><z id="t1471709946" t="shaunlebron he’s building an AST editor http://cirru.org/"><y>#</y><d>2016-08-20</d><h>16:19</h><w>shaunlebron</w>he’s building an AST editor <a href="http://cirru.org/" target="_blank">http://cirru.org/</a></z><z id="t1471709970" t="shaunlebron it just won’t be popular in the clojure community because he’s getting rid of parens to do so"><y>#</y><d>2016-08-20</d><h>16:19</h><w>shaunlebron</w>it just won’t be popular in the clojure community because he’s getting rid of parens to do so</z><z id="t1471710000" t="shaunlebron and the problem with outputting AST is that people still want text files for collaboration"><y>#</y><d>2016-08-20</d><h>16:20</h><w>shaunlebron</w>and the problem with outputting AST is that people still want text files for collaboration</z><z id="t1471710097" t="tianshu convert plain text to AST after reading file, and convert AST to plain text before saving file"><y>#</y><d>2016-08-20</d><h>16:21</h><w>tianshu</w>convert plain text  to AST after reading file, and convert AST to plain text before saving file</z><z id="t1471710175" t="shaunlebron oh, i guess it’s possible if you save spacing information"><y>#</y><d>2016-08-20</d><h>16:22</h><w>shaunlebron</w>oh, i guess it’s possible if you save spacing information</z><z id="t1471710241" t="tianshu does parinfer use AST?"><y>#</y><d>2016-08-20</d><h>16:24</h><w>tianshu</w>does parinfer use AST?</z><z id="t1471710255" t="tianshu what&apos;s the struct it use?"><y>#</y><d>2016-08-20</d><h>16:24</h><w>tianshu</w>what&apos;s the struct it use?</z><z id="t1471710273" t="shaunlebron it uses a minimal one that tries to be compatible with different lisp dialects"><y>#</y><d>2016-08-20</d><h>16:24</h><w>shaunlebron</w>it uses a minimal one that tries to be compatible with different lisp dialects</z><z id="t1471710319" t="shaunlebron like, it has a paren stack, knows about comments and strings and escaped characters, I think that’s it"><y>#</y><d>2016-08-20</d><h>16:25</h><w>shaunlebron</w>like, it has a paren stack, knows about comments and strings and escaped characters, I think that’s it</z><z id="t1471710359" t="shaunlebron it does a fast read over the whole file everytime it’s processed"><y>#</y><d>2016-08-20</d><h>16:25</h><w>shaunlebron</w>it does a fast read over the whole file everytime it’s processed</z><z id="t1471710367" t="shaunlebron is that your question?"><y>#</y><d>2016-08-20</d><h>16:26</h><w>shaunlebron</w>is that your question?</z><z id="t1471710371" t="tianshu yes."><y>#</y><d>2016-08-20</d><h>16:26</h><w>tianshu</w>yes.</z><z id="t1471710381" t="tianshu that&apos;s it."><y>#</y><d>2016-08-20</d><h>16:26</h><w>tianshu</w>that&apos;s it.</z><z id="t1471710395" t="shaunlebron yeah, it would be impossible otherwise"><y>#</y><d>2016-08-20</d><h>16:26</h><w>shaunlebron</w>yeah, it would be impossible otherwise</z><z id="t1471710407" t="tianshu does it save spacing information or align information?"><y>#</y><d>2016-08-20</d><h>16:26</h><w>tianshu</w>does it save spacing information or align information?</z><z id="t1471710436" t="tianshu {:a 10 :long 20} "><y>#</y><d>2016-08-20</d><h>16:27</h><w>tianshu</w><pre>{:a   10
 :long 20}
</pre></z><z id="t1471710460" t="shaunlebron parinfer would preserve that, but not because it’s tracking it"><y>#</y><d>2016-08-20</d><h>16:27</h><w>shaunlebron</w>parinfer would preserve that, but not because it’s tracking it</z><z id="t1471710486" t="shaunlebron it only modifies close-parens, with exception to some trailing spaces behind them"><y>#</y><d>2016-08-20</d><h>16:28</h><w>shaunlebron</w>it only modifies close-parens, with exception to some trailing spaces behind them</z><z id="t1471710508" t="shaunlebron let me correct what i said about AST"><y>#</y><d>2016-08-20</d><h>16:28</h><w>shaunlebron</w>let me correct what i said about AST</z><z id="t1471710550" t="shaunlebron it doesn’t remember the AST at the end of the run, it’s like a reader state that is mutated after every line"><y>#</y><d>2016-08-20</d><h>16:29</h><w>shaunlebron</w>it doesn’t remember the AST at the end of the run, it’s like a reader state that is mutated after every line</z><z id="t1471710665" t="tianshu so It doesn&apos;t have to parse code to AST, instead it just mutate the state when typing?"><y>#</y><d>2016-08-20</d><h>16:31</h><w>tianshu</w>so It doesn&apos;t have to parse code to AST, instead it just mutate the state when typing?</z><z id="t1471710767" t="shaunlebron for example, if the reader is currently at line 180 of the file, it had to parse lines 0-179"><y>#</y><d>2016-08-20</d><h>16:32</h><w>shaunlebron</w>for example, if the reader is currently at line 180 of the file, it had to parse lines 0-179</z><z id="t1471710787" t="shaunlebron but the paren stack could be empty at 180"><y>#</y><d>2016-08-20</d><h>16:33</h><w>shaunlebron</w>but the paren stack could be empty at 180</z><z id="t1471710801" t="shaunlebron it doesn’t remember the states of the paren stack before then"><y>#</y><d>2016-08-20</d><h>16:33</h><w>shaunlebron</w>it doesn’t remember the states of the paren stack before then</z><z id="t1471710816" t="shaunlebron it doesn’t track an AST, but it still reads and remember what it needs from the file"><y>#</y><d>2016-08-20</d><h>16:33</h><w>shaunlebron</w>it doesn’t track an AST, but it still reads and remember what it needs from the file</z><z id="t1471710838" t="shaunlebron the former paren stack is irrelevant to it, so it doesn’t produce an AST"><y>#</y><d>2016-08-20</d><h>16:33</h><w>shaunlebron</w>the former paren stack is irrelevant to it, so it doesn’t produce an AST</z><z id="t1471710849" t="tianshu will this have a performance issue when there&apos;s so many lines?"><y>#</y><d>2016-08-20</d><h>16:34</h><w>tianshu</w>will this have a performance issue when there&apos;s so many lines?</z><z id="t1471710924" t="shaunlebron we’ve run perf tests in both js and jvm"><y>#</y><d>2016-08-20</d><h>16:35</h><w>shaunlebron</w>we’ve run perf tests in both js and jvm</z><z id="t1471710934" t="shaunlebron it seems really fast"><y>#</y><d>2016-08-20</d><h>16:35</h><w>shaunlebron</w>it seems really fast</z><z id="t1471710944" t="tianshu ok"><y>#</y><d>2016-08-20</d><h>16:35</h><w>tianshu</w>ok</z><z id="t1471710956" t="shaunlebron i forget the numbers, but the repos have the perf commands documented if you want to try"><y>#</y><d>2016-08-20</d><h>16:35</h><w>shaunlebron</w>i forget the numbers, but the repos have the perf commands documented if you want to try</z><z id="t1471711044" t="tianshu really appreciate for your answers"><y>#</y><d>2016-08-20</d><h>16:37</h><w>tianshu</w>really appreciate for your answers</z><z id="t1471711141" t="shaunlebron 👍"><y>#</y><d>2016-08-20</d><h>16:39</h><w>shaunlebron</w><b>👍</b></z><z id="t1471711247" t="tianshu I&apos;m thinking about a editor written in React, with built-in AST support, for each command, simply modify the AST, let React redraw the code in UI. as it rendering code according to clojure indent guide style, so we will never have to indent code manually."><y>#</y><d>2016-08-20</d><h>16:40</h><w>tianshu</w>I&apos;m thinking about a editor written in React, with built-in AST support, for each command, simply modify the AST, let React redraw the code in UI. as it rendering code according to clojure indent guide style, so we will never have to indent code manually.</z><z id="t1471711350" t="shaunlebron you mean it would aggressively apply cljfmt? https://github.com/weavejester/cljfmt"><y>#</y><d>2016-08-20</d><h>16:42</h><w>shaunlebron</w>you mean it would aggressively apply cljfmt? <a href="https://github.com/weavejester/cljfmt" target="_blank">https://github.com/weavejester/cljfmt</a></z><z id="t1471711514" t="tianshu yes, need a library like this."><y>#</y><d>2016-08-20</d><h>16:45</h><w>tianshu</w>yes, need a library like this.</z><z id="t1471711614" t="tianshu It seems there are many indent style in clojure. I saw a git repo https://github.com/bbatsov/clojure-style-guide the indentation is really complex, and editors such as nightcode, lighttable are not indent this way."><y>#</y><d>2016-08-20</d><h>16:46</h><w>tianshu</w>It seems there are many indent style in clojure.
I saw a git repo
<a href="https://github.com/bbatsov/clojure-style-guide" target="_blank">https://github.com/bbatsov/clojure-style-guide</a>
the indentation is really complex, and editors such as nightcode, lighttable are not indent this way.</z><z id="t1471711615" t="shaunlebron reason sort of has a tool like that: https://facebook.github.io/reason/tools.html"><y>#</y><d>2016-08-20</d><h>16:46</h><w>shaunlebron</w>reason sort of has a tool like that: <a href="https://facebook.github.io/reason/tools.html" target="_blank">https://facebook.github.io/reason/tools.html</a></z><z id="t1471711665" t="shaunlebron &gt; It seems there are many indent style in clojure. I agree, people tend to favor different styles"><y>#</y><d>2016-08-20</d><h>16:47</h><w>shaunlebron</w>&gt; It seems there are many indent style in clojure.
I agree, people tend to favor different styles</z><z id="t1471711718" t="shaunlebron (something foo bar) (something foo bar) "><y>#</y><d>2016-08-20</d><h>16:48</h><w>shaunlebron</w><pre>(something foo
  bar)

(something foo
           bar)
</pre></z><z id="t1471711830" t="shaunlebron the clojure style guide is not necessarily a complete description, but it does specify a lot"><y>#</y><d>2016-08-20</d><h>16:50</h><w>shaunlebron</w>the clojure style guide is not necessarily a complete description, but it does specify a lot</z><z id="t1471711920" t="shaunlebron batsov’s is very opinionated, some of the rules are pretty restricting"><y>#</y><d>2016-08-20</d><h>16:52</h><w>shaunlebron</w>batsov’s is very opinionated, some of the rules are pretty restricting</z><z id="t1471712004" t="tianshu which editor you prefer currently?"><y>#</y><d>2016-08-20</d><h>16:53</h><w>tianshu</w>which editor you prefer currently?</z><z id="t1471712010" t="tianshu for daily coding"><y>#</y><d>2016-08-20</d><h>16:53</h><w>tianshu</w>for daily coding</z><z id="t1471712034" t="shaunlebron I’m currently fighting atom"><y>#</y><d>2016-08-20</d><h>16:53</h><w>shaunlebron</w>I’m currently fighting atom</z><z id="t1471712043" t="shaunlebron I came from macvim"><y>#</y><d>2016-08-20</d><h>16:54</h><w>shaunlebron</w>I came from macvim</z><z id="t1471712062" t="shaunlebron i’ve never given emacs an honest chance"><y>#</y><d>2016-08-20</d><h>16:54</h><w>shaunlebron</w>i’ve never given emacs an honest chance</z><z id="t1471712080" t="shaunlebron I write js at my job, and cljs on side"><y>#</y><d>2016-08-20</d><h>16:54</h><w>shaunlebron</w>I write js at my job, and cljs on side</z><z id="t1471712130" t="shaunlebron I don’t use fancy editor debugging or nrepl integration in my editors though"><y>#</y><d>2016-08-20</d><h>16:55</h><w>shaunlebron</w>I don’t use fancy editor debugging or nrepl integration in my editors though</z><z id="t1471712353" t="tianshu i write python in the past, use vim without any debugging, completing. perhaps I should keep it simple, write clojure just with a REPL."><y>#</y><d>2016-08-20</d><h>16:59</h><w>tianshu</w>i write python in the past, use vim without any debugging, completing. perhaps I should keep it simple, write clojure just with a REPL.</z><z id="t1471712374" t="tianshu 😂"><y>#</y><d>2016-08-20</d><h>16:59</h><w>tianshu</w><b>😂</b></z><z id="t1471712427" t="shaunlebron cursive’s features are pretty compelling though!"><y>#</y><d>2016-08-20</d><h>17:00</h><w>shaunlebron</w>cursive’s features are pretty compelling though!</z><z id="t1471712625" t="tianshu don&apos;t like cursive. too heavy"><y>#</y><d>2016-08-20</d><h>17:03</h><w>tianshu</w>don&apos;t like cursive. too heavy</z><z id="t1471712659" t="tianshu It&apos;s midnight now, I&apos;m going to sleep"><y>#</y><d>2016-08-20</d><h>17:04</h><w>tianshu</w>It&apos;s midnight now, I&apos;m going to sleep</z><z id="t1471712662" t="tianshu see u"><y>#</y><d>2016-08-20</d><h>17:04</h><w>tianshu</w>see u</z><z id="t1471712683" t="shaunlebron good night"><y>#</y><d>2016-08-20</d><h>17:04</h><w>shaunlebron</w>good night</z><z id="t1471745748" t="jasongilman [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : if you have any issues developing Clojure in Atom I might be able to help. I use it exclusively for Clojure as do most of the people with which I work. Nothing bad to say about Cursive though. "><y>#</y><d>2016-08-21</d><h>02:15</h><w>jasongilman</w><a>@shaunlebron</a>: if you have any issues developing Clojure in Atom I might be able to help. I use it exclusively for Clojure as do most of the people with which I work. Nothing bad to say about Cursive though. </z><z id="t1471749796" t="cfleming [:attrs {:href &quot;/_/_/users/U0MJD9LKA&quot;}] : Nor I about proto-repl, it looks really nice. I’m jealous of the graphing capabilities."><y>#</y><d>2016-08-21</d><h>03:23</h><w>cfleming</w><a>@jasongilman</a>: Nor I about proto-repl, it looks really nice. I’m jealous of the graphing capabilities.</z><z id="t1471810328" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0MJD9LKA&quot;}] : cool, thanks. the indentation issue is pretty bad"><y>#</y><d>2016-08-21</d><h>20:12</h><w>shaunlebron</w><a>@jasongilman</a>: cool, thanks.  the indentation issue is pretty bad</z><z id="t1471810705" t="shaunlebron pressing enter will only match the indentation of the previous line"><y>#</y><d>2016-08-21</d><h>20:18</h><w>shaunlebron</w>pressing enter will only match the indentation of the previous line</z><z id="t1471810755" t="shaunlebron pasting code will auto-match the indentation of the previous line as well (big complaint from friends who use it for cljs work)"><y>#</y><d>2016-08-21</d><h>20:19</h><w>shaunlebron</w>pasting code will auto-match the indentation of the previous line as well (big complaint from friends who use it for cljs work)</z><z id="t1471820779" t="jasongilman [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] I solved that problem using the lisp paredit plugin and some atom settings. See the instructions here https://gist.github.com/jasongilman/d1f70507bed021b48625"><y>#</y><d>2016-08-21</d><h>23:06</h><w>jasongilman</w><a>@shaunlebron</a> I solved that problem using the lisp paredit plugin and some atom settings. See the instructions here <a href="https://gist.github.com/jasongilman/d1f70507bed021b48625" target="_blank">https://gist.github.com/jasongilman/d1f70507bed021b48625</a></z><z id="t1471820849" t="jasongilman I turn off most of the features of lisp paredit but it does fix the new line issue. This is something I thought Parinfer could handle as well."><y>#</y><d>2016-08-21</d><h>23:07</h><w>jasongilman</w>I turn off most of the features of lisp paredit but it does fix the new line issue. This is something I thought Parinfer could handle as well.</z><z id="t1471969317" t="tianshu is that emacs is the only editor have aggressive-mode?"><y>#</y><d>2016-08-23</d><h>16:21</h><w>tianshu</w>is that emacs is the only editor have aggressive-mode?</z><z id="t1471969911" t="shaunlebron not sure"><y>#</y><d>2016-08-23</d><h>16:31</h><w>shaunlebron</w>not sure</z><z id="t1474477742" t="tianshu For parinfer, for each text modification, is it enough to only compute the current top level s-exp and the previous top-level s-exp? I have write a parinfer-mode in emacs with oakmac/parinfer-elisp and met performance issue. https://github.com/DogLooksGood/parinfer-mode"><y>#</y><d>2016-09-21</d><h>17:09</h><w>tianshu</w>For parinfer, for each text modification, is it enough to only compute the current top level s-exp and the previous top-level s-exp? I have write a parinfer-mode in emacs with oakmac/parinfer-elisp and met performance issue.

<a href="https://github.com/DogLooksGood/parinfer-mode" target="_blank">https://github.com/DogLooksGood/parinfer-mode</a></z><z id="t1474644360" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0NBGRGD6&quot;}] : sorry for late reply, I’ll turn on notifications in this channel"><y>#</y><d>2016-09-23</d><h>15:26</h><w>shaunlebron</w><a>@doglooksgood</a>: sorry for late reply, I’ll turn on notifications in this channel</z><z id="t1474644606" t="shaunlebron you can look at atom-parinfer’s implementation here: https://github.com/oakmac/atom-parinfer/blob/master/src-cljs/atom_parinfer/core.cljs#L309"><y>#</y><d>2016-09-23</d><h>15:30</h><w>shaunlebron</w>you can look at atom-parinfer’s implementation here: <a href="https://github.com/oakmac/atom-parinfer/blob/master/src-cljs/atom_parinfer/core.cljs#L309" target="_blank">https://github.com/oakmac/atom-parinfer/blob/master/src-cljs/atom_parinfer/core.cljs#L309</a></z><z id="t1474644628" t="shaunlebron he uses only the current top level s-exp"><y>#</y><d>2016-09-23</d><h>15:30</h><w>shaunlebron</w>he uses only the current top level s-exp</z><z id="t1474654239" t="tianshu [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] I&apos;ve already solved this problem, the performance is ok. I think this plugin is pretty usable and I&apos;m working on deloy it to melpa."><y>#</y><d>2016-09-23</d><h>18:10</h><w>tianshu</w><a>@shaunlebron</a> I&apos;ve already solved this problem, the performance is ok. I think this plugin is pretty usable and I&apos;m working on deloy it to melpa.</z><z id="t1474654398" t="dominicm I think the vim one does the whole file, with no noticeable performance issues"><y>#</y><d>2016-09-23</d><h>18:13</h><w>dominicm</w>I think the vim one does the whole file, with no noticeable performance issues</z><z id="t1474654428" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0NBGRGD6&quot;}] : great work!"><y>#</y><d>2016-09-23</d><h>18:13</h><w>shaunlebron</w><a>@doglooksgood</a>: great work!</z><z id="t1474654517" t="tianshu If I use whole buffer, process text more than 500 lines, then I can feel the delay."><y>#</y><d>2016-09-23</d><h>18:15</h><w>tianshu</w>If I use whole buffer, process text more than 500 lines, then I can feel the delay.</z><z id="t1474654552" t="tianshu Now I use current top level + previous top level."><y>#</y><d>2016-09-23</d><h>18:15</h><w>tianshu</w>Now I use current top level + previous top level.</z><z id="t1474655067" t="shaunlebron the vim plugin (not nvim) only runs parinfer after you leave insert mode"><y>#</y><d>2016-09-23</d><h>18:24</h><w>shaunlebron</w>the vim plugin (not nvim) only runs parinfer after you leave insert mode</z><z id="t1474655098" t="shaunlebron last i checked anyway"><y>#</y><d>2016-09-23</d><h>18:24</h><w>shaunlebron</w>last i checked anyway</z><z id="t1474655207" t="tianshu I found the aggressive-indent in emacs, actually do the same thing with parinfer paren mode."><y>#</y><d>2016-09-23</d><h>18:26</h><w>tianshu</w>I found the aggressive-indent in emacs, actually do the same thing with parinfer paren mode.</z><z id="t1474655331" t="tianshu The aggressive can also keep indentation when edit code like this (print| hello world) I think this is handy."><y>#</y><d>2016-09-23</d><h>18:28</h><w>tianshu</w>The aggressive can also keep indentation when edit code like this
<pre>(print|    hello
           world)
</pre>
I think this is handy.</z><z id="t1474657082" t="tianshu [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] May I add a link in parinfer homepage for https://github.com/DogLooksGood/parinfer-mode ?"><y>#</y><d>2016-09-23</d><h>18:58</h><w>tianshu</w><a>@shaunlebron</a> May I add a link in parinfer homepage for <a href="https://github.com/DogLooksGood/parinfer-mode" target="_blank">https://github.com/DogLooksGood/parinfer-mode</a> ?</z><z id="t1474658061" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0NBGRGD6&quot;}] : yeah, I’ll take a PR for the readme and the site (I list editor plugins in both places)"><y>#</y><d>2016-09-23</d><h>19:14</h><w>shaunlebron</w><a>@doglooksgood</a>: yeah, I’ll take a PR for the readme and the site (I list editor plugins in both places)</z><z id="t1475143938" t="tianshu How can I find the minimal range of code that should be processed by Parinfer. Maybe it&apos;s a part of the current top level sexp."><y>#</y><d>2016-09-29</d><h>10:12</h><w>tianshu</w>How can I find the minimal range of code that should be processed by Parinfer. Maybe it&apos;s a part of the current top level sexp.</z><z id="t1475166276" t="tianshu solved problem in another way"><y>#</y><d>2016-09-29</d><h>16:24</h><w>tianshu</w>solved problem in another way</z><z id="t1476043043" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0NBGRGD6&quot;}] : nice! 😄"><y>#</y><d>2016-10-09</d><h>19:57</h><w>shaunlebron</w><a>@doglooksgood</a>: nice! <b>😄</b></z><z id="t1476415855" t="tianshu [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] I just have a try on combine Paren Mode and Indent Mode into one mode. Maybe it&apos;s not a good approach in theory, but it&apos;s pretty usable."><y>#</y><d>2016-10-14</d><h>03:30</h><w>tianshu</w><a>@shaunlebron</a> I just have a try on combine Paren Mode and Indent Mode into one mode. Maybe it&apos;s not a good approach in theory, but it&apos;s pretty usable.</z><z id="t1476427464" t="tianshu Errrr. little buggy"><y>#</y><d>2016-10-14</d><h>06:44</h><w>tianshu</w>Errrr. little buggy</z><z id="t1476441631" t="dominicm That looks fun to use."><y>#</y><d>2016-10-14</d><h>10:40</h><w>dominicm</w>That looks fun to use.</z><z id="t1476441645" t="dominicm I found Parinfer to be super Zen. That looks zen+."><y>#</y><d>2016-10-14</d><h>10:40</h><w>dominicm</w>I found Parinfer to be super Zen. That looks zen+.</z><z id="t1476445564" t="tianshu after one day usage, It&apos;s not feel natural enough"><y>#</y><d>2016-10-14</d><h>11:46</h><w>tianshu</w>after one day usage, It&apos;s not feel natural  enough</z><z id="t1476445910" t="tianshu but it solved the problem that I have to switch to Paren Mode when I want wrap an expression into another."><y>#</y><d>2016-10-14</d><h>11:51</h><w>tianshu</w>but it solved the problem that I have to switch to Paren Mode when I want wrap an expression into another.</z><z id="t1476450984" t="dominicm ah"><y>#</y><d>2016-10-14</d><h>13:16</h><w>dominicm</w>ah</z><z id="t1476467735" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0NBGRGD6&quot;}] : cool! let me know the strategy you used to combine"><y>#</y><d>2016-10-14</d><h>17:55</h><w>shaunlebron</w><a>@doglooksgood</a>: cool! let me know the strategy you used to combine</z><z id="t1476534893" t="tianshu I&apos;ve post my strategy here, https://github.com/DogLooksGood/parinfer-mode/blob/master/HOW_TO_WRAP_SEXP.org#more-ideas"><y>#</y><d>2016-10-15</d><h>12:34</h><w>tianshu</w>I&apos;ve post my strategy here, 
<a href="https://github.com/DogLooksGood/parinfer-mode/blob/master/HOW_TO_WRAP_SEXP.org#more-ideas" target="_blank">https://github.com/DogLooksGood/parinfer-mode/blob/master/HOW_TO_WRAP_SEXP.org#more-ideas</a></z><z id="t1476725702" t="shaunlebron thanks for posting that"><y>#</y><d>2016-10-17</d><h>17:35</h><w>shaunlebron</w>thanks for posting that</z><z id="t1477449669" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0ECYL0ET&quot;}] : cool 😎"><y>#</y><d>2016-10-26</d><h>02:41</h><w>shaunlebron</w><a>@eraserhd</a>: cool <b>😎</b></z><z id="t1477449675" t="shaunlebron link to avi?"><y>#</y><d>2016-10-26</d><h>02:41</h><w>shaunlebron</w>link to avi?</z><z id="t1477450614" t="tianshu a VI in clojure?"><y>#</y><d>2016-10-26</d><h>02:56</h><w>tianshu</w>a VI in clojure?</z><z id="t1477487944" t="eraserhd https://github.com/maitria/avi#avi"><y>#</y><d>2016-10-26</d><h>13:19</h><w>eraserhd</w><a href="https://github.com/maitria/avi#avi" target="_blank">https://github.com/maitria/avi#avi</a></z><z id="t1477488065" t="eraserhd I&apos;m wondering how much, if any, playing off Vims modality can hide parinfer&apos;s."><y>#</y><d>2016-10-26</d><h>13:21</h><w>eraserhd</w>I&apos;m wondering how much, if any, playing off Vims modality can hide parinfer&apos;s.</z><z id="t1477488124" t="eraserhd By the way, as someone learning formal logic and proof systems because I&apos;m tired of broken, almost-working software, I&apos;m really happy about parinfer&apos;s algorithm approach. // [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}]"><y>#</y><d>2016-10-26</d><h>13:22</h><w>eraserhd</w>By the way, as someone learning formal logic and proof systems because I&apos;m tired of broken, almost-working software, I&apos;m really happy about parinfer&apos;s algorithm approach. // <a>@shaunlebron</a></z><z id="t1477499852" t="snoe I&apos;m not sure how well it would work since non-insert modes still change the buffer and need parinfer to run (pasting/search replace/indenting/etc...)"><y>#</y><d>2016-10-26</d><h>16:37</h><w>snoe</w>I&apos;m not sure how well it would work since non-insert modes still change the buffer and need parinfer to run (pasting/search replace/indenting/etc...)</z><z id="t1477499942" t="snoe however, having i do vim-insert/parinfer-insert and some other binding put you into vim-insert/parinfer-paren might be interesting to try. basically splitting vim-insert into two."><y>#</y><d>2016-10-26</d><h>16:39</h><w>snoe</w>however, having <code>i</code> do vim-insert/parinfer-insert and some other binding put you into vim-insert/parinfer-paren might be interesting to try. basically splitting vim-insert into two.</z><z id="t1477500004" t="snoe in my plugin, I kept them separate so you have a vim mode and a parinfer mode and they don&apos;t meet."><y>#</y><d>2016-10-26</d><h>16:40</h><w>snoe</w>in my plugin, I kept them separate so you have a vim mode and a parinfer mode and they don&apos;t meet.</z><z id="t1477500812" t="eraserhd [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] I was thinking (hoping) that most vim users change indentation through &lt; and &gt; motions, so that insert mode is paren mode."><y>#</y><d>2016-10-26</d><h>16:53</h><w>eraserhd</w><a>@snoe</a> I was thinking (hoping) that most vim users change indentation through <code>&lt;</code> and <code>&gt;</code> motions, so that insert mode is paren mode.</z><z id="t1477501499" t="snoe Yeah, that was a low hanging fruit (and my plugin could still be improved to work on the motion instead of just &gt;&gt; and &lt;&lt; ), but you get situations like changing the name of a function that pushes the params to the right so you want to be in paren-mode but then you want to change a do to a let so you want to be in insert-mode and the vim-mode in which you make those changes shouldn&apos;t really matter (sometimes I use insert, sometimes ex, sometimes normal)"><y>#</y><d>2016-10-26</d><h>17:04</h><w>snoe</w>Yeah, that was a low hanging fruit (and my plugin could still be improved to work on the motion instead of just <code>&gt;&gt;</code> and <code>&lt;&lt;</code>), but you get situations like changing the name of a function that pushes the params to the right so you want to be in paren-mode but then you want to change a do to a let so you want to be in insert-mode and the vim-mode in which you make those changes shouldn&apos;t really matter (sometimes I use insert, sometimes ex, sometimes normal)</z><z id="t1477502267" t="eraserhd [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] What plugin did you write?"><y>#</y><d>2016-10-26</d><h>17:17</h><w>eraserhd</w><a>@snoe</a> What plugin did you write?</z><z id="t1477502453" t="snoe [:attrs {:href &quot;/_/_/users/U0ECYL0ET&quot;}] https://github.com/clojure-vim/nvim-parinfer.js"><y>#</y><d>2016-10-26</d><h>17:20</h><w>snoe</w><a>@eraserhd</a> <a href="https://github.com/clojure-vim/nvim-parinfer.js" target="_blank">https://github.com/clojure-vim/nvim-parinfer.js</a></z><z id="t1477502490" t="eraserhd Oh, that&apos;s sweet, as I&apos;m using neovim now!"><y>#</y><d>2016-10-26</d><h>17:21</h><w>eraserhd</w>Oh, that&apos;s sweet, as I&apos;m using neovim now!</z><z id="t1477502510" t="eraserhd I shall install after lunch."><y>#</y><d>2016-10-26</d><h>17:21</h><w>eraserhd</w>I shall install after lunch.</z><z id="t1477505055" t="eraserhd I removed vim-sexp* but kept vim-fireplace."><y>#</y><d>2016-10-26</d><h>18:04</h><w>eraserhd</w>I removed vim-sexp* but kept vim-fireplace.</z><z id="t1477505268" t="snoe did you run :UpdateRemotePlugins and restart?"><y>#</y><d>2016-10-26</d><h>18:07</h><w>snoe</w>did you run <code>:UpdateRemotePlugins</code> and restart?</z><z id="t1477505289" t="eraserhd no... that must be a neovim thing?"><y>#</y><d>2016-10-26</d><h>18:08</h><w>eraserhd</w>no... that must be a neovim thing?</z><z id="t1477505317" t="snoe ah yeah, it&apos;s a node-host plugin so the readme should walk you through it, unfortunately it&apos;s not plug and play"><y>#</y><d>2016-10-26</d><h>18:08</h><w>snoe</w>ah yeah, it&apos;s a node-host plugin so the readme should walk you through it, unfortunately it&apos;s not plug and play</z><z id="t1477505479" t="eraserhd Hrmm... It creates an empty rplugin.vim which doesn&apos;t mention Node.js. Is Node.js new?"><y>#</y><d>2016-10-26</d><h>18:11</h><w>eraserhd</w>Hrmm...  It creates an empty rplugin.vim which doesn&apos;t mention Node.js.  Is Node.js new?</z><z id="t1477505499" t="eraserhd I mean, support for it in NeoVim?"><y>#</y><d>2016-10-26</d><h>18:11</h><w>eraserhd</w>I mean, support for it in NeoVim?</z><z id="t1477505867" t="snoe it&apos;s the rplugin stuff, one of the core neovim goals to allow plugins written in other languages instead of the vimscript/pythonserver/language client dance that vim takes https://github.com/neovim/neovim/wiki/Plugin-UI-architecture"><y>#</y><d>2016-10-26</d><h>18:17</h><w>snoe</w>it&apos;s the rplugin stuff, one of the core neovim goals to allow plugins written in other languages instead of the vimscript/pythonserver/language client dance that vim takes <a href="https://github.com/neovim/neovim/wiki/Plugin-UI-architecture" target="_blank">https://github.com/neovim/neovim/wiki/Plugin-UI-architecture</a></z><z id="t1477505894" t="snoe so you have node-host installed with pathogen too?"><y>#</y><d>2016-10-26</d><h>18:18</h><w>snoe</w>so you have node-host installed with pathogen too?</z><z id="t1477505926" t="snoe https://github.com/neovim/node-host#installation"><y>#</y><d>2016-10-26</d><h>18:18</h><w>snoe</w><a href="https://github.com/neovim/node-host#installation" target="_blank">https://github.com/neovim/node-host#installation</a></z><z id="t1477507490" t="eraserhd Oh, I did not know about that."><y>#</y><d>2016-10-26</d><h>18:44</h><w>eraserhd</w>Oh, I did not know about that.</z><z id="t1477507804" t="eraserhd It lives!"><y>#</y><d>2016-10-26</d><h>18:50</h><w>eraserhd</w>It lives!</z><z id="t1477516484" t="eraserhd On occasion, nvim-parinfer.js changes my indentation when it&apos;s already well formed and I&apos;m not in insert mode. Just now I entered a buffer and it dedented two lines by one space, from (task main-marketing-content &quot;57d02a49-5ad8-43aa-afaf-3800424d211f&quot; &quot;Create content&quot;) (task main-marketing-uat &quot;57d02a49-1681-4d3e-a96c-fa1151e748f6&quot; &quot;UAT&quot;) to (task main-marketing-content &quot;57d02a49-5ad8-43aa-afaf-3800424d211f&quot; &quot;Create content&quot;) (task main-marketing-uat &quot;57d02a49-1681-4d3e-a96c-fa1151e748f6&quot; &quot;UAT&quot;) . Why is that?"><y>#</y><d>2016-10-26</d><h>21:14</h><w>eraserhd</w>On occasion, nvim-parinfer.js changes my indentation when it&apos;s already well formed and I&apos;m not in insert mode.  Just now I entered a buffer and it dedented two lines by one space, from <pre>(task main-marketing-content &quot;57d02a49-5ad8-43aa-afaf-3800424d211f&quot;
        &quot;Create content&quot;)

      (task main-marketing-uat &quot;57d02a49-1681-4d3e-a96c-fa1151e748f6&quot;
        &quot;UAT&quot;)
</pre> to <pre>(task main-marketing-content &quot;57d02a49-5ad8-43aa-afaf-3800424d211f&quot;
       &quot;Create content&quot;)

      (task main-marketing-uat &quot;57d02a49-1681-4d3e-a96c-fa1151e748f6&quot;
       &quot;UAT&quot;)
</pre>.  Why is that?</z><z id="t1477517357" t="snoe we need to run paren-mode on the file on bufenter to make sure everything is balanced (or else indent-mode can introduce errors), but IIRC that maintains whitespace unless there&apos;s a change - I could be wrong I haven&apos;t touched in awhile."><y>#</y><d>2016-10-26</d><h>21:29</h><w>snoe</w>we need to run paren-mode on the file on bufenter to make sure everything is balanced (or else indent-mode can introduce errors), but IIRC that maintains whitespace unless there&apos;s a change - I could be wrong I haven&apos;t touched in awhile.</z><z id="t1477526879" t="eraserhd AFAICT, parinfer-jvm has not been uploaded to clojars yet. Is it nascent? Should I use cross-parinfer?"><y>#</y><d>2016-10-27</d><h>00:07</h><w>eraserhd</w>AFAICT, parinfer-jvm has not been uploaded to clojars yet. Is it nascent?  Should I use cross-parinfer?</z><z id="t1477526942" t="cfleming [:attrs {:href &quot;/_/_/users/U0ECYL0ET&quot;}] I think it’s pretty stable. Cursive’s solution is based on it (although doesn’t use the exact code) and I believe [:attrs {:href &quot;/_/_/users/U080181PF&quot;}] uses it in nightcode."><y>#</y><d>2016-10-27</d><h>00:09</h><w>cfleming</w><a>@eraserhd</a> I think it’s pretty stable. Cursive’s solution is based on it (although doesn’t use the exact code) and I believe <a>@sekao</a> uses it in nightcode.</z><z id="t1477526984" t="cfleming I haven’t deployed it to clojars partly out of laziness and also because you’ll probably double the number of users if you use it 🙂"><y>#</y><d>2016-10-27</d><h>00:09</h><w>cfleming</w>I haven’t deployed it to clojars partly out of laziness and also because you’ll probably double the number of users if you use it <b>🙂</b></z><z id="t1477527071" t="eraserhd It looks like org.clojars.oaks/parinfer is the most recent version."><y>#</y><d>2016-10-27</d><h>00:11</h><w>eraserhd</w>It looks like org.clojars.oaks/parinfer is the most recent version.</z><z id="t1477531269" t="eraserhd Welp, got a super-basic thing working, though not in the right way."><y>#</y><d>2016-10-27</d><h>01:21</h><w>eraserhd</w>Welp, got a super-basic thing working, though not in the right way.</z><z id="t1477531317" t="eraserhd Next week or so: add modes and a hook for modifying all changes to a file."><y>#</y><d>2016-10-27</d><h>01:21</h><w>eraserhd</w>Next week or so: add modes and a hook for modifying all changes to a file.</z><z id="t1477531334" t="eraserhd Then, get the real thing working."><y>#</y><d>2016-10-27</d><h>01:22</h><w>eraserhd</w>Then, get the real thing working.</z><z id="t1477538829" t="tianshu Hi, [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] . Will this be considered about? https://github.com/clojure-vim/nvim-parinfer.js/issues/22 each &gt;&gt; will change the struct of sexp, but we may want the correct indentation instead of the minimal indentation after &gt;&gt; operation. If we have: (str &quot;hello&quot;) &quot;world&quot; after &gt;&gt; on line 2, we probably want: (str &quot;hello&quot; &quot;world&quot;) instead of (str &quot;hello&quot; &quot;world&quot;) "><y>#</y><d>2016-10-27</d><h>03:27</h><w>tianshu</w>Hi, <a>@snoe</a> . Will this be considered about?
<a href="https://github.com/clojure-vim/nvim-parinfer.js/issues/22" target="_blank">https://github.com/clojure-vim/nvim-parinfer.js/issues/22</a>

each <code>&gt;&gt;</code> will change the struct of sexp, but we may want the correct indentation instead of the minimal indentation after <code>&gt;&gt;</code> operation.
If we have:
<pre>(str &quot;hello&quot;)
&quot;world&quot;
</pre>
after <code>&gt;&gt;</code> on line 2, we probably want:
<pre>(str &quot;hello&quot;
     &quot;world&quot;)
</pre>
instead of 
<pre>(str &quot;hello&quot;
 &quot;world&quot;)
</pre></z><z id="t1477539673" t="snoe [:attrs {:href &quot;/_/_/users/U0NBGRGD6&quot;}] I&apos;ve been thinking about this, I feel the answer is to use a formatting plugin like clojure-static or clj-fmt after indenting and add do a =- (for instance) after indenting . However, I tried doing this, and it&apos;s difficult to do because of the way nvim-parinfer.js is mapping &gt;&gt; (you can&apos;t map a map)."><y>#</y><d>2016-10-27</d><h>03:41</h><w>snoe</w><a>@doglooksgood</a> I&apos;ve been thinking about this, I feel the answer is to use a formatting plugin like clojure-static or clj-fmt after indenting and add do a <code>=-</code>  (for instance) after indenting . However, I tried doing this, and it&apos;s difficult to do because of the way nvim-parinfer.js is mapping <code>&gt;&gt;</code> (you can&apos;t map a map).</z><z id="t1477539843" t="tianshu when doing (`&gt;&gt;` or &gt; with multiple lines), saving the begin line number and end line number . after &gt;&gt; , use = to format this lines. is it possible?"><y>#</y><d>2016-10-27</d><h>03:44</h><w>tianshu</w>when doing (`&gt;&gt;` or <code>&gt;</code> with multiple lines), saving the <code>begin line number</code> and <code>end line number</code>. after <code>&gt;&gt;</code>, use <code>=</code> to format this lines. is it possible?</z><z id="t1477539925" t="tianshu i&apos;m not familiar with vim script. or you means the difficult stuff is how to map keys?"><y>#</y><d>2016-10-27</d><h>03:45</h><w>tianshu</w>i&apos;m not familiar with vim script. or you means the difficult stuff is how to map keys?</z><z id="t1477539944" t="snoe I don&apos;t think so, I believe with parinfer you pretty much always want to indent at the top level. (again, I haven&apos;t touched it for awhile)"><y>#</y><d>2016-10-27</d><h>03:45</h><w>snoe</w>I don&apos;t think so, I believe with parinfer you pretty much always want to indent at the top level.  (again, I haven&apos;t touched it for awhile)</z><z id="t1477539980" t="snoe yeah the plugin makes it difficult to map because vimrc stuff is run before plugins"><y>#</y><d>2016-10-27</d><h>03:46</h><w>snoe</w>yeah the plugin makes it difficult to map because vimrc stuff is run before plugins</z><z id="t1477539990" t="snoe and would overwrite your mapping."><y>#</y><d>2016-10-27</d><h>03:46</h><w>snoe</w>and would overwrite your mapping.</z><z id="t1477540016" t="snoe luckily vim-sexp has =-"><y>#</y><d>2016-10-27</d><h>03:46</h><w>snoe</w>luckily vim-sexp has <code>=-</code></z><z id="t1477540190" t="tianshu I didn&apos;t know that vim-sexp has =- , with this shortcut i can quick indent top level manaully. it&apos;s still convenient."><y>#</y><d>2016-10-27</d><h>03:49</h><w>tianshu</w>I didn&apos;t know that vim-sexp has <code>=-</code>, with this shortcut i can quick indent top level manaully. it&apos;s still convenient.</z><z id="t1477607311" t="eraserhd Hrmm"><y>#</y><d>2016-10-27</d><h>22:28</h><w>eraserhd</w>Hrmm</z><z id="t1477607363" t="eraserhd wrt nvim-parinfer.js , I&apos;d like to figure out how to make it stop touching files that I open."><y>#</y><d>2016-10-27</d><h>22:29</h><w>eraserhd</w>wrt <code>nvim-parinfer.js</code>, I&apos;d like to figure out how to make it stop touching files that I open.</z><z id="t1477608041" t="snoe I guess the place to start is looking at https://github.com/clojure-vim/nvim-parinfer.js/blob/master/plugin/parinfer.vim#L22 and figure out if lines differ from :echo getline(1,&apos;$&apos;)"><y>#</y><d>2016-10-27</d><h>22:40</h><w>snoe</w>I guess the place to start is looking at <a href="https://github.com/clojure-vim/nvim-parinfer.js/blob/master/plugin/parinfer.vim#L22" target="_blank">https://github.com/clojure-vim/nvim-parinfer.js/blob/master/plugin/parinfer.vim#L22</a> and figure out if <code>lines</code> differ from <code>:echo getline(1,&apos;$&apos;)</code></z><z id="t1477608536" t="eraserhd looking."><y>#</y><d>2016-10-27</d><h>22:48</h><w>eraserhd</w>looking.</z><z id="t1477608569" t="eraserhd Just got familiar with the plugin code. Let me see if I can make a small test case first, though."><y>#</y><d>2016-10-27</d><h>22:49</h><w>eraserhd</w>Just got familiar with the plugin code.  Let me see if I can make a small test case first, though.</z><z id="t1477608818" t="eraserhd Hrmm, it kept happening when pairing today, but the only file it&apos;s happened on right now was literrally wrongly indented."><y>#</y><d>2016-10-27</d><h>22:53</h><w>eraserhd</w>Hrmm, it kept happening when pairing today, but the only file it&apos;s happened on right now was literrally wrongly indented.</z><z id="t1477608965" t="snoe https://github.com/clojure-vim/nvim-parinfer.js/blob/master/src/nvim_parinfer/main.cljs#L42 I wonder if it&apos;s line endings, since vim doesn&apos;t give me those"><y>#</y><d>2016-10-27</d><h>22:56</h><w>snoe</w><a href="https://github.com/clojure-vim/nvim-parinfer.js/blob/master/src/nvim_parinfer/main.cljs#L42" target="_blank">https://github.com/clojure-vim/nvim-parinfer.js/blob/master/src/nvim_parinfer/main.cljs#L42</a> I wonder if it&apos;s line endings, since vim doesn&apos;t give me those</z><z id="t1477609015" t="eraserhd Oh, that&apos;d be interesting."><y>#</y><d>2016-10-27</d><h>22:56</h><w>eraserhd</w>Oh, that&apos;d be interesting.</z><z id="t1477609053" t="eraserhd I don&apos;t have any CRs in any source files."><y>#</y><d>2016-10-27</d><h>22:57</h><w>eraserhd</w>I don&apos;t have any CRs in any source files.</z><z id="t1477609303" t="eraserhd find src test dev -name &apos;*.clj*&apos; -type f -exec nvim -c :wq {} \; 🙂"><y>#</y><d>2016-10-27</d><h>23:01</h><w>eraserhd</w><code>find src test dev -name &apos;*.clj*&apos; -type f -exec nvim -c :wq {} \;</code> <b>🙂</b></z><z id="t1477609509" t="eraserhd yup that did it. Lots of stuff like this: diff --git a/src/twou/centralpark/devcards.cljs b/src/twou/centralpark/devcards.cljs index 0d81853..de0ec23 100644 --- a/src/twou/centralpark/devcards.cljs +++ b/src/twou/centralpark/devcards.cljs @@ -1,8 +1,8 @@ (ns twou.centralpark.devcards - (:require - [twou.centralpark.devcards.domain] - [twou.centralpark.devcards.workflow] - [devcards.core :as dc :include-macros true])) + (:require + [twou.centralpark.devcards.domain] + [twou.centralpark.devcards.workflow] + [devcards.core :as dc :include-macros true]))"><y>#</y><d>2016-10-27</d><h>23:05</h><w>eraserhd</w>yup that did it.  Lots of stuff like this: <pre>diff --git a/src/twou/centralpark/devcards.cljs b/src/twou/centralpark/devcards.cljs
index 0d81853..de0ec23 100644
--- a/src/twou/centralpark/devcards.cljs
+++ b/src/twou/centralpark/devcards.cljs
@@ -1,8 +1,8 @@
 (ns twou.centralpark.devcards
-  (:require
-   [twou.centralpark.devcards.domain]
-   [twou.centralpark.devcards.workflow]
-   [devcards.core :as dc :include-macros true]))
+ (:require
+  [twou.centralpark.devcards.domain]
+  [twou.centralpark.devcards.workflow]
+  [devcards.core :as dc :include-macros true]))</pre></z><z id="t1477609774" t="eraserhd There&apos;s a lot of changes, but it looks like the changes are all either a) legitimate fixes, or b) dedenting the second line of the file (inside the ns directive) by one."><y>#</y><d>2016-10-27</d><h>23:09</h><w>eraserhd</w>There&apos;s a lot of changes, but it looks like the changes are all either a) legitimate fixes, or b) dedenting the second line of the file (inside the ns directive) by one.</z><z id="t1477609809" t="eraserhd Some nses have docstrings, some don&apos;t."><y>#</y><d>2016-10-27</d><h>23:10</h><w>eraserhd</w>Some nses have docstrings, some don&apos;t.</z><z id="t1477610160" t="snoe I wonder if you pass the text through https://github.com/shaunlebron/parinfer/blob/master/lib/parinfer.js#L883 you still get the dedent"><y>#</y><d>2016-10-27</d><h>23:16</h><w>snoe</w>I wonder if you pass the text through <a href="https://github.com/shaunlebron/parinfer/blob/master/lib/parinfer.js#L883" target="_blank">https://github.com/shaunlebron/parinfer/blob/master/lib/parinfer.js#L883</a> you still get the dedent</z><z id="t1477610267" t="eraserhd I&apos;m going to bet so. Not sure I have time tonight, but I&apos;ll try it."><y>#</y><d>2016-10-27</d><h>23:17</h><w>eraserhd</w>I&apos;m going to bet so. Not sure I have time tonight, but I&apos;ll try it.</z><z id="t1477610409" t="snoe well, I&apos;ll bet my code&apos;s wrong, not shaun&apos;s 😛"><y>#</y><d>2016-10-27</d><h>23:20</h><w>snoe</w>well, I&apos;ll bet my code&apos;s wrong, not shaun&apos;s <b>😛</b></z><z id="t1477610662" t="eraserhd ha, it does it with nvim-parinfer.js&apos;s project.clj."><y>#</y><d>2016-10-27</d><h>23:24</h><w>eraserhd</w>ha, it does it with nvim-parinfer.js&apos;s project.clj.</z><z id="t1477611005" t="eraserhd The debug log. https://gist.github.com/eraserhd/df006649e34178cbac45901e1392523e"><y>#</y><d>2016-10-27</d><h>23:30</h><w>eraserhd</w>The debug log. <a href="https://gist.github.com/eraserhd/df006649e34178cbac45901e1392523e" target="_blank">https://gist.github.com/eraserhd/df006649e34178cbac45901e1392523e</a></z><z id="t1477611305" t="eraserhd Here&apos;s the simplest example: https://gist.github.com/eraserhd/4d35251bb1f64d8a05fd983363fe765d"><y>#</y><d>2016-10-27</d><h>23:35</h><w>eraserhd</w>Here&apos;s the simplest example: <a href="https://gist.github.com/eraserhd/4d35251bb1f64d8a05fd983363fe765d" target="_blank">https://gist.github.com/eraserhd/4d35251bb1f64d8a05fd983363fe765d</a></z><z id="t1477612079" t="snoe looks like i&apos;m passing a negative cusrorDx &gt; parinfer.parenMode(&apos;(ab\n :q)&apos;, {cursorX: 0, cursorDx: 0, cursorLine: 0}) { text: &apos;(ab\n :q)&apos;, cursorX: 0, success: true, changedLines: [], tabStops: [] } &gt; parinfer.parenMode(&apos;(ab\n :q)&apos;, {cursorX: 0, cursorDx: -6, cursorLine: 0}) { text: &apos;(ab\n :q)&apos;, cursorX: 0, success: true, changedLines: [ { lineNo: 1, line: &apos; :q)&apos; } ], tabStops: [] }"><y>#</y><d>2016-10-27</d><h>23:47</h><w>snoe</w>looks like i&apos;m passing a negative cusrorDx <pre>&gt; parinfer.parenMode(&apos;(ab\n  :q)&apos;, {cursorX: 0, cursorDx: 0, cursorLine: 0})
{ text: &apos;(ab\n  :q)&apos;,
  cursorX: 0,
  success: true,
  changedLines: [],
  tabStops: [] }
&gt; parinfer.parenMode(&apos;(ab\n  :q)&apos;, {cursorX: 0, cursorDx: -6, cursorLine: 0})
{ text: &apos;(ab\n :q)&apos;,
  cursorX: 0,
  success: true,
  changedLines: [ { lineNo: 1, line: &apos; :q)&apos; } ],
  tabStops: [] }</pre></z><z id="t1477613698" t="eraserhd Ah, cursorDx isn&apos;t really documented. I was wondering what it should be."><y>#</y><d>2016-10-28</d><h>00:14</h><w>eraserhd</w>Ah, cursorDx isn&apos;t really documented.  I was wondering what it should be.</z><z id="t1477614113" t="eraserhd [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] You gonna fix, or should I make a pull request?"><y>#</y><d>2016-10-28</d><h>00:21</h><w>eraserhd</w><a>@snoe</a> You gonna fix, or should I make a pull request?</z><z id="t1477615071" t="snoe pull request would be great"><y>#</y><d>2016-10-28</d><h>00:37</h><w>snoe</w>pull request would be great</z><z id="t1477615706" t="eraserhd ok, I&apos;ll do it tomorrow"><y>#</y><d>2016-10-28</d><h>00:48</h><w>eraserhd</w>ok, I&apos;ll do it tomorrow</z><z id="t1477619912" t="tianshu [:attrs {:href &quot;/_/_/users/U0ECYL0ET&quot;}] is there any demo or introduction for avi in detail. I wonder those advantages it provides"><y>#</y><d>2016-10-28</d><h>01:58</h><w>tianshu</w><a>@eraserhd</a> is there any demo or introduction for avi in detail. I wonder those advantages it provides</z><z id="t1477663693" t="eraserhd [:attrs {:href &quot;/_/_/users/U0NBGRGD6&quot;}] Not really. I&apos;m not sure there are any advantages yet 🙂"><y>#</y><d>2016-10-28</d><h>14:08</h><w>eraserhd</w><a>@doglooksgood</a> Not really.  I&apos;m not sure there are any advantages yet <b>🙂</b></z><z id="t1477663705" t="eraserhd Unless being written in Clojure is an advantage."><y>#</y><d>2016-10-28</d><h>14:08</h><w>eraserhd</w>Unless being written in Clojure is an advantage.</z><z id="t1477663732" t="eraserhd So far, it&apos;s been implementing basic features of Vim - normal mode, basic commands, and so forth."><y>#</y><d>2016-10-28</d><h>14:08</h><w>eraserhd</w>So far, it&apos;s been implementing basic features of Vim - normal mode, basic commands, and so forth.</z><z id="t1477663775" t="eraserhd But it&apos;s getting close to the place where I&apos;m going to do fun things that I want to do, like subset buffers, structural editing, and so forth."><y>#</y><d>2016-10-28</d><h>14:09</h><w>eraserhd</w>But it&apos;s getting close to the place where I&apos;m going to do fun things that I want to do, like subset buffers, structural editing, and so forth.</z><z id="t1477664596" t="eraserhd [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] What the heck is @ in -strlen(@-) ?"><y>#</y><d>2016-10-28</d><h>14:23</h><w>eraserhd</w><a>@snoe</a> What the heck is <code>@</code> in <code>-strlen(@-)</code>?</z><z id="t1477664633" t="eraserhd Oh, register contents?"><y>#</y><d>2016-10-28</d><h>14:23</h><w>eraserhd</w>Oh, register contents?</z><z id="t1477668641" t="snoe yeah, it&apos;s supposed to capture the last single line change - reading more last night made it seem like that&apos;s not exactly what&apos;s needed for dx (and it&apos;s persistent across buffers which is what you&apos;re probably seeing when you pair)"><y>#</y><d>2016-10-28</d><h>15:30</h><w>snoe</w>yeah, it&apos;s supposed to capture the last single line change - reading more last night made it seem like that&apos;s not exactly what&apos;s needed for dx (and it&apos;s persistent across buffers which is what you&apos;re probably seeing when you pair)</z><z id="t1477669834" t="tianshu I&apos;m search for a develop environment that running as a server and provide the full features for clojure development(REPL, instaREPL, debugger, code completion, definition lookup, structural editing) 😂"><y>#</y><d>2016-10-28</d><h>15:50</h><w>tianshu</w>I&apos;m search for a develop environment that running as a server and provide the full features for clojure development(REPL, instaREPL, debugger, code completion, definition lookup, structural editing) <b>😂</b></z><z id="t1477672170" t="eraserhd [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] Yeah, I read that v:operation could be left over from something else, and that ex-mode commands don&apos;t set it. But also @- could be left over."><y>#</y><d>2016-10-28</d><h>16:29</h><w>eraserhd</w><a>@snoe</a> Yeah, I read that <code>v:operation</code> could be left over from something else, and that ex-mode commands don&apos;t set it.  But also <code>@-</code> could be left over.</z><z id="t1477672183" t="eraserhd This makes figuring out what actually happened interesting."><y>#</y><d>2016-10-28</d><h>16:29</h><w>eraserhd</w>This makes figuring out what actually happened interesting.</z><z id="t1477672229" t="eraserhd I&apos;m thinking about it, and am willing to put in some elbow grease here. Have any ideas?"><y>#</y><d>2016-10-28</d><h>16:30</h><w>eraserhd</w>I&apos;m thinking about it, and am willing to put in some elbow grease here.  Have any ideas?</z><z id="t1477672463" t="eraserhd [:attrs {:href &quot;/_/_/users/U0NBGRGD6&quot;}] yeah, Avi has no code completion or any kind of REPL yet or documentation lookup (because I can mostly work around these things with tmux). Structural editing is super important, but not started. I have a general framework in mind that should allow anything structured. Also Code Bubbles was an IDE that I saw a demo of that blew me away, and I hope to implement some of that."><y>#</y><d>2016-10-28</d><h>16:34</h><w>eraserhd</w><a>@doglooksgood</a> yeah, Avi has no code completion or any kind of REPL yet or documentation lookup (because I can mostly work around these things with tmux).  Structural editing is super important, but not started.  I have a general framework in mind that should allow anything structured.  Also Code Bubbles was an IDE that I saw a demo of that blew me away, and I hope to implement some of that.</z><z id="t1477674517" t="snoe [:attrs {:href &quot;/_/_/users/U0ECYL0ET&quot;}] I&apos;ve pretty much just learned vimscript to implement the parinfer plugin so I&apos;m not sure I can add too much. I had been thinking about saving the previous buffer in the cljs code but it would be nice if vim could just tell us how much was changed. stackoverflow suggests that &apos;[ and &apos;] may work https://vi.stackexchange.com/questions/8029/from-a-textchanged-autocommand-event-how-to-get-the-range-that-has-been-changed"><y>#</y><d>2016-10-28</d><h>17:08</h><w>snoe</w><a>@eraserhd</a> I&apos;ve pretty much just learned vimscript to implement the parinfer plugin so I&apos;m not sure I can add too much. I had been thinking about saving the previous buffer in the cljs code but it would be nice if vim could just tell us how much was changed.  stackoverflow suggests that <code>&apos;[</code> and <code>&apos;]</code> may work <a href="https://vi.stackexchange.com/questions/8029/from-a-textchanged-autocommand-event-how-to-get-the-range-that-has-been-changed" target="_blank">https://vi.stackexchange.com/questions/8029/from-a-textchanged-autocommand-event-how-to-get-the-range-that-has-been-changed</a></z><z id="t1477674988" t="snoe oh, and https://github.com/neovim/neovim/issues/1114 is something that I thought would be a way to use the api over TextChanged"><y>#</y><d>2016-10-28</d><h>17:16</h><w>snoe</w>oh, and <a href="https://github.com/neovim/neovim/issues/1114" target="_blank">https://github.com/neovim/neovim/issues/1114</a> is something that I thought would be a way to use the api over <code>TextChanged</code></z><z id="t1477675429" t="eraserhd [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] Ah, good stuff!"><y>#</y><d>2016-10-28</d><h>17:23</h><w>eraserhd</w><a>@snoe</a>  Ah, good stuff!</z><z id="t1477677968" t="eraserhd FYI, I&apos;m not very good at vimscript either, though I guess I&apos;ve learned a little bit."><y>#</y><d>2016-10-28</d><h>18:06</h><w>eraserhd</w>FYI, I&apos;m not very good at vimscript either, though I guess I&apos;ve learned a little bit.</z><z id="t1477838336" t="eraserhd [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] I&apos;m going to rework how the plugin works a bit. I&apos;m going to add a test harness (looks like bensu/doo), and make the text change event handling a different code path from the buffer enter."><y>#</y><d>2016-10-30</d><h>14:38</h><w>eraserhd</w><a>@snoe</a> I&apos;m going to rework how the plugin works a bit.  I&apos;m going to add a test harness (looks like bensu/doo), and make the text change event handling a different code path from the buffer enter.</z><z id="t1477838418" t="eraserhd I&apos;ll skip the cursorDx stuff, but add it back later. Looks like it might be wrong for insert mode, too."><y>#</y><d>2016-10-30</d><h>14:40</h><w>eraserhd</w>I&apos;ll skip the cursorDx stuff, but add it back later.  Looks like it might be wrong for insert mode, too.</z><z id="t1477923629" t="eraserhd [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] I sent a PR that&apos;s a pretty rough sketch of a refactor. I&apos;m happy to have it rejected for incompleteness or bad-ideaness."><y>#</y><d>2016-10-31</d><h>14:20</h><w>eraserhd</w><a>@snoe</a> I sent a PR that&apos;s a pretty rough sketch of a refactor.  I&apos;m happy to have it rejected for incompleteness or bad-ideaness.</z><z id="t1477932510" t="snoe [:attrs {:href &quot;/_/_/users/U0ECYL0ET&quot;}] thx, did a quick review I think the approach works."><y>#</y><d>2016-10-31</d><h>16:48</h><w>snoe</w><a>@eraserhd</a> thx, did a quick review I think the approach works.</z><z id="t1478021773" t="eraserhd Hrmm, I&apos;m now setting the cursor position based on what&apos;s returned from parinfer, and it seems like it&apos;s often wrong. I sometimes type ni esrever elihw gnitresni ni tnedni edom."><y>#</y><d>2016-11-01</d><h>17:36</h><w>eraserhd</w>Hrmm, I&apos;m now setting the cursor position based on what&apos;s returned from parinfer, and it seems like it&apos;s often wrong.  I sometimes type ni esrever elihw gnitresni ni tnedni edom.</z><z id="t1478022425" t="eraserhd Seems to have been an off by one on the cursor position (both line and column)."><y>#</y><d>2016-11-01</d><h>17:47</h><w>eraserhd</w>Seems to have been an off by one on the cursor position (both line and column).</z><z id="t1478022881" t="snoe maybe because vim is 1 indexed?"><y>#</y><d>2016-11-01</d><h>17:54</h><w>snoe</w>maybe because vim is 1 indexed?</z><z id="t1478023266" t="eraserhd Yeah. I actually fixed that Sunday, but I didn&apos;t rebuild the plugin, apparently. 🙂"><y>#</y><d>2016-11-01</d><h>18:01</h><w>eraserhd</w>Yeah.  I actually fixed that Sunday, but I didn&apos;t rebuild the plugin, apparently. <b>🙂</b></z><z id="t1478120626" t="eraserhd [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] Apparently I can&apos;t have two node-host plugins running at the same time? Does this sound familiar?"><y>#</y><d>2016-11-02</d><h>21:03</h><w>eraserhd</w><a>@snoe</a> Apparently I can&apos;t have two node-host plugins running at the same time?  Does this sound familiar?</z><z id="t1478120712" t="snoe I run two at once"><y>#</y><d>2016-11-02</d><h>21:05</h><w>snoe</w>I run two at once</z><z id="t1478120734" t="snoe but I don&apos;t trust node-host much, it&apos;s been a source of problems as neovim changes"><y>#</y><d>2016-11-02</d><h>21:05</h><w>snoe</w>but I don&apos;t trust node-host much, it&apos;s been a source of problems as neovim changes</z><z id="t1478122560" t="eraserhd Hrmm."><y>#</y><d>2016-11-02</d><h>21:36</h><w>eraserhd</w>Hrmm.</z><z id="t1478533528" t="eraserhd Interesting case, with clojure&apos;s new scoped maps (or whatever they are called). With parinfer, can&apos;t do: #:foo{ :hello 42} "><y>#</y><d>2016-11-07</d><h>15:45</h><w>eraserhd</w>Interesting case, with clojure&apos;s new scoped maps (or whatever they are called).  With parinfer, can&apos;t do: <pre>#:foo{
   :hello 42}
</pre></z><z id="t1478554444" t="shaunlebron foo and hello aren’t siblings"><y>#</y><d>2016-11-07</d><h>21:34</h><w>shaunlebron</w>foo and hello aren’t siblings</z><z id="t1478554510" t="shaunlebron and these aren’t expected to work either: #{ :hello 42} #js{ :hello 42} "><y>#</y><d>2016-11-07</d><h>21:35</h><w>shaunlebron</w>and these aren’t expected to work either:

<pre>#{
 :hello 42}
</pre>

<pre>#js{
 :hello 42}
</pre></z><z id="t1478614031" t="eraserhd I didn&apos;t realize that it&apos;s possible to write #:foo {1 2} , this makes it not even possible, I think. The middle is the only one which could be done (since # {} doesn&apos;t parse)."><y>#</y><d>2016-11-08</d><h>14:07</h><w>eraserhd</w>I didn&apos;t realize that it&apos;s possible to write <pre>#:foo
{1 2}</pre>, this makes it not even possible, I think.  The middle is the only one which could be done (since <code># {}</code> doesn&apos;t parse).</z><z id="t1478614101" t="eraserhd (Not suggesting it)"><y>#</y><d>2016-11-08</d><h>14:08</h><w>eraserhd</w>(Not suggesting it)</z><z id="t1478614168" t="shaunlebron yeah, it’s the difference between the dispatch # taking one or two forms"><y>#</y><d>2016-11-08</d><h>14:09</h><w>shaunlebron</w>yeah, it’s the difference between the dispatch <code>#</code> taking one or two forms</z><z id="t1478614250" t="shaunlebron collection delimiters allow optional spacing, didn’t realize it wasn’t allowed in #{} , but makes sense considering how it has to dispatch on the next character"><y>#</y><d>2016-11-08</d><h>14:10</h><w>shaunlebron</w>collection delimiters allow optional spacing, didn’t realize it wasn’t allowed in <code>#{}</code>, but makes sense considering how it has to dispatch on the next character</z><z id="t1478620182" t="eraserhd [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] Can you tell me what commit of node-host and what version of node you are on?"><y>#</y><d>2016-11-08</d><h>15:49</h><w>eraserhd</w><a>@snoe</a> Can you tell me what commit of node-host and what version of node you are on?</z><z id="t1478621142" t="eraserhd Just posted this: https://github.com/neovim/node-host/issues/21"><y>#</y><d>2016-11-08</d><h>16:05</h><w>eraserhd</w>Just posted this: <a href="https://github.com/neovim/node-host/issues/21" target="_blank">https://github.com/neovim/node-host/issues/21</a></z><z id="t1478623863" t="snoe [:attrs {:href &quot;/_/_/users/U0ECYL0ET&quot;}] I just did a :UpdateRemotePlugins and got the same thing as you&apos;re seeing now, only one of two plugins work"><y>#</y><d>2016-11-08</d><h>16:51</h><w>snoe</w><a>@eraserhd</a> I just did a :UpdateRemotePlugins and got the same thing as you&apos;re seeing now, only one of two plugins work</z><z id="t1478634362" t="dominicm I&apos;m putting my money on a node host bug. Extra points if it&apos;s to do with msgpack."><y>#</y><d>2016-11-08</d><h>19:46</h><w>dominicm</w>I&apos;m putting my money on a node host bug. Extra points if it&apos;s to do with msgpack.</z><z id="t1478711402" t="snoe [:attrs {:href &quot;/_/_/users/U09LZR36F&quot;}] if you wanted to dive into cljs/node plugins maybe https://github.com/clojure-vim/neovim-client 😛"><y>#</y><d>2016-11-09</d><h>17:10</h><w>snoe</w><a>@dominicm</a> if you wanted to dive into cljs/node plugins maybe <a href="https://github.com/clojure-vim/neovim-client" target="_blank">https://github.com/clojure-vim/neovim-client</a> <b>😛</b></z><z id="t1478711472" t="dominicm [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] btw, I&apos;ve seen in gitter today that the node-host bug with multiple plugins is reported. Someone was pinged. Am slightly hopeful. Justin admitted it needs some love."><y>#</y><d>2016-11-09</d><h>17:11</h><w>dominicm</w><a>@snoe</a> btw, I&apos;ve seen in gitter today that the node-host bug with multiple plugins is reported. Someone was pinged. Am slightly hopeful. Justin admitted it needs some love.</z><z id="t1478991906" t="anmonteiro is there an option I can pass to Parinfer such that it indents with 2 spaces instead of 1?"><y>#</y><d>2016-11-12</d><h>23:05</h><w>anmonteiro</w>is there an option I can pass to Parinfer such that it indents with 2 spaces instead of 1?</z><z id="t1478991947" t="anmonteiro e.g.: ;; 1 space - current (let [a 1] |) ;; 2 spaces - desired (let [a 1] |) "><y>#</y><d>2016-11-12</d><h>23:05</h><w>anmonteiro</w>e.g.:
<pre>;; 1 space - current
(let [a 1]
 |)

;; 2 spaces - desired
(let [a 1]
  |)

</pre></z><z id="t1479002715" t="eraserhd [:attrs {:href &quot;/_/_/users/U0CK4CKAP&quot;}] Is this for a particular editor? AFAIK, Parinfer doesn&apos;t support this directly, but some editors do it themselves."><y>#</y><d>2016-11-13</d><h>02:05</h><w>eraserhd</w><a>@anmonteiro</a> Is this for a particular editor?  AFAIK, Parinfer doesn&apos;t support this directly, but some editors do it themselves.</z><z id="t1479028049" t="anmonteiro The use case is this: https://twitter.com/anmonteiro90/status/797570538080239616"><y>#</y><d>2016-11-13</d><h>09:07</h><w>anmonteiro</w>The use case is this: <a href="https://twitter.com/anmonteiro90/status/797570538080239616" target="_blank">https://twitter.com/anmonteiro90/status/797570538080239616</a></z><z id="t1479091601" t="tianshu It seems that correct indentation can be provided by clojure indentation specification , which is used in cider. but there&apos;s no stand alone library yet. https://cider.readthedocs.io/en/latest/indent_spec/"><y>#</y><d>2016-11-14</d><h>02:46</h><w>tianshu</w>It seems that correct indentation can be provided  by <code>clojure indentation specification</code>, which is used in cider. but there&apos;s no stand alone library yet.
<a href="https://cider.readthedocs.io/en/latest/indent_spec/" target="_blank">https://cider.readthedocs.io/en/latest/indent_spec/</a></z><z id="t1479871627" t="tianshu It seems newline on atom-parinfer still can&apos;t produce the correct indentation."><y>#</y><d>2016-11-23</d><h>03:27</h><w>tianshu</w>It seems newline on atom-parinfer still can&apos;t produce the correct indentation.</z><z id="t1479883420" t="shaunlebron made progress on newline stuff this month that will include that"><y>#</y><d>2016-11-23</d><h>06:43</h><w>shaunlebron</w>made progress on newline stuff this month that will include that</z><z id="t1479883553" t="tianshu a js library for clojure indent spec?"><y>#</y><d>2016-11-23</d><h>06:45</h><w>tianshu</w>a js library for clojure indent spec?</z><z id="t1479920457" t="mattly I&apos;ve been using lisp-paredit alongside parinfer in atom and it helps the indent thing greatly"><y>#</y><d>2016-11-23</d><h>17:00</h><w>mattly</w>I&apos;ve been using lisp-paredit alongside parinfer in atom and it helps the indent thing greatly</z><z id="t1479920484" t="mattly now if only the bracket manager wouldn&apos;t auto-pair ` and &apos;, I&apos;d be set"><y>#</y><d>2016-11-23</d><h>17:01</h><w>mattly</w>now if only the bracket manager wouldn&apos;t auto-pair ` and &apos;, I&apos;d be set</z><z id="t1480395049" t="shaunlebron &gt; a js library for clojure indent spec? [:attrs {:href &quot;/_/_/users/U0NBGRGD6&quot;}] : if you mean a spec based on the clojure style guide’s indent section, no— because a) there’s some disagreement about indentation length i.e. 2 spaces vs indent to second token b) i want to de-scope indentation preferences from leaking into parinfer’s options for now"><y>#</y><d>2016-11-29</d><h>04:50</h><w>shaunlebron</w>&gt; a js library for clojure indent spec?

<a>@doglooksgood</a>: if you mean a spec based on the clojure style guide’s indent section, no— because

a) there’s some disagreement about indentation length  i.e. 2 spaces vs indent to second token
b) i want to de-scope indentation preferences from leaking into parinfer’s options for now</z><z id="t1480395174" t="shaunlebron plan is to use 1-space indentation to start, but match indentation of the previous or subsequent sibling line if found"><y>#</y><d>2016-11-29</d><h>04:52</h><w>shaunlebron</w>plan is to use 1-space indentation to start, but match indentation of the previous or subsequent sibling line if found</z><z id="t1480395390" t="shaunlebron much in the same way that Paren Mode will preserve whatever relative indentation you choose, the newline stuff will just use the current established indentation length you chose in the current scope"><y>#</y><d>2016-11-29</d><h>04:56</h><w>shaunlebron</w>much in the same way that Paren Mode will preserve whatever relative indentation you choose, the newline stuff will just use the current established indentation length you chose in the current scope</z><z id="t1480395816" t="tianshu [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] I mean the cider-indent-spec, It doesn&apos;t care how many spaces will be used for indentation. Instead, it declare a expression syntax to define indentation rule for specific form/macro/function. here&apos;s a article for this: https://cider.readthedocs.io/en/latest/indent_spec/"><y>#</y><d>2016-11-29</d><h>05:03</h><w>tianshu</w><a>@shaunlebron</a> I mean the cider-indent-spec, It doesn&apos;t care how many spaces will be used for indentation. Instead, it declare a expression syntax to define indentation rule for specific form/macro/function. 
here&apos;s a article for this:
<a href="https://cider.readthedocs.io/en/latest/indent_spec/" target="_blank">https://cider.readthedocs.io/en/latest/indent_spec/</a></z><z id="t1480408942" t="cfleming [:attrs {:href &quot;/_/_/users/U0NBGRGD6&quot;}] There are a couple of problems with that: 1) it ties parinfer to Clojure (I believe [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] wants it to be language agnostic) and 2) it requires parinfer to have access to metadata, which either means some sophisticated parsing, or access to a REPL."><y>#</y><d>2016-11-29</d><h>08:42</h><w>cfleming</w><a>@doglooksgood</a> There are a couple of problems with that: 1) it ties parinfer to Clojure (I believe <a>@shaunlebron</a> wants it to be language agnostic) and 2) it requires parinfer to have access to metadata, which either means some sophisticated parsing, or access to a REPL.</z><z id="t1480409000" t="cfleming I think that that degree of integration will have to be editor-specific. I could imagine a version which accepts a map of {head symbol -&gt; indentation} which the editor supplies, though."><y>#</y><d>2016-11-29</d><h>08:43</h><w>cfleming</w>I think that that degree of integration will have to be editor-specific. I could imagine a version which accepts a map of {head symbol -&gt; indentation} which the editor supplies, though.</z><z id="t1480409045" t="cfleming The problem is knowing ahead of time which symbols you will encounter. Editors could do a pre-pass, I guess, to collect that information."><y>#</y><d>2016-11-29</d><h>08:44</h><w>cfleming</w>The problem is knowing ahead of time which symbols you will encounter. Editors could do a pre-pass, I guess, to collect that information.</z><z id="t1480409106" t="tianshu I&apos;m not sure about other dialects of Lisp, but elisp has the similar solution for indentation. IMO, indent spec can be used for other Lisp as well. And we do not have to access metadata or any thing Clojure specific, just provide a symbol list and let user customize that."><y>#</y><d>2016-11-29</d><h>08:45</h><w>tianshu</w>I&apos;m not sure about other dialects of Lisp, but elisp has the similar solution for indentation. IMO, indent spec can be used for other Lisp as well. And we do not have to access metadata or any thing Clojure specific, just provide a symbol list and let user customize that.</z><z id="t1480409201" t="cfleming Sure, but the indent spec is currently supplied in metadata. The user could have the {symbol -&gt; spec} map in their .emacs or whatever equivalent, but the point of the indent spec was to try to get away from that."><y>#</y><d>2016-11-29</d><h>08:46</h><w>cfleming</w>Sure, but the indent spec is currently supplied in metadata. The user could have the {symbol -&gt; spec} map in their .emacs or whatever equivalent, but the point of the indent spec was to try to get away from that.</z><z id="t1480409274" t="cfleming But right, I think from parinfer’s point of view, it could just receive a map like that. It’s still difficult though - parinfer is currently not aware of which forms represent metadata, and which are “significant” - the indent spec requires knowledge of that to apply it correctly."><y>#</y><d>2016-11-29</d><h>08:47</h><w>cfleming</w>But right, I think from parinfer’s point of view, it could just receive a map like that. It’s still difficult though - parinfer is currently not aware of which forms represent metadata, and which are “significant” - the indent spec requires knowledge of that to apply it correctly.</z><z id="t1480409309" t="cfleming None of it is insurmountable, but there are lots of tricky cases."><y>#</y><d>2016-11-29</d><h>08:48</h><w>cfleming</w>None of it is insurmountable, but there are lots of tricky cases.</z><z id="t1480409448" t="tianshu I think the indent spec can be implemented as a code formatter, separated from parinfer, since currently some editor for Clojure (Lighttable, Atom, VSCode, Nightlight) doesn&apos;t support complex indentation. There indent spec can help them a lot."><y>#</y><d>2016-11-29</d><h>08:50</h><w>tianshu</w>I think the indent spec can be implemented as a code formatter, separated from parinfer, since currently some editor for Clojure (Lighttable, Atom, VSCode, Nightlight) doesn&apos;t support complex indentation. There indent spec can help them a lot.</z><z id="t1480409512" t="cfleming Yes, definitely."><y>#</y><d>2016-11-29</d><h>08:51</h><w>cfleming</w>Yes, definitely.</z><z id="t1480409580" t="cfleming [:attrs {:href &quot;/_/_/users/U0NBGRGD6&quot;}] BTW I liked your experiments with the hybrid mode, I’ve been planning to try something like that myself."><y>#</y><d>2016-11-29</d><h>08:53</h><w>cfleming</w><a>@doglooksgood</a>  BTW I liked your experiments with the hybrid mode, I’ve been planning to try something like that myself.</z><z id="t1480409587" t="cfleming It’s hard to do in IntelliJ, unfortunately."><y>#</y><d>2016-11-29</d><h>08:53</h><w>cfleming</w>It’s hard to do in IntelliJ, unfortunately.</z><z id="t1480409602" t="tianshu hybrid mode?"><y>#</y><d>2016-11-29</d><h>08:53</h><w>tianshu</w>hybrid mode?</z><z id="t1480409602" t="cfleming Or at least, what I would like to do is difficult."><y>#</y><d>2016-11-29</d><h>08:53</h><w>cfleming</w>Or at least, what I would like to do is difficult.</z><z id="t1480409657" t="tianshu You mean combine Paren and Indent mode in parinfer-mode?"><y>#</y><d>2016-11-29</d><h>08:54</h><w>tianshu</w>You mean combine Paren and Indent mode in parinfer-mode?</z><z id="t1480409674" t="cfleming Yes, this bit here: https://github.com/DogLooksGood/parinfer-mode/blob/master/HOW_TO_WRAP_SEXP.org#more-ideas"><y>#</y><d>2016-11-29</d><h>08:54</h><w>cfleming</w>Yes, this bit here: <a href="https://github.com/DogLooksGood/parinfer-mode/blob/master/HOW_TO_WRAP_SEXP.org#more-ideas" target="_blank">https://github.com/DogLooksGood/parinfer-mode/blob/master/HOW_TO_WRAP_SEXP.org#more-ideas</a></z><z id="t1480409830" t="tianshu I use this for weeks and now I turn it off. This may be convenient for some cases, but not as good as I expected."><y>#</y><d>2016-11-29</d><h>08:57</h><w>tianshu</w>I use this for weeks and now I turn it off. This may be convenient for some cases, but not as good as I expected.</z><z id="t1480409884" t="cfleming Interesting. I can imagine a lot of tricky cases around cut and paste"><y>#</y><d>2016-11-29</d><h>08:58</h><w>cfleming</w>Interesting. I can imagine a lot of tricky cases around cut and paste</z><z id="t1480409901" t="cfleming And around selecting a bunch of text including mixed parens, and then deleting it."><y>#</y><d>2016-11-29</d><h>08:58</h><w>cfleming</w>And around selecting a bunch of text including mixed parens, and then deleting it.</z><z id="t1480409988" t="tianshu What I did for parinfer-mode is 1. before paste, fix parens 2. then, paste in Indent Mode will preserve indentation, paste in Paren Mode will preserve parens."><y>#</y><d>2016-11-29</d><h>08:59</h><w>tianshu</w>What I did for parinfer-mode is
1. before paste, fix parens
2. then, paste in Indent Mode will preserve indentation, paste in Paren Mode will preserve parens.</z><z id="t1480433245" t="eraserhd Are there cases where we care about preserving indentation? I haven&apos;t paid to close attention, but it feels like there aren&apos;t."><y>#</y><d>2016-11-29</d><h>15:27</h><w>eraserhd</w>Are there cases where we care about preserving indentation?  I haven&apos;t paid to close attention, but it feels like there aren&apos;t.</z><z id="t1480433251" t="eraserhd (when pasting)"><y>#</y><d>2016-11-29</d><h>15:27</h><w>eraserhd</w>(when pasting)</z><z id="t1480433417" t="eraserhd I&apos;m wondering about cases like these for avi... e.g. should paste always be paren mode? Should inserting characters in the middle of a line always be paren mode?"><y>#</y><d>2016-11-29</d><h>15:30</h><w>eraserhd</w>I&apos;m wondering about cases like these for avi...  e.g. should paste always be paren mode?  Should inserting characters in the middle of a line always be paren mode?</z><z id="t1480433492" t="eraserhd I&apos;m not even sure how to go about answering them. Collect empiric data? Decide on what would make things work better if users adjusted to them?"><y>#</y><d>2016-11-29</d><h>15:31</h><w>eraserhd</w>I&apos;m not even sure how to go about answering them.  Collect empiric data?  Decide on what would make things work better if users adjusted to them?</z><z id="t1480433919" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0ECYL0ET&quot;}] : this is something I will have to write a guide on"><y>#</y><d>2016-11-29</d><h>15:38</h><w>shaunlebron</w><a>@eraserhd</a>: this is something I will have to write a guide on</z><z id="t1480433933" t="shaunlebron i can say that there is a progress to make this safer"><y>#</y><d>2016-11-29</d><h>15:38</h><w>shaunlebron</w>i can say that there is a progress to make this safer</z><z id="t1480433973" t="shaunlebron parinfer 2.0.0 (silent release) makes it safer to paste things in indent mode"><y>#</y><d>2016-11-29</d><h>15:39</h><w>shaunlebron</w>parinfer 2.0.0 (silent release) makes it safer to paste things in indent mode</z><z id="t1480434038" t="shaunlebron pasting wrongly indented code could benefit from preprocessing with paren mode before pasting as doglooksgood said"><y>#</y><d>2016-11-29</d><h>15:40</h><w>shaunlebron</w>pasting wrongly indented code could benefit from preprocessing with paren mode before pasting as doglooksgood said</z><z id="t1480434065" t="eraserhd Oh, the paste buffer itself?"><y>#</y><d>2016-11-29</d><h>15:41</h><w>eraserhd</w>Oh, the paste buffer itself?</z><z id="t1480434086" t="shaunlebron but sometimes there are partial unclosed expressions, which is one of the reasons why I’m considering making Paren Mode work for partial expressions"><y>#</y><d>2016-11-29</d><h>15:41</h><w>shaunlebron</w>but sometimes there are partial unclosed expressions, which is one of the reasons why I’m considering making Paren Mode work for partial expressions</z><z id="t1480434101" t="shaunlebron I think so, not sure yet"><y>#</y><d>2016-11-29</d><h>15:41</h><w>shaunlebron</w>I think so, not sure yet</z><z id="t1480434122" t="eraserhd Interesting"><y>#</y><d>2016-11-29</d><h>15:42</h><w>eraserhd</w>Interesting</z><z id="t1480434187" t="shaunlebron it might work either way"><y>#</y><d>2016-11-29</d><h>15:43</h><w>shaunlebron</w>it might work either way</z><z id="t1480434367" t="shaunlebron So yes, some major changes that will dial back parinfer’s aggression and will probably make it safer to copy/paste: 1. unmatched close-parens will suspend indent mode if they are not at the end of the line 2. paren mode should indent expressions even if for partial expressions"><y>#</y><d>2016-11-29</d><h>15:46</h><w>shaunlebron</w>So yes, some major changes that will dial back parinfer’s aggression and will probably make it safer to copy/paste:

1. unmatched close-parens will suspend indent mode if they are not at the end of the line
2. paren mode should indent expressions even if for partial expressions</z><z id="t1480434418" t="shaunlebron will be exploring number 2 after dealing with newline stuff, which protects expressions in Indent Mode when pressing enter"><y>#</y><d>2016-11-29</d><h>15:46</h><w>shaunlebron</w>will be exploring number 2 after dealing with newline stuff, which protects expressions in Indent Mode when pressing enter</z><z id="t1480520633" t="eraserhd One interestingly awkward use case is solving merge conflicts 🙂"><y>#</y><d>2016-11-30</d><h>15:43</h><w>eraserhd</w>One interestingly awkward use case is solving merge conflicts <b>🙂</b></z><z id="t1480520672" t="eraserhd It works just fine with indent mode, but the merge conflict displays strangely, and I just figured out why 😄"><y>#</y><d>2016-11-30</d><h>15:44</h><w>eraserhd</w>It works just fine with indent mode, but the merge conflict displays strangely, and I just figured out why <b>😄</b></z><z id="t1480994912" t="Drew Verlee Parinfer is amazing. I didn’t really get it tell i tried it. Now im converted. That is all 🙂"><y>#</y><d>2016-12-06</d><h>03:28</h><w>Drew Verlee</w>Parinfer is amazing. I didn’t really get it tell i tried it. Now im converted. That is all <b>🙂</b></z><z id="t1480998831" t="shaunlebron thanks [:attrs {:href &quot;/_/_/users/U0DJ4T5U1&quot;}] ! what plugin are you using?"><y>#</y><d>2016-12-06</d><h>04:33</h><w>shaunlebron</w>thanks <a>@drewverlee</a>! what plugin are you using?</z><z id="t1481060645" t="eraserhd Every so often, using nvim-parinfer.js, I get a doubled last line. I suspect that parinfer is returning a shorter output... does that every happen?"><y>#</y><d>2016-12-06</d><h>21:44</h><w>eraserhd</w>Every so often, using nvim-parinfer.js, I get a doubled last line.  I suspect that parinfer is returning a shorter output... does that every happen?</z><z id="t1481061100" t="chrisoakman Doubtful that is caused by the main Parinfer library. Could be a bug with nvim-parinfer?"><y>#</y><d>2016-12-06</d><h>21:51</h><w>chrisoakman</w>Doubtful that is caused by the main Parinfer library. Could be a bug with nvim-parinfer?</z><z id="t1481061738" t="eraserhd I&apos;m pretty certain of it, if parinfer can return fewer lines than it was given."><y>#</y><d>2016-12-06</d><h>22:02</h><w>eraserhd</w>I&apos;m pretty certain of it, if parinfer can return fewer lines than it was given.</z><z id="t1481064595" t="shaunlebron parinfer never removes lines"><y>#</y><d>2016-12-06</d><h>22:49</h><w>shaunlebron</w>parinfer never removes lines</z><z id="t1481067518" t="shaunlebron idk, i’m still confused about what the standard is for putting a newline character at the end of a file"><y>#</y><d>2016-12-06</d><h>23:38</h><w>shaunlebron</w>idk, i’m still confused about what the standard is for putting a newline character at the end of a file</z><z id="t1481067552" t="shaunlebron i think editors handle them differently"><y>#</y><d>2016-12-06</d><h>23:39</h><w>shaunlebron</w>i think editors handle them differently</z><z id="t1481067599" t="shaunlebron there could be some work that parinfer has to do, but currently it splits on newline chars, and joins them again at the end"><y>#</y><d>2016-12-06</d><h>23:39</h><w>shaunlebron</w>there could be some work that parinfer has to do, but currently it splits on newline chars, and joins them again at the end</z><z id="t1481076557" t="tianshu IMO, replace text line by line, instead of replace whole region. some text editor can customize newline character."><y>#</y><d>2016-12-07</d><h>02:09</h><w>tianshu</w>IMO, replace text line by line, instead of replace whole region. some text editor can customize newline character.</z><z id="t1481123560" t="eraserhd [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] newline-at-end-of-file is a pain. I think it&apos;s preferred, but doesn&apos;t count as a line."><y>#</y><d>2016-12-07</d><h>15:12</h><w>eraserhd</w><a>@shaunlebron</a> newline-at-end-of-file is a pain.  I think it&apos;s preferred, but doesn&apos;t count as a line.</z><z id="t1481123582" t="eraserhd At least, it seemed I screwed up more files when I had Avi never write it then I did when I had Avi always write it."><y>#</y><d>2016-12-07</d><h>15:13</h><w>eraserhd</w>At least, it seemed I screwed up more files when I had Avi never write it then I did when I had Avi always write it.</z><z id="t1481123620" t="eraserhd But I&apos;m actually going to move to storing the file contents as a string, so that the trailing newline isn&apos;t changed unless the last line is edited, because I just don&apos;t want to be responsible for always changing it 🙂"><y>#</y><d>2016-12-07</d><h>15:13</h><w>eraserhd</w>But I&apos;m actually going to move to storing the file contents as a string, so that the trailing newline isn&apos;t changed unless the last line is edited, because I just don&apos;t want to be responsible for always changing it <b>🙂</b></z><z id="t1485467813" t="sekao hey all! i finally tried to implement something similar to aggressive-indent-mode that is combined seamlessly with parinfer."><y>#</y><d>2017-01-26</d><h>21:56</h><w>sekao</w>hey all! i finally tried to implement something similar to aggressive-indent-mode that is combined seamlessly with parinfer.</z><z id="t1485467822" t="sekao you can try it out here: https://oakes.github.io/paren-soup/"><y>#</y><d>2017-01-26</d><h>21:57</h><w>sekao</w>you can try it out here: <a href="https://oakes.github.io/paren-soup/" target="_blank">https://oakes.github.io/paren-soup/</a></z><z id="t1485467856" t="sekao if you notice any odd behavior, please let me know. i&apos;d love to integrate with with my various projects but i don&apos;t trust it yet 😄"><y>#</y><d>2017-01-26</d><h>21:57</h><w>sekao</w>if you notice any odd behavior, please let me know. i&apos;d love to integrate with with my various projects but i don&apos;t trust it yet <b>😄</b></z><z id="t1485467982" t="shaunlebron 👍"><y>#</y><d>2017-01-26</d><h>21:59</h><w>shaunlebron</w><b>👍</b></z><z id="t1485468020" t="shaunlebron looks like it uses two-space indentation as a guide"><y>#</y><d>2017-01-26</d><h>22:00</h><w>shaunlebron</w>looks like it uses two-space indentation as a guide</z><z id="t1485468186" t="shaunlebron for example: (comment foo bar) [(comment foo ^ bar)] [a (comment foo ^ bar)] "><y>#</y><d>2017-01-26</d><h>22:03</h><w>shaunlebron</w>for example:

<pre>(comment foo
         bar)
</pre>

<pre>[(comment foo
^         bar)]
</pre>

<pre>[a (comment foo
 ^   bar)]
</pre></z><z id="t1485468274" t="sekao yeah and one limitation is that it doesn&apos;t currently adjust indentation when wrapping a form with delimiters"><y>#</y><d>2017-01-26</d><h>22:04</h><w>sekao</w>yeah and one limitation is that it doesn&apos;t currently adjust indentation when wrapping a form with delimiters</z></g><g id="s12"><z id="t1485468297" t="shaunlebron it’s tricky"><y>#</y><d>2017-01-26</d><h>22:04</h><w>shaunlebron</w>it’s tricky</z><z id="t1485468301" t="sekao so if you just keep spamming [ the bar will indeed fall out of the comment block"><y>#</y><d>2017-01-26</d><h>22:05</h><w>sekao</w>so if you just keep spamming <code>[</code> the <code>bar</code> will indeed fall out of the comment block</z><z id="t1485468425" t="shaunlebron [:attrs {:href &quot;/_/_/users/U080181PF&quot;}] : by “various projects”, how many do you have using this? 😄"><y>#</y><d>2017-01-26</d><h>22:07</h><w>shaunlebron</w><a>@sekao</a>: by “various projects”, how many do you have using this? <b>😄</b></z><z id="t1485468442" t="shaunlebron http://nightcoders.net and the nightcode app?"><y>#</y><d>2017-01-26</d><h>22:07</h><w>shaunlebron</w><a href="http://nightcoders.net" target="_blank">http://nightcoders.net</a> and the nightcode app?</z><z id="t1485468445" t="sekao right now, nightcode, nightlight, and http://nightcoders.net"><y>#</y><d>2017-01-26</d><h>22:07</h><w>sekao</w>right now, nightcode, nightlight, and <a href="http://nightcoders.net" target="_blank">http://nightcoders.net</a></z><z id="t1485468449" t="sekao hehe"><y>#</y><d>2017-01-26</d><h>22:07</h><w>sekao</w>hehe</z><z id="t1485468463" t="sekao i should just say night* from now on"><y>#</y><d>2017-01-26</d><h>22:07</h><w>sekao</w>i should just say night* from now on</z><z id="t1485468469" t="shaunlebron haha"><y>#</y><d>2017-01-26</d><h>22:07</h><w>shaunlebron</w>haha</z><z id="t1485468502" t="shaunlebron they all use nightlight? https://github.com/oakes/Nightlight"><y>#</y><d>2017-01-26</d><h>22:08</h><w>shaunlebron</w>they all use nightlight? <a href="https://github.com/oakes/Nightlight" target="_blank">https://github.com/oakes/Nightlight</a></z><z id="t1485468552" t="sekao http://nightcoders.net does. nightcode uses paren-soup on its own"><y>#</y><d>2017-01-26</d><h>22:09</h><w>sekao</w><a href="http://nightcoders.net" target="_blank">http://nightcoders.net</a> does. nightcode uses paren-soup on its own</z><z id="t1485468716" t="shaunlebron oh okay, so this is implemented inside paren-soup, which uses a custom parinfer from cross-parinfer"><y>#</y><d>2017-01-26</d><h>22:11</h><w>shaunlebron</w>oh okay, so this is implemented inside paren-soup, which uses a custom parinfer from cross-parinfer</z><z id="t1485468728" t="sekao yep"><y>#</y><d>2017-01-26</d><h>22:12</h><w>sekao</w>yep</z><z id="t1485468773" t="sekao the code for this particular feature is pretty awful right now but basically i&apos;m using the same info from tools.reader that let me get accurate tab stop information"><y>#</y><d>2017-01-26</d><h>22:12</h><w>sekao</w>the code for this particular feature is pretty awful right now but basically i&apos;m using the same info from tools.reader that let me get accurate tab stop information</z><z id="t1485468800" t="shaunlebron accurate?"><y>#</y><d>2017-01-26</d><h>22:13</h><w>shaunlebron</w>accurate?</z><z id="t1485468863" t="shaunlebron i thought about revising the tab-stop part of the API: https://github.com/shaunlebron/parinfer/issues/125"><y>#</y><d>2017-01-26</d><h>22:14</h><w>shaunlebron</w>i thought about revising the tab-stop part of the API: <a href="https://github.com/shaunlebron/parinfer/issues/125" target="_blank">https://github.com/shaunlebron/parinfer/issues/125</a></z><z id="t1485468868" t="sekao well im not sure how it compares to the tab stop info you added, i think i implemented mine beforehand. i actually haven&apos;t tried just using the info from parinfer"><y>#</y><d>2017-01-26</d><h>22:14</h><w>sekao</w>well im not sure how it compares to the tab stop info you added, i think i implemented mine beforehand. i actually haven&apos;t tried just using the info from parinfer</z><z id="t1485468949" t="shaunlebron i think it’s too customizable to make sense, but it was only returning the positions of the parent open-parens, and expecting the user to insert the indentations between them according to preferences"><y>#</y><d>2017-01-26</d><h>22:15</h><w>shaunlebron</w>i think it’s too customizable to make sense, but it was only returning the positions of the parent open-parens, and expecting the user to insert the indentations between them according to preferences</z><z id="t1485469022" t="shaunlebron i have to head out, but I’ll look at cross-parinfer to see what we can merge back to core if appropriate"><y>#</y><d>2017-01-26</d><h>22:17</h><w>shaunlebron</w>i have to head out, but I’ll look at cross-parinfer to see what we can merge back to core if appropriate</z><z id="t1485469046" t="shaunlebron excellent job on night stuff 👏"><y>#</y><d>2017-01-26</d><h>22:17</h><w>shaunlebron</w>excellent job on night stuff <b>👏</b></z><z id="t1485469052" t="sekao thanks!"><y>#</y><d>2017-01-26</d><h>22:17</h><w>sekao</w>thanks!</z><z id="t1485471534" t="cfleming [:attrs {:href &quot;/_/_/users/U080181PF&quot;}] Great, I will definitely try that out."><y>#</y><d>2017-01-26</d><h>22:58</h><w>cfleming</w><a>@sekao</a> Great, I will definitely try that out.</z><z id="t1485471555" t="cfleming What are the rules you’re using to decide when to run paren or indent mode?"><y>#</y><d>2017-01-26</d><h>22:59</h><w>cfleming</w>What are the rules you’re using to decide when to run paren or indent mode?</z><z id="t1485479455" t="sekao [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] i&apos;m not actually running paren mode. it just happens to behave a bit like it. i&apos;m using the work i previously did to figure out what the &quot;correct&quot; indentation is for a given line based on the tools.reader info. after every key press, i look at the subsequent lines. if they are not at their &quot;correct&quot; indentation level, i fix them."><y>#</y><d>2017-01-27</d><h>01:10</h><w>sekao</w><a>@cfleming</a> i&apos;m not actually running paren mode. it just happens to behave a bit like it. i&apos;m using the work i previously did to figure out what the &quot;correct&quot; indentation is for a given line based on the tools.reader info. after every key press, i look at the subsequent lines. if they are not at their &quot;correct&quot; indentation level, i fix them.</z><z id="t1485479520" t="sekao the code doing that is all in cross-parinfer&apos;s add-indent function, which is pretty garbage and hard to read right now"><y>#</y><d>2017-01-27</d><h>01:12</h><w>sekao</w>the code doing that is all in cross-parinfer&apos;s <code>add-indent</code> function, which is pretty garbage and hard to read right now</z><z id="t1485479639" t="cfleming [:attrs {:href &quot;/_/_/users/U080181PF&quot;}] Interesting, thanks. Is that code somewhere I can take a look at?"><y>#</y><d>2017-01-27</d><h>01:13</h><w>cfleming</w><a>@sekao</a> Interesting, thanks. Is that code somewhere I can take a look at?</z><z id="t1485479665" t="cfleming You’re basically just correcting indentation on the form surrounding the current change, is that correct?"><y>#</y><d>2017-01-27</d><h>01:14</h><w>cfleming</w>You’re basically just correcting indentation on the form surrounding the current change, is that correct?</z><z id="t1485479748" t="sekao here&apos;s the function. apologies in advance for the eye bleed 😄 https://github.com/oakes/cross-parinfer/blob/master/src/cross_parinfer/core.cljc#L89"><y>#</y><d>2017-01-27</d><h>01:15</h><w>sekao</w>here&apos;s the function. apologies in advance for the eye bleed <b>😄</b> <a href="https://github.com/oakes/cross-parinfer/blob/master/src/cross_parinfer/core.cljc#L89" target="_blank">https://github.com/oakes/cross-parinfer/blob/master/src/cross_parinfer/core.cljc#L89</a></z><z id="t1485479866" t="sekao i plan on refactoring soon but the readme actually mentions how to use what i call :normal mode"><y>#</y><d>2017-01-27</d><h>01:17</h><w>sekao</w>i plan on refactoring soon but the readme actually mentions how to use what i call <code>:normal</code> mode</z><z id="t1485479981" t="cfleming I see, interesting. Are you using it? Does it work well in practice?"><y>#</y><d>2017-01-27</d><h>01:19</h><w>cfleming</w>I see, interesting. Are you using it? Does it work well in practice?</z><z id="t1485479998" t="cfleming I guess you adjust the indentation before running indent mode, right?"><y>#</y><d>2017-01-27</d><h>01:19</h><w>cfleming</w>I guess you adjust the indentation before running indent mode, right?</z><z id="t1485480006" t="sekao yes"><y>#</y><d>2017-01-27</d><h>01:20</h><w>sekao</w>yes</z><z id="t1485480010" t="sekao you can try it here https://oakes.github.io/paren-soup/"><y>#</y><d>2017-01-27</d><h>01:20</h><w>sekao</w>you can try it here <a href="https://oakes.github.io/paren-soup/" target="_blank">https://oakes.github.io/paren-soup/</a></z><z id="t1485480020" t="sekao i haven&apos;t really tested it enough so there could still be problems"><y>#</y><d>2017-01-27</d><h>01:20</h><w>sekao</w>i haven&apos;t really tested it enough so there could still be problems</z><z id="t1485480321" t="sekao the one case where it doesn&apos;t work is when typing an open delimiter to wrap existing code. that still requires manual re-indentation"><y>#</y><d>2017-01-27</d><h>01:25</h><w>sekao</w>the one case where it doesn&apos;t work is when typing an open delimiter to wrap existing code. that still requires manual re-indentation</z><z id="t1485506053" t="tianshu [:attrs {:href &quot;/_/_/users/U080181PF&quot;}] I met a wired behavior, I delete all content in the first textarea , then I input the following content: (defn hello [name] (print &quot;hell Before I close the string quote, textarea will append one empty line at end for each character I typed in the string."><y>#</y><d>2017-01-27</d><h>08:34</h><w>tianshu</w><a>@sekao</a>  I met a wired behavior, I delete all content in the first <code>textarea</code>, then I input the following content:
<pre>(defn hello [name]
  (print &quot;hell
 </pre>
Before I close the string quote, textarea will append one empty line at end for each character I typed in the string.</z><z id="t1485538897" t="sekao ah good catch, i&apos;ll check it out"><y>#</y><d>2017-01-27</d><h>17:41</h><w>sekao</w>ah good catch, i&apos;ll check it out</z><z id="t1485540249" t="sekao thanks [:attrs {:href &quot;/_/_/users/U0NBGRGD6&quot;}] i fixed the issue. if you do a force refresh on that page it should no longer have that behavior"><y>#</y><d>2017-01-27</d><h>18:04</h><w>sekao</w>thanks <a>@doglooksgood</a> i fixed the issue. if you do a force refresh on that page it should no longer have that behavior</z><z id="t1485575316" t="tianshu and I think if adding aggressive indent to parinfer, this case should be special handled: (print {:a 1 :b 2}) ^-- insert ( at beginning It should wrap whole sexp, but now, it becomes ((print {:a 1} :b 2)) And maybe most people are familiar with the parinfer have both Indent Mode and Paren Mode. It&apos;s there a plan to add a switcher to paren-soup?"><y>#</y><d>2017-01-28</d><h>03:48</h><w>tianshu</w>and I think if adding aggressive indent to parinfer,  this case should be special handled:
<pre>(print {:a 1
       :b 2})
^-- insert ( at beginning
</pre>
It should wrap whole sexp, but now, it becomes
<pre>((print {:a 1}
       :b 2))
</pre>
And maybe most people are familiar  with the parinfer have both Indent Mode and Paren Mode. 
It&apos;s there a plan to add a switcher to paren-soup?</z><z id="t1485576340" t="sekao correct, the auto indenting doesn&apos;t work when typing delimiters right now. i hope to get that working at some point, but since that is already the current behavior i don&apos;t mind waiting until later to fix it"><y>#</y><d>2017-01-28</d><h>04:05</h><w>sekao</w>correct, the auto indenting doesn&apos;t work when typing delimiters right now. i hope to get that working at some point, but since that is already the current behavior i don&apos;t mind waiting until later to fix it</z><z id="t1485576381" t="sekao i don&apos;t plan to add an explicit switcher because i think switching modes is not very beginner friendly. i&apos;m trying to get most of the benefit of paren mode without ever having to explicitly switch to it"><y>#</y><d>2017-01-28</d><h>04:06</h><w>sekao</w>i don&apos;t plan to add an explicit switcher because i think switching modes is not very beginner friendly. i&apos;m trying to get most of the benefit of paren mode without ever having to explicitly switch to it</z><z id="t1485582984" t="tianshu I have implemented a fuzz mode on my emacs parinfer-mode, and post the behavior and rules here. https://github.com/DogLooksGood/parinfer-mode/blob/master/HOW_TO_WRAP_SEXP.org I hope this can help. However, there&apos;s still a problem, raising a sexp is still difficult in parinfer, for this is such a useful operate."><y>#</y><d>2017-01-28</d><h>05:56</h><w>tianshu</w>I have implemented a fuzz mode on my emacs parinfer-mode, and post the behavior and rules here.

<a href="https://github.com/DogLooksGood/parinfer-mode/blob/master/HOW_TO_WRAP_SEXP.org" target="_blank">https://github.com/DogLooksGood/parinfer-mode/blob/master/HOW_TO_WRAP_SEXP.org</a>

I hope this can help.
However, there&apos;s still a problem, raising a sexp is still difficult in parinfer, for this is such a useful operate.</z><z id="t1485622878" t="sekao interesting, i&apos;ll look into that"><y>#</y><d>2017-01-28</d><h>17:01</h><w>sekao</w>interesting, i&apos;ll look into that</z><z id="t1485726699" t="shaunlebron I think it’s interesting that consistency is a virtue that we all appreciate, but don’t want when it gets in the way of our intuition"><y>#</y><d>2017-01-29</d><h>21:51</h><w>shaunlebron</w>I think it’s interesting that consistency is a virtue that we all appreciate, but don’t want when it gets in the way of our intuition</z><z id="t1485726741" t="shaunlebron I think the magic of parinfer was that it feels intuitive+consistent for most of the way"><y>#</y><d>2017-01-29</d><h>21:52</h><w>shaunlebron</w>I think the magic of parinfer was that it feels intuitive+consistent for most of the way</z><z id="t1485726893" t="shaunlebron and when trying to modify to be intuitive for the rest of the cases, we lose consistency, and move more toward the already well-established, key-based editor modes"><y>#</y><d>2017-01-29</d><h>21:54</h><w>shaunlebron</w>and when trying to modify to be intuitive for the rest of the cases, we lose consistency, and move more toward the already well-established, key-based editor modes</z><z id="t1485732650" t="sekao i certainly want to avoid falling into a swamp of exceptional rules. in particular, i want to avoid rules that add special behaviors based on what specific character was just typed, or what characters are near the cursor."><y>#</y><d>2017-01-29</d><h>23:30</h><w>sekao</w>i certainly want to avoid falling into a swamp of exceptional rules. in particular, i want to avoid rules that add special behaviors based on what specific character was just typed, or what characters are near the cursor.</z><z id="t1485732692" t="sekao i like the fact that parinfer works based solely on the text and cursor position. it simplifies its use, and ensures there arent weird behaviors during cutting/pasting"><y>#</y><d>2017-01-29</d><h>23:31</h><w>sekao</w>i like the fact that parinfer works based solely on the text and cursor position. it simplifies its use, and ensures there arent weird behaviors during cutting/pasting</z><z id="t1489059562" t="qqq I get paredit; I get lispy. I don&apos;t get what parinfer does."><y>#</y><d>2017-03-09</d><h>11:39</h><w>qqq</w>I get paredit; I get lispy. I don&apos;t get what parinfer does.</z><z id="t1489059571" t="qqq It seems like a complete paradigm shift."><y>#</y><d>2017-03-09</d><h>11:39</h><w>qqq</w>It seems like a complete paradigm shift.</z><z id="t1489059585" t="qqq So there&apos;s two modes? One where it trusts the () and indents my code, and another where it trusts the indents and infers the ()&apos;s ?"><y>#</y><d>2017-03-09</d><h>11:39</h><w>qqq</w>So there&apos;s two modes? One where it trusts the () and indents my code, and another where it trusts the indents and infers the ()&apos;s ?</z><z id="t1489059592" t="qqq So there&apos;s no longer an attempt to balance the ()&apos;s ?"><y>#</y><d>2017-03-09</d><h>11:39</h><w>qqq</w>So there&apos;s no longer an attempt to balance the ()&apos;s ?</z><z id="t1489059603" t="qqq [:attrs {:href &quot;/_/_/users/U09LZR36F&quot;}] : ^^"><y>#</y><d>2017-03-09</d><h>11:40</h><w>qqq</w><a>@dominicm</a> : ^^</z><z id="t1489059668" t="dominicm [:attrs {:href &quot;/_/_/users/U3JURM9B6&quot;}] As I recall. Pretty much, yeah. One mode will indent all relevant code when you start smacking the space bar. (e.g. it will shift along the contained maps of a list). The other is for moving parens."><y>#</y><d>2017-03-09</d><h>11:41</h><w>dominicm</w><a>@qqq</a> As I recall. Pretty much, yeah. One mode will indent all relevant code when you start smacking the space bar. (e.g. it will shift along the contained maps of a list). The other is for moving parens.</z><z id="t1489059682" t="dominicm I personally didn&apos;t find myself in indent mode very much"><y>#</y><d>2017-03-09</d><h>11:41</h><w>dominicm</w>I personally didn&apos;t find myself in indent mode very much</z><z id="t1489059696" t="qqq but you do use parinfer?"><y>#</y><d>2017-03-09</d><h>11:41</h><w>qqq</w>but you do use parinfer?</z><z id="t1489059707" t="qqq I watched the gifs, tried it in emacs, and found it very unsettling"><y>#</y><d>2017-03-09</d><h>11:41</h><w>qqq</w>I watched the gifs, tried it in emacs, and found it very unsettling</z><z id="t1489059713" t="qqq I&apos;m used to ()&apos;s always being balanced"><y>#</y><d>2017-03-09</d><h>11:41</h><w>qqq</w>I&apos;m used to ()&apos;s always being balanced</z><z id="t1489059981" t="dominicm [:attrs {:href &quot;/_/_/users/U3JURM9B6&quot;}] I used to, but my co-workers get annoyed by https://github.com/shaunlebron/parinfer/issues/92 this a lot 😛"><y>#</y><d>2017-03-09</d><h>11:46</h><w>dominicm</w><a>@qqq</a> I used to, but my co-workers get annoyed by <a href="https://github.com/shaunlebron/parinfer/issues/92" target="_blank">https://github.com/shaunlebron/parinfer/issues/92</a> this a lot <b>😛</b></z><z id="t1489060095" t="dominicm Now I use vim-sexp primarily. But I do miss the ease of parinfer."><y>#</y><d>2017-03-09</d><h>11:48</h><w>dominicm</w>Now I use vim-sexp primarily. But I do miss the ease of parinfer.</z><z id="t1489075344" t="shaunlebron [:attrs {:href &quot;/_/_/users/U3JURM9B6&quot;}] : most people use indent mode, which is pretty aggressive about keeping parens balanced"><y>#</y><d>2017-03-09</d><h>16:02</h><w>shaunlebron</w><a>@qqq</a>: most people use indent mode, which is pretty aggressive about keeping parens balanced</z><z id="t1489075800" t="shaunlebron [:attrs {:href &quot;/_/_/users/U3JURM9B6&quot;}] : indent mode is a realization that all those ))))]]}) at the end of a line could be inferred from the indentation of the next line."><y>#</y><d>2017-03-09</d><h>16:10</h><w>shaunlebron</w><a>@qqq</a>: indent mode is a realization that all those <code>))))]]})</code> at the end of a line could be inferred from the indentation of the next line.</z><z id="t1489076145" t="shaunlebron that’s the core idea, but a lot of details had to be worked out. I document them here: https://github.com/shaunlebron/parinfer/blob/master/lib/doc/design.md"><y>#</y><d>2017-03-09</d><h>16:15</h><w>shaunlebron</w>that’s the core idea, but a lot of details had to be worked out.  I document them here: <a href="https://github.com/shaunlebron/parinfer/blob/master/lib/doc/design.md" target="_blank">https://github.com/shaunlebron/parinfer/blob/master/lib/doc/design.md</a></z><z id="t1489076171" t="qqq [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : lol, I just realized you&apos;re the author of parinfer"><y>#</y><d>2017-03-09</d><h>16:16</h><w>qqq</w><a>@shaunlebron</a> : lol, I just realized you&apos;re the author of parinfer</z><z id="t1489076178" t="qqq reading design.md in detail now"><y>#</y><d>2017-03-09</d><h>16:16</h><w>qqq</w>reading design.md in detail now</z><z id="t1489076459" t="qqq [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : so all of indent mode is: (1) kill trailing parens (2) infer trailing parens based on indenting ?"><y>#</y><d>2017-03-09</d><h>16:20</h><w>qqq</w><a>@shaunlebron</a> : so all of indent mode is:
(1) kill trailing parens
(2) infer trailing parens based on indenting ?</z><z id="t1489076484" t="shaunlebron in a nutshell yes"><y>#</y><d>2017-03-09</d><h>16:21</h><w>shaunlebron</w>in a nutshell yes</z><z id="t1489076561" t="qqq I must be missing something. Paredit has a bunch of barf / slurp / convolute / replace / ... functions. Lispy also has those. ParInfer has two modes."><y>#</y><d>2017-03-09</d><h>16:22</h><w>qqq</w>I must be missing something. Paredit has a bunch of barf / slurp / convolute / replace / ... functions. Lispy also has those.

ParInfer has two modes.</z><z id="t1489076724" t="shaunlebron when first playing with the idea of indent mode, I realized that sometimes adding or removing parens would auto-result in things like paredit’s barf/slurp/splice/wrap"><y>#</y><d>2017-03-09</d><h>16:25</h><w>shaunlebron</w>when first playing with the idea of indent mode, I realized that sometimes adding or removing parens would auto-result in things like paredit’s barf/slurp/splice/wrap</z><z id="t1489076794" t="shaunlebron it turned out that these kinds of things are blocked when done inside nested single-line expressions"><y>#</y><d>2017-03-09</d><h>16:26</h><w>shaunlebron</w>it turned out that these kinds of things are blocked when done inside nested single-line expressions</z><z id="t1489076808" t="shaunlebron (i.e. close-parens present in the middle of a line, not at the end)"><y>#</y><d>2017-03-09</d><h>16:26</h><w>shaunlebron</w>(i.e. close-parens present in the middle of a line, not at the end)</z><z id="t1489076866" t="shaunlebron if you’re wondering why parinfer does not have hotkeys for these advanced transform ops, you may not be the target audience"><y>#</y><d>2017-03-09</d><h>16:27</h><w>shaunlebron</w>if you’re wondering why parinfer does not have hotkeys for these advanced transform ops, you may not be the target audience</z><z id="t1489076948" t="shaunlebron target audience is newcomers who would never use Lisp if paredit was the only way to manage parens"><y>#</y><d>2017-03-09</d><h>16:29</h><w>shaunlebron</w>target audience is newcomers who would never use Lisp if paredit was the only way to manage parens</z><z id="t1489076991" t="qqq oh, parinfer assumes people don&apos;t want to memorize 10 different vim-like hot keys? 🙂"><y>#</y><d>2017-03-09</d><h>16:29</h><w>qqq</w>oh, parinfer assumes people don&apos;t want to memorize 10 different vim-like hot keys? <b>🙂</b></z><z id="t1489077023" t="shaunlebron ha, those are great, and that’s how I started"><y>#</y><d>2017-03-09</d><h>16:30</h><w>shaunlebron</w>ha, those are great, and that’s how I started</z><z id="t1489077039" t="shaunlebron but not everyone is like us in that regard"><y>#</y><d>2017-03-09</d><h>16:30</h><w>shaunlebron</w>but not everyone is like us in that regard</z><z id="t1489077080" t="qqq yeah, my progression has been: paredit: wow, this is cool lispy: wtf ... an implicit mdoe in vim? I can&apos;t believe this works then I someone pointed me at parinfer, and I couldn&apos;t figure itout"><y>#</y><d>2017-03-09</d><h>16:31</h><w>qqq</w>yeah, my progression has been:
paredit: wow, this is cool
lispy: wtf ... an implicit mdoe in vim? I can&apos;t believe this works
then I someone pointed me at parinfer, and I couldn&apos;t figure itout</z><z id="t1489077159" t="shaunlebron i spent a year without using any tool, then I discovered vim paredit and used that for a year, a year later the parinfer idea happened"><y>#</y><d>2017-03-09</d><h>16:32</h><w>shaunlebron</w>i spent a year without using any tool, then I discovered vim paredit and used that for a year, a year later the parinfer idea happened</z><z id="t1489077193" t="qqq what did you find lacking in paredit?"><y>#</y><d>2017-03-09</d><h>16:33</h><w>qqq</w>what did you find lacking in paredit?</z><z id="t1489077226" t="shaunlebron i worked at a company that was actively fighting cljs adoption because it was a lisp"><y>#</y><d>2017-03-09</d><h>16:33</h><w>shaunlebron</w>i worked at a company that was actively fighting cljs adoption because it was a lisp</z><z id="t1489077260" t="shaunlebron and it’s the reactions you can guage from people learning that you have to learn all this stuff to use it"><y>#</y><d>2017-03-09</d><h>16:34</h><w>shaunlebron</w>and it’s the reactions you can guage from people learning that you have to learn all this stuff to use it</z><z id="t1489077370" t="shaunlebron paredit isn’t lacking in anything, but the time to learn is a barrier—a barrier not very difficult to cross, but a lot of people simply won&apos;t"><y>#</y><d>2017-03-09</d><h>16:36</h><w>shaunlebron</w>paredit isn’t lacking in anything, but the time to learn is a barrier—a barrier not very difficult to cross, but a lot of people simply won&apos;t</z><z id="t1489077445" t="qqq [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : got it, alright, &apos;m going to stick with lispy"><y>#</y><d>2017-03-09</d><h>16:37</h><w>qqq</w><a>@shaunlebron</a> : got it, alright, &apos;m going to stick with lispy</z><z id="t1489077450" t="qqq but I apprecaite this helpful discussion 🙂"><y>#</y><d>2017-03-09</d><h>16:37</h><w>qqq</w>but I apprecaite this helpful discussion <b>🙂</b></z><z id="t1489077490" t="qqq I&apos;m the exact opposite of &quot;easy learning curve&quot; ; I want to memorize key combos so it looks like Im playing the piano"><y>#</y><d>2017-03-09</d><h>16:38</h><w>qqq</w>I&apos;m the exact opposite of &quot;easy learning curve&quot; ; I want to memorize key combos so it looks like Im playing the piano</z><z id="t1489077511" t="shaunlebron right on! 🙂"><y>#</y><d>2017-03-09</d><h>16:38</h><w>shaunlebron</w>right on! <b>🙂</b></z><z id="t1489077552" t="shaunlebron i want there to be tools for both people!"><y>#</y><d>2017-03-09</d><h>16:39</h><w>shaunlebron</w>i want there to be tools for both people!</z><z id="t1489164196" t="eraserhd For reference, I&apos;ve been lisping in Vim since 2001-ish, using different plugins, and like Parinfer."><y>#</y><d>2017-03-10</d><h>16:43</h><w>eraserhd</w>For reference, I&apos;ve been lisping in Vim since 2001-ish, using different plugins, and like Parinfer.</z><z id="t1489164265" t="eraserhd It&apos;s currently the only lisp plugin (aside from vim-fireplace) that I use. The only things I really miss are &lt;e and &gt;e from vim-sexp and vim-sexp-mappings-for-regular-people ."><y>#</y><d>2017-03-10</d><h>16:44</h><w>eraserhd</w>It&apos;s currently the only lisp plugin (aside from vim-fireplace) that I use.  The only things I really miss are <code>&lt;e</code> and <code>&gt;e</code> from <code>vim-sexp</code> and <code>vim-sexp-mappings-for-regular-people</code>.</z><z id="t1489167056" t="dominicm [:attrs {:href &quot;/_/_/users/U0ECYL0ET&quot;}] I would miss yie die etc. also"><y>#</y><d>2017-03-10</d><h>17:30</h><w>dominicm</w><a>@eraserhd</a> I would miss <code>yie</code> <code>die</code> etc. also</z><z id="t1489415875" t="eraserhd [:attrs {:href &quot;/_/_/users/U09LZR36F&quot;}] I use yi) and di] and so forth. The only one I can imagine missing is yiF and diF (that&apos;s the top-level expression, right?). And I don&apos;t."><y>#</y><d>2017-03-13</d><h>14:37</h><w>eraserhd</w><a>@dominicm</a> I use <code>yi)</code> and <code>di]</code> and so forth.  The only one I can imagine missing is <code>yiF</code> and <code>diF</code> (that&apos;s the top-level expression, right?).  And I don&apos;t.</z><z id="t1489415971" t="dominicm [:attrs {:href &quot;/_/_/users/U0ECYL0ET&quot;}] do you not find yourself operating on the individual elements, e.g. deleting an argument from a fn call: (recently-refactored arg1 arg2 rm-|this-arg arg4) With dae at the | it gets removed (then dot to repeat in other calls too!)"><y>#</y><d>2017-03-13</d><h>14:39</h><w>dominicm</w><a>@eraserhd</a> do you not find yourself operating on the individual elements, e.g. deleting an argument from a fn call:

<pre>(recently-refactored arg1 arg2 rm-|this-arg arg4)
</pre>

With <code>dae</code> at the <code>|</code> it gets removed (then dot to repeat in other calls too!)</z><z id="t1489416030" t="eraserhd diw works there, too. My highlighting sets up word characters for clojure."><y>#</y><d>2017-03-13</d><h>14:40</h><w>eraserhd</w><code>diw</code> works there, too.  My highlighting sets up word characters for clojure.</z><z id="t1489416089" t="eraserhd I use ci) a lot."><y>#</y><d>2017-03-13</d><h>14:41</h><w>eraserhd</w>I use <code>ci)</code> a lot.</z><z id="t1489416121" t="eraserhd And ciw"><y>#</y><d>2017-03-13</d><h>14:42</h><w>eraserhd</w>And <code>ciw</code></z><z id="t1489416715" t="dominicm [:attrs {:href &quot;/_/_/users/U0ECYL0ET&quot;}] Not if the symbol is rm-foo$bar etc. doesn&apos;t that require ciW so the symbols come in?"><y>#</y><d>2017-03-13</d><h>14:51</h><w>dominicm</w><a>@eraserhd</a> Not if the symbol is <code>rm-foo$bar</code> etc. doesn&apos;t that require ciW so the symbols come in?</z><z id="t1489416740" t="dominicm But then ciW work on defn in this: (defn …)"><y>#</y><d>2017-03-13</d><h>14:52</h><w>dominicm</w>But then ciW work on defn in this: <code>(defn …)</code></z><z id="t1489416749" t="dominicm Yeah, I hit edge cases with iw &amp; iW I think"><y>#</y><d>2017-03-13</d><h>14:52</h><w>dominicm</w>Yeah, I hit edge cases with iw &amp; iW I think</z><z id="t1489417940" t="eraserhd :help iskeyword 😄"><y>#</y><d>2017-03-13</d><h>15:12</h><w>eraserhd</w><code>:help iskeyword</code> <b>😄</b></z><z id="t1489417986" t="eraserhd You can add $ . But clojure syntax highlighting should get all the rest."><y>#</y><d>2017-03-13</d><h>15:13</h><w>eraserhd</w>You can add <code>$</code>.  But clojure syntax highlighting should get all the rest.</z><z id="t1489549748" t="qqq I&apos;m finally staritng to apprevice parinfer"><y>#</y><d>2017-03-15</d><h>03:49</h><w>qqq</w>I&apos;m finally staritng to apprevice parinfer</z><z id="t1489549758" t="qqq instead of having ot manip the ast, just indent things ... and the ast readjusts itself"><y>#</y><d>2017-03-15</d><h>03:49</h><w>qqq</w>instead of having ot manip the ast, just indent things ... and the ast readjusts itself</z><z id="t1489764778" t="shaunlebron [:attrs {:href &quot;/_/_/users/U3JURM9B6&quot;}] : ha, you already understood that! but I guess you&apos;ve been playing with it?"><y>#</y><d>2017-03-17</d><h>15:32</h><w>shaunlebron</w><a>@qqq</a>: ha, you already understood that!  but I guess you&apos;ve been playing with it?</z><z id="t1489764939" t="qqq [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : not in emacs, but in another cljs dev tool the one thing I do amire about this is as follows: sometimes when I try ti move things in/out, it&apos;s really hard via the AST ... but it&apos;s very clear in the world of spacing / indent -- and having it auto readjust based on indent is quite brilliant"><y>#</y><d>2017-03-17</d><h>15:35</h><w>qqq</w><a>@shaunlebron</a> : not in emacs, but in another cljs dev tool

the one thing I do amire about this is as follows:

sometimes when I try ti move things in/out, it&apos;s really hard via the AST ... but it&apos;s very clear in the world of spacing / indent -- and having it auto readjust based on indent is quite brilliant</z><z id="t1489764953" t="qqq some would call this &quot;direct manipulation"><y>#</y><d>2017-03-17</d><h>15:35</h><w>qqq</w>some would call this &quot;direct manipulation</z><z id="t1489765469" t="shaunlebron [:attrs {:href &quot;/_/_/users/U3JURM9B6&quot;}] : which cljs dev tool?"><y>#</y><d>2017-03-17</d><h>15:44</h><w>shaunlebron</w><a>@qqq</a>: which cljs dev tool?</z><z id="t1489766044" t="qqq [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : nightlight / paren-soup"><y>#</y><d>2017-03-17</d><h>15:54</h><w>qqq</w><a>@shaunlebron</a> : nightlight / paren-soup</z><z id="t1489766068" t="qqq I wasn&apos;t playing with it to learn par-infer, I was playing with it since nightlight seemed like a great idea, and it just so happened that paren-soup is par-infer based"><y>#</y><d>2017-03-17</d><h>15:54</h><w>qqq</w>I wasn&apos;t playing with it to learn par-infer, I was playing with it since nightlight seemed like a great idea, and it just so happened that paren-soup is par-infer based</z><z id="t1489766085" t="qqq it&apos;s amazing how easy to learn to learn parinfer when you don&apos;t have emacs to fall back on 🙂"><y>#</y><d>2017-03-17</d><h>15:54</h><w>qqq</w>it&apos;s amazing how easy to learn to learn parinfer when you don&apos;t have emacs to fall back on <b>🙂</b></z><z id="t1489766943" t="shaunlebron nice! really glad zach added that"><y>#</y><d>2017-03-17</d><h>16:09</h><w>shaunlebron</w>nice! really glad zach added that</z><z id="t1489767400" t="qqq [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] : paren-soup was somewhat laggy for me at around 100-200 lines"><y>#</y><d>2017-03-17</d><h>16:16</h><w>qqq</w><a>@shaunlebron</a> : paren-soup was somewhat laggy for me at around 100-200 lines</z><z id="t1489767411" t="qqq how fast is parinfer? is it intended to run on every keystroke?"><y>#</y><d>2017-03-17</d><h>16:16</h><w>qqq</w>how fast is parinfer? is it intended to run on every keystroke?</z><z id="t1489767589" t="shaunlebron the js implementation can process ~3k lines in about ~20ms"><y>#</y><d>2017-03-17</d><h>16:19</h><w>shaunlebron</w>the js implementation can process ~3k lines in about ~20ms</z><z id="t1489767618" t="qqq hmm, must ahve been something else then"><y>#</y><d>2017-03-17</d><h>16:20</h><w>qqq</w>hmm, must ahve been something else then</z><z id="t1489767623" t="shaunlebron that’s about 50hz, so fast enough to run on every keystroke yeah"><y>#</y><d>2017-03-17</d><h>16:20</h><w>shaunlebron</w>that’s about 50hz, so fast enough to run on every keystroke yeah</z><z id="t1489767680" t="shaunlebron my perf testing isn’t super accurate, I just throw a file at it and see how long it takes to process"><y>#</y><d>2017-03-17</d><h>16:21</h><w>shaunlebron</w>my perf testing isn’t super accurate, I just throw a file at it and see how long it takes to process</z><z id="t1489767728" t="shaunlebron the atom plugin is pretty fast, and it only processes the top-most parent expression at the cursor, and processing is debounced"><y>#</y><d>2017-03-17</d><h>16:22</h><w>shaunlebron</w>the atom plugin is pretty fast, and it only processes the top-most parent expression at the cursor, and processing is debounced</z><z id="t1489768093" t="qqq does &apos;debounced&apos; mean &apos;throw into webworker&apos; ?"><y>#</y><d>2017-03-17</d><h>16:28</h><w>qqq</w>does &apos;debounced&apos; mean &apos;throw into webworker&apos; ?</z><z id="t1489769070" t="shaunlebron nah, it means to delay processing until you’re done typing for a certain number of ms"><y>#</y><d>2017-03-17</d><h>16:44</h><w>shaunlebron</w>nah, it means to delay processing until you’re done typing for a certain number of ms</z><z id="t1489769205" t="qqq oh right, so it&apos;s onKeyPress: (1) if timer exists, reset it to BLAH ms (2) when timer counts down to 0, run parInfer"><y>#</y><d>2017-03-17</d><h>16:46</h><w>qqq</w>oh right, so it&apos;s onKeyPress:

(1) if timer exists, reset it to BLAH ms
(2) when timer counts down to 0, run parInfer</z><z id="t1489770597" t="shaunlebron right, good description"><y>#</y><d>2017-03-17</d><h>17:09</h><w>shaunlebron</w>right, good description</z><z id="t1489853334" t="sekao [:attrs {:href &quot;/_/_/users/U3JURM9B6&quot;}] paren-soup also only processes the current top-level form (for the most part). however, in addition to running parinfer, it also has to run the code-&gt;html function which reads the code and applies html tags for syntax highlighting, so that definitely adds to the workload."><y>#</y><d>2017-03-18</d><h>16:08</h><w>sekao</w><a>@qqq</a> paren-soup also only processes the current top-level form (for the most part). however, in addition to running parinfer, it also has to run the <code>code-&gt;html</code> function which reads the code and applies html tags for syntax highlighting, so that definitely adds to the workload.</z><z id="t1490955580" t="dominicm [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] with parinfer for atom is there a way to start a newline inside the current map?"><y>#</y><d>2017-03-31</d><h>10:19</h><w>dominicm</w><a>@chrisoakman</a> with parinfer for atom is there a way to start a newline inside the current map?</z><z id="t1490955696" t="dominicm Might be more appropriate to ask in #protorepl"><y>#</y><d>2017-03-31</d><h>10:21</h><w>dominicm</w>Might be more appropriate to ask in #protorepl</z><z id="t1490955893" t="dominicm Looks like the recommended settings only work on mac"><y>#</y><d>2017-03-31</d><h>10:24</h><w>dominicm</w>Looks like the recommended settings only work on mac</z><z id="t1493398879" t="spinningarrow How do I send multiline text to parinfer? If I call indent mode with something like &apos;[1 2 3 4 5\n&apos; I get back &apos;[1 2 3 4 5\n]&apos; though I wanted &apos;[1 2 3 4 5]\n&apos;"><y>#</y><d>2017-04-28</d><h>17:01</h><w>spinningarrow</w>How do I send multiline text to parinfer? If I call indent mode with something like <code>&apos;[1 2 3 4 5\n&apos;</code> I get back <code>&apos;[1 2 3 4 5\n]&apos;</code> though I wanted <code>&apos;[1 2 3 4 5]\n&apos;</code></z><z id="t1493550798" t="tianshu [:attrs {:href &quot;/_/_/users/U062H9HU5&quot;}] I guess you should always send the whole buffer text to parinfer."><y>#</y><d>2017-04-30</d><h>11:13</h><w>tianshu</w><a>@spinningarrow</a> I guess you should always send the whole buffer text to parinfer.</z><z id="t1493619752" t="spinningarrow [:attrs {:href &quot;/_/_/users/U0NBGRGD6&quot;}] that&apos;s what I mean - the text contains newlines. What&apos;s the correct way to send that to parinfer? In the example above, \n does not work. (assuming the contents of the buffer are two lines: [1 2 3 4 5 followed by a newline)"><y>#</y><d>2017-05-01</d><h>06:22</h><w>spinningarrow</w><a>@doglooksgood</a> that&apos;s what I mean - the text contains newlines. What&apos;s the correct way to send that to parinfer? In the example above, <code>\n</code> does not work. (assuming the contents of the buffer are two lines: <code>[1 2 3 4 5</code> followed by a newline)</z><z id="t1493701980" t="tianshu [:attrs {:href &quot;/_/_/users/U062H9HU5&quot;}] It should return &apos;[1 2 3 4 5]\n&apos; if the usage is correct. which mode you use, indent mode?"><y>#</y><d>2017-05-02</d><h>05:13</h><w>tianshu</w><a>@spinningarrow</a> It should return <code>&apos;[1 2 3 4 5]\n&apos;</code> if the usage is correct. which mode you use, indent mode?</z><z id="t1493708630" t="spinningarrow [:attrs {:href &quot;/_/_/users/U0NBGRGD6&quot;}] yup, indent mode."><y>#</y><d>2017-05-02</d><h>07:03</h><w>spinningarrow</w><a>@doglooksgood</a> yup, indent mode.</z><z id="t1493708644" t="spinningarrow It&apos;s returning &apos;[1 2 3 4 5\n]&apos;"><y>#</y><d>2017-05-02</d><h>07:04</h><w>spinningarrow</w>It&apos;s returning <code>&apos;[1 2 3 4 5\n]&apos;</code></z><z id="t1493717721" t="spinningarrow Which is why I was asking if I&apos;m maybe supplying the newlines incorrectly"><y>#</y><d>2017-05-02</d><h>09:35</h><w>spinningarrow</w>Which is why I was asking if I&apos;m maybe supplying the newlines incorrectly</z><z id="t1493717860" t="spinningarrow I might be using it incorrectly. Let me check again."><y>#</y><d>2017-05-02</d><h>09:37</h><w>spinningarrow</w>I might be using it incorrectly. Let me check again.</z><z id="t1496820120" t="shaunlebron I made a major change to Parinfer last year and called it v2"><y>#</y><d>2017-06-07</d><h>07:22</h><w>shaunlebron</w>I made a major change to Parinfer last year and called it v2</z><z id="t1496820163" t="shaunlebron the change was related to how to handle an unmatched close-paren"><y>#</y><d>2017-06-07</d><h>07:22</h><w>shaunlebron</w>the change was related to how to handle an unmatched close-paren</z><z id="t1496820230" t="shaunlebron Chris thinks it was a mistake, and we’re having a minor debate about it here: https://github.com/oakmac/atom-parinfer/issues/76"><y>#</y><d>2017-06-07</d><h>07:23</h><w>shaunlebron</w>Chris thinks it was a mistake, and we’re having a minor debate about it here: <a href="https://github.com/oakmac/atom-parinfer/issues/76" target="_blank">https://github.com/oakmac/atom-parinfer/issues/76</a></z><z id="t1496820433" t="shaunlebron i’d like to hear your opinion though [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] [:attrs {:href &quot;/_/_/users/U080181PF&quot;}] [:attrs {:href &quot;/_/_/users/U0FHWANJK&quot;}] [:attrs {:href &quot;/_/_/users/U0NBGRGD6&quot;}] (or others)"><y>#</y><d>2017-06-07</d><h>07:27</h><w>shaunlebron</w>i’d like to hear your opinion though <a>@cfleming</a> <a>@sekao</a> <a>@bhurlow</a> <a>@doglooksgood</a> (or others)</z><z id="t1496845341" t="tianshu for now, leaving imbalanced state. I have to type close parens manually. before V2, I do the same. is there I missed something? "><y>#</y><d>2017-06-07</d><h>14:22</h><w>tianshu</w>for now, leaving imbalanced state. I have to type close parens manually. before V2, I do the same. is there I missed something?
</z><z id="t1496853505" t="mattly I agree with Chris, the expected behavior is for auto-balancing"><y>#</y><d>2017-06-07</d><h>16:38</h><w>mattly</w>I agree with Chris, the expected behavior is for auto-balancing</z><z id="t1496853537" t="mattly maybe that&apos;s not something parinfer should be doing, maybe you should complement parinfer with an auto-close plugin"><y>#</y><d>2017-06-07</d><h>16:38</h><w>mattly</w>maybe that&apos;s not something parinfer should be doing, maybe you should complement parinfer with an auto-close plugin</z><z id="t1496853596" t="mattly I mean, I use it in Emacs alongside smartparens in strict-mode and paredit"><y>#</y><d>2017-06-07</d><h>16:39</h><w>mattly</w>I mean, I use it in Emacs alongside smartparens in strict-mode and paredit</z><z id="t1496853625" t="mattly and anymore whenever I&apos;m not in that environment something feels off"><y>#</y><d>2017-06-07</d><h>16:40</h><w>mattly</w>and anymore whenever I&apos;m not in that environment something feels off</z><z id="t1496858784" t="shaunlebron thanks guys, i’ll work on an implementation so we can see how it feels"><y>#</y><d>2017-06-07</d><h>18:06</h><w>shaunlebron</w>thanks guys, i’ll work on an implementation so we can see how it feels</z><z id="t1496858962" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0NBGRGD6&quot;}] you have to type close-parens manually for both v1 and v2 in the case described. the new rules may prevent that"><y>#</y><d>2017-06-07</d><h>18:09</h><w>shaunlebron</w><a>@doglooksgood</a> you have to type close-parens manually for both v1 and v2 in the case described.  the new rules may prevent that</z><z id="t1496863553" t="shaunlebron wrote up a summary of the new proposal: https://github.com/shaunlebron/parinfer/issues/131"><y>#</y><d>2017-06-07</d><h>19:25</h><w>shaunlebron</w>wrote up a summary of the new proposal: <a href="https://github.com/shaunlebron/parinfer/issues/131" target="_blank">https://github.com/shaunlebron/parinfer/issues/131</a></z><z id="t1496867697" t="shaunlebron also, going to build a formatter to help use parinfer on teams: https://github.com/shaunlebron/parinfer/issues/132"><y>#</y><d>2017-06-07</d><h>20:34</h><w>shaunlebron</w>also, going to build a formatter to help use parinfer on teams: <a href="https://github.com/shaunlebron/parinfer/issues/132" target="_blank">https://github.com/shaunlebron/parinfer/issues/132</a></z><z id="t1496873355" t="dominicm Definitely make it a node script. Everyone has it now, and it&apos;s fast enough™"><y>#</y><d>2017-06-07</d><h>22:09</h><w>dominicm</w>Definitely make it a node script. Everyone has it now, and it&apos;s fast enough™</z><z id="t1496873375" t="dominicm well, except in large projects I guess. In which case java is probably better."><y>#</y><d>2017-06-07</d><h>22:09</h><w>dominicm</w>well, except in large projects I guess. In which case java is probably better.</z><z id="t1496873395" t="shaunlebron [:attrs {:href &quot;/_/_/users/U09LZR36F&quot;}] will do"><y>#</y><d>2017-06-07</d><h>22:09</h><w>shaunlebron</w><a>@dominicm</a> will do</z><z id="t1496873422" t="dominicm I have noticed that zprint is quite slow against whole files from lumo. So maybe I should take back that idea 😛"><y>#</y><d>2017-06-07</d><h>22:10</h><w>dominicm</w>I have noticed that zprint is quite slow against whole files from lumo. So maybe I should take back that idea <b>😛</b></z><z id="t1496873447" t="shaunlebron prettier runs pretty fast, I’ll be looking how they do it"><y>#</y><d>2017-06-07</d><h>22:10</h><w>shaunlebron</w>prettier runs pretty fast, I’ll be looking how they do it</z><z id="t1496873488" t="shaunlebron zprint?"><y>#</y><d>2017-06-07</d><h>22:11</h><w>shaunlebron</w>zprint?</z><z id="t1496873504" t="dominicm prettier is based on a paper: http://homepages.inf.ed.ac.uk/wadler/papers/prettier/prettier.pdf no idea if the speed comes from this"><y>#</y><d>2017-06-07</d><h>22:11</h><w>dominicm</w>prettier is based on a paper: <a href="http://homepages.inf.ed.ac.uk/wadler/papers/prettier/prettier.pdf" target="_blank">http://homepages.inf.ed.ac.uk/wadler/papers/prettier/prettier.pdf</a> no idea if the speed comes from this</z><z id="t1496873531" t="shaunlebron oh, i thought we were talking about node’s i/o"><y>#</y><d>2017-06-07</d><h>22:12</h><w>shaunlebron</w>oh, i thought we were talking about node’s i/o</z><z id="t1496873540" t="dominicm https://github.com/kkinnear/zprint"><y>#</y><d>2017-06-07</d><h>22:12</h><w>dominicm</w><a href="https://github.com/kkinnear/zprint" target="_blank">https://github.com/kkinnear/zprint</a></z><z id="t1496873548" t="shaunlebron parinfer on node is lightning fast though"><y>#</y><d>2017-06-07</d><h>22:12</h><w>shaunlebron</w>parinfer on node is lightning fast though</z><z id="t1496873576" t="shaunlebron 15ms per 3k lines?"><y>#</y><d>2017-06-07</d><h>22:12</h><w>shaunlebron</w>15ms per 3k lines?</z><z id="t1496873608" t="shaunlebron can’t remember, but it’s fine"><y>#</y><d>2017-06-07</d><h>22:13</h><w>shaunlebron</w>can’t remember, but it’s fine</z><z id="t1496873622" t="dominicm zprint is clojurescript (on lumo). So that might be it. But it was definitely a big pause for a single file. Like ~30s or so."><y>#</y><d>2017-06-07</d><h>22:13</h><w>dominicm</w>zprint is clojurescript (on lumo). So that might be it. But it was definitely a big pause for a single file. Like ~30s or so.</z><z id="t1496873660" t="shaunlebron oh wow, I didn’t know about this, only heard of cljfmt"><y>#</y><d>2017-06-07</d><h>22:14</h><w>shaunlebron</w>oh wow, I didn’t know about this, only heard of cljfmt</z><z id="t1496873687" t="dominicm I&apos;ve no idea why nvim parinfer doesn&apos;t feel fast on my machine then, it&apos;s a new laptop. Maybe something misconfigured, or it&apos;s using the clojure one still"><y>#</y><d>2017-06-07</d><h>22:14</h><w>dominicm</w>I&apos;ve no idea why nvim parinfer doesn&apos;t feel fast on my machine then, it&apos;s a new laptop. Maybe something misconfigured, or it&apos;s using the clojure one still</z><z id="t1496873738" t="shaunlebron maybe my benchmarks are off, atom-parinfer always felt fast to me, but it does limit itself to the parent expression"><y>#</y><d>2017-06-07</d><h>22:15</h><w>shaunlebron</w>maybe my benchmarks are off, atom-parinfer always felt fast to me, but it does limit itself to the parent expression</z><z id="t1496873759" t="dominicm ah, I&apos;m not sure if nvim parinfer does that 🙂"><y>#</y><d>2017-06-07</d><h>22:15</h><w>dominicm</w>ah, I&apos;m not sure if nvim parinfer does that <b>🙂</b></z><z id="t1496873862" t="shaunlebron we’ll see, I’ll tag you for feedback when it’s ready"><y>#</y><d>2017-06-07</d><h>22:17</h><w>shaunlebron</w>we’ll see, I’ll tag you for feedback when it’s ready</z><z id="t1496873928" t="dominicm I&apos;ve got some large real world projects which will enjoy some benchmarking"><y>#</y><d>2017-06-07</d><h>22:18</h><w>dominicm</w>I&apos;ve got some large real world projects which will enjoy some benchmarking</z><z id="t1496875780" t="shaunlebron any ideas for the name of the cli command? [:attrs {:href &quot;/_/_/users/U09LZR36F&quot;}]"><y>#</y><d>2017-06-07</d><h>22:49</h><w>shaunlebron</w>any ideas for the name of the cli command? <a>@dominicm</a></z><z id="t1496875960" t="dominicm Hmm. Something inside me feels cheesy, but parinfmt doesn&apos;t sound terrible. "><y>#</y><d>2017-06-07</d><h>22:52</h><w>dominicm</w>Hmm. Something inside me feels cheesy, but parinfmt doesn&apos;t sound terrible. </z><z id="t1496875981" t="shaunlebron lol"><y>#</y><d>2017-06-07</d><h>22:53</h><w>shaunlebron</w>lol</z><z id="t1496876018" t="shaunlebron I’d probably settle for parinfer-fmt if we’re going that direction"><y>#</y><d>2017-06-07</d><h>22:53</h><w>shaunlebron</w>I’d probably settle for parinfer-fmt if we’re going that direction</z><z id="t1496876133" t="shaunlebron or parinfer-prettify or just parinfer"><y>#</y><d>2017-06-07</d><h>22:55</h><w>shaunlebron</w>or parinfer-prettify or just parinfer</z><z id="t1496965498" t="shaunlebron [:attrs {:href &quot;/_/_/users/U09LZR36F&quot;}] : can you (or someone) sanity check this before publishing?"><y>#</y><d>2017-06-08</d><h>23:44</h><w>shaunlebron</w><a>@dominicm</a>: can you (or someone) sanity check this before publishing?</z><z id="t1496965505" t="shaunlebron https://github.com/shaunlebron/parlinter"><y>#</y><d>2017-06-08</d><h>23:45</h><w>shaunlebron</w><a href="https://github.com/shaunlebron/parlinter" target="_blank">https://github.com/shaunlebron/parlinter</a></z><z id="t1496965559" t="dominicm That&apos;s a funny name. Mind if I check in ~10 hours?"><y>#</y><d>2017-06-08</d><h>23:45</h><w>dominicm</w>That&apos;s a funny name. Mind if I check in ~10 hours?</z><z id="t1496968414" t="shaunlebron sure!"><y>#</y><d>2017-06-09</d><h>00:33</h><w>shaunlebron</w>sure!</z><z id="t1496968543" t="shaunlebron not crazy about the name"><y>#</y><d>2017-06-09</d><h>00:35</h><w>shaunlebron</w>not crazy about the name</z><z id="t1496968635" t="shaunlebron wanted it to be slightly related to parinfer, without creating an impression that it forces everyone to use parinfer if it’s used"><y>#</y><d>2017-06-09</d><h>00:37</h><w>shaunlebron</w>wanted it to be slightly related to parinfer, without creating an impression that it forces everyone to use parinfer if it’s used</z><z id="t1496997234" t="dominicm [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] fraction of a second on 40k loc"><y>#</y><d>2017-06-09</d><h>08:33</h><w>dominicm</w><a>@shaunlebron</a> fraction of a second on 40k loc</z><z id="t1496997294" t="dominicm 2.5s on 31k loc"><y>#</y><d>2017-06-09</d><h>08:34</h><w>dominicm</w>2.5s on 31k loc</z><z id="t1496997313" t="dominicm 0.77s on the 40k loc."><y>#</y><d>2017-06-09</d><h>08:35</h><w>dominicm</w>0.77s on the 40k loc.</z><z id="t1496997958" t="dominicm [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] changes lgtm. Biggest change on one project was that a bunch of #_ -related indents."><y>#</y><d>2017-06-09</d><h>08:45</h><w>dominicm</w><a>@shaunlebron</a> changes lgtm. Biggest change on one project was that a bunch of <code>#_</code>-related indents.</z><z id="t1496999455" t="dominicm Not sure if this is intentional, but: (let [x 1 ] x) Seems to leave behind an empty line where the ] was"><y>#</y><d>2017-06-09</d><h>09:10</h><w>dominicm</w>Not sure if this is intentional, but:

<pre>(let [x 1
      ]
  x)
</pre>

Seems to leave behind an empty line where the <code>]</code> was</z><z id="t1496999854" t="dominicm also multi-line strings don&apos;t get indented. E.g.: (defn foo &quot;Hello world&quot;) (defn foo &quot;Hello world&quot;) "><y>#</y><d>2017-06-09</d><h>09:17</h><w>dominicm</w>also multi-line strings don&apos;t get indented. E.g.:

<pre>(defn foo
&quot;Hello
world&quot;)
</pre>

<pre>(defn foo
 &quot;Hello
world&quot;)
</pre></z><z id="t1497019445" t="shaunlebron [:attrs {:href &quot;/_/_/users/U09LZR36F&quot;}] thanks for feedback!"><y>#</y><d>2017-06-09</d><h>14:44</h><w>shaunlebron</w><a>@dominicm</a> thanks for feedback!</z><z id="t1497019554" t="shaunlebron i’ll try adding an option to delete lines that were left empty after linting"><y>#</y><d>2017-06-09</d><h>14:45</h><w>shaunlebron</w>i’ll try adding an option to delete lines that were left empty after linting</z><z id="t1497019621" t="shaunlebron multi-line strings cannot be indented, since that would be adding more literal spaces inside the string, thereby breaking code!"><y>#</y><d>2017-06-09</d><h>14:47</h><w>shaunlebron</w>multi-line strings cannot be indented, since that would be adding more literal spaces inside the string, thereby breaking code!</z><z id="t1497019649" t="shaunlebron i’ll add a note about that 👍"><y>#</y><d>2017-06-09</d><h>14:47</h><w>shaunlebron</w>i’ll add a note about that <b>👍</b></z><z id="t1497020100" t="dominicm [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] yeah, I thought that might be the case. There&apos;s perhaps an &quot;edge case detection&quot; where you say &quot;This is all aligned already, and it&apos;s inside a defn , let&apos;s indent it &amp; warn the user&quot;. But I&apos;m not sold on that being a good approach."><y>#</y><d>2017-06-09</d><h>14:55</h><w>dominicm</w><a>@shaunlebron</a> yeah, I thought that might be the case. There&apos;s perhaps an &quot;edge case detection&quot; where you say &quot;This is all aligned already, and it&apos;s inside a <code>defn</code>, let&apos;s indent it &amp; warn the user&quot;. But I&apos;m not sold on that being a good approach.</z><z id="t1497020182" t="shaunlebron ah, I see what you mean"><y>#</y><d>2017-06-09</d><h>14:56</h><w>shaunlebron</w>ah, I see what you mean</z><z id="t1497020188" t="shaunlebron for things like docstrings I suppose"><y>#</y><d>2017-06-09</d><h>14:56</h><w>shaunlebron</w>for things like docstrings I suppose</z><z id="t1497020210" t="shaunlebron where it doesn’t really matter"><y>#</y><d>2017-06-09</d><h>14:56</h><w>shaunlebron</w>where it doesn’t really matter</z><z id="t1497020282" t="shaunlebron docstrings are a bit inconsistent in the cljs compiler code—sometimes it’s indented to the first &quot; , other times is it’s indented one space to the right of it"><y>#</y><d>2017-06-09</d><h>14:58</h><w>shaunlebron</w>docstrings are a bit inconsistent in the cljs compiler code—sometimes it’s indented to the first <code>&quot;</code>, other times is it’s indented one space to the right of it</z><z id="t1497020290" t="dominicm I know. 😞"><y>#</y><d>2017-06-09</d><h>14:58</h><w>dominicm</w>I know. <b>😞</b></z><z id="t1497020294" t="shaunlebron and sometimes it changes within the same docstring"><y>#</y><d>2017-06-09</d><h>14:58</h><w>shaunlebron</w>and sometimes it changes within the same docstring</z><z id="t1497020310" t="shaunlebron very hard to detect"><y>#</y><d>2017-06-09</d><h>14:58</h><w>shaunlebron</w>very hard to detect</z><z id="t1497020422" t="dominicm I think Clojure&apos;s multi-line string support isn&apos;t necessarily great tbh. I wish I could do: &lt;&lt;EOS If you provide &quot;foo&quot; as a parameter… EOS for example."><y>#</y><d>2017-06-09</d><h>15:00</h><w>dominicm</w>I think Clojure&apos;s multi-line string support isn&apos;t necessarily great tbh. I wish I could do:

<pre>&lt;&lt;EOS
If you provide &quot;foo&quot; as a parameter…
EOS
</pre>

for example.</z><z id="t1497020450" t="dominicm I agree, I notice it a lot. I imagine zprint is the tool for fixing that (I didn&apos;t check!)"><y>#</y><d>2017-06-09</d><h>15:00</h><w>dominicm</w>I agree, I notice it a lot. I imagine zprint is the tool for fixing that (I didn&apos;t check!)</z><z id="t1497020521" t="dominicm it doesn&apos;t 😞"><y>#</y><d>2017-06-09</d><h>15:02</h><w>dominicm</w>it doesn&apos;t <b>😞</b></z><z id="t1497020583" t="shaunlebron would you throw a reader error if text inside the heredoc was indented to the left of the &lt;&lt; ?"><y>#</y><d>2017-06-09</d><h>15:03</h><w>shaunlebron</w>would you throw a reader error if text inside the heredoc was indented to the left of the <code>&lt;&lt;</code> ?</z><z id="t1497020660" t="shaunlebron i’ve heard these complaints before, but I’m not sure how people would solve it"><y>#</y><d>2017-06-09</d><h>15:04</h><w>shaunlebron</w>i’ve heard these complaints before, but I’m not sure how people would solve it</z><z id="t1497020705" t="dominicm [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] I&apos;m sure there&apos;s issues 🙂 . I&apos;m not really sure what a heredoc is! I just know it would be nice not to have to worry about string escaping at times, for doing expressive docs."><y>#</y><d>2017-06-09</d><h>15:05</h><w>dominicm</w><a>@shaunlebron</a> I&apos;m sure there&apos;s issues <b>🙂</b>. I&apos;m not really sure what a heredoc is! I just know it would be nice not to have to worry about string escaping at times, for doing expressive docs.</z><z id="t1497020765" t="shaunlebron [:attrs {:href &quot;/_/_/users/U09LZR36F&quot;}] heredoc is the common name for the &lt;&lt;EOS syntax for describing multiline strings"><y>#</y><d>2017-06-09</d><h>15:06</h><w>shaunlebron</w><a>@dominicm</a> heredoc is the common name for the <code>&lt;&lt;EOS</code> syntax for describing multiline strings</z><z id="t1497020856" t="shaunlebron anyway, definitely don’t commit those linted files yet, the trim will have to know about the original code so it doesn’t remove the other empty lines"><y>#</y><d>2017-06-09</d><h>15:07</h><w>shaunlebron</w>anyway, definitely don’t commit those linted files yet, the trim will have to know about the original code so it doesn’t remove the other empty lines</z><z id="t1497020857" t="dominicm [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] ah! I see. I guess the current bash/ruby implementations would be worth comparing against. I don&apos;t really feel strongly, I&apos;m just currently thinking about docs. No doubt I&apos;ll end up at literate programming."><y>#</y><d>2017-06-09</d><h>15:07</h><w>dominicm</w><a>@shaunlebron</a> ah! I see. I guess the current bash/ruby implementations would be worth comparing against. I don&apos;t really feel strongly, I&apos;m just currently thinking about docs. No doubt I&apos;ll end up at literate programming.</z><z id="t1497020871" t="dominicm Oh, I already landed that bomb 😉"><y>#</y><d>2017-06-09</d><h>15:07</h><w>dominicm</w>Oh, I already landed that bomb <b>😉</b></z><z id="t1497020893" t="dominicm I fixed it manually, vim made it easy enough, especially as I checked every change manually so I&apos;d have feedback."><y>#</y><d>2017-06-09</d><h>15:08</h><w>dominicm</w>I fixed it manually, vim made it easy enough, especially as I checked every change manually so I&apos;d have feedback.</z><z id="t1497020898" t="shaunlebron ah, the perils of being a beta tester"><y>#</y><d>2017-06-09</d><h>15:08</h><w>shaunlebron</w>ah, the perils of being a beta tester</z><z id="t1497020918" t="shaunlebron cool 👍 appreciate it. good feedback"><y>#</y><d>2017-06-09</d><h>15:08</h><w>shaunlebron</w>cool <b>👍</b> appreciate it.  good feedback</z><z id="t1497020965" t="shaunlebron [:attrs {:href &quot;/_/_/users/U09LZR36F&quot;}] did you have to negotiate at all with your team?"><y>#</y><d>2017-06-09</d><h>15:09</h><w>shaunlebron</w><a>@dominicm</a> did you have to negotiate at all with your team?</z><z id="t1497020981" t="shaunlebron and did you integrate it as a check?"><y>#</y><d>2017-06-09</d><h>15:09</h><w>shaunlebron</w>and did you integrate it as a check?</z><z id="t1497021025" t="dominicm [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] I ran it as a one-off for now. No negotiating required. The changes were mostly sane. I also manually reverted a change around https://github.com/shaunlebron/parinfer/issues/92"><y>#</y><d>2017-06-09</d><h>15:10</h><w>dominicm</w><a>@shaunlebron</a> I ran it as a one-off for now. No negotiating required. The changes were mostly sane. I also manually reverted a change around <a href="https://github.com/shaunlebron/parinfer/issues/92" target="_blank">https://github.com/shaunlebron/parinfer/issues/92</a></z><z id="t1497021070" t="dominicm It was easy to use parlinter on the codebase because it&apos;s not invasive at all. Nobody is going to fight fixing confusing indentation &amp; moving parens onto the same line."><y>#</y><d>2017-06-09</d><h>15:11</h><w>dominicm</w>It was easy to use parlinter on the codebase because it&apos;s not invasive at all. Nobody is going to fight fixing confusing indentation &amp; moving parens onto the same line.</z><z id="t1497021134" t="shaunlebron I’m documenting the cases where people might fight it"><y>#</y><d>2017-06-09</d><h>15:12</h><w>shaunlebron</w>I’m documenting the cases where people might fight it</z><z id="t1497021167" t="shaunlebron you’re saying you reverted the comment change to keep the paren after the comment?"><y>#</y><d>2017-06-09</d><h>15:12</h><w>shaunlebron</w>you’re saying you reverted the comment change to keep the paren after the comment?</z><z id="t1497021219" t="dominicm [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] yes."><y>#</y><d>2017-06-09</d><h>15:13</h><w>dominicm</w><a>@shaunlebron</a> yes.</z><z id="t1497021261" t="dominicm I also think using git ls-files -- **/*.{edn,clj{,c,s}} for the list of inputs to parlinter would have been faster, as parlinter probably ran against the compiled files unnecessarily."><y>#</y><d>2017-06-09</d><h>15:14</h><w>dominicm</w>I also think using <code>git ls-files -- **/*.{edn,clj{,c,s}}</code> for the list of inputs to parlinter would have been faster, as parlinter probably ran against the compiled files unnecessarily.</z><z id="t1497021282" t="dominicm uh, you suggest **/*.{edn,clj,cljc,cljs} but same thing"><y>#</y><d>2017-06-09</d><h>15:14</h><w>dominicm</w>uh, you suggest <code>**/*.{edn,clj,cljc,cljs}</code> but same thing</z><z id="t1497021342" t="shaunlebron do you think the comment case can be resolved in Indent Mode somehow? that’s a scary thing to me but I’ll try to revisit"><y>#</y><d>2017-06-09</d><h>15:15</h><w>shaunlebron</w>do you think the comment case can be resolved in Indent Mode somehow?  that’s a scary thing to me but I’ll try to revisit</z><z id="t1497021474" t="dominicm [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] I&apos;ve no idea. I know you didn&apos;t like the edge case of it. It&apos;s definitely kind of incompatible with parinfer. But it&apos;s definitely the sort of thing I see in codebases quite commonly, and removing it isn&apos;t really okay where we have it (usually detailing the reasons for elements in a vector, or documenting why some function unexpectedly appears at the end of the threading macro)"><y>#</y><d>2017-06-09</d><h>15:17</h><w>dominicm</w><a>@shaunlebron</a> I&apos;ve no idea. I know you didn&apos;t like the edge case of it. It&apos;s definitely kind of incompatible with parinfer. But it&apos;s definitely the sort of thing I see in codebases quite commonly, and removing it isn&apos;t really okay where we have it (usually detailing the reasons for elements in a vector, or documenting why some function unexpectedly appears at the end of the threading macro)</z><z id="t1497021524" t="dominicm &gt; quite commonly Rather, I see it often in codebases &quot;at least once&quot;. So, I don&apos;t see it everywhere. But I usually do see it. Not sure how to word that."><y>#</y><d>2017-06-09</d><h>15:18</h><w>dominicm</w>&gt; quite commonly

Rather, I see it often in codebases &quot;at least once&quot;. So, I don&apos;t see it everywhere. But I usually do see it. Not sure how to word that.</z><z id="t1497021718" t="shaunlebron I suppose (comment) would work better, but would be inconsistent with the other ;; comments"><y>#</y><d>2017-06-09</d><h>15:21</h><w>shaunlebron</w>I suppose <code>(comment)</code> would work better, but would be inconsistent with the other <code>;;</code> comments</z><z id="t1497021838" t="shaunlebron my concern is that it won’t be integrated as a checker if it fails on an edge case that people want to keep around, and I’ll have to add a ;; parinfer: ignore directive"><y>#</y><d>2017-06-09</d><h>15:23</h><w>shaunlebron</w>my concern is that it won’t be integrated as a checker if it fails on an edge case that people want to keep around, and I’ll have to add a <code>;; parinfer: ignore</code> directive</z><z id="t1497021844" t="dominicm Well: (-&gt; 10 distinct (comment This is like this because reasons of #1 XYZ, #2 DEH)) A. syntax highlights B. Triggers the tag reader"><y>#</y><d>2017-06-09</d><h>15:24</h><w>dominicm</w>Well:

<pre>(-&gt; 10
    distinct (comment This is like this because reasons of #1 XYZ, #2  DEH))
</pre>

A. syntax highlights
B. Triggers the tag reader</z><z id="t1497021866" t="shaunlebron I agree"><y>#</y><d>2017-06-09</d><h>15:24</h><w>shaunlebron</w>I agree</z><z id="t1497021871" t="shaunlebron maybe as a string"><y>#</y><d>2017-06-09</d><h>15:24</h><w>shaunlebron</w>maybe as a string</z><z id="t1497021886" t="shaunlebron yeah, it’s just bad"><y>#</y><d>2017-06-09</d><h>15:24</h><w>shaunlebron</w>yeah, it’s just bad</z><z id="t1497021926" t="shaunlebron (-&gt; 10 distinct) ;; This is like this because reasons of #1 XYZ, #2 DEH "><y>#</y><d>2017-06-09</d><h>15:25</h><w>shaunlebron</w><pre>(-&gt; 10
    distinct) ;; This is like this because reasons of #1 XYZ, #2  DEH
</pre></z><z id="t1497021955" t="shaunlebron obviously that’s not an illustrative case for the problem we’re describing though"><y>#</y><d>2017-06-09</d><h>15:25</h><w>shaunlebron</w>obviously that’s not an illustrative case for the problem we’re describing though</z><z id="t1497022103" t="dominicm I think the big benefit you get with (-&gt; 10 distinct ;; This is like this because reasons of #1 XYZ, #2 DEH ) Is that it&apos;s clear you&apos;re targetting the distinct vs the the whole (-&gt;)"><y>#</y><d>2017-06-09</d><h>15:28</h><w>dominicm</w>I think the big benefit you get with

<pre>(-&gt; 10
    distinct ;; This is like this because reasons of #1 XYZ, #2  DEH
    )
</pre>

Is that it&apos;s clear you&apos;re targetting the distinct vs the the whole <code>(-&gt;)</code></z><z id="t1497022137" t="dominicm The trailing paren hurts me though. I agree that it&apos;s an annoying edge case."><y>#</y><d>2017-06-09</d><h>15:28</h><w>dominicm</w>The trailing paren hurts me though. I agree that it&apos;s an annoying edge case.</z><z id="t1497022141" t="shaunlebron (-&gt; 10 distinct ;; This is like this because reasons of #1 XYZ, #2 DEH (comment)) (-&gt; 10 distinct ;; This is like this because reasons of #1 XYZ, #2 DEH #_ignore_me!) "><y>#</y><d>2017-06-09</d><h>15:29</h><w>shaunlebron</w><pre>(-&gt; 10
    distinct
    ;; This is like this because reasons of #1 XYZ, #2  DEH
    (comment))

(-&gt; 10
    distinct
    ;; This is like this because reasons of #1 XYZ, #2  DEH
    #_ignore_me!)
</pre></z><z id="t1497022174" t="shaunlebron it can be used as a sentinel maybe"><y>#</y><d>2017-06-09</d><h>15:29</h><w>shaunlebron</w>it can be used as a sentinel maybe</z><z id="t1497022179" t="dominicm The answer is probably to do this: (-&gt; 10 ;; This is like this because reasons of #1 XYZ, #2 DEH: distinct) "><y>#</y><d>2017-06-09</d><h>15:29</h><w>dominicm</w>The answer is probably to do this:

<pre>(-&gt; 10
     ;; This is like this because reasons of #1 XYZ, #2  DEH:
    distinct)
</pre></z><z id="t1497022324" t="shaunlebron that works, but (+ 1 2 (comment)) is 3, and I think that’s the only way to create a sentinel to allow Parinfer to keep the paren after a comment"><y>#</y><d>2017-06-09</d><h>15:32</h><w>shaunlebron</w>that works, but <code>(+ 1 2 (comment))</code> is 3, and I think that’s the only way to create a sentinel to allow Parinfer to keep the paren after a comment</z><z id="t1497022391" t="shaunlebron oh, and #__ would work too"><y>#</y><d>2017-06-09</d><h>15:33</h><w>shaunlebron</w>oh, and <code>#__</code> would work too</z><z id="t1497022421" t="dominicm Not entirely great to be writing code specifically for parinfer though. My team don&apos;t use parinfer, so would probably ? over such code"><y>#</y><d>2017-06-09</d><h>15:33</h><w>dominicm</w>Not entirely great to be writing code specifically for parinfer though. My team don&apos;t use parinfer, so would probably ? over such code</z><z id="t1497022533" t="shaunlebron yeah I agree, was just tempted by the technical novelty of the solution i hadn’t realized before"><y>#</y><d>2017-06-09</d><h>15:35</h><w>shaunlebron</w>yeah I agree, was just tempted by the technical novelty of the solution i hadn’t realized before</z><z id="t1497029823" t="dominicm I have another codebase that can have the linter treatment btw, so let me know when trimming all works"><y>#</y><d>2017-06-09</d><h>17:37</h><w>dominicm</w>I have another codebase that can have the linter treatment btw, so let me know when trimming all works</z><z id="t1497037417" t="shaunlebron [:attrs {:href &quot;/_/_/users/U09LZR36F&quot;}] trimming seems to work if you wanna give it a try"><y>#</y><d>2017-06-09</d><h>19:43</h><w>shaunlebron</w><a>@dominicm</a> trimming seems to work if you wanna give it a try</z><z id="t1497040656" t="dominicm [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] LGTM!"><y>#</y><d>2017-06-09</d><h>20:37</h><w>dominicm</w><a>@shaunlebron</a> LGTM!</z><z id="t1497040997" t="dominicm just for fun, usage from vim: !aFparlinter --trim --stdin"><y>#</y><d>2017-06-09</d><h>20:43</h><w>dominicm</w>just for fun, usage from vim: <code>!aFparlinter --trim --stdin</code></z><z id="t1497041241" t="dominicm A case where using ;; Foo is like cause X: doesn&apos;t work: {:foo 1 ;;:bar 10 } "><y>#</y><d>2017-06-09</d><h>20:47</h><w>dominicm</w>A case where using <code>;; Foo is like cause X: </code> doesn&apos;t work:

<pre>{:foo 1
 ;;:bar 10
}
</pre></z><z id="t1497041269" t="dominicm again, uncertain how I feel about it 🙂 totally understand why it is how it is."><y>#</y><d>2017-06-09</d><h>20:47</h><w>dominicm</w>again, uncertain how I feel about it <b>🙂</b> totally understand why it is how it is.</z><z id="t1497046100" t="dominicm [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] https://github.com/shaunlebron/parinfer/tree/master/lib#api &gt; full text input The whole file? Does it have to be? Or can it be the top level form &gt; cursorLine Relative to the section of text, or whole file?"><y>#</y><d>2017-06-09</d><h>22:08</h><w>dominicm</w><a>@shaunlebron</a> 

<a href="https://github.com/shaunlebron/parinfer/tree/master/lib#api" target="_blank">https://github.com/shaunlebron/parinfer/tree/master/lib#api</a>

&gt; full text input

The whole file? Does it have to be? Or can it be the top level form

&gt; cursorLine

Relative to the section of text, or whole file?</z><z id="t1497046147" t="shaunlebron atom uses it to format top-level forms"><y>#</y><d>2017-06-09</d><h>22:09</h><w>shaunlebron</w>atom uses it to format top-level forms</z><z id="t1497046163" t="shaunlebron where the cursor is relative to the form"><y>#</y><d>2017-06-09</d><h>22:09</h><w>shaunlebron</w>where the cursor is relative to the form</z><z id="t1497046243" t="dominicm Okay, cool. I think the nvim parinfer slow down may be due to it running on whole file. Currently hell on a 1.3k line file. Gonna try optimise the plugin 🙂"><y>#</y><d>2017-06-09</d><h>22:10</h><w>dominicm</w>Okay, cool. I think the nvim parinfer slow down may be due to it running on whole file. Currently hell on a 1.3k line file. Gonna try optimise the plugin <b>🙂</b></z><z id="t1497047081" t="shaunlebron [:attrs {:href &quot;/_/_/users/U09LZR36F&quot;}] strange, not sure what the slowdown could be"><y>#</y><d>2017-06-09</d><h>22:24</h><w>shaunlebron</w><a>@dominicm</a> strange, not sure what the slowdown could be</z><z id="t1497047137" t="shaunlebron also, both zprint and cljfmt allow parens after a comment 😕"><y>#</y><d>2017-06-09</d><h>22:25</h><w>shaunlebron</w>also, both zprint and cljfmt allow parens after a comment <b>😕</b></z><z id="t1497084718" t="dominicm Could be the part where it replaces the whole file 🙂"><y>#</y><d>2017-06-10</d><h>08:51</h><w>dominicm</w>Could be the part where it replaces the whole file <b>🙂</b></z><z id="t1497087990" t="dominicm [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] is changedLines deprecated?"><y>#</y><d>2017-06-10</d><h>09:46</h><w>dominicm</w><a>@shaunlebron</a> is changedLines deprecated?</z><z id="t1497096537" t="dominicm It looks like it was removed as part of the api, but the .js lib is still exposing it"><y>#</y><d>2017-06-10</d><h>12:08</h><w>dominicm</w>It looks like it was removed as part of the api, but the .js lib is still exposing it</z><z id="t1497101316" t="dominicm [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] the slowdown is caused by folding searching the entire file after the text changed (to find the closing paren). cc/ [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}]"><y>#</y><d>2017-06-10</d><h>13:28</h><w>dominicm</w><a>@shaunlebron</a> the slowdown is caused by folding searching the entire file after the text changed (to find the closing paren). cc/ <a>@snoe</a></z><z id="t1497112282" t="shaunlebron [:attrs {:href &quot;/_/_/users/U09LZR36F&quot;}] : reading through the commits, it’s removed for the ‘newline’ fix but I never shipped it"><y>#</y><d>2017-06-10</d><h>16:31</h><w>shaunlebron</w><a>@dominicm</a>: reading through the commits, it’s removed for the ‘newline’ fix but I never shipped it</z><z id="t1497112297" t="shaunlebron the changedLines API should still work for 2.0.0"><y>#</y><d>2017-06-10</d><h>16:31</h><w>shaunlebron</w>the changedLines API should still work for 2.0.0</z><z id="t1497112337" t="shaunlebron I’ll back out the unreleased master changes, I’m surprised I put that code in master and not in a branch"><y>#</y><d>2017-06-10</d><h>16:32</h><w>shaunlebron</w>I’ll back out the unreleased master changes, I’m surprised I put that code in master and not in a branch</z><z id="t1497112377" t="shaunlebron i’ll try to keep it around if you’re using it, not sure if anyone else is"><y>#</y><d>2017-06-10</d><h>16:32</h><w>shaunlebron</w>i’ll try to keep it around if you’re using it, not sure if anyone else is</z><z id="t1497112459" t="dominicm I&apos;m not now I figured out that the bug was vim related, not a bug in nvim parinfer 🙂 . It does seem like a good way to update large buffers though. But it doesn&apos;t seem to have been an issue yet."><y>#</y><d>2017-06-10</d><h>16:34</h><w>dominicm</w>I&apos;m not now I figured out that the bug was vim related, not a bug in nvim parinfer <b>🙂</b>. It does seem like a good way to update large buffers though. But it doesn&apos;t seem to have been an issue yet.</z><z id="t1497113025" t="shaunlebron [:attrs {:href &quot;/_/_/users/U09LZR36F&quot;}] does nvim parinfer update on keypress or when entering normal mode like vim-parinfer?"><y>#</y><d>2017-06-10</d><h>16:43</h><w>shaunlebron</w><a>@dominicm</a> does nvim parinfer update on keypress or when entering normal mode like vim-parinfer?</z><z id="t1497113628" t="dominicm [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] Keypress."><y>#</y><d>2017-06-10</d><h>16:53</h><w>dominicm</w><a>@shaunlebron</a> Keypress.</z><z id="t1497150602" t="spinningarrow [:attrs {:href &quot;/_/_/users/U09LZR36F&quot;}] does it also only consider the parent form (like atom-parinfer) or the whole file?"><y>#</y><d>2017-06-11</d><h>03:10</h><w>spinningarrow</w><a>@dominicm</a> does it also only consider the parent form (like atom-parinfer) or the whole file?</z><z id="t1497162070" t="shaunlebron [:attrs {:href &quot;/_/_/users/U062H9HU5&quot;}] it does whole file as of yesterday, but he’s looking into doing only parent form I believe"><y>#</y><d>2017-06-11</d><h>06:21</h><w>shaunlebron</w><a>@spinningarrow</a> it does whole file as of yesterday, but he’s looking into doing only parent form I believe</z><z id="t1497164305" t="spinningarrow Ah okay"><y>#</y><d>2017-06-11</d><h>06:58</h><w>spinningarrow</w>Ah okay</z><z id="t1497164305" t="spinningarrow Ah okay"><y>#</y><d>2017-06-11</d><h>06:58</h><w>spinningarrow</w>Ah okay</z><z id="t1497164345" t="spinningarrow I was playing with vim parinfer - in vim8 there are some autocommands we can use to call parinfer even in insert mode"><y>#</y><d>2017-06-11</d><h>06:59</h><w>spinningarrow</w>I was playing with vim parinfer - in vim8 there are some autocommands we can use to call parinfer even in insert mode</z><z id="t1497164360" t="spinningarrow TextChangedI I think it was"><y>#</y><d>2017-06-11</d><h>06:59</h><w>spinningarrow</w>TextChangedI I think it was</z><z id="t1497165708" t="dominicm [:attrs {:href &quot;/_/_/users/U062H9HU5&quot;}] yeah, TextChangedI is what is used."><y>#</y><d>2017-06-11</d><h>07:21</h><w>dominicm</w><a>@spinningarrow</a> yeah, TextChangedI is what is used.</z><z id="t1497165774" t="dominicm [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] during rewriting, I did a profile. On the whole file (1.3k) parinfer was near-instant. Like, so fast. The slow down was writing to the buffer, which I fixed by turning off code folding (the click to collapse feature in most ides)"><y>#</y><d>2017-06-11</d><h>07:22</h><w>dominicm</w><a>@shaunlebron</a> during rewriting, I did a profile. On the whole file (1.3k) parinfer was near-instant. Like, so fast. The slow down was writing to the buffer, which I fixed by turning off code folding (the click to collapse feature in most ides)</z><z id="t1497165858" t="dominicm Trying to do top-level form detection is difficult. I looked at atom-parinfer&apos;s implementation &amp; read surrounding issues, it&apos;s a bit of a hack with edge case concerns. As parinfer on whole file is fast already, I didn&apos;t bother."><y>#</y><d>2017-06-11</d><h>07:24</h><w>dominicm</w>Trying to do top-level form detection is difficult. I looked at atom-parinfer&apos;s implementation &amp; read surrounding issues, it&apos;s a bit of a hack with edge case concerns. As parinfer on whole file is fast already, I didn&apos;t bother.</z><z id="t1497166035" t="spinningarrow [:attrs {:href &quot;/_/_/users/U09LZR36F&quot;}] ah nice, do you mean in neovim or vim?"><y>#</y><d>2017-06-11</d><h>07:27</h><w>spinningarrow</w><a>@dominicm</a> ah nice, do you mean in neovim or vim?</z><z id="t1497166054" t="dominicm [:attrs {:href &quot;/_/_/users/U062H9HU5&quot;}] in Neovim."><y>#</y><d>2017-06-11</d><h>07:27</h><w>dominicm</w><a>@spinningarrow</a> in Neovim.</z><z id="t1497190865" t="spinningarrow Right. I was talking about trying to do the same for vim-parinfer as well; encouraging to know that that&apos;s how neovim-parinfer does it as well!"><y>#</y><d>2017-06-11</d><h>14:21</h><w>spinningarrow</w>Right. I was talking about trying to do the same for vim-parinfer as well; encouraging to know that that&apos;s how neovim-parinfer does it as well!</z><z id="t1497202345" t="shaunlebron [:attrs {:href &quot;/_/_/users/U09LZR36F&quot;}] nice! i’ll install it today and give it a try"><y>#</y><d>2017-06-11</d><h>17:32</h><w>shaunlebron</w><a>@dominicm</a> nice!  i’ll install it today and give it a try</z><z id="t1497288369" t="shaunlebron wasn’t able to get nvim-parinfer.js working"><y>#</y><d>2017-06-12</d><h>17:26</h><w>shaunlebron</w>wasn’t able to get nvim-parinfer.js working</z><z id="t1497288395" t="shaunlebron keeps saying this: Error detected while processing function &lt;SNR&gt;57_indent: line 6: E117: Unknown function: ParinferIndent "><y>#</y><d>2017-06-12</d><h>17:26</h><w>shaunlebron</w>keeps saying this:

<pre>Error detected while processing function &lt;SNR&gt;57_indent:
line    6:
E117: Unknown function: ParinferIndent
</pre></z><z id="t1497289846" t="dominicm [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] Did you do :UpdateRemotePlugins ?"><y>#</y><d>2017-06-12</d><h>17:50</h><w>dominicm</w><a>@shaunlebron</a> Did you do <code>:UpdateRemotePlugins</code>?</z><z id="t1497289980" t="dominicm You might also be missing https://github.com/neovim/node-host"><y>#</y><d>2017-06-12</d><h>17:53</h><w>dominicm</w>You might also be missing <a href="https://github.com/neovim/node-host" target="_blank">https://github.com/neovim/node-host</a></z><z id="t1497290056" t="dominicm I get the same error as you if I don&apos;t do :UpdateRemotePlugins"><y>#</y><d>2017-06-12</d><h>17:54</h><w>dominicm</w>I get the same error as you if I don&apos;t do <code>:UpdateRemotePlugins</code></z><z id="t1497294502" t="shaunlebron [:attrs {:href &quot;/_/_/users/U09LZR36F&quot;}] yeah I ran it. ran it again and I got this: remote/host: node host registered plugins [&apos;nvim-parinfer.js&apos;, &apos;nvim-parinfer.js&apos;] "><y>#</y><d>2017-06-12</d><h>19:08</h><w>shaunlebron</w><a>@dominicm</a> yeah I ran it.  ran it again and I got this:

<pre>remote/host: node host registered plugins [&apos;nvim-parinfer.js&apos;, &apos;nvim-parinfer.js&apos;]
</pre></z><z id="t1497294534" t="dominicm Twice? That&apos;s a bad sign."><y>#</y><d>2017-06-12</d><h>19:08</h><w>dominicm</w>Twice? That&apos;s a bad sign.</z><z id="t1497294540" t="dominicm How did you install the plugin [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] ?"><y>#</y><d>2017-06-12</d><h>19:09</h><w>dominicm</w>How did you install the plugin <a>@shaunlebron</a> ?</z><z id="t1497294567" t="shaunlebron i might’ve tried installing it a year or so ago"><y>#</y><d>2017-06-12</d><h>19:09</h><w>shaunlebron</w>i might’ve tried installing it a year or so ago</z><z id="t1497294583" t="shaunlebron but today I installed it via Vundle in init.vim"><y>#</y><d>2017-06-12</d><h>19:09</h><w>shaunlebron</w>but today I installed it via Vundle in init.vim</z><z id="t1497294832" t="dominicm [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] You may have it installed twice 🙂 I&apos;d check ~/.config/nvim/ for residue from previous attempts. Or nuke that dir &amp; start over."><y>#</y><d>2017-06-12</d><h>19:13</h><w>dominicm</w><a>@shaunlebron</a> You may have it installed twice <b>🙂</b> I&apos;d check ~/.config/nvim/ for residue from previous attempts. Or nuke that dir &amp; start over.</z><z id="t1497295634" t="shaunlebron i’ll check it out later"><y>#</y><d>2017-06-12</d><h>19:27</h><w>shaunlebron</w>i’ll check it out later</z><z id="t1497295653" t="shaunlebron i’m in #cljs-dev discussing possibly using parlinter on the cljs repo"><y>#</y><d>2017-06-12</d><h>19:27</h><w>shaunlebron</w>i’m in #cljs-dev discussing possibly using parlinter on the cljs repo</z><z id="t1497295659" t="shaunlebron interesting discussions"><y>#</y><d>2017-06-12</d><h>19:27</h><w>shaunlebron</w>interesting discussions</z><z id="t1497329359" t="shaunlebron upgraded neovim to 0.2.0"><y>#</y><d>2017-06-13</d><h>04:49</h><w>shaunlebron</w>upgraded neovim to 0.2.0</z><z id="t1497329365" t="shaunlebron nuked my bundle directory"><y>#</y><d>2017-06-13</d><h>04:49</h><w>shaunlebron</w>nuked my bundle directory</z><z id="t1497329389" t="shaunlebron function remote#host#UpdateRemotePlugins[6]..&lt;SNR&gt;59_RegistrationCommands, line 20 Vim(let):ch 2 was closed by the client remote/host: generated rplugin manifest: /Users/swilliam/.local/share/nvim/rplugin.vim "><y>#</y><d>2017-06-13</d><h>04:49</h><w>shaunlebron</w><pre>function remote#host#UpdateRemotePlugins[6]..&lt;SNR&gt;59_RegistrationCommands, line 20
Vim(let):ch 2 was closed by the client
remote/host: generated rplugin manifest: /Users/swilliam/.local/share/nvim/rplugin.vim
</pre></z><z id="t1497329402" t="shaunlebron that after :UpdateRemotePlugins"><y>#</y><d>2017-06-13</d><h>04:50</h><w>shaunlebron</w>that after <code>:UpdateRemotePlugins</code></z><z id="t1497329448" t="shaunlebron and opening a cljs file starts with an error on launch: Error detected while processing function &lt;SNR&gt;60_indentparen: line 8: E117: Unknown function: ParinferIndent E15: Invalid expression: ParinferIndent() line 10: E121: Undefined variable: lines E116: Invalid arguments for function empty(lines) E15: Invalid expression: !empty(lines) "><y>#</y><d>2017-06-13</d><h>04:50</h><w>shaunlebron</w>and opening a cljs file starts with an error on launch:

<pre>Error detected while processing function &lt;SNR&gt;60_indentparen:
line    8:
E117: Unknown function: ParinferIndent
E15: Invalid expression: ParinferIndent()
line   10:
E121: Undefined variable: lines
E116: Invalid arguments for function empty(lines)
E15: Invalid expression: !empty(lines)
</pre></z><z id="t1497329665" t="shaunlebron this was after running npm install in ~/.config/nvim/bundle/node-host as well"><y>#</y><d>2017-06-13</d><h>04:54</h><w>shaunlebron</w>this was after running <code>npm install</code> in <code>~/.config/nvim/bundle/node-host</code> as well</z><z id="t1497366021" t="dominicm [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] was there anything in ~/.config/nvim/rplugin ?"><y>#</y><d>2017-06-13</d><h>15:00</h><w>dominicm</w><a>@shaunlebron</a> was there anything in ~/.config/nvim/rplugin ?</z><z id="t1497371128" t="shaunlebron [:attrs {:href &quot;/_/_/users/U09LZR36F&quot;}] yeah, there’s a node/nvim-parinfer.js/ folder in there"><y>#</y><d>2017-06-13</d><h>16:25</h><w>shaunlebron</w><a>@dominicm</a> yeah, there’s a node/nvim-parinfer.js/ folder in there</z><z id="t1497371248" t="dominicm [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] suspicious that isn&apos;t managed by bundle"><y>#</y><d>2017-06-13</d><h>16:27</h><w>dominicm</w><a>@shaunlebron</a> suspicious that isn&apos;t managed by bundle</z><z id="t1497371913" t="shaunlebron i’ll delete the folder and try the update again"><y>#</y><d>2017-06-13</d><h>16:38</h><w>shaunlebron</w>i’ll delete the folder and try the update again</z><z id="t1497371996" t="shaunlebron [:attrs {:href &quot;/_/_/users/U09LZR36F&quot;}] worked! 🎉"><y>#</y><d>2017-06-13</d><h>16:39</h><w>shaunlebron</w><a>@dominicm</a> worked! <b>🎉</b></z><z id="t1497372028" t="shaunlebron this is nice"><y>#</y><d>2017-06-13</d><h>16:40</h><w>shaunlebron</w>this is nice</z><z id="t1497377839" t="shaunlebron gonna try it out on vimr"><y>#</y><d>2017-06-13</d><h>18:17</h><w>shaunlebron</w>gonna try it out on vimr</z><z id="t1497382777" t="dominicm Vimr is cool "><y>#</y><d>2017-06-13</d><h>19:39</h><w>dominicm</w>Vimr is cool </z><z id="t1497466460" t="shaunlebron anyone using previewCursorScope? thinking about removing it"><y>#</y><d>2017-06-14</d><h>18:54</h><w>shaunlebron</w>anyone using previewCursorScope? thinking about removing it</z></g><g id="s13"><z id="t1497471447" t="shaunlebron i had to remove it to simplify edge cases around leading close-parens"><y>#</y><d>2017-06-14</d><h>20:17</h><w>shaunlebron</w>i had to remove it to simplify edge cases around leading close-parens</z><z id="t1497490638" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] I used to use it but removed it."><y>#</y><d>2017-06-15</d><h>01:37</h><w>cfleming</w><a>@shaunlebron</a> I used to use it but removed it.</z><z id="t1497490678" t="cfleming It created too many edge conditions in IntelliJ in non-standard editors."><y>#</y><d>2017-06-15</d><h>01:37</h><w>cfleming</w>It created too many edge conditions in IntelliJ in non-standard editors.</z><z id="t1497490715" t="cfleming Actually yesterday I found an annoying side effect of not having it enabled, though:"><y>#</y><d>2017-06-15</d><h>01:38</h><w>cfleming</w>Actually yesterday I found an annoying side effect of not having it enabled, though:</z><z id="t1497490821" t="cfleming (my-fn x y|) I press enter, but I’m planning to continue entering more parameters for my-fn . (my-fn x y) | I end up with this. But I can’t remember the parameters, so I ask for parameter info. But Cursive doesn’t show it since I’m no longer inside the function invocation."><y>#</y><d>2017-06-15</d><h>01:40</h><w>cfleming</w><pre>(my-fn x y|)
</pre>
I press enter, but I’m planning to continue entering more parameters for <code>my-fn</code>.
<pre>(my-fn x y)
       |
</pre>
I end up with this. But I can’t remember the parameters, so I ask for parameter info. But Cursive doesn’t show it since I’m no longer inside the function invocation.</z><z id="t1497490856" t="cfleming Worse, that call is probably nested inside some other call, so I’ll probably get the param info for the outer call, which is confusing."><y>#</y><d>2017-06-15</d><h>01:40</h><w>cfleming</w>Worse, that call is probably nested inside some other call, so I’ll probably get the param info for the outer call, which is confusing.</z><z id="t1497490904" t="cfleming I assume the same applies to Emacs et al"><y>#</y><d>2017-06-15</d><h>01:41</h><w>cfleming</w>I assume the same applies to Emacs et al</z><z id="t1497500171" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : thanks for the example"><y>#</y><d>2017-06-15</d><h>04:16</h><w>shaunlebron</w><a>@cfleming</a>: thanks for the example</z><z id="t1497500241" t="shaunlebron incidentally, that case is handled by the patch I landed today that replaces previewCursorScope"><y>#</y><d>2017-06-15</d><h>04:17</h><w>shaunlebron</w>incidentally, that case is handled by the patch I landed today that replaces previewCursorScope</z><z id="t1497500262" t="shaunlebron paren mode is run whenever a leading close-paren is found"><y>#</y><d>2017-06-15</d><h>04:17</h><w>shaunlebron</w>paren mode is run whenever a leading close-paren is found</z><z id="t1497500280" t="shaunlebron you can see the new behavior in the demo: https://shaunlebron.github.io/parinfer/demo"><y>#</y><d>2017-06-15</d><h>04:18</h><w>shaunlebron</w>you can see the new behavior in the demo: <a href="https://shaunlebron.github.io/parinfer/demo" target="_blank">https://shaunlebron.github.io/parinfer/demo</a></z><z id="t1497500301" t="shaunlebron v3 isn’t released yet, but will at end of the week"><y>#</y><d>2017-06-15</d><h>04:18</h><w>shaunlebron</w>v3 isn’t released yet, but will at end of the week</z><z id="t1497500348" t="cfleming I still haven’t commented on your v1 vs v2 issue, sorry, but in general I agree with Chris - keeping things balanced seems like a fundamental promise parinfer makes."><y>#</y><d>2017-06-15</d><h>04:19</h><w>cfleming</w>I still haven’t commented on your v1 vs v2 issue, sorry, but in general I agree with Chris - keeping things balanced seems like a fundamental promise parinfer makes.</z><z id="t1497500368" t="shaunlebron that’s the last issue I’m going to address hopefully tomorrow"><y>#</y><d>2017-06-15</d><h>04:19</h><w>shaunlebron</w>that’s the last issue I’m going to address hopefully tomorrow</z><z id="t1497500368" t="cfleming Inserting unbalanced close parens should just not insert anything IMO."><y>#</y><d>2017-06-15</d><h>04:19</h><w>cfleming</w>Inserting unbalanced close parens should just not insert anything IMO.</z><z id="t1497500390" t="shaunlebron yeah, that’s currently landed"><y>#</y><d>2017-06-15</d><h>04:19</h><w>shaunlebron</w>yeah, that’s currently landed</z><z id="t1497500473" t="shaunlebron i feel good about the new inline inference that’ll fix the rest of it to keep it balanced"><y>#</y><d>2017-06-15</d><h>04:21</h><w>shaunlebron</w>i feel good about the new inline inference that’ll fix the rest of it to keep it balanced</z><z id="t1497500570" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : btw I think the new linter will help fix the race condition in intellij that prevented paren mode from preprocessing a file"><y>#</y><d>2017-06-15</d><h>04:22</h><w>shaunlebron</w><a>@cfleming</a>: btw I think the new linter will help fix the race condition in intellij that prevented paren mode from preprocessing a file</z><z id="t1497500599" t="cfleming I meant to ask you about that actually - how would that help?"><y>#</y><d>2017-06-15</d><h>04:23</h><w>cfleming</w>I meant to ask you about that actually - how would that help?</z><z id="t1497500652" t="shaunlebron well, I mean, if a team agrees to run paren mode on all their files before committing, that tool lets them do that"><y>#</y><d>2017-06-15</d><h>04:24</h><w>shaunlebron</w>well, I mean, if a team agrees to run paren mode on all their files before committing, that tool lets them do that</z><z id="t1497500684" t="shaunlebron but more than the tool is the accompanying readme to help clear up the types of changes and to help convince people it’s not a bad idea to use it"><y>#</y><d>2017-06-15</d><h>04:24</h><w>shaunlebron</w>but more than the tool is the accompanying readme to help clear up the types of changes and to help convince people it’s not a bad idea to use it</z><z id="t1497500747" t="shaunlebron more concretely: cursive won’t have to process files with paren mode if it’s already processed before opening"><y>#</y><d>2017-06-15</d><h>04:25</h><w>shaunlebron</w>more concretely: cursive won’t have to process files with paren mode if it’s already processed before opening</z><z id="t1497500757" t="cfleming Ah, ok, thanks."><y>#</y><d>2017-06-15</d><h>04:25</h><w>cfleming</w>Ah, ok, thanks.</z><z id="t1497500777" t="cfleming I’m still convinced that some kind of local processing will ultimately prove to be more palatable."><y>#</y><d>2017-06-15</d><h>04:26</h><w>cfleming</w>I’m still convinced that some kind of local processing will ultimately prove to be more palatable.</z><z id="t1497500793" t="cfleming But I haven’t had time to prototype it yet."><y>#</y><d>2017-06-15</d><h>04:26</h><w>cfleming</w>But I haven’t had time to prototype it yet.</z><z id="t1497500826" t="cfleming i.e. only processing the range of sexps touched by the deltas of a change."><y>#</y><d>2017-06-15</d><h>04:27</h><w>cfleming</w>i.e. only processing the range of sexps touched by the deltas of a change.</z><z id="t1497500861" t="cfleming Working out that range is actually a pretty hard problem I’m hammocking at the moment"><y>#</y><d>2017-06-15</d><h>04:27</h><w>cfleming</w>Working out that range is actually a pretty hard problem I’m hammocking at the moment</z><z id="t1497500877" t="shaunlebron that would be very valuable"><y>#</y><d>2017-06-15</d><h>04:27</h><w>shaunlebron</w>that would be very valuable</z><z id="t1497501035" t="cfleming If you can do that, then you don’t need to pre-process, and you could just show a warning if the range actually affected isn’t indented correctly."><y>#</y><d>2017-06-15</d><h>04:30</h><w>cfleming</w>If you can do that, then you don’t need to pre-process, and you could just show a warning if the range actually affected isn’t indented correctly.</z><z id="t1497501139" t="shaunlebron so it would be a stateful thing to track which lines are changed? and only process those lines?"><y>#</y><d>2017-06-15</d><h>04:32</h><w>shaunlebron</w>so it would be a stateful thing to track which lines are changed?  and only process those lines?</z><z id="t1497501244" t="cfleming So this is tied in with how IntelliJ does things, and I’m not sure how generally applicable it will be."><y>#</y><d>2017-06-15</d><h>04:34</h><w>cfleming</w>So this is tied in with how IntelliJ does things, and I’m not sure how generally applicable it will be.</z><z id="t1497501258" t="cfleming But yes, as a tldr"><y>#</y><d>2017-06-15</d><h>04:34</h><w>cfleming</w>But yes, as a tldr</z><z id="t1497501340" t="cfleming In IntelliJ, I’m not reacting to specific actions. I see a fair amount of the parinfer doc/online literature referring to “on keypress” or “on &lt;some specific thing, like paste&gt;“. I can’t really do that, since there are far too many actions for me to be able to reasonably anticipate them."><y>#</y><d>2017-06-15</d><h>04:35</h><w>cfleming</w>In IntelliJ, I’m not reacting to specific actions. I see a fair amount of the parinfer doc/online literature referring to “on keypress” or “on &lt;some specific thing, like paste&gt;“. I can’t really do that, since there are far too many actions for me to be able to reasonably anticipate them.</z><z id="t1497501391" t="cfleming I basically have to react to document changes, so on a doc change I get: change position, old length, new length, old text, new text."><y>#</y><d>2017-06-15</d><h>04:36</h><w>cfleming</w>I basically have to react to document changes, so on a doc change I get: change position, old length, new length, old text, new text.</z><z id="t1497501424" t="cfleming I’d keep track of those for a particular change, which is basically an undoable thing."><y>#</y><d>2017-06-15</d><h>04:37</h><w>cfleming</w>I’d keep track of those for a particular change, which is basically an undoable thing.</z><z id="t1497501452" t="cfleming This is trickier in IntelliJ than in most editors, since something like a rename can affect a lot of locations in the file, or even across multiple files."><y>#</y><d>2017-06-15</d><h>04:37</h><w>cfleming</w>This is trickier in IntelliJ than in most editors, since something like a rename can affect a lot of locations in the file, or even across multiple files.</z><z id="t1497501566" t="cfleming The difficulty tracking modified ranges is that each new change creates a new document “co-ordinate space”, so if I want to get an sexp range from the original document which was affected by a series of deltas, I have to map them all back through the previous changes to get the correct range in the original doc affected by each change."><y>#</y><d>2017-06-15</d><h>04:39</h><w>cfleming</w>The difficulty tracking modified ranges is that each new change creates a new document “co-ordinate space”, so if I want to get an sexp range from the original document which was affected by a series of deltas, I have to map them all back through the previous changes to get the correct range in the original doc affected by each change.</z><z id="t1497501600" t="cfleming Then, once I have those ranges I can work out the sexp ranges which cover them all, and then I have to map that forward to get the correct range in the resulting doc."><y>#</y><d>2017-06-15</d><h>04:40</h><w>cfleming</w>Then, once I have those ranges I can work out the sexp ranges which cover them all, and then I have to map that forward to get the correct range in the resulting doc.</z><z id="t1497501635" t="shaunlebron makes sense, yeah"><y>#</y><d>2017-06-15</d><h>04:40</h><w>shaunlebron</w>makes sense, yeah</z><z id="t1497501644" t="shaunlebron 😕"><y>#</y><d>2017-06-15</d><h>04:40</h><w>shaunlebron</w><b>😕</b></z><z id="t1497501687" t="shaunlebron on keypress =&gt; any change, would be a fair mapping I think"><y>#</y><d>2017-06-15</d><h>04:41</h><w>shaunlebron</w>on keypress =&gt; any change, would be a fair mapping I think</z><z id="t1497501698" t="shaunlebron not sure about others"><y>#</y><d>2017-06-15</d><h>04:41</h><w>shaunlebron</w>not sure about others</z><z id="t1497501702" t="cfleming Yeah, pretty much - it’s actually a hard problem, especially to do it efficiently - it’s quadratic in the number of changes, and for something like a file reformat that can be a lot."><y>#</y><d>2017-06-15</d><h>04:41</h><w>cfleming</w>Yeah, pretty much - it’s actually a hard problem, especially to do it efficiently - it’s quadratic in the number of changes, and for something like a file reformat that can be a lot.</z><z id="t1497501742" t="cfleming Not sure if I can special case reformat, and just process the whole file at that point."><y>#</y><d>2017-06-15</d><h>04:42</h><w>cfleming</w>Not sure if I can special case reformat, and just process the whole file at that point.</z><z id="t1497501961" t="cfleming Well, keypress is just an action, and some keypresses are more complicated than others and can lead to reformatting changes (tab, backspace, delete, enter)"><y>#</y><d>2017-06-15</d><h>04:46</h><w>cfleming</w>Well, keypress is just an action, and some keypresses are more complicated than others and can lead to reformatting changes (tab, backspace, delete, enter)</z><z id="t1497502023" t="shaunlebron well, it should really reformat on any keypress"><y>#</y><d>2017-06-15</d><h>04:47</h><w>shaunlebron</w>well, it should really reformat on any keypress</z><z id="t1497502073" t="cfleming I mean that the IntelliJ action will format things, before I get to see it."><y>#</y><d>2017-06-15</d><h>04:47</h><w>cfleming</w>I mean that the IntelliJ action will format things, before I get to see it.</z><z id="t1497502093" t="cfleming Or at least, the resulting reformatting will be part of the changes communicated to me via document events."><y>#</y><d>2017-06-15</d><h>04:48</h><w>cfleming</w>Or at least, the resulting reformatting will be part of the changes communicated to me via document events.</z><z id="t1497502226" t="shaunlebron oh, yeah, that’s not good"><y>#</y><d>2017-06-15</d><h>04:50</h><w>shaunlebron</w>oh, yeah, that’s not good</z><z id="t1497502437" t="cfleming I’m actually curious how this works in e.g. Emacs. A lot of the complexity in the IntelliJ integration is around making it work in a very general way, since I can’t anticipate all the changes that either IntelliJ or any installed plugins might make."><y>#</y><d>2017-06-15</d><h>04:53</h><w>cfleming</w>I’m actually curious how this works in e.g. Emacs. A lot of the complexity in the IntelliJ integration is around making it work in a very general way, since I can’t anticipate all the changes that either IntelliJ or any installed plugins might make.</z><z id="t1497502478" t="cfleming But the same must apply to Emacs if someone is using clj-refactor - a particular action can cause a lot of changes to be made in multiple places/files."><y>#</y><d>2017-06-15</d><h>04:54</h><w>cfleming</w>But the same must apply to Emacs if someone is using clj-refactor - a particular action can cause a lot of changes to be made in multiple places/files.</z><z id="t1497502539" t="cfleming And people extend Emacs such that a particular action does crazy things all the time. Are those people just not using parinfer?"><y>#</y><d>2017-06-15</d><h>04:55</h><w>cfleming</w>And people extend Emacs such that a particular action does crazy things all the time. Are those people just not using parinfer?</z><z id="t1497502936" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : it was recently added to spacemacs as a core plugin I think"><y>#</y><d>2017-06-15</d><h>05:02</h><w>shaunlebron</w><a>@cfleming</a>: it was recently added to spacemacs as a core plugin I think</z><z id="t1497503006" t="shaunlebron https://github.com/syl20bnr/spacemacs/issues/5574"><y>#</y><d>2017-06-15</d><h>05:03</h><w>shaunlebron</w><a href="https://github.com/syl20bnr/spacemacs/issues/5574" target="_blank">https://github.com/syl20bnr/spacemacs/issues/5574</a></z><z id="t1497503422" t="cfleming So it looks like the Emacs integration only runs on one of a hard-coded set of commands."><y>#</y><d>2017-06-15</d><h>05:10</h><w>cfleming</w>So it looks like the Emacs integration only runs on one of a hard-coded set of commands.</z><z id="t1497503490" t="cfleming Unless I’m missing something, my elisp is not great."><y>#</y><d>2017-06-15</d><h>05:11</h><w>cfleming</w>Unless I’m missing something, my elisp is not great.</z><z id="t1497539381" t="shaunlebron i can’t tell by skimming right now"><y>#</y><d>2017-06-15</d><h>15:09</h><w>shaunlebron</w>i can’t tell by skimming right now</z><z id="t1497539469" t="shaunlebron looks like it’s only executed from these keys though: https://github.com/DogLooksGood/parinfer-mode/blob/master/parinfer.el#L1078-L1101"><y>#</y><d>2017-06-15</d><h>15:11</h><w>shaunlebron</w>looks like it’s only executed from these keys though: <a href="https://github.com/DogLooksGood/parinfer-mode/blob/master/parinfer.el#L1078-L1101" target="_blank">https://github.com/DogLooksGood/parinfer-mode/blob/master/parinfer.el#L1078-L1101</a></z><z id="t1497550535" t="mattly I use parinfer in spacemacs/main (that PR is still in develop), setting it up was fairly straightforward"><y>#</y><d>2017-06-15</d><h>18:15</h><w>mattly</w>I use parinfer in spacemacs/main (that PR is still in develop), setting it up was fairly straightforward</z><z id="t1497550582" t="mattly I use it alongside smartparens and paredit"><y>#</y><d>2017-06-15</d><h>18:16</h><w>mattly</w>I use it alongside smartparens and paredit</z><z id="t1497555758" t="shaunlebron [:attrs {:href &quot;/_/_/users/U053V4R5N&quot;}] : cool, does it work well?"><y>#</y><d>2017-06-15</d><h>19:42</h><w>shaunlebron</w><a>@mattly</a>: cool, does it work well?</z><z id="t1497556007" t="mattly [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] for me it does. I&apos;ve been slowly moving off of spacemacs (though I still use spacemacs for work) and I just setup parinfer by itself and it feels off"><y>#</y><d>2017-06-15</d><h>19:46</h><w>mattly</w><a>@shaunlebron</a> for me it does. I&apos;ve been slowly moving off of spacemacs (though I still use spacemacs for work) and I just setup parinfer by itself and it feels off</z><z id="t1497556043" t="mattly I&apos;d link my config but for whatever reason the slack electron app decided to stop interacting with my system clipboard"><y>#</y><d>2017-06-15</d><h>19:47</h><w>mattly</w>I&apos;d link my config but for whatever reason the slack electron app decided to stop interacting with my system clipboard</z><z id="t1497556602" t="shaunlebron [:attrs {:href &quot;/_/_/users/U053V4R5N&quot;}] it might feel off due to lack of structural editing stuff"><y>#</y><d>2017-06-15</d><h>19:56</h><w>shaunlebron</w><a>@mattly</a> it might feel off due to lack of structural editing stuff</z><z id="t1497556615" t="shaunlebron but it was always my hope that it would be compatible if you want add those layers, so glad it’s fitting okay"><y>#</y><d>2017-06-15</d><h>19:56</h><w>shaunlebron</w>but it was always my hope that it would be compatible if you want add those layers, so glad it’s fitting okay</z><z id="t1497556616" t="mattly yeah, paredit is next on my list of things to setup"><y>#</y><d>2017-06-15</d><h>19:56</h><w>mattly</w>yeah, paredit is next on my list of things to setup</z><z id="t1497556726" t="mattly parinfer has been a helpful sell to my lisp-phobic co-workers that come and pair with me though"><y>#</y><d>2017-06-15</d><h>19:58</h><w>mattly</w>parinfer has been a helpful sell to my lisp-phobic co-workers that come and pair with me though</z><z id="t1497556800" t="shaunlebron 🙂 !"><y>#</y><d>2017-06-15</d><h>20:00</h><w>shaunlebron</w><b>🙂</b>!</z><z id="t1497556841" t="shaunlebron what type of lisp are you using? and how are you introducing it to your project? (kind of interested in how folks do this)"><y>#</y><d>2017-06-15</d><h>20:00</h><w>shaunlebron</w>what type of lisp are you using? and how are you introducing it to your project? (kind of interested in how folks do this)</z><z id="t1497556953" t="mattly it&apos;s.. a bit odd, really; Clojure/Script, in a group that&apos;s otherwise Rails/Ember/Elixir"><y>#</y><d>2017-06-15</d><h>20:02</h><w>mattly</w>it&apos;s.. a bit odd, really; Clojure/Script, in a group that&apos;s otherwise Rails/Ember/Elixir</z><z id="t1497557015" t="mattly my project is somewhat alien compared to what everything else is, it&apos;s a free-from analytics tool for asking questions from a variety of HIPAA-protected data sources"><y>#</y><d>2017-06-15</d><h>20:03</h><w>mattly</w>my project is somewhat alien compared to what everything else is, it&apos;s a free-from analytics tool for asking questions from a variety of HIPAA-protected data sources</z><z id="t1497557050" t="mattly whereas all the other projects in the group are closed-ended tools for accomplishing specific tasks"><y>#</y><d>2017-06-15</d><h>20:04</h><w>mattly</w>whereas all the other projects in the group are closed-ended tools for accomplishing specific tasks</z><z id="t1497557097" t="mattly before I came on, one of the other senior devs had tried prototyping this project in rails/ember and it was a mess"><y>#</y><d>2017-06-15</d><h>20:04</h><w>mattly</w>before I came on, one of the other senior devs had tried prototyping this project in rails/ember and it was a mess</z><z id="t1497557208" t="mattly my specialty is this sort of thing – interfaces for doing data analysis – and I had enough trust from the dev team (most of whom I&apos;ve known for a while) to make a strong case for doing this in clojure/script, and it&apos;s been a huge success in that regard"><y>#</y><d>2017-06-15</d><h>20:06</h><w>mattly</w>my specialty is this sort of thing – interfaces for doing data analysis – and I had enough trust from the dev team (most of whom I&apos;ve known for a while) to make a strong case for doing this in clojure/script, and it&apos;s been a huge success in that regard</z><z id="t1497557253" t="mattly the original prototype centered around a single type of query from a single datasource, and it had like 2000 lines of string concatenation in ruby to construct a sequel query"><y>#</y><d>2017-06-15</d><h>20:07</h><w>mattly</w>the original prototype centered around a single type of query from a single datasource, and it had like 2000 lines of string concatenation in ruby to construct a sequel query</z><z id="t1497557270" t="mattly I boiled that down to ~20 lines of logic and ~100 lines of data in clojure"><y>#</y><d>2017-06-15</d><h>20:07</h><w>mattly</w>I boiled that down to ~20 lines of logic and ~100 lines of data in clojure</z><z id="t1497557283" t="mattly and that got people interested"><y>#</y><d>2017-06-15</d><h>20:08</h><w>mattly</w>and that got people interested</z><z id="t1497557330" t="shaunlebron 🎉"><y>#</y><d>2017-06-15</d><h>20:08</h><w>shaunlebron</w><b>🎉</b></z><z id="t1497557362" t="shaunlebron trust + direct comparison to show benefit"><y>#</y><d>2017-06-15</d><h>20:09</h><w>shaunlebron</w>trust + direct comparison to show benefit</z><z id="t1497557418" t="mattly yeah"><y>#</y><d>2017-06-15</d><h>20:10</h><w>mattly</w>yeah</z><z id="t1497557448" t="mattly I&apos;ve gotten one or two of the fronend people on another project interested in re-frame"><y>#</y><d>2017-06-15</d><h>20:10</h><w>mattly</w>I&apos;ve gotten one or two of the fronend people on another project interested in re-frame</z><z id="t1497557465" t="mattly they&apos;re both using Atom, so of course I set them up with parinfer"><y>#</y><d>2017-06-15</d><h>20:11</h><w>mattly</w>they&apos;re both using Atom, so of course I set them up with parinfer</z><z id="t1497557526" t="shaunlebron yeah? what do you think their general impression is?"><y>#</y><d>2017-06-15</d><h>20:12</h><w>shaunlebron</w>yeah? what do you think their general impression is?</z><z id="t1497557554" t="mattly they think it&apos;s neat but have a hard time understanding how to build something complex in it"><y>#</y><d>2017-06-15</d><h>20:12</h><w>mattly</w>they think it&apos;s neat but have a hard time understanding how to build something complex in it</z><z id="t1497557564" t="mattly oh, of parinfer, not re-frame"><y>#</y><d>2017-06-15</d><h>20:12</h><w>mattly</w>oh, of parinfer, not re-frame</z><z id="t1497557598" t="mattly one of them said, &quot;ok, so you were right, the parens aren&apos;t really that big of a deal&quot;"><y>#</y><d>2017-06-15</d><h>20:13</h><w>mattly</w>one of them said, &quot;ok, so you were right, the parens aren&apos;t really that big of a deal&quot;</z><z id="t1497557708" t="shaunlebron sweet!"><y>#</y><d>2017-06-15</d><h>20:15</h><w>shaunlebron</w>sweet!</z><z id="t1497557795" t="shaunlebron I tried getting david to make the cljs repo compatible with parinfer, but it was kind of a big ask to add so many whitespace changes without some kind of evidence that newcomers are using parinfer"><y>#</y><d>2017-06-15</d><h>20:16</h><w>shaunlebron</w>I tried getting david to make the cljs repo compatible with parinfer, but it was kind of a big ask to add so many whitespace changes without some kind of evidence that newcomers are using parinfer</z><z id="t1497557844" t="shaunlebron I’m going to setup some kind of survey asking for people to share stories like this to help build a better case"><y>#</y><d>2017-06-15</d><h>20:17</h><w>shaunlebron</w>I’m going to setup some kind of survey asking for people to share stories like this to help build a better case</z><z id="t1497557953" t="mattly cool deal"><y>#</y><d>2017-06-15</d><h>20:19</h><w>mattly</w>cool deal</z><z id="t1497558003" t="dominicm [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] biggest use for me in parlinter was just identifying dumb indentation mistakes."><y>#</y><d>2017-06-15</d><h>20:20</h><w>dominicm</w><a>@shaunlebron</a> biggest use for me in parlinter was just identifying dumb indentation mistakes.</z><z id="t1497558099" t="shaunlebron [:attrs {:href &quot;/_/_/users/U09LZR36F&quot;}] yeah, your point about revealing “confusing indentation” made it into the parlinter readme, i thought that was a good way to say that"><y>#</y><d>2017-06-15</d><h>20:21</h><w>shaunlebron</w><a>@dominicm</a> yeah, your point about revealing “confusing indentation” made it into the parlinter readme, i thought that was a good way to say that</z><z id="t1497558156" t="shaunlebron we actually caught an accidental expression nesting in the cljs repo using it"><y>#</y><d>2017-06-15</d><h>20:22</h><w>shaunlebron</w>we actually caught an accidental expression nesting in the cljs repo using it</z><z id="t1497558195" t="dominicm My #1 comment about parinfer is always: &gt; Parinfer puts parentheses where they look like they should be. I&apos;ve found so many bugs by locating the indent button in people&apos;s editors. Parinfer solves this"><y>#</y><d>2017-06-15</d><h>20:23</h><w>dominicm</w>My #1 comment about parinfer is always:

&gt; Parinfer puts parentheses where they look like they should be. I&apos;ve found so many bugs by locating the indent button in people&apos;s editors. Parinfer solves this</z><z id="t1497558393" t="shaunlebron maybe a good example of this—the mistake caught in cljs repo: ;; before (is (= nil (s/index-of sb &quot;z&quot; 100)) (is (= nil (s/index-of sb &quot;z&quot; -10)))))) ;; after (is (= nil (s/index-of sb &quot;z&quot; 100)) (is (= nil (s/index-of sb &quot;z&quot; -10)))))) "><y>#</y><d>2017-06-15</d><h>20:26</h><w>shaunlebron</w>maybe a good example of this—the mistake caught in cljs repo:

<pre>;; before
(is (= nil (s/index-of sb &quot;z&quot; 100))
(is (= nil (s/index-of sb &quot;z&quot; -10))))))

;; after
(is (= nil (s/index-of sb &quot;z&quot; 100))
 (is (= nil (s/index-of sb &quot;z&quot; -10))))))
</pre></z><z id="t1497558437" t="shaunlebron yeah, indentation was wrong"><y>#</y><d>2017-06-15</d><h>20:27</h><w>shaunlebron</w>yeah, indentation was wrong</z><z id="t1497558438" t="mattly I&apos;ve had a few instances of that as well"><y>#</y><d>2017-06-15</d><h>20:27</h><w>mattly</w>I&apos;ve had a few instances of that as well</z><z id="t1497558449" t="dominicm That&apos;s a perfect example."><y>#</y><d>2017-06-15</d><h>20:27</h><w>dominicm</w>That&apos;s a perfect example.</z><z id="t1497558665" t="shaunlebron when parens are inferred, i think the question most people ask is—so why are they even there?"><y>#</y><d>2017-06-15</d><h>20:31</h><w>shaunlebron</w>when parens are inferred, i think the question most people ask is—so why are they even there?</z><z id="t1497558731" t="shaunlebron i showed the project to jeremy ashkenas before i had a fancy website for it, and his reaction was “…so i guess the next step is to remove the parens”"><y>#</y><d>2017-06-15</d><h>20:32</h><w>shaunlebron</w>i showed the project to jeremy ashkenas before i had a fancy website for it, and his reaction was “…so i guess the next step is to remove the parens”</z><z id="t1497558913" t="shaunlebron i kind of got a blank stare when i tried to explain the benefits of explicitness and consistency, but I think it remains the second half of the problem of introducting lisp—that parinfer only elucidates the how of parens rather than the why"><y>#</y><d>2017-06-15</d><h>20:35</h><w>shaunlebron</w>i kind of got a blank stare when i tried to explain the benefits of explicitness and consistency, but I think it remains the second half of the problem of introducting lisp—that parinfer only elucidates the how of parens rather than the why</z><z id="t1497559018" t="mattly ... oh god"><y>#</y><d>2017-06-15</d><h>20:36</h><w>mattly</w>... oh god</z><z id="t1497559042" t="mattly fleeing from coffeescript&apos;s indecisiveness is what drove me to lisp"><y>#</y><d>2017-06-15</d><h>20:37</h><w>mattly</w>fleeing from coffeescript&apos;s indecisiveness is what drove me to lisp</z><z id="t1497559178" t="shaunlebron it’s definitely what drove me back to js"><y>#</y><d>2017-06-15</d><h>20:39</h><w>shaunlebron</w>it’s definitely what drove me back to js</z><z id="t1497559252" t="shaunlebron i think it was a great experiment that took philosophy of implied behavior to its extreme, and taught me that it’s not a very good thing for a language to have"><y>#</y><d>2017-06-15</d><h>20:40</h><w>shaunlebron</w>i think it was a great experiment that took philosophy of implied behavior to its extreme, and taught me that it’s not a very good thing for a language to have</z><z id="t1497559263" t="mattly agreed"><y>#</y><d>2017-06-15</d><h>20:41</h><w>mattly</w>agreed</z><z id="t1497559391" t="shaunlebron it also taught me how to market a new idea in a very straightforward way"><y>#</y><d>2017-06-15</d><h>20:43</h><w>shaunlebron</w>it also taught me how to market a new idea in a very straightforward way</z><z id="t1497559401" t="shaunlebron that website was so good"><y>#</y><d>2017-06-15</d><h>20:43</h><w>shaunlebron</w>that website was so good</z><z id="t1497561014" t="dominicm https://srfi.schemers.org/srfi-49/srfi-49.html"><y>#</y><d>2017-06-15</d><h>21:10</h><w>dominicm</w><a href="https://srfi.schemers.org/srfi-49/srfi-49.html" target="_blank">https://srfi.schemers.org/srfi-49/srfi-49.html</a></z><z id="t1497561022" t="dominicm RE &quot;why are they even there&quot;"><y>#</y><d>2017-06-15</d><h>21:10</h><w>dominicm</w>RE &quot;why are they even there&quot;</z><z id="t1497561049" t="dominicm https://srfi.schemers.org/srfi-110/srfi-110.html also interesting"><y>#</y><d>2017-06-15</d><h>21:10</h><w>dominicm</w><a href="https://srfi.schemers.org/srfi-110/srfi-110.html" target="_blank">https://srfi.schemers.org/srfi-110/srfi-110.html</a> also interesting</z><z id="t1497562312" t="shaunlebron I’d be interested in reading why those never caught on"><y>#</y><d>2017-06-15</d><h>21:31</h><w>shaunlebron</w>I’d be interested in reading why those never caught on</z><z id="t1497626318" t="shaunlebron “oakinfer” was a failed experiment. non-indentation based inference was a rabbit hole of edge cases, even under conservative constraints"><y>#</y><d>2017-06-16</d><h>15:18</h><w>shaunlebron</w>“oakinfer” was a failed experiment.  non-indentation based inference was a rabbit hole of edge cases, even under conservative constraints</z><z id="t1497626403" t="shaunlebron v3 will have onBadInnerParen: &apos;erase&apos; | &apos;suspend&apos; . It will default to suspend, and highlight the offending paren. rationale: https://github.com/shaunlebron/parinfer/issues/131#issuecomment-309053770"><y>#</y><d>2017-06-16</d><h>15:20</h><w>shaunlebron</w>v3 will have <code>onBadInnerParen: &apos;erase&apos; | &apos;suspend&apos;</code>.  It will default to suspend, and highlight the offending paren.  rationale: <a href="https://github.com/shaunlebron/parinfer/issues/131#issuecomment-309053770" target="_blank">https://github.com/shaunlebron/parinfer/issues/131#issuecomment-309053770</a></z><z id="t1497626483" t="shaunlebron i’ll add it to the demo to help plugin authors decide which option they want"><y>#</y><d>2017-06-16</d><h>15:21</h><w>shaunlebron</w>i’ll add it to the demo to help plugin authors decide which option they want</z><z id="t1497650855" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] Thanks for all the great documentation of your thought process on this (and parinfer in general)"><y>#</y><d>2017-06-16</d><h>22:07</h><w>cfleming</w><a>@shaunlebron</a> Thanks for all the great documentation of your thought process on this (and parinfer in general)</z><z id="t1497650878" t="cfleming It’s very easy to skip this because it’s a lot of work, but it’s amazingly useful"><y>#</y><d>2017-06-16</d><h>22:07</h><w>cfleming</w>It’s very easy to skip this because it’s a lot of work, but it’s amazingly useful</z><z id="t1497651116" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] thanks for the encouragement!"><y>#</y><d>2017-06-16</d><h>22:11</h><w>shaunlebron</w><a>@cfleming</a> thanks for the encouragement!</z><z id="t1497651146" t="shaunlebron it’s definitely a lot of work. it helps me keep context which I’m always afraid of losing"><y>#</y><d>2017-06-16</d><h>22:12</h><w>shaunlebron</w>it’s definitely a lot of work.  it helps me keep context which I’m always afraid of losing</z><z id="t1497651157" t="cfleming No problem, I wish I had the discipline to document my own work like this, since even in a solo-developer project it’s very useful"><y>#</y><d>2017-06-16</d><h>22:12</h><w>cfleming</w>No problem, I wish I had the discipline to document my own work like this, since even in a solo-developer project it’s very useful</z><z id="t1497651643" t="cfleming Cursive has a bunch of very different components, I tend to work on one and then come back to it months later - as you say, it helps context and remember the justification for decisions."><y>#</y><d>2017-06-16</d><h>22:20</h><w>cfleming</w>Cursive has a bunch of very different components, I tend to work on one and then come back to it months later - as you say, it helps context and remember the justification for decisions.</z><z id="t1497651694" t="shaunlebron you probably have a better memory than I do then!"><y>#</y><d>2017-06-16</d><h>22:21</h><w>shaunlebron</w>you probably have a better memory than I do then!</z><z id="t1497651750" t="cfleming Not at all - I spend a lot of time re-reading my code 😞"><y>#</y><d>2017-06-16</d><h>22:22</h><w>cfleming</w>Not at all - I spend a lot of time re-reading my code <b>😞</b></z><z id="t1497651787" t="cfleming Really, long term, documenting is almost certainly time-efficient, it just doesn’t feel like it when you’re doing it."><y>#</y><d>2017-06-16</d><h>22:23</h><w>cfleming</w>Really, long term, documenting is almost certainly time-efficient, it just doesn’t feel like it when you’re doing it.</z><z id="t1497651817" t="shaunlebron that’s a really good way to put that"><y>#</y><d>2017-06-16</d><h>22:23</h><w>shaunlebron</w>that’s a really good way to put that</z><z id="t1497651848" t="shaunlebron i find it’s like climbing and taking the time to setup an anchor to clip into"><y>#</y><d>2017-06-16</d><h>22:24</h><w>shaunlebron</w>i find it’s like climbing and taking the time to setup an anchor to clip into</z><z id="t1497651967" t="shaunlebron i got tired of not finishing projects some years ago, and writing helped me overcome that"><y>#</y><d>2017-06-16</d><h>22:26</h><w>shaunlebron</w>i got tired of not finishing projects some years ago, and writing helped me overcome that</z><z id="t1497657903" t="cfleming Yeah, I can see that."><y>#</y><d>2017-06-17</d><h>00:05</h><w>cfleming</w>Yeah, I can see that.</z><z id="t1497657918" t="cfleming It’s a classic case of deferring short-term work being a long-term cost."><y>#</y><d>2017-06-17</d><h>00:05</h><w>cfleming</w>It’s a classic case of deferring short-term work being a long-term cost.</z><z id="t1497657968" t="cfleming The problem is that I don’t come back and revisit all, or even most, of my decisions later, but if I do and I don’t have notes about why I did something, many times I get to the point of reimplementing something before I remember why it didn’t work that way."><y>#</y><d>2017-06-17</d><h>00:06</h><w>cfleming</w>The problem is that I don’t come back and revisit all, or even most, of my decisions later, but if I do and I don’t have notes about why I did something, many times I get to the point of reimplementing something before I remember why it didn’t work that way.</z><z id="t1497819353" t="dominicm I read the literate programming publication this morning which was very interesting. I&apos;m writing my vim config using &quot;literate&quot; which is like WEB but for markdown + any language. It claims to help with this context problem."><y>#</y><d>2017-06-18</d><h>20:55</h><w>dominicm</w>I read the literate programming publication this morning which was very interesting. I&apos;m writing my vim config using &quot;literate&quot; which is like WEB but for markdown + any language.

It claims to help with this context problem.</z><z id="t1497819393" t="dominicm I wish the code I encountered had more context. I try to write really good commit messages so that blame contains my rationale"><y>#</y><d>2017-06-18</d><h>20:56</h><w>dominicm</w>I wish the code I encountered had more context. I try to write really good commit messages so that blame contains my rationale</z><z id="t1497822429" t="shaunlebron [:attrs {:href &quot;/_/_/users/U09LZR36F&quot;}] you have links to the “literate” markdown tool, and the publication?"><y>#</y><d>2017-06-18</d><h>21:47</h><w>shaunlebron</w><a>@dominicm</a> you have links to the “literate” markdown tool, and the publication?</z><z id="t1497829618" t="dominicm http://literate.zbyedidia.webfactional.com/manual.php tool I&apos;m using. Publication referenced http://www.literateprogramming.com/knuthweb.pdf There&apos;s a book too I think. "><y>#</y><d>2017-06-18</d><h>23:46</h><w>dominicm</w><a href="http://literate.zbyedidia.webfactional.com/manual.php" target="_blank">http://literate.zbyedidia.webfactional.com/manual.php</a> tool I&apos;m using.

Publication referenced <a href="http://www.literateprogramming.com/knuthweb.pdf" target="_blank">http://www.literateprogramming.com/knuthweb.pdf</a>

There&apos;s a book too I think. </z><z id="t1497893554" t="shaunlebron I actually thought a lot about this during parinfer development"><y>#</y><d>2017-06-19</d><h>17:32</h><w>shaunlebron</w>I actually thought a lot about this during parinfer development</z><z id="t1497893594" t="shaunlebron comments in the file were getting pretty long, and I felt that I could go the literate-programming route"><y>#</y><d>2017-06-19</d><h>17:33</h><w>shaunlebron</w>comments in the file were getting pretty long, and I felt that I could go the literate-programming route</z><z id="t1497893635" t="shaunlebron I ultimately decided to keep the file with minimal comments"><y>#</y><d>2017-06-19</d><h>17:33</h><w>shaunlebron</w>I ultimately decided to keep the file with minimal comments</z><z id="t1497893783" t="shaunlebron and instead opted to create a code.md that has a design-level narrative separate from the code, but actually links directly to functions and vars by name"><y>#</y><d>2017-06-19</d><h>17:36</h><w>shaunlebron</w>and instead opted to create a <code>code.md</code> that has a design-level narrative separate from the code, but actually links directly to functions and vars by name</z><z id="t1497893827" t="shaunlebron https://github.com/shaunlebron/parinfer/blob/master/lib/doc/code.md"><y>#</y><d>2017-06-19</d><h>17:37</h><w>shaunlebron</w><a href="https://github.com/shaunlebron/parinfer/blob/master/lib/doc/code.md" target="_blank">https://github.com/shaunlebron/parinfer/blob/master/lib/doc/code.md</a></z><z id="t1497893838" t="mattly we&apos;re doing something similar for the doc build system on my project at work"><y>#</y><d>2017-06-19</d><h>17:37</h><w>mattly</w>we&apos;re doing something similar for the doc build system on my project at work</z><z id="t1497893982" t="shaunlebron [:attrs {:href &quot;/_/_/users/U053V4R5N&quot;}] : is it open?"><y>#</y><d>2017-06-19</d><h>17:39</h><w>shaunlebron</w><a>@mattly</a>: is it open?</z><z id="t1497894003" t="mattly no"><y>#</y><d>2017-06-19</d><h>17:40</h><w>mattly</w>no</z><z id="t1497894109" t="dominicm I think code.md has the documentation aspect of literate programming. But the tangle/weave aspect is useful, the order of understanding a program is not necessarily the order the program must be written in."><y>#</y><d>2017-06-19</d><h>17:41</h><w>dominicm</w>I think code.md has the documentation aspect of literate programming. But the tangle/weave aspect is useful, the order of understanding a program is not necessarily the order the program must be written in.</z><z id="t1497894150" t="dominicm I suppose if you start at code.md, it has the same effect :thinking_face:"><y>#</y><d>2017-06-19</d><h>17:42</h><w>dominicm</w>I suppose if you start at code.md, it has the same effect <b>:thinking_face:</b></z><z id="t1497894168" t="mattly in our case the doc system is more meant to tell a story about data as it flows from &quot;a user did x&quot; to &quot;here&apos;s how it appears in the reports&quot;"><y>#</y><d>2017-06-19</d><h>17:42</h><w>mattly</w>in our case the doc system is more meant to tell a story about data as it flows from &quot;a user did x&quot; to &quot;here&apos;s how it appears in the reports&quot;</z><z id="t1497894312" t="mattly so it&apos;s like &quot;here&apos;s how we ingest this patient data event&quot;, then &quot;here&apos;s how it passes through ETL&quot; and finally &quot;here&apos;s how the reports and analytics tools use that in queries&quot;"><y>#</y><d>2017-06-19</d><h>17:45</h><w>mattly</w>so it&apos;s like &quot;here&apos;s how we ingest this patient data event&quot;, then &quot;here&apos;s how it passes through ETL&quot; and finally &quot;here&apos;s how the reports and analytics tools use that in queries&quot;</z><z id="t1497894331" t="mattly and the doc system pulls in from multiple code repositories to do that"><y>#</y><d>2017-06-19</d><h>17:45</h><w>mattly</w>and the doc system pulls in from multiple code repositories to do that</z><z id="t1497894389" t="shaunlebron [:attrs {:href &quot;/_/_/users/U053V4R5N&quot;}] : that sounds really good"><y>#</y><d>2017-06-19</d><h>17:46</h><w>shaunlebron</w><a>@mattly</a>: that sounds really good</z><z id="t1497894450" t="shaunlebron i struggled at Stripe to understand the data flow between three iframes in our Stripe.js v3, and thought about writing something to document it in a similar way"><y>#</y><d>2017-06-19</d><h>17:47</h><w>shaunlebron</w>i struggled at Stripe to understand the data flow between three iframes in our Stripe.js v3, and thought about writing something to document it in a similar way</z><z id="t1497894455" t="mattly [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] it&apos;s worked well for us, and helps us keep even non-engineer eyes on the process"><y>#</y><d>2017-06-19</d><h>17:47</h><w>mattly</w><a>@shaunlebron</a> it&apos;s worked well for us, and helps us keep even non-engineer eyes on the process</z><z id="t1497894477" t="shaunlebron nice"><y>#</y><d>2017-06-19</d><h>17:47</h><w>shaunlebron</w>nice</z><z id="t1497894489" t="mattly because if there&apos;s a bug in that flow, no one is ever going to know from looking at the output"><y>#</y><d>2017-06-19</d><h>17:48</h><w>mattly</w>because if there&apos;s a bug in that flow, no one is ever going to know from looking at the output</z><z id="t1497894491" t="shaunlebron more tools like that should be made"><y>#</y><d>2017-06-19</d><h>17:48</h><w>shaunlebron</w>more tools like that should be made</z><z id="t1497894509" t="shaunlebron yes!"><y>#</y><d>2017-06-19</d><h>17:48</h><w>shaunlebron</w>yes!</z><z id="t1497894541" t="mattly I&apos;m pushing to extract parts of the system and OSS it, but in all reality I think we&apos;re a year off from having the headspace to do that"><y>#</y><d>2017-06-19</d><h>17:49</h><w>mattly</w>I&apos;m pushing to extract parts of the system and OSS it, but in all reality I think we&apos;re a year off from having the headspace to do that</z><z id="t1497894593" t="shaunlebron sounds like a big undertaking, honestly may be too specific for others?"><y>#</y><d>2017-06-19</d><h>17:49</h><w>shaunlebron</w>sounds like a big undertaking, honestly may be too specific for others?</z><z id="t1497894603" t="shaunlebron a blog post would be great though"><y>#</y><d>2017-06-19</d><h>17:50</h><w>shaunlebron</w>a blog post would be great though</z><z id="t1497894607" t="mattly yeah, that&apos;s part of it too"><y>#</y><d>2017-06-19</d><h>17:50</h><w>mattly</w>yeah, that&apos;s part of it too</z><z id="t1497894610" t="shaunlebron just to show principles in action"><y>#</y><d>2017-06-19</d><h>17:50</h><w>shaunlebron</w>just to show principles in action</z><z id="t1497894635" t="mattly hm, yeah, I&apos;ll bring that up"><y>#</y><d>2017-06-19</d><h>17:50</h><w>mattly</w>hm, yeah, I&apos;ll bring that up</z><z id="t1497894830" t="shaunlebron [:attrs {:href &quot;/_/_/users/U09LZR36F&quot;}] without reading the knuth’s paper, I’ve thought for a while that docs are a bit like tests, in that they fulfill a separate narrative and that they have to be written in parallel to—and in sync with—code"><y>#</y><d>2017-06-19</d><h>17:53</h><w>shaunlebron</w><a>@dominicm</a> without reading the knuth’s paper, I’ve thought for a while that docs are a bit like tests, in that they fulfill a separate narrative and that they have to be written in parallel to—and in sync with—code</z><z id="t1497894946" t="shaunlebron maybe that’s not at all what he’s talking about, but I’m interested to see if they can really be unified in “literate”. But apart from execution order vs. reading order that literate addresses, I would go further and say that there is also a problem of certain reader abstractions not mapping 1-to-1 with the abstractions created in the code"><y>#</y><d>2017-06-19</d><h>17:55</h><w>shaunlebron</w>maybe that’s not at all what he’s talking about, but I’m interested to see if they can really be unified in “literate”.  But apart from execution order vs. reading order that literate addresses, I would go further and say that there is also a problem of certain reader abstractions not mapping 1-to-1 with the abstractions created in the code</z><z id="t1497894996" t="shaunlebron (this is all very hand-wavy in my head though)"><y>#</y><d>2017-06-19</d><h>17:56</h><w>shaunlebron</w>(this is all very hand-wavy in my head though)</z><z id="t1497896419" t="dominicm [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] I agree with all you are saying. I think it takes a lot of discipline in order to sync docs with code though. Knuth admits that he poorly documents code usually, but that his tool forces him too. He also created WEB, so it&apos;s no surprise he feels ecstatic when using it."><y>#</y><d>2017-06-19</d><h>18:20</h><w>dominicm</w><a>@shaunlebron</a> I agree with all you are saying. I think it takes a lot of discipline in order to sync docs with code though. Knuth admits that he poorly documents code usually, but that his tool forces him too. He also created WEB, so it&apos;s no surprise he feels ecstatic when using it.</z><z id="t1497899752" t="shaunlebron i wanted to see an example of WEB in action. found tex.web rendered as a pdf here: http://brokestream.com/tex-web.html"><y>#</y><d>2017-06-19</d><h>19:15</h><w>shaunlebron</w>i wanted to see an example of WEB in action.  found <code>tex.web</code> rendered as a pdf here: <a href="http://brokestream.com/tex-web.html" target="_blank">http://brokestream.com/tex-web.html</a></z><z id="t1497902019" t="mattly in risk of getting ever-more off-topic for the channel, but chasing the topic-du-jour, do you know of any other kind of lightweight &quot;text to various render methods&quot; akin to say, asciidoc or org-mode but that give you more free-form elements for creating document strucutre?"><y>#</y><d>2017-06-19</d><h>19:53</h><w>mattly</w>in risk of getting ever-more off-topic for the channel, but chasing the topic-du-jour, do you know of any other kind of lightweight &quot;text to various render methods&quot; akin to say, asciidoc or org-mode but that give you more free-form elements for creating document strucutre?</z><z id="t1497902271" t="dominicm [:attrs {:href &quot;/_/_/users/U053V4R5N&quot;}] what do you mean by: &gt; free-form elements for creating document structure asciidoctor supports a generic block, that can nest with different numbers of ---- , I think that&apos;s what you mean, but uncertain."><y>#</y><d>2017-06-19</d><h>19:57</h><w>dominicm</w><a>@mattly</a> what do you mean by:

&gt; free-form elements for creating document structure

asciidoctor supports a generic block, that can nest with different numbers of <code>----</code>, I think that&apos;s what you mean, but uncertain.</z><z id="t1497902365" t="mattly hm. I guess what I mean is that I&apos;d like to be able to register with the parser/renderer &quot;block types&quot; that get special treatment in the rendering process"><y>#</y><d>2017-06-19</d><h>19:59</h><w>mattly</w>hm. I guess what I mean is that I&apos;d like to be able to register with the parser/renderer &quot;block types&quot; that get special treatment in the rendering process</z><z id="t1497902533" t="dominicm You can do that"><y>#</y><d>2017-06-19</d><h>20:02</h><w>dominicm</w>You can do that</z><z id="t1497902553" t="dominicm There&apos;s extensions &amp; stuff. Very extensible"><y>#</y><d>2017-06-19</d><h>20:02</h><w>dominicm</w>There&apos;s extensions &amp; stuff. Very extensible</z><z id="t1497902577" t="mattly I&apos;ll take a deeper look at it, thanks"><y>#</y><d>2017-06-19</d><h>20:02</h><w>mattly</w>I&apos;ll take a deeper look at it, thanks</z><z id="t1497902689" t="shaunlebron clojurescript unraveled uses it: https://github.com/funcool/clojurescript-unraveled"><y>#</y><d>2017-06-19</d><h>20:04</h><w>shaunlebron</w>clojurescript unraveled uses it: <a href="https://github.com/funcool/clojurescript-unraveled" target="_blank">https://github.com/funcool/clojurescript-unraveled</a></z><z id="t1497903057" t="mattly oh, asciidoc has stem blocks that are more like what I want"><y>#</y><d>2017-06-19</d><h>20:10</h><w>mattly</w>oh, asciidoc has <code>stem</code> blocks that are more like what I want</z><z id="t1497925323" t="mikeb Interesting discussion on literate programming. I&apos;ve long thought about a language with one unit(set of one or more related functions) per file, where the docs, comments, tests, specs, etc for the unit could live side by side in a different files, then an editor could combine the desired parts to display."><y>#</y><d>2017-06-20</d><h>02:22</h><w>mikeb</w>Interesting discussion on literate programming. I&apos;ve long thought about a language with one unit(set of one or more related functions) per file, where the docs, comments, tests, specs, etc for the unit could live side by side in a different files, then an editor could combine the desired parts to display.</z><z id="t1497926213" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0524F6MV&quot;}] i like that idea"><y>#</y><d>2017-06-20</d><h>02:36</h><w>shaunlebron</w><a>@mikeb</a> i like that idea</z><z id="t1497926264" t="shaunlebron i think light table tried using a function as a unit that could be combined with others in different ways by the editor"><y>#</y><d>2017-06-20</d><h>02:37</h><w>shaunlebron</w>i think light table tried using a function as a unit that could be combined with others in different ways by the editor</z><z id="t1497926312" t="shaunlebron was abandoned pretty quickly if I remember correctly"><y>#</y><d>2017-06-20</d><h>02:38</h><w>shaunlebron</w>was abandoned pretty quickly if I remember correctly</z><z id="t1497926561" t="mikeb Yeah, I think to make it happen it needs to be a language built around the concept, where clojure is still file based, too complex for editor to break everything apart.. But if everything was broken apart, the editor could be free to display in new and different ways."><y>#</y><d>2017-06-20</d><h>02:42</h><w>mikeb</w>Yeah, I think to make it happen it needs to be a language built around the concept, where clojure is still file based, too complex for editor to break everything apart.. But if everything was broken apart, the editor could be free to display in new and different ways.</z><z id="t1497926645" t="cfleming I think it could be done in Clojure, and it’s something I’ve toyed with trying. Unfortunately it’s a lot of UI work just to get to a proof of concept."><y>#</y><d>2017-06-20</d><h>02:44</h><w>cfleming</w>I think it could be done in Clojure, and it’s something I’ve toyed with trying. Unfortunately it’s a lot of UI work just to get to a proof of concept.</z><z id="t1497926663" t="cfleming It would still use files under the hood, but you could present a function-based UI to the user."><y>#</y><d>2017-06-20</d><h>02:44</h><w>cfleming</w>It would still use files under the hood, but you could present a function-based UI to the user.</z><z id="t1497926701" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : excited you’re thinking about that. I’m guessing it would be difficult in intellij?"><y>#</y><d>2017-06-20</d><h>02:45</h><w>shaunlebron</w><a>@cfleming</a>: excited you’re thinking about that.  I’m guessing it would be difficult in intellij?</z><z id="t1497926745" t="cfleming Well, it’s probably difficult in anything that’s not designed to work like that. IntelliJ’s UI is actually pretty flexible, but I’d have to talk to JetBrains about how best to do it."><y>#</y><d>2017-06-20</d><h>02:45</h><w>cfleming</w>Well, it’s probably difficult in anything that’s not designed to work like that. IntelliJ’s UI is actually pretty flexible, but I’d have to talk to JetBrains about how best to do it.</z><z id="t1497926775" t="cfleming I imagine there are a lot of assumptions in things like navigation that might be hard to work around."><y>#</y><d>2017-06-20</d><h>02:46</h><w>cfleming</w>I imagine there are a lot of assumptions in things like navigation that might be hard to work around.</z><z id="t1497926801" t="mikeb I was also thinking you could have a function relationship view, as well as an order of execution view too. I even went so far as to create a super ugly dummy html of general idea, I will post link later when I have access to it."><y>#</y><d>2017-06-20</d><h>02:46</h><w>mikeb</w>I was also thinking you could have a function relationship view, as well as an order of execution view too. I even went so far as to create a super ugly dummy html of general idea, I will post link later when I have access to it.</z><z id="t1497926865" t="cfleming I spend a huge amount of time navigating around the IntelliJ codebase figuring out how to do things. I’d love to be able to have a function relationship view (snap [:attrs {:href &quot;/_/_/users/U0524F6MV&quot;}] ) which I could save and come back to to remember how my investigation went."><y>#</y><d>2017-06-20</d><h>02:47</h><w>cfleming</w>I spend a huge amount of time navigating around the IntelliJ codebase figuring out how to do things. I’d love to be able to have a function relationship view (snap <a>@mikeb</a>) which I could save and come back to to remember how my investigation went.</z><z id="t1497926876" t="mikeb I would think it&apos;s a huge and hard undertaking regardless of what base was used."><y>#</y><d>2017-06-20</d><h>02:47</h><w>mikeb</w>I would think it&apos;s a huge and hard undertaking regardless of what base was used.</z><z id="t1497926899" t="cfleming To do it right, absolutely. I’m unsure how much work it would be to get to a PoC"><y>#</y><d>2017-06-20</d><h>02:48</h><w>cfleming</w>To do it right, absolutely. I’m unsure how much work it would be to get to a PoC</z><z id="t1497926917" t="mikeb [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] would love to hear what you find"><y>#</y><d>2017-06-20</d><h>02:48</h><w>mikeb</w><a>@cfleming</a> would love to hear what you find</z><z id="t1497927054" t="shaunlebron i was talking to a guy after a local meetup, and he mentioned viewing code in order of execution as well. i think he called it a call-stack view"><y>#</y><d>2017-06-20</d><h>02:50</h><w>shaunlebron</w>i was talking to a guy after a local meetup, and he mentioned viewing code in order of execution as well.  i think he called it a call-stack view</z><z id="t1497927104" t="cfleming I think Chris Granger actually worked on an implementation of the code bubbles idea for an MS debugger."><y>#</y><d>2017-06-20</d><h>02:51</h><w>cfleming</w>I think Chris Granger actually worked on an implementation of the code bubbles idea for an MS debugger.</z><z id="t1497927166" t="shaunlebron it came up because I brought up how under-utilized Atom’s technology feels to me. So much flexibility with having an editor in a DOM. I feel that would make something like a function relationship view easier in Atom than others"><y>#</y><d>2017-06-20</d><h>02:52</h><w>shaunlebron</w>it came up because I brought up how under-utilized Atom’s technology feels to me.  So much flexibility with having an editor in a DOM.  I feel that would make something like a function relationship view easier in Atom than others</z><z id="t1497927208" t="cfleming https://www.youtube.com/watch?v=PsPX0nElJ0k in case anyone hasn’t seen it."><y>#</y><d>2017-06-20</d><h>02:53</h><w>cfleming</w><a href="https://www.youtube.com/watch?v=PsPX0nElJ0k" target="_blank">https://www.youtube.com/watch?v=PsPX0nElJ0k</a> in case anyone hasn’t seen it.</z><z id="t1497927312" t="cfleming This looks like the VStudio implementation:"><y>#</y><d>2017-06-20</d><h>02:55</h><w>cfleming</w>This looks like the VStudio implementation:</z><z id="t1497927312" t="cfleming https://vlasovstudio.com/task-canvas/"><y>#</y><d>2017-06-20</d><h>02:55</h><w>cfleming</w><a href="https://vlasovstudio.com/task-canvas/" target="_blank">https://vlasovstudio.com/task-canvas/</a></z><z id="t1497927315" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] god i want that in a VR space so I can position code around in a physical space"><y>#</y><d>2017-06-20</d><h>02:55</h><w>shaunlebron</w><a>@cfleming</a> god i want that in a VR space so I can position code around in a physical space</z><z id="t1497927393" t="mikeb Shaun I was thinking exactly the same thing when watching the arcadia guys videos... then the scale of work might be more comprehensible for non developers."><y>#</y><d>2017-06-20</d><h>02:56</h><w>mikeb</w>Shaun I was thinking exactly the same thing when watching the arcadia guys videos... then the scale of work might be more comprehensible for non developers.</z><z id="t1497927438" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0524F6MV&quot;}] ahh yes, that’s definitely where I got that idea from I think"><y>#</y><d>2017-06-20</d><h>02:57</h><w>shaunlebron</w><a>@mikeb</a> ahh yes, that’s definitely where I got that idea from I think</z><z id="t1497927672" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] Actually I think something like that is pretty easy in Swing too (what IntelliJ uses). But things like taking advantage of all the data visualisation libs out there like Proto-REPL does is definitely much easier."><y>#</y><d>2017-06-20</d><h>03:01</h><w>cfleming</w><a>@shaunlebron</a> Actually I think something like that is pretty easy in Swing too (what IntelliJ uses). But things like taking advantage of all the data visualisation libs out there like Proto-REPL does is definitely much easier.</z><z id="t1497927698" t="cfleming And some things like the collapsible REPL results too."><y>#</y><d>2017-06-20</d><h>03:01</h><w>cfleming</w>And some things like the collapsible REPL results too.</z><z id="t1497927761" t="cfleming In general, being able to easily mix quite different mediums should be easier in a web pane."><y>#</y><d>2017-06-20</d><h>03:02</h><w>cfleming</w>In general, being able to easily mix quite different mediums should be easier in a web pane.</z><z id="t1497928061" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] yeah, I’m not familiar with much about desktop UIs honestly. I think the mixing of different mediums is what I’m excited about for what may come after Parinfer, and a load of other things you guys are touching on"><y>#</y><d>2017-06-20</d><h>03:07</h><w>shaunlebron</w><a>@cfleming</a> yeah, I’m not familiar with much about desktop UIs honestly.  I think the mixing of different mediums is what I’m excited about for what may come after Parinfer, and a load of other things you guys are touching on</z><z id="t1497928132" t="shaunlebron was kind of sad to see Light Table pivot to Eve. but so many problems to solve—I guess it’s good they chose the more important one"><y>#</y><d>2017-06-20</d><h>03:08</h><w>shaunlebron</w>was kind of sad to see Light Table pivot to Eve.  but so many problems to solve—I guess it’s good they chose the more important one</z><z id="t1497928259" t="shaunlebron whoever will try another next-gen editor will probably need decent financial backing. I don’t see it happening as a side project"><y>#</y><d>2017-06-20</d><h>03:10</h><w>shaunlebron</w>whoever will try another next-gen editor will probably need decent financial backing.  I don’t see it happening as a side project</z><z id="t1497928367" t="cfleming Yes, no doubt. There’s no way I can keep up with the vast majority of what I’d like to do on Cursive, and that’s built on really significant existing infrastructure."><y>#</y><d>2017-06-20</d><h>03:12</h><w>cfleming</w>Yes, no doubt. There’s no way I can keep up with the vast majority of what I’d like to do on Cursive, and that’s built on really significant existing infrastructure.</z><z id="t1497928376" t="cfleming It’s a massive amount of work."><y>#</y><d>2017-06-20</d><h>03:12</h><w>cfleming</w>It’s a massive amount of work.</z><z id="t1497928433" t="shaunlebron I can imagine"><y>#</y><d>2017-06-20</d><h>03:13</h><w>shaunlebron</w>I can imagine</z><z id="t1497928531" t="shaunlebron i can barely work on parinfer when working fulltime, and that’s just a simple input/output text processor"><y>#</y><d>2017-06-20</d><h>03:15</h><w>shaunlebron</w>i can barely work on parinfer when working fulltime, and that’s just a simple input/output text processor</z><z id="t1497929014" t="shaunlebron i’m out for the night, but I sat down a recorded a video summarizing my thoughts on Parinfer v2 tonight"><y>#</y><d>2017-06-20</d><h>03:23</h><w>shaunlebron</w>i’m out for the night, but I sat down a recorded a video summarizing my thoughts on Parinfer v2 tonight</z><z id="t1497929019" t="shaunlebron https://www.youtube.com/watch?v=CiDtmPKVskk"><y>#</y><d>2017-06-20</d><h>03:23</h><w>shaunlebron</w><a href="https://www.youtube.com/watch?v=CiDtmPKVskk" target="_blank">https://www.youtube.com/watch?v=CiDtmPKVskk</a></z><z id="t1497929055" t="shaunlebron demo editor is updated here for trying out behavior differences: https://shaunlebron.github.io/parinfer/demo"><y>#</y><d>2017-06-20</d><h>03:24</h><w>shaunlebron</w>demo editor is updated here for trying out behavior differences: <a href="https://shaunlebron.github.io/parinfer/demo" target="_blank">https://shaunlebron.github.io/parinfer/demo</a></z><z id="t1497929851" t="mikeb Hey [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] please don&apos;t laugh, but here is the very rough thought I was playing with for a function based interface with attached repl/tests/docs, created long ago. https://s3-us-west-2.amazonaws.com/language-ideas/ide/space.html On the top function say-hi if you click the repl/docs/tests buttons at bottom they will show. I was just thinking how nice it would be to have everything relating to a single &quot;unit of code&quot; right there beside each other. The language is made up."><y>#</y><d>2017-06-20</d><h>03:37</h><w>mikeb</w>Hey <a>@cfleming</a> please don&apos;t laugh, but here is the very rough thought I was playing with for a function based interface with attached repl/tests/docs, created long ago. <a href="https://s3-us-west-2.amazonaws.com/language-ideas/ide/space.html" target="_blank">https://s3-us-west-2.amazonaws.com/language-ideas/ide/space.html</a> On the top function say-hi if you click the repl/docs/tests buttons at bottom they will show. I was just thinking how nice it would be to have everything relating to a single &quot;unit of code&quot; right there beside each other. The language is made up.</z><z id="t1497929946" t="cfleming [:attrs {:href &quot;/_/_/users/U0524F6MV&quot;}] No laughing, that’s cool! Interesting idea having the REPL available right by the function with some usages shown there."><y>#</y><d>2017-06-20</d><h>03:39</h><w>cfleming</w><a>@mikeb</a> No laughing, that’s cool! Interesting idea having the REPL available right by the function with some usages shown there.</z><z id="t1497929990" t="cfleming Pharo smalltalk has a really cool doc search function where you can say: I have this data, and I’d like that data - which function will do that for me?"><y>#</y><d>2017-06-20</d><h>03:39</h><w>cfleming</w>Pharo smalltalk has a really cool doc search function where you can say: I have this data, and I’d like that data - which function will do that for me?</z><z id="t1497930015" t="cfleming So if you say: I have ” foo ” and I want “foo”, the search would return str/trim"><y>#</y><d>2017-06-20</d><h>03:40</h><w>cfleming</w>So if you say: I have ”   foo   ” and I want “foo”, the search would return <code>str/trim</code></z><z id="t1497930093" t="cfleming I like the code bubbles idea of having notes right there in the workspace too."><y>#</y><d>2017-06-20</d><h>03:41</h><w>cfleming</w>I like the code bubbles idea of having notes right there in the workspace too.</z><z id="t1497935867" t="mikeb Shaun, that&apos;s some amazing work on v2."><y>#</y><d>2017-06-20</d><h>05:17</h><w>mikeb</w>Shaun, that&apos;s some amazing work on v2.</z><z id="t1497980329" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0524F6MV&quot;}] thank you! 😕 hope it works out, but we’ll see"><y>#</y><d>2017-06-20</d><h>17:38</h><w>shaunlebron</w><a>@mikeb</a> thank you! <b>😕</b> hope it works out, but we’ll see</z><z id="t1497998058" t="shaunlebron this is why I worry about edge cases even when nobody is reporting them: &gt; This is great news. I’ve stopped using parinfer because it often modifies my AST in ways I don’t expect. With these changes, I think I can start using it again. Nice work! from: https://www.reddit.com/r/Clojure/comments/6ibyhr/parinfer_why_v2_is_different/"><y>#</y><d>2017-06-20</d><h>22:34</h><w>shaunlebron</w>this is why I worry about edge cases even when nobody is reporting them:

&gt; This is great news. I’ve stopped using parinfer because it often modifies my AST in ways I don’t expect. With these changes, I think I can start using it again. Nice work!

from: <a href="https://www.reddit.com/r/Clojure/comments/6ibyhr/parinfer_why_v2_is_different/" target="_blank">https://www.reddit.com/r/Clojure/comments/6ibyhr/parinfer_why_v2_is_different/</a></z><z id="t1498332898" t="Drew Verlee parinfer on emacs… (defn foo [x y]) ^(+ x y) when i press tab at the ^ i expected it to move forward two spaces. instead it doesn’t move at all. Any idea why? is this the expected behavior?"><y>#</y><d>2017-06-24</d><h>19:34</h><w>Drew Verlee</w>parinfer on emacs…

<pre>(defn foo [x y])
^(+ x y)
</pre>

when i press tab at the ^ i expected it to move forward two spaces. instead it doesn’t move at all. Any idea why? is this the expected behavior?</z><z id="t1498332954" t="Drew Verlee i noticed i have been hitting space in this case, but i want to always indent 2 spaces (which i assume tab is doing 🙂 )"><y>#</y><d>2017-06-24</d><h>19:35</h><w>Drew Verlee</w>i noticed i have been hitting space in this case, but i want to always indent 2 spaces (which i assume tab is doing <b>🙂</b> )</z><z id="t1498456011" t="shaunlebron thanks for the reporting [:attrs {:href &quot;/_/_/users/U0DJ4T5U1&quot;}] , the author of that plugin is [:attrs {:href &quot;/_/_/users/U0NBGRGD6&quot;}] . maybe file an issue at that repo? https://github.com/DogLooksGood/parinfer-mode"><y>#</y><d>2017-06-26</d><h>05:46</h><w>shaunlebron</w>thanks for the reporting <a>@drewverlee</a>, the author of that plugin is <a>@doglooksgood</a>.  maybe file an issue at that repo? <a href="https://github.com/DogLooksGood/parinfer-mode" target="_blank">https://github.com/DogLooksGood/parinfer-mode</a></z><z id="t1498456134" t="tianshu [:attrs {:href &quot;/_/_/users/U0DJ4T5U1&quot;}] Hi, I&apos;m the author of this plugin. Could you show me your configuration for parinfer-mode?"><y>#</y><d>2017-06-26</d><h>05:48</h><w>tianshu</w><a>@drewverlee</a>  Hi, I&apos;m the author of this plugin. Could you show me your configuration for parinfer-mode?</z><z id="t1498701882" t="cfleming BTW [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] In case you hadn’t seen this, some interesting comments here: https://news.ycombinator.com/item?id=14641658"><y>#</y><d>2017-06-29</d><h>02:04</h><w>cfleming</w>BTW <a>@shaunlebron</a> In case you hadn’t seen this, some interesting comments here: <a href="https://news.ycombinator.com/item?id=14641658" target="_blank">https://news.ycombinator.com/item?id=14641658</a></z><z id="t1498701904" t="cfleming Seems to have led to a bunch of issues too"><y>#</y><d>2017-06-29</d><h>02:05</h><w>cfleming</w>Seems to have led to a bunch of issues too</z><z id="t1498702307" t="cfleming Really awesome that there are instructions to set up a lot of these systems in VMs."><y>#</y><d>2017-06-29</d><h>02:11</h><w>cfleming</w>Really awesome that there are instructions to set up a lot of these systems in VMs.</z><z id="t1498706902" t="shaunlebron yeah! I have to say that I’ve enjoyed all the runnable ones so far (teletype, sedit, nokolisp). they’re very different from each other"><y>#</y><d>2017-06-29</d><h>03:28</h><w>shaunlebron</w>yeah! I have to say that I’ve enjoyed all the runnable ones so far (teletype, sedit, nokolisp). they’re very different from each other</z><z id="t1498709320" t="shaunlebron i really wanted to try DEdit and Lispedit 😞 , both seem really cool too"><y>#</y><d>2017-06-29</d><h>04:08</h><w>shaunlebron</w>i really wanted to try DEdit and Lispedit <b>😞</b>, both seem really cool too</z><z id="t1498711562" t="cfleming So no one paradigm to rule them all yet?"><y>#</y><d>2017-06-29</d><h>04:46</h><w>cfleming</w>So no one paradigm to rule them all yet?</z><z id="t1498712851" t="mikeb Very cool stuff, I can&apos;t wait to try out some of those. One that catches my eye is teletype where you edit only one expression at a time. The idea of zooming focus into and out of expressions is really intriguing."><y>#</y><d>2017-06-29</d><h>05:07</h><w>mikeb</w>Very cool stuff, I can&apos;t wait to try out some of those. One that catches my eye is teletype where you edit only one expression at a time. The idea of zooming focus into and out of expressions is really intriguing.</z><z id="t1498718675" t="shaunlebron i think ed works similarly, but for lines of text instead of expressions"><y>#</y><d>2017-06-29</d><h>06:44</h><w>shaunlebron</w>i think <code>ed</code> works similarly, but for lines of text instead of expressions</z><z id="t1498718738" t="shaunlebron that’s why i found nokolisp really interesting, it puts expressions on their own line so you can scroll through them like lines"><y>#</y><d>2017-06-29</d><h>06:45</h><w>shaunlebron</w>that’s why i found nokolisp really interesting, it puts expressions on their own line so you can scroll through them like lines</z><z id="t1498718800" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : working on a new paradigm"><y>#</y><d>2017-06-29</d><h>06:46</h><w>shaunlebron</w><a>@cfleming</a>: working on a new paradigm</z><z id="t1498718886" t="shaunlebron too early to be confident, but i think just simply looking at the previous state of the changed line can let us solve the balance problem for most cases"><y>#</y><d>2017-06-29</d><h>06:48</h><w>shaunlebron</w>too early to be confident, but i think just simply looking at the previous state of the changed line can let us solve the balance problem for most cases</z><z id="t1498718948" t="shaunlebron also, it might be enough to determine when to run paren mode when needed, like nightcode does with aggressive-indent behavior"><y>#</y><d>2017-06-29</d><h>06:49</h><w>shaunlebron</w>also, it might be enough to determine when to run paren mode when needed, like nightcode does with aggressive-indent behavior</z><z id="t1498726372" t="mikeb Just had a little daydream... it&apos;s [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] and [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] teaming up to build a hundred year lisp/language/toolset and making a break from traditional editors, something truly transformational. Get the ui, tooling and community aspects right unlike efforts of the past. We just needs a large corporate sponsor willing to throw money at them for a decade or so. 🙂"><y>#</y><d>2017-06-29</d><h>08:52</h><w>mikeb</w>Just had a little daydream... it&apos;s <a>@shaunlebron</a> and <a>@cfleming</a> teaming up to build a hundred year lisp/language/toolset and making a break from traditional editors, something truly transformational. Get the ui, tooling and community aspects right unlike efforts of the past. We just needs a large corporate sponsor willing to throw money at them for a decade or so. <b>🙂</b></z><z id="t1499192354" t="shaunlebron my latest explanation for behavior differences in v1 and v2, and a new v3 that I’m exploring this week: https://github.com/oakmac/atom-parinfer/pull/78#issuecomment-312930764"><y>#</y><d>2017-07-04</d><h>18:19</h><w>shaunlebron</w>my latest explanation for behavior differences in v1 and v2, and a new v3 that I’m exploring this week: <a href="https://github.com/oakmac/atom-parinfer/pull/78#issuecomment-312930764" target="_blank">https://github.com/oakmac/atom-parinfer/pull/78#issuecomment-312930764</a></z><z id="t1499222264" t="cfleming I also commented over here on the new change API idea: https://github.com/shaunlebron/parinfer/issues/138#issuecomment-312981947"><y>#</y><d>2017-07-05</d><h>02:37</h><w>cfleming</w>I also commented over here on the new change API idea: <a href="https://github.com/shaunlebron/parinfer/issues/138#issuecomment-312981947" target="_blank">https://github.com/shaunlebron/parinfer/issues/138#issuecomment-312981947</a></z><z id="t1499324502" t="urbank Is parinfer formating my code like this?"><y>#</y><d>2017-07-06</d><h>07:01</h><w>urbank</w>Is parinfer formating my code like this?</z><z id="t1499324532" t="urbank the body of render insists on being aligned with the arguments"><y>#</y><d>2017-07-06</d><h>07:02</h><w>urbank</w>the body of <code>render</code> insists on being aligned with the arguments</z><z id="t1499324543" t="urbank whereas this isn&apos;t the case with defn"><y>#</y><d>2017-07-06</d><h>07:02</h><w>urbank</w>whereas this isn&apos;t the case with defn</z><z id="t1499325086" t="urbank Sorry, wrong culprit! It&apos;s the clojure mode not parinfer"><y>#</y><d>2017-07-06</d><h>07:11</h><w>urbank</w>Sorry, wrong culprit! It&apos;s the clojure mode not parinfer</z><z id="t1499376372" t="rgdelato Quick sanity check just to help me wrap my head around things: In Lisp languages, is it normal for people to format code in this style? (foo m {:a 1 :b 2} bar) I haven&apos;t been writing Clojure for too too long, but I&apos;m more accustomed to seeing something like this: (foo m {:a 1 :b 2} bar) ...or this... (foo m {:a 1 :b 2} bar) "><y>#</y><d>2017-07-06</d><h>21:26</h><w>rgdelato</w>Quick sanity check just to help me wrap my head around things: In Lisp languages, is it normal for people to format code in this style?
<pre>(foo m {:a 1
        :b 2} bar)
</pre>
I haven&apos;t been writing Clojure for too too long, but I&apos;m more accustomed to seeing something like this:
<pre>(foo m {:a 1
        :b 2}
  bar)
</pre>
...or this...
<pre>(foo m {:a 1
        :b 2}
       bar)
</pre></z><z id="t1499376636" t="mattly I&apos;d expect bar to be aligned with m"><y>#</y><d>2017-07-06</d><h>21:30</h><w>mattly</w>I&apos;d expect <code>bar</code> to be aligned with <code>m</code></z><z id="t1499448125" t="shaunlebron I’ve seen it for destructuring in clojure"><y>#</y><d>2017-07-07</d><h>17:22</h><w>shaunlebron</w>I’ve seen it for destructuring in clojure</z><z id="t1499448285" t="shaunlebron actually, i’m having trouble coming up with a real example, lemme run a grep search on clojure core repos"><y>#</y><d>2017-07-07</d><h>17:24</h><w>shaunlebron</w>actually, i’m having trouble coming up with a real example, lemme run a grep search on clojure core repos</z><z id="t1499448343" t="rgdelato I guess my actual question was closer to &quot;would it feel limiting if the first example was disallowed?&quot; ...which may turn out to be &quot;yes&quot;, I&apos;m not sure"><y>#</y><d>2017-07-07</d><h>17:25</h><w>rgdelato</w>I guess my actual question was closer to &quot;would it feel limiting if the first example was disallowed?&quot; ...which may turn out to be &quot;yes&quot;, I&apos;m not sure</z><z id="t1499448440" t="shaunlebron i’m not sure, some real world usages might help answer"><y>#</y><d>2017-07-07</d><h>17:27</h><w>shaunlebron</w>i’m not sure, some real world usages might help answer</z><z id="t1499448956" t="shaunlebron i’m not sure if grep is liking my character class regex syntax"><y>#</y><d>2017-07-07</d><h>17:35</h><w>shaunlebron</w>i’m not sure if grep is liking my character class regex syntax</z><z id="t1499449309" t="shaunlebron trying https://github.com/BurntSushi/ripgrep"><y>#</y><d>2017-07-07</d><h>17:41</h><w>shaunlebron</w>trying <a href="https://github.com/BurntSushi/ripgrep" target="_blank">https://github.com/BurntSushi/ripgrep</a></z><z id="t1499450840" t="shaunlebron rg &apos;^\s*[^(){}\[\]]+[})\]]+\s*[\w\d:_&quot;({\[]&apos; -tclojure • https://github.com/clojure/clojurescript/blob/11700b/src/main/clojure/cljs/analyzer.cljc#L1887 • https://github.com/clojure/clojurescript/blob/11700b/src/main/clojure/cljs/analyzer.cljc#L2505 • https://github.com/clojure/clojurescript/blob/11700b/src/main/clojure/cljs/core.cljc#L3127 • https://github.com/clojure/clojurescript/blob/11700b/src/main/clojure/cljs/core.cljc#L3133 • https://github.com/clojure/clojurescript/blob/11700b/src/main/clojure/cljs/repl.cljc#L857 • https://github.com/clojure/clojurescript/blob/11700b/src/test/self/self_parity/test.cljs#L181 • https://github.com/clojure/clojurescript/blob/11700b/src/main/cljs/clojure/zip.cljs#L109 • https://github.com/clojure/clojurescript/blob/11700b/src/main/clojure/cljs/repl/rhino.clj#L164"><y>#</y><d>2017-07-07</d><h>18:07</h><w>shaunlebron</w><pre>rg &apos;^\s*[^(){}\[\]]+[})\]]+\s*[\w\d:_&quot;({\[]&apos; -tclojure
</pre>

• <a href="https://github.com/clojure/clojurescript/blob/11700b/src/main/clojure/cljs/analyzer.cljc#L1887" target="_blank">https://github.com/clojure/clojurescript/blob/11700b/src/main/clojure/cljs/analyzer.cljc#L1887</a>
• <a href="https://github.com/clojure/clojurescript/blob/11700b/src/main/clojure/cljs/analyzer.cljc#L2505" target="_blank">https://github.com/clojure/clojurescript/blob/11700b/src/main/clojure/cljs/analyzer.cljc#L2505</a>
• <a href="https://github.com/clojure/clojurescript/blob/11700b/src/main/clojure/cljs/core.cljc#L3127" target="_blank">https://github.com/clojure/clojurescript/blob/11700b/src/main/clojure/cljs/core.cljc#L3127</a>
• <a href="https://github.com/clojure/clojurescript/blob/11700b/src/main/clojure/cljs/core.cljc#L3133" target="_blank">https://github.com/clojure/clojurescript/blob/11700b/src/main/clojure/cljs/core.cljc#L3133</a>
• <a href="https://github.com/clojure/clojurescript/blob/11700b/src/main/clojure/cljs/repl.cljc#L857" target="_blank">https://github.com/clojure/clojurescript/blob/11700b/src/main/clojure/cljs/repl.cljc#L857</a>
• <a href="https://github.com/clojure/clojurescript/blob/11700b/src/test/self/self_parity/test.cljs#L181" target="_blank">https://github.com/clojure/clojurescript/blob/11700b/src/test/self/self_parity/test.cljs#L181</a>
• <a href="https://github.com/clojure/clojurescript/blob/11700b/src/main/cljs/clojure/zip.cljs#L109" target="_blank">https://github.com/clojure/clojurescript/blob/11700b/src/main/cljs/clojure/zip.cljs#L109</a>
• <a href="https://github.com/clojure/clojurescript/blob/11700b/src/main/clojure/cljs/repl/rhino.clj#L164" target="_blank">https://github.com/clojure/clojurescript/blob/11700b/src/main/clojure/cljs/repl/rhino.clj#L164</a></z><z id="t1499451077" t="dominicm One of our projects was causing a segfault in ag it pt. Switched to ripgrep, been VERY happy since."><y>#</y><d>2017-07-07</d><h>18:11</h><w>dominicm</w>One of our projects was causing a segfault in ag it pt. Switched to ripgrep, been VERY happy since.</z><z id="t1499451136" t="rgdelato Awesome, thank you for the list"><y>#</y><d>2017-07-07</d><h>18:12</h><w>rgdelato</w>Awesome, thank you for the list</z><z id="t1499452421" t="shaunlebron looks like the most legitimate cases are: ({foo 1 bar 2 ...} x) (map (fn [] ...) xs) "><y>#</y><d>2017-07-07</d><h>18:33</h><w>shaunlebron</w>looks like the most legitimate cases are:

<pre>({foo 1
  bar 2
  ...} x)
</pre>

<pre>(map (fn []
       ...) xs)
</pre></z><z id="t1499474089" t="shaunlebron made some good progress toward a unified mode this week. thanks [:attrs {:href &quot;/_/_/users/U47KWM4UV&quot;}] for the nice example behaviors!"><y>#</y><d>2017-07-08</d><h>00:34</h><w>shaunlebron</w>made some good progress toward a unified mode this week.  thanks <a>@rgdelato</a> for the nice example behaviors!</z><z id="t1499474096" t="shaunlebron first look: https://www.youtube.com/watch?v=9iZfdfsoC5o"><y>#</y><d>2017-07-08</d><h>00:34</h><w>shaunlebron</w>first look: <a href="https://www.youtube.com/watch?v=9iZfdfsoC5o" target="_blank">https://www.youtube.com/watch?v=9iZfdfsoC5o</a></z><z id="t1499499229" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] That looks awesome!"><y>#</y><d>2017-07-08</d><h>07:33</h><w>cfleming</w><a>@shaunlebron</a> That looks awesome!</z><z id="t1499500796" t="tianshu looks awesome"><y>#</y><d>2017-07-08</d><h>07:59</h><w>tianshu</w>looks awesome</z><z id="t1499500837" t="tianshu so Is it the time to make parinfer v2 for each editor?"><y>#</y><d>2017-07-08</d><h>08:00</h><w>tianshu</w>so Is it the time to make parinfer v2 for each editor?</z><z id="t1499531498" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0NBGRGD6&quot;}] would be nice for v2 to get beta-tested in each editor. there’s been a lot of changes that we have to port over to the non-js implementations, which I can help with"><y>#</y><d>2017-07-08</d><h>16:31</h><w>shaunlebron</w><a>@doglooksgood</a> would be nice for v2 to get beta-tested in each editor.  there’s been a lot of changes that we have to port over to the non-js implementations, which I can help with</z><z id="t1499532488" t="sekao this is fantastic, shaun. it has one big advantage over my hack, which is that you can surround a multiline form with delimiters and it adjusts the indentation. mine adjusts indentation based on tools.reader data (before running parinfer), which isn&apos;t available when the form is temporarily broken."><y>#</y><d>2017-07-08</d><h>16:48</h><w>sekao</w>this is fantastic, shaun. it has one big advantage over my hack, which is that you can surround a multiline form with delimiters and it adjusts the indentation. mine adjusts indentation based on tools.reader data (before running parinfer), which isn&apos;t available when the form is temporarily broken.</z><z id="t1499532556" t="shaunlebron ah! I didn’t realize this solved that caveat"><y>#</y><d>2017-07-08</d><h>16:49</h><w>shaunlebron</w>ah! I didn’t realize this solved that caveat</z><z id="t1499532737" t="shaunlebron this may not mean anything to anyone, but this was basically a one-line change to subtract the indentDelta when finding open-parens to pop off the stack: https://github.com/shaunlebron/parinfer/blob/master/lib/parinfer.js#L599"><y>#</y><d>2017-07-08</d><h>16:52</h><w>shaunlebron</w>this may not mean anything to anyone, but this was basically a one-line change to subtract the indentDelta when finding open-parens to pop off the stack: <a href="https://github.com/shaunlebron/parinfer/blob/master/lib/parinfer.js#L599" target="_blank">https://github.com/shaunlebron/parinfer/blob/master/lib/parinfer.js#L599</a></z><z id="t1499532794" t="shaunlebron wish I could explain better, but it’s funny how that eluded me for so long"><y>#</y><d>2017-07-08</d><h>16:53</h><w>shaunlebron</w>wish I could explain better, but it’s funny how that eluded me for so long</z><z id="t1499532818" t="shaunlebron [:attrs {:href &quot;/_/_/users/U080181PF&quot;}] : is cursorDx easy to compute in your night editors?"><y>#</y><d>2017-07-08</d><h>16:53</h><w>shaunlebron</w><a>@sekao</a>: is cursorDx easy to compute in your night editors?</z><z id="t1499532935" t="sekao yeah is that just a delta of the cursor position before/after each change?"><y>#</y><d>2017-07-08</d><h>16:55</h><w>sekao</w>yeah is that just a delta of the cursor position before/after each change?</z><z id="t1499532942" t="shaunlebron yes"><y>#</y><d>2017-07-08</d><h>16:55</h><w>shaunlebron</w>yes</z><z id="t1499533073" t="sekao cool that should be easy. getting the absolute position from the top of the file is slow, but i think i can get away with computing it relative to the nearest form. gotta look into that"><y>#</y><d>2017-07-08</d><h>16:57</h><w>sekao</w>cool that should be easy. getting the absolute position from the top of the file is slow, but i think i can get away with computing it relative to the nearest form. gotta look into that</z><z id="t1499587195" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] I’m definitely interested in updating the JVM version."><y>#</y><d>2017-07-09</d><h>07:59</h><w>cfleming</w><a>@shaunlebron</a> I’m definitely interested in updating the JVM version.</z><z id="t1499627199" t="rgdelato Also currently playing with a proof-of-concept to get cursorDx working in Atom: https://github.com/rgdelato/atom-parinfer/commit/ab2c8c643900de8c8fb309393aa4d5b6d275d027 ...I definitely need to test it a bit more, but it looks like something in this ballpark could potentially work? (&quot;It works on my machine.&quot; :P)"><y>#</y><d>2017-07-09</d><h>19:06</h><w>rgdelato</w>Also currently playing with a proof-of-concept to get cursorDx working in Atom: <a href="https://github.com/rgdelato/atom-parinfer/commit/ab2c8c643900de8c8fb309393aa4d5b6d275d027" target="_blank">https://github.com/rgdelato/atom-parinfer/commit/ab2c8c643900de8c8fb309393aa4d5b6d275d027</a>
...I definitely need to test it a bit more, but it looks like something in this ballpark could potentially work? (&quot;It works on my machine.&quot; :P)</z><z id="t1499629718" t="shaunlebron [:attrs {:href &quot;/_/_/users/U47KWM4UV&quot;}] ha! i was just trying this today, lemme read what you have"><y>#</y><d>2017-07-09</d><h>19:48</h><w>shaunlebron</w><a>@rgdelato</a> ha! i was just trying this today, lemme read what you have</z><z id="t1499629768" t="shaunlebron this looks great"><y>#</y><d>2017-07-09</d><h>19:49</h><w>shaunlebron</w>this looks great</z><z id="t1499629798" t="shaunlebron I was looking at buffer.onDidChange, but decided to use editor.onDidChangeText like you did"><y>#</y><d>2017-07-09</d><h>19:49</h><w>shaunlebron</w>I was looking at buffer.onDidChange, but decided to use editor.onDidChangeText like you did</z><z id="t1499630486" t="shaunlebron [:attrs {:href &quot;/_/_/users/U47KWM4UV&quot;}] I just tried it out, works well 👍"><y>#</y><d>2017-07-09</d><h>20:01</h><w>shaunlebron</w><a>@rgdelato</a> I just tried it out, works well <b>👍</b></z><z id="t1499630511" t="shaunlebron i pushed a small cursorDx fix for indent mode last night - 2.5.1"><y>#</y><d>2017-07-09</d><h>20:01</h><w>shaunlebron</w>i pushed a small cursorDx fix for indent mode last night - 2.5.1</z><z id="t1499630760" t="rgdelato Good to hear that it worked for you as well! When I was very first trying it out, I was getting an infinite loop of onChange -&gt; run Parinfer -&gt; setText -&gt; setText triggers onChange -&gt; etc ...and honestly, I&apos;m not quite sure what&apos;s preventing that infinite loop from happening in the current version of the code"><y>#</y><d>2017-07-09</d><h>20:06</h><w>rgdelato</w>Good to hear that it worked for you as well! When I was very first trying it out, I was getting an infinite loop of onChange -&gt; run Parinfer -&gt; setText -&gt; setText triggers onChange -&gt; etc ...and honestly, I&apos;m not quite sure what&apos;s preventing that infinite loop from happening in the current version of the code</z><z id="t1499630857" t="shaunlebron since the apply-parinfer will set the full text of one or more top-level forms, I was going to store that and check on future change events for reactions to that value and break out"><y>#</y><d>2017-07-09</d><h>20:07</h><w>shaunlebron</w>since the apply-parinfer will set the full text of one or more top-level forms, I was going to store that and check on future change events for reactions to that value and break out</z><z id="t1499631000" t="rgdelato Doing that might still be a good idea."><y>#</y><d>2017-07-09</d><h>20:10</h><w>rgdelato</w>Doing that might still be a good idea.</z><z id="t1499631034" t="shaunlebron i’ll console.log to see what events are chaining"><y>#</y><d>2017-07-09</d><h>20:10</h><w>shaunlebron</w>i’ll console.log to see what events are chaining</z><z id="t1499631277" t="shaunlebron might want to use ocall for these functions so we don’t need externs right?"><y>#</y><d>2017-07-09</d><h>20:14</h><w>shaunlebron</w>might want to use ocall for these functions so we don’t need externs right?</z><z id="t1499631489" t="shaunlebron oh, and we can’t loop through the changes in a forEach, because the coordinates change on every iteration"><y>#</y><d>2017-07-09</d><h>20:18</h><w>shaunlebron</w>oh, and we can’t loop through the <code>changes</code> in a forEach, because the coordinates change on every iteration</z><z id="t1499631540" t="shaunlebron i think we should only respond to the first change for now, which handles the single cursor case"><y>#</y><d>2017-07-09</d><h>20:19</h><w>shaunlebron</w>i think we should only respond to the first change for now, which handles the single cursor case</z><z id="t1499631559" t="shaunlebron i’ve only been able to reproduce multiple changes using multiple cursors"><y>#</y><d>2017-07-09</d><h>20:19</h><w>shaunlebron</w>i’ve only been able to reproduce multiple changes using multiple cursors</z><z id="t1499631946" t="rgdelato same for me, unless I&apos;m using multiple cursors, I&apos;ve only gotten 0 or 1 changes"><y>#</y><d>2017-07-09</d><h>20:25</h><w>rgdelato</w>same for me, unless I&apos;m using multiple cursors, I&apos;ve only gotten 0 or 1 changes</z><z id="t1499632108" t="rgdelato also, it looks like there&apos;s only one cljsbuild config and it has :optimizations set to :simple"><y>#</y><d>2017-07-09</d><h>20:28</h><w>rgdelato</w>also, it looks like there&apos;s only one cljsbuild config and it has <code>:optimizations</code> set to <code>:simple</code></z><z id="t1499632183" t="shaunlebron ah, nevermind then"><y>#</y><d>2017-07-09</d><h>20:29</h><w>shaunlebron</w>ah, nevermind then</z><z id="t1499632236" t="shaunlebron [:attrs {:href &quot;/_/_/users/U47KWM4UV&quot;}] it’s not firing a second onChangeText when the callback changes the text synchronously"><y>#</y><d>2017-07-09</d><h>20:30</h><w>shaunlebron</w><a>@rgdelato</a> it’s not firing a second onChangeText when the callback changes the text synchronously</z><z id="t1499632256" t="shaunlebron you were probably getting the infinite loop when debouncing"><y>#</y><d>2017-07-09</d><h>20:30</h><w>shaunlebron</w>you were probably getting the infinite loop when debouncing</z><z id="t1499632398" t="shaunlebron minor edge case I can fix—cursorDx doesn’t shift comment lines"><y>#</y><d>2017-07-09</d><h>20:33</h><w>shaunlebron</w>minor edge case I can fix—cursorDx doesn’t shift comment lines</z><z id="t1499637176" t="cfleming [:attrs {:href &quot;/_/_/users/U47KWM4UV&quot;}] [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] Looks like Atom is assuming that the caret is at the end of the changed range - I don’t think that’s always true."><y>#</y><d>2017-07-09</d><h>21:52</h><w>cfleming</w><a>@rgdelato</a> <a>@shaunlebron</a> Looks like Atom is assuming that the caret is at the end of the changed range - I don’t think that’s always true.</z><z id="t1499637197" t="cfleming old-range-x (some-&gt; change .-oldRange .-end .-column) new-range-x (some-&gt; change .-newRange .-end .-column) "><y>#</y><d>2017-07-09</d><h>21:53</h><w>cfleming</w><pre>old-range-x (some-&gt; change .-oldRange .-end .-column)
new-range-x (some-&gt; change .-newRange .-end .-column)
</pre></z><z id="t1499637245" t="cfleming Is the cursorDx value really a delta between the range lengths, or should it actually represent the caret movement?"><y>#</y><d>2017-07-09</d><h>21:54</h><w>cfleming</w>Is the cursorDx value really a delta between the range lengths, or should it actually represent the caret movement?</z><z id="t1499637564" t="cfleming (example of when that wouldn’t be true: I have the caret at the end of an identifier. I use shift-left arrow to select to the start of the identifier, so the identifier is selected but the caret is at the beginning. Then I paste some replacement text. cursorDx should be the length of the replacement text, not the difference between the old and new text)."><y>#</y><d>2017-07-09</d><h>21:59</h><w>cfleming</w>(example of when that wouldn’t be true: I have the caret at the end of an identifier. I use shift-left arrow to select to the start of the identifier, so the identifier is selected but the caret is at the beginning. Then I paste some replacement text. cursorDx should be the length of the replacement text, not the difference between the old and new text).</z><z id="t1499638060" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] I saw your github comment, thanks. I still don’t quite understand what their oldRange represents, i.e. I don’t see how their code works. I’ll have to dig into the atom code to see if I can figure out how they’re calculating that."><y>#</y><d>2017-07-09</d><h>22:07</h><w>cfleming</w><a>@shaunlebron</a> I saw your github comment, thanks. I still don’t quite understand what their oldRange represents, i.e. I don’t see how their code works. I’ll have to dig into the atom code to see if I can figure out how they’re calculating that.</z><z id="t1499638137" t="cfleming Unless their changes are ordered by text offset rather than the order in which they occurred."><y>#</y><d>2017-07-09</d><h>22:08</h><w>cfleming</w>Unless their changes are ordered by text offset rather than the order in which they occurred.</z><z id="t1499638152" t="cfleming Which doesn’t really make sense."><y>#</y><d>2017-07-09</d><h>22:09</h><w>cfleming</w>Which doesn’t really make sense.</z><z id="t1499642726" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : cursorDx might be misdescribed then. We only want cursorDx to be 2. If it were 4, the second line would not shift correctly"><y>#</y><d>2017-07-09</d><h>23:25</h><w>shaunlebron</w><a>@cfleming</a>: cursorDx might be misdescribed then.  We only want cursorDx to be 2.  If it were 4, the second line would not shift correctly</z><z id="t1499642759" t="cfleming Right, so it’s really the difference between the old and new lengths."><y>#</y><d>2017-07-09</d><h>23:25</h><w>cfleming</w>Right, so it’s really the difference between the old and new lengths.</z><z id="t1499642787" t="shaunlebron I suppose it doesn’t matter where the cursor is in the initial selection"><y>#</y><d>2017-07-09</d><h>23:26</h><w>shaunlebron</w>I suppose it doesn’t matter where the cursor is in the initial selection</z><z id="t1499642826" t="cfleming Hmm, thinking about it, that’s not right either. It’s the difference between the final column of the old and new. If you paste multi-line code you can’t use the lengths."><y>#</y><d>2017-07-09</d><h>23:27</h><w>cfleming</w>Hmm, thinking about it, that’s not right either. It’s the difference between the final column of the old and new. If you paste multi-line code you can’t use the lengths.</z><z id="t1499642827" t="shaunlebron it should behave the same no matter what, since the cursor should be after the replacement selection"><y>#</y><d>2017-07-09</d><h>23:27</h><w>shaunlebron</w>it should behave the same no matter what, since the cursor should be after the replacement selection</z></g><g id="s14"><z id="t1499642919" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] So with this new behaviour, is it your expectation that Paren mode is officially obsolete?"><y>#</y><d>2017-07-09</d><h>23:28</h><w>cfleming</w><a>@shaunlebron</a> So with this new behaviour, is it your expectation that Paren mode is officially obsolete?</z><z id="t1499643020" t="shaunlebron it certainly feels obsolete so far"><y>#</y><d>2017-07-09</d><h>23:30</h><w>shaunlebron</w>it certainly feels obsolete so far</z><z id="t1499643109" t="shaunlebron let me try with multiline code"><y>#</y><d>2017-07-09</d><h>23:31</h><w>shaunlebron</w>let me try with multiline code</z><z id="t1499643363" t="cfleming Nice!"><y>#</y><d>2017-07-09</d><h>23:36</h><w>cfleming</w>Nice!</z><z id="t1499643419" t="shaunlebron yeah! I think ryan got it right by just subtracting the end column of the old from the new"><y>#</y><d>2017-07-09</d><h>23:36</h><w>shaunlebron</w>yeah! I think ryan got it right by just subtracting the end column of the old from the new</z><z id="t1499643548" t="cfleming Right - I guess what you really want to know is how far following code should be indented/outdented"><y>#</y><d>2017-07-09</d><h>23:39</h><w>cfleming</w>Right - I guess what you really want to know is how far following code should be indented/outdented</z><z id="t1499643620" t="cfleming This is good news for me, because I don’t have access to the actual caret when calculating this."><y>#</y><d>2017-07-09</d><h>23:40</h><w>cfleming</w>This is good news for me, because I don’t have access to the actual caret when calculating this.</z><z id="t1499643636" t="shaunlebron yeah, and rather than specifying the full change, we use the cursor point as reference for the amount of shift that should happen to the expressions starting after it"><y>#</y><d>2017-07-09</d><h>23:40</h><w>shaunlebron</w>yeah, and rather than specifying the full change, we use the cursor point as reference for the amount of shift that should happen to the expressions starting after it</z><z id="t1499643686" t="cfleming I’ll still need to think about the case of multiple changes, and try to work out how to apply those."><y>#</y><d>2017-07-09</d><h>23:41</h><w>cfleming</w>I’ll still need to think about the case of multiple changes, and try to work out how to apply those.</z><z id="t1499643747" t="cfleming I guess that the cursorDx applies to all code following a particular change inside its enclosing form, right?"><y>#</y><d>2017-07-09</d><h>23:42</h><w>cfleming</w>I guess that the cursorDx applies to all code following a particular change inside its enclosing form, right?</z><z id="t1499643789" t="cfleming Does atom have a “wrap selection in parens” action? What happens if you select the if and then wrap it?"><y>#</y><d>2017-07-09</d><h>23:43</h><w>cfleming</w>Does atom have a “wrap selection in parens” action? What happens if you select the if and then wrap it?</z><z id="t1499643802" t="cfleming In that case, is parinfer run once or twice?"><y>#</y><d>2017-07-09</d><h>23:43</h><w>cfleming</w>In that case, is parinfer run once or twice?</z><z id="t1499643888" t="shaunlebron i’d just describe it as shifting all lines inside the expressions with open-parens after the cursor"><y>#</y><d>2017-07-09</d><h>23:44</h><w>shaunlebron</w>i’d just describe it as shifting all lines inside the expressions with open-parens after the cursor</z><z id="t1499643927" t="cfleming Well, it’s after the change, right? The cursor doesn’t actually matter."><y>#</y><d>2017-07-09</d><h>23:45</h><w>cfleming</w>Well, it’s after the change, right? The cursor doesn’t actually matter.</z><z id="t1499643949" t="shaunlebron right, we’re using cursorDx because I haven’t finished support for the change option yet"><y>#</y><d>2017-07-09</d><h>23:45</h><w>shaunlebron</w>right, we’re using cursorDx because I haven’t finished support for the <code>change</code> option yet</z><z id="t1499643962" t="cfleming I’m thinking about the case where there are two changes (i.e. wrapping in parens). In that case, it seems like the two dx’es should be summed after the second change."><y>#</y><d>2017-07-09</d><h>23:46</h><w>cfleming</w>I’m thinking about the case where there are two changes (i.e. wrapping in parens). In that case, it seems like the two dx’es should be summed after the second change.</z><z id="t1499643964" t="shaunlebron which will help with inline paren inference later"><y>#</y><d>2017-07-09</d><h>23:46</h><w>shaunlebron</w>which will help with inline paren inference later</z><z id="t1499643995" t="shaunlebron i can install paredit plugin to see in atom"><y>#</y><d>2017-07-09</d><h>23:46</h><w>shaunlebron</w>i can install paredit plugin to see in atom</z><z id="t1499644027" t="cfleming Actually, is this new version available in the online editor yet? Or is there a test version somewhere?"><y>#</y><d>2017-07-09</d><h>23:47</h><w>cfleming</w>Actually, is this new version available in the online editor yet? Or is there a test version somewhere?</z><z id="t1499644105" t="shaunlebron you can clone ryan’s fork: {:tag :a, :attrs {:href &quot;/cdn-cgi/l/email-protection&quot;, :class &quot;__cf_email__&quot;, :data-cfemail &quot;690e001d290e001d011c0b470a0604&quot;}, :content (&quot;[email protected]&quot;)}"><y>#</y><d>2017-07-09</d><h>23:48</h><w>shaunlebron</w>you can clone ryan’s fork: <code>{:tag :a, :attrs {:href &quot;/cdn-cgi/l/email-protection&quot;, :class &quot;__cf_email__&quot;, :data-cfemail &quot;690e001d290e001d011c0b470a0604&quot;}, :content (&quot;[email protected]&quot;)}</code></z><z id="t1499644123" t="shaunlebron and git checkout cursor-dx-poc"><y>#</y><d>2017-07-09</d><h>23:48</h><w>shaunlebron</w>and <code>git checkout cursor-dx-poc</code></z><z id="t1499644130" t="rgdelato wrapping something in parens seems to only create one change in onDidTextChange"><y>#</y><d>2017-07-09</d><h>23:48</h><w>rgdelato</w>wrapping something in parens seems to only create one change in <code>onDidTextChange</code></z><z id="t1499644155" t="shaunlebron using paredit?"><y>#</y><d>2017-07-09</d><h>23:49</h><w>shaunlebron</w>using paredit?</z><z id="t1499644161" t="cfleming [:attrs {:href &quot;/_/_/users/U47KWM4UV&quot;}] Right, so you receive an array of changes, right?"><y>#</y><d>2017-07-09</d><h>23:49</h><w>cfleming</w><a>@rgdelato</a> Right, so you receive an array of changes, right?</z><z id="t1499644173" t="cfleming Do you run parinfer after each one?"><y>#</y><d>2017-07-09</d><h>23:49</h><w>cfleming</w>Do you run parinfer after each one?</z><z id="t1499644184" t="rgdelato I just highlighted a block and pressed left paren (shift + 9), seems that wrapping behavior is built into Atom?"><y>#</y><d>2017-07-09</d><h>23:49</h><w>rgdelato</w>I just highlighted a block and pressed left paren (shift + 9), seems that wrapping behavior is built into Atom?</z><z id="t1499644232" t="cfleming Ok, so the wrapping is creating the wrapped text and replacing the selection with it, looks like."><y>#</y><d>2017-07-09</d><h>23:50</h><w>cfleming</w>Ok, so the wrapping is creating the wrapped text and replacing the selection with it, looks like.</z><z id="t1499644244" t="cfleming Rather than just inserting the two parens individually."><y>#</y><d>2017-07-09</d><h>23:50</h><w>cfleming</w>Rather than just inserting the two parens individually.</z><z id="t1499644296" t="cfleming Is there another way we could create a transaction with multiple changes?"><y>#</y><d>2017-07-09</d><h>23:51</h><w>cfleming</w>Is there another way we could create a transaction with multiple changes?</z><z id="t1499644370" t="cfleming Can you rename elements in Atom?"><y>#</y><d>2017-07-09</d><h>23:52</h><w>cfleming</w>Can you rename elements in Atom?</z><z id="t1499644392" t="rgdelato I&apos;ve only been able to make it occur with multiple cursors/selections. Shaun was saying earlier that we should only take the first change in the changes array"><y>#</y><d>2017-07-09</d><h>23:53</h><w>rgdelato</w>I&apos;ve only been able to make it occur with multiple cursors/selections. Shaun was saying earlier that we should only take the first change in the changes array</z><z id="t1499644416" t="cfleming I won’t be able to do that in Cursive, at least."><y>#</y><d>2017-07-09</d><h>23:53</h><w>cfleming</w>I won’t be able to do that in Cursive, at least.</z><z id="t1499644428" t="rgdelato &gt; oh, and we can’t loop through the changes in a forEach, because the coordinates change on every iteration &gt; [1:19] &gt; i think we should only respond to the first change for now, which handles the single cursor case"><y>#</y><d>2017-07-09</d><h>23:53</h><w>rgdelato</w>&gt; oh, and we can’t loop through the <code>changes</code> in a forEach, because the coordinates change on every iteration

&gt; [1:19] 
&gt; i think we should only respond to the first change for now, which handles the single cursor case</z><z id="t1499644460" t="cfleming There you go - looks like the paredit support works like the Cursive one would."><y>#</y><d>2017-07-09</d><h>23:54</h><w>cfleming</w>There you go - looks like the paredit support works like the Cursive one would.</z><z id="t1499644487" t="cfleming I think you’ll have to handle that."><y>#</y><d>2017-07-09</d><h>23:54</h><w>cfleming</w>I think you’ll have to handle that.</z><z id="t1499644570" t="shaunlebron the renaming case will be problematic too"><y>#</y><d>2017-07-09</d><h>23:56</h><w>shaunlebron</w>the renaming case will be problematic too</z><z id="t1499644610" t="cfleming Yes."><y>#</y><d>2017-07-09</d><h>23:56</h><w>cfleming</w>Yes.</z><z id="t1499644804" t="shaunlebron my feeling is that this cursorDx solution is a partial one, but still useful enough for an early version, since it is not introducing more problems to Indent Mode, but reducing them"><y>#</y><d>2017-07-10</d><h>00:00</h><w>shaunlebron</w>my feeling is that this cursorDx solution is a partial one, but still useful enough for an early version, since it is not introducing more problems to Indent Mode, but reducing them</z><z id="t1499644821" t="cfleming Here’s a test case: ((if some-condition print println) {:foo 1 :bar 2}) "><y>#</y><d>2017-07-10</d><h>00:00</h><w>cfleming</w>Here’s a test case:
<pre>((if some-condition
   print
   println) {:foo 1
             :bar 2})
</pre></z><z id="t1499644848" t="shaunlebron and the smart mode can be a complete solution that takes an array of changes, but will require some work"><y>#</y><d>2017-07-10</d><h>00:00</h><w>shaunlebron</w>and the smart mode can be a complete solution that takes an array of changes, but will require some work</z><z id="t1499644867" t="cfleming If you wrap the whole (if some-condition ... ) , then the print and println should be indented by 1, and the map by 2."><y>#</y><d>2017-07-10</d><h>00:01</h><w>cfleming</w>If you wrap the whole <code>(if some-condition ... )</code>, then the <code>print</code> and <code>println</code> should be indented by 1, and the map by 2.</z><z id="t1499644921" t="shaunlebron nice case"><y>#</y><d>2017-07-10</d><h>00:02</h><w>shaunlebron</w>nice case</z><z id="t1499644929" t="cfleming It gets really hard with overlapping changes, too."><y>#</y><d>2017-07-10</d><h>00:02</h><w>cfleming</w>It gets really hard with overlapping changes, too.</z><z id="t1499644935" t="shaunlebron do you control the wrap operation?"><y>#</y><d>2017-07-10</d><h>00:02</h><w>shaunlebron</w>do you control the wrap operation?</z><z id="t1499644951" t="shaunlebron could it replaced with a single change like atom does?"><y>#</y><d>2017-07-10</d><h>00:02</h><w>shaunlebron</w>could it replaced with a single change like atom does?</z><z id="t1499644959" t="shaunlebron (not paredit I mean)"><y>#</y><d>2017-07-10</d><h>00:02</h><w>shaunlebron</w>(not paredit I mean)</z><z id="t1499644996" t="cfleming Well, I could do, but that then goes down the path of special-casing editing ops."><y>#</y><d>2017-07-10</d><h>00:03</h><w>cfleming</w>Well, I could do, but that then goes down the path of special-casing editing ops.</z><z id="t1499645013" t="cfleming It really needs a general solution to be robust."><y>#</y><d>2017-07-10</d><h>00:03</h><w>cfleming</w>It really needs a general solution to be robust.</z><z id="t1499645029" t="cfleming And I can’t special-case my way out of renaming, either."><y>#</y><d>2017-07-10</d><h>00:03</h><w>cfleming</w>And I can’t special-case my way out of renaming, either.</z><z id="t1499645065" t="shaunlebron makes sense"><y>#</y><d>2017-07-10</d><h>00:04</h><w>shaunlebron</w>makes sense</z><z id="t1499645083" t="cfleming like: (my-fn (if some-condition print println) my-fn {:foo 1 :bar 2}) "><y>#</y><d>2017-07-10</d><h>00:04</h><w>cfleming</w>like:
<pre>(my-fn (if some-condition
         print
         println) my-fn {:foo 1
                         :bar 2})
</pre></z><z id="t1499645106" t="cfleming If I rename my-fn there, for example."><y>#</y><d>2017-07-10</d><h>00:05</h><w>cfleming</w>If I rename <code>my-fn</code> there, for example.</z><z id="t1499645127" t="cfleming (very contrived, of course, but I’m sure there are plenty of real cases)."><y>#</y><d>2017-07-10</d><h>00:05</h><w>cfleming</w>(very contrived, of course, but I’m sure there are plenty of real cases).</z><z id="t1499645247" t="shaunlebron I think the changes option is doable for handling renames like this"><y>#</y><d>2017-07-10</d><h>00:07</h><w>shaunlebron</w>I think the <code>changes</code> option is doable for handling renames like this</z><z id="t1499645260" t="shaunlebron I track both input and output coordinates as I parse the text"><y>#</y><d>2017-07-10</d><h>00:07</h><w>shaunlebron</w>I track both input and output coordinates as I parse the text</z><z id="t1499645280" t="shaunlebron i’ll have to think more about it, but it feels doable"><y>#</y><d>2017-07-10</d><h>00:08</h><w>shaunlebron</w>i’ll have to think more about it, but it feels doable</z><z id="t1499645284" t="cfleming Here’s how I think this might work:"><y>#</y><d>2017-07-10</d><h>00:08</h><w>cfleming</w>Here’s how I think this might work:</z><z id="t1499645344" t="cfleming Really, the cursorDx at the moment is “from some point in the file (the new end offset of a change), indents must be changed by dx until a close paren”"><y>#</y><d>2017-07-10</d><h>00:09</h><w>cfleming</w>Really, the cursorDx at the moment is “from some point in the file (the new end offset of a change), indents must be changed by dx until a close paren”</z><z id="t1499645362" t="cfleming Is that correct?"><y>#</y><d>2017-07-10</d><h>00:09</h><w>cfleming</w>Is that correct?</z><z id="t1499645378" t="shaunlebron yes"><y>#</y><d>2017-07-10</d><h>00:09</h><w>shaunlebron</w>yes</z><z id="t1499645433" t="cfleming So it seems like you could accept a list of those in result-document-order, and essentially keep a stack of them - they’re scoped by the parens, really."><y>#</y><d>2017-07-10</d><h>00:10</h><w>cfleming</w>So it seems like you could accept a list of those in result-document-order, and essentially keep a stack of them - they’re scoped by the parens, really.</z><z id="t1499645462" t="cfleming When you encounter a new one, it gets pushed on the stack, and when you reach the corresponding close paren, you pop it."><y>#</y><d>2017-07-10</d><h>00:11</h><w>cfleming</w>When you encounter a new one, it gets pushed on the stack, and when you reach the corresponding close paren, you pop it.</z><z id="t1499645488" t="cfleming The total dx at any point in time is the sum of the dxes on the stack."><y>#</y><d>2017-07-10</d><h>00:11</h><w>cfleming</w>The total dx at any point in time is the sum of the dxes on the stack.</z><z id="t1499645584" t="cfleming At least in IntelliJ, calculating that list is relatively easy."><y>#</y><d>2017-07-10</d><h>00:13</h><w>cfleming</w>At least in IntelliJ, calculating that list is relatively easy.</z><z id="t1499645656" t="cfleming I think that’s right, and it actually should be relatively simple to implement."><y>#</y><d>2017-07-10</d><h>00:14</h><w>cfleming</w>I think that’s right, and it actually should be relatively simple to implement.</z><z id="t1499645687" t="cfleming It works nicely with the way parinfer works right now."><y>#</y><d>2017-07-10</d><h>00:14</h><w>cfleming</w>It works nicely with the way parinfer works right now.</z><z id="t1499645741" t="shaunlebron “result-document-order”?"><y>#</y><d>2017-07-10</d><h>00:15</h><w>shaunlebron</w>“result-document-order”?</z><z id="t1499645786" t="cfleming Really, a cursorDx is the dx value and the offset in the doc after which to apply it."><y>#</y><d>2017-07-10</d><h>00:16</h><w>cfleming</w>Really, a cursorDx is the dx value and the offset in the doc after which to apply it.</z><z id="t1499645802" t="cfleming So just ordered by the offsets in the document."><y>#</y><d>2017-07-10</d><h>00:16</h><w>cfleming</w>So just ordered by the offsets in the document.</z><z id="t1499645849" t="cfleming Whoever gives them to you will have to take care that they’re in the correct order, and also that they’re updated to use the co-ordinates in the resulting document."><y>#</y><d>2017-07-10</d><h>00:17</h><w>cfleming</w>Whoever gives them to you will have to take care that they’re in the correct order, and also that they’re updated to use the co-ordinates in the resulting document.</z><z id="t1499645857" t="shaunlebron sounds good"><y>#</y><d>2017-07-10</d><h>00:17</h><w>shaunlebron</w>sounds good</z><z id="t1499645881" t="shaunlebron what would you call this option? it should replace cursorDx"><y>#</y><d>2017-07-10</d><h>00:18</h><w>shaunlebron</w>what would you call this option? it should replace cursorDx</z><z id="t1499645889" t="cfleming changeDx"><y>#</y><d>2017-07-10</d><h>00:18</h><w>cfleming</w>changeDx</z><z id="t1499645899" t="cfleming Or editDx, perhaps."><y>#</y><d>2017-07-10</d><h>00:18</h><w>cfleming</w>Or editDx, perhaps.</z><z id="t1499645933" t="cfleming It’s the change in the indentation caused by a particular change or edit."><y>#</y><d>2017-07-10</d><h>00:18</h><w>cfleming</w>It’s the change in the indentation caused by a particular change or edit.</z><z id="t1499645969" t="cfleming But perhaps just call it changes? It will be a list of [offset dx] pairs."><y>#</y><d>2017-07-10</d><h>00:19</h><w>cfleming</w>But perhaps just call it changes? It will be a list of [offset dx] pairs.</z><z id="t1499646005" t="shaunlebron maybe I should just take the changes and compute the [offset dx] internally"><y>#</y><d>2017-07-10</d><h>00:20</h><w>shaunlebron</w>maybe I should just take the changes and compute the [offset dx] internally</z><z id="t1499646014" t="cfleming I suspect there are hairy edge cases here if the changes are not balanced, thinking about it."><y>#</y><d>2017-07-10</d><h>00:20</h><w>cfleming</w>I suspect there are hairy edge cases here if the changes are not balanced, thinking about it.</z><z id="t1499646015" t="shaunlebron and then we can use that option for other things later"><y>#</y><d>2017-07-10</d><h>00:20</h><w>shaunlebron</w>and then we can use that option for other things later</z><z id="t1499646037" t="cfleming Imagine that a user selects some text including an open paren, and then replaces it with text containing no parens."><y>#</y><d>2017-07-10</d><h>00:20</h><w>cfleming</w>Imagine that a user selects some text including an open paren, and then replaces it with text containing no parens.</z><z id="t1499646082" t="shaunlebron what problem would that cause?"><y>#</y><d>2017-07-10</d><h>00:21</h><w>shaunlebron</w>what problem would that cause?</z><z id="t1499646460" t="cfleming Because these will be applied using the parens for scoping. Let me see if I can think of a case."><y>#</y><d>2017-07-10</d><h>00:27</h><w>cfleming</w>Because these will be applied using the parens for scoping. Let me see if I can think of a case.</z><z id="t1499646520" t="cfleming (test {:foo 1 :bar 2}) "><y>#</y><d>2017-07-10</d><h>00:28</h><w>cfleming</w><pre>(test {:foo 1
       :bar 2})
</pre></z><z id="t1499646541" t="cfleming Imagine that the user selects test { and replaces it with foo ."><y>#</y><d>2017-07-10</d><h>00:29</h><w>cfleming</w>Imagine that the user selects <code>test {</code> and replaces it with <code>foo</code>.</z><z id="t1499646570" t="cfleming I guess that would work, actually, since the closing } will be removed during processing anyway"><y>#</y><d>2017-07-10</d><h>00:29</h><w>cfleming</w>I guess that would work, actually, since the closing <code>}</code> will be removed during processing anyway</z><z id="t1499646625" t="cfleming I wonder if there are tricky cases when the user deletes closing parens."><y>#</y><d>2017-07-10</d><h>00:30</h><w>cfleming</w>I wonder if there are tricky cases when the user deletes closing parens.</z><z id="t1499646644" t="cfleming Anyway, I guess we’ll find them soon enough."><y>#</y><d>2017-07-10</d><h>00:30</h><w>cfleming</w>Anyway, I guess we’ll find them soon enough.</z><z id="t1499646717" t="shaunlebron yeah, I couldn’t think of a problem with it actually, other than causing extra character insertion that could throw off the other change coordinates if I’m doing it incorrectly"><y>#</y><d>2017-07-10</d><h>00:31</h><w>shaunlebron</w>yeah, I couldn’t think of a problem with it actually, other than causing extra character insertion that could throw off the other change coordinates if I’m doing it incorrectly</z><z id="t1499647165" t="shaunlebron will look at this after dinner, thanks so much guys. couldn’t have done this myself"><y>#</y><d>2017-07-10</d><h>00:39</h><w>shaunlebron</w>will look at this after dinner, thanks so much guys.  couldn’t have done this myself</z><z id="t1499647232" t="cfleming Thanks to you too - I’m really excited for this change!"><y>#</y><d>2017-07-10</d><h>00:40</h><w>cfleming</w>Thanks to you too - I’m really excited for this change!</z><z id="t1499647317" t="cfleming Actually…."><y>#</y><d>2017-07-10</d><h>00:41</h><w>cfleming</w>Actually….</z><z id="t1499647340" t="cfleming Even more exciting, I think this can be used for the partial update change."><y>#</y><d>2017-07-10</d><h>00:42</h><w>cfleming</w>Even more exciting, I think this can be used for the partial update change.</z><z id="t1499647411" t="cfleming As you’re processing, you record more or less the same data you’re doing now, but don’t make any modifications."><y>#</y><d>2017-07-10</d><h>00:43</h><w>cfleming</w>As you’re processing, you record more or less the same data you’re doing now, but don’t make any modifications.</z><z id="t1499647460" t="cfleming When you encounter a change, you know when the previous open paren was. You then process, making modifications, until that paren is balanced again."><y>#</y><d>2017-07-10</d><h>00:44</h><w>cfleming</w>When you encounter a change, you know when the previous open paren was. You then process, making modifications, until that paren is balanced again.</z><z id="t1499647463" t="cfleming OMG"><y>#</y><d>2017-07-10</d><h>00:44</h><w>cfleming</w>OMG</z><z id="t1499647511" t="cfleming Then continue without making modifications until you reach another change."><y>#</y><d>2017-07-10</d><h>00:45</h><w>cfleming</w>Then continue without making modifications until you reach another change.</z><z id="t1499647579" t="cfleming In fact, it’s possible you could have two modes - scanning and only checking that parens are balanced, and then a mode where you’re processing, basically exactly as you do now. You just need to set up the correct data at the start of the open paren previous to the change."><y>#</y><d>2017-07-10</d><h>00:46</h><w>cfleming</w>In fact, it’s possible you could have two modes - scanning and only checking that parens are balanced, and then a mode where you’re processing, basically exactly as you do now. You just need to set up the correct data at the start of the open paren previous to the change.</z><z id="t1499649188" t="shaunlebron ha, not following yet"><y>#</y><d>2017-07-10</d><h>01:13</h><w>shaunlebron</w>ha, not following yet</z><z id="t1499650951" t="cfleming I’m looking after our daughter now, I’ll try to explain better later."><y>#</y><d>2017-07-10</d><h>01:42</h><w>cfleming</w>I’m looking after our daughter now, I’ll try to explain better later.</z><z id="t1499650971" t="cfleming But I think this might be the change which achieves everything I wanted from parinfer 🙂"><y>#</y><d>2017-07-10</d><h>01:42</h><w>cfleming</w>But I think this might be the change which achieves everything I wanted from parinfer <b>🙂</b></z><z id="t1499655001" t="shaunlebron streaming some work tonight: https://www.twitch.tv/shaunlebron"><y>#</y><d>2017-07-10</d><h>02:50</h><w>shaunlebron</w>streaming some work tonight: <a href="https://www.twitch.tv/shaunlebron" target="_blank">https://www.twitch.tv/shaunlebron</a></z><z id="t1499658672" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] So I basically wanted to change two things from parinfer, which I was planning to investigate. One was removing the indent/paren mode difference. The other was only processing the parts of the file (sexps, probably) affected by a particular change. This would mean that people wouldn’t have to pre-format their files on file open, and it would not be a requirement that the whole file complied with the indent rules - just the parts that they’re editing. My idea was to detect while processing the affected part of the file if that particular section didn’t comply with the indent rules, and to show an error at that point. So if the user tried an action in a part of the file which couldn’t support indent mode, parinfer just wouldn’t get run, they would be notified and they would have to fix it by hand, reformat it or something similar."><y>#</y><d>2017-07-10</d><h>03:51</h><w>cfleming</w><a>@shaunlebron</a> So I basically wanted to change two things from parinfer, which I was planning to investigate. One was removing the indent/paren mode difference. The other was only processing the parts of the file (sexps, probably) affected by a particular change. This would mean that people wouldn’t have to pre-format their files on file open, and it would not be a requirement that the whole file complied with the indent rules - just the parts that they’re editing. My idea was to detect while processing the affected part of the file if that particular section didn’t comply with the indent rules, and to show an error at that point. So if the user tried an action in a part of the file which couldn’t support indent mode, parinfer just wouldn’t get run, they would be notified and they would have to fix it by hand, reformat it or something similar.</z><z id="t1499658697" t="cfleming This change you’re making fixes the first, and I believe it can also be made to do the second."><y>#</y><d>2017-07-10</d><h>03:51</h><w>cfleming</w>This change you’re making fixes the first, and I believe it can also be made to do the second.</z><z id="t1499658826" t="cfleming I think the best way to do this would be to start scanning the file in a non-modifying mode. This would scan the file contents much like parinfer does at the moment, but it would not actually modify the file, it would just record the paren stack, the current horizontal position and the position of the last open paren (that might be implicitly stored in the paren stack)."><y>#</y><d>2017-07-10</d><h>03:53</h><w>cfleming</w>I think the best way to do this would be to start scanning the file in a non-modifying mode. This would scan the file contents much like parinfer does at the moment, but it would not actually modify the file, it would just record the paren stack, the current horizontal position and the position of the last open paren (that might be implicitly stored in the paren stack).</z><z id="t1499659049" t="cfleming Then, when you encounter one of these changes, you switch to processing exactly like parinfer does now, or at least like your new modified version does. You record the last open paren you saw. You update the file, but critically you stop processing as soon as the last open paren you recorded earlier is balanced. This means that the paren trail handling is a little trickier since you don’t just delete all close parens wholesale, you only do it until they’re balanced. Once your original open paren is balanced again, you switch back to your non-modifying scanning mode again until you hit another change."><y>#</y><d>2017-07-10</d><h>03:57</h><w>cfleming</w>Then, when you encounter one of these changes, you switch to processing exactly like parinfer does now, or at least like your new modified version does. You record the last open paren you saw. You update the file, but critically you stop processing as soon as the last open paren you recorded earlier is balanced. This means that the paren trail handling is a little trickier since you don’t just delete all close parens wholesale, you only do it until they’re balanced. Once your original open paren is balanced again, you switch back to your non-modifying scanning mode again until you hit another change.</z><z id="t1499659228" t="cfleming If you ever get to a stage where the parens can’t balance, you barf with an error - this is like your new v2 warning mode. Similarly, you barf with an error if the sections you’re actually processing don’t obey the indent mode rules - I’m not sure if this requires more information to be tracked than is currently, but I suspect it’s a relatively simple change."><y>#</y><d>2017-07-10</d><h>04:00</h><w>cfleming</w>If you ever get to a stage where the parens can’t balance, you barf with an error - this is like your new v2 warning mode. Similarly, you barf with an error if the sections you’re actually processing don’t obey the indent mode rules - I’m not sure if this requires more information to be tracked than is currently, but I suspect it’s a relatively simple change.</z><z id="t1499659380" t="cfleming Obviously I haven’t implemented this, but in my head it works perfectly 🙂"><y>#</y><d>2017-07-10</d><h>04:03</h><w>cfleming</w>Obviously I haven’t implemented this, but in my head it works perfectly <b>🙂</b></z><z id="t1499659509" t="cfleming The only bit that I don’t have quite clear in my head (been too long since I looked at all the details) is that the close paren tracking &amp; matching will work correctly - I’d need to try it."><y>#</y><d>2017-07-10</d><h>04:05</h><w>cfleming</w>The only bit that I don’t have quite clear in my head (been too long since I looked at all the details) is that the close paren tracking &amp; matching will work correctly - I’d need to try it.</z><z id="t1499662655" t="cfleming Actually, thinking about this, I’m not sure it will work - I don’t know if parinfer can work out when processing should stop, since normally it relies on removing all close parens and putting them back where it infers them."><y>#</y><d>2017-07-10</d><h>04:57</h><w>cfleming</w>Actually, thinking about this, I’m not sure it will work - I don’t know if parinfer can work out when processing should stop, since normally it relies on removing all close parens and putting them back where it infers them.</z><z id="t1499662697" t="cfleming I think it will probably need the original range of the sexp from the original document, which gets back to the complexity around tracking ranges across all the changes."><y>#</y><d>2017-07-10</d><h>04:58</h><w>cfleming</w>I think it will probably need the original range of the sexp from the original document, which gets back to the complexity around tracking ranges across all the changes.</z><z id="t1499706906" t="shaunlebron just thinking through an example: (defn foo ([a] (foo a 123)) ;; &lt;--- what happens when adjusting indentation of this line? ([a b] (+ a b))) "><y>#</y><d>2017-07-10</d><h>17:15</h><w>shaunlebron</w>just thinking through an example:

<pre>(defn foo
  ([a]
     (foo a 123)) ;; &lt;--- what happens when adjusting indentation of this line?
  ([a b]
     (+ a b)))
</pre></z><z id="t1499706999" t="shaunlebron having a hard time piecing together expected behavior here, maybe we can work from this example to see what would be partially processed"><y>#</y><d>2017-07-10</d><h>17:16</h><w>shaunlebron</w>having a hard time piecing together expected behavior here, maybe we can work from this example to see what would be partially processed</z><z id="t1499707910" t="shaunlebron some questions: 1. should dedenting this line by one space cause it to enter the parent form? 2. should dedenting all the way cause it to adopt everything below it?"><y>#</y><d>2017-07-10</d><h>17:31</h><w>shaunlebron</w>some questions:

1. should dedenting this line by one space cause it to enter the parent form?
2. should dedenting all the way cause it to adopt everything below it?</z><z id="t1499708641" t="shaunlebron [:attrs {:href &quot;/_/_/users/U47KWM4UV&quot;}] : I published 2.5.2"><y>#</y><d>2017-07-10</d><h>17:44</h><w>shaunlebron</w><a>@rgdelato</a>: I published 2.5.2</z><z id="t1499708670" t="shaunlebron you can either run with that, or wait for a cursorDx to be replaced with a changes array option"><y>#</y><d>2017-07-10</d><h>17:44</h><w>shaunlebron</w>you can either run with that, or wait for a <code>cursorDx</code> to be replaced with a <code>changes</code> array option</z><z id="t1499708716" t="shaunlebron i’m leaving for a road trip tomorrow, and I may not finish the changes thing today"><y>#</y><d>2017-07-10</d><h>17:45</h><w>shaunlebron</w>i’m leaving for a road trip tomorrow, and I may not finish the <code>changes</code> thing today</z><z id="t1499708781" t="rgdelato cool, have fun on your trip!"><y>#</y><d>2017-07-10</d><h>17:46</h><w>rgdelato</w>cool, have fun on your trip!</z><z id="t1499710489" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] &gt; maybe I should just take the changes and compute the [offset dx] internally I think this would be a good idea BTW, then you have more context if you want it later. It means explaining the concept of the different co-ordinate spaces and specifying which you want though."><y>#</y><d>2017-07-10</d><h>18:14</h><w>cfleming</w><a>@shaunlebron</a> 
&gt; maybe I should just take the changes and compute the [offset dx] internally
I think this would be a good idea BTW, then you have more context if you want it later. It means explaining the concept of the different co-ordinate spaces and specifying which you want though.</z><z id="t1499710504" t="cfleming More thoughts later"><y>#</y><d>2017-07-10</d><h>18:15</h><w>cfleming</w>More thoughts later</z><z id="t1499714387" t="shaunlebron thanks colin!"><y>#</y><d>2017-07-10</d><h>19:19</h><w>shaunlebron</w>thanks colin!</z><z id="t1499714408" t="shaunlebron streaming here for the changes option: https://twitch.tv/shaunlebron"><y>#</y><d>2017-07-10</d><h>19:20</h><w>shaunlebron</w>streaming here for the <code>changes</code> option: <a href="https://twitch.tv/shaunlebron" target="_blank">https://twitch.tv/shaunlebron</a></z><z id="t1499725748" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] So that’s a tricky case to start with 🙂"><y>#</y><d>2017-07-10</d><h>22:29</h><w>cfleming</w><a>@shaunlebron</a> So that’s a tricky case to start with <b>🙂</b></z><z id="t1499725841" t="cfleming One thing I’m not clear on is if when you encounter a change, if you need to reprocess from the last opening paren. I’m not sure how much data you would need to collect to begin processing immediately when encountering a change."><y>#</y><d>2017-07-10</d><h>22:30</h><w>cfleming</w>One thing I’m not clear on is if when you encounter a change, if you need to reprocess from the last opening paren. I’m not sure how much data you would need to collect to begin processing immediately when encountering a change.</z><z id="t1499725963" t="cfleming So I think assuming that either you reprocess from the opening paren, or you do have enough data from the initial scanning, when adjusting the indentation of that line the last opening paren will be the ([a]..."><y>#</y><d>2017-07-10</d><h>22:32</h><w>cfleming</w>So I think assuming that either you reprocess from the opening paren, or you do have enough data from the initial scanning, when adjusting the indentation of that line the last opening paren will be the <code>([a]...</code></z><z id="t1499725974" t="cfleming i.e. we’ll try to process the whole arity 1 body."><y>#</y><d>2017-07-10</d><h>22:32</h><w>cfleming</w>i.e. we’ll try to process the whole arity 1 body.</z><z id="t1499726011" t="cfleming But as soon as we start processing it, we’ll find that it’s not indented according to the indent mode rules, and fail with an error stating that."><y>#</y><d>2017-07-10</d><h>22:33</h><w>cfleming</w>But as soon as we start processing it, we’ll find that it’s not indented according to the indent mode rules, and fail with an error stating that.</z><z id="t1499726027" t="cfleming Let’s start with an example that actually works first."><y>#</y><d>2017-07-10</d><h>22:33</h><w>cfleming</w>Let’s start with an example that actually works first.</z><z id="t1499726165" t="cfleming (let [{:keys [refer rename]} filters name (get rename place-name place-name)] (when (or (= :all refer) ; &lt;-- replace this when with an if (contains? refer name)) name)) "><y>#</y><d>2017-07-10</d><h>22:36</h><w>cfleming</w><pre>(let [{:keys [refer rename]} filters
      name (get rename place-name place-name)]
  (when (or (= :all refer) ; &lt;-- replace this when with an if
            (contains? refer name))
    name))
</pre></z><z id="t1499726243" t="cfleming After replacing:"><y>#</y><d>2017-07-10</d><h>22:37</h><w>cfleming</w>After replacing:</z><z id="t1499726269" t="cfleming (let [{:keys [refer rename]} filters name (get rename place-name place-name)] (if (or (= :all refer) ; &lt;-- change is right after if, dx = -2 (contains? refer name)) name)) "><y>#</y><d>2017-07-10</d><h>22:37</h><w>cfleming</w><pre>(let [{:keys [refer rename]} filters
      name (get rename place-name place-name)]
  (if (or (= :all refer) ; &lt;-- change is right after if, dx = -2
            (contains? refer name))
    name))
</pre></z><z id="t1499726322" t="cfleming Now, when you run parinfer, you’ll scan the file, not modifying anything but just checking parens are balanced, until you hit the change."><y>#</y><d>2017-07-10</d><h>22:38</h><w>cfleming</w>Now, when you run parinfer, you’ll scan the file, not modifying anything but just checking parens are balanced, until you hit the change.</z><z id="t1499726428" t="cfleming So your last open paren is right before the if , and you start processing. I’m assuming that at that point you’re processing in paren mode, because you have an active dx."><y>#</y><d>2017-07-10</d><h>22:40</h><w>cfleming</w>So your last open paren is right before the <code>if</code>, and you start processing. I’m assuming that at that point you’re processing in paren mode, because you have an active dx.</z><z id="t1499726549" t="cfleming I haven’t seen that code, so I don’t know exactly how that works, but I’m assuming that dx is in scope for the following block, i.e. the (or ...) sexp, so that all gets indented correctly:"><y>#</y><d>2017-07-10</d><h>22:42</h><w>cfleming</w>I haven’t seen that code, so I don’t know exactly how that works, but I’m assuming that dx is in scope for the following block, i.e. the <code>(or ...)</code> sexp, so that all gets indented correctly:</z><z id="t1499726573" t="cfleming (let [{:keys [refer rename]} filters name (get rename place-name place-name)] (if (or (= :all refer) (contains? refer name)) ; &lt;- this gets indented by dx name))"><y>#</y><d>2017-07-10</d><h>22:42</h><w>cfleming</w><pre>(let [{:keys [refer rename]} filters
      name (get rename place-name place-name)]
  (if (or (= :all refer)
          (contains? refer name)) ; &lt;- this gets indented by dx
    name))</pre></z><z id="t1499726658" t="cfleming then you continue processing until the end of name) . At that point you realise that your original open paren (if... is now balanced, so you go back to scanning. Since there are no more changes, you’re done."><y>#</y><d>2017-07-10</d><h>22:44</h><w>cfleming</w>then you continue processing until the end of <code>name)</code>. At that point you realise that your original open paren <code>(if...</code> is now balanced, so you go back to scanning. Since there are no more changes, you’re done.</z><z id="t1499726707" t="cfleming So you only made edits inside the if sexp, and the forms in the let binding vector could have been incorrectly indented (according to indent mode rules), and that wouldn’t have been a problem as long as the parens are correctly balanced."><y>#</y><d>2017-07-10</d><h>22:45</h><w>cfleming</w>So you only made edits inside the <code>if</code> sexp, and the forms in the <code>let</code> binding vector could have been incorrectly indented (according to indent mode rules), and that wouldn’t have been a problem as long as the parens are correctly balanced.</z><z id="t1499726738" t="cfleming If something inside the if block were incorrectly indented, you’d fail with an error."><y>#</y><d>2017-07-10</d><h>22:45</h><w>cfleming</w>If something inside the <code>if</code> block were incorrectly indented, you’d fail with an error.</z><z id="t1499726925" t="cfleming Here’s another case:"><y>#</y><d>2017-07-10</d><h>22:48</h><w>cfleming</w>Here’s another case:</z><z id="t1499726968" t="cfleming (let [{:keys [refer rename]} filters name (get rename place-name place-name)] (if (or (= :all refer) ; &lt;- caret is now right before (or…, and I type or paste (and (contains? refer name)) name))"><y>#</y><d>2017-07-10</d><h>22:49</h><w>cfleming</w><pre>(let [{:keys [refer rename]} filters
      name (get rename place-name place-name)]
  (if (or (= :all refer) ; &lt;- caret is now right before (or…, and I type or paste (and 
          (contains? refer name))
    name))</pre></z><z id="t1499726990" t="cfleming Because I’m going to make my conditional more complicated."><y>#</y><d>2017-07-10</d><h>22:49</h><w>cfleming</w>Because I’m going to make my conditional more complicated.</z><z id="t1499727041" t="cfleming So now we have: (let [{:keys [refer rename]} filters name (get rename place-name place-name)] (if (and (or (= :all refer) ; &lt;- and is currently unbalanced, following code is not indented (contains? refer name)) name))"><y>#</y><d>2017-07-10</d><h>22:50</h><w>cfleming</w>So now we have:
<pre>(let [{:keys [refer rename]} filters
      name (get rename place-name place-name)]
  (if (and (or (= :all refer) ; &lt;- and is currently unbalanced, following code is not indented
          (contains? refer name))
    name))</pre></z><z id="t1499727088" t="cfleming Again, assuming that dx is in scope for the or block, you process that in paren mode:"><y>#</y><d>2017-07-10</d><h>22:51</h><w>cfleming</w>Again, assuming that dx is in scope for the <code>or</code> block, you process that in paren mode:</z><z id="t1499727113" t="cfleming (let [{:keys [refer rename]} filters name (get rename place-name place-name)] (if (and (or (= :all refer) ; &lt;- and is still unbalanced (contains? refer name)) name))"><y>#</y><d>2017-07-10</d><h>22:51</h><w>cfleming</w><pre>(let [{:keys [refer rename]} filters
      name (get rename place-name place-name)]
  (if (and (or (= :all refer) ; &lt;- and is still unbalanced
               (contains? refer name))
    name))</pre></z><z id="t1499727172" t="cfleming Then at the end of the (or...) block, you’re processing in indent mode again as normal, and add the closing paren for the (and..."><y>#</y><d>2017-07-10</d><h>22:52</h><w>cfleming</w>Then at the end of the <code>(or...)</code> block, you’re processing in indent mode again as normal, and add the closing paren for the <code>(and...</code></z><z id="t1499727187" t="cfleming (let [{:keys [refer rename]} filters name (get rename place-name place-name)] (if (and (or (= :all refer) (contains? refer name))) name))"><y>#</y><d>2017-07-10</d><h>22:53</h><w>cfleming</w><pre>(let [{:keys [refer rename]} filters
      name (get rename place-name place-name)]
  (if (and (or (= :all refer)
               (contains? refer name)))
    name))</pre></z><z id="t1499727214" t="cfleming Then as before, you keep processing until the end of name) , switch to scanning and run to the end."><y>#</y><d>2017-07-10</d><h>22:53</h><w>cfleming</w>Then as before, you keep processing until the end of <code>name)</code>, switch to scanning and run to the end.</z><z id="t1499727241" t="cfleming The tricky part here (and in the previous case) is how to handle the paren trail for name))"><y>#</y><d>2017-07-10</d><h>22:54</h><w>cfleming</w>The tricky part here (and in the previous case) is how to handle the paren trail for <code>name))</code></z><z id="t1499727708" t="cfleming Actually, looking back at the existing paren trail rules, I’m not sure they need to be any different."><y>#</y><d>2017-07-10</d><h>23:01</h><w>cfleming</w>Actually, looking back at the existing paren trail rules, I’m not sure they need to be any different.</z><z id="t1499727760" t="cfleming The one tricky bit might be: IIRC at the end of a file, if there are any remaining outstanding close parens they’re inserted at the end to ensure everything is balanced."><y>#</y><d>2017-07-10</d><h>23:02</h><w>cfleming</w>The one tricky bit might be: IIRC at the end of a file, if there are any remaining outstanding close parens they’re inserted at the end to ensure everything is balanced.</z><z id="t1499727801" t="cfleming Should that happen here when the open paren before the change is balanced? I guess by definition there can be no outstanding close parens at that point."><y>#</y><d>2017-07-10</d><h>23:03</h><w>cfleming</w>Should that happen here when the open paren before the change is balanced? I guess by definition there can be no outstanding close parens at that point.</z><z id="t1499729840" t="shaunlebron 2.6.0 pushed with changes option that replaces cursorDx"><y>#</y><d>2017-07-10</d><h>23:37</h><w>shaunlebron</w>2.6.0 pushed with <code>changes</code> option that replaces <code>cursorDx</code></z><z id="t1499729880" t="shaunlebron [:attrs {:href &quot;/_/_/users/U47KWM4UV&quot;}] [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] we can start integrating the changes option into atom-parinfer now"><y>#</y><d>2017-07-10</d><h>23:38</h><w>shaunlebron</w><a>@rgdelato</a> <a>@chrisoakman</a> we can start integrating the <code>changes</code> option into atom-parinfer now</z><z id="t1499729896" t="shaunlebron documented here: https://github.com/shaunlebron/parinfer/tree/master/lib#api"><y>#</y><d>2017-07-10</d><h>23:38</h><w>shaunlebron</w>documented here: <a href="https://github.com/shaunlebron/parinfer/tree/master/lib#api" target="_blank">https://github.com/shaunlebron/parinfer/tree/master/lib#api</a></z><z id="t1499729942" t="shaunlebron I’ll try to update the site demo tonight if I have time 🙂"><y>#</y><d>2017-07-10</d><h>23:39</h><w>shaunlebron</w>I’ll try to update the site demo tonight if I have time <b>🙂</b></z><z id="t1499729952" t="cfleming don’t sweat it."><y>#</y><d>2017-07-10</d><h>23:39</h><w>cfleming</w>don’t sweat it.</z><z id="t1499729974" t="cfleming Assuming this looks good in Atom I’ll port to Kotlin and try it in IntelliJ."><y>#</y><d>2017-07-10</d><h>23:39</h><w>cfleming</w>Assuming this looks good in Atom I’ll port to Kotlin and try it in IntelliJ.</z><z id="t1499729984" t="cfleming And I’ll experiment with the partial change thing too."><y>#</y><d>2017-07-10</d><h>23:39</h><w>cfleming</w>And I’ll experiment with the partial change thing too.</z><z id="t1499729986" t="cfleming Thanks for this!"><y>#</y><d>2017-07-10</d><h>23:39</h><w>cfleming</w>Thanks for this!</z><z id="t1499731403" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] BTW my question about the demo site was more whether I could easily spin up a webpage to try the code right from the parinfer repo (without having to integrate it in Atom or whatever). If that’s not easy, don’t worry about it."><y>#</y><d>2017-07-11</d><h>00:03</h><w>cfleming</w><a>@shaunlebron</a> BTW my question about the demo site was more whether I could easily spin up a webpage to try the code right from the parinfer repo (without having to integrate it in Atom or whatever). If that’s not easy, don’t worry about it.</z><z id="t1499734864" t="chrisoakman [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] Shouldn&apos;t this change bump the major version number? Seems like a backwards-incompatible change to the API."><y>#</y><d>2017-07-11</d><h>01:01</h><w>chrisoakman</w><a>@shaunlebron</a> Shouldn&apos;t this change bump the major version number? Seems like a backwards-incompatible change to the API.</z><z id="t1499736839" t="shaunlebron published 3.0.0"><y>#</y><d>2017-07-11</d><h>01:33</h><w>shaunlebron</w>published 3.0.0</z><z id="t1499747970" t="sekao [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] i can&apos;t wait to integrate it into all my projects! btw, do you find that streaming helps you work through problems? i plan on trying it for a new project i&apos;m about to start. do you use OBS to record?"><y>#</y><d>2017-07-11</d><h>04:39</h><w>sekao</w><a>@shaunlebron</a> i can&apos;t wait to integrate it into all my projects! btw, do you find that streaming helps you work through problems? i plan on trying it for a new project i&apos;m about to start. do you use OBS to record?</z><z id="t1499748052" t="chrisoakman I apologize if this comes off as alarmist, but I am waiting to integrate 3.0.0 into atom-parinfer for the time being. I&apos;m not sure all of the parinfer test cases are running correctly with this change."><y>#</y><d>2017-07-11</d><h>04:40</h><w>chrisoakman</w>I apologize if this comes off as alarmist, but I am waiting to integrate 3.0.0 into atom-parinfer for the time being. I&apos;m not sure all of the parinfer test cases are running correctly with this change.</z><z id="t1499748177" t="chrisoakman The test case annotation code is somehow inside the parinfer library and the test harness isn&apos;t even calling public API methods. Maybe everything is working fine, but difficult to be sure. Also the test harness code still references cursorDx ."><y>#</y><d>2017-07-11</d><h>04:42</h><w>chrisoakman</w>The test case annotation code is somehow inside the parinfer library and the test harness isn&apos;t even calling public API methods. Maybe everything is working fine, but difficult to be sure. Also the test harness code still references <code>cursorDx</code>.</z><z id="t1499748224" t="chrisoakman Everything is probably fine, just needs to be moved around some."><y>#</y><d>2017-07-11</d><h>04:43</h><w>chrisoakman</w>Everything is probably fine, just needs to be moved around some.</z><z id="t1499749874" t="cfleming [:attrs {:href &quot;/_/_/users/U080181PF&quot;}] Are you still using parinfer-jvm, or are you only maintaining JS editors these days?"><y>#</y><d>2017-07-11</d><h>05:11</h><w>cfleming</w><a>@sekao</a> Are you still using parinfer-jvm, or are you only maintaining JS editors these days?</z><z id="t1499750395" t="onetom [:attrs {:href &quot;/_/_/users/U080181PF&quot;}] when he was cmd-tabbing around i saw the OBS icon"><y>#</y><d>2017-07-11</d><h>05:19</h><w>onetom</w><a>@sekao</a> when he was cmd-tabbing around i saw the OBS icon</z><z id="t1499751190" t="sekao [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] just JS now. Once you get the changes into the jvm lib I&apos;ll definitely bring that into cross-parinfer though"><y>#</y><d>2017-07-11</d><h>05:33</h><w>sekao</w><a>@cfleming</a> just JS now. Once you get the changes into the jvm lib I&apos;ll definitely bring that into cross-parinfer though</z><z id="t1499756529" t="cfleming [:attrs {:href &quot;/_/_/users/U080181PF&quot;}] Ok. Is anyone using cross-parinfer that you know of?"><y>#</y><d>2017-07-11</d><h>07:02</h><w>cfleming</w><a>@sekao</a> Ok. Is anyone using cross-parinfer that you know of?</z><z id="t1499760025" t="cfleming Just thinking about possible API changes - my version has diverged a bit from parinfer-jvm"><y>#</y><d>2017-07-11</d><h>08:00</h><w>cfleming</w>Just thinking about possible API changes - my version has diverged a bit from parinfer-jvm</z><z id="t1499771930" t="shaunlebron [:attrs {:href &quot;/_/_/users/U080181PF&quot;}] : I expected streaming to slow me down a bit, but I think the focus/clarity of talking to an audience actually made me get a lot more done"><y>#</y><d>2017-07-11</d><h>11:18</h><w>shaunlebron</w><a>@sekao</a>: I expected streaming to slow me down a bit, but I think the focus/clarity of talking to an audience actually made me get a lot more done</z><z id="t1499772008" t="shaunlebron it helped me get two major features done in two streaming sessions, so I’m definitely going to keep doing it"><y>#</y><d>2017-07-11</d><h>11:20</h><w>shaunlebron</w>it helped me get two major features done in two streaming sessions, so I’m definitely going to keep doing it</z><z id="t1499772050" t="shaunlebron and yes, I was using OBS"><y>#</y><d>2017-07-11</d><h>11:20</h><w>shaunlebron</w>and yes, I was using OBS</z><z id="t1499774772" t="shaunlebron [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] yeah, i understand your concern here. the tests call special test methods which in turn call the public API"><y>#</y><d>2017-07-11</d><h>12:06</h><w>shaunlebron</w><a>@chrisoakman</a> yeah, i understand your concern here.  the tests call special test methods which in turn call the public API</z><z id="t1499775142" t="shaunlebron so before, we trusted the external test parser to create reliable input and output, but now we are trusting the internal parser to do so. i don’t think it’s any different"><y>#</y><d>2017-07-11</d><h>12:12</h><w>shaunlebron</w>so before, we trusted the external test parser to create reliable input and output, but now we are trusting the internal parser to do so.  i don’t think it’s any different</z><z id="t1499775146" t="shaunlebron if you’re still worried about it, I may not be able to address that this week"><y>#</y><d>2017-07-11</d><h>12:12</h><w>shaunlebron</w>if you’re still worried about it, I may not be able to address that this week</z><z id="t1499778931" t="eraserhd Been wondering if there&apos;s any benefit to updating nvim-parinfer to use a newer parinfer.js thinger?"><y>#</y><d>2017-07-11</d><h>13:15</h><w>eraserhd</w>Been wondering if there&apos;s any benefit to updating nvim-parinfer to use a newer parinfer.js thinger?</z><z id="t1499778950" t="eraserhd I&apos;ve been hoping for smarter indent/undent."><y>#</y><d>2017-07-11</d><h>13:15</h><w>eraserhd</w>I&apos;ve been hoping for smarter indent/undent.</z><z id="t1499779418" t="eraserhd Oh, it&apos;s on 1.8.1"><y>#</y><d>2017-07-11</d><h>13:23</h><w>eraserhd</w>Oh, it&apos;s on 1.8.1</z><z id="t1499779824" t="eraserhd If I understand correctly from the chat log, 3.0.0 changed the interface in preparation for new features we don&apos;t have yet, right? So it&apos;s useful to update to 3.0.0, but mostly it is just fixes and interface changes?"><y>#</y><d>2017-07-11</d><h>13:30</h><w>eraserhd</w>If I understand correctly from the chat log, 3.0.0 changed the interface in preparation for new features we don&apos;t have yet, right?  So it&apos;s useful to update to 3.0.0, but mostly it is just fixes and interface changes?</z><z id="t1499779942" t="chrisoakman 3.0.0 changes the public API and adds significant new functionality"><y>#</y><d>2017-07-11</d><h>13:32</h><w>chrisoakman</w>3.0.0 changes the public API and adds significant new functionality</z><z id="t1499779956" t="eraserhd Ahhh. That&apos;s appealing."><y>#</y><d>2017-07-11</d><h>13:32</h><w>eraserhd</w>Ahhh.  That&apos;s appealing.</z><z id="t1499780425" t="eraserhd I just bumped the nvim-parinfer refactor PR [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] ... let me know if there&apos;s anything I need to do to make that acceptable for merge (or if it sucks :)"><y>#</y><d>2017-07-11</d><h>13:40</h><w>eraserhd</w>I just bumped the nvim-parinfer refactor PR <a>@snoe</a> ... let me know if there&apos;s anything I need to do to make that acceptable for merge (or if it sucks :)</z><z id="t1499786389" t="sekao [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] i don&apos;t know of anyone else using it"><y>#</y><d>2017-07-11</d><h>15:19</h><w>sekao</w><a>@cfleming</a> i don&apos;t know of anyone else using it</z><z id="t1499786667" t="sekao [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] the &quot;rubber duck&quot; aspect of streaming sounds useful. i also expect i&apos;ll be less tempted to waste time browsing the web if i know my screen is being recorded 😄"><y>#</y><d>2017-07-11</d><h>15:24</h><w>sekao</w><a>@shaunlebron</a> the &quot;rubber duck&quot; aspect of streaming sounds useful. i also expect i&apos;ll be less tempted to waste time browsing the web if i know my screen is being recorded <b>😄</b></z><z id="t1499795349" t="rgdelato [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] has already been playing around with it, but I updated the cursorDx proof-of-concept fork to use the new v3 API (and probably also introduced a ton of inefficiency, but hey): https://github.com/rgdelato/atom-parinfer/tree/cursor-dx-poc"><y>#</y><d>2017-07-11</d><h>17:49</h><w>rgdelato</w><a>@cfleming</a> has already been playing around with it, but I updated the cursorDx proof-of-concept fork to use the new v3 API (and probably also introduced a ton of inefficiency, but hey):
<a href="https://github.com/rgdelato/atom-parinfer/tree/cursor-dx-poc" target="_blank">https://github.com/rgdelato/atom-parinfer/tree/cursor-dx-poc</a></z><z id="t1499809408" t="cfleming I’ll be playing around with [:attrs {:href &quot;/_/_/users/U47KWM4UV&quot;}] ’s fork some more this afternoon, and creating test cases in the parinfer repo for problem cases that I find. I’ll try to fix them too."><y>#</y><d>2017-07-11</d><h>21:43</h><w>cfleming</w>I’ll be playing around with <a>@rgdelato</a>’s fork some more this afternoon, and creating test cases in the parinfer repo for problem cases that I find. I’ll try to fix them too.</z><z id="t1499809548" t="cfleming Thinking about it last night, I suspect the change dx calculation might be a bit simplistic right now. For example, if someone pastes in some unbalanced code with a lot of extraneous close parens, they’ll be removed by the algorithm and should be taken into account for the dx."><y>#</y><d>2017-07-11</d><h>21:45</h><w>cfleming</w>Thinking about it last night, I suspect the change dx calculation might be a bit simplistic right now. For example, if someone pastes in some unbalanced code with a lot of extraneous close parens, they’ll be removed by the algorithm and should be taken into account for the dx.</z><z id="t1499823613" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : good point! I think I can just adjust result.indentDelta at commitChar since we can detect when characters are added/deleted there"><y>#</y><d>2017-07-12</d><h>01:40</h><w>shaunlebron</w><a>@cfleming</a>: good point!  I think I can just adjust  <code>result.indentDelta</code> at <code>commitChar</code> since we can detect when characters are added/deleted there</z><z id="t1499825820" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : had a chance to look at it, this kind of thing can only happen when forceBalance is true, and i did a quick sandbox test, and it seems to work well with the fix i described"><y>#</y><d>2017-07-12</d><h>02:17</h><w>shaunlebron</w><a>@cfleming</a>: had a chance to look at it, this kind of thing can only happen when <code>forceBalance</code> is true, and i did a quick sandbox test, and it seems to work well with the fix i described</z><z id="t1499825825" t="shaunlebron pushed 3.0.1 with the fix"><y>#</y><d>2017-07-12</d><h>02:17</h><w>shaunlebron</w>pushed 3.0.1 with the fix</z><z id="t1499825878" t="shaunlebron unfortunately none of the indentMode tests are running with forceBalance , but I made an issue to fix that and will be able to verify more fully then"><y>#</y><d>2017-07-12</d><h>02:17</h><w>shaunlebron</w>unfortunately none of the indentMode tests are running with <code>forceBalance</code>, but I made an issue to fix that and will be able to verify more fully then</z><z id="t1499826074" t="shaunlebron [:attrs {:href &quot;/_/_/users/U080181PF&quot;}] : yeah, rubber-ducking is definitely what it is! I didn’t open reddit/twitter/hackernews at all, which is a miracle"><y>#</y><d>2017-07-12</d><h>02:21</h><w>shaunlebron</w><a>@sekao</a>: yeah, rubber-ducking is definitely what it is!  I didn’t open reddit/twitter/hackernews at all, which is a miracle</z><z id="t1499826097" t="cfleming Ok. I found a case yesterday which didn’t work correctly, at least in Atom - I haven’t had time to make a test case yet."><y>#</y><d>2017-07-12</d><h>02:21</h><w>cfleming</w>Ok. I found a case yesterday which didn’t work correctly, at least in Atom - I haven’t had time to make a test case yet.</z><z id="t1499826121" t="cfleming (if (or true false) (do-something))"><y>#</y><d>2017-07-12</d><h>02:22</h><w>cfleming</w><pre>(if (or true
        false)
  (do-something))</pre></z><z id="t1499826144" t="cfleming If I use lisp-paredit to wrap the (or...) in parens, I get:"><y>#</y><d>2017-07-12</d><h>02:22</h><w>cfleming</w>If I use <code>lisp-paredit</code> to wrap the <code>(or...)</code> in parens, I get:</z><z id="t1499826162" t="cfleming (if ((or true false)) (do-something))"><y>#</y><d>2017-07-12</d><h>02:22</h><w>cfleming</w><pre>(if ((or true
          false))
  (do-something))</pre></z><z id="t1499826180" t="cfleming The false is indented one space too many."><y>#</y><d>2017-07-12</d><h>02:23</h><w>cfleming</w>The <code>false</code> is indented one space too many.</z><z id="t1499826280" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] ^^"><y>#</y><d>2017-07-12</d><h>02:24</h><w>cfleming</w><a>@shaunlebron</a> ^^</z><z id="t1499826439" t="rgdelato ah, yeah, I should note that forceBalance is defaulted to true in my fork because [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] doesn&apos;t like the v2 changes (and my fork was originally an actual PR) "><y>#</y><d>2017-07-12</d><h>02:27</h><w>rgdelato</w>ah, yeah, I should note that <code>forceBalance</code> is defaulted to true in my fork because <a>@chrisoakman</a> doesn&apos;t like the v2 changes (and my fork was originally an actual PR) </z><z id="t1499827299" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : hmm, can’t reproduce in sandbox.js. you can try this there: console.log(parinfer.testIndentMode(` (if ((or true + false)) + (do-something)) `)); "><y>#</y><d>2017-07-12</d><h>02:41</h><w>shaunlebron</w><a>@cfleming</a>: hmm, can’t reproduce in sandbox.js.  you can try this there:

<pre>console.log(parinfer.testIndentMode(`
(if ((or true
    +
        false))
              +
  (do-something))
`));
</pre></z><z id="t1499827337" t="shaunlebron I get the following output: (if ((or true false)) (do-something)) "><y>#</y><d>2017-07-12</d><h>02:42</h><w>shaunlebron</w>I get the following output:

<pre>(if ((or true
         false))
  (do-something))
</pre></z><z id="t1499828622" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] Ok, I’ll check it out later. It might also be a problem with the Atom integration - [:attrs {:href &quot;/_/_/users/U47KWM4UV&quot;}] might have an idea why."><y>#</y><d>2017-07-12</d><h>03:03</h><w>cfleming</w><a>@shaunlebron</a> Ok, I’ll check it out later. It might also be a problem with the Atom integration - <a>@rgdelato</a> might have an idea why.</z><z id="t1499828648" t="cfleming Possibly the changes are not in sorted order, or something like that?"><y>#</y><d>2017-07-12</d><h>03:04</h><w>cfleming</w>Possibly the changes are not in sorted order, or something like that?</z><z id="t1499830071" t="shaunlebron actually, the changes can be given in any order I just realized, since I’m just creating a map from it"><y>#</y><d>2017-07-12</d><h>03:27</h><w>shaunlebron</w>actually, the changes can be given in any order I just realized, since I’m just creating a map from it</z><z id="t1499873454" t="eraserhd Are there any notes on making better tabstops from the parinfer output?"><y>#</y><d>2017-07-12</d><h>15:30</h><w>eraserhd</w>Are there any notes on making better tabstops from the parinfer output?</z><z id="t1499873530" t="eraserhd For example, when the char is ( , the next nice indent is either +2 or +1+first-word-length"><y>#</y><d>2017-07-12</d><h>15:32</h><w>eraserhd</w>For example, when the char is <code>(</code>, the next nice indent is either +2 or +1+first-word-length</z><z id="t1499873803" t="eraserhd Oh, is the open char always (x-1) on lineNo?"><y>#</y><d>2017-07-12</d><h>15:36</h><w>eraserhd</w>Oh, is the open char always (x-1) on lineNo?</z><z id="t1499873853" t="shaunlebron the tabstops are the positions of the parent open-parens"><y>#</y><d>2017-07-12</d><h>15:37</h><w>shaunlebron</w>the tabstops are the positions of the parent open-parens</z><z id="t1499873897" t="shaunlebron your example is the intended usage—determining your own offset from the open paren"><y>#</y><d>2017-07-12</d><h>15:38</h><w>shaunlebron</w>your example is the intended usage—determining your own offset from the open paren</z><z id="t1499874085" t="shaunlebron lemme get an example"><y>#</y><d>2017-07-12</d><h>15:41</h><w>shaunlebron</w>lemme get an example</z><z id="t1499874325" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0ECYL0ET&quot;}] the test cases for tabstops shows examples of where the tabstops are: https://github.com/shaunlebron/parinfer/blob/master/lib/test/cases/indent-mode.md#tab-stops"><y>#</y><d>2017-07-12</d><h>15:45</h><w>shaunlebron</w><a>@eraserhd</a> the test cases for tabstops shows examples of where the tabstops are: <a href="https://github.com/shaunlebron/parinfer/blob/master/lib/test/cases/indent-mode.md#tab-stops" target="_blank">https://github.com/shaunlebron/parinfer/blob/master/lib/test/cases/indent-mode.md#tab-stops</a></z><z id="t1499874377" t="shaunlebron lemme know if that answers your question"><y>#</y><d>2017-07-12</d><h>15:46</h><w>shaunlebron</w>lemme know if that answers your question</z><z id="t1499878331" t="eraserhd yup"><y>#</y><d>2017-07-12</d><h>16:52</h><w>eraserhd</w>yup</z><z id="t1499878363" t="eraserhd I love your tests, by the way. I do that sort of thing a bunch, and people usually whine about how much effort it is until they see it."><y>#</y><d>2017-07-12</d><h>16:52</h><w>eraserhd</w>I love your tests, by the way.  I do that sort of thing a bunch, and people usually whine about how much effort it is until they see it.</z><z id="t1499879150" t="shaunlebron would love to see your take on these kinds of tests if public!"><y>#</y><d>2017-07-12</d><h>17:05</h><w>shaunlebron</w>would love to see your take on these kinds of tests if public!</z><z id="t1499879504" t="eraserhd Hmm, some are."><y>#</y><d>2017-07-12</d><h>17:11</h><w>eraserhd</w>Hmm, some are.</z><z id="t1499879662" t="eraserhd Well, kind of. Here&apos;s from avi, a vim clone that I sort of don&apos;t work on anymore: https://github.com/maitria/avi/blob/master/test/avi/t_splits.clj#L67-L75"><y>#</y><d>2017-07-12</d><h>17:14</h><w>eraserhd</w>Well, kind of.  Here&apos;s from avi, a vim clone that I sort of don&apos;t work on anymore: <a href="https://github.com/maitria/avi/blob/master/test/avi/t_splits.clj#L67-L75" target="_blank">https://github.com/maitria/avi/blob/master/test/avi/t_splits.clj#L67-L75</a></z><z id="t1499879696" t="eraserhd I was trying to rewrite them to do this: https://github.com/maitria/avi/blob/master/test/spec.txt"><y>#</y><d>2017-07-12</d><h>17:14</h><w>eraserhd</w>I was trying to rewrite them to do this: <a href="https://github.com/maitria/avi/blob/master/test/spec.txt" target="_blank">https://github.com/maitria/avi/blob/master/test/spec.txt</a></z><z id="t1499879828" t="eraserhd My best was when working on iPad games. For Polar Puzzles, there were ascii characters for all the board pieces, and each case was run in all four rotations. https://itunes.apple.com/us/app/polar-puzzles-free/id450788000?mt=8"><y>#</y><d>2017-07-12</d><h>17:17</h><w>eraserhd</w>My best was when working on iPad games.  For Polar Puzzles, there were ascii characters for all the board pieces, and each case was run in all four rotations.  <a href="https://itunes.apple.com/us/app/polar-puzzles-free/id450788000?mt=8" target="_blank">https://itunes.apple.com/us/app/polar-puzzles-free/id450788000?mt=8</a></z><z id="t1500042760" t="tianshu I want to write parinfer v2 for emacs. "><y>#</y><d>2017-07-14</d><h>14:32</h><w>tianshu</w>I want to write parinfer v2 for emacs. </z><z id="t1500046280" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0NBGRGD6&quot;}] cool! we are at v3 now due to the new changes option that replaces cursorDx . it allows expressions to shift in indent mode like they do in paren mode"><y>#</y><d>2017-07-14</d><h>15:31</h><w>shaunlebron</w><a>@doglooksgood</a> cool! we are at v3 now due to the new <code>changes</code> option that replaces <code>cursorDx</code>. it allows expressions to shift in indent mode like they do in paren mode</z><z id="t1500046414" t="shaunlebron chris is working on getting it in atom-parinfer, and i am almost done with the extra testing things that need to happen before we port it to different plugins"><y>#</y><d>2017-07-14</d><h>15:33</h><w>shaunlebron</w>chris is working on getting it in atom-parinfer, and i am almost done with the extra testing things that need to happen before we port it to different plugins</z><z id="t1500046562" t="shaunlebron trying to get that done this week, i only have about an hour a day though. will ping you when ready"><y>#</y><d>2017-07-14</d><h>15:36</h><w>shaunlebron</w>trying to get that done this week, i only have about an hour a day though. will ping you when ready</z><z id="t1500051952" t="tianshu okay!"><y>#</y><d>2017-07-14</d><h>17:05</h><w>tianshu</w>okay!</z><z id="t1500092218" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] It would definitely be good to move the test parsing for the diff format out, so that the diffs are added to the JSON tests rather than being left in the text. The way it is now, all clients who want to reimplement parinfer but use the tests also have to reimplement that parsing."><y>#</y><d>2017-07-15</d><h>04:16</h><w>cfleming</w><a>@shaunlebron</a> It would definitely be good to move the test parsing for the diff format out, so that the diffs are added to the JSON tests rather than being left in the text. The way it is now, all clients who want to reimplement parinfer but use the tests also have to reimplement that parsing.</z><z id="t1500106153" t="cfleming Ideally the JSON cases would contain all the parameters required to simply call the API, so the tests can be trivially reused."><y>#</y><d>2017-07-15</d><h>08:09</h><w>cfleming</w>Ideally the JSON cases would contain all the parameters required to simply call the API, so the tests can be trivially reused.</z><z id="t1500129256" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] [:attrs {:href &quot;/_/_/users/U0NBGRGD6&quot;}] [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] Tests should be portable now: https://github.com/shaunlebron/parinfer/issues/139#issuecomment-315537321"><y>#</y><d>2017-07-15</d><h>14:34</h><w>shaunlebron</w><a>@cfleming</a> <a>@doglooksgood</a> <a>@chrisoakman</a> 

Tests should be portable now: <a href="https://github.com/shaunlebron/parinfer/issues/139#issuecomment-315537321" target="_blank">https://github.com/shaunlebron/parinfer/issues/139#issuecomment-315537321</a></z><z id="t1500129361" t="shaunlebron I think that addresses all the feedback I got this week, so I think ports can proceed now"><y>#</y><d>2017-07-15</d><h>14:36</h><w>shaunlebron</w>I think that addresses all the feedback I got this week, so I think ports can proceed now</z><z id="t1500184175" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] Awesome, thanks. I think I have the changes ported to my internal version of parinfer, I’ll get the tests over tomorrow and try them out."><y>#</y><d>2017-07-16</d><h>05:49</h><w>cfleming</w><a>@shaunlebron</a> Awesome, thanks. I think I have the changes ported to my internal version of parinfer, I’ll get the tests over tomorrow and try them out.</z><z id="t1500184470" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : you mean parinfer-jvm?"><y>#</y><d>2017-07-16</d><h>05:54</h><w>shaunlebron</w><a>@cfleming</a>: you mean parinfer-jvm?</z><z id="t1500184493" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] My internal version has diverged from that somewhat."><y>#</y><d>2017-07-16</d><h>05:54</h><w>cfleming</w><a>@shaunlebron</a> My internal version has diverged from that somewhat.</z><z id="t1500184526" t="cfleming I wanted to get the changes in there to actually try it out properly before I spent the time migrating to something that has no known actual clients 🙂"><y>#</y><d>2017-07-16</d><h>05:55</h><w>cfleming</w>I wanted to get the changes in there to actually try it out properly before I spent the time migrating to something that has no known actual clients <b>🙂</b></z><z id="t1500184577" t="cfleming I’m also planning to write something that records the changes made while editing code, to get a better idea of how to calculate the changes array."><y>#</y><d>2017-07-16</d><h>05:56</h><w>cfleming</w>I’m also planning to write something that records the changes made while editing code, to get a better idea of how to calculate the changes array.</z><z id="t1500184608" t="cfleming When a command creates overlapping changes, it’s actually difficult to know what to do."><y>#</y><d>2017-07-16</d><h>05:56</h><w>cfleming</w>When a command creates overlapping changes, it’s actually difficult to know what to do.</z><z id="t1500184697" t="shaunlebron I can’t seem to remember the overlapping changes example"><y>#</y><d>2017-07-16</d><h>05:58</h><w>shaunlebron</w>I can’t seem to remember the overlapping changes example</z><z id="t1500184736" t="cfleming I don’t think we’ve ever discussed one, but I believe when I initially investigated this idea I found that it was quite common."><y>#</y><d>2017-07-16</d><h>05:58</h><w>cfleming</w>I don’t think we’ve ever discussed one, but I believe when I initially investigated this idea I found that it was quite common.</z><z id="t1500184755" t="cfleming I’m planning to log all the changes while editing some code to get a better idea of when it might happen."><y>#</y><d>2017-07-16</d><h>05:59</h><w>cfleming</w>I’m planning to log all the changes while editing some code to get a better idea of when it might happen.</z><z id="t1500184787" t="cfleming Imagine that some command creates a change to some range of text, and then makes another change inside that range somewhere."><y>#</y><d>2017-07-16</d><h>05:59</h><w>cfleming</w>Imagine that some command creates a change to some range of text, and then makes another change inside that range somewhere.</z><z id="t1500184819" t="cfleming I suspect the current change dx accumulation might not work correctly there."><y>#</y><d>2017-07-16</d><h>06:00</h><w>cfleming</w>I suspect the current change dx accumulation might not work correctly there.</z><z id="t1500184839" t="cfleming But I need to write some examples on a piece of paper to think it through."><y>#</y><d>2017-07-16</d><h>06:00</h><w>cfleming</w>But I need to write some examples on a piece of paper to think it through.</z><z id="t1500184899" t="shaunlebron interesting, having a hard time to imagining an example, let me know when your logs catch one!"><y>#</y><d>2017-07-16</d><h>06:01</h><w>shaunlebron</w>interesting, having a hard time to imagining an example, let me know when your logs catch one!</z><z id="t1500184937" t="cfleming I bet this could do it: https://twitter.com/CursiveIDE/status/879504166237818880"><y>#</y><d>2017-07-16</d><h>06:02</h><w>cfleming</w>I bet this could do it: <a href="https://twitter.com/CursiveIDE/status/879504166237818880" target="_blank">https://twitter.com/CursiveIDE/status/879504166237818880</a></z><z id="t1500184994" t="cfleming Depending on how the various sub-steps are implemented."><y>#</y><d>2017-07-16</d><h>06:03</h><w>cfleming</w>Depending on how the various sub-steps are implemented.</z><z id="t1500185101" t="shaunlebron yikes"><y>#</y><d>2017-07-16</d><h>06:05</h><w>shaunlebron</w>yikes</z><z id="t1500185118" t="shaunlebron I’d be tempted to avoid that problem somehow"><y>#</y><d>2017-07-16</d><h>06:05</h><w>shaunlebron</w>I’d be tempted to avoid that problem somehow</z><z id="t1500185192" t="cfleming Cursive, after performing a paredit command, usually reformats the form. That could also create overlapping changes."><y>#</y><d>2017-07-16</d><h>06:06</h><w>cfleming</w>Cursive, after performing a paredit command, usually reformats the form. That could also create overlapping changes.</z><z id="t1500185269" t="cfleming Got to go, will report back."><y>#</y><d>2017-07-16</d><h>06:07</h><w>cfleming</w>Got to go, will report back.</z><z id="t1500185401" t="shaunlebron my gut is that when a change intersects another within the current batch, it should probably go into a new batch to run afterward"><y>#</y><d>2017-07-16</d><h>06:10</h><w>shaunlebron</w>my gut is that when a change intersects another within the current batch, it should probably go into a new batch to run afterward</z><z id="t1500270846" t="tianshu It&apos;s likely emacs parinfer need rewrite for better performance, I&apos;m not sure if it is possible to process whole buffer in a very short time in elisp."><y>#</y><d>2017-07-17</d><h>05:54</h><w>tianshu</w>It&apos;s likely emacs parinfer need rewrite for better performance, I&apos;m not sure if it is possible to process whole buffer in a very short time in elisp.</z><z id="t1500270935" t="tianshu the logic will be quite simple if always process the whole buffer. otherwise I have to find the begin and end for current sexp, that&apos;s really difficult."><y>#</y><d>2017-07-17</d><h>05:55</h><w>tianshu</w>the logic will be quite simple if always process the whole buffer. otherwise I have to find the begin and end for current sexp, that&apos;s really difficult.</z><z id="t1500271015" t="shaunlebron yeah, I suppose your choices are 1) make parinfer-elisp faster somehow, or 2) use the parent-expression hack that [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] used in atom-parinfer"><y>#</y><d>2017-07-17</d><h>05:56</h><w>shaunlebron</w>yeah, I suppose your choices are 1) make parinfer-elisp faster somehow, or 2) use the parent-expression hack that <a>@chrisoakman</a> used in atom-parinfer</z><z id="t1500271073" t="shaunlebron https://github.com/oakmac/atom-parinfer#known-limitations"><y>#</y><d>2017-07-17</d><h>05:57</h><w>shaunlebron</w><a href="https://github.com/oakmac/atom-parinfer#known-limitations" target="_blank">https://github.com/oakmac/atom-parinfer#known-limitations</a></z><z id="t1500271154" t="tianshu I use some hack for current version, however a sexp can be very large sometimes, for example, config.clj. In that situation, I delay the processing until user stop typing. but I don&apos;t think it&apos;s a good idea."><y>#</y><d>2017-07-17</d><h>05:59</h><w>tianshu</w>I use some hack for current version, however a sexp can be very large sometimes, for example, config.clj. In that situation, I delay the processing until user stop typing. but I don&apos;t think it&apos;s a good idea.</z><z id="t1500271392" t="shaunlebron just to be clear, why is it bad to process only after user stops typing?"><y>#</y><d>2017-07-17</d><h>06:03</h><w>shaunlebron</w>just to be clear, why is it bad to process only after user stops typing?</z><z id="t1500271522" t="tianshu if I have a sexp, 1000 lines. I can feel the pause while parinfer processing text."><y>#</y><d>2017-07-17</d><h>06:05</h><w>tianshu</w>if I have a sexp, 1000 lines. I can feel the pause while parinfer processing text.</z><z id="t1500271571" t="shaunlebron I mean, can you clarify this? &gt; I delay the processing until user stop typing. but I don’t think it’s a good idea."><y>#</y><d>2017-07-17</d><h>06:06</h><w>shaunlebron</w>I mean, can you clarify this?

&gt; I delay the processing until user stop typing. but I don’t think it’s a good idea.</z><z id="t1500271644" t="shaunlebron i would think that the pause does not drastically affect typing if it only happens after they’re done typing"><y>#</y><d>2017-07-17</d><h>06:07</h><w>shaunlebron</w>i would think that the pause does not drastically affect typing if it only happens after they’re done typing</z><z id="t1500271781" t="shaunlebron anyway, we worked pretty hard to ensure parinfer.js was fast for this reason, do you think parinfer-elisp could be made faster? (I haven’t looked at it)"><y>#</y><d>2017-07-17</d><h>06:09</h><w>shaunlebron</w>anyway, we worked pretty hard to ensure parinfer.js was fast for this reason, do you think parinfer-elisp could be made faster? (I haven’t looked at it)</z><z id="t1500271950" t="shaunlebron btw, finally updated the site demo to v3: https://shaunlebron.github.io/parinfer/demo"><y>#</y><d>2017-07-17</d><h>06:12</h><w>shaunlebron</w>btw, finally updated the site demo to v3: <a href="https://shaunlebron.github.io/parinfer/demo" target="_blank">https://shaunlebron.github.io/parinfer/demo</a></z><z id="t1500272037" t="shaunlebron made the necessary site changes using [:attrs {:href &quot;/_/_/users/U47KWM4UV&quot;}] ’s branch of atom-parinfer, and it feels pretty good, so I removed the mode option from the site demo"><y>#</y><d>2017-07-17</d><h>06:13</h><w>shaunlebron</w>made the necessary site changes using <a>@rgdelato</a>’s branch of atom-parinfer, and it feels pretty good, so I removed the mode option from the site demo</z><z id="t1500272636" t="rgdelato Actually, I&apos;m still not sure what&apos;s happening with that. Should I make a pull request or is [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] doing work to move Atom to v3?"><y>#</y><d>2017-07-17</d><h>06:23</h><w>rgdelato</w>Actually, I&apos;m still not sure what&apos;s happening with that. Should I make a pull request or is <a>@chrisoakman</a> doing work to move Atom to v3?</z><z id="t1500272726" t="tianshu I want to processing in parallel when user is typing. But don&apos;t know how to achieve. also, I&apos;m considering using js version parinfer instead of port it to elisp."><y>#</y><d>2017-07-17</d><h>06:25</h><w>tianshu</w>I want to processing in parallel when user is typing. But don&apos;t know how to achieve. also, I&apos;m considering using js version parinfer instead of port it to elisp.</z><z id="t1500273547" t="shaunlebron [:attrs {:href &quot;/_/_/users/U47KWM4UV&quot;}] not sure, maybe DM him to coordinate?"><y>#</y><d>2017-07-17</d><h>06:39</h><w>shaunlebron</w><a>@rgdelato</a> not sure, maybe DM him to coordinate?</z><z id="t1500273687" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0NBGRGD6&quot;}] neovim-parinfer has had great success with just using js version, and it works really well."><y>#</y><d>2017-07-17</d><h>06:41</h><w>shaunlebron</w><a>@doglooksgood</a> neovim-parinfer has had great success with just using js version, and it works really well.</z><z id="t1500273788" t="shaunlebron I think that would save a ton of work if it’s currently possible for emacs plugins to shell out to js"><y>#</y><d>2017-07-17</d><h>06:43</h><w>shaunlebron</w>I think that would save a ton of work if it’s currently possible for emacs plugins to shell out to js</z><z id="t1500301101" t="shaunlebron driving back home today. going to try to get forceBalance tests done tonight since atom-parinfer will be using it"><y>#</y><d>2017-07-17</d><h>14:18</h><w>shaunlebron</w>driving back home today.  going to try to get <code>forceBalance</code> tests done tonight since atom-parinfer will be using it</z><z id="t1500309664" t="tianshu how can I try the v3 on atom?"><y>#</y><d>2017-07-17</d><h>16:41</h><w>tianshu</w>how can I try the v3 on atom?</z><z id="t1500310033" t="rgdelato [:attrs {:href &quot;/_/_/users/U0NBGRGD6&quot;}] I have a fork that kinda works, if you already have Atom installed, you can try: git clone cd atom-parinfer git checkout cursor-dx-poc apm install apm link ...then restart Atom."><y>#</y><d>2017-07-17</d><h>16:47</h><w>rgdelato</w><a>@doglooksgood</a> I have a fork that kinda works, if you already have Atom installed, you can try:
<pre>git clone 
cd atom-parinfer
git checkout cursor-dx-poc
apm install
apm link
</pre>
...then restart Atom.</z><z id="t1500310073" t="chrisoakman I&apos;ll try to push out v3 officially this week."><y>#</y><d>2017-07-17</d><h>16:47</h><w>chrisoakman</w>I&apos;ll try to push out v3 officially this week.</z><z id="t1500310079" t="chrisoakman For atom-parinfer."><y>#</y><d>2017-07-17</d><h>16:47</h><w>chrisoakman</w>For atom-parinfer.</z><z id="t1500310083" t="rgdelato 👍"><y>#</y><d>2017-07-17</d><h>16:48</h><w>rgdelato</w><b>👍</b></z><z id="t1500310423" t="tianshu thx! [:attrs {:href &quot;/_/_/users/U47KWM4UV&quot;}]"><y>#</y><d>2017-07-17</d><h>16:53</h><w>tianshu</w>thx! <a>@rgdelato</a></z><z id="t1500310446" t="tianshu I found something not comfortable"><y>#</y><d>2017-07-17</d><h>16:54</h><w>tianshu</w>I found something not comfortable</z><z id="t1500310555" t="tianshu (defn foo [] (println {:a 12 :b 111} bar)) when cursor is following println , press backspace, bar will be slurp into {}"><y>#</y><d>2017-07-17</d><h>16:55</h><w>tianshu</w><pre>(defn foo []
  (println {:a 12
            :b 111}
           bar))
</pre>
when cursor is following <code>println</code>, press backspace, <code>bar</code> will be slurp into {}</z><z id="t1500311053" t="tianshu but I enjoy the behavior in v3 when I insert open paren before another open paren."><y>#</y><d>2017-07-17</d><h>17:04</h><w>tianshu</w>but I enjoy the behavior in v3 when I insert open paren before another open paren.</z><z id="t1500311101" t="tianshu then I can delete close paren with delete or ^d to do slurp."><y>#</y><d>2017-07-17</d><h>17:05</h><w>tianshu</w>then I can delete close paren with <code>delete</code> or <code>^d</code> to do slurp.</z><z id="t1500315090" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0NBGRGD6&quot;}] yeah i call this behavior &quot;sibling adoption&quot; with a test case describe in this section https://github.com/shaunlebron/parinfer/blob/master/lib/test/cases/indent-mode.md#changes"><y>#</y><d>2017-07-17</d><h>18:11</h><w>shaunlebron</w><a>@doglooksgood</a> yeah i call this behavior &quot;sibling adoption&quot; with a test case describe in this section <a href="https://github.com/shaunlebron/parinfer/blob/master/lib/test/cases/indent-mode.md#changes" target="_blank">https://github.com/shaunlebron/parinfer/blob/master/lib/test/cases/indent-mode.md#changes</a></z><z id="t1500324311" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] I’d need to try it for real, but I can imagine expecting the same as [:attrs {:href &quot;/_/_/users/U0NBGRGD6&quot;}]"><y>#</y><d>2017-07-17</d><h>20:45</h><w>cfleming</w><a>@shaunlebron</a> I’d need to try it for real, but I can imagine expecting the same as <a>@doglooksgood</a></z><z id="t1500331212" t="shaunlebron yeah i think i agree"><y>#</y><d>2017-07-17</d><h>22:40</h><w>shaunlebron</w>yeah i think i agree</z><z id="t1500331319" t="shaunlebron that would be inline with [:attrs {:href &quot;/_/_/users/U47KWM4UV&quot;}] &apos;s original idea to apply indent mode above and paren mode below the edit"><y>#</y><d>2017-07-17</d><h>22:41</h><w>shaunlebron</w>that would be inline with <a>@rgdelato</a>&apos;s original idea to apply indent mode above and paren mode below the edit</z><z id="t1500332084" t="shaunlebron as always, there are edge cases we have to consider. this would require parinfer to know about sibling alignment"><y>#</y><d>2017-07-17</d><h>22:54</h><w>shaunlebron</w>as always, there are edge cases we have to consider. this would require parinfer to know about sibling alignment</z><z id="t1500332222" t="shaunlebron e.g. if bar was indented by only two spaces, would you expect it to stick to the map after deleting and reinserting println ? [:attrs {:href &quot;/_/_/users/U0NBGRGD6&quot;}] [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] "><y>#</y><d>2017-07-17</d><h>22:57</h><w>shaunlebron</w>e.g. if <code>bar</code> was indented by only two spaces, would you expect it to stick to the map after deleting and reinserting <code>println</code>? <a>@doglooksgood</a> <a>@cfleming</a> </z><z id="t1500336381" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] Depends on the form unfortunately. I guess that will only be an issue if renaming a symbol by deleting the whole thing - it would have to get down to 1 char wide for that to be an issue."><y>#</y><d>2017-07-18</d><h>00:06</h><w>cfleming</w><a>@shaunlebron</a> Depends on the form unfortunately. I guess that will only be an issue if renaming a symbol by deleting the whole thing - it would have to get down to 1 char wide for that to be an issue.</z><z id="t1500336470" t="cfleming So I think I’m ok requiring some manual rearrangement in that case, since it’s likely to be far less common than other edits to leading forms - I think stickiness should be the default."><y>#</y><d>2017-07-18</d><h>00:07</h><w>cfleming</w>So I think I’m ok requiring some manual rearrangement in that case, since it’s likely to be far less common than other edits to leading forms - I think stickiness should be the default.</z><z id="t1500336501" t="cfleming Again, my initial impression without having actually used it yet - still debugging the port, and haven’t had much time this last couple of days."><y>#</y><d>2017-07-18</d><h>00:08</h><w>cfleming</w>Again, my initial impression without having actually used it yet - still debugging the port, and haven’t had much time this last couple of days.</z><z id="t1500338035" t="tianshu [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] IMO, when you want to edit some symbols, literals, etc, parens should never be changed. the indentation of bar, shouldn&apos;t affect the code struct."><y>#</y><d>2017-07-18</d><h>00:33</h><w>tianshu</w><a>@shaunlebron</a> IMO, when you want to edit some symbols, literals, etc, parens should never be changed. the indentation of bar, shouldn&apos;t affect the code struct.</z><z id="t1500340853" t="rgdelato I think what [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] means is if you have: (println {:a 1 :b 2} bar) ...and then you delete the println to get: ({:a 1 :b 2} bar) ...what do you expect if you put the println back? This? (println {:a 1 :b 2} bar) Or maybe this? (println {:a 1 :b 2} bar) "><y>#</y><d>2017-07-18</d><h>01:20</h><w>rgdelato</w>I think what <a>@shaunlebron</a> means is if you have:
<pre>(println {:a 1
          :b 2}
   bar)
</pre>
...and then you delete the <code>println</code> to get:
<pre>({:a 1
  :b 2}
 bar)
</pre>
...what do you expect if you put the <code>println</code> back? This?
<pre>(println {:a 1
          :b 2}
         bar)
</pre>
Or maybe this?
<pre>(println {:a 1
          :b 2}
 bar)
</pre></z><z id="t1500343576" t="tianshu I think both is okay, but when I have (println {:a 1 :b 2} bar) when I change println -&gt; print It becomes (print {:a 1 :b 2 bar}) "><y>#</y><d>2017-07-18</d><h>02:06</h><w>tianshu</w>I think both is okay, but when I have
<pre>(println {:a 1
          :b 2}
         bar)
</pre>
when I change println -&gt; print
It becomes
<pre>(print {:a 1
        :b 2
        bar})
</pre></z><z id="t1500343617" t="tianshu it&apos;s likely a bug?"><y>#</y><d>2017-07-18</d><h>02:06</h><w>tianshu</w>it&apos;s likely a bug?</z><z id="t1500359682" t="shaunlebron I agree that the current behavior should be changed to prevent surprising structure changes"><y>#</y><d>2017-07-18</d><h>06:34</h><w>shaunlebron</w>I agree that the current behavior should be changed to prevent surprising structure changes</z><z id="t1500360522" t="shaunlebron thought about a minimal fix for this today. The problem happens when an open-paren moves backward. my first draft for a rule: when an open-paren moves backward, the next line should be moved backward by same amount only to prevent being newly absorbed into the list. applying this recursively for any subsequently shifted open-parens will prevent structure changes without worrying about sibling alignment, a la Paren Mode"><y>#</y><d>2017-07-18</d><h>06:48</h><w>shaunlebron</w>thought about a minimal fix for this today.  The problem happens when an open-paren moves backward.  my first draft for a rule:

when an open-paren moves backward, the next line should be moved backward by same amount only to prevent being newly absorbed into the list.

applying this recursively for any subsequently shifted open-parens will prevent structure changes without worrying about sibling alignment, a la Paren Mode</z><z id="t1500361072" t="shaunlebron pushing forms around sokoban-style is as minimal a method as I can think of right now. will need more time to understand what stickiness might do and how to implement it"><y>#</y><d>2017-07-18</d><h>06:57</h><w>shaunlebron</w>pushing forms around sokoban-style is as minimal a method as I can think of right now. will need more time to understand what stickiness might do and how to implement it</z><z id="t1500362845" t="shaunlebron a weird edge case: (defn foo |[a b] bar baz) what happens when you press backspace until [a b] is moved to previous line?"><y>#</y><d>2017-07-18</d><h>07:27</h><w>shaunlebron</w>a weird edge case:

<pre>(defn foo
  |[a b]
  bar
  baz)
</pre>

what happens when you press backspace until <code>[a b]</code> is moved to previous line?</z><z id="t1500363034" t="shaunlebron 1. with nudging: (defn foo |[a b]) bar baz "><y>#</y><d>2017-07-18</d><h>07:30</h><w>shaunlebron</w>1. with nudging:

<pre>(defn foo |[a b])
bar
  baz
</pre></z><z id="t1500363158" t="shaunlebron 2. with stickiness: (defn foo |[a b]) bar baz 3. with adoption: (defn foo |[a b bar baz]) "><y>#</y><d>2017-07-18</d><h>07:32</h><w>shaunlebron</w>2. with stickiness:

<pre>(defn foo |[a b])
bar
baz
</pre>

3. with adoption:

<pre>(defn foo |[a b
            bar
            baz])
</pre></z><z id="t1500366289" t="tianshu unfortunately, none of these three is what we want."><y>#</y><d>2017-07-18</d><h>08:24</h><w>tianshu</w>unfortunately, none of these three is what we want.</z><z id="t1500367510" t="tianshu I will choose 3, because when I edit indentation, usually I wish I can change the structure. If I want to achieve (defn foo |[a b] bar baz) I will use some command to pull this line up. but It&apos;s likely parinfer is designed for no shortcut."><y>#</y><d>2017-07-18</d><h>08:45</h><w>tianshu</w>I will choose 3, because when I edit indentation, usually I wish I can change the structure. If I want to achieve 
<pre>(defn foo |[a b]
  bar
  baz)
</pre>
I will use some command to pull this line up. 
but It&apos;s likely parinfer is designed for no shortcut.</z><z id="t1500382775" t="shaunlebron I will think about how to allow this intermediate state then: (defn foo |[a b] bar baz) "><y>#</y><d>2017-07-18</d><h>12:59</h><w>shaunlebron</w>I will think about how to allow this intermediate state then:

<pre>(defn foo
|[a b]
   bar
   baz)
</pre></z><z id="t1500383087" t="shaunlebron we would have to use the cursor position to deduce when to prevent the close-paren from moving, like it already does in this case: (defn foo [a b]| bar baz) "><y>#</y><d>2017-07-18</d><h>13:04</h><w>shaunlebron</w>we would have to use the cursor position to deduce when to prevent the close-paren from moving, like it already does in this case:

<pre>(defn foo
 [a b]|
   bar
   baz)
</pre></z></g><g id="s15"><z id="t1500383733" t="shaunlebron structure can still change the moment you move the cursor to another line. (for example, in the original gif case—when deleting println and typing print , bar would still be absorbed by the map, unless it was indented by just two spaces)"><y>#</y><d>2017-07-18</d><h>13:15</h><w>shaunlebron</w>structure can still change the moment you move the cursor to another line.  (for example, in the original gif case—when deleting <code>println</code> and typing <code>print</code>, <code>bar</code> would still be absorbed by the map, unless it was indented by just two spaces)</z><z id="t1500384127" t="shaunlebron so, a fourth option: 4. always hold paren-trail of cursor line: (defn foo |[a b] bar baz) "><y>#</y><d>2017-07-18</d><h>13:22</h><w>shaunlebron</w>so, a fourth option:

4. always hold paren-trail of cursor line:

<pre>(defn foo |[a b]
  bar
  baz)
</pre></z><z id="t1500385907" t="shaunlebron I don’t think I can prevent structural damage in all cases, but I think I can prevent it for intermediate states—which seems most important"><y>#</y><d>2017-07-18</d><h>13:51</h><w>shaunlebron</w>I don’t think I can prevent structural damage in all cases, but I think I can prevent it for intermediate states—which seems most important</z><z id="t1500392667" t="shaunlebron we could do either of the following extra things to improve the UX around this: a) return a warning for parens that would be displaced when cursor is moved to another line—so editors can highlight them b) apply Paren Mode to prevent paren-displacement when cursor is moved to another line—can be done if we pass in previous cursor position"><y>#</y><d>2017-07-18</d><h>15:44</h><w>shaunlebron</w>we could do either of the following extra things to improve the UX around this:

a) return a warning for parens that would be displaced when cursor is moved to another line—so editors can highlight them

b) apply Paren Mode to prevent paren-displacement when cursor is moved to another line—can be done if we pass in previous cursor position</z><z id="t1500398806" t="shaunlebron made my thoughts a little more concrete here: https://github.com/shaunlebron/parinfer/issues/143#issuecomment-316125241"><y>#</y><d>2017-07-18</d><h>17:26</h><w>shaunlebron</w>made my thoughts a little more concrete here: <a href="https://github.com/shaunlebron/parinfer/issues/143#issuecomment-316125241" target="_blank">https://github.com/shaunlebron/parinfer/issues/143#issuecomment-316125241</a></z><z id="t1500441812" t="tianshu I don&apos;t think you should allow (defn foo [a b] bar baz) this is harmful."><y>#</y><d>2017-07-19</d><h>05:23</h><w>tianshu</w>I don&apos;t think you should allow 
<pre>(defn foo
 [a b]
   bar
   baz)
</pre>
this is harmful.</z><z id="t1500441999" t="tianshu In most editor, you can use a shortcut to pull [a b] up."><y>#</y><d>2017-07-19</d><h>05:26</h><w>tianshu</w>In most editor, you can use a shortcut to pull <code>[a b]</code> up.</z><z id="t1500442419" t="tianshu personally, I prefer there&apos;s no intermediate state, and no warning at all. so we can save file at any time, and never stop for reading the warning. It&apos;s not necessary to do all things without any editor built-in command, for people who ask &quot;why I can&apos;t pull function argument vector up by just press backspace in VIM?&quot;, we can tell him &quot;you can achieve this with J , it&apos;s faster and better&quot;."><y>#</y><d>2017-07-19</d><h>05:33</h><w>tianshu</w>personally, I prefer there&apos;s no intermediate state, and no warning at all. 
so we can save file at any time, and never stop for reading the warning.
It&apos;s not necessary to do all things without any editor built-in command, for people who ask &quot;why I can&apos;t pull function argument vector up by just press backspace in VIM?&quot;, we can tell him &quot;you can achieve this with <code>J</code>, it&apos;s faster and better&quot;.</z><z id="t1500444137" t="shaunlebron I think I understand your view here. There is some precedent with allowing intermediate states depending on cursor position: (foo [a b]| bar) Likewise, this new rule would do the same thing if the cursor is to the left of the open-paren: (foo |[a b] bar) "><y>#</y><d>2017-07-19</d><h>06:02</h><w>shaunlebron</w>I think I understand your view here.  There is some precedent with allowing intermediate states depending on cursor position:

<pre>(foo [a b]|
      bar)
</pre>

Likewise, this new rule would do the same thing if the cursor is to the left of the open-paren:

<pre>(foo |[a b]
       bar)
</pre></z><z id="t1500444273" t="shaunlebron the warning is only intended to give plugin authors the ability to provide some affordance that the paren may be displaced in both circumstances above. (optional to show at all, but maybe these precarious parens should be highlighted yellow)"><y>#</y><d>2017-07-19</d><h>06:04</h><w>shaunlebron</w>the warning is only intended to give plugin authors the ability to provide some affordance that the paren may be displaced in both circumstances above.  (optional to show at all, but maybe these precarious parens should be highlighted yellow)</z><z id="t1500444510" t="shaunlebron &gt; It’s not necessary to do all things without any editor built-in command I agree. I just want to allow the most basic operations without hotkeys, as long as simple solutions are available. since this intermediate state solution seems to apply principles already found in Parinfer’s design, I’m going to see what it looks like"><y>#</y><d>2017-07-19</d><h>06:08</h><w>shaunlebron</w>&gt; It’s not necessary to do all things without any editor built-in command

I agree.  I just want to allow the most basic operations without hotkeys, as long as simple solutions are available.  since this intermediate state solution seems to apply principles already found in Parinfer’s design, I’m going to see what it looks like</z><z id="t1500444574" t="shaunlebron &gt; so we can save file at any time you can still save a file in an intermediate state. Paren Mode will correct indentation before opening."><y>#</y><d>2017-07-19</d><h>06:09</h><w>shaunlebron</w>&gt; so we can save file at any time

you can still save a file in an intermediate state.  Paren Mode will correct indentation before opening.</z><z id="t1500444803" t="shaunlebron early version of 3.3.0 is unpublished but playable in demo: https://shaunlebron.github.io/parinfer/demo"><y>#</y><d>2017-07-19</d><h>06:13</h><w>shaunlebron</w>early version of 3.3.0 is unpublished but playable in demo: <a href="https://shaunlebron.github.io/parinfer/demo" target="_blank">https://shaunlebron.github.io/parinfer/demo</a></z><z id="t1500444833" t="shaunlebron will be looking at indentation correction after cursor movement next"><y>#</y><d>2017-07-19</d><h>06:13</h><w>shaunlebron</w>will be looking at indentation correction after cursor movement next</z><z id="t1500445139" t="shaunlebron The swallowing of the bar line at the end is what I’m trying to fix now"><y>#</y><d>2017-07-19</d><h>06:18</h><w>shaunlebron</w>The swallowing of the <code>bar</code> line at the end is what I’m trying to fix now</z><z id="t1500449846" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] I’m having problems getting my port to work correctly."><y>#</y><d>2017-07-19</d><h>07:37</h><w>cfleming</w><a>@shaunlebron</a> I’m having problems getting my port to work correctly.</z><z id="t1500449870" t="cfleming I think the issue is that there’s now a distinction between result.x and result.inputX"><y>#</y><d>2017-07-19</d><h>07:37</h><w>cfleming</w>I think the issue is that there’s now a distinction between result.x and result.inputX</z><z id="t1500449885" t="cfleming And result.lineNo and result.inputLineNo."><y>#</y><d>2017-07-19</d><h>07:38</h><w>cfleming</w>And result.lineNo and result.inputLineNo.</z><z id="t1500449906" t="cfleming What’s the difference between those values? When do they differ?"><y>#</y><d>2017-07-19</d><h>07:38</h><w>cfleming</w>What’s the difference between those values? When do they differ?</z><z id="t1500449941" t="cfleming The previous version my port was based on didn’t have that distinction."><y>#</y><d>2017-07-19</d><h>07:39</h><w>cfleming</w>The previous version my port was based on didn’t have that distinction.</z><z id="t1500470681" t="shaunlebron input coords vs output coords"><y>#</y><d>2017-07-19</d><h>13:24</h><w>shaunlebron</w>input coords vs output coords</z><z id="t1500470745" t="shaunlebron right now since there are no lines added or removed, result.inputLineNo and result.lineNo will always be the same"><y>#</y><d>2017-07-19</d><h>13:25</h><w>shaunlebron</w>right now since there are no lines added or removed, result.inputLineNo and result.lineNo will always be the same</z><z id="t1500470856" t="shaunlebron but obviously things can change within a line—like indentation and parens—so result.inputX allows us to keep track of the original position of the current character being scanned"><y>#</y><d>2017-07-19</d><h>13:27</h><w>shaunlebron</w>but obviously things can change within a line—like indentation and parens—so result.inputX allows us to keep track of the original position of the current character being scanned</z><z id="t1500470944" t="shaunlebron I use input coords when reporting errors since errors result in the original unmodified text being returned, and we don’t want to report the error position in terms of the new output text that was thrown away"><y>#</y><d>2017-07-19</d><h>13:29</h><w>shaunlebron</w>I use input coords when reporting errors since errors result in the original unmodified text being returned, and we don’t want to report the error position in terms of the new output text that was thrown away</z><z id="t1500471107" t="shaunlebron I also use them to prevent problems with changes , since subsequent change positions could be affected by previous ones."><y>#</y><d>2017-07-19</d><h>13:31</h><w>shaunlebron</w>I also use them to prevent problems with <code>changes</code>, since subsequent change positions could be affected by previous ones.</z><z id="t1500471346" t="shaunlebron lemme know if I can help look at the port"><y>#</y><d>2017-07-19</d><h>13:35</h><w>shaunlebron</w>lemme know if I can help look at the port</z><z id="t1500486806" t="shaunlebron just published 3.3.0 with smartMode to keep this experimental stuff out of original indent mode"><y>#</y><d>2017-07-19</d><h>17:53</h><w>shaunlebron</w>just published 3.3.0 with <code>smartMode</code> to keep this experimental stuff out of original indent mode</z><z id="t1500486870" t="shaunlebron the demo page defaults to smartMode, and re-exposes the other modes again for comparison: https://shaunlebron.github.io/parinfer/demo"><y>#</y><d>2017-07-19</d><h>17:54</h><w>shaunlebron</w>the demo page defaults to smartMode, and re-exposes the other modes again for comparison: <a href="https://shaunlebron.github.io/parinfer/demo" target="_blank">https://shaunlebron.github.io/parinfer/demo</a></z><z id="t1500514460" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] Ok, thanks. My problem is that instead of returning a whole string, I just return a series of edits, since that’s much more efficient in IntelliJ (the edits are nearly always small)."><y>#</y><d>2017-07-20</d><h>01:34</h><w>cfleming</w><a>@shaunlebron</a> Ok, thanks. My problem is that instead of returning a whole string, I just return a series of edits, since that’s much more efficient in IntelliJ (the edits are nearly always small).</z><z id="t1500514481" t="cfleming I’m finding that the edits are not consistently created in one space or the other (input or output)"><y>#</y><d>2017-07-20</d><h>01:34</h><w>cfleming</w>I’m finding that the edits are not consistently created in one space or the other (input or output)</z><z id="t1500514556" t="cfleming I think it’s probably a subtlety in the paren trail handling - I also process the whole document, I don’t break it into lines. So if result.x isn’t correctly updated when closing the paren trail out, that wouldn’t affect your processing but probably affects mine."><y>#</y><d>2017-07-20</d><h>01:35</h><w>cfleming</w>I think it’s probably a subtlety in the paren trail handling - I also process the whole document, I don’t break it into lines. So if result.x isn’t correctly updated when closing the paren trail out, that wouldn’t affect your processing but probably affects mine.</z><z id="t1500514609" t="cfleming Returning edits also meant that I got the cursor movement for free, since that wasn’t there previously."><y>#</y><d>2017-07-20</d><h>01:36</h><w>cfleming</w>Returning edits also meant that I got the cursor movement for free, since that wasn’t there previously.</z><z id="t1500515279" t="cfleming I think the issue is this: when replaceWithinLine is called, that then shifts the x values that you need to use for changes after the current one, unless the edits are consistently made in input space."><y>#</y><d>2017-07-20</d><h>01:47</h><w>cfleming</w>I think the issue is this: when <code>replaceWithinLine</code> is called, that then shifts the x values that you need to use for changes after the current one, unless the edits are consistently made in input space.</z><z id="t1500515332" t="cfleming That happens in commitChar because ch is set to &quot;&quot; . However it doesn’t happen in correctParenTrail , but I think it doesn’t matter for you because you’re modifying line by line."><y>#</y><d>2017-07-20</d><h>01:48</h><w>cfleming</w>That happens in <code>commitChar</code> because <code>ch</code> is set to <code>&quot;&quot;</code>. However it doesn’t happen in <code>correctParenTrail</code>, but I think it doesn’t matter for you because you’re modifying line by line.</z><z id="t1500517799" t="cfleming I’m thinking I’m going to try to consistently produce the edits in input space, which is what I had previously and I already have the code for working out the correct deltas to apply the changes. The only complication is that I then need the paren trail x values in input space, hopefully that’s not too tricky."><y>#</y><d>2017-07-20</d><h>02:29</h><w>cfleming</w>I’m thinking I’m going to try to consistently produce the edits in input space, which is what I had previously and I already have the code for working out the correct deltas to apply the changes. The only complication is that I then need the paren trail x values in input space, hopefully that’s not too tricky.</z><z id="t1500518513" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] Actually, do you only use the output coords for knowing where to make your edits? If I want my edits to be in input coords, could I simplify things by only working with input coords?"><y>#</y><d>2017-07-20</d><h>02:41</h><w>cfleming</w><a>@shaunlebron</a> Actually, do you only use the output coords for knowing where to make your edits? If I want my edits to be in input coords, could I simplify things by only working with input coords?</z><z id="t1500518744" t="shaunlebron i track my edits in input coords"><y>#</y><d>2017-07-20</d><h>02:45</h><w>shaunlebron</w>i track my edits in input coords</z><z id="t1500518885" t="shaunlebron but I’m not able to follow much of what you said actually"><y>#</y><d>2017-07-20</d><h>02:48</h><w>shaunlebron</w>but I’m not able to follow much of what you said actually</z><z id="t1500518989" t="shaunlebron is the divergence in behavior due to an inconvenience in how parinfer.js is behaving, related to intellij?"><y>#</y><d>2017-07-20</d><h>02:49</h><w>shaunlebron</w>is the divergence in behavior due to an inconvenience in how parinfer.js is behaving, related to intellij?</z><z id="t1500519136" t="shaunlebron i know there may be particular reasons for creating separate implementation, perhaps mostly to explore ideas that may inform core—having said that, I think it will be difficult to help you keep yours in sync with parinfer.js as changes will be inevitable due to the pace of smartMode changes"><y>#</y><d>2017-07-20</d><h>02:52</h><w>shaunlebron</w>i know there may be particular reasons for creating separate implementation, perhaps mostly to explore ideas that may inform core—having said that, I think it will be difficult to help you keep yours in sync with parinfer.js as changes will be inevitable due to the pace of smartMode changes</z><z id="t1500519923" t="cfleming The edits I’m seeing are definitely not all in input coords. For example, edits are often created from the paren trail x values, and they’re created from result.x"><y>#</y><d>2017-07-20</d><h>03:05</h><w>cfleming</w>The edits I’m seeing are definitely not all in input coords. For example, edits are often created from the paren trail x values, and they’re created from result.x</z><z id="t1500519940" t="cfleming Should they be created from result.inputX?"><y>#</y><d>2017-07-20</d><h>03:05</h><w>cfleming</w>Should they be created from result.inputX?</z><z id="t1500520068" t="cfleming So my initial implementation diverged from how parinfer.js worked for a couple of reasons. Mostly the difference was that I process the whole input document rather than splitting it into lines, to reduce GC pressure."><y>#</y><d>2017-07-20</d><h>03:07</h><w>cfleming</w>So my initial implementation diverged from how parinfer.js worked for a couple of reasons. Mostly the difference was that I process the whole input document rather than splitting it into lines, to reduce GC pressure.</z><z id="t1500520128" t="cfleming Similarly, I return a series of edits to apply rather than returning a whole new document."><y>#</y><d>2017-07-20</d><h>03:08</h><w>cfleming</w>Similarly, I return a series of edits to apply rather than returning a whole new document.</z><z id="t1500520175" t="cfleming When I was perf testing, node was actually faster at a lot of this string manipulation than the JVM, presumably they have to optimise it based on usage patterns since JS doesn’t have a mutable StringBuffer-like thing."><y>#</y><d>2017-07-20</d><h>03:09</h><w>cfleming</w>When I was perf testing, node was actually faster at a lot of this string manipulation than the JVM, presumably they have to optimise it based on usage patterns since JS doesn’t have a mutable StringBuffer-like thing.</z><z id="t1500520200" t="cfleming That made the performance much better, and wasn’t a significant change to the algorithm."><y>#</y><d>2017-07-20</d><h>03:10</h><w>cfleming</w>That made the performance much better, and wasn’t a significant change to the algorithm.</z><z id="t1500520236" t="cfleming However those changes seem to have been complicated by the new input/output coord stuff."><y>#</y><d>2017-07-20</d><h>03:10</h><w>cfleming</w>However those changes seem to have been complicated by the new input/output coord stuff.</z><z id="t1500520266" t="cfleming It may also just be a simple bug in my port, but it’s hard to tell - there’s quite a lot of code now, and it’s subtle stuff in places."><y>#</y><d>2017-07-20</d><h>03:11</h><w>cfleming</w>It may also just be a simple bug in my port, but it’s hard to tell - there’s quite a lot of code now, and it’s subtle stuff in places.</z><z id="t1500520579" t="shaunlebron ah, I’m sorry I was thinking of changes when you said edits for some reason"><y>#</y><d>2017-07-20</d><h>03:16</h><w>shaunlebron</w>ah, I’m sorry I was thinking of <code>changes</code> when you said edits for some reason</z><z id="t1500520606" t="cfleming No, I mean the x values passed to replaceWithinLine"><y>#</y><d>2017-07-20</d><h>03:16</h><w>cfleming</w>No, I mean the x values passed to <code>replaceWithinLine</code></z><z id="t1500520637" t="cfleming But it actually seems like the paren trail x values should be in input coords anyway, since they’re compared to the cursorX values."><y>#</y><d>2017-07-20</d><h>03:17</h><w>cfleming</w>But it actually seems like the paren trail x values should be in input coords anyway, since they’re compared to the <code>cursorX</code> values.</z><z id="t1500520679" t="shaunlebron yeah, edits are incremental, so they have to be in output coords given what i’m currently doing"><y>#</y><d>2017-07-20</d><h>03:17</h><w>shaunlebron</w>yeah, edits are incremental, so they have to be in output coords given what i’m currently doing</z><z id="t1500520689" t="shaunlebron cursorX is updated when edits are made behind it"><y>#</y><d>2017-07-20</d><h>03:18</h><w>shaunlebron</w>cursorX is updated when edits are made behind it</z><z id="t1500520729" t="cfleming So if I wanted all my edits to be in input coords, do you think I could get rid of the x/inputX distinction altogether?"><y>#</y><d>2017-07-20</d><h>03:18</h><w>cfleming</w>So if I wanted all my edits to be in input coords, do you think I could get rid of the x/inputX distinction altogether?</z><z id="t1500520747" t="cfleming Is that likely to complicate my life?"><y>#</y><d>2017-07-20</d><h>03:19</h><w>cfleming</w>Is that likely to complicate my life?</z><z id="t1500520781" t="cfleming I accumulate a list of edits, and when I’m applying them maintain a running delta, so I take care of the incremental nature at that time."><y>#</y><d>2017-07-20</d><h>03:19</h><w>cfleming</w>I accumulate a list of edits, and when I’m applying them maintain a running delta, so I take care of the incremental nature at that time.</z><z id="t1500520843" t="shaunlebron I think that running delta will probably be fine"><y>#</y><d>2017-07-20</d><h>03:20</h><w>shaunlebron</w>I think that running delta will probably be fine</z><z id="t1500520881" t="cfleming Ok. I’ll try those changes in my port and see if that helps."><y>#</y><d>2017-07-20</d><h>03:21</h><w>cfleming</w>Ok. I’ll try those changes in my port and see if that helps.</z><z id="t1500520932" t="shaunlebron I guess you keep track the line number and column as a derivative value of your “global” index?"><y>#</y><d>2017-07-20</d><h>03:22</h><w>shaunlebron</w>I guess you keep track the line number and column as a derivative value of your “global” index?</z><z id="t1500520950" t="cfleming I’ll see afterwards if I could apply the same changes to the JS version, and send a pull request if so. It’s a fairly minor change to not require splitting into lines, and that will help the GC on JS anyway even if it’s better at optimising it."><y>#</y><d>2017-07-20</d><h>03:22</h><w>cfleming</w>I’ll see afterwards if I could apply the same changes to the JS version, and send a pull request if so. It’s a fairly minor change to not require splitting into lines, and that will help the GC on JS anyway even if it’s better at optimising it.</z><z id="t1500520995" t="shaunlebron cool! I think line splitting and array joining is super fast on JS, but probably not elsewhere?"><y>#</y><d>2017-07-20</d><h>03:23</h><w>shaunlebron</w>cool!  I think line splitting and array joining is super fast on JS, but probably not elsewhere?</z><z id="t1500521014" t="cfleming Right, I maintain an offset which is a char offset into the original doc. Then I count lines as I see newlines, and reset the x at that point."><y>#</y><d>2017-07-20</d><h>03:23</h><w>cfleming</w>Right, I maintain an <code>offset</code> which is a char offset into the original doc. Then I count lines as I see newlines, and reset the x at that point.</z><z id="t1500521046" t="shaunlebron I just have no concept of how fast insertion and removal of characters inside a giant string can be"><y>#</y><d>2017-07-20</d><h>03:24</h><w>shaunlebron</w>I just have no concept of how fast insertion and removal of characters inside a giant string can be</z><z id="t1500521056" t="cfleming Right, but on a big file you’re still (at least) doubling the memory requirements - in a long-running editor that can add up."><y>#</y><d>2017-07-20</d><h>03:24</h><w>cfleming</w>Right, but on a big file you’re still (at least) doubling the memory requirements - in a long-running editor that can add up.</z><z id="t1500521094" t="cfleming It would be interesting to see if creating an array of edits was faster in JS too."><y>#</y><d>2017-07-20</d><h>03:24</h><w>cfleming</w>It would be interesting to see if creating an array of edits was faster in JS too.</z><z id="t1500521106" t="shaunlebron this is a bit of a blind spot for me—isn’t a single character insertion inside a giant string reallocating the whole thing anyway?"><y>#</y><d>2017-07-20</d><h>03:25</h><w>shaunlebron</w>this is a bit of a blind spot for me—isn’t a single character insertion inside a giant string reallocating the whole thing anyway?</z><z id="t1500521125" t="cfleming I suspect that in any editor that maintains non-trivial indices, applying small edits is likely much faster."><y>#</y><d>2017-07-20</d><h>03:25</h><w>cfleming</w>I suspect that in any editor that maintains non-trivial indices, applying small edits is likely much faster.</z><z id="t1500521145" t="shaunlebron oh, I see, you’re not reallocating, you’re modifying the editor buffer in-place with a list of edits"><y>#</y><d>2017-07-20</d><h>03:25</h><w>shaunlebron</w>oh, I see, you’re not reallocating, you’re modifying the editor buffer in-place with a list of edits</z><z id="t1500521146" t="cfleming Well, editors don’t generally use a giant string for their documents."><y>#</y><d>2017-07-20</d><h>03:25</h><w>cfleming</w>Well, editors don’t generally use a giant string for their documents.</z><z id="t1500521150" t="cfleming Right."><y>#</y><d>2017-07-20</d><h>03:25</h><w>cfleming</w>Right.</z><z id="t1500521175" t="shaunlebron I like this idea"><y>#</y><d>2017-07-20</d><h>03:26</h><w>shaunlebron</w>I like this idea</z><z id="t1500521209" t="cfleming It would be interesting to know if e.g. Atom works natively with a single offset into a document rather than cols/lines - I’m willing to bet that it requires some calculation to work out line/col coords."><y>#</y><d>2017-07-20</d><h>03:26</h><w>cfleming</w>It would be interesting to know if e.g. Atom works natively with a single offset into a document rather than cols/lines - I’m willing to bet that it requires some calculation to work out line/col coords.</z><z id="t1500521234" t="cfleming Although they probably do some trickery to make it efficient."><y>#</y><d>2017-07-20</d><h>03:27</h><w>cfleming</w>Although they probably do some trickery to make it efficient.</z><z id="t1500521310" t="cfleming What might be possible would be an API which returns a list of changes, and then one like the current one that calls the other, and then applies the edits to the original string and returns that. Building that new string is probably still much more efficient than line splitting, since you’re only splitting/joining strings where things have actually changed."><y>#</y><d>2017-07-20</d><h>03:28</h><w>cfleming</w>What might be possible would be an API which returns a list of changes, and then one like the current one that calls the other, and then applies the edits to the original string and returns that. Building that new string is probably still much more efficient than line splitting, since you’re only splitting/joining strings where things have actually changed.</z><z id="t1500521358" t="cfleming Ok, I have to go now - I might actually look at getting the JS version working like this first, which would make my port easier, and you can take a look at it."><y>#</y><d>2017-07-20</d><h>03:29</h><w>cfleming</w>Ok, I have to go now - I might actually look at getting the JS version working like this first, which would make my port easier, and you can take a look at it.</z><z id="t1500521377" t="shaunlebron that would be great, thanks colin!"><y>#</y><d>2017-07-20</d><h>03:29</h><w>shaunlebron</w>that would be great, thanks colin!</z><z id="t1500521388" t="cfleming Then I can start from something working, and ensure the tests keep working."><y>#</y><d>2017-07-20</d><h>03:29</h><w>cfleming</w>Then I can start from something working, and ensure the tests keep working.</z><z id="t1500521402" t="shaunlebron good idea"><y>#</y><d>2017-07-20</d><h>03:30</h><w>shaunlebron</w>good idea</z><z id="t1500521406" t="cfleming Cool, seeya"><y>#</y><d>2017-07-20</d><h>03:30</h><w>cfleming</w>Cool, seeya</z><z id="t1500521409" t="shaunlebron bye"><y>#</y><d>2017-07-20</d><h>03:30</h><w>shaunlebron</w>bye</z><z id="t1500596176" t="shaunlebron https://twitter.com/shaunlebron/status/888190606517960704"><y>#</y><d>2017-07-21</d><h>00:16</h><w>shaunlebron</w><a href="https://twitter.com/shaunlebron/status/888190606517960704" target="_blank">https://twitter.com/shaunlebron/status/888190606517960704</a></z><z id="t1500669679" t="shaunlebron published 3.5.0 that offers a solution for to correct indentation after you’re done dedenting in Smart Mode"><y>#</y><d>2017-07-21</d><h>20:41</h><w>shaunlebron</w>published 3.5.0 that offers a solution for to correct indentation after you’re done dedenting in Smart Mode</z><z id="t1500675011" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] That looks very nice!"><y>#</y><d>2017-07-21</d><h>22:10</h><w>cfleming</w><a>@shaunlebron</a> That looks very nice!</z><z id="t1500734210" t="shaunlebron published 3.6.0 to make this work for a similar case"><y>#</y><d>2017-07-22</d><h>14:36</h><w>shaunlebron</w>published 3.6.0 to make this work for a similar case</z><z id="t1500734395" t="shaunlebron this makes smart mode different than indent mode for this case: https://shaunlebron.github.io/parinfer/#knowing-when-parens-move-in-indent-mode"><y>#</y><d>2017-07-22</d><h>14:39</h><w>shaunlebron</w>this makes smart mode different than indent mode for this case: <a href="https://shaunlebron.github.io/parinfer/#knowing-when-parens-move-in-indent-mode" target="_blank">https://shaunlebron.github.io/parinfer/#knowing-when-parens-move-in-indent-mode</a></z><z id="t1500734541" t="shaunlebron I think this is a compromise toward what [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] wanted here in earlier discussions of this combined mode: https://github.com/shaunlebron/parinfer/issues/86#issuecomment-184474423"><y>#</y><d>2017-07-22</d><h>14:42</h><w>shaunlebron</w>I think this is a compromise toward what <a>@cfleming</a> wanted here in earlier discussions of this combined mode: <a href="https://github.com/shaunlebron/parinfer/issues/86#issuecomment-184474423" target="_blank">https://github.com/shaunlebron/parinfer/issues/86#issuecomment-184474423</a></z><z id="t1500871161" t="shaunlebron the engelbergs reported some problems with the demo editor, so I’m starting over on the CodeMirror+Parinfer integration, to free it from all the hacks I put in when I was rushing the website"><y>#</y><d>2017-07-24</d><h>04:39</h><w>shaunlebron</w>the engelbergs reported some problems with the demo editor, so I’m starting over on the CodeMirror+Parinfer integration, to free it from all the hacks I put in when I was rushing the website</z><z id="t1500871226" t="shaunlebron not done yet, but the demo editor will use it as soon as I finish it: https://github.com/shaunlebron/parinfer-codemirror"><y>#</y><d>2017-07-24</d><h>04:40</h><w>shaunlebron</w>not done yet, but the demo editor will use it as soon as I finish it: <a href="https://github.com/shaunlebron/parinfer-codemirror" target="_blank">https://github.com/shaunlebron/parinfer-codemirror</a></z><z id="t1500881866" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] Do you think their problems were a result of the integration rather than the basic algorithm?"><y>#</y><d>2017-07-24</d><h>07:37</h><w>cfleming</w><a>@shaunlebron</a> Do you think their problems were a result of the integration rather than the basic algorithm?</z><z id="t1500893580" t="cfleming Actually, NM, just saw your tweet - looks like yes, which is good!"><y>#</y><d>2017-07-24</d><h>10:53</h><w>cfleming</w>Actually, NM, just saw your tweet - looks like yes, which is good!</z><z id="t1500893611" t="cfleming I have to work on my next release, but I’ll be back on this soon. I’m keen to test this out when it makes it into Atom, too."><y>#</y><d>2017-07-24</d><h>10:53</h><w>cfleming</w>I have to work on my next release, but I’ll be back on this soon. I’m keen to test this out when it makes it into Atom, too.</z><z id="t1500904270" t="chrisoakman I made some progress on the atom plugin last night."><y>#</y><d>2017-07-24</d><h>13:51</h><w>chrisoakman</w>I made some progress on the atom plugin last night.</z><z id="t1500906773" t="tianshu is it a expected behavior?"><y>#</y><d>2017-07-24</d><h>14:32</h><w>tianshu</w>is it a expected behavior?</z><z id="t1500906867" t="shaunlebron are you expecting prod to be moved into the map with :keys ?"><y>#</y><d>2017-07-24</d><h>14:34</h><w>shaunlebron</w>are you expecting <code>prod</code> to be moved into the map with <code>:keys</code>?</z><z id="t1500906919" t="shaunlebron the gif represents my expected behavior"><y>#</y><d>2017-07-24</d><h>14:35</h><w>shaunlebron</w>the gif represents my expected behavior</z><z id="t1500907147" t="tianshu will it re-indent when the file open?"><y>#</y><d>2017-07-24</d><h>14:39</h><w>tianshu</w>will it re-indent when the file open?</z><z id="t1500907175" t="tianshu I don&apos;t think prod should move into map."><y>#</y><d>2017-07-24</d><h>14:39</h><w>tianshu</w>I don&apos;t think prod should move into map.</z><z id="t1500907217" t="shaunlebron paren mode will not fix indentation of prod"><y>#</y><d>2017-07-24</d><h>14:40</h><w>shaunlebron</w>paren mode will not fix indentation of <code>prod</code></z><z id="t1500907221" t="shaunlebron should it?"><y>#</y><d>2017-07-24</d><h>14:40</h><w>shaunlebron</w>should it?</z><z id="t1500907354" t="tianshu sorry, I missed there&apos;s a (+ a b) follow the map"><y>#</y><d>2017-07-24</d><h>14:42</h><w>tianshu</w>sorry, I missed there&apos;s a (+ a b) follow the map</z><z id="t1500907374" t="tianshu this is the correct behavior, absolutely:+1:"><y>#</y><d>2017-07-24</d><h>14:42</h><w>tianshu</w>this is the correct behavior, absolutely:+1:</z><z id="t1500907402" t="tianshu I like this parinfer v3"><y>#</y><d>2017-07-24</d><h>14:43</h><w>tianshu</w>I like this parinfer v3</z><z id="t1500907496" t="shaunlebron np, you can tell more easily next time by seeing that } was not dimmed, thus will not move around"><y>#</y><d>2017-07-24</d><h>14:44</h><w>shaunlebron</w>np, you can tell more easily next time by seeing that <code>}</code> was not dimmed, thus will not move around</z><z id="t1500907516" t="shaunlebron not sure if that helps in that case actually"><y>#</y><d>2017-07-24</d><h>14:45</h><w>shaunlebron</w>not sure if that helps in that case actually</z><z id="t1500907539" t="shaunlebron thanks!"><y>#</y><d>2017-07-24</d><h>14:45</h><w>shaunlebron</w>thanks!</z><z id="t1500908253" t="tianshu what&apos;s the editor used for demonstration parinfer? code-mirror?"><y>#</y><d>2017-07-24</d><h>14:57</h><w>tianshu</w>what&apos;s the editor used for demonstration parinfer? code-mirror?</z><z id="t1500908273" t="shaunlebron yeah, codemirror"><y>#</y><d>2017-07-24</d><h>14:57</h><w>shaunlebron</w>yeah, codemirror</z><z id="t1500908317" t="shaunlebron trying to fix some of the weirdness, and add tabStop support to it"><y>#</y><d>2017-07-24</d><h>14:58</h><w>shaunlebron</w>trying to fix some of the weirdness, and add tabStop support to it</z><z id="t1500916505" t="shaunlebron https://twitter.com/shaunlebron/status/889534280887672834"><y>#</y><d>2017-07-24</d><h>17:15</h><w>shaunlebron</w><a href="https://twitter.com/shaunlebron/status/889534280887672834" target="_blank">https://twitter.com/shaunlebron/status/889534280887672834</a></z><z id="t1500962175" t="shaunlebron Dogfooding the new public Parinfer layer for CodeMirror on the website now. Demo editor works better now"><y>#</y><d>2017-07-25</d><h>05:56</h><w>shaunlebron</w>Dogfooding the new public Parinfer layer for CodeMirror on the website now.  Demo editor works better now</z><z id="t1500962184" t="shaunlebron lemme know if you see problems!"><y>#</y><d>2017-07-25</d><h>05:56</h><w>shaunlebron</w>lemme know if you see problems!</z><z id="t1500962208" t="shaunlebron new plugin here: https://github.com/shaunlebron/parinfer-codemirror"><y>#</y><d>2017-07-25</d><h>05:56</h><w>shaunlebron</w>new plugin here: <a href="https://github.com/shaunlebron/parinfer-codemirror" target="_blank">https://github.com/shaunlebron/parinfer-codemirror</a></z><z id="t1500962226" t="shaunlebron demo editor: https://shaunlebron.github.io/parinfer/demo"><y>#</y><d>2017-07-25</d><h>05:57</h><w>shaunlebron</w>demo editor: <a href="https://shaunlebron.github.io/parinfer/demo" target="_blank">https://shaunlebron.github.io/parinfer/demo</a></z><z id="t1500967143" t="dominicm [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] weird bug, probably specific to mobile keyboards, adding to the let causes my word added to double when the paren moves"><y>#</y><d>2017-07-25</d><h>07:19</h><w>dominicm</w><a>@shaunlebron</a> weird bug, probably specific to mobile keyboards, adding to the let causes my word added to double when the paren moves</z><z id="t1500972422" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] Nice, thanks for all the work on this recently!"><y>#</y><d>2017-07-25</d><h>08:47</h><w>cfleming</w><a>@shaunlebron</a> Nice, thanks for all the work on this recently!</z><z id="t1501007915" t="shaunlebron [:attrs {:href &quot;/_/_/users/U09LZR36F&quot;}] thanks, what device/browser?"><y>#</y><d>2017-07-25</d><h>18:38</h><w>shaunlebron</w><a>@dominicm</a> thanks, what device/browser?</z><z id="t1501007933" t="dominicm [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] android / firefox. It could be my keyboard: Swype."><y>#</y><d>2017-07-25</d><h>18:38</h><w>dominicm</w><a>@shaunlebron</a> android / firefox. It could be my keyboard: Swype.</z><z id="t1501007960" t="shaunlebron i’ll check this later on my android then"><y>#</y><d>2017-07-25</d><h>18:39</h><w>shaunlebron</w>i’ll check this later on my android then</z><z id="t1501007970" t="shaunlebron never thought to try this stuff on mobile"><y>#</y><d>2017-07-25</d><h>18:39</h><w>shaunlebron</w>never thought to try this stuff on mobile</z><z id="t1501008136" t="rgdelato from what I can tell, it seems to work fine on my iPhone 6s"><y>#</y><d>2017-07-25</d><h>18:42</h><w>rgdelato</w>from what I can tell, it seems to work fine on my iPhone 6s</z><z id="t1501015098" t="dominicm Very possibly specific to my keyboard trying to compensate for something"><y>#</y><d>2017-07-25</d><h>20:38</h><w>dominicm</w>Very possibly specific to my keyboard trying to compensate for something</z><z id="t1501018873" t="shaunlebron i can’t get it to work on slack’s webview on android"><y>#</y><d>2017-07-25</d><h>21:41</h><w>shaunlebron</w>i can’t get it to work on slack’s webview on android</z><z id="t1501018879" t="shaunlebron cursor positioning is strange on android chrome"><y>#</y><d>2017-07-25</d><h>21:41</h><w>shaunlebron</w>cursor positioning is strange on android chrome</z><z id="t1501018977" t="shaunlebron codemirror seems to support desktop, but mobile support seems partial: https://codemirror.net/#browsersupport"><y>#</y><d>2017-07-25</d><h>21:42</h><w>shaunlebron</w>codemirror seems to support desktop, but mobile support seems partial: <a href="https://codemirror.net/#browsersupport" target="_blank">https://codemirror.net/#browsersupport</a></z><z id="t1501098525" t="shaunlebron finally made tabStops usable in 3.9.0, which is integrated in parinfer-codemirror and live on demo: https://shaunlebron.github.io/parinfer/demo"><y>#</y><d>2017-07-26</d><h>19:48</h><w>shaunlebron</w>finally made <code>tabStops</code> usable in 3.9.0, which is integrated in parinfer-codemirror and live on demo: <a href="https://shaunlebron.github.io/parinfer/demo" target="_blank">https://shaunlebron.github.io/parinfer/demo</a></z><z id="t1501098557" t="shaunlebron notes on integrating them here, with reference examples from what I did in parinfer-codemirror: https://github.com/shaunlebron/parinfer/blob/master/lib/doc/integrating.md#tab-stops"><y>#</y><d>2017-07-26</d><h>19:49</h><w>shaunlebron</w>notes on integrating them here, with reference examples from what I did in parinfer-codemirror: <a href="https://github.com/shaunlebron/parinfer/blob/master/lib/doc/integrating.md#tab-stops" target="_blank">https://github.com/shaunlebron/parinfer/blob/master/lib/doc/integrating.md#tab-stops</a></z><z id="t1501180559" t="shaunlebron 👋 can you guys help spread this survey? working on new website, and would like to get numbers on how these first two years have gone https://goo.gl/forms/txEmn0LUTzoQp2yu2"><y>#</y><d>2017-07-27</d><h>18:35</h><w>shaunlebron</w><b>👋</b> can you guys help spread this survey?  working on new website, and would like to get numbers on how these first two years have gone <a href="https://goo.gl/forms/txEmn0LUTzoQp2yu2" target="_blank">https://goo.gl/forms/txEmn0LUTzoQp2yu2</a></z><z id="t1501183865" t="shaunlebron https://twitter.com/shaunlebron/status/890655681581162497"><y>#</y><d>2017-07-27</d><h>19:31</h><w>shaunlebron</w><a href="https://twitter.com/shaunlebron/status/890655681581162497" target="_blank">https://twitter.com/shaunlebron/status/890655681581162497</a></z><z id="t1501215404" t="cjhowe is there any reason to use parinfer over paredit if i&apos;m already used to paredit?"><y>#</y><d>2017-07-28</d><h>04:16</h><w>cjhowe</w>is there any reason to use parinfer over paredit if i&apos;m already used to paredit?</z><z id="t1501217067" t="mattly [:attrs {:href &quot;/_/_/users/U0QKTTY4D&quot;}] I think they complement each other nicely"><y>#</y><d>2017-07-28</d><h>04:44</h><w>mattly</w><a>@cjhowe</a> I think they complement each other nicely</z><z id="t1501218372" t="cjhowe you can use both?"><y>#</y><d>2017-07-28</d><h>05:06</h><w>cjhowe</w>you can use both?</z><z id="t1501218387" t="cjhowe maybe i&apos;ll try it then"><y>#</y><d>2017-07-28</d><h>05:06</h><w>cjhowe</w>maybe i&apos;ll try it then</z><z id="t1501235008" t="tianshu It&apos;s there any plan to make parinfer-codemirror an ide or feature-rich editor for clojure?"><y>#</y><d>2017-07-28</d><h>09:43</h><w>tianshu</w>It&apos;s there any plan to make parinfer-codemirror an ide or feature-rich editor for clojure?</z><z id="t1501255841" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0QKTTY4D&quot;}] in theory, as long as paredit operations result in properly indented code (according to our inference thresholds), it should work fine."><y>#</y><d>2017-07-28</d><h>15:30</h><w>shaunlebron</w><a>@cjhowe</a> in theory, as long as paredit operations result in properly indented code (according to our inference thresholds), it should work fine.</z><z id="t1501255880" t="cjhowe parinfer doesn&apos;t have things like slurp and stuff right? that seems like the main benefit to me"><y>#</y><d>2017-07-28</d><h>15:31</h><w>cjhowe</w>parinfer doesn&apos;t have things like slurp and stuff right? that seems like the main benefit to me</z><z id="t1501255888" t="shaunlebron I’ve seen some people graduate from parinfer to paredit, and that’s more of what I expect"><y>#</y><d>2017-07-28</d><h>15:31</h><w>shaunlebron</w>I’ve seen some people graduate from parinfer to paredit, and that’s more of what I expect</z><z id="t1501255896" t="shaunlebron parinfer is to get people in the door"><y>#</y><d>2017-07-28</d><h>15:31</h><w>shaunlebron</w>parinfer is to get people in the door</z><z id="t1501255935" t="shaunlebron in some cases, parinfer behaves like that, but it’s not as granular as paredit slurp/barf"><y>#</y><d>2017-07-28</d><h>15:32</h><w>shaunlebron</w>in some cases, parinfer behaves like that, but it’s not as granular as paredit slurp/barf</z><z id="t1501256187" t="cjhowe so is paredit&apos;s and parinfer&apos;s indentation compatible? are there any reports of teams using both?"><y>#</y><d>2017-07-28</d><h>15:36</h><w>cjhowe</w>so is paredit&apos;s and parinfer&apos;s indentation compatible? are there any reports of teams using both?</z><z id="t1501256261" t="shaunlebron i only used on paredit on vim, and I can’t remember how it behaved in terms of indentation"><y>#</y><d>2017-07-28</d><h>15:37</h><w>shaunlebron</w>i only used on paredit on vim, and I can’t remember how it behaved in terms of indentation</z><z id="t1501256277" t="shaunlebron does emacs-paredit auto-indent code after operations?"><y>#</y><d>2017-07-28</d><h>15:37</h><w>shaunlebron</w>does emacs-paredit auto-indent code after operations?</z><z id="t1501256335" t="shaunlebron there are only two rules that we follow: https://github.com/shaunlebron/parlinter#two-rules"><y>#</y><d>2017-07-28</d><h>15:38</h><w>shaunlebron</w>there are only two rules that we follow: <a href="https://github.com/shaunlebron/parlinter#two-rules" target="_blank">https://github.com/shaunlebron/parlinter#two-rules</a></z><z id="t1501256399" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0QKTTY4D&quot;}] I’d love to have help looking into paredit/parinfer compatibility. I’m guessing it will be editor-specific since implementations might differ"><y>#</y><d>2017-07-28</d><h>15:39</h><w>shaunlebron</w><a>@cjhowe</a> I’d love to have help looking into paredit/parinfer compatibility.  I’m guessing it will be editor-specific since implementations might differ</z><z id="t1501256416" t="cjhowe yes it auto-indents"><y>#</y><d>2017-07-28</d><h>15:40</h><w>cjhowe</w>yes it auto-indents</z><z id="t1501256447" t="cjhowe in my experience it&apos;s compatible with those two rules"><y>#</y><d>2017-07-28</d><h>15:40</h><w>cjhowe</w>in my experience it&apos;s compatible with those two rules</z><z id="t1501256451" t="shaunlebron it might be easiest just to try it, I’ve heard of folks using them together though"><y>#</y><d>2017-07-28</d><h>15:40</h><w>shaunlebron</w>it might be easiest just to try it, I’ve heard of folks using them together though</z><z id="t1501256465" t="cjhowe i&apos;ll try it, then!"><y>#</y><d>2017-07-28</d><h>15:41</h><w>cjhowe</w>i&apos;ll try it, then!</z><z id="t1501256495" t="cjhowe i would consider myself a paredit beginner honestly, but there are some functions i use regularly that i don&apos;t want to lose"><y>#</y><d>2017-07-28</d><h>15:41</h><w>cjhowe</w>i would consider myself a paredit beginner honestly, but there are some functions i use regularly that i don&apos;t want to lose</z><z id="t1501256499" t="cjhowe so i think it&apos;s a good fit"><y>#</y><d>2017-07-28</d><h>15:41</h><w>cjhowe</w>so i think it&apos;s a good fit</z><z id="t1501256519" t="shaunlebron cool, thanks for asking, looking forward to hearing how it works 🙂"><y>#</y><d>2017-07-28</d><h>15:41</h><w>shaunlebron</w>cool, thanks for asking, looking forward to hearing how it works <b>🙂</b></z><z id="t1501256590" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0NBGRGD6&quot;}] codemirror is used by LightTable. I don’t know of other clojure editors that use it"><y>#</y><d>2017-07-28</d><h>15:43</h><w>shaunlebron</w><a>@doglooksgood</a> codemirror is used by LightTable.  I don’t know of other clojure editors that use it</z><z id="t1501256634" t="shaunlebron I don’t have plans to turn it into one. I am aware of some sites that use it for small editors and REPLs"><y>#</y><d>2017-07-28</d><h>15:43</h><w>shaunlebron</w>I don’t have plans to turn it into one.  I am aware of some sites that use it for small editors and REPLs</z><z id="t1501256737" t="shaunlebron I mainly created it for the parinfer home page and demo editor, so it could be a proper environment for showing canonical behavior"><y>#</y><d>2017-07-28</d><h>15:45</h><w>shaunlebron</w>I mainly created it for the parinfer home page and demo editor, so it could be a proper environment for showing canonical behavior</z><z id="t1501256931" t="cjhowe oh, there&apos;s an online parinfer repl?"><y>#</y><d>2017-07-28</d><h>15:48</h><w>cjhowe</w>oh, there&apos;s an online parinfer repl?</z><z id="t1501256985" t="shaunlebron https://jaredforsyth.com/reepl/"><y>#</y><d>2017-07-28</d><h>15:49</h><w>shaunlebron</w><a href="https://jaredforsyth.com/reepl/" target="_blank">https://jaredforsyth.com/reepl/</a></z><z id="t1501257004" t="tianshu I&apos;m always searching for a good Clojure development environment, but never satisfied with any of them."><y>#</y><d>2017-07-28</d><h>15:50</h><w>tianshu</w>I&apos;m always searching for a good Clojure development environment, but never satisfied with any of them.</z><z id="t1501257050" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0QKTTY4D&quot;}] and in case you don’t know, this is the demo editor for playing with: https://shaunlebron.github.io/parinfer/demo"><y>#</y><d>2017-07-28</d><h>15:50</h><w>shaunlebron</w><a>@cjhowe</a> and in case you don’t know, this is the demo editor for playing with: <a href="https://shaunlebron.github.io/parinfer/demo" target="_blank">https://shaunlebron.github.io/parinfer/demo</a></z><z id="t1501257084" t="cjhowe thanks!"><y>#</y><d>2017-07-28</d><h>15:51</h><w>cjhowe</w>thanks!</z><z id="t1501257136" t="cjhowe the online demo is actually really useful because there&apos;s a lot of online clojure challenges that don&apos;t have a good text editor (like codefights)"><y>#</y><d>2017-07-28</d><h>15:52</h><w>cjhowe</w>the online demo is actually really useful because there&apos;s a lot of online clojure challenges that don&apos;t have a good text editor (like codefights)</z><z id="t1501257179" t="shaunlebron i was in an interview the other day where I could choose my language of choice"><y>#</y><d>2017-07-28</d><h>15:52</h><w>shaunlebron</w>i was in an interview the other day where I could choose my language of choice</z><z id="t1501257191" t="shaunlebron the clojure editor was so bad, I had to switch to js"><y>#</y><d>2017-07-28</d><h>15:53</h><w>shaunlebron</w>the clojure editor was so bad, I had to switch to js</z><z id="t1501257242" t="shaunlebron so yeah, parinfer-codemirror could help there"><y>#</y><d>2017-07-28</d><h>15:54</h><w>shaunlebron</w>so yeah, parinfer-codemirror could help there</z><z id="t1501257398" t="tianshu we can see a lot of shining ideas in all kinds of Clojure development tools, but there&apos;s no one make people feel perfect."><y>#</y><d>2017-07-28</d><h>15:56</h><w>tianshu</w>we can see a lot of shining ideas in all kinds of Clojure development tools, but there&apos;s no one make people feel perfect.</z><z id="t1501257441" t="tianshu I recently use Emacs, but it has almost no support for Java and JavaScript."><y>#</y><d>2017-07-28</d><h>15:57</h><w>tianshu</w>I recently use Emacs, but it has almost no support for Java and JavaScript.</z><z id="t1501258063" t="cjhowe well, there&apos;s http://jdee.sourceforge.net/ if you&apos;re into that"><y>#</y><d>2017-07-28</d><h>16:07</h><w>cjhowe</w>well, there&apos;s <a href="http://jdee.sourceforge.net/" target="_blank">http://jdee.sourceforge.net/</a> if you&apos;re into that</z><z id="t1501258555" t="shaunlebron do you have an example of a perfect environment in another language?"><y>#</y><d>2017-07-28</d><h>16:15</h><w>shaunlebron</w>do you have an example of a perfect environment in another language?</z><z id="t1501258731" t="cjhowe tbh cider is by far the closest i&apos;ve found to perfect for any functional language"><y>#</y><d>2017-07-28</d><h>16:18</h><w>cjhowe</w>tbh cider is by far the closest i&apos;ve found to perfect for any functional language</z><z id="t1501262268" t="dominicm [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] were you using their provided editor or something?"><y>#</y><d>2017-07-28</d><h>17:17</h><w>dominicm</w><a>@shaunlebron</a> were you using their provided editor or something?</z><z id="t1501262288" t="shaunlebron what do you mean?"><y>#</y><d>2017-07-28</d><h>17:18</h><w>shaunlebron</w>what do you mean?</z><z id="t1501262360" t="rgdelato Atom + Parinfer + Proto REPL has been pretty good for me, but I&apos;m also in Clojure beginner-land"><y>#</y><d>2017-07-28</d><h>17:19</h><w>rgdelato</w>Atom + Parinfer + Proto REPL has been pretty good for me, but I&apos;m also in Clojure beginner-land</z><z id="t1501262426" t="rgdelato and Proto REPL still needs quite a bit more work on the CLJS side of things"><y>#</y><d>2017-07-28</d><h>17:20</h><w>rgdelato</w>and Proto REPL still needs quite a bit more work on the CLJS side of things</z><z id="t1501262528" t="rgdelato (P.S. I wrote a set-up guide: https://clojurescript.org/tools/atom ...but things that work in CLJ like saved values, autocompletion, and jump-to-definition still don&apos;t work in CLJS)"><y>#</y><d>2017-07-28</d><h>17:22</h><w>rgdelato</w>(P.S. I wrote a set-up guide: <a href="https://clojurescript.org/tools/atom" target="_blank">https://clojurescript.org/tools/atom</a> ...but things that work in CLJ like saved values, autocompletion, and jump-to-definition still don&apos;t work in CLJS)</z><z id="t1501262542" t="shaunlebron [:attrs {:href &quot;/_/_/users/U09LZR36F&quot;}] oh, it was an online collaborative editor, I can’t remember which"><y>#</y><d>2017-07-28</d><h>17:22</h><w>shaunlebron</w><a>@dominicm</a> oh, it was an online collaborative editor, I can’t remember which</z><z id="t1501262591" t="shaunlebron https://codebunk.com"><y>#</y><d>2017-07-28</d><h>17:23</h><w>shaunlebron</w><a href="https://codebunk.com" target="_blank">https://codebunk.com</a></z><z id="t1501262647" t="shaunlebron [:attrs {:href &quot;/_/_/users/U47KWM4UV&quot;}] I’m excited about shadow-cljs for that reason—better tool integration"><y>#</y><d>2017-07-28</d><h>17:24</h><w>shaunlebron</w><a>@rgdelato</a> I’m excited about shadow-cljs for that reason—better tool integration</z><z id="t1501262671" t="shaunlebron it exposes the analyzer data for things like that"><y>#</y><d>2017-07-28</d><h>17:24</h><w>shaunlebron</w>it exposes the analyzer data for things like that</z><z id="t1501262715" t="dominicm Floobits is the only good one afaik :)"><y>#</y><d>2017-07-28</d><h>17:25</h><w>dominicm</w>Floobits is the only good one afaik :)</z><z id="t1501262749" t="shaunlebron i talked to thomas heller for several hours about all the things it could do and agreed to help him write documentation to get more people involved with it"><y>#</y><d>2017-07-28</d><h>17:25</h><w>shaunlebron</w>i talked to thomas heller for several hours about all the things it could do and agreed to help him write documentation to get more people involved with it</z><z id="t1501262754" t="dominicm Oh interesting, I wonder if we should look at shadow for our translation needs if it exposes that info."><y>#</y><d>2017-07-28</d><h>17:25</h><w>dominicm</w>Oh interesting, I wonder if we should look at shadow for our translation needs if it exposes that info.</z><z id="t1501262771" t="dominicm My current plan was to write to a file every time the macro expanded."><y>#</y><d>2017-07-28</d><h>17:26</h><w>dominicm</w>My current plan was to write to a file every time the macro expanded.</z><z id="t1501262772" t="shaunlebron I’m stretched too thin on cljs stuff though"><y>#</y><d>2017-07-28</d><h>17:26</h><w>shaunlebron</w>I’m stretched too thin on cljs stuff though</z><z id="t1501262899" t="shaunlebron wow, goog hangout video chat while screensharing, i want to try that"><y>#</y><d>2017-07-28</d><h>17:28</h><w>shaunlebron</w>wow, goog hangout video chat while screensharing, i want to try that</z><z id="t1501262908" t="rgdelato I&apos;ve heard of it, but haven&apos;t given it a good look. I&apos;ll take a closer look at shadow-cljs"><y>#</y><d>2017-07-28</d><h>17:28</h><w>rgdelato</w>I&apos;ve heard of it, but haven&apos;t given it a good look. I&apos;ll take a closer look at shadow-cljs</z><z id="t1501262945" t="shaunlebron it might be hairy trying to look into it, but he’s got very ambitious goals and I’m excited for it"><y>#</y><d>2017-07-28</d><h>17:29</h><w>shaunlebron</w>it might be hairy trying to look into it, but he’s got very ambitious goals and I’m excited for it</z><z id="t1501262957" t="dominicm [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] I hadn&apos;t even thought of mentioning it to you as a code streaming thing: yah you can use it for that. "><y>#</y><d>2017-07-28</d><h>17:29</h><w>dominicm</w><a>@shaunlebron</a> I hadn&apos;t even thought of mentioning it to you as a code streaming thing: yah you can use it for that. </z><z id="t1501262973" t="dominicm Better than twitch because I can jump around files. Less viewers though."><y>#</y><d>2017-07-28</d><h>17:29</h><w>dominicm</w>Better than twitch because I can jump around files. Less viewers though.</z><z id="t1501262982" t="dominicm I the viewer."><y>#</y><d>2017-07-28</d><h>17:29</h><w>dominicm</w>I the viewer.</z><z id="t1501263042" t="shaunlebron he has fundamental disagreements over what should be in cljs core vs separate tooling. he still uses cljs.analyzer, cljs.compiler, but replaces cljs.closure to control how it creates files to support better options and deterministic build things"><y>#</y><d>2017-07-28</d><h>17:30</h><w>shaunlebron</w>he has fundamental disagreements over what should be in cljs core vs separate tooling.  he still uses cljs.analyzer, cljs.compiler, but replaces cljs.closure to control how it creates files to support better options and deterministic build things</z><z id="t1501263128" t="shaunlebron his latest server thing allows instant subsequent startup times, and a code analysis UI viewable on browser, and eventually visual stuff like we did in cuttle: https://github.com/oakmac/cuttle"><y>#</y><d>2017-07-28</d><h>17:32</h><w>shaunlebron</w>his latest server thing allows instant subsequent startup times, and a code analysis UI viewable on browser, and eventually visual stuff like we did in cuttle: <a href="https://github.com/oakmac/cuttle" target="_blank">https://github.com/oakmac/cuttle</a></z><z id="t1501263194" t="shaunlebron it’s had support for figwheel-like hotloading for years, and solves a lot of small problems he’s encountered over the years—like warnings only showing up on the most recently saved file"><y>#</y><d>2017-07-28</d><h>17:33</h><w>shaunlebron</w>it’s had support for figwheel-like hotloading for years, and solves a lot of small problems he’s encountered over the years—like warnings only showing up on the most recently saved file</z><z id="t1501263237" t="shaunlebron and he cares about easy integration of cljs into existing js projects"><y>#</y><d>2017-07-28</d><h>17:33</h><w>shaunlebron</w>and he cares about easy integration of cljs into existing js projects</z><z id="t1501263368" t="dominicm I&apos;m mostly waiting on native boot support before switching."><y>#</y><d>2017-07-28</d><h>17:36</h><w>dominicm</w>I&apos;m mostly waiting on native boot support before switching.</z><z id="t1501263419" t="shaunlebron i put that together for him after chatting with him, and then [:attrs {:href &quot;/_/_/users/U47KWM4UV&quot;}] had to distract me with the Smart Mode idea 😉"><y>#</y><d>2017-07-28</d><h>17:36</h><w>shaunlebron</w>i put that together for him after chatting with him, and then <a>@rgdelato</a> had to distract me with the Smart Mode idea <b>😉</b></z><z id="t1501263437" t="rgdelato even if I don&apos;t understand how it really works under the hood, if I can understand -enough- to intergrate it with ProtoREPL, that would be awesome"><y>#</y><d>2017-07-28</d><h>17:37</h><w>rgdelato</w>even if I don&apos;t understand how it really works under the hood, if I can understand -enough- to intergrate it with ProtoREPL, that would be awesome</z><z id="t1501263467" t="shaunlebron he’s been using it for production-level stuff for years"><y>#</y><d>2017-07-28</d><h>17:37</h><w>shaunlebron</w>he’s been using it for production-level stuff for years</z><z id="t1501263510" t="shaunlebron my only worry was that it was too far from native cljs compiler, but it uses the same stuff and only replaces the file creation, so it stays in sync with latest stuff from core"><y>#</y><d>2017-07-28</d><h>17:38</h><w>shaunlebron</w>my only worry was that it was too far from native cljs compiler, but it uses the same stuff and only replaces the file creation, so it stays in sync with latest stuff from core</z><z id="t1501263570" t="shaunlebron i’ll actually put that in a PR on readme, and try to connect folks who want to help"><y>#</y><d>2017-07-28</d><h>17:39</h><w>shaunlebron</w>i’ll actually put that in a PR on readme, and try to connect folks who want to help</z><z id="t1501263766" t="shaunlebron the downside right now is that he is changing it all the time, but he will probably stabilize the interface a bit more if more people start using it"><y>#</y><d>2017-07-28</d><h>17:42</h><w>shaunlebron</w>the downside right now is that he is changing it all the time, but he will probably stabilize the interface a bit more if more people start using it</z><z id="t1501264023" t="rgdelato man, Smart Mode is so nice, I can&apos;t wait for it to actually be out in Atom"><y>#</y><d>2017-07-28</d><h>17:47</h><w>rgdelato</w>man, Smart Mode is so nice, I can&apos;t wait for it to actually be out in Atom</z><z id="t1501264607" t="shaunlebron drafting the communication of new parinfer stuff"><y>#</y><d>2017-07-28</d><h>17:56</h><w>shaunlebron</w>drafting the communication of new parinfer stuff</z><z id="t1501265989" t="dominicm You&apos;ve built a really nice tool there. Must have taken some time."><y>#</y><d>2017-07-28</d><h>18:19</h><w>dominicm</w>You&apos;ve built a really nice tool there. Must have taken some time.</z><z id="t1501266637" t="shaunlebron filed an issue here for protorepl support: https://github.com/thheller/shadow-cljs/issues/76"><y>#</y><d>2017-07-28</d><h>18:30</h><w>shaunlebron</w>filed an issue here for protorepl support: <a href="https://github.com/thheller/shadow-cljs/issues/76" target="_blank">https://github.com/thheller/shadow-cljs/issues/76</a></z><z id="t1501266758" t="shaunlebron [:attrs {:href &quot;/_/_/users/U09LZR36F&quot;}] it was kinda scary ripping out some of that code for a standalone parinfer-codemirror, but I’m glad that it worked out because the recording code got a little crazy and edge-casey"><y>#</y><d>2017-07-28</d><h>18:32</h><w>shaunlebron</w><a>@dominicm</a> it was kinda scary ripping out some of that code for a standalone parinfer-codemirror, but I’m glad that it worked out because the recording code got a little crazy and edge-casey</z><z id="t1501266817" t="shaunlebron codemirror reports on changes pretty well, and I just playback the change and parinfer does its normal processing after it is applied"><y>#</y><d>2017-07-28</d><h>18:33</h><w>shaunlebron</w>codemirror reports on changes pretty well, and I just playback the change and parinfer does its normal processing after it is applied</z><z id="t1501273111" t="shaunlebron could I get feedback on these animations? https://shaunlebron.github.io/parinfer/2017.html"><y>#</y><d>2017-07-28</d><h>20:18</h><w>shaunlebron</w>could I get feedback on these animations? <a href="https://shaunlebron.github.io/parinfer/2017.html" target="_blank">https://shaunlebron.github.io/parinfer/2017.html</a></z><z id="t1501274668" t="mattly [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] looks good! I think they illustrate the concepts clearly"><y>#</y><d>2017-07-28</d><h>20:44</h><w>mattly</w><a>@shaunlebron</a> looks good! I think they illustrate the concepts clearly</z><z id="t1501274696" t="rgdelato &quot;snap&quot; and &quot;compromise&quot; animations look good. &quot;indent&quot; animation feels a little off and I&apos;m not sure why. (maybe because it begins and ends with invalid code?)"><y>#</y><d>2017-07-28</d><h>20:44</h><w>rgdelato</w>&quot;snap&quot; and &quot;compromise&quot; animations look good. &quot;indent&quot; animation feels a little off and I&apos;m not sure why. (maybe because it begins and ends with invalid code?)</z><z id="t1501275162" t="shaunlebron [:attrs {:href &quot;/_/_/users/U47KWM4UV&quot;}] yeah I think I agree"><y>#</y><d>2017-07-28</d><h>20:52</h><w>shaunlebron</w><a>@rgdelato</a> yeah I think I agree</z><z id="t1501275190" t="shaunlebron I’ll try a second pass, will take suggestions too"><y>#</y><d>2017-07-28</d><h>20:53</h><w>shaunlebron</w>I’ll try a second pass, will take suggestions too</z><z id="t1501275198" t="shaunlebron thanks for looking!"><y>#</y><d>2017-07-28</d><h>20:53</h><w>shaunlebron</w>thanks for looking!</z><z id="t1501275251" t="shaunlebron “safeguards” is hard to show"><y>#</y><d>2017-07-28</d><h>20:54</h><w>shaunlebron</w>“safeguards” is hard to show</z><z id="t1501299730" t="tianshu 1. Debugger, InstaREPL, InteractiveREPL, SyntaxChecker, SaveValues, Sayid for both Clojure and ClojureScript 2. Parinfer and Paredit support."><y>#</y><d>2017-07-29</d><h>03:42</h><w>tianshu</w>1. Debugger, InstaREPL, InteractiveREPL, SyntaxChecker, SaveValues, Sayid for both Clojure and ClojureScript
2. Parinfer and Paredit support.</z><z id="t1501314504" t="cfleming [:attrs {:href &quot;/_/_/users/U0QKTTY4D&quot;}] I was not a wizard but pretty competent with paredit, and I mostly use parinfer now. At least in Cursive, you can still use the paredit commands when they make more sense, but I prefer the fact that I can use parinfer using “normal” commands I’d use in any other editor (e.g. delete line). In general, a surprising amount of my editing turns out to be line-based, and parinfer fixes all that up nicely for me."><y>#</y><d>2017-07-29</d><h>07:48</h><w>cfleming</w><a>@cjhowe</a> I was not a wizard but pretty competent with paredit, and I mostly use parinfer now. At least in Cursive, you can still use the paredit commands when they make more sense, but I prefer the fact that I can use parinfer using “normal” commands I’d use in any other editor (e.g. delete line). In general, a surprising amount of my editing turns out to be line-based, and parinfer fixes all that up nicely for me.</z><z id="t1501314601" t="cfleming Wow, go Cursive users with parinfer!"><y>#</y><d>2017-07-29</d><h>07:50</h><w>cfleming</w>Wow, go Cursive users with parinfer!</z><z id="t1501314863" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] Glad to see you’re getting involved with shadow-cljs, I think it’s a really interesting project, and Thomas is super smart."><y>#</y><d>2017-07-29</d><h>07:54</h><w>cfleming</w><a>@shaunlebron</a> Glad to see you’re getting involved with shadow-cljs, I think it’s a really interesting project, and Thomas is super smart.</z><z id="t1501382456" t="shaunlebron [:attrs {:href &quot;/_/_/users/U47KWM4UV&quot;}] i’m pairing with chris in 20 minutes to get v3 in atom, would you like to join?"><y>#</y><d>2017-07-30</d><h>02:40</h><w>shaunlebron</w><a>@rgdelato</a> i’m pairing with chris in 20 minutes to get v3 in atom, would you like to join?</z><z id="t1501382532" t="rgdelato sorry, I&apos;m actually out right now, won&apos;t be home for at least an hour or two"><y>#</y><d>2017-07-30</d><h>02:42</h><w>rgdelato</w>sorry, I&apos;m actually out right now, won&apos;t be home for at least an hour or two</z><z id="t1501382535" t="shaunlebron i wonder if we can pair while streaming somehow"><y>#</y><d>2017-07-30</d><h>02:42</h><w>shaunlebron</w>i wonder if we can pair while streaming somehow</z><z id="t1501382548" t="shaunlebron np, late notice"><y>#</y><d>2017-07-30</d><h>02:42</h><w>shaunlebron</w>np, late notice</z><z id="t1501386619" t="mattly I might have to give Atom another shot"><y>#</y><d>2017-07-30</d><h>03:50</h><w>mattly</w>I might have to give Atom another shot</z><z id="t1501390538" t="cjhowe btw, gave parinfer with paredit a try, i think there are many cases that don&apos;t work well (especially with slurp and barf)"><y>#</y><d>2017-07-30</d><h>04:55</h><w>cjhowe</w>btw, gave parinfer with paredit a try, i think there are many cases that don&apos;t work well (especially with slurp and barf)</z><z id="t1501390704" t="cjhowe especially because parinfer lets you get loosey goosey with the parens, but then that break paredit"><y>#</y><d>2017-07-30</d><h>04:58</h><w>cjhowe</w>especially because parinfer lets you get loosey goosey with the parens, but then that break paredit</z><z id="t1501390793" t="cjhowe i&apos;ll try to document the cases i come across"><y>#</y><d>2017-07-30</d><h>04:59</h><w>cjhowe</w>i&apos;ll try to document the cases i come across</z><z id="t1501390861" t="cjhowe i honestly think it&apos;s paredit&apos;s fault though"><y>#</y><d>2017-07-30</d><h>05:01</h><w>cjhowe</w>i honestly think it&apos;s paredit&apos;s fault though</z><z id="t1501390915" t="henrik Man, it’s like cljs christmas at the moment. New version of cljs the other day and now soon parinfer v3 in Atom."><y>#</y><d>2017-07-30</d><h>05:01</h><w>henrik</w>Man, it’s like cljs christmas at the moment. New version of cljs the other day and now soon parinfer v3 in Atom.</z><z id="t1501390933" t="cjhowe for example, slurping before the &quot;(:red ...)&quot; form in this causes it to slurp the comment... which normally wouldn&apos;t happen with paredit #_[(:red (:bold &quot;testing&quot;)) &quot;more&quot; (:green &quot;text&quot;)] ;; after using slurp before the (:red ...) form, becomes part of the #_[] form (with the trailing ] in the comment) "><y>#</y><d>2017-07-30</d><h>05:02</h><w>cjhowe</w>for example, slurping before the &quot;(:red ...)&quot; form in this causes it to slurp the comment... which normally wouldn&apos;t happen with paredit
<pre>#_[(:red (:bold &quot;testing&quot;))
   &quot;more&quot;
   (:green &quot;text&quot;)]

;; after using slurp before the (:red ...) form, becomes part of the #_[] form (with the trailing ] in the comment)
</pre></z><z id="t1501391131" t="cjhowe (can confirm this exact case doesn&apos;t happen without parinfer mode on, which seems like a very weird bug honestly)"><y>#</y><d>2017-07-30</d><h>05:05</h><w>cjhowe</w>(can confirm this exact case doesn&apos;t happen without parinfer mode on, which seems like a very weird bug honestly)</z><z id="t1501391384" t="cjhowe gonna try smartparens to give me that functionality instead"><y>#</y><d>2017-07-30</d><h>05:09</h><w>cjhowe</w>gonna try smartparens to give me that functionality instead</z><z id="t1501395223" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0QKTTY4D&quot;}] thanks for reporting this"><y>#</y><d>2017-07-30</d><h>06:13</h><w>shaunlebron</w><a>@cjhowe</a> thanks for reporting this</z><z id="t1501395246" t="shaunlebron i don’t understand what “slurping before” means"><y>#</y><d>2017-07-30</d><h>06:14</h><w>shaunlebron</w>i don’t understand what “slurping before” means</z><z id="t1501395294" t="shaunlebron and I don’t understand the description of what happened—can you show what the “after” state is?"><y>#</y><d>2017-07-30</d><h>06:14</h><w>shaunlebron</w>and I don’t understand the description of what happened—can you show what the “after” state is?</z><z id="t1501399542" t="cjhowe [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] i&apos;ll report in a gh issue if that&apos;s okay? "><y>#</y><d>2017-07-30</d><h>07:25</h><w>cjhowe</w><a>@shaunlebron</a> i&apos;ll report in a gh issue if that&apos;s okay? </z><z id="t1501429690" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0QKTTY4D&quot;}] sounds good, thanks!"><y>#</y><d>2017-07-30</d><h>15:48</h><w>shaunlebron</w><a>@cjhowe</a> sounds good, thanks!</z><z id="t1501475892" t="henrik Trying out smart mode in Atom, and it’s looking good!"><y>#</y><d>2017-07-31</d><h>04:38</h><w>henrik</w>Trying out smart mode in Atom, and it’s looking good!</z><z id="t1501475965" t="chrisoakman It&apos;s not completely done yet 😉"><y>#</y><d>2017-07-31</d><h>04:39</h><w>chrisoakman</w>It&apos;s not completely done yet <b>😉</b></z><z id="t1501475972" t="chrisoakman Shaun and I are both working on it right now."><y>#</y><d>2017-07-31</d><h>04:39</h><w>chrisoakman</w>Shaun and I are both working on it right now.</z><z id="t1501475981" t="henrik [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] I completely understand that 🙂"><y>#</y><d>2017-07-31</d><h>04:39</h><w>henrik</w><a>@chrisoakman</a> I completely understand that <b>🙂</b></z><z id="t1501476028" t="henrik I thought I’d try it out anyway"><y>#</y><d>2017-07-31</d><h>04:40</h><w>henrik</w>I thought I’d try it out anyway</z><z id="t1501476032" t="henrik Oh great!"><y>#</y><d>2017-07-31</d><h>04:40</h><w>henrik</w>Oh great!</z><z id="t1501476079" t="chrisoakman Nice to see early adopters! I know people are wanting to test it out."><y>#</y><d>2017-07-31</d><h>04:41</h><w>chrisoakman</w>Nice to see early adopters! I know people are wanting to test it out.</z><z id="t1501476159" t="henrik Yeah, I thought I might catch you a few bugs maybe. But perhaps it’s a bit too early, give us a shout when you want beta testers. 🙂"><y>#</y><d>2017-07-31</d><h>04:42</h><w>henrik</w>Yeah, I thought I might catch you a few bugs maybe. But perhaps it’s a bit too early, give us a shout when you want beta testers. <b>🙂</b></z><z id="t1501476185" t="chrisoakman Will do :thumbsup:"><y>#</y><d>2017-07-31</d><h>04:43</h><w>chrisoakman</w>Will do <b>:thumbsup:</b></z><z id="t1501476208" t="chrisoakman I think Shaun is jumping into help because he wants to see it &quot;out in the field&quot; sooner than later."><y>#</y><d>2017-07-31</d><h>04:43</h><w>chrisoakman</w>I think Shaun is jumping into help because he wants to see it &quot;out in the field&quot; sooner than later.</z><z id="t1501476246" t="chrisoakman I should have more time now. I was teaching a coding bootcamp class that just ended."><y>#</y><d>2017-07-31</d><h>04:44</h><w>chrisoakman</w>I should have more time now. I was teaching a coding bootcamp class that just ended.</z><z id="t1501476274" t="chrisoakman I&apos;m also traveling for work this week, so would like to at least get something working before that trip."><y>#</y><d>2017-07-31</d><h>04:44</h><w>chrisoakman</w>I&apos;m also traveling for work this week, so would like to at least get something working before that trip.</z><z id="t1501477298" t="chrisoakman [:attrs {:href &quot;/_/_/users/U06B8J0AJ&quot;}] If you want to be on the super-bleeding edge, give this a try: https://github.com/oakmac/atom-parinfer/pull/80"><y>#</y><d>2017-07-31</d><h>05:01</h><w>chrisoakman</w><a>@henrik</a> If you want to be on the super-bleeding edge, give this a try: <a href="https://github.com/oakmac/atom-parinfer/pull/80" target="_blank">https://github.com/oakmac/atom-parinfer/pull/80</a></z><z id="t1501478720" t="henrik Yep, the above problem is certainly gone."><y>#</y><d>2017-07-31</d><h>05:25</h><w>henrik</w>Yep, the above problem is certainly gone.</z><z id="t1501480564" t="shaunlebron thanks for trying it [:attrs {:href &quot;/_/_/users/U06B8J0AJ&quot;}] !"><y>#</y><d>2017-07-31</d><h>05:56</h><w>shaunlebron</w>thanks for trying it <a>@henrik</a>!</z><z id="t1501480585" t="henrik No problem, thanks for all the hard work&apos;"><y>#</y><d>2017-07-31</d><h>05:56</h><w>henrik</w>No problem, thanks for all the hard work&apos;</z><z id="t1501480587" t="shaunlebron getting close, I really want tabStops in there, will get to it in the morning"><y>#</y><d>2017-07-31</d><h>05:56</h><w>shaunlebron</w>getting close, I really want tabStops in there, will get to it in the morning</z><z id="t1501480598" t="shaunlebron tab stops are so helpful"><y>#</y><d>2017-07-31</d><h>05:56</h><w>shaunlebron</w>tab stops are so helpful</z><z id="t1501480648" t="henrik Yeah, I was just thinking about that one, since I saw you demoing it earlier. But overall, I’d say it works really well already. I’ll keep using it for now and see if I run into any more oddities."><y>#</y><d>2017-07-31</d><h>05:57</h><w>henrik</w>Yeah, I was just thinking about that one, since I saw you demoing it earlier. But overall, I’d say it works really well already. I’ll keep using it for now and see if I run into any more oddities.</z><z id="t1501481110" t="shaunlebron thanks, looking forward to feedback"><y>#</y><d>2017-07-31</d><h>06:05</h><w>shaunlebron</w>thanks, looking forward to feedback</z><z id="t1501495930" t="henrik I’ve been using it for a while now, and so far, no surprises."><y>#</y><d>2017-07-31</d><h>10:12</h><w>henrik</w>I’ve been using it for a while now, and so far, no surprises.</z><z id="t1501504644" t="dominicm Naa: put them on a newline 😉 https://github.com/shaunlebron/parinfer/issues/92"><y>#</y><d>2017-07-31</d><h>12:37</h><w>dominicm</w>Naa: put them on a newline <b>😉</b> <a href="https://github.com/shaunlebron/parinfer/issues/92" target="_blank">https://github.com/shaunlebron/parinfer/issues/92</a></z><z id="t1501506493" t="henrik It’s not precisely the same situation though. In my case, it’s better that they stay on the same line. For example, I don’t want [{:hello &quot;world&quot;}] to turn into [{:hello &quot;world&quot; ;; Comment :-) }] Rather, [{:hello &quot;world&quot;}] ;; Comment :-) … is the result I desire in this case."><y>#</y><d>2017-07-31</d><h>13:08</h><w>henrik</w>It’s not precisely the same situation though. In my case, it’s better that they stay on the same line. For example, I don’t want 
<pre>[{:hello &quot;world&quot;}]
</pre> to turn into 

<pre>[{:hello &quot;world&quot; ;; Comment :-)
}]
</pre>

Rather, 

<pre>[{:hello &quot;world&quot;}] ;; Comment :-)
</pre>

… is the result I desire in this case.</z><z id="t1501512062" t="shaunlebron [:attrs {:href &quot;/_/_/users/U06B8J0AJ&quot;}] thanks, i see that from time to time and I’m always taken aback by it"><y>#</y><d>2017-07-31</d><h>14:41</h><w>shaunlebron</w><a>@henrik</a> thanks, i see that from time to time and I’m always taken aback by it</z><z id="t1501512109" t="shaunlebron another good use case for smart mode to inspect the change and react accordingly"><y>#</y><d>2017-07-31</d><h>14:41</h><w>shaunlebron</w>another good use case for smart mode to inspect the change and react accordingly</z><z id="t1501512131" t="henrik To be honest, the most common use case for me would be that I’m clumsy 🙂"><y>#</y><d>2017-07-31</d><h>14:42</h><w>henrik</w>To be honest, the most common use case for me would be that I’m clumsy <b>🙂</b></z><z id="t1501512159" t="henrik I hit the semicolon when I try to hit colon, and accidentally comment out x number of brackets"><y>#</y><d>2017-07-31</d><h>14:42</h><w>henrik</w>I hit the semicolon when I try to hit colon, and accidentally comment out x number of brackets</z><z id="t1501512211" t="henrik Other than that, a whole day of programming with v3 and I have nothing to complain about. It’s a great improvement over the last version."><y>#</y><d>2017-07-31</d><h>14:43</h><w>henrik</w>Other than that, a whole day of programming with v3 and I have nothing to complain about. It’s a great improvement over the last version.</z><z id="t1501512229" t="shaunlebron come to think of it, I think they were also accidents when it happened to me"><y>#</y><d>2017-07-31</d><h>14:43</h><w>shaunlebron</w>come to think of it, I think they were also accidents when it happened to me</z><z id="t1501512261" t="shaunlebron as long as it’s not destructive, it’s not too pressing, but a good thing for polish to reduce the surprise there"><y>#</y><d>2017-07-31</d><h>14:44</h><w>shaunlebron</w>as long as it’s not destructive, it’s not too pressing, but a good thing for polish to reduce the surprise there</z><z id="t1501512281" t="henrik Yeah, it’s not that hard to position the cursor at the end of the line when you DO want to make a comment."><y>#</y><d>2017-07-31</d><h>14:44</h><w>henrik</w>Yeah, it’s not that hard to position the cursor at the end of the line when you DO want to make a comment.</z><z id="t1501512284" t="shaunlebron good to hear!"><y>#</y><d>2017-07-31</d><h>14:44</h><w>shaunlebron</w>good to hear!</z><z id="t1501512426" t="henrik My general experience of using parinfer is that I get the feeling of my editor doing what I intend for it to do, rather than what I (in strict terms) tell it to do. In that sense it fits the general feeling of the project to mitigate the effects of the accidental commenting"><y>#</y><d>2017-07-31</d><h>14:47</h><w>henrik</w>My general experience of using parinfer is that I get the feeling of my editor doing what I intend for it to do, rather than what I (in strict terms) tell it to do. In that sense it fits the general feeling of the project to mitigate the effects of the accidental commenting</z><z id="t1501512659" t="shaunlebron at the beginning of the project, my intuition was that there was not enough information to understand user intention, so I leaned on modes for explicit intention—which part of the indentation-paren invariant do you want to control?"><y>#</y><d>2017-07-31</d><h>14:50</h><w>shaunlebron</w>at the beginning of the project, my intuition was that there was not enough information to understand user intention, so I leaned on modes for explicit intention—which part of the indentation-paren invariant do you want to control?</z><z id="t1501512749" t="shaunlebron i’m much more optimistic now that user intention can be inferred from changes (mostly?)"><y>#</y><d>2017-07-31</d><h>14:52</h><w>shaunlebron</w>i’m much more optimistic now that user intention can be inferred from changes (mostly?)</z><z id="t1501512863" t="shaunlebron thanks for sharing your thoughts on how parinfer relates to user intention, I’ll be keeping that in mind"><y>#</y><d>2017-07-31</d><h>14:54</h><w>shaunlebron</w>thanks for sharing your thoughts on how parinfer relates to user intention, I’ll be keeping that in mind</z><z id="t1501512934" t="shaunlebron smart mode made me a believer that user intention is encoded somewhere, just needs a creative person to wrangle it out"><y>#</y><d>2017-07-31</d><h>14:55</h><w>shaunlebron</w>smart mode made me a believer that user intention is encoded somewhere, just needs a creative person to wrangle it out</z><z id="t1501513028" t="shaunlebron i.e. parinfer’s users"><y>#</y><d>2017-07-31</d><h>14:57</h><w>shaunlebron</w>i.e. parinfer’s users</z><z id="t1501562768" t="tianshu when will parinfer v3 available on atom?"><y>#</y><d>2017-08-01</d><h>04:46</h><w>tianshu</w>when will parinfer v3 available on atom?</z><z id="t1501562791" t="tianshu I want to suggest my workmate to have a try."><y>#</y><d>2017-08-01</d><h>04:46</h><w>tianshu</w>I want to suggest my workmate to have a try.</z><z id="t1501562971" t="chrisoakman It&apos;s basically available on the master branch right now."><y>#</y><d>2017-08-01</d><h>04:49</h><w>chrisoakman</w>It&apos;s basically available on the master branch right now.</z><z id="t1501562981" t="chrisoakman You have to turn on smartMode via a config file."><y>#</y><d>2017-08-01</d><h>04:49</h><w>chrisoakman</w>You have to turn on smartMode via a config file.</z><z id="t1501562993" t="chrisoakman I used it all today at work. Didn&apos;t run into any major problems."><y>#</y><d>2017-08-01</d><h>04:49</h><w>chrisoakman</w>I used it all today at work. Didn&apos;t run into any major problems.</z><z id="t1501563013" t="chrisoakman I know Shaun was working on it too. Trying to get tabStops in."><y>#</y><d>2017-08-01</d><h>04:50</h><w>chrisoakman</w>I know Shaun was working on it too. Trying to get tabStops in.</z><z id="t1501563054" t="chrisoakman I do want to push out soon so ya&apos;ll can beta test. It&apos;s just not great timing for me. I&apos;m flying out of the country tomorrow for a few days for work. Back on the weekend."><y>#</y><d>2017-08-01</d><h>04:50</h><w>chrisoakman</w>I do want to push out soon so ya&apos;ll can beta test. It&apos;s just not great timing for me. I&apos;m flying out of the country tomorrow for a few days for work. Back on the weekend.</z><z id="t1501563077" t="chrisoakman But I don&apos;t mind pushing a public release where you can turn it on via config flag. I think Shaun wants to do that too before we &quot;turn it on&quot; for everyone."><y>#</y><d>2017-08-01</d><h>04:51</h><w>chrisoakman</w>But I don&apos;t mind pushing a public release where you can turn it on via config flag. I think Shaun wants to do that too before we &quot;turn it on&quot; for everyone.</z><z id="t1501563097" t="chrisoakman Lot of existing atom-parinfer users. Have to be conservative about pushing out big updates / changing behavior."><y>#</y><d>2017-08-01</d><h>04:51</h><w>chrisoakman</w>Lot of existing atom-parinfer users. Have to be conservative about pushing out big updates / changing behavior.</z><z id="t1501563120" t="chrisoakman I&apos;m super tired right now 🙃"><y>#</y><d>2017-08-01</d><h>04:52</h><w>chrisoakman</w>I&apos;m super tired right now <b>🙃</b></z><z id="t1501563196" t="chrisoakman The short answer is: soon. Or you can try out the master branch now. Just have to set {&quot;use-smart-mode?&quot;:true} in ~/.atom-parinfer-config.json file"><y>#</y><d>2017-08-01</d><h>04:53</h><w>chrisoakman</w>The short answer is: soon. Or you can try out the master branch now. Just have to set <code>{&quot;use-smart-mode?&quot;:true}</code> in <code>~/.atom-parinfer-config.json</code> file</z><z id="t1501564010" t="tianshu good job:+1:"><y>#</y><d>2017-08-01</d><h>05:06</h><w>tianshu</w>good job:+1:</z><z id="t1501564036" t="tianshu and have a good travel"><y>#</y><d>2017-08-01</d><h>05:07</h><w>tianshu</w>and have a good travel</z><z id="t1501565399" t="henrik Master branch works fine, no need to stress it out"><y>#</y><d>2017-08-01</d><h>05:29</h><w>henrik</w>Master branch works fine, no need to stress it out</z><z id="t1501568720" t="shaunlebron tab stops working for cursor, but not selection yet. you can try it out here: https://github.com/oakmac/atom-parinfer/pull/83"><y>#</y><d>2017-08-01</d><h>06:25</h><w>shaunlebron</w>tab stops working for cursor, but not selection yet.  you can try it out here: <a href="https://github.com/oakmac/atom-parinfer/pull/83" target="_blank">https://github.com/oakmac/atom-parinfer/pull/83</a></z><z id="t1501569687" t="rgdelato only been coding with it a little tonight, but master seems to be working for me as well"><y>#</y><d>2017-08-01</d><h>06:41</h><w>rgdelato</w>only been coding with it a little tonight, but master seems to be working for me as well</z><z id="t1501600180" t="henrik By the way, am I correct in observing that the plugin for VSCode is a bit more flaky than the one for Atom?"><y>#</y><d>2017-08-01</d><h>15:09</h><w>henrik</w>By the way, am I correct in observing that the plugin for VSCode is a bit more flaky than the one for Atom?</z><z id="t1501600222" t="henrik Positioning of cursor after pressing enter seems a bit off at times."><y>#</y><d>2017-08-01</d><h>15:10</h><w>henrik</w>Positioning of cursor after pressing enter seems a bit off at times.</z><z id="t1501610498" t="shaunlebron [:attrs {:href &quot;/_/_/users/U06B8J0AJ&quot;}] yes"><y>#</y><d>2017-08-01</d><h>18:01</h><w>shaunlebron</w><a>@henrik</a> yes</z><z id="t1501610528" t="shaunlebron I was hoping after doing some work on Atom that I could get a better idea how to share parts between them"><y>#</y><d>2017-08-01</d><h>18:02</h><w>shaunlebron</w>I was hoping after doing some work on Atom that I could get a better idea how to share parts between them</z><z id="t1501621495" t="shaunlebron 👋 I think the structural tab stops feature is finished: https://github.com/oakmac/atom-parinfer/pull/83"><y>#</y><d>2017-08-01</d><h>21:04</h><w>shaunlebron</w><b>👋</b> I think the structural tab stops feature is finished: <a href="https://github.com/oakmac/atom-parinfer/pull/83" target="_blank">https://github.com/oakmac/atom-parinfer/pull/83</a></z><z id="t1501621644" t="shaunlebron going to look at error markers for when force-balance? is off"><y>#</y><d>2017-08-01</d><h>21:07</h><w>shaunlebron</w>going to look at error markers for when <code>force-balance?</code> is off</z><z id="t1501635113" t="shaunlebron error markers aren’t working for some reason, maybe someone else will see the problem? https://github.com/oakmac/atom-parinfer/pull/84"><y>#</y><d>2017-08-02</d><h>00:51</h><w>shaunlebron</w>error markers aren’t working for some reason, maybe someone else will see the problem? <a href="https://github.com/oakmac/atom-parinfer/pull/84" target="_blank">https://github.com/oakmac/atom-parinfer/pull/84</a></z><z id="t1501648852" t="henrik I like VSCode, it’s very snappy, but stuff like protorepl and parinfer is keeping me in Atom for now."><y>#</y><d>2017-08-02</d><h>04:40</h><w>henrik</w>I like VSCode, it’s very snappy, but stuff like protorepl and parinfer is keeping me in Atom for now.</z><z id="t1501655525" t="dominicm Fight the good fight. Make sure your editor stays in the ring!"><y>#</y><d>2017-08-02</d><h>06:32</h><r>dominicm</r>Fight the good fight. Make sure your editor stays in the ring!</z><z id="t1501689778" t="mattly I gave VSCode a shot but couldn&apos;t get the repl connecting to my boot project, so gave up"><y>#</y><d>2017-08-02</d><h>16:02</h><r>mattly</r>I gave VSCode a shot but couldn&apos;t get the repl connecting to my boot project, so gave up</z><z id="t1501689785" t="mattly I really want to like it"><y>#</y><d>2017-08-02</d><h>16:03</h><r>mattly</r>I really want to like it</z><z id="t1501691933" t="dominicm Form a coalition and build your own!"><y>#</y><d>2017-08-02</d><h>16:38</h><r>dominicm</r>Form a coalition and build your own!</z><z id="t1501651184" t="shaunlebron error markers are working now"><y>#</y><d>2017-08-02</d><h>05:19</h><w>shaunlebron</w>error markers are working now</z></g><g id="s16"><z id="t1501651499" t="shaunlebron will move on to migrating atom-parinfer config to the settings UI so people can enable smart mode more easily"><y>#</y><d>2017-08-02</d><h>05:24</h><w>shaunlebron</w>will move on to migrating atom-parinfer config to the settings UI so people can enable smart mode more easily</z><z id="t1501653404" t="shaunlebron smart mode isn’t very smart about pasting"><y>#</y><d>2017-08-02</d><h>05:56</h><w>shaunlebron</w>smart mode isn’t very smart about pasting</z><z id="t1501653427" t="shaunlebron i’m tempted to make it run indent mode on paste"><y>#</y><d>2017-08-02</d><h>05:57</h><w>shaunlebron</w>i’m tempted to make it run indent mode on paste</z><z id="t1501653508" t="shaunlebron copying lines at the end of a function and pasting it in the middle of the function causes subsequent lines to get dedented"><y>#</y><d>2017-08-02</d><h>05:58</h><w>shaunlebron</w>copying lines at the end of a function and pasting it in the middle of the function causes subsequent lines to get dedented</z><z id="t1501653511" t="shaunlebron indent mode would prevent that"><y>#</y><d>2017-08-02</d><h>05:58</h><w>shaunlebron</w>indent mode would prevent that</z><z id="t1501653793" t="shaunlebron when I’m correcting indentation, I am sometimes annoyed that I can’t disconnect a line from its children"><y>#</y><d>2017-08-02</d><h>06:03</h><w>shaunlebron</w>when I’m correcting indentation, I am sometimes annoyed that I can’t disconnect a line from its children</z><z id="t1501653819" t="shaunlebron so I think Indent Mode still has its place"><y>#</y><d>2017-08-02</d><h>06:03</h><w>shaunlebron</w>so I think Indent Mode still has its place</z><z id="t1501655602" t="dominicm I haven&apos;t followed much of the smart mode discussion or anything. Could there be some &quot;pasting&quot; flag to smart mode that internally uses indent mode?"><y>#</y><d>2017-08-02</d><h>06:33</h><w>dominicm</w>I haven&apos;t followed much of the smart mode discussion or anything.

Could there be some &quot;pasting&quot; flag to smart mode that internally uses indent mode?</z><z id="t1501663031" t="cfleming Cutting and pasting is very problematic with parinfer in general."><y>#</y><d>2017-08-02</d><h>08:37</h><w>cfleming</w>Cutting and pasting is very problematic with parinfer in general.</z><z id="t1501663062" t="cfleming Indent mode only works if the editor is smart about adjusting indentation, and paren mode only works if the pasted text is balanced."><y>#</y><d>2017-08-02</d><h>08:37</h><w>cfleming</w>Indent mode only works if the editor is smart about adjusting indentation, and paren mode only works if the pasted text is balanced.</z><z id="t1501663095" t="cfleming (assuming you’re pasting multi-line text)"><y>#</y><d>2017-08-02</d><h>08:38</h><w>cfleming</w>(assuming you’re pasting multi-line text)</z><z id="t1501677539" t="shaunlebron how can an editor be smart about adjusting indentation when pasting?"><y>#</y><d>2017-08-02</d><h>12:38</h><w>shaunlebron</w>how can an editor be smart about adjusting indentation when pasting?</z><z id="t1501678339" t="shaunlebron yeah, I don’t think running indent mode on paste makes sense, since the user would still have to manually go back to indent mode if the editor doesn’t paste the text at the right indentation they wanted"><y>#</y><d>2017-08-02</d><h>12:52</h><w>shaunlebron</w>yeah, I don’t think running indent mode on paste makes sense, since the user would still have to manually go back to indent mode if the editor doesn’t paste the text at the right indentation they wanted</z><z id="t1501678385" t="shaunlebron I’m fine with recommending switching to indent mode to paste for now"><y>#</y><d>2017-08-02</d><h>12:53</h><w>shaunlebron</w>I’m fine with recommending switching to indent mode to paste for now</z><z id="t1501678521" t="shaunlebron I’ll think about whether the modes should be renamed to reflect when users should be in them"><y>#</y><d>2017-08-02</d><h>12:55</h><w>shaunlebron</w>I’ll think about whether the modes should be renamed to reflect when users should be in them</z><z id="t1501678928" t="shaunlebron smart mode -&gt; write mode indent mode -&gt; paste mode paren mode -&gt; (not named, only used when opening unbalanced files)"><y>#</y><d>2017-08-02</d><h>13:02</h><w>shaunlebron</w>smart mode -&gt; write mode
indent mode -&gt; paste mode
paren mode -&gt; (not named, only used when opening unbalanced files)</z><z id="t1501692043" t="dominicm [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] my brain can never remember the different modes. So if I paste (and something magically does indent). Why can&apos;t I go back into smart mode immediately?"><y>#</y><d>2017-08-02</d><h>16:40</h><w>dominicm</w><a>@shaunlebron</a> my brain can never remember the different modes. So if I paste (and something magically does indent). Why can&apos;t I go back into smart mode immediately?</z><z id="t1501692121" t="shaunlebron it can throw you back into smart mode if you pasted it at the correct indentation"><y>#</y><d>2017-08-02</d><h>16:42</h><w>shaunlebron</w>it can throw you back into smart mode if you pasted it at the correct indentation</z><z id="t1501692161" t="shaunlebron but as a vim user, I paste whole lines and adjust indentation after"><y>#</y><d>2017-08-02</d><h>16:42</h><w>shaunlebron</w>but as a vim user, I paste whole lines and adjust indentation after</z><z id="t1501692189" t="shaunlebron the “adjust indentation after” has to happen in indent mode"><y>#</y><d>2017-08-02</d><h>16:43</h><w>shaunlebron</w>the “adjust indentation after” has to happen in indent mode</z><z id="t1501692250" t="shaunlebron I’m not convinced there is enough data in a paste operation to find the correct indentation level"><y>#</y><d>2017-08-02</d><h>16:44</h><w>shaunlebron</w>I’m not convinced there is enough data in a paste operation to find the correct indentation level</z><z id="t1501692264" t="shaunlebron modes suck, but I don’t see a better solution here"><y>#</y><d>2017-08-02</d><h>16:44</h><w>shaunlebron</w>modes suck, but I don’t see a better solution here</z><z id="t1501692323" t="mattly the way that I&apos;ve come to think of it when working in emacs is, &quot;I&apos;m splicing the clipboard at this point&quot;"><y>#</y><d>2017-08-02</d><h>16:45</h><w>mattly</w>the way that I&apos;ve come to think of it when working in emacs is, &quot;I&apos;m splicing the clipboard at this point&quot;</z><z id="t1501693040" t="shaunlebron can you elaborate? I don’t understand what that means"><y>#</y><d>2017-08-02</d><h>16:57</h><w>shaunlebron</w>can you elaborate?  I don’t understand what that means</z><z id="t1501693144" t="mattly so I&apos;ve typically copied one or more expressions"><y>#</y><d>2017-08-02</d><h>16:59</h><w>mattly</w>so I&apos;ve typically copied one or more expressions</z><z id="t1501693160" t="mattly let&apos;s say it&apos;s x (a b) y"><y>#</y><d>2017-08-02</d><h>16:59</h><w>mattly</w>let&apos;s say it&apos;s <code>x (a b) y</code></z><z id="t1501693198" t="mattly and I want to splice that into (foo i j |k)"><y>#</y><d>2017-08-02</d><h>16:59</h><w>mattly</w>and I want to splice that into <code>(foo i j |k)</code></z><z id="t1501693219" t="mattly where | is the cursor"><y>#</y><d>2017-08-02</d><h>17:00</h><w>mattly</w>where <code>|</code> is the cursor</z><z id="t1501693251" t="mattly maybe the individual symbols are on different lines"><y>#</y><d>2017-08-02</d><h>17:00</h><w>mattly</w>maybe the individual symbols are on different lines</z><z id="t1501693285" t="mattly but my expectation is always the same, I&apos;m going to end up with (foo i j x (a b) y k)"><y>#</y><d>2017-08-02</d><h>17:01</h><w>mattly</w>but my expectation is always the same, I&apos;m going to end up with <code>(foo i j x (a b) y k)</code></z><z id="t1501693301" t="shaunlebron thanks for that example"><y>#</y><d>2017-08-02</d><h>17:01</h><w>shaunlebron</w>thanks for that example</z><z id="t1501693323" t="mattly the combo of parinfer &amp; smartparens I use in emacs does this like 95% of the time"><y>#</y><d>2017-08-02</d><h>17:02</h><w>mattly</w>the combo of parinfer &amp; smartparens I use in emacs does this like 95% of the time</z><z id="t1501693333" t="shaunlebron the structure has to be preserved since you’ve consciously pasted some valid structure into another"><y>#</y><d>2017-08-02</d><h>17:02</h><w>shaunlebron</w>the structure has to be preserved since you’ve consciously pasted some valid structure into another</z><z id="t1501693756" t="shaunlebron (let [a 1 b 2 c 3] ; &lt;-- cut/paste this line to move it up ...) (let [a 1 c 3] b 2 ...) (let [a 1 c 3] b 2 ; &lt;-- smart mode dedents once cursor leaves line above ; (paren mode would same, but immediately) ...) (let [a 1 c 3 b 2] ; &lt;-- indent mode would correct the paren ...) "><y>#</y><d>2017-08-02</d><h>17:09</h><w>shaunlebron</w><pre>(let [a 1
      b 2
      c 3] ; &lt;-- cut/paste this line to move it up
  ...)
</pre>  

<pre>(let [a 1
      c 3]
      b 2
  ...)
</pre>  

<pre>(let [a 1
      c 3]
     b 2  ; &lt;-- smart mode dedents once cursor leaves line above
          ;     (paren mode would same, but immediately)
  ...)
</pre>  

<pre>(let [a 1
      c 3
      b 2] ; &lt;-- indent mode would correct the paren
  ...)
</pre></z><z id="t1501693821" t="shaunlebron maybe pasting should apply paren mode only if the form is balanced"><y>#</y><d>2017-08-02</d><h>17:10</h><w>shaunlebron</w>maybe pasting should apply paren mode only if the form is balanced</z><z id="t1501693870" t="shaunlebron and indent mode otherwise"><y>#</y><d>2017-08-02</d><h>17:11</h><w>shaunlebron</w>and indent mode otherwise</z><z id="t1501693974" t="mattly one of the problems I&apos;ve had with this combo of evil + parinfer + smartparens is that I have a situation like:"><y>#</y><d>2017-08-02</d><h>17:12</h><w>mattly</w>one of the problems I&apos;ve had with this combo of evil + parinfer + smartparens is that I have a situation like:</z><z id="t1501694077" t="mattly and out of habit I leave insert-mode to paste, and it cleans up the &quot;trailing&quot; whitespace on that line"><y>#</y><d>2017-08-02</d><h>17:14</h><w>mattly</w>and out of habit I leave insert-mode to paste, and it cleans up the &quot;trailing&quot; whitespace on that line</z><z id="t1501694086" t="mattly so then I end up with:"><y>#</y><d>2017-08-02</d><h>17:14</h><w>mattly</w>so then I end up with:</z><z id="t1501694139" t="mattly and I then I have to fix it with either indenting or slurping"><y>#</y><d>2017-08-02</d><h>17:15</h><w>mattly</w>and I then I have to fix it with either indenting or slurping</z><z id="t1501694177" t="mattly though I think this is more a problem of using evil-mode than anything with parinfer"><y>#</y><d>2017-08-02</d><h>17:16</h><w>mattly</w>though I think this is more a problem of using evil-mode than anything with parinfer</z><z id="t1501695173" t="shaunlebron I almost want to do something crazy like: 1. highlight the pasted text in yellow and drop into indent mode 2. ask the user to correct the indentation (maybe give them a draggable handle bar for it) 3. have a ‘done’ button below and above the pasted text line to drop back into smart mode"><y>#</y><d>2017-08-02</d><h>17:32</h><w>shaunlebron</w>I almost want to do something crazy like:

1. highlight the pasted text in yellow and drop into indent mode
2. ask the user to correct the indentation (maybe give them a draggable handle bar for it)
3. have a ‘done’ button below and above the pasted text line to drop back into smart mode</z><z id="t1501696173" t="dominicm And you think you can implement that on vim? 😆 "><y>#</y><d>2017-08-02</d><h>17:49</h><w>dominicm</w>And you think you can implement that on vim? <b>😆</b> </z><z id="t1501696207" t="shaunlebron ha, I meant atom with vim bindings"><y>#</y><d>2017-08-02</d><h>17:50</h><w>shaunlebron</w>ha, I meant atom with vim bindings</z><z id="t1501696274" t="shaunlebron maybe not by overriding native paste, but as a custom “safe paste” operation that can be bound"><y>#</y><d>2017-08-02</d><h>17:51</h><w>shaunlebron</w>maybe not by overriding native paste, but as a custom “safe paste” operation that can be bound</z><z id="t1501696754" t="shaunlebron anxious to hear other ideas here"><y>#</y><d>2017-08-02</d><h>17:59</h><w>shaunlebron</w>anxious to hear other ideas here</z><z id="t1501696935" t="mattly it&apos;s a tough problem"><y>#</y><d>2017-08-02</d><h>18:02</h><w>mattly</w>it&apos;s a tough problem</z><z id="t1501696961" t="mattly I think there are a handful of different use cases and it&apos;s hard to divine intentions"><y>#</y><d>2017-08-02</d><h>18:02</h><w>mattly</w>I think there are a handful of different use cases and it&apos;s hard to divine intentions</z><z id="t1501733785" t="henrik I’m really not sure what would be the best way to go, but when faced with a number of displeasing alternatives, the least surprising option might be the best. For me, I’m thinking that might be 1) disable parinfer, 2) truncate all common whitespace from copied rows, 3) paste at the indentation level where the cursor is, 4) reenable parinfer iff brackets are balanced, otherwise reenable as soon as they’ve been manually balanced."><y>#</y><d>2017-08-03</d><h>04:16</h><w>henrik</w>I’m really not sure what would be the best way to go, but when faced with a number of displeasing alternatives, the least surprising option might be the best. For me, I’m thinking that might be 1) disable parinfer, 2) truncate all common whitespace from copied rows, 3) paste at the indentation level where the cursor is, 4) reenable parinfer iff brackets are balanced, otherwise reenable as soon as they’ve been manually balanced.</z><z id="t1501733851" t="henrik Not entirely sure though, it’s a hairy problem that makes it hard to estimate how good the solution is until it’s been implemented."><y>#</y><d>2017-08-03</d><h>04:17</h><w>henrik</w>Not entirely sure though, it’s a hairy problem that makes it hard to estimate how good the solution is until it’s been implemented.</z><z id="t1501743937" t="dominicm Does the new v3 tab/shift tab work on selections? Could drop back to smart mode and allow people to make a selection to correct the indentation. That should fix it if I understand."><y>#</y><d>2017-08-03</d><h>07:05</h><w>dominicm</w>Does the new v3 tab/shift tab work on selections? Could drop back to smart mode and allow people to make a selection to correct the indentation.

That should fix it if I understand.</z><z id="t1501776922" t="shaunlebron tab works on selections"><y>#</y><d>2017-08-03</d><h>16:15</h><w>shaunlebron</w>tab works on selections</z><z id="t1501777026" t="shaunlebron but: (foo (bar ; &lt;-- pasted line could adopt several expressions below baz ...)) "><y>#</y><d>2017-08-03</d><h>16:17</h><w>shaunlebron</w>but:

<pre>(foo
  (bar  ; &lt;-- pasted line could adopt several expressions below
    baz
    ...))
</pre></z><z id="t1501777108" t="shaunlebron if you pasted (bar above, and tried correcting its indentation in smart mode, the accidentally adopted lines below it would stick to it during correction, which I’ve found annoying"><y>#</y><d>2017-08-03</d><h>16:18</h><w>shaunlebron</w>if you pasted <code>(bar</code> above, and tried correcting its indentation in smart mode, the accidentally adopted lines below it would stick to it during correction, which I’ve found annoying</z><z id="t1501777155" t="shaunlebron the adopted lines would not stick to (bar when adjusting in indent mode, which is why I think it’s better for correcting pastes"><y>#</y><d>2017-08-03</d><h>16:19</h><w>shaunlebron</w>the adopted lines would not stick to <code>(bar</code> when adjusting in indent mode, which is why I think it’s better for correcting pastes</z><z id="t1501813633" t="tianshu I think there&apos;re two condition for pasting, (defn foo [] * (f1 bar) ;;; &lt;--- baz)* ;;; &lt;--- I want to copy this two to the below of f3 (f3)) and (defn foo [] (f1) (f2)) | &lt;-- paste there *(f3 bar baz)* ;;; &lt;-- I want to copy this to the below of f2 *content will be cut* "><y>#</y><d>2017-08-04</d><h>02:27</h><w>tianshu</w>I think there&apos;re two condition for pasting, 
<pre>(defn foo []
* (f1 bar)  ;;; &lt;---
    baz)*     ;;; &lt;--- I want to copy this two to the below of f3
  (f3))
</pre>
and 
<pre>(defn foo []
  (f1)
  (f2))
  | &lt;-- paste there

*(f3 bar
  baz)*  ;;; &lt;-- I want to copy this to the below of f2
</pre>
<pre>*content will be cut*
</pre></z><z id="t1501828320" t="dominicm [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] oh, so selection indentation moves the whole form, not only the selected area?"><y>#</y><d>2017-08-04</d><h>06:32</h><w>dominicm</w><a>@shaunlebron</a> oh, so selection indentation moves the whole form, not only the selected area?</z><z id="t1501850325" t="shaunlebron [:attrs {:href &quot;/_/_/users/U09LZR36F&quot;}] interesting! maybe it shouldn’t"><y>#</y><d>2017-08-04</d><h>12:38</h><w>shaunlebron</w><a>@dominicm</a> interesting!  maybe it shouldn’t</z><z id="t1501850377" t="shaunlebron it would be up to the plugins to just call indent mode instead of smart mode when indenting selections, since parinfer does not know anything about selections (except which line they start on to make tab stops work)"><y>#</y><d>2017-08-04</d><h>12:39</h><w>shaunlebron</w>it would be up to the plugins to just call indent mode instead of smart mode when indenting selections, since parinfer does not know anything about selections (except which line they start on to make tab stops work)</z><z id="t1501850469" t="dominicm There&apos;s a nice UX around just dropping you into indent mode with a quick pair of shortcuts for &gt; and &lt; until you hit escape or something there I guess."><y>#</y><d>2017-08-04</d><h>12:41</h><w>dominicm</w>There&apos;s a nice UX around just dropping you into indent mode with a quick pair of shortcuts for <code>&gt;</code> and <code>&lt;</code> until you hit escape or something there I guess.</z><z id="t1501850633" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0NBGRGD6&quot;}] smart mode currently works for both of those cases"><y>#</y><d>2017-08-04</d><h>12:43</h><w>shaunlebron</w><a>@doglooksgood</a> smart mode currently works for both of those cases</z><z id="t1501850644" t="shaunlebron not sure what the *content will be cut* line is"><y>#</y><d>2017-08-04</d><h>12:44</h><w>shaunlebron</w>not sure what the <code>*content will be cut*</code> line is</z><z id="t1501857865" t="shaunlebron should I just remove this behavior?"><y>#</y><d>2017-08-04</d><h>14:44</h><w>shaunlebron</w>should I just remove this behavior?</z><z id="t1501857937" t="shaunlebron (foo [1 2 3]| ; &lt;-- move cursor away and structure preserved below 4 5 6) (foo [1 2 3] 4 5 6) "><y>#</y><d>2017-08-04</d><h>14:45</h><w>shaunlebron</w><pre>(foo [1 2 3]|  ; &lt;-- move cursor away and structure preserved below
      4 5 6)
</pre>

<pre>(foo [1 2 3]
     4 5 6)
</pre></z><z id="t1501857986" t="shaunlebron this would prevent pasted code from modifying indentation below it"><y>#</y><d>2017-08-04</d><h>14:46</h><w>shaunlebron</w>this would prevent pasted code from modifying indentation below it</z><z id="t1501858213" t="shaunlebron removing this and running indent mode when text is selected would make smart mode more usable for pasting, I’ll go with that and try for a v3 atom release today to get feedback"><y>#</y><d>2017-08-04</d><h>14:50</h><w>shaunlebron</w>removing this and running indent mode when text is selected would make smart mode more usable for pasting, I’ll go with that and try for a v3 atom release today to get feedback</z><z id="t1501864201" t="shaunlebron [:attrs {:href &quot;/_/_/users/U09LZR36F&quot;}] thanks for that insight on selected lines being indented in isolation, seems to work well"><y>#</y><d>2017-08-04</d><h>16:30</h><w>shaunlebron</w><a>@dominicm</a> thanks for that insight on selected lines being indented in isolation, seems to work well</z><z id="t1501864392" t="dominicm Glad to have contributed. :)"><y>#</y><d>2017-08-04</d><h>16:33</h><w>dominicm</w>Glad to have contributed. :)</z><z id="t1501864491" t="shaunlebron available to try in demo editor now: https://shaunlebron.github.io/parinfer/demo"><y>#</y><d>2017-08-04</d><h>16:34</h><w>shaunlebron</w>available to try in demo editor now: <a href="https://shaunlebron.github.io/parinfer/demo" target="_blank">https://shaunlebron.github.io/parinfer/demo</a></z><z id="t1501864787" t="shaunlebron in summary: 1. the first operation allows users to paste superfluous parens without it affecting structure below 2. the second operation shows the difference between indenting at cursor vs selection (i.e. structure below preserved vs modified, respectively)"><y>#</y><d>2017-08-04</d><h>16:39</h><w>shaunlebron</w>in summary:

1. the first operation allows users to paste superfluous parens without it affecting structure below
2. the second operation shows the difference between indenting at cursor vs selection (i.e. structure below preserved vs modified, respectively)</z><z id="t1501864854" t="shaunlebron item 2 will help arm the user with different ways to correct indentation without switching modes"><y>#</y><d>2017-08-04</d><h>16:40</h><w>shaunlebron</w>item 2 will help arm the user with different ways to correct indentation without switching modes</z><z id="t1501883247" t="wilkerlucio hello, had anyone used Parinfer + CodeMirror + CLJS?"><y>#</y><d>2017-08-04</d><h>21:47</h><w>wilkerlucio</w>hello, had anyone used Parinfer + CodeMirror + CLJS?</z><z id="t1501883258" t="wilkerlucio I&apos;m trying to figure the easiest way to bring https://github.com/shaunlebron/parinfer-codemirror on my CLJS code"><y>#</y><d>2017-08-04</d><h>21:47</h><w>wilkerlucio</w>I&apos;m trying to figure the easiest way to bring <a href="https://github.com/shaunlebron/parinfer-codemirror" target="_blank">https://github.com/shaunlebron/parinfer-codemirror</a> on my CLJS code</z><z id="t1501883477" t="shaunlebron [:attrs {:href &quot;/_/_/users/U066U8JQJ&quot;}] yeah, i use it on the website’s demo editor"><y>#</y><d>2017-08-04</d><h>21:51</h><w>shaunlebron</w><a>@wilkerlucio</a> yeah, i use it on the website’s demo editor</z><z id="t1501883489" t="shaunlebron how can I help?"><y>#</y><d>2017-08-04</d><h>21:51</h><w>shaunlebron</w>how can I help?</z><z id="t1501883549" t="wilkerlucio [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] glad to hear I&apos;m not the first one 🙂 how are you importing the parinfer-codemirror code? building from js and require as a &lt;script&gt; ?"><y>#</y><d>2017-08-04</d><h>21:52</h><w>wilkerlucio</w><a>@shaunlebron</a> glad to hear I&apos;m not the first one <b>🙂</b> how are you importing the parinfer-codemirror code? building  from js and require as a <code>&lt;script&gt;</code>?</z><z id="t1501883574" t="wilkerlucio I noticed that parinfer itself is available on cljsjs, but parinfer-codemirror is not"><y>#</y><d>2017-08-04</d><h>21:52</h><w>wilkerlucio</w>I noticed that <code>parinfer</code> itself is available on cljsjs, but <code>parinfer-codemirror</code> is not</z><z id="t1501883775" t="shaunlebron yeah, just include both parinfer and parinfer-codemirror as scripts, in that order"><y>#</y><d>2017-08-04</d><h>21:56</h><w>shaunlebron</w>yeah, just include both parinfer and parinfer-codemirror as scripts, in that order</z><z id="t1501883788" t="shaunlebron and use their global objects"><y>#</y><d>2017-08-04</d><h>21:56</h><w>shaunlebron</w>and use their global objects</z><z id="t1501883851" t="wilkerlucio I saw you also include Raphael.js, do I need that?"><y>#</y><d>2017-08-04</d><h>21:57</h><w>wilkerlucio</w>I saw you also include Raphael.js, do I need that?</z><z id="t1501883904" t="shaunlebron if you want the new indent guides to show up with the guides: true option. still working on that though"><y>#</y><d>2017-08-04</d><h>21:58</h><w>shaunlebron</w>if you want the new indent guides to show up with the <code>guides: true</code> option.  still working on that though</z><z id="t1501883910" t="shaunlebron it works"><y>#</y><d>2017-08-04</d><h>21:58</h><w>shaunlebron</w>it works</z><z id="t1501883956" t="shaunlebron what are you using it for?"><y>#</y><d>2017-08-04</d><h>21:59</h><w>shaunlebron</w>what are you using it for?</z><z id="t1501883983" t="wilkerlucio I want to write more interactive blog posts on my blog, so I want a Clojure editor so the viewers can interact with some ideas"><y>#</y><d>2017-08-04</d><h>21:59</h><w>wilkerlucio</w>I want to write more interactive blog posts on my blog, so I want a Clojure editor so the viewers can interact with some ideas</z><z id="t1501884004" t="shaunlebron very cool"><y>#</y><d>2017-08-04</d><h>22:00</h><w>shaunlebron</w>very cool</z><z id="t1501884029" t="shaunlebron i think you’re probably the first user. sorry if there are any issues, let me know if I can help"><y>#</y><d>2017-08-04</d><h>22:00</h><w>shaunlebron</w>i think you’re probably the first user. sorry if there are any issues, let me know if I can help</z><z id="t1501884089" t="shaunlebron the older version of the parinfer+codemirror plugin has been used in several places, but this standalone one is the one I’ll be maintaining"><y>#</y><d>2017-08-04</d><h>22:01</h><w>shaunlebron</w>the older version of the parinfer+codemirror plugin has been used in several places, but this standalone one is the one I’ll be maintaining</z><z id="t1501884126" t="wilkerlucio thanks 🙂"><y>#</y><d>2017-08-04</d><h>22:02</h><w>wilkerlucio</w>thanks <b>🙂</b></z><z id="t1501884136" t="wilkerlucio is there a release build version of parinfer?"><y>#</y><d>2017-08-04</d><h>22:02</h><w>wilkerlucio</w>is there a release build version of parinfer?</z><z id="t1501884174" t="wilkerlucio or do I need to build it myself?"><y>#</y><d>2017-08-04</d><h>22:02</h><w>wilkerlucio</w>or do I need to build it myself?</z><z id="t1501884179" t="shaunlebron uglified? I haven’t published one"><y>#</y><d>2017-08-04</d><h>22:02</h><w>shaunlebron</w>uglified? I haven’t published one</z><z id="t1501884191" t="shaunlebron it’s a single uncompiled js file"><y>#</y><d>2017-08-04</d><h>22:03</h><w>shaunlebron</w>it’s a single uncompiled js file</z><z id="t1501884213" t="wilkerlucio humm, where can I find that?"><y>#</y><d>2017-08-04</d><h>22:03</h><w>wilkerlucio</w>humm, where can I find that?</z><z id="t1501884224" t="wilkerlucio ah, gotcha"><y>#</y><d>2017-08-04</d><h>22:03</h><w>wilkerlucio</w>ah, gotcha</z><z id="t1501884227" t="wilkerlucio https://github.com/shaunlebron/parinfer/blob/master/lib/parinfer.js"><y>#</y><d>2017-08-04</d><h>22:03</h><w>wilkerlucio</w><a href="https://github.com/shaunlebron/parinfer/blob/master/lib/parinfer.js" target="_blank">https://github.com/shaunlebron/parinfer/blob/master/lib/parinfer.js</a></z><z id="t1501884253" t="shaunlebron i’ve been forgetting to push github releases, but npm install parinfer will dump the latest build into node_modules/parinfer/parinfer.js"><y>#</y><d>2017-08-04</d><h>22:04</h><w>shaunlebron</w>i’ve been forgetting to push github releases, but <code>npm install parinfer</code> will dump the latest build into <code>node_modules/parinfer/parinfer.js</code></z><z id="t1501884298" t="shaunlebron don’t grab from master, but I think the master build is just the latest 3.10.0 right now"><y>#</y><d>2017-08-04</d><h>22:04</h><w>shaunlebron</w>don’t grab from master, but I think the master build is just the latest 3.10.0 right now</z><z id="t1501884456" t="shaunlebron lol at me including a 90kb raphael file for indent guides, but it is also for an experimental feature that’s not currently documented"><y>#</y><d>2017-08-04</d><h>22:07</h><w>shaunlebron</w>lol at me including a 90kb raphael file for indent guides, but it is also for an experimental feature that’s not currently documented</z><z id="t1501884582" t="wilkerlucio nice, I just got it to work on my current setup 😄"><y>#</y><d>2017-08-04</d><h>22:09</h><w>wilkerlucio</w>nice, I just got it to work on my current setup <b>😄</b></z><z id="t1501884815" t="shaunlebron great, share a link here when you want feedback 🙂"><y>#</y><d>2017-08-04</d><h>22:13</h><w>shaunlebron</w>great, share a link here when you want feedback <b>🙂</b></z><z id="t1501885237" t="wilkerlucio [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] sure, I&apos;ll let you know when the first post gets ready, but might take a while, still bootstrapping the new blog (moving out from Medium)"><y>#</y><d>2017-08-04</d><h>22:20</h><w>wilkerlucio</w><a>@shaunlebron</a> sure, I&apos;ll let you know when the first post gets ready, but might take a while, still bootstrapping the new blog (moving out from Medium)</z><z id="t1501891665" t="shaunlebron added Options UI to atom: https://github.com/oakmac/atom-parinfer/pull/89"><y>#</y><d>2017-08-05</d><h>00:07</h><w>shaunlebron</w>added Options UI to atom: <a href="https://github.com/oakmac/atom-parinfer/pull/89" target="_blank">https://github.com/oakmac/atom-parinfer/pull/89</a></z><z id="t1501891719" t="shaunlebron I think Chris is out until Monday, but v3 should be ready to go as soon as he looks at it"><y>#</y><d>2017-08-05</d><h>00:08</h><w>shaunlebron</w>I think Chris is out until Monday, but v3 should be ready to go as soon as he looks at it</z><z id="t1501891746" t="rgdelato I think there was already a PR for that that was delayed for some reason, might be worth taking a look if you haven&apos;t already"><y>#</y><d>2017-08-05</d><h>00:09</h><w>rgdelato</w>I think there was already a PR for that that was delayed for some reason, might be worth taking a look if you haven&apos;t already</z><z id="t1501891774" t="rgdelato (it looks really nice though!)"><y>#</y><d>2017-08-05</d><h>00:09</h><w>rgdelato</w>(it looks really nice though!)</z><z id="t1501891868" t="shaunlebron yeah, i looked at it! it’s a year old, and only defined a config schema. didn’t handle backwards compatibility with existing config files and didn’t sync with the api"><y>#</y><d>2017-08-05</d><h>00:11</h><w>shaunlebron</w>yeah, i looked at it!  it’s a year old, and only defined a config schema.  didn’t handle backwards compatibility with existing config files and didn’t sync with the api</z><z id="t1501891888" t="rgdelato ah, I see. okay, cool"><y>#</y><d>2017-08-05</d><h>00:11</h><w>rgdelato</w>ah, I see. okay, cool</z><z id="t1501891945" t="shaunlebron chris plans on removing the smart mode option if enough beta testers like it. this options UI should get us more testers"><y>#</y><d>2017-08-05</d><h>00:12</h><w>shaunlebron</w>chris plans on removing the smart mode option if enough beta testers like it.  this options UI should get us more testers</z><z id="t1501892091" t="rgdelato I dunno, if Indent Mode is going to stay as a part of Parinfer, I don&apos;t see any harm in leaving the option there (unless you do plan on removing it eventually?)"><y>#</y><d>2017-08-05</d><h>00:14</h><w>rgdelato</w>I dunno, if Indent Mode is going to stay as a part of Parinfer, I don&apos;t see any harm in leaving the option there (unless you do plan on removing it eventually?)</z><z id="t1501892109" t="rgdelato but yeah, making the option easier to turn on should help a lot"><y>#</y><d>2017-08-05</d><h>00:15</h><w>rgdelato</w>but yeah, making the option easier to turn on should help a lot</z><z id="t1501895448" t="shaunlebron I wouldn’t remove it"><y>#</y><d>2017-08-05</d><h>01:10</h><w>shaunlebron</w>I wouldn’t remove it</z><z id="t1501918487" t="tianshu start writing v3 for emacs, but found it difficult to port, since I want to process buffer instead of text"><y>#</y><d>2017-08-05</d><h>07:34</h><w>tianshu</w>start writing v3 for emacs, but found it difficult to port, since I want to process buffer instead of text</z><z id="t1501918640" t="cfleming [:attrs {:href &quot;/_/_/users/U0NBGRGD6&quot;}] Do you mean that you want to process the whole buffer rather than strings split into lines?"><y>#</y><d>2017-08-05</d><h>07:37</h><w>cfleming</w><a>@doglooksgood</a> Do you mean that you want to process the whole buffer rather than strings split into lines?</z><z id="t1501918709" t="tianshu It is said that emacs have better perf to modify text in the buffer directly, instead of take the string, calculate the new string, and substitution."><y>#</y><d>2017-08-05</d><h>07:38</h><w>tianshu</w>It is said that emacs have better perf to modify text in the buffer directly, instead of take the string, calculate the new string, and substitution.</z><z id="t1501918745" t="tianshu Do you have finished the v3 on Cursive?"><y>#</y><d>2017-08-05</d><h>07:39</h><w>tianshu</w>Do you have finished the v3 on Cursive?</z><z id="t1501918749" t="cfleming Right. So the version in Cursive actually does this. I process the whole buffer, and create a list of edits that I then apply to the buffer afterwards."><y>#</y><d>2017-08-05</d><h>07:39</h><w>cfleming</w>Right. So the version in Cursive actually does this. I process the whole buffer, and create a list of edits that I then apply to the buffer afterwards.</z><z id="t1501918765" t="cfleming I’m planning to try porting that to the JS version for v3."><y>#</y><d>2017-08-05</d><h>07:39</h><w>cfleming</w>I’m planning to try porting that to the JS version for v3.</z><z id="t1501918774" t="cfleming No, I haven’t had time, but I’m hoping to next week."><y>#</y><d>2017-08-05</d><h>07:39</h><w>cfleming</w>No, I haven’t had time, but I’m hoping to next week.</z><z id="t1501918831" t="cfleming So if you can wait till next week that might be easier. I think it’s a better approach, it’s almost certainly more efficient in any real editor, and you get things like caret movement for free - parinfer doesn’t have to track it."><y>#</y><d>2017-08-05</d><h>07:40</h><w>cfleming</w>So if you can wait till next week that might be easier. I think it’s a better approach, it’s almost certainly more efficient in any real editor, and you get things like caret movement for free - parinfer doesn’t have to track it.</z><z id="t1501918926" t="tianshu Yes, but I think emacs and IntelliJ is different, I have to work on emacs version."><y>#</y><d>2017-08-05</d><h>07:42</h><w>tianshu</w>Yes, but I think emacs and IntelliJ is different, I have to work on emacs version.</z><z id="t1501918980" t="tianshu and I have no confidence on performance of emacs-lisp... 😂"><y>#</y><d>2017-08-05</d><h>07:43</h><w>tianshu</w>and I have no confidence on performance of emacs-lisp...<b>😂</b></z><z id="t1501919148" t="cfleming Right, but I think that the same algorithm that works better for me will also work better for you."><y>#</y><d>2017-08-05</d><h>07:45</h><w>cfleming</w>Right, but I think that the same algorithm that works better for me will also work better for you.</z><z id="t1501919180" t="cfleming I discussed it with [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] , and he seemed to like the idea. If it works well for the JS version it may become the official version, who knows."><y>#</y><d>2017-08-05</d><h>07:46</h><w>cfleming</w>I discussed it with <a>@shaunlebron</a>, and he seemed to like the idea. If it works well for the JS version it may become the official version, who knows.</z><z id="t1501919207" t="cfleming So I’m planning to try to modify the current v3 to use that approach, and then I’ll port that to Kotlin for the JVM version."><y>#</y><d>2017-08-05</d><h>07:46</h><w>cfleming</w>So I’m planning to try to modify the current v3 to use that approach, and then I’ll port that to Kotlin for the JVM version.</z><z id="t1501919220" t="cfleming And you can also base your port on the modified JS version."><y>#</y><d>2017-08-05</d><h>07:47</h><w>cfleming</w>And you can also base your port on the modified JS version.</z><z id="t1501919298" t="tianshu we provide our utilities, and parinfer algorithm call these utilities. the utilities can be something like insert text, delete text, etc?"><y>#</y><d>2017-08-05</d><h>07:48</h><w>tianshu</w>we provide our utilities, and parinfer algorithm call these utilities. 
the utilities can be something like insert text, delete text, etc?</z><z id="t1501919367" t="cfleming Well, what mine does is I call parinfer with the whole string (which in my version is actually a CharSequence, so IntelliJ doesn’t even have to create a string for the whole buffer). Parinfer then returns a list of changes to apply, which are like insert, delete, modify."><y>#</y><d>2017-08-05</d><h>07:49</h><w>cfleming</w>Well, what mine does is I call parinfer with the whole string (which in my version is actually a CharSequence, so IntelliJ doesn’t even have to create a string for the whole buffer). Parinfer then returns a list of changes to apply, which are like insert, delete, modify.</z><z id="t1501919373" t="cfleming Then I apply those to the editor."><y>#</y><d>2017-08-05</d><h>07:49</h><w>cfleming</w>Then I apply those to the editor.</z><z id="t1501919398" t="tianshu [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] Is that parinfer use one result everywhere, and I can make it a global context?"><y>#</y><d>2017-08-05</d><h>07:49</h><w>tianshu</w><a>@shaunlebron</a> Is that parinfer use one result everywhere, and I can make it a global context?</z><z id="t1502038746" t="shaunlebron yeah you can do that"><y>#</y><d>2017-08-06</d><h>16:59</h><r>shaunlebron</r>yeah you can do that</z><z id="t1501919432" t="tianshu [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] that means, you still have to deal with the whole buffer string?"><y>#</y><d>2017-08-05</d><h>07:50</h><w>tianshu</w><a>@cfleming</a> that means, you still have to deal with the whole buffer string?</z><z id="t1501921894" t="cfleming [:attrs {:href &quot;/_/_/users/U0NBGRGD6&quot;}] In my case no, because I can pass a CharSequence which I get from IntellliJ. That’s an interface which lets me ask for the next char, and IntelliJ internally handles the iteration over its data structures."><y>#</y><d>2017-08-05</d><h>08:31</h><w>cfleming</w><a>@doglooksgood</a> In my case no, because I can pass a CharSequence which I get from IntellliJ. That’s an interface which lets me ask for the next char, and IntelliJ internally handles the iteration over its data structures.</z><z id="t1501921907" t="cfleming I don’t know how you would achieve the same in Emacs, if it offers something like that."><y>#</y><d>2017-08-05</d><h>08:31</h><w>cfleming</w>I don’t know how you would achieve the same in Emacs, if it offers something like that.</z><z id="t1501921926" t="cfleming But assuming that it does, the algorithm uses that trivially."><y>#</y><d>2017-08-05</d><h>08:32</h><w>cfleming</w>But assuming that it does, the algorithm uses that trivially.</z><z id="t1501922021" t="tianshu Yes, that is possible in emacs too."><y>#</y><d>2017-08-05</d><h>08:33</h><w>tianshu</w>Yes, that is possible in emacs too.</z><z id="t1501922124" t="cfleming Ok, then assuming you’re porting the JS to elisp, you can use that and it will work fine. Then you’ll get a list of edits back and you just apply them to the buffer."><y>#</y><d>2017-08-05</d><h>08:35</h><w>cfleming</w>Ok, then assuming you’re porting the JS to elisp, you can use that and it will work fine. Then you’ll get a list of edits back and you just apply them to the buffer.</z><z id="t1501922319" t="tianshu so, you are write a new version in JS?"><y>#</y><d>2017-08-05</d><h>08:38</h><w>tianshu</w>so, you are write a new version in JS?</z><z id="t1501922921" t="cfleming I’m planning to try that this coming week."><y>#</y><d>2017-08-05</d><h>08:48</h><w>cfleming</w>I’m planning to try that this coming week.</z><z id="t1502043518" t="shaunlebron I think it makes sense to have this change"><y>#</y><d>2017-08-06</d><h>18:18</h><w>shaunlebron</w>I think it makes sense to have this change</z><z id="t1502043634" t="shaunlebron anyone have thoughts about just compiling a single implementation to different langs?"><y>#</y><d>2017-08-06</d><h>18:20</h><w>shaunlebron</w>anyone have thoughts about just compiling a single implementation to different langs?</z><z id="t1502055924" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] So I was thinking that having the reference impl in TypeScript would make translation to Kotlin trivial, including possibly automatic translation."><y>#</y><d>2017-08-06</d><h>21:45</h><w>cfleming</w><a>@shaunlebron</a> So I was thinking that having the reference impl in TypeScript would make translation to Kotlin trivial, including possibly automatic translation.</z><z id="t1502055956" t="cfleming But doing the same to e.g. elisp is probably trickier"><y>#</y><d>2017-08-06</d><h>21:45</h><w>cfleming</w>But doing the same to e.g. elisp is probably trickier</z><z id="t1502061766" t="cfleming TypeScript is nice in that the types are cleanly expressed (I believe, I don’t have a lot of experience with it) and it includes good tools for parsing/elaborating an AST"><y>#</y><d>2017-08-06</d><h>23:22</h><w>cfleming</w>TypeScript is nice in that the types are cleanly expressed (I believe, I don’t have a lot of experience with it) and it includes good tools for parsing/elaborating an AST</z><z id="t1502064966" t="rgdelato would it be possible for Parinfer to be a standalone executable that other editors can call out to? "><y>#</y><d>2017-08-07</d><h>00:16</h><w>rgdelato</w>would it be possible for Parinfer to be a standalone executable that other editors can call out to? </z><z id="t1502065962" t="cfleming [:attrs {:href &quot;/_/_/users/U47KWM4UV&quot;}] I don’t see why not - do you have a use case in mind?"><y>#</y><d>2017-08-07</d><h>00:32</h><w>cfleming</w><a>@rgdelato</a> I don’t see why not - do you have a use case in mind?</z><z id="t1502065981" t="cfleming I guess you’d pass it a file path to be processed, and it could return the edits as we discussed above?"><y>#</y><d>2017-08-07</d><h>00:33</h><w>cfleming</w>I guess you’d pass it a file path to be processed, and it could return the edits as we discussed above?</z><z id="t1502066077" t="rgdelato not particularly, just that it would mean that there wouldn&apos;t have to be ports of the code to different langs. write it once in something fast"><y>#</y><d>2017-08-07</d><h>00:34</h><w>rgdelato</w>not particularly, just that it would mean that there wouldn&apos;t have to be ports of the code to different langs. write it once in something fast</z><z id="t1502066205" t="cfleming Depending on the editor, it’s not always that easy to shell out to something."><y>#</y><d>2017-08-07</d><h>00:36</h><w>cfleming</w>Depending on the editor, it’s not always that easy to shell out to something.</z><z id="t1502066244" t="cfleming Or at least, to get a copy of the document efficiently. I guess you could always save + apply it, but that would mean that the user’s doc would be being saved continuously."><y>#</y><d>2017-08-07</d><h>00:37</h><w>cfleming</w>Or at least, to get a copy of the document efficiently. I guess you could always save + apply it, but that would mean that the user’s doc would be being saved continuously.</z><z id="t1502066257" t="rgdelato yeah, that was what I was worried about. okay."><y>#</y><d>2017-08-07</d><h>00:37</h><w>rgdelato</w>yeah, that was what I was worried about. okay.</z><z id="t1502066269" t="cfleming Unless you write out a temp file, and then it doesn’t matter how fast your algorithm is 🙂"><y>#</y><d>2017-08-07</d><h>00:37</h><w>cfleming</w>Unless you write out a temp file, and then it doesn’t matter how fast your algorithm is <b>🙂</b></z><z id="t1502066330" t="cfleming But I think having the reference impl in something that’s more amenable to either manual or automatic translation might be a good step worth investigating."><y>#</y><d>2017-08-07</d><h>00:38</h><w>cfleming</w>But I think having the reference impl in something that’s more amenable to either manual or automatic translation might be a good step worth investigating.</z><z id="t1502081513" t="cfleming So I have a draft of the change to process the whole file and apply edits. Most of the indent mode tests work now, I’m gradually working through the failures. Hopefully I’ll have something to show tomorrow."><y>#</y><d>2017-08-07</d><h>04:51</h><w>cfleming</w>So I have a draft of the change to process the whole file and apply edits. Most of the indent mode tests work now, I’m gradually working through the failures. Hopefully I’ll have something to show tomorrow.</z><z id="t1502081546" t="cfleming If I get stuck debugging any of the problems I’ll push a WIP."><y>#</y><d>2017-08-07</d><h>04:52</h><w>cfleming</w>If I get stuck debugging any of the problems I’ll push a WIP.</z><z id="t1502081584" t="shaunlebron thanks!"><y>#</y><d>2017-08-07</d><h>04:53</h><w>shaunlebron</w>thanks!</z><z id="t1502081591" t="shaunlebron for parinfer.js?"><y>#</y><d>2017-08-07</d><h>04:53</h><w>shaunlebron</w>for parinfer.js?</z><z id="t1502081594" t="cfleming Right."><y>#</y><d>2017-08-07</d><h>04:53</h><w>cfleming</w>Right.</z><z id="t1502081608" t="shaunlebron can’t wait to see it"><y>#</y><d>2017-08-07</d><h>04:53</h><w>shaunlebron</w>can’t wait to see it</z><z id="t1502081631" t="cfleming Actually I can push a WIP now if you’re keen - give me 5 mins or so."><y>#</y><d>2017-08-07</d><h>04:53</h><w>cfleming</w>Actually I can push a WIP now if you’re keen - give me 5 mins or so.</z><z id="t1502081658" t="shaunlebron 👍"><y>#</y><d>2017-08-07</d><h>04:54</h><w>shaunlebron</w><b>👍</b></z><z id="t1502081692" t="shaunlebron this would help parinfer reach notepad++ as well"><y>#</y><d>2017-08-07</d><h>04:54</h><w>shaunlebron</w>this would help parinfer reach notepad++ as well</z><z id="t1502081706" t="shaunlebron chris called it the most popular editor in the world"><y>#</y><d>2017-08-07</d><h>04:55</h><w>shaunlebron</w>chris called it the most popular editor in the world</z><z id="t1502081721" t="cfleming According to StackOverflow it is, yeah"><y>#</y><d>2017-08-07</d><h>04:55</h><w>cfleming</w>According to StackOverflow it is, yeah</z><z id="t1502082376" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] https://github.com/cursive-ide/parinfer/commit/2a50b2ee3fd26465853f6a0448ced95095c975f4"><y>#</y><d>2017-08-07</d><h>05:06</h><w>cfleming</w><a>@shaunlebron</a> <a href="https://github.com/cursive-ide/parinfer/commit/2a50b2ee3fd26465853f6a0448ced95095c975f4" target="_blank">https://github.com/cursive-ide/parinfer/commit/2a50b2ee3fd26465853f6a0448ced95095c975f4</a></z><z id="t1502082418" t="cfleming There’s still a fair amount of tidying up to do, including things like handling \r\n correctly and probably revising some of the names (origText -&gt; text etc)"><y>#</y><d>2017-08-07</d><h>05:06</h><w>cfleming</w>There’s still a fair amount of tidying up to do, including things like handling <code>\r\n</code> correctly and probably revising some of the names (origText -&gt; text etc)</z><z id="t1502082454" t="cfleming Most of the indent mode tests pass now, I haven’t looked at the paren or smart mode ones yet but a reasonable number of them pass too."><y>#</y><d>2017-08-07</d><h>05:07</h><w>cfleming</w>Most of the indent mode tests pass now, I haven’t looked at the paren or smart mode ones yet but a reasonable number of them pass too.</z><z id="t1502082479" t="cfleming So hopefully the approach is basically sound and there are probably just some bugs lurking there."><y>#</y><d>2017-08-07</d><h>05:07</h><w>cfleming</w>So hopefully the approach is basically sound and there are probably just some bugs lurking there.</z><z id="t1502082515" t="cfleming I have to head out now, but if you have questions let me know and I’ll try to get to them later this evening."><y>#</y><d>2017-08-07</d><h>05:08</h><w>cfleming</w>I have to head out now, but if you have questions let me know and I’ll try to get to them later this evening.</z><z id="t1502082655" t="cfleming I’m also planning to revise the edit accumulation and application to the result text, I’m not sure that catches all cases when e.g. edits overlap."><y>#</y><d>2017-08-07</d><h>05:10</h><w>cfleming</w>I’m also planning to revise the edit accumulation and application to the result text, I’m not sure that catches all cases when e.g. edits overlap.</z><z id="t1502082679" t="cfleming Ok, GTG"><y>#</y><d>2017-08-07</d><h>05:11</h><w>cfleming</w>Ok, GTG</z><z id="t1502084416" t="shaunlebron thanks! did a quick lookover—not a lot of changes!"><y>#</y><d>2017-08-07</d><h>05:40</h><w>shaunlebron</w>thanks!  did a quick lookover—not a lot of changes!</z><z id="t1502084430" t="cfleming No, it’s relatively small."><y>#</y><d>2017-08-07</d><h>05:40</h><w>cfleming</w>No, it’s relatively small.</z><z id="t1502084462" t="cfleming In my initial version I tried to use offset in more places rather than lineStart/x combos, but that made the change larger than it needed to be."><y>#</y><d>2017-08-07</d><h>05:41</h><w>cfleming</w>In my initial version I tried to use offset in more places rather than lineStart/x combos, but that made the change larger than it needed to be.</z><z id="t1502084476" t="cfleming If this becomes the definitive version that might be something to consider."><y>#</y><d>2017-08-07</d><h>05:41</h><w>cfleming</w>If this becomes the definitive version that might be something to consider.</z><z id="t1502084504" t="cfleming I’m hopeful that the remaining bugs are relatively straightforward."><y>#</y><d>2017-08-07</d><h>05:41</h><w>cfleming</w>I’m hopeful that the remaining bugs are relatively straightforward.</z><z id="t1502084640" t="cfleming Seems likely, given that a large chunk of the tests pass."><y>#</y><d>2017-08-07</d><h>05:44</h><w>cfleming</w>Seems likely, given that a large chunk of the tests pass.</z><z id="t1502084674" t="shaunlebron i’ll give it a more thorough look in the morning. i can probably fix the rest quickly. i’m pretty convinced this is the right move btw"><y>#</y><d>2017-08-07</d><h>05:44</h><w>shaunlebron</w>i’ll give it a more thorough look in the morning.  i can probably fix the rest quickly.  i’m pretty convinced this is the right move btw</z><z id="t1502084727" t="shaunlebron thanks for keeping the diff small, very helpful"><y>#</y><d>2017-08-07</d><h>05:45</h><w>shaunlebron</w>thanks for keeping the diff small, very helpful</z><z id="t1502084753" t="cfleming There are probably some edge cases to consider around the processing at EOF if the file doesn’t end in \n too - some of the processing that was at the end of processLine is now in onNewline and also in finalizeResult . If those calls are not idempotent there might need to be some more state there to track that."><y>#</y><d>2017-08-07</d><h>05:45</h><w>cfleming</w>There are probably some edge cases to consider around the processing at EOF if the file doesn’t end in <code>\n</code> too - some of the processing that was at the end of <code>processLine</code> is now in <code>onNewline</code> and also in <code>finalizeResult</code>. If those calls are not idempotent there might need to be some more state there to track that.</z><z id="t1502084824" t="shaunlebron i saw some of the calls shifted around for that—did it help this?"><y>#</y><d>2017-08-07</d><h>05:47</h><w>shaunlebron</w>i saw some of the calls shifted around for that—did it help this?</z><z id="t1502084884" t="cfleming Did it help what, sorry?"><y>#</y><d>2017-08-07</d><h>05:48</h><w>cfleming</w>Did it help what, sorry?</z><z id="t1502085163" t="shaunlebron oh I mean was it important to this edits feature to move it around?"><y>#</y><d>2017-08-07</d><h>05:52</h><w>shaunlebron</w>oh I mean was it important to this edits feature to move it around?</z><z id="t1502085229" t="shaunlebron gonna get some sleep and try in the morning"><y>#</y><d>2017-08-07</d><h>05:53</h><w>shaunlebron</w>gonna get some sleep and try in the morning</z><z id="t1502085718" t="cfleming Cool, GTG too, talk tomorrow"><y>#</y><d>2017-08-07</d><h>06:01</h><w>cfleming</w>Cool, GTG too, talk tomorrow</z><z id="t1502133653" t="shaunlebron streaming my work on it now"><y>#</y><d>2017-08-07</d><h>19:20</h><w>shaunlebron</w>streaming my work on it now</z><z id="t1502133741" t="shaunlebron current issue is that the edit from correctParenTrail seems to be interfering with previous edits that remove unmatched close-parens on the spot"><y>#</y><d>2017-08-07</d><h>19:22</h><w>shaunlebron</w>current issue is that the edit from correctParenTrail seems to be interfering with previous edits that remove unmatched close-parens on the spot</z><z id="t1502134078" t="cfleming Ok, can’t really get on now (looking after my daughter) but the issue might be in how the edits are applied in resultText"><y>#</y><d>2017-08-07</d><h>19:27</h><w>cfleming</w>Ok, can’t really get on now (looking after my daughter) but the issue might be in how the edits are applied in <code>resultText</code></z><z id="t1502134110" t="shaunlebron np, streams are recorded if you wanna look back"><y>#</y><d>2017-08-07</d><h>19:28</h><w>shaunlebron</w>np, streams are recorded if you wanna look back</z><z id="t1502134113" t="shaunlebron just helps me focus too"><y>#</y><d>2017-08-07</d><h>19:28</h><w>shaunlebron</w>just helps me focus too</z><z id="t1502134136" t="cfleming Ok, will be around in an hour or two"><y>#</y><d>2017-08-07</d><h>19:28</h><w>cfleming</w>Ok, will be around in an hour or two</z><z id="t1502134142" t="shaunlebron 👍"><y>#</y><d>2017-08-07</d><h>19:29</h><w>shaunlebron</w><b>👍</b></z><z id="t1502136663" t="shaunlebron having trouble picking a starting point"><y>#</y><d>2017-08-07</d><h>20:11</h><w>shaunlebron</w>having trouble picking a starting point</z><z id="t1502136685" t="shaunlebron i fixed one test and broke all the others"><y>#</y><d>2017-08-07</d><h>20:11</h><w>shaunlebron</w>i fixed one test and broke all the others</z><z id="t1502136747" t="shaunlebron going to try to keep the same processLine logic to be sure that stuff is happening in the right order"><y>#</y><d>2017-08-07</d><h>20:12</h><w>shaunlebron</w>going to try to keep the same processLine logic to be sure that stuff is happening in the right order</z><z id="t1502137442" t="shaunlebron wanna try replacing inputLines iteration with origText iteration first"><y>#</y><d>2017-08-07</d><h>20:24</h><w>shaunlebron</w>wanna try replacing inputLines iteration with origText iteration first</z><z id="t1502137516" t="shaunlebron then changing replaceWithinLine to append an edit, then building result text"><y>#</y><d>2017-08-07</d><h>20:25</h><w>shaunlebron</w>then changing replaceWithinLine to append an edit, then building result text</z><z id="t1502137582" t="shaunlebron will help me isolate what went wrong"><y>#</y><d>2017-08-07</d><h>20:26</h><w>shaunlebron</w>will help me isolate what went wrong</z><z id="t1502143797" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] Sorry, that took longer than expected - had to take the cat to the vet"><y>#</y><d>2017-08-07</d><h>22:09</h><w>cfleming</w><a>@shaunlebron</a> Sorry, that took longer than expected - had to take the cat to the vet</z><z id="t1502143812" t="cfleming I’ll pull in your changes and then take a look."><y>#</y><d>2017-08-07</d><h>22:10</h><w>cfleming</w>I’ll pull in your changes and then take a look.</z><z id="t1502143932" t="shaunlebron np"><y>#</y><d>2017-08-07</d><h>22:12</h><w>shaunlebron</w>np</z><z id="t1502143964" t="shaunlebron changes are not ready. was starting over later to things more incrementally"><y>#</y><d>2017-08-07</d><h>22:12</h><w>shaunlebron</w>changes are not ready. was starting over later to things more incrementally</z><z id="t1502144218" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] Have you ever tried floobits?"><y>#</y><d>2017-08-07</d><h>22:16</h><w>cfleming</w><a>@shaunlebron</a> Have you ever tried floobits?</z><z id="t1502144240" t="cfleming We could give that a go if you have some more time to look at it later."><y>#</y><d>2017-08-07</d><h>22:17</h><w>cfleming</w>We could give that a go if you have some more time to look at it later.</z><z id="t1502144397" t="shaunlebron i tried installing it for atom and it never initialized correctly"><y>#</y><d>2017-08-07</d><h>22:19</h><w>shaunlebron</w>i tried installing it for atom and it never initialized correctly</z><z id="t1502144412" t="shaunlebron i can try it for another editor"><y>#</y><d>2017-08-07</d><h>22:20</h><w>shaunlebron</w>i can try it for another editor</z><z id="t1502144571" t="cfleming I’ll sign up for a free plan and install it for IntelliJ"><y>#</y><d>2017-08-07</d><h>22:22</h><w>cfleming</w>I’ll sign up for a free plan and install it for IntelliJ</z><z id="t1502144638" t="cfleming Looks like they have neovim"><y>#</y><d>2017-08-07</d><h>22:23</h><w>cfleming</w>Looks like they have neovim</z><z id="t1502147807" t="shaunlebron is anyone available for testing atom-parinfer on master?"><y>#</y><d>2017-08-07</d><h>23:16</h><w>shaunlebron</w>is anyone available for testing atom-parinfer on master?</z><z id="t1502147830" t="shaunlebron the options screen isn’t showing up for chris, and I’d like to see if it’s working for others"><y>#</y><d>2017-08-07</d><h>23:17</h><w>shaunlebron</w>the options screen isn’t showing up for chris, and I’d like to see if it’s working for others</z><z id="t1502148436" t="rgdelato I pulled master, restarted Atom, and I&apos;m seeing the settings screen"><y>#</y><d>2017-08-07</d><h>23:27</h><w>rgdelato</w>I pulled master, restarted Atom, and I&apos;m seeing the settings screen</z><z id="t1502148446" t="shaunlebron thanks!"><y>#</y><d>2017-08-07</d><h>23:27</h><w>shaunlebron</w>thanks!</z><z id="t1502148449" t="shaunlebron what version are you on?"><y>#</y><d>2017-08-07</d><h>23:27</h><w>shaunlebron</w>what version are you on?</z><z id="t1502148481" t="rgdelato 1.18.0 x64 on OSX and Atom claims it&apos;s up to date"><y>#</y><d>2017-08-07</d><h>23:28</h><w>rgdelato</w>1.18.0 x64 on OSX and Atom claims it&apos;s up to date</z><z id="t1502148497" t="shaunlebron chris couldn’t get it to show up on 1.17.2"><y>#</y><d>2017-08-07</d><h>23:28</h><w>shaunlebron</w>chris couldn’t get it to show up on 1.17.2</z><z id="t1502148507" t="chrisoakman Or 1.17.0"><y>#</y><d>2017-08-07</d><h>23:28</h><w>chrisoakman</w>Or 1.17.0</z><z id="t1502148510" t="shaunlebron and the config API between them seem the same"><y>#</y><d>2017-08-07</d><h>23:28</h><w>shaunlebron</w>and the config API between them seem the same</z><z id="t1502148520" t="shaunlebron i wonder if people are upgrading their editors"><y>#</y><d>2017-08-07</d><h>23:28</h><w>shaunlebron</w>i wonder if people are upgrading their editors</z><z id="t1502148665" t="rgdelato so Chris is just seeing &quot;Uninstall&quot; and &quot;Disable&quot; buttons and no &quot;Settings&quot; button?"><y>#</y><d>2017-08-07</d><h>23:31</h><w>rgdelato</w>so Chris is just seeing &quot;Uninstall&quot; and &quot;Disable&quot; buttons and no &quot;Settings&quot; button?</z><z id="t1502148701" t="shaunlebron i installed 1.17.2 from github releases, and deleted 1.18.0"><y>#</y><d>2017-08-07</d><h>23:31</h><w>shaunlebron</w>i installed 1.17.2 from github releases, and deleted 1.18.0</z><z id="t1502148710" t="shaunlebron [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] can you send us a screenshot?"><y>#</y><d>2017-08-07</d><h>23:31</h><w>shaunlebron</w><a>@chrisoakman</a> can you send us a screenshot?</z><z id="t1502148908" t="shaunlebron why is that showing the parinfer readme instead of the atom-parinfer readme"><y>#</y><d>2017-08-07</d><h>23:35</h><w>shaunlebron</w>why is that showing the parinfer readme instead of the atom-parinfer readme</z><z id="t1502148931" t="shaunlebron you are symlinking the package to the wrong directory"><y>#</y><d>2017-08-07</d><h>23:35</h><w>shaunlebron</w>you are symlinking the package to the wrong directory</z><z id="t1502148976" t="rgdelato I was about to say, that Readme looks totally different from mine as well"><y>#</y><d>2017-08-07</d><h>23:36</h><w>rgdelato</w>I was about to say, that Readme looks totally different from mine as well</z><z id="t1502149214" t="chrisoakman I fixed whatever was going on with that. I still have no settings."><y>#</y><d>2017-08-07</d><h>23:40</h><w>chrisoakman</w>I fixed whatever was going on with that. I still have no settings.</z><z id="t1502149229" t="chrisoakman Do you see settings with v1.17.2?"><y>#</y><d>2017-08-07</d><h>23:40</h><w>chrisoakman</w>Do you see settings with v1.17.2?</z><z id="t1502149248" t="shaunlebron the screenshot shows the version page above it"><y>#</y><d>2017-08-07</d><h>23:40</h><w>shaunlebron</w>the screenshot shows the version page above it</z><z id="t1502149282" t="shaunlebron [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] make sure Parinfer is capitalized"><y>#</y><d>2017-08-07</d><h>23:41</h><w>shaunlebron</w><a>@chrisoakman</a> make sure <code>Parinfer</code> is capitalized</z><z id="t1502149325" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] Got a question when you have a minute"><y>#</y><d>2017-08-07</d><h>23:42</h><w>cfleming</w><a>@shaunlebron</a> Got a question when you have a minute</z><z id="t1502149504" t="shaunlebron actually should it be capitalized?"><y>#</y><d>2017-08-07</d><h>23:45</h><w>shaunlebron</w>actually should it be capitalized?</z><z id="t1502149583" t="shaunlebron config-key should namespace the config keys to the case of the package I’m guessing"><y>#</y><d>2017-08-07</d><h>23:46</h><w>shaunlebron</w><code>config-key</code> should namespace the config keys to the case of the package I’m guessing</z><z id="t1502149678" t="shaunlebron looks like it should be lowercased https://atom.io/packages/parinfer , not sure why I had it capitalized?"><y>#</y><d>2017-08-07</d><h>23:47</h><w>shaunlebron</w>looks like it should be lowercased <a href="https://atom.io/packages/parinfer" target="_blank">https://atom.io/packages/parinfer</a>, not sure why I had it capitalized?</z><z id="t1502149686" t="rgdelato in general, it&apos;s kinda weird that it&apos;s capitalized since it puts Parinfer before all my other packages in alphabetical order"><y>#</y><d>2017-08-07</d><h>23:48</h><w>rgdelato</w>in general, it&apos;s kinda weird that it&apos;s capitalized since it puts Parinfer before all my other packages in alphabetical order</z><z id="t1502149851" t="shaunlebron i’m not sure why i ever capitalized it. the readme instructions even give wrong instructions? shouldn’t it be ln -s &lt;atom-parinfer dir&gt; ~/.atom/packages/parinfer ?"><y>#</y><d>2017-08-07</d><h>23:50</h><w>shaunlebron</w>i’m not sure why i ever capitalized it.  the readme instructions even give wrong instructions?  shouldn’t it be <code>ln -s &lt;atom-parinfer dir&gt; ~/.atom/packages/parinfer</code>?</z><z id="t1502149880" t="rgdelato I run apm link from inside the atom-parinfer directory"><y>#</y><d>2017-08-07</d><h>23:51</h><w>rgdelato</w>I run <code>apm link</code> from inside the <code>atom-parinfer</code> directory</z><z id="t1502149998" t="shaunlebron that explains the capitalization, the package.json name is “Parinfer”"><y>#</y><d>2017-08-07</d><h>23:53</h><w>shaunlebron</w>that explains the capitalization, the package.json name is “Parinfer”</z><z id="t1502150033" t="shaunlebron submitting a PR"><y>#</y><d>2017-08-07</d><h>23:53</h><w>shaunlebron</w>submitting a PR</z><z id="t1502150085" t="chrisoakman I already fixed it."><y>#</y><d>2017-08-07</d><h>23:54</h><w>chrisoakman</w>I already fixed it.</z><z id="t1502150123" t="shaunlebron you renamed the package?"><y>#</y><d>2017-08-07</d><h>23:55</h><w>shaunlebron</w>you renamed the package?</z><z id="t1502150178" t="shaunlebron https://discuss.atom.io/t/renaming-a-package/5816/3"><y>#</y><d>2017-08-07</d><h>23:56</h><w>shaunlebron</w><a href="https://discuss.atom.io/t/renaming-a-package/5816/3" target="_blank">https://discuss.atom.io/t/renaming-a-package/5816/3</a></z><z id="t1502150508" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] what’s up? 🙂"><y>#</y><d>2017-08-08</d><h>00:01</h><w>shaunlebron</w><a>@cfleming</a> what’s up? <b>🙂</b></z><z id="t1502150529" t="cfleming So I’m debugging this case here: (foo}}}}|)"><y>#</y><d>2017-08-08</d><h>00:02</h><w>cfleming</w>So I’m debugging this case here: <code>(foo}}}}|)</code></z><z id="t1502150572" t="cfleming Here’s what’s going on: the paren trail is correctly initialised to 4-9, which covers all the closing parens, including mismatched."><y>#</y><d>2017-08-08</d><h>00:02</h><w>cfleming</w>Here’s what’s going on: the paren trail is correctly initialised to 4-9, which covers all the closing parens, including mismatched.</z><z id="t1502150587" t="shaunlebron i was looking at that very case"><y>#</y><d>2017-08-08</d><h>00:03</h><w>shaunlebron</w>i was looking at that very case</z><z id="t1502150610" t="shaunlebron it was strangely fixed by removing === NEWLINE from isWhitespace"><y>#</y><d>2017-08-08</d><h>00:03</h><w>shaunlebron</w>it was strangely fixed by removing <code>=== NEWLINE</code> from isWhitespace</z><z id="t1502150664" t="cfleming But clampParenTrailToCursor seems to be doing the wrong thing. It clamps the paren trail to 8-9, which is right, but then it scans over 4-8 and removes 4 items from parenTrail.openers, even though those are unmatched."><y>#</y><d>2017-08-08</d><h>00:04</h><w>cfleming</w>But <code>clampParenTrailToCursor</code> seems to be doing the wrong thing. It clamps the paren trail to 8-9, which is right, but then it scans over 4-8 and removes 4 items from parenTrail.openers, even though those are unmatched.</z><z id="t1502150701" t="cfleming There’s only one item in openers, since there’s only one open paren, so what happens is the output is (foo| instead of (foo|)"><y>#</y><d>2017-08-08</d><h>00:05</h><w>cfleming</w>There’s only one item in openers, since there’s only one open paren, so what happens is the output is <code>(foo|</code> instead of <code>(foo|)</code></z><z id="t1502150733" t="cfleming Hmm, I had to add NEWLINE to isWhitespace, but I can’t remember why now."><y>#</y><d>2017-08-08</d><h>00:05</h><w>cfleming</w>Hmm, I had to add NEWLINE to isWhitespace, but I can’t remember why now.</z><z id="t1502150810" t="cfleming I bet I know what’s happening - I couldn’t figure out how this ever used to work."><y>#</y><d>2017-08-08</d><h>00:06</h><w>cfleming</w>I bet I know what’s happening - I couldn’t figure out how this ever used to work.</z><z id="t1502150830" t="cfleming Previously, onUnmatchedCloseParen would have just deleted the close paren."><y>#</y><d>2017-08-08</d><h>00:07</h><w>cfleming</w>Previously, onUnmatchedCloseParen would have just deleted the close paren.</z><z id="t1502150868" t="cfleming So clampParenTrailToCursor would have received a paren trail of 4-5, clamped it to 4-5 and not removed anything."><y>#</y><d>2017-08-08</d><h>00:07</h><w>cfleming</w>So <code>clampParenTrailToCursor</code> would have received a paren trail of 4-5, clamped it to 4-5 and not removed anything.</z><z id="t1502150870" t="cfleming Hmm"><y>#</y><d>2017-08-08</d><h>00:07</h><w>cfleming</w>Hmm</z><z id="t1502150998" t="cfleming I’m not sure how to handle that - if the unmatched parens aren’t deleted immediately, I’m not sure how to track which are matched and which are not."><y>#</y><d>2017-08-08</d><h>00:09</h><w>cfleming</w>I’m not sure how to handle that - if the unmatched parens aren’t deleted immediately, I’m not sure how to track which are matched and which are not.</z><z id="t1502151107" t="cfleming I don’t think the paren trail start can be moved, since matched and unmatched might be mixed: ((foo)})"><y>#</y><d>2017-08-08</d><h>00:11</h><w>cfleming</w>I don’t think the paren trail start can be moved, since matched and unmatched might be mixed: <code>((foo)})</code></z><z id="t1502151168" t="cfleming I think that when cPTTC sees a close paren, it should only remove one from openers if they match."><y>#</y><d>2017-08-08</d><h>00:12</h><w>cfleming</w>I think that when cPTTC sees a close paren, it should only remove one from openers if they match.</z><z id="t1502151230" t="cfleming i.e. we should be able to use the openers stack to tell if the closing parens are matched or not."><y>#</y><d>2017-08-08</d><h>00:13</h><w>cfleming</w>i.e. we should be able to use the openers stack to tell if the closing parens are matched or not.</z><z id="t1502151577" t="cfleming That seems to work:"><y>#</y><d>2017-08-08</d><h>00:19</h><w>cfleming</w>That seems to work:</z><z id="t1502151580" t="cfleming for (i = result.lineStart + startX; i &lt; result.lineStart + newStartX; i++) { var ch = text[i]; if (isCloseParen(ch) &amp;&amp; MATCH_PAREN[peek(openers, removeCount).ch] === ch) { removeCount++; } } "><y>#</y><d>2017-08-08</d><h>00:19</h><w>cfleming</w><pre>for (i = result.lineStart + startX; i &lt; result.lineStart + newStartX; i++) {
      var ch = text[i];
      if (isCloseParen(ch) &amp;&amp; MATCH_PAREN[peek(openers, removeCount).ch] === ch) {
        removeCount++;
      }
    }
</pre></z><z id="t1502151695" t="cfleming Unfortunately it broke some other clamping cases:"><y>#</y><d>2017-08-08</d><h>00:21</h><w>cfleming</w>Unfortunately it broke some other clamping cases:</z><z id="t1502151701" t="cfleming (def b [[c d] |])"><y>#</y><d>2017-08-08</d><h>00:21</h><w>cfleming</w><code>(def b [[c d] |])</code></z><z id="t1502151734" t="cfleming (let [a 1]|) ret) "><y>#</y><d>2017-08-08</d><h>00:22</h><w>cfleming</w><pre>(let [a 1]|)
  ret)
</pre></z><z id="t1502151757" t="cfleming I guess that’s not sufficient to know if the paren is actually unmatched or not."><y>#</y><d>2017-08-08</d><h>00:22</h><w>cfleming</w>I guess that’s not sufficient to know if the paren is actually unmatched or not.</z><z id="t1502151831" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] Any ideas?"><y>#</y><d>2017-08-08</d><h>00:23</h><w>cfleming</w><a>@shaunlebron</a> Any ideas?</z><z id="t1502151999" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : sorry i’m not able to think this far into the weeds on this issue right now"><y>#</y><d>2017-08-08</d><h>00:26</h><w>shaunlebron</w><a>@cfleming</a>: sorry i’m not able to think this far into the weeds on this issue right now</z><z id="t1502152012" t="cfleming Ok np"><y>#</y><d>2017-08-08</d><h>00:26</h><w>cfleming</w>Ok np</z><z id="t1502158824" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] I’ve pushed some changes, all indent mode tests now work except for that clamping one above."><y>#</y><d>2017-08-08</d><h>02:20</h><w>cfleming</w><a>@shaunlebron</a> I’ve pushed some changes, all indent mode tests now work except for that clamping one above.</z><z id="t1502158842" t="cfleming I’m going to start on paren &amp; smart mode now."><y>#</y><d>2017-08-08</d><h>02:20</h><w>cfleming</w>I’m going to start on paren &amp; smart mode now.</z><z id="t1502166188" t="chrisoakman atom-pariner v1.19.0 is available!"><y>#</y><d>2017-08-08</d><h>04:23</h><w>chrisoakman</w>atom-pariner v1.19.0 is available!</z><z id="t1502166213" t="chrisoakman Thanks Shaun for doing most of the hard work 😉"><y>#</y><d>2017-08-08</d><h>04:23</h><w>chrisoakman</w>Thanks Shaun for doing most of the hard work <b>😉</b></z><z id="t1502166247" t="chrisoakman smartMode is available via Settings. Off by default."><y>#</y><d>2017-08-08</d><h>04:24</h><w>chrisoakman</w>smartMode is available via Settings. Off by default.</z><z id="t1502166350" t="mattly I just downloaded it, gonna check it out now"><y>#</y><d>2017-08-08</d><h>04:25</h><w>mattly</w>I just downloaded it, gonna check it out now</z><z id="t1502166418" t="mattly oh, is the file-extensions config setting new?"><y>#</y><d>2017-08-08</d><h>04:26</h><w>mattly</w>oh, is the file-extensions config setting new?</z><z id="t1502166525" t="chrisoakman It used to be in a file in your home directory. Moved to Atom Settings in this version."><y>#</y><d>2017-08-08</d><h>04:28</h><w>chrisoakman</w>It used to be in a file in your home directory. Moved to Atom Settings in this version.</z><z id="t1502167617" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] Ok, pushed some more fixes. There’s now the one failing case in indent mode, and 3 in paren mode. I haven’t looked at smart mode yet."><y>#</y><d>2017-08-08</d><h>04:46</h><w>cfleming</w><a>@shaunlebron</a> Ok, pushed some more fixes. There’s now the one failing case in indent mode, and 3 in paren mode. I haven’t looked at smart mode yet.</z><z id="t1502167728" t="cfleming Feels like it’s getting close though."><y>#</y><d>2017-08-08</d><h>04:48</h><w>cfleming</w>Feels like it’s getting close though.</z><z id="t1502168653" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : thanks! sorry I couldn’t look today, will try again tomorrow"><y>#</y><d>2017-08-08</d><h>05:04</h><w>shaunlebron</w><a>@cfleming</a>: thanks!  sorry I couldn’t look today, will try again tomorrow</z><z id="t1502171677" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] No problem, if not I’m hopeful I can finish it up."><y>#</y><d>2017-08-08</d><h>05:54</h><w>cfleming</w><a>@shaunlebron</a> No problem, if not I’m hopeful I can finish it up.</z><z id="t1502172293" t="tianshu It&apos;s likely there&apos;s a bug if I insert a pair of parens, then delete the open paren."><y>#</y><d>2017-08-08</d><h>06:04</h><w>tianshu</w>It&apos;s likely there&apos;s a bug if I insert a pair of parens, then delete the open paren.</z><z id="t1502212135" t="rgdelato Upgraded my Parinfer Atom plugin on another machine, the switch from &quot;Parinfer&quot; to &quot;parinfer&quot; went completely smoothly, great job! 😄"><y>#</y><d>2017-08-08</d><h>17:08</h><w>rgdelato</w>Upgraded my Parinfer Atom plugin on another machine, the switch from &quot;Parinfer&quot; to &quot;parinfer&quot; went completely smoothly, great job! <b>😄</b></z><z id="t1502215144" t="mattly btw, atom 1.19 gives a deprecation error on parinfer 1.19"><y>#</y><d>2017-08-08</d><h>17:59</h><w>mattly</w>btw, atom 1.19 gives a deprecation error on parinfer 1.19</z><z id="t1502215163" t="mattly I&apos;ll report the issue"><y>#</y><d>2017-08-08</d><h>17:59</h><w>mattly</w>I&apos;ll report the issue</z><z id="t1502222713" t="shaunlebron damn, atom gets an upgrade the day after we finally release this beta https://blog.atom.io/2017/08/08/atom-1-19.html"><y>#</y><d>2017-08-08</d><h>20:05</h><w>shaunlebron</w>damn, atom gets an upgrade the day after we finally release this beta <a href="https://blog.atom.io/2017/08/08/atom-1-19.html" target="_blank">https://blog.atom.io/2017/08/08/atom-1-19.html</a></z><z id="t1502222723" t="shaunlebron i’ll try to look over it today"><y>#</y><d>2017-08-08</d><h>20:05</h><w>shaunlebron</w>i’ll try to look over it today</z><z id="t1502223393" t="shaunlebron anyone know how to restore a package’s default hotkeys in atom?"><y>#</y><d>2017-08-08</d><h>20:16</h><w>shaunlebron</w>anyone know how to restore a package’s default hotkeys in atom?</z><z id="t1502223450" t="shaunlebron I lost all my parinfer hotkeys when I clicked on a weird hotkey checkbox menu in parinfer settings"><y>#</y><d>2017-08-08</d><h>20:17</h><w>shaunlebron</w>I lost all my parinfer hotkeys when I clicked on a weird hotkey checkbox menu in parinfer settings</z><z id="t1502223474" t="mattly you should be able to click it again to bring it back"><y>#</y><d>2017-08-08</d><h>20:17</h><w>mattly</w>you should be able to click it again to bring it back</z><z id="t1502223475" t="shaunlebron i have only seen it appear there once, and I haven’t seen it since"><y>#</y><d>2017-08-08</d><h>20:17</h><w>shaunlebron</w>i have only seen it appear there once, and I haven’t seen it since</z><z id="t1502223499" t="mattly there&apos;s a listing in settings.cson, 1m"><y>#</y><d>2017-08-08</d><h>20:18</h><w>mattly</w>there&apos;s a listing in settings.cson, 1m</z><z id="t1502223539" t="mattly in settings.cson find packagesWithKeymapsDisabled"><y>#</y><d>2017-08-08</d><h>20:18</h><w>mattly</w>in settings.cson find <code>packagesWithKeymapsDisabled</code></z><z id="t1502223573" t="shaunlebron where is the settings.cson file?"><y>#</y><d>2017-08-08</d><h>20:19</h><w>shaunlebron</w>where is the settings.cson file?</z><z id="t1502223592" t="mattly er, sorry , config.cson"><y>#</y><d>2017-08-08</d><h>20:19</h><w>mattly</w>er, sorry , config.cson</z><z id="t1502223593" t="mattly in .atom"><y>#</y><d>2017-08-08</d><h>20:19</h><w>mattly</w>in .atom</z><z id="t1502223602" t="mattly you can choose &quot;Open Config&quot; from the Atom menu"><y>#</y><d>2017-08-08</d><h>20:20</h><w>mattly</w>you can choose &quot;Open Config&quot; from the Atom menu</z><z id="t1502223658" t="mattly or bring up the command palette (Cmd-Shift-P on mac) and look for &quot;Application: Open Your Config&quot;"><y>#</y><d>2017-08-08</d><h>20:20</h><w>mattly</w>or bring up the command palette (Cmd-Shift-P on mac) and look for &quot;Application: Open Your Config&quot;</z><z id="t1502223658" t="shaunlebron interesting, thanks!"><y>#</y><d>2017-08-08</d><h>20:20</h><w>shaunlebron</w>interesting, thanks!</z><z id="t1502223690" t="shaunlebron i still don’t see the hotkey section in parinfer settings, but my hotkeys are back"><y>#</y><d>2017-08-08</d><h>20:21</h><w>shaunlebron</w>i still don’t see the hotkey section in parinfer settings, but my hotkeys are back</z><z id="t1502223753" t="shaunlebron nope, there it is again"><y>#</y><d>2017-08-08</d><h>20:22</h><w>shaunlebron</w>nope, there it is again</z><z id="t1502223771" t="shaunlebron it comes and goes when it wants apparently"><y>#</y><d>2017-08-08</d><h>20:22</h><w>shaunlebron</w>it comes and goes when it wants apparently</z><z id="t1502223798" t="shaunlebron actually, i think it reappeared after I updated to 1.19.2"><y>#</y><d>2017-08-08</d><h>20:23</h><w>shaunlebron</w>actually, i think it reappeared after I updated to 1.19.2</z><z id="t1502223804" t="mattly I really like working with the new parinfer btw, thanks!"><y>#</y><d>2017-08-08</d><h>20:23</h><w>mattly</w>I really like working with the new parinfer btw, thanks!</z><z id="t1502223827" t="mattly I haven&apos;t been using Atom for long, but I&apos;ve noticed some oddities with it around updating stuff"><y>#</y><d>2017-08-08</d><h>20:23</h><w>mattly</w>I haven&apos;t been using Atom for long, but I&apos;ve noticed some oddities with it around updating stuff</z></g><g id="s17"><z id="t1502223837" t="mattly it&apos;s not reloadable the way Emacs is"><y>#</y><d>2017-08-08</d><h>20:23</h><w>mattly</w>it&apos;s not reloadable the way Emacs is</z><z id="t1502223946" t="mattly typically if I make major changes to my init file or change which packages are installed I&apos;ll just restart Atom, it seems to be more stable that way"><y>#</y><d>2017-08-08</d><h>20:25</h><w>mattly</w>typically if I make major changes to my init file or change which packages are installed I&apos;ll just restart Atom, it seems to be more stable that way</z><z id="t1502225668" t="shaunlebron thanks for feedback/reporting/config advice [:attrs {:href &quot;/_/_/users/U053V4R5N&quot;}] ! atom does seem to need restarting from time to time"><y>#</y><d>2017-08-08</d><h>20:54</h><w>shaunlebron</w>thanks for feedback/reporting/config advice <a>@mattly</a>!  atom does seem to need restarting from time to time</z><z id="t1502225779" t="shaunlebron i’m working on a smaller page to demonstrate new features, so we can get feedback on smart mode stuff"><y>#</y><d>2017-08-08</d><h>20:56</h><w>shaunlebron</w>i’m working on a smaller page to demonstrate new features, so we can get feedback on smart mode stuff</z><z id="t1502225818" t="shaunlebron that should get folks to try the new stuff, and we can wait to see if the implementation is stable enough before porting"><y>#</y><d>2017-08-08</d><h>20:56</h><w>shaunlebron</w>that should get folks to try the new stuff, and we can wait to see if the implementation is stable enough before porting</z><z id="t1502242742" t="mikeb A heads up guys on the atom package in case other users are having problems, I upgraded today, and at first it didn&apos;t appear to install after restart and still showed as an available update. Also both the old and new version of the package were in packages list. This might cause some people problems, but not sure because I didn&apos;t use before un-installing the prior version. I&apos;m on linux(solus) and the case of the name may be the cause?"><y>#</y><d>2017-08-09</d><h>01:39</h><w>mikeb</w>A heads up guys on the atom package in case other users are having problems, I upgraded today, and at first it didn&apos;t appear to install after restart and still showed as an available update. Also both the old and new version of the package were in packages list. This might cause some people problems, but not sure because I didn&apos;t use before un-installing the prior version. I&apos;m on linux(solus) and the case of the name may be the cause?</z><z id="t1502245491" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] I’ve just pushed some more changes. All paren mode tests now pass, and there’s one failing smart mode case."><y>#</y><d>2017-08-09</d><h>02:24</h><w>cfleming</w><a>@shaunlebron</a> I’ve just pushed some more changes. All paren mode tests now pass, and there’s one failing smart mode case.</z><z id="t1502245514" t="cfleming So there’s now just one failing indent case (the one I asked about yesterday) and one smart mode."><y>#</y><d>2017-08-09</d><h>02:25</h><w>cfleming</w>So there’s now just one failing indent case (the one I asked about yesterday) and one smart mode.</z><z id="t1502245546" t="cfleming I can’t figure out the smart mode one - it seems to be to do with how forms are pulled along with siblings, but I’m not sure."><y>#</y><d>2017-08-09</d><h>02:25</h><w>cfleming</w>I can’t figure out the smart mode one - it seems to be to do with how forms are pulled along with siblings, but I’m not sure.</z><z id="t1502245674" t="cfleming The indenting stuff for smart mode is pretty subtle, I’m not 100% convinced I have that right yet - the tests aren’t as comprehensive as for indent or paren modes yet, and there are only a couple of tests for the changes stuff."><y>#</y><d>2017-08-09</d><h>02:27</h><w>cfleming</w>The indenting stuff for smart mode is pretty subtle, I’m not 100% convinced I have that right yet - the tests aren’t as comprehensive as for indent or paren modes yet, and there are only a couple of tests for the changes stuff.</z><z id="t1502245700" t="cfleming When we have this working it would be good to get it into the demo editor to get a better feel for how it’s working and to shake out any more bugs."><y>#</y><d>2017-08-09</d><h>02:28</h><w>cfleming</w>When we have this working it would be good to get it into the demo editor to get a better feel for how it’s working and to shake out any more bugs.</z><z id="t1502252140" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : thanks for the update. I suppose it makes more sense to do the ‘great test overhaul’ first. chris convinced me to build a better testing framework that makes it easier to add more comprehensive tests outside of the markdown docs"><y>#</y><d>2017-08-09</d><h>04:15</h><w>shaunlebron</w><a>@cfleming</a>: thanks for the update.  I suppose it makes more sense to do the ‘great test overhaul’ first.  chris convinced me to build a better testing framework that makes it easier to add more comprehensive tests outside of the markdown docs</z><z id="t1502252212" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] Ok, let me know how you’d like to proceed."><y>#</y><d>2017-08-09</d><h>04:16</h><w>cfleming</w><a>@shaunlebron</a> Ok, let me know how you’d like to proceed.</z><z id="t1502252257" t="cfleming I’d like to try to fix the remaining tests so at least this version is in a known state, and then I’ll run it against future tests as they become available."><y>#</y><d>2017-08-09</d><h>04:17</h><w>cfleming</w>I’d like to try to fix the remaining tests so at least this version is in a known state, and then I’ll run it against future tests as they become available.</z><z id="t1502252291" t="cfleming If there are more changes to parinfer mainline I can try to keep this version up to date too."><y>#</y><d>2017-08-09</d><h>04:18</h><w>cfleming</w>If there are more changes to parinfer mainline I can try to keep this version up to date too.</z><z id="t1502252314" t="cfleming When those tests pass I’ll probably port to Kotlin at that point to begin testing in Cursive."><y>#</y><d>2017-08-09</d><h>04:18</h><w>cfleming</w>When those tests pass I’ll probably port to Kotlin at that point to begin testing in Cursive.</z><z id="t1502253821" t="shaunlebron I’ll commit to freezing new parinfer features in core for now, and will just respond to issues from the increased test coverage and user feedback on smart mode"><y>#</y><d>2017-08-09</d><h>04:43</h><w>shaunlebron</w>I’ll commit to freezing new parinfer features in core for now, and will just respond to issues from the increased test coverage and user feedback on smart mode</z><z id="t1502267436" t="cfleming Thanks, sounds good."><y>#</y><d>2017-08-09</d><h>08:30</h><w>cfleming</w>Thanks, sounds good.</z><z id="t1502320662" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] In my branch I’ve updated the demo editor to use the edits version."><y>#</y><d>2017-08-09</d><h>23:17</h><w>cfleming</w><a>@shaunlebron</a> In my branch I’ve updated the demo editor to use the edits version.</z><z id="t1502320673" t="cfleming Only very superficial testing so far, but it looks good."><y>#</y><d>2017-08-09</d><h>23:17</h><w>cfleming</w>Only very superficial testing so far, but it looks good.</z><z id="t1502320708" t="cfleming I have to head out for a couple of hours, I’ll play around with the cases that were problematic from the tests and see if I can get them to act differently to the official version."><y>#</y><d>2017-08-09</d><h>23:18</h><w>cfleming</w>I have to head out for a couple of hours, I’ll play around with the cases that were problematic from the tests and see if I can get them to act differently to the official version.</z><z id="t1502322267" t="shaunlebron good idea, playing with it my reveal some details on why they’re breaking"><y>#</y><d>2017-08-09</d><h>23:44</h><w>shaunlebron</w>good idea, playing with it my reveal some details on why they’re breaking</z><z id="t1502322377" t="shaunlebron I’m in full marketing mode for the new page, and trying to prevent burnout so I don’t think I can help with this edits feature until I’m done with the page next week"><y>#</y><d>2017-08-09</d><h>23:46</h><w>shaunlebron</w>I’m in full marketing mode for the new page, and trying to prevent burnout so I don’t think I can help with this <code>edits</code> feature until I’m done with the page next week</z><z id="t1502322551" t="shaunlebron the changes were small in code, but seem to be large in implications, and really cause some conceptual changes that I’ll have to really sit down and think about"><y>#</y><d>2017-08-09</d><h>23:49</h><w>shaunlebron</w>the changes were small in code, but seem to be large in implications, and really cause some conceptual changes that I’ll have to really sit down and think about</z><z id="t1502329247" t="cfleming Ok, no problem. I don’t think the changes are that conceptual to be honest, but there’s a lot of changes to all the bookkeeping which needs some thought."><y>#</y><d>2017-08-10</d><h>01:40</h><w>cfleming</w>Ok, no problem. I don’t think the changes are that conceptual to be honest, but there’s a lot of changes to all the bookkeeping which needs some thought.</z><z id="t1502329298" t="cfleming Assuming this looks mostly ok, I’m going to get it into a dev build of Cursive people can try - there are too many cases I can’t simulate in CodeMirror (renaming vars etc)"><y>#</y><d>2017-08-10</d><h>01:41</h><w>cfleming</w>Assuming this looks mostly ok, I’m going to get it into a dev build of Cursive people can try - there are too many cases I can’t simulate in CodeMirror (renaming vars etc)</z><z id="t1502331677" t="cfleming [:attrs {:href &quot;/_/_/users/U0NBGRGD6&quot;}] Here’s an alpha version of what I was talking about last week: https://github.com/cursive-ide/parinfer/tree/process-buffer"><y>#</y><d>2017-08-10</d><h>02:21</h><w>cfleming</w><a>@doglooksgood</a> Here’s an alpha version of what I was talking about last week: <a href="https://github.com/cursive-ide/parinfer/tree/process-buffer" target="_blank">https://github.com/cursive-ide/parinfer/tree/process-buffer</a></z><z id="t1502331795" t="cfleming Here is how it integrates into CodeMirror: https://github.com/cursive-ide/parinfer/blob/process-buffer/site/resources/public/js/lib/parinfer-codemirror.js#L478-L533"><y>#</y><d>2017-08-10</d><h>02:23</h><w>cfleming</w>Here is how it integrates into CodeMirror: <a href="https://github.com/cursive-ide/parinfer/blob/process-buffer/site/resources/public/js/lib/parinfer-codemirror.js#L478-L533" target="_blank">https://github.com/cursive-ide/parinfer/blob/process-buffer/site/resources/public/js/lib/parinfer-codemirror.js#L478-L533</a></z><z id="t1502331898" t="cfleming Here is the main loop - this is where you would integrate whatever Emacs offers for a char iterator over the buffer: https://github.com/cursive-ide/parinfer/blob/process-buffer/lib/parinfer.js#L1296-L1316"><y>#</y><d>2017-08-10</d><h>02:24</h><w>cfleming</w>Here is the main loop - this is where you would integrate whatever Emacs offers for a char iterator over the buffer: <a href="https://github.com/cursive-ide/parinfer/blob/process-buffer/lib/parinfer.js#L1296-L1316" target="_blank">https://github.com/cursive-ide/parinfer/blob/process-buffer/lib/parinfer.js#L1296-L1316</a></z><z id="t1502332200" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : all tests are passing?"><y>#</y><d>2017-08-10</d><h>02:30</h><w>shaunlebron</w><a>@cfleming</a>: all tests are passing?</z><z id="t1502332253" t="cfleming No, I’m trying the test cases in the editor. The one we discussed the other day doesn’t actually seem to be an issue with the new functionality to warn on unbalanced close parens."><y>#</y><d>2017-08-10</d><h>02:30</h><w>cfleming</w>No, I’m trying the test cases in the editor. The one we discussed the other day doesn’t actually seem to be an issue with the new functionality to warn on unbalanced close parens.</z><z id="t1502332259" t="shaunlebron and tangentially: is the race condition in Cursive that prevents files from being pre-processed by paren mode fixed?"><y>#</y><d>2017-08-10</d><h>02:30</h><w>shaunlebron</w>and tangentially: is the race condition in Cursive that prevents files from being pre-processed by paren mode fixed?</z><z id="t1502332274" t="cfleming No, I’m planning to look at that at the same time as fixing this."><y>#</y><d>2017-08-10</d><h>02:31</h><w>cfleming</w>No, I’m planning to look at that at the same time as fixing this.</z><z id="t1502332276" t="shaunlebron my survey showed that to be a problem"><y>#</y><d>2017-08-10</d><h>02:31</h><w>shaunlebron</w>my survey showed that to be a problem</z><z id="t1502332285" t="cfleming It’s definitely a problem."><y>#</y><d>2017-08-10</d><h>02:31</h><w>cfleming</w>It’s definitely a problem.</z><z id="t1502332309" t="shaunlebron seems critical honestly"><y>#</y><d>2017-08-10</d><h>02:31</h><w>shaunlebron</w>seems critical honestly</z><z id="t1502332313" t="cfleming Yup."><y>#</y><d>2017-08-10</d><h>02:31</h><w>cfleming</w>Yup.</z><z id="t1502332356" t="shaunlebron in the #clojurescript channel, i think it’s more than a few people’s perception that parinfer can break your code if not indented correctly"><y>#</y><d>2017-08-10</d><h>02:32</h><w>shaunlebron</w>in the #clojurescript channel, i think it’s more than a few people’s perception that parinfer can break your code if not indented correctly</z><z id="t1502332409" t="shaunlebron could there be a redundant safety check to not run indent mode on a file until paren mode does?"><y>#</y><d>2017-08-10</d><h>02:33</h><w>shaunlebron</w>could there be a redundant safety check to not run indent mode on a file until paren mode does?</z><z id="t1502332449" t="cfleming I’d need to go back and look at the details of how I implemented that. I remember it was hard, but I don’t remember all the details."><y>#</y><d>2017-08-10</d><h>02:34</h><w>cfleming</w>I’d need to go back and look at the details of how I implemented that. I remember it was hard, but I don’t remember all the details.</z><z id="t1502332467" t="shaunlebron this is the comment I saw: https://clojurians.slack.com/archives/C03S1L9DN/p1501185363764216"><y>#</y><d>2017-08-10</d><h>02:34</h><w>shaunlebron</w>this is the comment I saw: <a href="https://clojurians.slack.com/archives/C03S1L9DN/p1501185363764216" target="_blank">https://clojurians.slack.com/archives/C03S1L9DN/p1501185363764216</a></z><z id="t1502332473" t="cfleming So the second failing test case also appears to not be an issue in the actual editor, I’m not sure why."><y>#</y><d>2017-08-10</d><h>02:34</h><w>cfleming</w>So the second failing test case also appears to not be an issue in the actual editor, I’m not sure why.</z><z id="t1502332610" t="shaunlebron i have to step out for an hour"><y>#</y><d>2017-08-10</d><h>02:36</h><w>shaunlebron</w>i have to step out for an hour</z><z id="t1502332808" t="cfleming I lie, it is a problem, Chrome had cached the old version."><y>#</y><d>2017-08-10</d><h>02:40</h><w>cfleming</w>I lie, it is a problem, Chrome had cached the old version.</z><z id="t1502333604" t="tianshu Can I change buffer step by step, instead of process-text -&gt; public-result? I am not very familiar with the algorithm for now."><y>#</y><d>2017-08-10</d><h>02:53</h><w>tianshu</w>Can I change buffer step by step, instead of process-text -&gt; public-result? I am not very familiar with the algorithm for now.</z><z id="t1502334299" t="cfleming Yes, that is what the edit changes tries to do. It’s not fully working yet, though."><y>#</y><d>2017-08-10</d><h>03:04</h><w>cfleming</w>Yes, that is what the edit changes tries to do. It’s not fully working yet, though.</z><z id="t1502337013" t="cfleming I fixed the last smart mode bug, and a bug in the CodeMirror integration. After some initial playing, it seems good now."><y>#</y><d>2017-08-10</d><h>03:50</h><w>cfleming</w>I fixed the last smart mode bug, and a bug in the CodeMirror integration. After some initial playing, it seems good now.</z><z id="t1502337063" t="cfleming The indent mode test is still failing, and I don’t have a good solution for that. I’ll file an issue with the details from earlier in this chat so they don’t get lost."><y>#</y><d>2017-08-10</d><h>03:51</h><w>cfleming</w>The indent mode test is still failing, and I don’t have a good solution for that. I’ll file an issue with the details from earlier in this chat so they don’t get lost.</z><z id="t1502337181" t="cfleming There’s one issue - I no longer return the new cursor value from parinfer in this version, and just rely on CodeMirror to push the caret around based on the edits. There’s one very common case where that’s a problem: entering new parens."><y>#</y><d>2017-08-10</d><h>03:53</h><w>cfleming</w>There’s one issue - I no longer return the new cursor value from parinfer in this version, and just rely on CodeMirror to push the caret around based on the edits. There’s one very common case where that’s a problem: entering new parens.</z><z id="t1502337244" t="cfleming So if open a new paren, I end up with ()| because of the way that the edits are created. This isn’t a problem in Cursive because I explicitly create both parens and put the caret between them - I suspect most actual editors will do that."><y>#</y><d>2017-08-10</d><h>03:54</h><w>cfleming</w>So if open a new paren, I end up with <code>()|</code> because of the way that the edits are created. This isn’t a problem in Cursive because I explicitly create both parens and put the caret between them - I suspect most actual editors will do that.</z><z id="t1502356154" t="cfleming BTW that issue is just an edge case in what to do when an edit inserts exactly at the caret - it could be worked around in CodeMirror too with no problem."><y>#</y><d>2017-08-10</d><h>09:09</h><w>cfleming</w>BTW that issue is just an edge case in what to do when an edit inserts exactly at the caret - it could be worked around in CodeMirror too with no problem.</z><z id="t1502356521" t="tianshu I think a article in detail how this algorithm works will help a lot, since every editor have different plugin system."><y>#</y><d>2017-08-10</d><h>09:15</h><w>tianshu</w> I think a article in detail how this algorithm works will help a lot, since every editor have different plugin system.</z><z id="t1502357023" t="cfleming [:attrs {:href &quot;/_/_/users/U0NBGRGD6&quot;}] Do you mean parinfer itself?"><y>#</y><d>2017-08-10</d><h>09:23</h><w>cfleming</w><a>@doglooksgood</a> Do you mean parinfer itself?</z><z id="t1502365109" t="tianshu yes，I want to rewrite to let parinfer process buffer directly. not a function to function port. "><y>#</y><d>2017-08-10</d><h>11:38</h><w>tianshu</w>yes，I want to rewrite to let parinfer process  buffer directly. not a function to function port. </z><z id="t1502392076" t="shaunlebron i will have to update this document with smart mode changes: https://github.com/shaunlebron/parinfer/blob/master/lib/doc/code.md"><y>#</y><d>2017-08-10</d><h>19:07</h><w>shaunlebron</w>i will have to update this document with smart mode changes: <a href="https://github.com/shaunlebron/parinfer/blob/master/lib/doc/code.md" target="_blank">https://github.com/shaunlebron/parinfer/blob/master/lib/doc/code.md</a></z><z id="t1502392146" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0NBGRGD6&quot;}] it doesn’t make sense to move forward on documenting and porting something that we are not yet sure people will like"><y>#</y><d>2017-08-10</d><h>19:09</h><w>shaunlebron</w><a>@doglooksgood</a> it doesn’t make sense to move forward on documenting and porting something that we are not yet sure people will like</z><z id="t1502401805" t="cfleming [:attrs {:href &quot;/_/_/users/U0NBGRGD6&quot;}] That is exactly what the branch/fork that I sent you does - if you want to do something different to that, I don’t understand what you mean."><y>#</y><d>2017-08-10</d><h>21:50</h><w>cfleming</w><a>@doglooksgood</a> That is exactly what the branch/fork that I sent you does - if you want to do something different to that, I don’t understand what you mean.</z><z id="t1502401831" t="cfleming That change may become parinfer mainline at some point, but that’s not decided yet."><y>#</y><d>2017-08-10</d><h>21:50</h><w>cfleming</w>That change may become parinfer mainline at some point, but that’s not decided yet.</z><z id="t1502401956" t="cfleming FWIW this is one of the best-documented projects I’ve ever been involved with. There are conceptual docs in the webpages, the code is well documented and there is a lot of very useful discussion in the issues. The doc isn’t currently up to date with smart mode, but like Shaun says that’s still experimental."><y>#</y><d>2017-08-10</d><h>21:52</h><w>cfleming</w>FWIW this is one of the best-documented projects I’ve ever been involved with. There are conceptual docs in the webpages, the code is well documented and there is a lot of very useful discussion in the issues. The doc isn’t currently up to date with smart mode, but like Shaun says that’s still experimental.</z><z id="t1502401988" t="cfleming It is a complicated algorithm now, and the code takes some time to understand, but it’s doing a lot these days."><y>#</y><d>2017-08-10</d><h>21:53</h><w>cfleming</w>It is a complicated algorithm now, and the code takes some time to understand, but it’s doing a lot these days.</z><z id="t1502402019" t="cfleming It’s probably not something you can port to elisp in a weekend."><y>#</y><d>2017-08-10</d><h>21:53</h><w>cfleming</w>It’s probably not something you can port to elisp in a weekend.</z><z id="t1502402542" t="cfleming [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] Now that Atom has smart mode, do you still expose Indent and Paren mode to the user?"><y>#</y><d>2017-08-10</d><h>22:02</h><w>cfleming</w><a>@chrisoakman</a> Now that Atom has smart mode, do you still expose Indent and Paren mode to the user?</z><z id="t1502402566" t="cfleming Are you actively using it at the moment? Do you have a feeling for whether they’re still necessary?"><y>#</y><d>2017-08-10</d><h>22:02</h><w>cfleming</w>Are you actively using it at the moment? Do you have a feeling for whether they’re still necessary?</z><z id="t1502402598" t="cfleming Or rather, will be if smart mode works out?"><y>#</y><d>2017-08-10</d><h>22:03</h><w>cfleming</w>Or rather, will be if smart mode works out?</z><z id="t1502402653" t="cfleming Anyone else using the latest Atom version have opinions on that?"><y>#</y><d>2017-08-10</d><h>22:04</h><w>cfleming</w>Anyone else using the latest Atom version have opinions on that?</z><z id="t1502403102" t="rgdelato The options in Atom now have a checkbox for replacing Indent Mode with Smart Mode (with Smart Mode off by default), so the user can still use Indent Mode "><y>#</y><d>2017-08-10</d><h>22:11</h><w>rgdelato</w>The options in Atom now have a checkbox for replacing Indent Mode with Smart Mode (with Smart Mode off by default), so the user can still use Indent Mode </z><z id="t1502403336" t="cfleming [:attrs {:href &quot;/_/_/users/U47KWM4UV&quot;}] If you have smart mode, do you think you’d still need indent mode?"><y>#</y><d>2017-08-10</d><h>22:15</h><w>cfleming</w><a>@rgdelato</a> If you have smart mode, do you think you’d still need indent mode?</z><z id="t1502403420" t="rgdelato probably not? But I think they&apos;re hedging because Smart Mode has some behavior that people might not like"><y>#</y><d>2017-08-10</d><h>22:17</h><w>rgdelato</w>probably not? But I think they&apos;re hedging because Smart Mode has some behavior that people might not like</z><z id="t1502403445" t="cfleming Sure, I understand it’s still experimental, just interested in the experiences of people actually using it."><y>#</y><d>2017-08-10</d><h>22:17</h><w>cfleming</w>Sure, I understand it’s still experimental, just interested in the experiences of people actually using it.</z><z id="t1502403545" t="rgdelato If Indent Mode had at least kept the cursorDx thing, then maybe it&apos;d be kind of a choice for me, but since Smart Mode is the only one that currently preserves the structure underneath my edit, I&apos;m 100% Smart Mode all the way"><y>#</y><d>2017-08-10</d><h>22:19</h><w>rgdelato</w>If Indent Mode had at least kept the <code>cursorDx</code> thing, then maybe it&apos;d be kind of a choice for me, but since Smart Mode is the only one that currently preserves the structure underneath my edit, I&apos;m 100% Smart Mode all the way</z><z id="t1502403579" t="cfleming That’s good to hear, thanks!"><y>#</y><d>2017-08-10</d><h>22:19</h><w>cfleming</w>That’s good to hear, thanks!</z><z id="t1502404020" t="rgdelato Probably my biggest complaint with the current Smart Mode is that you can&apos;t delete from certain states: https://github.com/shaunlebron/parinfer/issues/59#issuecomment-313469378"><y>#</y><d>2017-08-10</d><h>22:27</h><w>rgdelato</w>Probably my biggest complaint with the current Smart Mode is that you can&apos;t delete from certain states:
<a href="https://github.com/shaunlebron/parinfer/issues/59#issuecomment-313469378" target="_blank">https://github.com/shaunlebron/parinfer/issues/59#issuecomment-313469378</a></z><z id="t1502404174" t="rgdelato (which is like multiple orders of magnitude smaller than the previous complaint of &quot;I need to switch modes when making certain edits&quot;, so still a huge win)"><y>#</y><d>2017-08-10</d><h>22:29</h><w>rgdelato</w>(which is like multiple orders of magnitude smaller than the previous complaint of &quot;I need to switch modes when making certain edits&quot;, so still a huge win)</z><z id="t1502404203" t="cfleming Interesting, that is tricky."><y>#</y><d>2017-08-10</d><h>22:30</h><w>cfleming</w>Interesting, that is tricky.</z><z id="t1502404235" t="cfleming I’m hoping to get a dev build of Cursive out with smart mode soon so people can test it."><y>#</y><d>2017-08-10</d><h>22:30</h><w>cfleming</w>I’m hoping to get a dev build of Cursive out with smart mode soon so people can test it.</z><z id="t1502405116" t="chrisoakman [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] I haven&apos;t been using atom-parinfer enough this week to really have an opinion on smartMode. I&apos;m generally bullish on it vs Indent Mode. But still evaluating it from usage."><y>#</y><d>2017-08-10</d><h>22:45</h><w>chrisoakman</w><a>@cfleming</a> I haven&apos;t been using atom-parinfer enough this week to really have an opinion on smartMode. I&apos;m generally bullish on it vs Indent Mode. But still evaluating it from usage.</z><z id="t1502405142" t="chrisoakman Like Ryan said, atom-parinfer basically still works the way it has always worked. Except now there is an option to use smartMode instead of Indent Mode."><y>#</y><d>2017-08-10</d><h>22:45</h><w>chrisoakman</w>Like Ryan said, atom-parinfer basically still works the way it has always worked. Except now there is an option to use smartMode instead of Indent Mode.</z><z id="t1502405195" t="chrisoakman The plan is to remove Indent Mode and only have Smart Mode once it is stable / awesome."><y>#</y><d>2017-08-10</d><h>22:46</h><w>chrisoakman</w>The plan is to remove Indent Mode and only have Smart Mode once it is stable / awesome.</z><z id="t1502405251" t="chrisoakman atom-parinfer v2.0.0 should hopefully be Smart Mode by default"><y>#</y><d>2017-08-10</d><h>22:47</h><w>chrisoakman</w>atom-parinfer v2.0.0 should hopefully be Smart Mode by default</z><z id="t1502405285" t="chrisoakman I think Paren Mode will always exist in some form. Even if only to run on the file when it is first opened."><y>#</y><d>2017-08-10</d><h>22:48</h><w>chrisoakman</w>I think Paren Mode will always exist in some form. Even if only to run on the file when it is first opened.</z><z id="t1502405321" t="cfleming Yeah, I can definitely see that the modes need to exist internally, but was curious if users still had a need for them."><y>#</y><d>2017-08-10</d><h>22:48</h><w>cfleming</w>Yeah, I can definitely see that the modes need to exist internally, but was curious if users still had a need for them.</z><z id="t1502408458" t="chrisoakman [:attrs {:href &quot;/_/_/users/U0NBGRGD6&quot;}] I definitely want to keep parinfer-elisp up-to-date with parinfer.js. Have been waiting for it to stabilize."><y>#</y><d>2017-08-10</d><h>23:40</h><w>chrisoakman</w><a>@doglooksgood</a> I definitely want to keep parinfer-elisp up-to-date with parinfer.js. Have been waiting for it to stabilize.</z><z id="t1502408522" t="chrisoakman Also I read that thing about &quot;buffer is faster than string&quot; for the elisp docs. I went with strings for port clarity. I wonder how much the speed difference really is? In general, I would be wary of going that route unless we had some good metrics showing the difference between the two."><y>#</y><d>2017-08-10</d><h>23:42</h><w>chrisoakman</w>Also I read that thing about &quot;buffer is faster than string&quot; for the elisp docs. I went with strings for port clarity. I wonder how much the speed difference really is? In general, I would be wary of going that route unless we had some good metrics showing the difference between the two.</z><z id="t1502408579" t="chrisoakman All that said, I am not an emacs user. And not opposed to that approach if it is better. It&apos;s just important that the ports all pass the same test suite as parinfer.js"><y>#</y><d>2017-08-10</d><h>23:42</h><w>chrisoakman</w>All that said, I am not an emacs user. And not opposed to that approach if it is better. It&apos;s just important that the ports all pass the same test suite as parinfer.js</z><z id="t1502408881" t="chrisoakman [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] I don&apos;t really know how confusing the two modes are for users. Ideally: there would be no modes. But I think in practice people are in Indent (or now Smart) mode 99% of the time."><y>#</y><d>2017-08-10</d><h>23:48</h><w>chrisoakman</w><a>@cfleming</a> I don&apos;t really know how confusing the two modes are for users. Ideally: there would be no modes. But I think in practice people are in Indent (or now Smart) mode 99% of the time.</z><z id="t1502426288" t="mattly as a user of parinfer in first emacs and now atom, the only time I switch to Paren mode is when I need to re-indent something because its place in the tree changed"><y>#</y><d>2017-08-11</d><h>04:38</h><w>mattly</w>as a user of parinfer in first emacs and now atom, the only time I switch to Paren mode is when I need to re-indent something because its place in the tree changed</z><z id="t1502426320" t="mattly though I’ve found atom’s lisp-paredit easier to grok than emacs’s, and so I’m using raise/splice/etc more often"><y>#</y><d>2017-08-11</d><h>04:38</h><w>mattly</w>though I’ve found atom’s lisp-paredit easier to grok than emacs’s, and so I’m using raise/splice/etc more often</z><z id="t1502428617" t="tianshu I can&apos;t get correct indentation on atom, I have lisp-paredit installed, but that not help. when I press enter, sometimes the indentation is correct, sometimes not."><y>#</y><d>2017-08-11</d><h>05:16</h><w>tianshu</w>I can&apos;t get correct indentation on atom, I have lisp-paredit installed, but that not help. when I press enter, sometimes the indentation is correct, sometimes not.</z><z id="t1502429674" t="rgdelato If you go into the lisp-paredit settings, you can set your list of indentation forms, maybe that will help?"><y>#</y><d>2017-08-11</d><h>05:34</h><w>rgdelato</w>If you go into the <code>lisp-paredit</code> settings, you can set your list of indentation forms, maybe that will help?</z><z id="t1502430094" t="rgdelato For example, if hello is in your indentation forms, then you get: (hello :there |) ...and if it&apos;s not, then you get: (hello :there |) "><y>#</y><d>2017-08-11</d><h>05:41</h><w>rgdelato</w>For example, if <code>hello</code> is in your indentation forms, then you get:
<pre>(hello :there
  |)
</pre>
...and if it&apos;s not, then you get:
<pre>(hello :there
       |)
</pre></z><z id="t1502430236" t="cfleming [:attrs {:href &quot;/_/_/users/U053V4R5N&quot;}] Is that true with smart mode as well, or with the current indent mode?"><y>#</y><d>2017-08-11</d><h>05:43</h><w>cfleming</w><a>@mattly</a> Is that true with smart mode as well, or with the current indent mode?</z><z id="t1502430259" t="cfleming re: paren mode, that is."><y>#</y><d>2017-08-11</d><h>05:44</h><w>cfleming</w>re: paren mode, that is.</z><z id="t1502436165" t="rgdelato I guess I should clarify... that &quot;unable to delete&quot; issue is actually an issue with having forceBalance set to &quot;off&quot;, so it&apos;s not a problem with Smart Mode exactly (and atom-parinfer has forceBalance set to &quot;on&quot; by default)"><y>#</y><d>2017-08-11</d><h>07:22</h><w>rgdelato</w>I guess I should clarify... that &quot;unable to delete&quot; issue is actually an issue with having <code>forceBalance</code> set to &quot;off&quot;, so it&apos;s not a problem with Smart Mode exactly (and atom-parinfer has <code>forceBalance</code> set to &quot;on&quot; by default)</z><z id="t1502443557" t="cfleming forceBalance is the new feature which flags an error when it finds an unmatched close paren instead of correcting it, is that right?"><y>#</y><d>2017-08-11</d><h>09:25</h><w>cfleming</w><code>forceBalance</code> is the new feature which flags an error when it finds an unmatched close paren instead of correcting it, is that right?</z><z id="t1502444158" t="shaunlebron it’s a blanket option for a couple things"><y>#</y><d>2017-08-11</d><h>09:35</h><w>shaunlebron</w>it’s a blanket option for a couple things</z><z id="t1502444173" t="shaunlebron but when it’s on, you’re signaling that you want balanced parens no matter what"><y>#</y><d>2017-08-11</d><h>09:36</h><w>shaunlebron</w>but when it’s on, you’re signaling that you want balanced parens no matter what</z><z id="t1502444336" t="shaunlebron v2 dialed back the aggression on unmatched close-parens and leading close-parens"><y>#</y><d>2017-08-11</d><h>09:38</h><w>shaunlebron</w>v2 dialed back the aggression on unmatched close-parens and leading close-parens</z><z id="t1502444399" t="shaunlebron - unmatched close-parens are flagged rather than removed - leading close-parens are allowed by running Paren Mode when they are present"><y>#</y><d>2017-08-11</d><h>09:39</h><w>shaunlebron</w>- unmatched close-parens are flagged rather than removed
- leading close-parens are allowed by running Paren Mode when they are present</z><z id="t1502444463" t="shaunlebron since both behaviors allow temporary imbalance, they are not used when forceBalance is enabled"><y>#</y><d>2017-08-11</d><h>09:41</h><w>shaunlebron</w>since both behaviors allow temporary imbalance, they are not used when <code>forceBalance</code> is enabled</z><z id="t1502444628" t="shaunlebron for example, for leading close-parens: (foo |) bar if you reach the above state after pressing enter or deleting a word in Indent Mode, surprising things can happen"><y>#</y><d>2017-08-11</d><h>09:43</h><w>shaunlebron</w>for example, for leading close-parens:

<pre>(foo
  |) bar
</pre>

if you reach the above state after pressing enter or deleting a word in Indent Mode, surprising things can happen</z><z id="t1502444735" t="shaunlebron so the leading close-paren =&gt; Paren Mode behavior was the best I could come up with. and since Paren Mode allows imbalance, this behavior can’t be used with forceBalance"><y>#</y><d>2017-08-11</d><h>09:45</h><w>shaunlebron</w>so the leading close-paren =&gt; Paren Mode behavior was the best I could come up with.
and since Paren Mode allows imbalance, this behavior can’t be used with <code>forceBalance</code></z><z id="t1502470470" t="shaunlebron does that make sense?"><y>#</y><d>2017-08-11</d><h>16:54</h><w>shaunlebron</w>does that make sense?</z><z id="t1502470579" t="shaunlebron leading close-paren =&gt; Paren Mode needed =&gt; possible imbalance =&gt; cannot use when forceBalance d"><y>#</y><d>2017-08-11</d><h>16:56</h><w>shaunlebron</w>leading close-paren =&gt; Paren Mode needed =&gt; possible imbalance =&gt; cannot use when <code>forceBalance</code>d</z><z id="t1502471289" t="shaunlebron i’ll have to make a forceBalance section on the new page then"><y>#</y><d>2017-08-11</d><h>17:08</h><w>shaunlebron</w>i’ll have to make a <code>forceBalance</code> section on the new page then</z><z id="t1502471811" t="chrisoakman Or just remove it entirely 😉"><y>#</y><d>2017-08-11</d><h>17:16</h><w>chrisoakman</w>Or just remove it entirely <b>😉</b></z><z id="t1502471878" t="shaunlebron if I removed it, I’d have to fork atom-parinfer 🙂"><y>#</y><d>2017-08-11</d><h>17:17</h><w>shaunlebron</w>if I removed it, I’d have to fork atom-parinfer <b>🙂</b></z><z id="t1502472927" t="rgdelato So Shaun has asked this a few times in the GitHub issue... does anyone have a good idea about what should be the result if the user presses &quot;delete&quot; in this situation? (def m {:a 1 |} bar) "><y>#</y><d>2017-08-11</d><h>17:35</h><w>rgdelato</w>So Shaun has asked this a few times in the GitHub issue... does anyone have a good idea about what should be the result if the user presses &quot;delete&quot; in this situation?
<pre>(def m {:a 1
        |} bar)
</pre></z><z id="t1502473259" t="timgilbert I&apos;d personally favor (def m {:a 1|} bar) ...viewing delete as meaning &quot;undo what I just typed&quot;"><y>#</y><d>2017-08-11</d><h>17:40</h><w>timgilbert</w>I&apos;d personally favor 
<pre>(def m {:a 1|} bar)
</pre>
...viewing delete as meaning &quot;undo what I just typed&quot;</z><z id="t1502473369" t="timgilbert BTW, is there a 500-feet-up description of what the difference between smart mode and indent mode is (understanding that it&apos;s still a WIP) anywhere?"><y>#</y><d>2017-08-11</d><h>17:42</h><w>timgilbert</w>BTW, is there a 500-feet-up description of what the difference between smart mode and indent mode is (understanding that it&apos;s still a WIP) anywhere?</z><z id="t1502473431" t="rgdelato My original guess is that maybe you&apos;d end up like this: (def m {:a 1 |} bar) ...and then when you move your cursor away, you&apos;d be reformatted to: (def m {:a 1} bar) ...but honestly, I like Tim&apos;s idea if it pans out"><y>#</y><d>2017-08-11</d><h>17:43</h><w>rgdelato</w>My original guess is that maybe you&apos;d end up like this:
<pre>(def m {:a 1
       |} bar)
</pre>
...and then when you move your cursor away, you&apos;d be reformatted to:
<pre>(def m {:a 1}
       bar)
</pre>
...but honestly, I like Tim&apos;s idea if it pans out</z><z id="t1502473482" t="rgdelato [:attrs {:href &quot;/_/_/users/U08QZ7Y5S&quot;}] In my opinion, the biggest change is that expressions under you hold their shape: https://www.youtube.com/watch?v=9iZfdfsoC5o"><y>#</y><d>2017-08-11</d><h>17:44</h><w>rgdelato</w><a>@timgilbert</a> In my opinion, the biggest change is that expressions under you hold their shape: <a href="https://www.youtube.com/watch?v=9iZfdfsoC5o" target="_blank">https://www.youtube.com/watch?v=9iZfdfsoC5o</a></z><z id="t1502473507" t="timgilbert Thanks [:attrs {:href &quot;/_/_/users/U47KWM4UV&quot;}] , will check that out"><y>#</y><d>2017-08-11</d><h>17:45</h><w>timgilbert</w>Thanks <a>@rgdelato</a>, will check that out</z><z id="t1502473528" t="rgdelato so hopefully as a user, you&apos;ll never need to switch to Paren Mode anymore. From a more technical standpoint, Smart Mode takes a list of changes as well as the current state of the document to make decisions"><y>#</y><d>2017-08-11</d><h>17:45</h><w>rgdelato</w>so hopefully as a user, you&apos;ll never need to switch to Paren Mode anymore. From a more technical standpoint, Smart Mode takes a list of changes as well as the current state of the document to make decisions</z><z id="t1502478716" t="shaunlebron Pressing delete twice might be surprising here if it joins the two lines, since it doesn’t constitute “undo what I typed”: (def m {:a 1 x|} bar) "><y>#</y><d>2017-08-11</d><h>19:11</h><w>shaunlebron</w>Pressing delete twice might be surprising here if it joins the two lines, since it doesn’t constitute “undo what I typed”:

<pre>(def m {:a 1
        x|} bar)
</pre></z><z id="t1502549238" t="tianshu when will we have a better parinfer on vscode?"><y>#</y><d>2017-08-12</d><h>14:47</h><w>tianshu</w>when will we have a better parinfer on vscode?</z><z id="t1502591879" t="shaunlebron current priorities: 1. new marketing page 2. bugs/issues 3. test overhaul 4. edits 5. vscode"><y>#</y><d>2017-08-13</d><h>02:37</h><w>shaunlebron</w>current priorities:
1. new marketing page
2. bugs/issues
3. test overhaul
4. <code>edits</code>
5. vscode</z><z id="t1502823531" t="mattly so I finally tried out smart-mode this morning for a bit"><y>#</y><d>2017-08-15</d><h>18:58</h><w>mattly</w>so I finally tried out smart-mode this morning for a bit</z><z id="t1502823535" t="mattly in Atom"><y>#</y><d>2017-08-15</d><h>18:58</h><w>mattly</w>in Atom</z><z id="t1502823542" t="mattly when it works, it&apos;s nice"><y>#</y><d>2017-08-15</d><h>18:59</h><w>mattly</w>when it works, it&apos;s nice</z><z id="t1502823545" t="mattly when it doesn&apos;t, well"><y>#</y><d>2017-08-15</d><h>18:59</h><w>mattly</w>when it doesn&apos;t, well</z><z id="t1502823557" t="mattly more than once now it&apos;ll take a form like"><y>#</y><d>2017-08-15</d><h>18:59</h><w>mattly</w>more than once now it&apos;ll take a form like</z><z id="t1502823590" t="mattly and turn it into"><y>#</y><d>2017-08-15</d><h>18:59</h><w>mattly</w>and turn it into</z><z id="t1502823788" t="mattly I&apos;m not entirely sure how to reproduce"><y>#</y><d>2017-08-15</d><h>19:03</h><w>mattly</w>I&apos;m not entirely sure how to reproduce</z><z id="t1502824743" t="rgdelato does it occur when you indent a large block? I think that&apos;s an error I saw a while back because it was trying to process each indent in sequence (though I also recall that being fixed?)"><y>#</y><d>2017-08-15</d><h>19:19</h><w>rgdelato</w>does it occur when you indent a large block? I think that&apos;s an error I saw a while back because it was trying to process each indent in sequence (though I also recall that being fixed?)</z><z id="t1502825525" t="mattly it happened recently on a very large block, which prompted me turning it off and posting the above 🙂"><y>#</y><d>2017-08-15</d><h>19:32</h><w>mattly</w>it happened recently on a very large block, which prompted me turning it off and posting the above <b>🙂</b></z><z id="t1502825533" t="mattly it also happened on that snippet in particular"><y>#</y><d>2017-08-15</d><h>19:32</h><w>mattly</w>it also happened on that snippet in particular</z><z id="t1502825551" t="mattly Atom says I&apos;m running the latest"><y>#</y><d>2017-08-15</d><h>19:32</h><w>mattly</w>Atom says I&apos;m running the latest</z><z id="t1502825677" t="mattly I think it&apos;s something to do with parinfer"><y>#</y><d>2017-08-15</d><h>19:34</h><w>mattly</w>I think it&apos;s something to do with parinfer</z><z id="t1502837397" t="cfleming I almost have the Cursive integration of v3.10 ready for a dev build release, just working on the integration of edits and details like prevCursorX /`Line`."><y>#</y><d>2017-08-15</d><h>22:49</h><w>cfleming</w>I almost have the Cursive integration of v3.10 ready for a dev build release, just working on the integration of edits and details like <code>prevCursorX</code>/`Line`.</z><z id="t1502837437" t="cfleming Reading the above, I’m thinking I need to capture perhaps the last 20 applications so users can send a useful bug report if they don’t mind sharing their code."><y>#</y><d>2017-08-15</d><h>22:50</h><w>cfleming</w>Reading the above, I’m thinking I need to capture perhaps the last 20 applications so users can send a useful bug report if they don’t mind sharing their code.</z><z id="t1502840390" t="shaunlebron [:attrs {:href &quot;/_/_/users/U053V4R5N&quot;}] i notice that happening with atom vim mode when i indent using &gt;"><y>#</y><d>2017-08-15</d><h>23:39</h><w>shaunlebron</w><a>@mattly</a> i notice that happening with atom vim mode when i indent using &gt;</z><z id="t1502840436" t="shaunlebron or &lt;"><y>#</y><d>2017-08-15</d><h>23:40</h><w>shaunlebron</w>or &lt;</z><z id="t1502840504" t="shaunlebron id take a pr to help reporting how to repro steps"><y>#</y><d>2017-08-15</d><h>23:41</h><w>shaunlebron</w>id take a pr to help reporting how to repro steps</z><z id="t1502842258" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] You asked the other day about the corruption problems with Cursive. I added a brain dump to the wiki about why this is hard: https://github.com/shaunlebron/parinfer/wiki/Problems-integrating-parinfer-into-Cursive"><y>#</y><d>2017-08-16</d><h>00:10</h><w>cfleming</w><a>@shaunlebron</a> You asked the other day about the corruption problems with Cursive. I added a brain dump to the wiki about why this is hard: <a href="https://github.com/shaunlebron/parinfer/wiki/Problems-integrating-parinfer-into-Cursive" target="_blank">https://github.com/shaunlebron/parinfer/wiki/Problems-integrating-parinfer-into-Cursive</a></z><z id="t1502842270" t="cfleming Let me know if that would be better somewhere else, e.g. in an issue."><y>#</y><d>2017-08-16</d><h>00:11</h><w>cfleming</w>Let me know if that would be better somewhere else, e.g. in an issue.</z><z id="t1502842390" t="cfleming The more I think about this, the more I think that I just need to notify the user when parinfer cannot be applied due to inconsistent formatting."><y>#</y><d>2017-08-16</d><h>00:13</h><w>cfleming</w>The more I think about this, the more I think that I just need to notify the user when parinfer cannot be applied due to inconsistent formatting.</z><z id="t1502842420" t="cfleming That’s a very annoying UX, but it’s less annoying than having your code broken."><y>#</y><d>2017-08-16</d><h>00:13</h><w>cfleming</w>That’s a very annoying UX, but it’s less annoying than having your code broken.</z><z id="t1502842455" t="cfleming And it implicitly means that users will only have to reformat their code when they actually want to modify a file, not just by looking at it."><y>#</y><d>2017-08-16</d><h>00:14</h><w>cfleming</w>And it implicitly means that users will only have to reformat their code when they actually want to modify a file, not just by looking at it.</z><z id="t1502842511" t="shaunlebron thanks for putting together, will look tonight"><y>#</y><d>2017-08-16</d><h>00:15</h><w>shaunlebron</w>thanks for putting together, will look tonight</z><z id="t1502864426" t="shaunlebron that’s a lot of stuff"><y>#</y><d>2017-08-16</d><h>06:20</h><w>shaunlebron</w>that’s a lot of stuff</z><z id="t1502864668" t="shaunlebron this reminds me of when I was at stripe"><y>#</y><d>2017-08-16</d><h>06:24</h><w>shaunlebron</w>this reminds me of when I was at stripe</z><z id="t1502864748" t="shaunlebron i once got some heat for taking too long to find a proper solution to a bug, when the solution was to just yank the feature I was trying to fix until it worked"><y>#</y><d>2017-08-16</d><h>06:25</h><w>shaunlebron</w>i once got some heat for taking too long to find a proper solution to a bug, when the solution was to just yank the feature I was trying to fix until it worked</z><z id="t1502864894" t="shaunlebron this feels the same. this is obviously too hard to solve quickly, and it’s breaking people’s code for however long it’s been out."><y>#</y><d>2017-08-16</d><h>06:28</h><w>shaunlebron</w>this feels the same.  this is obviously too hard to solve quickly, and it’s breaking people’s code for however long it’s been out.</z><z id="t1502864948" t="shaunlebron my gut is to pull it out until it works"><y>#</y><d>2017-08-16</d><h>06:29</h><w>shaunlebron</w>my gut is to pull it out until it works</z><z id="t1502866975" t="shaunlebron added some headers to make it skimmable if it will help anyone else dive in for ideas"><y>#</y><d>2017-08-16</d><h>07:02</h><w>shaunlebron</w>added some headers to make it skimmable if it will help anyone else dive in for ideas</z><z id="t1502880007" t="cfleming Right, and I think the tl;dr is that there is no fix for this in Cursive."><y>#</y><d>2017-08-16</d><h>10:40</h><w>cfleming</w>Right, and I think the tl;dr is that there is no fix for this in Cursive.</z><z id="t1502893261" t="shaunlebron the “comments as code” issue came up again: [:attrs {:href &quot;/_/_/users/U09LZR36F&quot;}] https://github.com/status-im/status-react/commit/883b702fcba7d94b93828ccfaa6d6053100fe52d#commitcomment-23648790"><y>#</y><d>2017-08-16</d><h>14:21</h><w>shaunlebron</w>the “comments as code” issue came up again: <a>@dominicm</a> <a href="https://github.com/status-im/status-react/commit/883b702fcba7d94b93828ccfaa6d6053100fe52d#commitcomment-23648790" target="_blank">https://github.com/status-im/status-react/commit/883b702fcba7d94b93828ccfaa6d6053100fe52d#commitcomment-23648790</a></z><z id="t1502893522" t="shaunlebron a screenshot since the anchor link takes so long to load:"><y>#</y><d>2017-08-16</d><h>14:25</h><w>shaunlebron</w>a screenshot since the anchor link takes so long to load:</z><z id="t1502894232" t="shaunlebron on the one hand, it’s a given that incorrect indentation is going to mislead you about implied structure."><y>#</y><d>2017-08-16</d><h>14:37</h><w>shaunlebron</w>on the one hand, it’s a given that incorrect indentation is going to mislead you about implied structure.</z><z id="t1502894334" t="shaunlebron on the other hand, if users setup their code so that they can safely uncomment lines without thinking, then it is parinfer that threw a fork in their process and will take the blame for the broken code"><y>#</y><d>2017-08-16</d><h>14:38</h><w>shaunlebron</w>on the other hand, if users setup their code so that they can safely uncomment lines without thinking, then it is parinfer that threw a fork in their process and will take the blame for the broken code</z><z id="t1502895730" t="shaunlebron it’s interesting because I never thought of Parinfer as breaking the UX of non-parinfer users"><y>#</y><d>2017-08-16</d><h>15:02</h><w>shaunlebron</w>it’s interesting because I never thought of Parinfer as breaking the UX of non-parinfer users</z><z id="t1502895955" t="shaunlebron I’m thinking that this feature needs to be in parlinter rather than parinfer"><y>#</y><d>2017-08-16</d><h>15:05</h><w>shaunlebron</w>I’m thinking that this feature needs to be in parlinter rather than parinfer</z><z id="t1502895999" t="shaunlebron it’s the function of parlinter to make collaboration between parinfer and non-parinfer users more possible"><y>#</y><d>2017-08-16</d><h>15:06</h><w>shaunlebron</w>it’s the function of parlinter to make collaboration between parinfer and non-parinfer users more possible</z><z id="t1502896108" t="dominicm Yeah. The UX of non-parinfer users is where it falls down for me in regular basis."><y>#</y><d>2017-08-16</d><h>15:08</h><w>dominicm</w>Yeah. The UX of non-parinfer users is where it falls down for me in regular basis.</z><z id="t1502896109" t="shaunlebron it makes sense for parinfer users to see this: (foo) ;; bar but after parlinting before committing, it should be: (foo ;; bar ) "><y>#</y><d>2017-08-16</d><h>15:08</h><w>shaunlebron</w>it makes sense for parinfer users to see this:

<pre>(foo)
  ;; bar
</pre>

but after parlinting before committing, it should be:

<pre>(foo
  ;; bar
  )
</pre></z><z id="t1502896270" t="shaunlebron i’m not yet sure if parlinter is acceptable for projects, but it seems like a middle-ground to have this process in parlinter without affecting parinfer users"><y>#</y><d>2017-08-16</d><h>15:11</h><w>shaunlebron</w>i’m not yet sure if parlinter is acceptable for projects, but it seems like a middle-ground to have this process in parlinter without affecting parinfer users</z><z id="t1502896322" t="shaunlebron but it would only work if parlinter was adopted as pre-commit hook, which is probably asking too much"><y>#</y><d>2017-08-16</d><h>15:12</h><w>shaunlebron</w>but it would only work if parlinter was adopted as pre-commit hook, which is probably asking too much</z><z id="t1502896362" t="shaunlebron err, not a pre-commit hook, just as a normal part of the CI process"><y>#</y><d>2017-08-16</d><h>15:12</h><w>shaunlebron</w>err, not a pre-commit hook, just as a normal part of the CI process</z><z id="t1502896382" t="shaunlebron which doesn’t seem like a big deal to me anymore"><y>#</y><d>2017-08-16</d><h>15:13</h><w>shaunlebron</w>which doesn’t seem like a big deal to me anymore</z><z id="t1502896517" t="shaunlebron i’ll move forward with that unless objections"><y>#</y><d>2017-08-16</d><h>15:15</h><w>shaunlebron</w>i’ll move forward with that unless objections</z><z id="t1502896577" t="shaunlebron a new parenAfterComment option that defaults to off in parinfer, and defaults to on in parlinter"><y>#</y><d>2017-08-16</d><h>15:16</h><w>shaunlebron</w>a new <code>parenAfterComment</code> option that defaults to off in parinfer, and defaults to on in parlinter</z><z id="t1502897257" t="dominicm Oh, you mean failing in the CI process."><y>#</y><d>2017-08-16</d><h>15:27</h><w>dominicm</w>Oh, you mean failing in the CI process.</z><z id="t1502897309" t="dominicm So, this is probably obvious to you: Could parentAfterComment be turned on in parinfer?"><y>#</y><d>2017-08-16</d><h>15:28</h><w>dominicm</w>So, this is probably obvious to you: Could parentAfterComment be turned on in parinfer?</z><z id="t1502898633" t="shaunlebron yeah, i wouldn’t hide the option"><y>#</y><d>2017-08-16</d><h>15:50</h><w>shaunlebron</w>yeah, i wouldn’t hide the option</z><z id="t1502899248" t="dominicm [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] So with that option on, I would be able to edit files with the newline in?"><y>#</y><d>2017-08-16</d><h>16:00</h><w>dominicm</w><a>@shaunlebron</a> So with that option on, I would be able to edit files with the newline in?</z><z id="t1502899688" t="mattly kinda related to the above, idk if you saw this but: https://www.reddit.com/r/Clojure/comments/6treja/help_my_boss_is_forcing_me_to_use_emacs/"><y>#</y><d>2017-08-16</d><h>16:08</h><w>mattly</w>kinda related to the above, idk if you saw this but: <a href="https://www.reddit.com/r/Clojure/comments/6treja/help_my_boss_is_forcing_me_to_use_emacs/" target="_blank">https://www.reddit.com/r/Clojure/comments/6treja/help_my_boss_is_forcing_me_to_use_emacs/</a></z><z id="t1502902353" t="shaunlebron [:attrs {:href &quot;/_/_/users/U09LZR36F&quot;}] yes"><y>#</y><d>2017-08-16</d><h>16:52</h><w>shaunlebron</w><a>@dominicm</a> yes</z><z id="t1502902375" t="shaunlebron [:attrs {:href &quot;/_/_/users/U053V4R5N&quot;}] thanks, i didn’t see that"><y>#</y><d>2017-08-16</d><h>16:52</h><w>shaunlebron</w><a>@mattly</a> thanks, i didn’t see that</z><z id="t1502902384" t="dominicm What&apos;s the gotcha [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] ?"><y>#</y><d>2017-08-16</d><h>16:53</h><w>dominicm</w>What&apos;s the gotcha <a>@shaunlebron</a>?</z><z id="t1502902395" t="shaunlebron i’ll chime in about parlinter to see if that would work here"><y>#</y><d>2017-08-16</d><h>16:53</h><w>shaunlebron</w>i’ll chime in about parlinter to see if that would work here</z><z id="t1502902463" t="mattly I&apos;ve turned down offers from places that prescribe dev tooling"><y>#</y><d>2017-08-16</d><h>16:54</h><w>mattly</w>I&apos;ve turned down offers from places that prescribe dev tooling</z><z id="t1502902507" t="shaunlebron i think linters are more and more accepted now"><y>#</y><d>2017-08-16</d><h>16:55</h><w>shaunlebron</w>i think linters are more and more accepted now</z><z id="t1502902520" t="shaunlebron i only built parlinter after prettier became successful"><y>#</y><d>2017-08-16</d><h>16:55</h><w>shaunlebron</w>i only built parlinter after prettier became successful</z><z id="t1502902592" t="shaunlebron to your point, I hope that linting can reduce the need for prescribed devtooling, if it’s just the formatting they’re worried about"><y>#</y><d>2017-08-16</d><h>16:56</h><w>shaunlebron</w>to your point, I hope that linting can reduce the need for prescribed devtooling, if it’s just the formatting they’re worried about</z><z id="t1502902628" t="dominicm I&apos;ve had to fight an emacs bias at JUXT."><y>#</y><d>2017-08-16</d><h>16:57</h><w>dominicm</w>I&apos;ve had to fight an emacs bias at JUXT.</z><z id="t1502902698" t="dominicm [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] I feel like there&apos;s a catch to the comment thing, is there?"><y>#</y><d>2017-08-16</d><h>16:58</h><w>dominicm</w><a>@shaunlebron</a> I feel like there&apos;s a catch to the comment thing, is there?</z><z id="t1502902757" t="shaunlebron i kind of described it as “comment-reversibility” in the issue, but I’m not sure right now"><y>#</y><d>2017-08-16</d><h>16:59</h><w>shaunlebron</w>i kind of described it as “comment-reversibility” in the issue, but I’m not sure right now</z><z id="t1502902782" t="shaunlebron as a user it might be weird in some ways"><y>#</y><d>2017-08-16</d><h>16:59</h><w>shaunlebron</w>as a user it might be weird in some ways</z><z id="t1502902822" t="shaunlebron as the developer, it has some weirdness i have to work through, but I’m not sure it’s too bad from user perspective. i’ll have to look closer and let you know"><y>#</y><d>2017-08-16</d><h>17:00</h><w>shaunlebron</w>as the developer, it has some weirdness i have to work through, but I’m not sure it’s too bad from user perspective.  i’ll have to look closer and let you know</z><z id="t1502903859" t="dominicm Okay 😛 . I shall wait and see."><y>#</y><d>2017-08-16</d><h>17:17</h><w>dominicm</w>Okay <b>😛</b>. I shall wait and see.</z><z id="t1502905374" t="shaunlebron [:attrs {:href &quot;/_/_/users/U053V4R5N&quot;}] thanks for linking that thread, i added a comment"><y>#</y><d>2017-08-16</d><h>17:42</h><w>shaunlebron</w><a>@mattly</a> thanks for linking that thread, i added a comment</z><z id="t1502905388" t="mattly ofc"><y>#</y><d>2017-08-16</d><h>17:43</h><w>mattly</w>ofc</z><z id="t1502905394" t="mattly I should&apos;ve yesterday when I saw it"><y>#</y><d>2017-08-16</d><h>17:43</h><w>mattly</w>I should&apos;ve yesterday when I saw it</z><z id="t1502934483" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] Is there some discussion in parinfer issues about smart mode dropping to paren mode that I could look at? I’m particularly interested in releaseCursorHold ."><y>#</y><d>2017-08-17</d><h>01:48</h><w>cfleming</w><a>@shaunlebron</a> Is there some discussion in parinfer issues about smart mode dropping to paren mode that I could look at? I’m particularly interested in <code>releaseCursorHold</code>.</z><z id="t1502939681" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] yeah, this was the whole issue around dedenting in smart mode"><y>#</y><d>2017-08-17</d><h>03:14</h><w>shaunlebron</w><a>@cfleming</a> yeah, this was the whole issue around dedenting in smart mode</z><z id="t1502939713" t="shaunlebron i think some people expected “stickiness” behavior when dedenting"><y>#</y><d>2017-08-17</d><h>03:15</h><w>shaunlebron</w>i think some people expected “stickiness” behavior when dedenting</z><z id="t1502939799" t="shaunlebron (println {:a 1 :b 2} bar) "><y>#</y><d>2017-08-17</d><h>03:16</h><w>shaunlebron</w><pre>(println {:a 1
          :b 2}
  bar)
</pre></z><z id="t1502939852" t="shaunlebron deleting println should not cause bar to be absorbed into the map since the user could be typing something else"><y>#</y><d>2017-08-17</d><h>03:17</h><w>shaunlebron</w>deleting println should not cause <code>bar</code> to be absorbed into the map since the user could be typing something else</z><z id="t1502939865" t="cfleming Oh right, I remember now."><y>#</y><d>2017-08-17</d><h>03:17</h><w>cfleming</w>Oh right, I remember now.</z><z id="t1502939898" t="shaunlebron right, replacing println with foo without stickiness would allow: (foo {:a 1 :b 2} bar) "><y>#</y><d>2017-08-17</d><h>03:18</h><w>shaunlebron</w>right, replacing println with foo without stickiness would allow:

<pre>(foo {:a 1
      :b 2}
  bar)
</pre></z><z id="t1502939925" t="shaunlebron whereas stickiness would align bar with the map"><y>#</y><d>2017-08-17</d><h>03:18</h><w>shaunlebron</w>whereas stickiness would align bar with the map</z><z id="t1502939938" t="cfleming So releaseCursorHold releases the stickiness when the caret moves?"><y>#</y><d>2017-08-17</d><h>03:18</h><w>cfleming</w>So releaseCursorHold releases the stickiness when the caret moves?</z><z id="t1502939958" t="cfleming i.e. the user perhaps deletes println and then moves away without adding foo ?"><y>#</y><d>2017-08-17</d><h>03:19</h><w>cfleming</w>i.e. the user perhaps deletes <code>println</code> and then moves away without adding <code>foo</code>?</z><z id="t1502939964" t="shaunlebron the stickiness is an alternate solution that I didn’t go with"><y>#</y><d>2017-08-17</d><h>03:19</h><w>shaunlebron</w>the stickiness is an alternate solution that I didn’t go with</z><z id="t1502940004" t="shaunlebron stickiness means bar would be immediately dedented the moment the map reaches it"><y>#</y><d>2017-08-17</d><h>03:20</h><w>shaunlebron</w>stickiness means <code>bar</code> would be immediately dedented the moment the map reaches it</z><z id="t1502940025" t="shaunlebron and would “stick” to it afterwards when foo pushes it forward"><y>#</y><d>2017-08-17</d><h>03:20</h><w>shaunlebron</w>and would “stick” to it afterwards when <code>foo</code> pushes it forward</z><z id="t1502940075" t="shaunlebron but what you’re saying is right, if println is deleted, bar is dedented if cursor moves away without adding foo"><y>#</y><d>2017-08-17</d><h>03:21</h><w>shaunlebron</w>but what you’re saying is right, if <code>println</code> is deleted, <code>bar</code> is dedented if cursor moves away without adding <code>foo</code></z><z id="t1502940101" t="shaunlebron if you want all the hairy details: https://github.com/shaunlebron/parinfer/issues/143"><y>#</y><d>2017-08-17</d><h>03:21</h><w>shaunlebron</w>if you want all the hairy details: <a href="https://github.com/shaunlebron/parinfer/issues/143" target="_blank">https://github.com/shaunlebron/parinfer/issues/143</a></z><z id="t1502940163" t="cfleming Right, I see how that works. And that’s because paren mode is run on releaseCursorHold."><y>#</y><d>2017-08-17</d><h>03:22</h><w>cfleming</w>Right, I see how that works. And that’s because paren mode is run on releaseCursorHold.</z><z id="t1502940176" t="cfleming Thanks."><y>#</y><d>2017-08-17</d><h>03:22</h><w>cfleming</w>Thanks.</z><z id="t1502940201" t="cfleming I think I have a really good solution to my problems, which I’m just starting to integrate and test now."><y>#</y><d>2017-08-17</d><h>03:23</h><w>cfleming</w>I think I have a really good solution to my problems, which I’m just starting to integrate and test now.</z><z id="t1502940209" t="cfleming I’ll report back in the next couple of days."><y>#</y><d>2017-08-17</d><h>03:23</h><w>cfleming</w>I’ll report back in the next couple of days.</z><z id="t1503022877" t="cfleming Here’s a WIP of what this looks like in Cursive now."><y>#</y><d>2017-08-18</d><h>02:21</h><w>cfleming</w>Here’s a WIP of what this looks like in Cursive now.</z><z id="t1503022889" t="cfleming It never runs paren mode automatically, because of: https://github.com/shaunlebron/parinfer/wiki/Problems-integrating-parinfer-into-Cursive"><y>#</y><d>2017-08-18</d><h>02:21</h><w>cfleming</w>It never runs paren mode automatically, because of: <a href="https://github.com/shaunlebron/parinfer/wiki/Problems-integrating-parinfer-into-Cursive" target="_blank">https://github.com/shaunlebron/parinfer/wiki/Problems-integrating-parinfer-into-Cursive</a></z><z id="t1503022932" t="cfleming I made some trivial modifications to paren mode, so that it now returns where in the doc the indentation is incorrect, and I can now mark this in the editor:"><y>#</y><d>2017-08-18</d><h>02:22</h><w>cfleming</w>I made some trivial modifications to paren mode, so that it now returns where in the doc the indentation is incorrect, and I can now mark this in the editor:</z><z id="t1503022977" t="cfleming The markers get a tooltip explaining what’s going on:"><y>#</y><d>2017-08-18</d><h>02:22</h><w>cfleming</w>The markers get a tooltip explaining what’s going on:</z><z id="t1503023049" t="cfleming If the user modifies the document, they’ll be notified that parinfer cannot be applied:"><y>#</y><d>2017-08-18</d><h>02:24</h><w>cfleming</w>If the user modifies the document, they’ll be notified that parinfer cannot be applied:</z><z id="t1503023099" t="cfleming I don’t notify on caret movement even though parinfer can’t be applied then either, it’s a little intrusive."><y>#</y><d>2017-08-18</d><h>02:24</h><w>cfleming</w>I don’t notify on caret movement even though parinfer can’t be applied then either, it’s a little intrusive.</z><z id="t1503023134" t="cfleming It’s possible this is stockholm syndrome since I can’t do anything else, but I actually like this better than automatically running paren mode."><y>#</y><d>2017-08-18</d><h>02:25</h><w>cfleming</w>It’s possible this is stockholm syndrome since I can’t do anything else, but I actually like this better than automatically running paren mode.</z><z id="t1503023171" t="cfleming Here’s what I’m planning to do to improve this."><y>#</y><d>2017-08-18</d><h>02:26</h><w>cfleming</w>Here’s what I’m planning to do to improve this.</z><z id="t1503023236" t="cfleming The paren mode indentation check can also be trivially made to return the extents of all the top-level forms in the document, and also to record whether each top-level form is correctly indented or not."><y>#</y><d>2017-08-18</d><h>02:27</h><w>cfleming</w>The paren mode indentation check can also be trivially made to return the extents of all the top-level forms in the document, and also to record whether each top-level form is correctly indented or not.</z><z id="t1503023266" t="cfleming After these recent changes, parinfer is only run in response to a change or caret movement."><y>#</y><d>2017-08-18</d><h>02:27</h><w>cfleming</w>After these recent changes, parinfer is only run in response to a change or caret movement.</z><z id="t1503023364" t="cfleming So when I come to run it, I will have: 1. a list of changes and where in the doc they happened, 2. a list of top-level forms and whether they’re correctly indented or not."><y>#</y><d>2017-08-18</d><h>02:29</h><w>cfleming</w>So when I come to run it, I will have: 1. a list of changes and where in the doc they happened, 2. a list of top-level forms and whether they’re correctly indented or not.</z><z id="t1503023406" t="cfleming I can then run parinfer just over the top-level forms which are correctly indented, and which intersect with a change (i.e. the user made a modification within that form)."><y>#</y><d>2017-08-18</d><h>02:30</h><w>cfleming</w>I can then run parinfer just over the top-level forms which are correctly indented, and which intersect with a change (i.e. the user made a modification within that form).</z><z id="t1503023461" t="cfleming If any of the changes intersect top-level forms which cannot have parinfer run over them because their indentation is inconsistent, the user will get an error as above and parinfer will not run."><y>#</y><d>2017-08-18</d><h>02:31</h><w>cfleming</w>If any of the changes intersect top-level forms which cannot have parinfer run over them because their indentation is inconsistent, the user will get an error as above and parinfer will not run.</z><z id="t1503023506" t="cfleming It’s an open question whether I should run partially, i.e. process the top-level forms which are correctly indented even if some are not - I’ll need to try that."><y>#</y><d>2017-08-18</d><h>02:31</h><w>cfleming</w>It’s an open question whether I should run partially, i.e. process the top-level forms which are correctly indented even if some are not - I’ll need to try that.</z><z id="t1503023526" t="cfleming This has some really nice properties:"><y>#</y><d>2017-08-18</d><h>02:32</h><w>cfleming</w>This has some really nice properties:</z><z id="t1503023553" t="cfleming 1. Files are never modified just by looking at them, which is disturbing for many users (and me)."><y>#</y><d>2017-08-18</d><h>02:32</h><w>cfleming</w>1. Files are never modified just by looking at them, which is disturbing for many users (and me).</z><z id="t1503023616" t="cfleming 2. Parinfer will only be applied locally, so it will only make changes in the region of the file the user is modifying, and only when the user actually makes changes and is presumably looking to see what happened."><y>#</y><d>2017-08-18</d><h>02:33</h><w>cfleming</w>2. Parinfer will only be applied locally, so it will only make changes in the region of the file the user is modifying, and only when the user actually makes changes and is presumably looking to see what happened.</z><z id="t1503023671" t="cfleming 3. Even if a file is inconsistently indented, as long as the section of the file the user wants to work on is consistent, there’s no problem. The other section of the file will not be touched, and parinfer will work where the user is working."><y>#</y><d>2017-08-18</d><h>02:34</h><w>cfleming</w>3. Even if a file is inconsistently indented, as long as the section of the file the user wants to work on is consistent, there’s no problem. The other section of the file will not be touched, and parinfer will work where the user is working.</z><z id="t1503023707" t="cfleming 4. There’s no need for parlinter or anything similar, which should make adoption in mixed teams much easier."><y>#</y><d>2017-08-18</d><h>02:35</h><w>cfleming</w>4. There’s no need for parlinter or anything similar, which should make adoption in mixed teams much easier.</z><z id="t1503023780" t="cfleming There are a few details to work out, but I think this is a really nice model."><y>#</y><d>2017-08-18</d><h>02:36</h><w>cfleming</w>There are a few details to work out, but I think this is a really nice model.</z><z id="t1503024026" t="cfleming The integration is somewhat IntelliJ specific, but I think this should be relatively easy to integrate into any editor which supports markers like the above in the editor."><y>#</y><d>2017-08-18</d><h>02:40</h><w>cfleming</w>The integration is somewhat IntelliJ specific, but I think this should be relatively easy to integrate into any editor which supports markers like the above in the editor.</z><z id="t1503024148" t="cfleming One more screenshot - if the line is incorrectly dedented and there’s no whitespace at the line start, the first char is marked:"><y>#</y><d>2017-08-18</d><h>02:42</h><w>cfleming</w>One more screenshot - if the line is incorrectly dedented and there’s no whitespace at the line start, the first char is marked:</z><z id="t1503055949" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : wow, this is great!"><y>#</y><d>2017-08-18</d><h>11:32</h><w>shaunlebron</w><a>@cfleming</a>: wow, this is great!</z><z id="t1503071311" t="shaunlebron will you mark other things that paren mode corrects? paren trails"><y>#</y><d>2017-08-18</d><h>15:48</h><w>shaunlebron</w>will you mark other things that paren mode corrects? paren trails</z><z id="t1503082478" t="cfleming No, the important thing I want to communicate to the user is what they need to fix to get the doc into a valid state."><y>#</y><d>2017-08-18</d><h>18:54</h><w>cfleming</w>No, the important thing I want to communicate to the user is what they need to fix to get the doc into a valid state.</z><z id="t1503082484" t="cfleming That’s only indentation, really."><y>#</y><d>2017-08-18</d><h>18:54</h><w>cfleming</w>That’s only indentation, really.</z><z id="t1503082498" t="cfleming Then they can fix it by hand, or reformat the doc, or whatever."><y>#</y><d>2017-08-18</d><h>18:54</h><w>cfleming</w>Then they can fix it by hand, or reformat the doc, or whatever.</z><z id="t1503082779" t="shaunlebron so close-parens at the start of a line will be moved when a file is opened, as long as the indentation is fine?"><y>#</y><d>2017-08-18</d><h>18:59</h><w>shaunlebron</w>so close-parens at the start of a line will be moved when a file is opened, as long as the indentation is fine?</z><z id="t1503083127" t="cfleming No, but close parens at the start of a line wouldn’t prevent parinfer from running, right? They’ll just get tidied up when it does."><y>#</y><d>2017-08-18</d><h>19:05</h><w>cfleming</w>No, but close parens at the start of a line wouldn’t prevent parinfer from running, right? They’ll just get tidied up when it does.</z><z id="t1503083181" t="cfleming I guess that will cause paren mode to run, so I could detect that case in order to just go ahead and run paren mode rather than smart mode, but it’s not something the user should have to think about."><y>#</y><d>2017-08-18</d><h>19:06</h><w>cfleming</w>I guess that will cause paren mode to run, so I could detect that case in order to just go ahead and run paren mode rather than smart mode, but it’s not something the user should have to think about.</z><z id="t1503088944" t="shaunlebron I’m not sure what “prevent parinfer from running” means"><y>#</y><d>2017-08-18</d><h>20:42</h><w>shaunlebron</w>I’m not sure what “prevent parinfer from running” means</z><z id="t1503089127" t="shaunlebron incorrect indentation doesn’t prevent parinfer from running, so if you mean “cause parinfer to perform structural changes”, then I suppose it’s okay to ignore paren movement"><y>#</y><d>2017-08-18</d><h>20:45</h><w>shaunlebron</w>incorrect indentation doesn’t prevent parinfer from running, so if you mean “cause parinfer to perform structural changes”, then I suppose it’s okay to ignore paren movement</z><z id="t1503089154" t="shaunlebron but this does violate your first property “1. Files are never modified just by looking at them”"><y>#</y><d>2017-08-18</d><h>20:45</h><w>shaunlebron</w>but this does violate your first property “1. Files are never modified just by looking at them”</z><z id="t1503096691" t="cfleming You’re right that it doesn’t prevent parinfer from running, but it does prevent me from running it without breaking people’s code which is the problem I’m actually trying to solve."><y>#</y><d>2017-08-18</d><h>22:51</h><w>cfleming</w>You’re right that it doesn’t prevent parinfer from running, but it does prevent me from running it without breaking people’s code which is the problem I’m actually trying to solve.</z><z id="t1503096757" t="cfleming I’m not sure I understand - why would that violate the first property? That just says that a file will never be modified simply by opening it, which is very surprising to users right now."><y>#</y><d>2017-08-18</d><h>22:52</h><w>cfleming</w>I’m not sure I understand - why would that violate the first property? That just says that a file will never be modified simply by opening it, which is very surprising to users right now.</z><z id="t1503103250" t="shaunlebron I misunderstood—you’re only applying the markers after a user modifies the document"><y>#</y><d>2017-08-19</d><h>00:40</h><w>shaunlebron</w>I misunderstood—you’re only applying the markers after a user modifies the document</z><z id="t1503103324" t="shaunlebron and this solves your problem because you are now running paren mode after every edit? actually I’m still unsure how this solves your problem"><y>#</y><d>2017-08-19</d><h>00:42</h><w>shaunlebron</w>and this solves your problem because you are now running paren mode after every edit?  actually I’m still unsure how this solves your problem</z><z id="t1503103899" t="shaunlebron Your new steps as I understand them: 1. On file open, parinfer is not used to do any processing. 2. On file edit, parinfer is only applied if indentation was correct prior to the edit. otherwise, mark the offending lines."><y>#</y><d>2017-08-19</d><h>00:51</h><w>shaunlebron</w>Your new steps as I understand them:

1. On file open, parinfer is not used to do any processing.
2. On file edit, parinfer is only applied if indentation was correct prior to the edit.  otherwise, mark the offending lines.</z><z id="t1503103962" t="shaunlebron step 2 seems to contradict this section, saying it’s impossible: https://github.com/shaunlebron/parinfer/wiki/Problems-integrating-parinfer-into-Cursive#run-paren-mode-before-editor-action"><y>#</y><d>2017-08-19</d><h>00:52</h><w>shaunlebron</w>step 2 seems to contradict this section, saying it’s impossible: <a href="https://github.com/shaunlebron/parinfer/wiki/Problems-integrating-parinfer-into-Cursive#run-paren-mode-before-editor-action" target="_blank">https://github.com/shaunlebron/parinfer/wiki/Problems-integrating-parinfer-into-Cursive#run-paren-mode-before-editor-action</a></z><z id="t1503109901" t="cfleming So the thing that makes all this possible that I only just figured out this week is that in a document modification listener I can’t modify the document contents, but I can add markers."><y>#</y><d>2017-08-19</d><h>02:31</h><w>cfleming</w>So the thing that makes all this possible that I only just figured out this week is that in a document modification listener I can’t modify the document contents, but I can add markers.</z><z id="t1503110004" t="cfleming So briefly, the flow is this:"><y>#</y><d>2017-08-19</d><h>02:33</h><w>cfleming</w>So briefly, the flow is this:</z><z id="t1503110020" t="cfleming 1. On file open, no processing is performed, correct."><y>#</y><d>2017-08-19</d><h>02:33</h><w>cfleming</w>1. On file open, no processing is performed, correct.</z><z id="t1503110094" t="cfleming 2. The “bad indentation” markers are calculated and applied in an inspection, which runs on the background all the time. So they will always be visible when the user is in paredit mode, they’re not dependent on any particular stage of this process."><y>#</y><d>2017-08-19</d><h>02:34</h><w>cfleming</w>2. The “bad indentation” markers are calculated and applied in an inspection, which runs on the background all the time. So they will always be visible when the user is in paredit mode, they’re not dependent on any particular stage of this process.</z><z id="t1503110181" t="cfleming 3. On first document edit, before the edit is applied I run my paren mode indentation check and record the results. I apply markers to the document corresponding to the edit, and record what the indent delta for that particular edit is."><y>#</y><d>2017-08-19</d><h>02:36</h><w>cfleming</w>3. On first document edit, before the edit is applied I run my paren mode indentation check and record the results. I apply markers to the document corresponding to the edit, and record what the indent delta for that particular edit is.</z><z id="t1503110260" t="cfleming 4. When the series of edits (IntelliJ calls this a Command, basically an undoable group of edits) finishes, I check the indentation results from step 3. If the indentation was correct before the command started then I apply parinfer, otherwise I show the warning. The changes to pass to parinfer are calculated from the markers from step 2."><y>#</y><d>2017-08-19</d><h>02:37</h><w>cfleming</w>4. When the series of edits (IntelliJ calls this a Command, basically an undoable group of edits) finishes, I check the indentation results from step 3. If the indentation was correct before the command started then I apply parinfer, otherwise I show the warning. The changes to pass to parinfer are calculated from the markers from step 2.</z><z id="t1503110313" t="cfleming I have this all working now, and although I’ve only done rudimentary testing so far it seems to work fine."><y>#</y><d>2017-08-19</d><h>02:38</h><w>cfleming</w>I have this all working now, and although I’ve only done rudimentary testing so far it seems to work fine.</z><z id="t1503110509" t="cfleming This also happens based on caret movement, which works in a similar way."><y>#</y><d>2017-08-19</d><h>02:41</h><w>cfleming</w>This also happens based on caret movement, which works in a similar way.</z><z id="t1503122162" t="cfleming So next week I’m going to try the top-level form improvement, and I also have to see if I can modify parinfer to handle multiple caret positions in a sensible way."><y>#</y><d>2017-08-19</d><h>05:56</h><w>cfleming</w>So next week I’m going to try the top-level form improvement, and I also have to see if I can modify parinfer to handle multiple caret positions in a sensible way.</z><z id="t1503122231" t="cfleming Basically, for each editor viewing a particular document, I’ll have a prevCursor and cursor position."><y>#</y><d>2017-08-19</d><h>05:57</h><w>cfleming</w>Basically, for each editor viewing a particular document, I’ll have a prevCursor and cursor position.</z><z id="t1503122324" t="cfleming Once I have a working WIP I’ll put it somewhere so interested people can try it out."><y>#</y><d>2017-08-19</d><h>05:58</h><w>cfleming</w>Once I have a working WIP I’ll put it somewhere so interested people can try it out.</z><z id="t1503129600" t="cfleming Is it a true statement that caret movement can only affect how parinfer indents code/retains parens at the point the caret is moving from?"><y>#</y><d>2017-08-19</d><h>08:00</h><w>cfleming</w>Is it a true statement that caret movement can only affect how parinfer indents code/retains parens at the point the caret is moving from?</z><z id="t1503129634" t="cfleming i.e. if I move the caret from some point in a document to another point, that will never affect the result at the destination point until the user starts editing there."><y>#</y><d>2017-08-19</d><h>08:00</h><w>cfleming</w>i.e. if I move the caret from some point in a document to another point, that will never affect the result at the destination point until the user starts editing there.</z><z id="t1503132127" t="rgdelato I don&apos;t know if this is what you mean, but (foo |) will become (foo|) if you move your caret to the top line"><y>#</y><d>2017-08-19</d><h>08:42</h><w>rgdelato</w>I don&apos;t know if this is what you mean, but
<pre>(foo
  |)
</pre>
will become 
<pre>(foo|)
</pre>
if you move your caret to the top line</z><z id="t1503135903" t="cfleming Right, but that’s caused by the caret leaving line 2. So if you e.g. clicked in a totally different form, only the form the caret is leaving will be affected."><y>#</y><d>2017-08-19</d><h>09:45</h><w>cfleming</w>Right, but that’s caused by the caret leaving line 2. So if you e.g. clicked in a totally different form, only the form the caret is leaving will be affected.</z><z id="t1503155864" t="shaunlebron parinfer will suspend certain operations around forms that the cursor is touching"><y>#</y><d>2017-08-19</d><h>15:17</h><w>shaunlebron</w>parinfer will suspend certain operations around forms that the cursor is touching</z><z id="t1503155886" t="shaunlebron when the cursor leaves, the form is released"><y>#</y><d>2017-08-19</d><h>15:18</h><w>shaunlebron</w>when the cursor leaves, the form is released</z><z id="t1503156070" t="shaunlebron when the cursor enters a new form, the form is probably already normalized, so there are really no rules to suspend until something is edited"><y>#</y><d>2017-08-19</d><h>15:21</h><w>shaunlebron</w>when the cursor enters a new form, the form is probably already normalized, so there are really no rules to suspend until something is edited</z><z id="t1503156097" t="shaunlebron so I think it’s safe to assume your stated property is correct (i.e. cursor entering a new form will not modify it)"><y>#</y><d>2017-08-19</d><h>15:21</h><w>shaunlebron</w>so I think it’s safe to assume your stated property is correct (i.e. cursor entering a new form will not modify it)</z><z id="t1503173770" t="Aron anyone using neovim/linux?"><y>#</y><d>2017-08-19</d><h>20:16</h><w>Aron</w>anyone using neovim/linux?</z><z id="t1503179980" t="dominicm Yep!"><y>#</y><d>2017-08-19</d><h>21:59</h><w>dominicm</w>Yep!</z><z id="t1503199312" t="Aron [:attrs {:href &quot;/_/_/users/U09LZR36F&quot;}] may i inquire you about your setup? i&apos;ve been trying to config parinfer with this node-host thing and saying that i was unsuccessful is an understatement."><y>#</y><d>2017-08-20</d><h>03:21</h><w>Aron</w><a>@dominicm</a> may i inquire you about your setup? i&apos;ve been trying to config parinfer with this node-host thing and saying that i was unsuccessful is an understatement.</z><z id="t1503205836" t="dominicm [:attrs {:href &quot;/_/_/users/U0VQ4N5EE&quot;}] node host recently had some changes. It&apos;s possibly broken.."><y>#</y><d>2017-08-20</d><h>05:10</h><w>dominicm</w><a>@ashnur</a> node host recently had some changes. It&apos;s possibly broken..</z><z id="t1503212489" t="Aron i tried to downgrade it"><y>#</y><d>2017-08-20</d><h>07:01</h><w>Aron</w>i tried to downgrade it</z><z id="t1503213213" t="Aron [:attrs {:href &quot;/_/_/users/U09LZR36F&quot;}] but it&apos;s not broken for you? or you are not using it? as I said, I am curious if someone uses these tools in this combination so I can perhaps fix my config based on what already works"><y>#</y><d>2017-08-20</d><h>07:13</h><w>Aron</w><a>@dominicm</a> but it&apos;s not broken for you? or you are not using it? as I said, I am curious if someone uses these tools in this combination so I can perhaps fix my config based on what already works</z><z id="t1503217784" t="dominicm I haven&apos;t used it super recently. But I had it working about a month or so now I think."><y>#</y><d>2017-08-20</d><h>08:29</h><r>dominicm</r>I haven&apos;t used it super recently. But I had it working about a month or so now I think.</z><z id="t1503218780" t="Aron i see, thanks"><y>#</y><d>2017-08-20</d><h>08:46</h><r>Aron</r>i see, thanks</z><z id="t1503254567" t="dominicm I&apos;d recommend trying without the recent flurry of activity on node-host."><y>#</y><d>2017-08-20</d><h>18:42</h><r>dominicm</r>I&apos;d recommend trying without the recent flurry of activity on node-host.</z><z id="t1503301381" t="cfleming There’s a problem with my new system, which is that paren mode (and hence my indentation check) isn’t aware of paren holding."><y>#</y><d>2017-08-21</d><h>07:43</h><w>cfleming</w>There’s a problem with my new system, which is that paren mode (and hence my indentation check) isn’t aware of paren holding.</z><z id="t1503301407" t="cfleming So in the classic case: (println {:a 1 :b 2} foo) "><y>#</y><d>2017-08-21</d><h>07:43</h><w>cfleming</w>So in the classic case:
<pre>(println {:a 1
          :b 2}
         foo)
</pre></z><z id="t1503301437" t="cfleming As soon as I start deleting the println , Cursive starts complaining that the indentation is incorrect, and stops applying parinfer."><y>#</y><d>2017-08-21</d><h>07:43</h><w>cfleming</w>As soon as I start deleting the <code>println</code>, Cursive starts complaining that the indentation is incorrect, and stops applying parinfer.</z><z id="t1503301448" t="cfleming I’ll have to try to fix that tomorrow."><y>#</y><d>2017-08-21</d><h>07:44</h><w>cfleming</w>I’ll have to try to fix that tomorrow.</z><z id="t1503623430" t="shaunlebron just finished my second week working on something for the new page that just didn’t work out"><y>#</y><d>2017-08-25</d><h>01:10</h><w>shaunlebron</w>just finished my second week working on something for the new page that just didn’t work out</z><z id="t1503623563" t="shaunlebron i setup codemirror to transition the characters that were being shifted by parinfer, as a means to better illustrate the new things, but seeing it actually moving around is more noisy than it is clarifying, which is a bummer"><y>#</y><d>2017-08-25</d><h>01:12</h><w>shaunlebron</w>i setup codemirror to transition the characters that were being shifted by parinfer, as a means to better illustrate the new things, but seeing it actually moving around is more noisy than it is clarifying, which is a bummer</z><z id="t1503623734" t="shaunlebron interestingly, I think the indent guides (vertical bars below open-parens of multi-line expressions) just better illustrate what is happening without adding noise"><y>#</y><d>2017-08-25</d><h>01:15</h><w>shaunlebron</w>interestingly, I think the indent guides (vertical bars below open-parens of multi-line expressions) just better illustrate what is happening without adding noise</z><z id="t1503623772" t="shaunlebron i’m gonna gather my thoughts on it this weekend as we flee the hurricane!"><y>#</y><d>2017-08-25</d><h>01:16</h><w>shaunlebron</w>i’m gonna gather my thoughts on it this weekend as we flee the hurricane!</z><z id="t1503625013" t="shaunlebron also, my conj talk on all this stuff was accepted, so I’ll be preparing material for that"><y>#</y><d>2017-08-25</d><h>01:36</h><w>shaunlebron</w>also, my conj talk on all this stuff was accepted, so I’ll be preparing material for that</z><z id="t1503643632" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] Congrats!"><y>#</y><d>2017-08-25</d><h>06:47</h><w>cfleming</w><a>@shaunlebron</a> Congrats!</z><z id="t1503643681" t="cfleming I have v3 working in Cursive with the indentation problem marking, but I’m just working through a couple of bugs before a test release."><y>#</y><d>2017-08-25</d><h>06:48</h><w>cfleming</w>I have v3 working in Cursive with the indentation problem marking, but I’m just working through a couple of bugs before a test release.</z><z id="t1503643925" t="cfleming Once that is fixed I’ll add the top-level-form improvement. I already have the code written to return the information, I just need to allow running parinfer over a partial section of a file."><y>#</y><d>2017-08-25</d><h>06:52</h><w>cfleming</w>Once that is fixed I’ll add the top-level-form improvement. I already have the code written to return the information, I just need to allow running parinfer over a partial section of a file.</z><z id="t1503648259" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : I’m returning a parens tree which can be used to find top-level expressions"><y>#</y><d>2017-08-25</d><h>08:04</h><w>shaunlebron</w><a>@cfleming</a>: I’m returning a <code>parens</code> tree which can be used to find top-level expressions</z><z id="t1503648303" t="cfleming Right, I’m actually not returning that in my version - I could have used that."><y>#</y><d>2017-08-25</d><h>08:05</h><w>cfleming</w>Right, I’m actually not returning that in my version - I could have used that.</z><z id="t1503648328" t="cfleming I trimmed out most of the things I’m not using to make porting faster, I’ll add them back in when I update the official parinfer-kt"><y>#</y><d>2017-08-25</d><h>08:05</h><w>cfleming</w>I trimmed out most of the things I’m not using to make porting faster, I’ll add them back in when I update the official parinfer-kt</z><z id="t1503648344" t="cfleming At the time I didn’t think I’d be doing the top level form thing."><y>#</y><d>2017-08-25</d><h>08:05</h><w>cfleming</w>At the time I didn’t think I’d be doing the top level form thing.</z><z id="t1503648368" t="shaunlebron makes sense!"><y>#</y><d>2017-08-25</d><h>08:06</h><w>shaunlebron</w>makes sense!</z><z id="t1503648392" t="cfleming But it’s also trivial to return that info from onOpenParen and onBalancedCloseParen, and as a bonus I can record while scanning which of them are balanced."><y>#</y><d>2017-08-25</d><h>08:06</h><w>cfleming</w>But it’s also trivial to return that info from onOpenParen and onBalancedCloseParen, and as a bonus I can record while scanning which of them are balanced.</z><z id="t1503648428" t="shaunlebron yeah, they’re also helpful for drawing indent guides correctly"><y>#</y><d>2017-08-25</d><h>08:07</h><w>shaunlebron</w>yeah, they’re also helpful for drawing indent guides correctly</z><z id="t1503648443" t="cfleming Right, IntelliJ actually draws those automatically anyway."><y>#</y><d>2017-08-25</d><h>08:07</h><w>cfleming</w>Right, IntelliJ actually draws those automatically anyway.</z><z id="t1503648451" t="cfleming They’re really nice for Clojure."><y>#</y><d>2017-08-25</d><h>08:07</h><w>cfleming</w>They’re really nice for Clojure.</z><z id="t1503648485" t="shaunlebron I actually published 3.11.0 tonight with some parens tree fixes since I noticed some problems when testing them in CodeMirror before adding them to Atom"><y>#</y><d>2017-08-25</d><h>08:08</h><w>shaunlebron</w>I actually published 3.11.0 tonight with some <code>parens</code> tree fixes since I noticed some problems when testing them in CodeMirror before adding them to Atom</z><z id="t1503648502" t="shaunlebron (testing indent guides I mean)"><y>#</y><d>2017-08-25</d><h>08:08</h><w>shaunlebron</w>(testing indent guides I mean)</z><z id="t1503648530" t="cfleming Ok, I’ll check out those changes."><y>#</y><d>2017-08-25</d><h>08:08</h><w>cfleming</w>Ok, I’ll check out those changes.</z><z id="t1503648548" t="cfleming I have one last bug to squash, but I think it’s a bug in my integration, not in parinfer itself."><y>#</y><d>2017-08-25</d><h>08:09</h><w>cfleming</w>I have one last bug to squash, but I think it’s a bug in my integration, not in parinfer itself.</z><z id="t1503648604" t="cfleming But I think the integration in Cursive is really nice now, it’s a huge improvement."><y>#</y><d>2017-08-25</d><h>08:10</h><w>cfleming</w>But I think the integration in Cursive is really nice now, it’s a huge improvement.</z><z id="t1503648626" t="cfleming I need to work on cut and paste, which has always been a problem."><y>#</y><d>2017-08-25</d><h>08:10</h><w>cfleming</w>I need to work on cut and paste, which has always been a problem.</z><z id="t1503648649" t="cfleming IntelliJ tries to be smart about indenting pasted code, and it interacts badly with parinfer."><y>#</y><d>2017-08-25</d><h>08:10</h><w>cfleming</w>IntelliJ tries to be smart about indenting pasted code, and it interacts badly with parinfer.</z><z id="t1503648884" t="cfleming Looks nice!"><y>#</y><d>2017-08-25</d><h>08:14</h><w>cfleming</w>Looks nice!</z><z id="t1503648916" t="shaunlebron it’s on now in the demo editor: https://shaunlebron.github.io/parinfer/demo"><y>#</y><d>2017-08-25</d><h>08:15</h><w>shaunlebron</w>it’s on now in the demo editor: <a href="https://shaunlebron.github.io/parinfer/demo" target="_blank">https://shaunlebron.github.io/parinfer/demo</a></z><z id="t1503648933" t="cfleming BTW what do you use to record gifs?"><y>#</y><d>2017-08-25</d><h>08:15</h><w>cfleming</w>BTW what do you use to record gifs?</z></g><g id="s18"><z id="t1503648951" t="shaunlebron thanks! i think i’m convinced that tab stops are crucial for understanding what parinfer is doing now"><y>#</y><d>2017-08-25</d><h>08:15</h><w>shaunlebron</w>thanks! i think i’m convinced that tab stops are crucial for understanding what parinfer is doing now</z><z id="t1503648989" t="shaunlebron oh, i’ve been recording screencasts with ScreenFlow on mac for a while"><y>#</y><d>2017-08-25</d><h>08:16</h><w>shaunlebron</w>oh, i’ve been recording screencasts with ScreenFlow on mac for a while</z><z id="t1503649037" t="cfleming And that converts to gif?"><y>#</y><d>2017-08-25</d><h>08:17</h><w>cfleming</w>And that converts to gif?</z><z id="t1503649045" t="shaunlebron yeah, it exports"><y>#</y><d>2017-08-25</d><h>08:17</h><w>shaunlebron</w>yeah, it exports</z><z id="t1503649055" t="shaunlebron I used to just use quicktime video recorder and upload to gfycat"><y>#</y><d>2017-08-25</d><h>08:17</h><w>shaunlebron</w>I used to just use quicktime video recorder and upload to gfycat</z><z id="t1503649059" t="cfleming Cool, I’ll check it out."><y>#</y><d>2017-08-25</d><h>08:17</h><w>cfleming</w>Cool, I’ll check it out.</z><z id="t1503649092" t="cfleming I’m pretty convinced that marking the incorrect indentation and letting the user fix it is the right approach, BTW. I’ll be interested to see what you think when I have it ready to try."><y>#</y><d>2017-08-25</d><h>08:18</h><w>cfleming</w>I’m pretty convinced that marking the incorrect indentation and letting the user fix it is the right approach, BTW. I’ll be interested to see what you think when I have it ready to try.</z><z id="t1503649128" t="shaunlebron i’m pretty excited about it too, looking forward to digging into it"><y>#</y><d>2017-08-25</d><h>08:18</h><w>shaunlebron</w>i’m pretty excited about it too, looking forward to digging into it</z><z id="t1503649163" t="cfleming When I record the incorrect indentation, I also know what paren mode would correct it to, so hopefully I can show that somehow (perhaps a light green marker up to the right point then a red one after that or something)"><y>#</y><d>2017-08-25</d><h>08:19</h><w>cfleming</w>When I record the incorrect indentation, I also know what paren mode would correct it to, so hopefully I can show that somehow (perhaps a light green marker up to the right point then a red one after that or something)</z><z id="t1503649181" t="cfleming To guide the user to do the right thing."><y>#</y><d>2017-08-25</d><h>08:19</h><w>cfleming</w>To guide the user to do the right thing.</z><z id="t1503649217" t="shaunlebron yeah, interesting"><y>#</y><d>2017-08-25</d><h>08:20</h><w>shaunlebron</w>yeah, interesting</z><z id="t1503649251" t="shaunlebron does cursive add indent guides under maps and vectors?"><y>#</y><d>2017-08-25</d><h>08:20</h><w>shaunlebron</w>does cursive add indent guides under maps and vectors?</z><z id="t1503649352" t="shaunlebron oh, and if you’re using forceBalance off in cursive, you’ll want to pull in the 3.11.0 change which fixes an annoying problem I’ve been seeing in atom"><y>#</y><d>2017-08-25</d><h>08:22</h><w>shaunlebron</w>oh, and if you’re using <code>forceBalance</code> off in cursive, you’ll want to pull in the 3.11.0 change which fixes an annoying problem I’ve been seeing in atom</z><z id="t1503649408" t="shaunlebron (i.e. unmatched close-parens are now removed when in a leading paren trail, if that makes sense)"><y>#</y><d>2017-08-25</d><h>08:23</h><w>shaunlebron</w>(i.e. unmatched close-parens are now removed when in a leading paren trail, if that makes sense)</z><z id="t1503649439" t="shaunlebron I’m up too late, catch up soon!"><y>#</y><d>2017-08-25</d><h>08:23</h><w>shaunlebron</w>I’m up too late, catch up soon!</z><z id="t1503650003" t="cfleming Ok, I’ll check it out, thanks!"><y>#</y><d>2017-08-25</d><h>08:33</h><w>cfleming</w>Ok, I’ll check it out, thanks!</z><z id="t1503683726" t="rgdelato [:attrs {:href &quot;/_/_/users/U04V70XH6&quot;}] Hopefully Parinfer v3 should mean that you won&apos;t have to switch modes anymore. If you have the latest Parinfer in Atom, maybe turning on &quot;Smart Mode&quot; in the package settings can fix some of your issues? My understanding is that the Atom Parinfer plugin will be switched over to v3 &quot;Smart Mode&quot; by default once the kinks are worked out."><y>#</y><d>2017-08-25</d><h>17:55</h><w>rgdelato</w><a>@seancorfield</a> Hopefully Parinfer v3 should mean that you won&apos;t have to switch modes anymore. If you have the latest Parinfer in Atom, maybe turning on &quot;Smart Mode&quot; in the package settings can fix some of your issues?

My understanding is that the Atom Parinfer plugin will be switched over to v3 &quot;Smart Mode&quot; by default once the kinks are worked out.</z><z id="t1503684978" t="seancorfield Ah, I&apos;d shied away from that because it was marked &quot;Experimental&quot; but I&apos;ll give it a go today -- thanks [:attrs {:href &quot;/_/_/users/U47KWM4UV&quot;}] !"><y>#</y><d>2017-08-25</d><h>18:16</h><w>seancorfield</w>Ah, I&apos;d shied away from that because it was marked &quot;Experimental&quot; but I&apos;ll give it a go today -- thanks <a>@rgdelato</a> !</z><z id="t1503698914" t="seancorfield This seems to &quot;mostly&quot; work but has broken my code once (doing an operation that work not break in Indent mode) and it sometimes produces really funky indentation so I think I&apos;m going to turn it back off for now [:attrs {:href &quot;/_/_/users/U47KWM4UV&quot;}]"><y>#</y><d>2017-08-25</d><h>22:08</h><r>seancorfield</r>This seems to &quot;mostly&quot; work but has broken my code once (doing an operation that work not break in Indent mode) and it sometimes produces really funky indentation so I think I&apos;m going to turn it back off for now <a>@rgdelato</a></z><z id="t1503699040" t="rgdelato Okay, fair enough. If you have the time, please report your issues on the repo! https://github.com/shaunlebron/parinfer/ Shaun is currently busy making a new website and preparing a Conj talk for Parinfer, so it won&apos;t be fixed immediately, but having these issues documented is really important"><y>#</y><d>2017-08-25</d><h>22:10</h><r>rgdelato</r>Okay, fair enough. If you have the time, please report your issues on the repo!

<a href="https://github.com/shaunlebron/parinfer/" target="_blank">https://github.com/shaunlebron/parinfer/</a>

Shaun is currently busy making a new website and preparing a Conj talk for Parinfer, so it won&apos;t be fixed immediately, but having these issues documented is really important</z><z id="t1503699096" t="rgdelato [:attrs {:href &quot;/_/_/users/U04V70XH6&quot;}]"><y>#</y><d>2017-08-25</d><h>22:11</h><r>rgdelato</r><a>@seancorfield</a></z><z id="t1503699160" t="seancorfield Aye, if I can reproduce the weirdness I saw, I will definitely let Shaun know."><y>#</y><d>2017-08-25</d><h>22:12</h><r>seancorfield</r>Aye, if I can reproduce the weirdness I saw, I will definitely let Shaun know.</z><z id="t1503699231" t="seancorfield This particular issue seemed to be an interaction between Parinfer&apos;s &quot;smart mode&quot; and Paredit&apos;s attempt to indent code after a slurp operation wrapped across multiple lines."><y>#</y><d>2017-08-25</d><h>22:13</h><r>seancorfield</r>This particular issue seemed to be an interaction between Parinfer&apos;s &quot;smart mode&quot; and Paredit&apos;s attempt to indent code after a slurp operation wrapped across multiple lines.</z><z id="t1503698316" t="dominicm [:attrs {:href &quot;/_/_/users/U0VQ4N5EE&quot;}] I just fixed the other clojure plugin that&apos;s designed the same way. Steps I took: rm -rf ~/.config/nvim/plugged/node-host Then this is my plugin config: Plug &apos;neovim/node-host&apos;, {&apos;commit&apos;: &apos;c1c4872a6a6837f333d8470185e0ea0f10256e3c&apos;, &apos;do&apos;: &apos;npm install&apos;} Plug &apos;clojure-vim/clj-refactor.nvim&apos;, {&apos;do&apos;: &apos;:UpdateRemotePlugins&apos;} Then I did :PlugInstall :UpdateRemotePlugins :q and now the stuff is working again."><y>#</y><d>2017-08-25</d><h>21:58</h><w>dominicm</w><a>@ashnur</a> I just fixed the other clojure plugin that&apos;s designed the same way. Steps I took:

<pre>rm -rf ~/.config/nvim/plugged/node-host
</pre>

Then this is my plugin config:

<pre>Plug &apos;neovim/node-host&apos;, {&apos;commit&apos;: &apos;c1c4872a6a6837f333d8470185e0ea0f10256e3c&apos;, &apos;do&apos;: &apos;npm install&apos;}
Plug &apos;clojure-vim/clj-refactor.nvim&apos;, {&apos;do&apos;: &apos;:UpdateRemotePlugins&apos;}
</pre>

Then I did

<pre>:PlugInstall
:UpdateRemotePlugins
:q
</pre>

and now the stuff is working again.</z><z id="t1503698392" t="dominicm Looks like node-client made some major api changes, that forces a dependency on babel now."><y>#</y><d>2017-08-25</d><h>21:59</h><w>dominicm</w>Looks like node-client made some major api changes, that forces a dependency on babel now.</z><z id="t1503706490" t="Aron will check soon, thanks"><y>#</y><d>2017-08-26</d><h>00:14</h><w>Aron</w>will check soon, thanks</z><z id="t1503796982" t="Drew Verlee Whats the current state of parinfer with spacemacs?"><y>#</y><d>2017-08-27</d><h>01:23</h><w>Drew Verlee</w>Whats the current state of parinfer with spacemacs?</z><z id="t1503797055" t="Drew Verlee The instructions online seem to suggest i should jsut be able to add a layer. But spacemacs complains their is no such package"><y>#</y><d>2017-08-27</d><h>01:24</h><w>Drew Verlee</w>The instructions online seem to suggest i should jsut be able to add a layer. But spacemacs complains their is no such package</z><z id="t1503797205" t="Drew Verlee http://develop.spacemacs.org/layers/+misc/parinfer/README.html"><y>#</y><d>2017-08-27</d><h>01:26</h><w>Drew Verlee</w><a href="http://develop.spacemacs.org/layers/+misc/parinfer/README.html" target="_blank">http://develop.spacemacs.org/layers/+misc/parinfer/README.html</a></z><z id="t1503880944" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0DJ4T5U1&quot;}] looks like the author isn’t in the clojure community, and therefore not in this slack rom"><y>#</y><d>2017-08-28</d><h>00:42</h><w>shaunlebron</w><a>@drewverlee</a> looks like the author isn’t in the clojure community, and therefore not in this slack rom</z><z id="t1503880956" t="shaunlebron might wanna ask in the issue here: https://github.com/syl20bnr/spacemacs/issues/5574"><y>#</y><d>2017-08-28</d><h>00:42</h><w>shaunlebron</w>might wanna ask in the issue here: <a href="https://github.com/syl20bnr/spacemacs/issues/5574" target="_blank">https://github.com/syl20bnr/spacemacs/issues/5574</a></z><z id="t1503881006" t="shaunlebron oh, looks like [:attrs {:href &quot;/_/_/users/U0NBGRGD6&quot;}] wrote it"><y>#</y><d>2017-08-28</d><h>00:43</h><w>shaunlebron</w>oh, looks like <a>@doglooksgood</a> wrote it</z><z id="t1503882160" t="Drew Verlee thanks [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] i’ll see if i can’t figure out why my setup doesn’t work."><y>#</y><d>2017-08-28</d><h>01:02</h><w>Drew Verlee</w>thanks <a>@shaunlebron</a> i’ll see if i can’t figure out why my setup doesn’t work.</z><z id="t1503901909" t="cfleming Here’s an interesting problem I found today."><y>#</y><d>2017-08-28</d><h>06:31</h><w>cfleming</w>Here’s an interesting problem I found today.</z><z id="t1503901935" t="cfleming (reduce-kv (fn [m k v]) {} {}) "><y>#</y><d>2017-08-28</d><h>06:32</h><w>cfleming</w><pre>(reduce-kv (fn [m k v])
           {}
           {})
</pre></z><z id="t1503901993" t="cfleming If I wrap this by just inserting ( , then it works fine."><y>#</y><d>2017-08-28</d><h>06:33</h><w>cfleming</w>If I wrap this by just inserting <code>(</code>, then it works fine.</z><z id="t1503902012" t="cfleming If I do it using Cursive’s paredit “wrap with parens” action, I get:"><y>#</y><d>2017-08-28</d><h>06:33</h><w>cfleming</w>If I do it using Cursive’s paredit “wrap with parens” action, I get:</z><z id="t1503902038" t="cfleming ((reduce-kv (fn [m k v] { {}}))) "><y>#</y><d>2017-08-28</d><h>06:33</h><w>cfleming</w><pre>((reduce-kv (fn [m k v]
            {
            {}})))
</pre></z><z id="t1503902051" t="cfleming Which is clearly not right at all."><y>#</y><d>2017-08-28</d><h>06:34</h><w>cfleming</w>Which is clearly not right at all.</z><z id="t1503902129" t="cfleming This is because the wrap command auto-formats the form after wrapping. So there are 4 changes generated - insert closing ) , insert opening ( , then insert a single space at the start of lines 2 and 3."><y>#</y><d>2017-08-28</d><h>06:35</h><w>cfleming</w>This is because the wrap command auto-formats the form after wrapping. So there are 4 changes generated - insert closing <code>)</code>, insert opening <code>(</code>, then insert a single space at the start of lines 2 and 3.</z><z id="t1503902171" t="cfleming The last two are due to the form being formatted at the end of the wrap action."><y>#</y><d>2017-08-28</d><h>06:36</h><w>cfleming</w>The last two are due to the form being formatted at the end of the wrap action.</z><z id="t1503902230" t="cfleming The problem is that the indent offset is incremented by the auto-format changes, but shouldn’t be."><y>#</y><d>2017-08-28</d><h>06:37</h><w>cfleming</w>The problem is that the indent offset is incremented by the auto-format changes, but shouldn’t be.</z><z id="t1503902272" t="cfleming I initially thought that perhaps I could ignore changes which were whitespace only when at the start of the line in the indent area, i.e. before any actual line content."><y>#</y><d>2017-08-28</d><h>06:37</h><w>cfleming</w>I initially thought that perhaps I could ignore changes which were whitespace only when at the start of the line in the indent area, i.e. before any actual line content.</z><z id="t1503902304" t="cfleming But if I do that, then: (foo) (bar {:a 1 :b 2}) "><y>#</y><d>2017-08-28</d><h>06:38</h><w>cfleming</w>But if I do that, then:
<pre>(foo)
(bar {:a 1
      :b 2})
</pre></z><z id="t1503902351" t="cfleming If I put the caret at the start of (bar and start pressing space, then the :b 2}) part won’t have its indentation corrected."><y>#</y><d>2017-08-28</d><h>06:39</h><w>cfleming</w>If I put the caret at the start of <code>(bar</code> and start pressing space, then the <code>:b 2})</code> part won’t have its indentation corrected.</z><z id="t1503902372" t="cfleming Any ideas for a heuristic that might work here?"><y>#</y><d>2017-08-28</d><h>06:39</h><w>cfleming</w>Any ideas for a heuristic that might work here?</z><z id="t1503903472" t="cfleming Actually, having thought about it while doing the dishes, I’m not sure that’s actually the problem. I’ll debug and report back."><y>#</y><d>2017-08-28</d><h>06:57</h><w>cfleming</w>Actually, having thought about it while doing the dishes, I’m not sure that’s actually the problem. I’ll debug and report back.</z><z id="t1503938104" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : you’re right, this is a bug in parinfer"><y>#</y><d>2017-08-28</d><h>16:35</h><w>shaunlebron</w><a>@cfleming</a>: you’re right, this is a bug in parinfer</z><z id="t1503938376" t="shaunlebron tracking here: https://github.com/shaunlebron/parinfer/issues/173"><y>#</y><d>2017-08-28</d><h>16:39</h><w>shaunlebron</w>tracking here: <a href="https://github.com/shaunlebron/parinfer/issues/173" target="_blank">https://github.com/shaunlebron/parinfer/issues/173</a></z><z id="t1503938739" t="seancorfield That looks a bit like the bug I ran into trying the experimental &quot;Smart Mode&quot; last week. I haven&apos;t had time to repro yet but it was to do with paren-wrapping and it reformatted (and broke) my code."><y>#</y><d>2017-08-28</d><h>16:45</h><w>seancorfield</w>That looks a bit like the bug I ran into trying the experimental &quot;Smart Mode&quot; last week. I haven&apos;t had time to repro yet but it was to do with paren-wrapping and it reformatted (and broke) my code.</z><z id="t1503938761" t="seancorfield (that was with the current Parinfer package for Atom)"><y>#</y><d>2017-08-28</d><h>16:46</h><w>seancorfield</w>(that was with the current Parinfer package for Atom)</z><z id="t1503939236" t="shaunlebron [:attrs {:href &quot;/_/_/users/U04V70XH6&quot;}] thanks for confirming, i’ll look into it. this happened when using with paredit?"><y>#</y><d>2017-08-28</d><h>16:53</h><w>shaunlebron</w><a>@seancorfield</a> thanks for confirming, i’ll look into it.  this happened when using with paredit?</z><z id="t1503940810" t="seancorfield [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] Yes, using lisp-paredit package in Atom, with the slurp-forwards command, with Parinfer package and Smart Mode enabled."><y>#</y><d>2017-08-28</d><h>17:20</h><w>seancorfield</w><a>@shaunlebron</a> Yes, using <code>lisp-paredit</code> package in Atom, with the <code>slurp-forwards</code> command, with <code>Parinfer</code> package and <code>Smart Mode</code> enabled.</z><z id="t1503987022" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] Thanks for that, I was sure that was a bug in my port."><y>#</y><d>2017-08-29</d><h>06:10</h><w>cfleming</w><a>@shaunlebron</a> Thanks for that, I was sure that was a bug in my port.</z><z id="t1504052240" t="cfleming Here’s another interesting problem: (defn empty-panel [text] (let [status-text (extend-class StatusText [] (isStatusVisible [this] true)) panel (extend-class JPanel [] (paintComponent [this g] (.paintComponent ^JPanel this ^Graphics g) (.paint status-text this g)))] (doto status-text (.attachTo panel) (.setText text)) panel)) "><y>#</y><d>2017-08-30</d><h>00:17</h><w>cfleming</w>Here’s another interesting problem:
<pre>(defn empty-panel [text]
  (let [status-text (extend-class StatusText []
                      (isStatusVisible [this] true))
        panel (extend-class JPanel []
                (paintComponent [this g]
                  (.paintComponent ^JPanel this ^Graphics g)
                  (.paint status-text this g)))]
    (doto status-text
      (.attachTo panel)
      (.setText text))
    panel))
</pre></z><z id="t1504052284" t="cfleming I then rename panel , and start typing a totally new name, so I press delete and then start typing."><y>#</y><d>2017-08-30</d><h>00:18</h><w>cfleming</w>I then rename <code>panel</code>, and start typing a totally new name, so I press delete and then start typing.</z><z id="t1504052323" t="cfleming When I do that, the panel in (.attachTo panel) disappears, and parinfer deletes the space in there."><y>#</y><d>2017-08-30</d><h>00:18</h><w>cfleming</w>When I do that, the <code>panel</code> in <code>(.attachTo panel)</code> disappears, and parinfer deletes the space in there.</z><z id="t1504052346" t="cfleming And when I confirm the new name, I get something like (.attachTonew-name)"><y>#</y><d>2017-08-30</d><h>00:19</h><w>cfleming</w>And when I confirm the new name, I get something like <code>(.attachTonew-name)</code></z><z id="t1504052380" t="cfleming I need to be able to supply extra holding locations, I guess."><y>#</y><d>2017-08-30</d><h>00:19</h><w>cfleming</w>I need to be able to supply extra holding locations, I guess.</z><z id="t1504053669" t="cfleming I think that will be ok, since I have already modified my version to accept multiple carets. I haven’t tested the edge cases with that yet though."><y>#</y><d>2017-08-30</d><h>00:41</h><w>cfleming</w>I think that will be ok, since I have already modified my version to accept multiple carets. I haven’t tested the edge cases with that yet though.</z><z id="t1504053712" t="cfleming I suspect it will be weird if you have the same file open in multiple editors and are editing a line that the caret is on in another editor."><y>#</y><d>2017-08-30</d><h>00:41</h><w>cfleming</w>I suspect it will be weird if you have the same file open in multiple editors and are editing a line that the caret is on in another editor.</z><z id="t1504053777" t="cfleming The holding stuff really complicates the integration though."><y>#</y><d>2017-08-30</d><h>00:42</h><w>cfleming</w>The holding stuff really complicates the integration though.</z><z id="t1504053791" t="cfleming I can’t think of a good alternative but it’s tricky."><y>#</y><d>2017-08-30</d><h>00:43</h><w>cfleming</w>I can’t think of a good alternative but it’s tricky.</z><z id="t1504054235" t="shaunlebron i’m not understanding how the rename operation happens"><y>#</y><d>2017-08-30</d><h>00:50</h><w>shaunlebron</w>i’m not understanding how the rename operation happens</z><z id="t1504054276" t="shaunlebron might be easier to diagnose this problem with a list of changes that the rename operation produces"><y>#</y><d>2017-08-30</d><h>00:51</h><w>shaunlebron</w>might be easier to diagnose this problem with a list of <code>changes</code> that the rename operation produces</z><z id="t1504061711" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] Let me record a video"><y>#</y><d>2017-08-30</d><h>02:55</h><w>cfleming</w><a>@shaunlebron</a> Let me record a video</z><z id="t1504062077" t="cfleming Watch what happens to the .attachTo near the bottom."><y>#</y><d>2017-08-30</d><h>03:01</h><w>cfleming</w>Watch what happens to the <code>.attachTo</code> near the bottom.</z><z id="t1504062118" t="cfleming The issue is that the symbol to be renamed is deleted temporarily if I delete the whole name, and the paren isn’t held because the caret isn’t there."><y>#</y><d>2017-08-30</d><h>03:01</h><w>cfleming</w>The issue is that the symbol to be renamed is deleted temporarily if I delete the whole name, and the paren isn’t held because the caret isn’t there.</z><z id="t1504062137" t="cfleming I think I can create some extra hold locations from the template positions during the rename."><y>#</y><d>2017-08-30</d><h>03:02</h><w>cfleming</w>I think I can create some extra hold locations from the template positions during the rename.</z><z id="t1504062206" t="cfleming I’m not sure if they should participate in the hold release mechanism or not - probably, I guess."><y>#</y><d>2017-08-30</d><h>03:03</h><w>cfleming</w>I’m not sure if they should participate in the hold release mechanism or not - probably, I guess.</z><z id="t1504062229" t="cfleming i.e. they’ll be basically just like caret positions that don’t have a previous position."><y>#</y><d>2017-08-30</d><h>03:03</h><w>cfleming</w>i.e. they’ll be basically just like caret positions that don’t have a previous position.</z><z id="t1504062367" t="cfleming Actually, perhaps they could have a previous position, and I’ll pretend there is a caret inside each template location at the same offset as the actual caret is within its template location."><y>#</y><d>2017-08-30</d><h>03:06</h><w>cfleming</w>Actually, perhaps they could have a previous position, and I’ll pretend there is a caret inside each template location at the same offset as the actual caret is within its template location.</z><z id="t1504062380" t="cfleming (the “templates” here are all the points where the inline rename happens)"><y>#</y><d>2017-08-30</d><h>03:06</h><w>cfleming</w>(the “templates” here are all the points where the inline rename happens)</z><z id="t1504062428" t="shaunlebron yeah, if you already have multiple cursor support, it should work by placing a cursor at the end of each template"><y>#</y><d>2017-08-30</d><h>03:07</h><w>shaunlebron</w>yeah, if you already have multiple cursor support, it should work by placing a cursor at the end of each template</z><z id="t1504062444" t="cfleming Right."><y>#</y><d>2017-08-30</d><h>03:07</h><w>cfleming</w>Right.</z><z id="t1504062456" t="cfleming I’ll check the API to see how easy that is."><y>#</y><d>2017-08-30</d><h>03:07</h><w>cfleming</w>I’ll check the API to see how easy that is.</z><z id="t1504063738" t="shaunlebron nice gif! should be easier to communicate these subtleties now"><y>#</y><d>2017-08-30</d><h>03:28</h><w>shaunlebron</w>nice gif! should be easier to communicate these subtleties now</z><z id="t1504064659" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] That works a treat"><y>#</y><d>2017-08-30</d><h>03:44</h><w>cfleming</w><a>@shaunlebron</a> That works a treat</z><z id="t1504064680" t="cfleming You can see the parens being held both near count and at the end of the form."><y>#</y><d>2017-08-30</d><h>03:44</h><w>cfleming</w>You can see the parens being held both near <code>count</code> and at the end of the form.</z><z id="t1504065498" t="shaunlebron very cool, i noticed the ) being held at last line"><y>#</y><d>2017-08-30</d><h>03:58</h><w>shaunlebron</w>very cool, i noticed the <code>)</code> being held at last line</z><z id="t1504065514" t="shaunlebron i take it you’re not using forceBalance ?"><y>#</y><d>2017-08-30</d><h>03:58</h><w>shaunlebron</w>i take it you’re not using <code>forceBalance</code>?</z><z id="t1504065919" t="cfleming No, I’m not."><y>#</y><d>2017-08-30</d><h>04:05</h><w>cfleming</w>No, I’m not.</z><z id="t1504065929" t="cfleming I haven’t ported your recent changes yet."><y>#</y><d>2017-08-30</d><h>04:05</h><w>cfleming</w>I haven’t ported your recent changes yet.</z><z id="t1504066052" t="cfleming Thinking about it, I should create those carets for the indentation check as well."><y>#</y><d>2017-08-30</d><h>04:07</h><w>cfleming</w>Thinking about it, I should create those carets for the indentation check as well.</z><z id="t1504066091" t="cfleming I can’t think of a situation when that might affect the indentation, but I’m sure there are plenty of weird edge cases I haven’t thought of."><y>#</y><d>2017-08-30</d><h>04:08</h><w>cfleming</w>I can’t think of a situation when that might affect the indentation, but I’m sure there are plenty of weird edge cases I haven’t thought of.</z><z id="t1504066462" t="shaunlebron well i’m only recommending forceBalance: false"><y>#</y><d>2017-08-30</d><h>04:14</h><w>shaunlebron</w>well i’m only recommending <code>forceBalance: false</code></z><z id="t1504066488" t="shaunlebron if it’s enabled, it doesn’t support ) being on its own line"><y>#</y><d>2017-08-30</d><h>04:14</h><w>shaunlebron</w>if it’s enabled, it doesn’t support <code>)</code> being on its own line</z><z id="t1504149268" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] I’m looking at #173 - I made two fixes which made that case work, but only at the expense of breaking other test cases around indent/dedent 😞"><y>#</y><d>2017-08-31</d><h>03:14</h><w>cfleming</w><a>@shaunlebron</a> I’m looking at #173 - I made two fixes which made that case work, but only at the expense of breaking other test cases around indent/dedent <b>😞</b></z><z id="t1504149396" t="cfleming Actually, only one of my fixes is specific to this problem, the other I think should be made anyway, all tests pass with it."><y>#</y><d>2017-08-31</d><h>03:16</h><w>cfleming</w>Actually, only one of my fixes is specific to this problem, the other I think should be made anyway, all tests pass with it.</z><z id="t1504151292" t="cfleming Ok, I have a fix that passes all current unit tests, and also fixes #173."><y>#</y><d>2017-08-31</d><h>03:48</h><w>cfleming</w>Ok, I have a fix that passes all current unit tests, and also fixes #173.</z><z id="t1504151326" t="cfleming But I’m really not sure it’s the right solution, or at least I’m not 100% sure I actually understand the problem."><y>#</y><d>2017-08-31</d><h>03:48</h><w>cfleming</w>But I’m really not sure it’s the right solution, or at least I’m not 100% sure I actually understand the problem.</z><z id="t1504152004" t="cfleming Unfortunately the markdown test parser can’t handle this case - it requires diff lines to have all the changes adjacent. My JS regexp-fu is probably not up to fixing that."><y>#</y><d>2017-08-31</d><h>04:00</h><w>cfleming</w>Unfortunately the markdown test parser can’t handle this case - it requires diff lines to have all the changes adjacent. My JS regexp-fu is probably not up to fixing that.</z><z id="t1504152032" t="cfleming i.e. it only allows one change per line."><y>#</y><d>2017-08-31</d><h>04:00</h><w>cfleming</w>i.e. it only allows one change per line.</z><z id="t1504152910" t="cfleming Ok, PR sent for discussion: https://github.com/shaunlebron/parinfer/pull/174"><y>#</y><d>2017-08-31</d><h>04:15</h><w>cfleming</w>Ok, PR sent for discussion: <a href="https://github.com/shaunlebron/parinfer/pull/174" target="_blank">https://github.com/shaunlebron/parinfer/pull/174</a></z><z id="t1504159678" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : thanks 🎉"><y>#</y><d>2017-08-31</d><h>06:07</h><w>shaunlebron</w><a>@cfleming</a>: thanks <b>🎉</b></z><z id="t1504159735" t="shaunlebron will merge this soon, i want to do some manual testing tomorrow and fix the diff annotation parser to allow multiple changes on a line for this"><y>#</y><d>2017-08-31</d><h>06:08</h><w>shaunlebron</w>will merge this soon, i want to do some manual testing tomorrow and fix the diff annotation parser to allow multiple changes on a line for this</z><z id="t1504159813" t="shaunlebron btw, i’ve been working this week on https://github.com/shaunlebron/parinfer/issues/92"><y>#</y><d>2017-08-31</d><h>06:10</h><w>shaunlebron</w>btw, i’ve been working this week on <a href="https://github.com/shaunlebron/parinfer/issues/92" target="_blank">https://github.com/shaunlebron/parinfer/issues/92</a></z><z id="t1504159846" t="shaunlebron i’ve had to rethink a lot of stuff, but it’s looking good so far"><y>#</y><d>2017-08-31</d><h>06:10</h><w>shaunlebron</w>i’ve had to rethink a lot of stuff, but it’s looking good so far</z><z id="t1504164987" t="cfleming Oh nice, that will be a good change."><y>#</y><d>2017-08-31</d><h>07:36</h><w>cfleming</w>Oh nice, that will be a good change.</z><z id="t1504239428" t="cfleming There is definitely something funky going on with smart mode and pasting."><y>#</y><d>2017-09-01</d><h>04:17</h><w>cfleming</w>There is definitely something funky going on with smart mode and pasting.</z><z id="t1504239484" t="cfleming I’ve been busy working using it and haven’t paid too much attention, but I’m seeing close parens being added in incorrect locations. I’ll need to debug to be sure, it’s possible IntelliJ’s indentation during pasting is messing things up."><y>#</y><d>2017-09-01</d><h>04:18</h><w>cfleming</w>I’ve been busy working using it and haven’t paid too much attention, but I’m seeing close parens being added in incorrect locations. I’ll need to debug to be sure, it’s possible IntelliJ’s indentation during pasting is messing things up.</z><z id="t1504241027" t="cfleming This is at least one case I’m seeing: https://github.com/shaunlebron/parinfer/issues/176"><y>#</y><d>2017-09-01</d><h>04:43</h><w>cfleming</w>This is at least one case I’m seeing: <a href="https://github.com/shaunlebron/parinfer/issues/176" target="_blank">https://github.com/shaunlebron/parinfer/issues/176</a></z><z id="t1504241059" t="cfleming This bug may be causing the pasting issues I’m seeing, I’m not sure."><y>#</y><d>2017-09-01</d><h>04:44</h><w>cfleming</w>This bug may be causing the pasting issues I’m seeing, I’m not sure.</z><z id="t1504242183" t="cfleming Here’s the pasting issue:"><y>#</y><d>2017-09-01</d><h>05:03</h><w>cfleming</w>Here’s the pasting issue:</z><z id="t1504242184" t="cfleming https://github.com/shaunlebron/parinfer/issues/177"><y>#</y><d>2017-09-01</d><h>05:03</h><w>cfleming</w><a href="https://github.com/shaunlebron/parinfer/issues/177" target="_blank">https://github.com/shaunlebron/parinfer/issues/177</a></z><z id="t1504242213" t="cfleming Those two may be related, or even the same issue, I’m not sure."><y>#</y><d>2017-09-01</d><h>05:03</h><w>cfleming</w>Those two may be related, or even the same issue, I’m not sure.</z><z id="t1504274252" t="shaunlebron thanks for the detailed issues! ❤️"><y>#</y><d>2017-09-01</d><h>13:57</h><w>shaunlebron</w>thanks for the detailed issues! <b>❤️</b></z><z id="t1504274261" t="shaunlebron will look"><y>#</y><d>2017-09-01</d><h>13:57</h><w>shaunlebron</w>will look</z><z id="t1504474457" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] I’m looking into the problem with #174. I’m finding getParentOpenerIndex very confusing in general, I can’t get my head around it. Could you clarify what you mean by “outside” in the variable names and comments there?"><y>#</y><d>2017-09-03</d><h>21:34</h><w>cfleming</w><a>@shaunlebron</a> I’m looking into the problem with #174. I’m finding <code>getParentOpenerIndex</code> very confusing in general, I can’t get my head around it. Could you clarify what you mean by “outside” in the variable names and comments there?</z><z id="t1504733702" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : sorry for late reply"><y>#</y><d>2017-09-06</d><h>21:35</h><w>shaunlebron</w><a>@cfleming</a>: sorry for late reply</z><z id="t1504733854" t="shaunlebron I messed up the explanation, lemme try again"><y>#</y><d>2017-09-06</d><h>21:37</h><w>shaunlebron</w>I messed up the explanation, lemme try again</z><z id="t1504733963" t="shaunlebron (foo ^ outside (i.e. left of the following indentation point) bar (foo ^ not outside (i.e. not left of the following indentation point) bar "><y>#</y><d>2017-09-06</d><h>21:39</h><w>shaunlebron</w><pre>(foo
^ outside (i.e. left of the following indentation point)
  bar

(foo
^ not outside (i.e. not left of the following indentation point)
bar
</pre></z><z id="t1504739094" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] Thanks, I’ll try to go back over it today and look at those outstanding issues."><y>#</y><d>2017-09-06</d><h>23:04</h><w>cfleming</w><a>@shaunlebron</a> Thanks, I’ll try to go back over it today and look at those outstanding issues.</z><z id="t1504739111" t="cfleming I’m using v3 for my coding at the moment to try it out, and with those bugs it’s pretty painful right now."><y>#</y><d>2017-09-06</d><h>23:05</h><w>cfleming</w>I’m using v3 for my coding at the moment to try it out, and with those bugs it’s pretty painful right now.</z><z id="t1505525022" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] I’ve looked at the outstanding issues for v3, but they’re tricky. It would be good to talk them over sometime when you’re free - let me know."><y>#</y><d>2017-09-16</d><h>01:23</h><w>cfleming</w><a>@shaunlebron</a> I’ve looked at the outstanding issues for v3, but they’re tricky. It would be good to talk them over sometime when you’re free - let me know.</z><z id="t1506132180" t="shaunlebron my bandwidth is pretty limited until the conj. maybe we can talk there? [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] "><y>#</y><d>2017-09-23</d><h>02:03</h><w>shaunlebron</w>my bandwidth is pretty limited until the conj. maybe we can talk there? <a>@cfleming</a> </z><z id="t1506167010" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] Sadly I’m not going this year."><y>#</y><d>2017-09-23</d><h>11:43</h><w>cfleming</w><a>@shaunlebron</a> Sadly I’m not going this year.</z><z id="t1506901726" t="wilkerlucio [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] hello 🙂 , hey, I noticed while using parinfer, that when I use the plugin, the extraKeys option on my CodeMirror gets ignored"><y>#</y><d>2017-10-01</d><h>23:48</h><w>wilkerlucio</w><a>@shaunlebron</a> hello <b>🙂</b>, hey, I noticed while using parinfer, that when I use the plugin, the <code>extraKeys</code> option on my CodeMirror gets ignored</z><z id="t1506901731" t="wilkerlucio is there a way around it?"><y>#</y><d>2017-10-01</d><h>23:48</h><w>wilkerlucio</w>is there a way around it?</z><z id="t1506902445" t="shaunlebron [:attrs {:href &quot;/_/_/users/U066U8JQJ&quot;}] for tab key?"><y>#</y><d>2017-10-02</d><h>00:00</h><w>shaunlebron</w><a>@wilkerlucio</a> for tab key?</z><z id="t1506902463" t="wilkerlucio any extraKey at all"><y>#</y><d>2017-10-02</d><h>00:01</h><w>wilkerlucio</w>any extraKey at all</z><z id="t1506902494" t="wilkerlucio I&apos;m trying to combine parinfer and auto-complete things, I tried with Tab and with Ctrl+Space"><y>#</y><d>2017-10-02</d><h>00:01</h><w>wilkerlucio</w>I&apos;m trying to combine parinfer and auto-complete things,  I tried with Tab and with Ctrl+Space</z><z id="t1506902513" t="wilkerlucio they work fine, but when I add parinfer they all stop responding"><y>#</y><d>2017-10-02</d><h>00:01</h><w>wilkerlucio</w>they work fine, but when I add parinfer they all stop responding</z><z id="t1506902515" t="shaunlebron https://github.com/shaunlebron/parinfer-codemirror/blob/master/parinfer-codemirror.js#L575"><y>#</y><d>2017-10-02</d><h>00:01</h><w>shaunlebron</w><a href="https://github.com/shaunlebron/parinfer-codemirror/blob/master/parinfer-codemirror.js#L575" target="_blank">https://github.com/shaunlebron/parinfer-codemirror/blob/master/parinfer-codemirror.js#L575</a></z><z id="t1506902527" t="shaunlebron yeah, i’m doing it wrong then"><y>#</y><d>2017-10-02</d><h>00:02</h><w>shaunlebron</w>yeah, i’m doing it wrong then</z><z id="t1506902537" t="wilkerlucio yeah, maybe it&apos;s overriding"><y>#</y><d>2017-10-02</d><h>00:02</h><w>wilkerlucio</w>yeah, maybe it&apos;s overriding</z><z id="t1506902569" t="wilkerlucio I think you should use this one: https://codemirror.net/doc/manual.html#addKeyMap"><y>#</y><d>2017-10-02</d><h>00:02</h><w>wilkerlucio</w>I think you should use this one: <a href="https://codemirror.net/doc/manual.html#addKeyMap" target="_blank">https://codemirror.net/doc/manual.html#addKeyMap</a></z><z id="t1506902581" t="shaunlebron do you have time to write a PR for it?"><y>#</y><d>2017-10-02</d><h>00:03</h><w>shaunlebron</w>do you have time to write a PR for it?</z><z id="t1506902591" t="wilkerlucio yes"><y>#</y><d>2017-10-02</d><h>00:03</h><w>wilkerlucio</w>yes</z><z id="t1506902605" t="wilkerlucio thanks for pointing the place, I&apos;ll try it out here, if works I send a PR to you 😉"><y>#</y><d>2017-10-02</d><h>00:03</h><w>wilkerlucio</w>thanks for pointing the place, I&apos;ll try it out here, if works I send a PR to you <b>😉</b></z><z id="t1506902623" t="shaunlebron thank you very much 👍"><y>#</y><d>2017-10-02</d><h>00:03</h><w>shaunlebron</w>thank you very much <b>👍</b></z><z id="t1506904500" t="wilkerlucio [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] https://github.com/shaunlebron/parinfer-codemirror/pull/9"><y>#</y><d>2017-10-02</d><h>00:35</h><w>wilkerlucio</w><a>@shaunlebron</a> <a href="https://github.com/shaunlebron/parinfer-codemirror/pull/9" target="_blank">https://github.com/shaunlebron/parinfer-codemirror/pull/9</a></z><z id="t1506904532" t="wilkerlucio maybe it&apos;s worth nothing to users that parinfer will override the Tab key"><y>#</y><d>2017-10-02</d><h>00:35</h><w>wilkerlucio</w>maybe it&apos;s worth nothing to users that parinfer will override the <code>Tab</code> key</z><z id="t1506905319" t="Drew Verlee Hi! does anyone know if there is a “form yank” ability in parinfer or maybe another common clojure editor plugin? Eg. say curser is the * and i want to yank/copy that inner vector. [*[1 2 3 4]] This seems like a really common thing so i assume there is an obvious way todo this im missing. Im using spacemacs, with cider. This might not even be a parinfer question."><y>#</y><d>2017-10-02</d><h>00:48</h><w>Drew Verlee</w>Hi! does anyone know if there is a “form yank” ability in parinfer or maybe another common clojure editor plugin? 

Eg.  say curser is the <code>*</code> and i want to yank/copy that inner vector.

<pre>[*[1 2 3 4]]
</pre>

This seems like a really common thing so i assume there is an obvious way todo this im missing. Im using spacemacs, with cider. This might not even be a parinfer question.</z><z id="t1506913799" t="cfleming [:attrs {:href &quot;/_/_/users/U0DJ4T5U1&quot;}] That’s not something that parinfer handles, you’ll need to figure out how your editor does it."><y>#</y><d>2017-10-02</d><h>03:09</h><w>cfleming</w><a>@drewverlee</a> That’s not something that parinfer handles, you’ll need to figure out how your editor does it.</z><z id="t1506927457" t="dominicm [:attrs {:href &quot;/_/_/users/U0DJ4T5U1&quot;}] ya[ , or if you want it to work on any form https://github.com/luxbock/evil-cleverparens/blob/master/README.md yf I switched back to vim though, as I was disappointed with the lack of text objects in the emacs ecosystem."><y>#</y><d>2017-10-02</d><h>06:57</h><w>dominicm</w><a>@drewverlee</a> <code>ya[</code>, or if you want it to work on any form <a href="https://github.com/luxbock/evil-cleverparens/blob/master/README.md" target="_blank">https://github.com/luxbock/evil-cleverparens/blob/master/README.md</a> <code>yf</code>

I switched back to vim though, as I was disappointed with the lack of text objects in the emacs ecosystem.</z><z id="t1507080269" t="shaunlebron [:attrs {:href &quot;/_/_/users/U066U8JQJ&quot;}] published your PR to 1.3.2, thanks again"><y>#</y><d>2017-10-04</d><h>01:24</h><w>shaunlebron</w><a>@wilkerlucio</a> published your PR to 1.3.2, thanks again</z><z id="t1507113338" t="wilkerlucio np, thanks for merging so quickly 🙂"><y>#</y><d>2017-10-04</d><h>10:35</h><w>wilkerlucio</w>np, thanks for merging so quickly <b>🙂</b></z><z id="t1507923469" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] I’m jealous! I enjoyed the talk, too."><y>#</y><d>2017-10-13</d><h>19:37</h><w>cfleming</w><a>@shaunlebron</a> I’m jealous! I enjoyed the talk, too.</z><z id="t1507929933" t="shaunlebron thanks!"><y>#</y><d>2017-10-13</d><h>21:25</h><w>shaunlebron</w>thanks!</z><z id="t1507976604" t="dominicm [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] I just noticed my name popped up in your talk, 👋"><y>#</y><d>2017-10-14</d><h>10:23</h><w>dominicm</w><a>@shaunlebron</a> I just noticed my name popped up in your talk, <b>👋</b></z><z id="t1507978969" t="dominicm I&apos;m looking forward to your work on Locus. Do you expect it will be usable with other editors, like parinfer is now?"><y>#</y><d>2017-10-14</d><h>11:02</h><w>dominicm</w>I&apos;m looking forward to your work on Locus. Do you expect it will be usable with other editors, like parinfer is now?</z><z id="t1507992153" t="shaunlebron so locus is a unanimously not good from the folks ive showed it too. will show it here later, maybe youll have ideas on fixing"><y>#</y><d>2017-10-14</d><h>14:42</h><w>shaunlebron</w>so locus is a unanimously not good from the folks ive showed it too. will show it here later, maybe youll have ideas on fixing</z><z id="t1507997039" t="dominicm [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] Locus in it&apos;s current form may be not good, but that doesn&apos;t mean it&apos;s not a good research topic 🙂 . I&apos;ve been looking at, even, little things to make editing more pleasurable. It really stood out to me how much the older editors had a really semantic relationship with the lisp, and then Zmacs overlayed it into it&apos;s pre-existing notion of a buffer."><y>#</y><d>2017-10-14</d><h>16:03</h><w>dominicm</w><a>@shaunlebron</a> Locus in it&apos;s current form may be not good, but that doesn&apos;t mean it&apos;s not a good research topic <b>🙂</b>. I&apos;ve been looking at, even, little things to make editing more pleasurable.

It really stood out to me how much the older editors had a really semantic relationship with the lisp, and then Zmacs overlayed it into it&apos;s pre-existing notion of a buffer.</z><z id="t1508109900" t="shaunlebron yeah, i might have some ideas to offset some of the problems"><y>#</y><d>2017-10-15</d><h>23:25</h><w>shaunlebron</w>yeah, i might have some ideas to offset some of the problems</z><z id="t1508117041" t="chrisoakman I heard lots of great feedback about Parinfer at the Conj this year. Mostly in hallway conversations."><y>#</y><d>2017-10-16</d><h>01:24</h><w>chrisoakman</w>I heard lots of great feedback about Parinfer at the Conj this year. Mostly in hallway conversations.</z><z id="t1508117151" t="chrisoakman The most common &quot;negative&quot; thing I heard was that Cursive users do not think they are using Parinfer since it wasn&apos;t the same thing that Shaun demoed in Atom during his talk."><y>#</y><d>2017-10-16</d><h>01:25</h><w>chrisoakman</w>The most common &quot;negative&quot; thing I heard was that Cursive users do not think they are using Parinfer since it wasn&apos;t the same thing that Shaun demoed in Atom during his talk.</z><z id="t1508117194" t="chrisoakman I spoke with one woman who&apos;s story was really indicative of feedback I heard from other people. She was new to Clojure, primary from a Ruby background."><y>#</y><d>2017-10-16</d><h>01:26</h><w>chrisoakman</w>I spoke with one woman who&apos;s story was really indicative of feedback I heard from other people. She was new to Clojure, primary from a Ruby background.</z><z id="t1508117204" t="chrisoakman Her company hired her for Ruby, then switcher her onto a Clojure project."><y>#</y><d>2017-10-16</d><h>01:26</h><w>chrisoakman</w>Her company hired her for Ruby, then switcher her onto a Clojure project.</z><z id="t1508117211" t="cfleming [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] Right, I’m waiting on getting some bugs resolved before I push it out (v3 that is)."><y>#</y><d>2017-10-16</d><h>01:26</h><w>cfleming</w><a>@chrisoakman</a> Right, I’m waiting on getting some bugs resolved before I push it out (v3 that is).</z><z id="t1508117219" t="chrisoakman me: &quot;Do you use Cursive&quot;? her: &quot;No, I use IntelliJ.&quot;"><y>#</y><d>2017-10-16</d><h>01:26</h><w>chrisoakman</w>me: &quot;Do you use Cursive&quot;? her: &quot;No, I use IntelliJ.&quot;</z><z id="t1508117233" t="chrisoakman A couple questions later I learn that she is using Cursive, but is unaware of it."><y>#</y><d>2017-10-16</d><h>01:27</h><w>chrisoakman</w>A couple questions later I learn that she is using Cursive, but is unaware of it.</z><z id="t1508117236" t="cfleming I tried to use it for a while, but it was pretty painful without it."><y>#</y><d>2017-10-16</d><h>01:27</h><w>cfleming</w>I tried to use it for a while, but it was pretty painful without it.</z><z id="t1508117242" t="cfleming Hehe, yeah, that happens."><y>#</y><d>2017-10-16</d><h>01:27</h><w>cfleming</w>Hehe, yeah, that happens.</z><z id="t1508117252" t="chrisoakman me: &quot;Are you using Parinfer?&quot; her: &quot;No - I just use whatever Cursive does.&quot;"><y>#</y><d>2017-10-16</d><h>01:27</h><w>chrisoakman</w>me: &quot;Are you using Parinfer?&quot; her: &quot;No - I just use whatever Cursive does.&quot;</z><z id="t1508117301" t="chrisoakman I then told her that she was in fact using Parinfer. And she was very adamant that she was in fact not using Parinfer because it was not what she had seen during Shaun&apos;s demo."><y>#</y><d>2017-10-16</d><h>01:28</h><w>chrisoakman</w>I then told her that she was in fact using Parinfer. And she was very adamant that she was in fact not using Parinfer because it was not what she had seen during Shaun&apos;s demo.</z><z id="t1508117320" t="chrisoakman Then I explained that Cursive was on an older version, etc, etc."><y>#</y><d>2017-10-16</d><h>01:28</h><w>chrisoakman</w>Then I explained that Cursive was on an older version, etc, etc.</z><z id="t1508117336" t="chrisoakman But - I thought her story was very indicative of what I heard from at least 6 different people at the Conj."><y>#</y><d>2017-10-16</d><h>01:28</h><w>chrisoakman</w>But - I thought her story was very indicative of what I heard from at least 6 different people at the Conj.</z><z id="t1508117340" t="cfleming Parinfer actually isn’t on by default in Cursive, so if she didn’t do anything she actually wouldn’t be using it."><y>#</y><d>2017-10-16</d><h>01:29</h><w>cfleming</w>Parinfer actually isn’t on by default in Cursive, so if she didn’t do anything she actually wouldn’t be using it.</z><z id="t1508117356" t="chrisoakman Maybe one of her co-workers turned it on by default for her."><y>#</y><d>2017-10-16</d><h>01:29</h><w>chrisoakman</w>Maybe one of her co-workers turned it on by default for her.</z><z id="t1508117362" t="cfleming But yeah, I’m keen to get v3 out there."><y>#</y><d>2017-10-16</d><h>01:29</h><w>cfleming</w>But yeah, I’m keen to get v3 out there.</z><z id="t1508117364" t="chrisoakman Anyway - this is what she told me."><y>#</y><d>2017-10-16</d><h>01:29</h><w>chrisoakman</w>Anyway - this is what she told me.</z><z id="t1508117378" t="cfleming Thanks, that’s interesting - yeah, that’s likely."><y>#</y><d>2017-10-16</d><h>01:29</h><w>cfleming</w>Thanks, that’s interesting - yeah, that’s likely.</z><z id="t1508117435" t="chrisoakman I don&apos;t think there&apos;s anything particularly wrong if people are unaware they are using Parinfer. In fact, that&apos;s arguably a design goal. &quot;It just always works that way.&quot; is a great thing IMO"><y>#</y><d>2017-10-16</d><h>01:30</h><w>chrisoakman</w>I don&apos;t think there&apos;s anything particularly wrong if people are unaware they are using Parinfer. In fact, that&apos;s arguably a design goal. &quot;It just always works that way.&quot; is a great thing IMO</z><z id="t1508117463" t="chrisoakman [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] Are you blocked on parinfer-jvm being updated to the latest parinfer.js ?"><y>#</y><d>2017-10-16</d><h>01:31</h><w>chrisoakman</w><a>@cfleming</a> Are you blocked on parinfer-jvm being updated to the latest parinfer.js ?</z><z id="t1508117511" t="chrisoakman That is definitely something I want to help facilitate if necessary. Either updating it myself or convincing someone else to do it for us 😂"><y>#</y><d>2017-10-16</d><h>01:31</h><w>chrisoakman</w>That is definitely something I want to help facilitate if necessary. Either updating it myself or convincing someone else to do it for us <b>😂</b></z><z id="t1508117521" t="cfleming [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] No, they’re actually parinfer v3 bugs: https://github.com/cursive-ide/cursive/issues/1303#issuecomment-336554960"><y>#</y><d>2017-10-16</d><h>01:32</h><w>cfleming</w><a>@chrisoakman</a> No, they’re actually parinfer v3 bugs: <a href="https://github.com/cursive-ide/cursive/issues/1303#issuecomment-336554960" target="_blank">https://github.com/cursive-ide/cursive/issues/1303#issuecomment-336554960</a></z><z id="t1508117566" t="cfleming I assume they’re also present in Atom, but IntelliJ likes to reformat code a lot, which creates overlapping changes that v3 doesn’t handle well yet."><y>#</y><d>2017-10-16</d><h>01:32</h><w>cfleming</w>I assume they’re also present in Atom, but IntelliJ likes to reformat code a lot, which creates overlapping changes that v3 doesn’t handle well yet.</z><z id="t1508117618" t="cfleming I actually have v3 implemented in a branch, but in IntelliJ v3 is currently not very usable."><y>#</y><d>2017-10-16</d><h>01:33</h><w>cfleming</w>I actually have v3 implemented in a branch, but in IntelliJ v3 is currently not very usable.</z><z id="t1508117663" t="chrisoakman When you say &quot;v3&quot; I assume this is what we currently call smartMode ?"><y>#</y><d>2017-10-16</d><h>01:34</h><w>chrisoakman</w>When you say &quot;v3&quot; I assume this is what we currently call <code>smartMode</code> ?</z><z id="t1508117667" t="cfleming Right."><y>#</y><d>2017-10-16</d><h>01:34</h><w>cfleming</w>Right.</z><z id="t1508117739" t="chrisoakman Would it be helpful if parinfer-jvm were up-to-date with parinfer.js?"><y>#</y><d>2017-10-16</d><h>01:35</h><w>chrisoakman</w>Would it be helpful if parinfer-jvm were up-to-date with parinfer.js?</z><z id="t1508117775" t="cfleming No, I actually have those changes merged into my version, but my internal version has diverged somewhat from parinfer-jvm."><y>#</y><d>2017-10-16</d><h>01:36</h><w>cfleming</w>No, I actually have those changes merged into my version, but my internal version has diverged somewhat from parinfer-jvm.</z><z id="t1508117802" t="chrisoakman FWIW there have been exactly zero issues opened against atom-parinfer since adding smartMode earlier this year"><y>#</y><d>2017-10-16</d><h>01:36</h><w>chrisoakman</w>FWIW there have been exactly zero issues opened against atom-parinfer since adding smartMode earlier this year</z><z id="t1508117825" t="cfleming I wanted to make the code as simple as possible to minimise porting bugs, so I removed any functionality I wasn’t actually using (i.e. had already been implemented in Cursive elsewhere, like tab stops)"><y>#</y><d>2017-10-16</d><h>01:37</h><w>cfleming</w>I wanted to make the code as simple as possible to minimise porting bugs, so I removed any functionality I wasn’t actually using (i.e. had already been implemented in Cursive elsewhere, like tab stops)</z><z id="t1508117857" t="chrisoakman ok"><y>#</y><d>2017-10-16</d><h>01:37</h><w>chrisoakman</w>ok</z><z id="t1508117880" t="chrisoakman It would be nice if there were just one codebase for Parinfer on the JVM."><y>#</y><d>2017-10-16</d><h>01:38</h><w>chrisoakman</w>It would be nice if there were just one codebase for Parinfer on the JVM.</z><z id="t1508118122" t="cfleming Absolutely, mine is still based on parinfer-jvm and could be used as the basis for a port."><y>#</y><d>2017-10-16</d><h>01:42</h><w>cfleming</w>Absolutely, mine is still based on parinfer-jvm and could be used as the basis for a port.</z><z id="t1508118208" t="cfleming I think there are a couple of issues - as smart mode gets more complex, it needs a deeper integration into the editor."><y>#</y><d>2017-10-16</d><h>01:43</h><w>cfleming</w>I think there are a couple of issues - as smart mode gets more complex, it needs a deeper integration into the editor.</z><z id="t1508118225" t="cfleming See https://github.com/shaunlebron/parinfer/pull/170 for an example."><y>#</y><d>2017-10-16</d><h>01:43</h><w>cfleming</w>See <a href="https://github.com/shaunlebron/parinfer/pull/170" target="_blank">https://github.com/shaunlebron/parinfer/pull/170</a> for an example.</z><z id="t1508118246" t="cfleming I wrote a wall of text about why this was required, but I can’t find it now, I thought it was in an issue."><y>#</y><d>2017-10-16</d><h>01:44</h><w>cfleming</w>I wrote a wall of text about why this was required, but I can’t find it now, I thought it was in an issue.</z><z id="t1508118286" t="cfleming https://github.com/shaunlebron/parinfer/wiki/Problems-integrating-parinfer-into-Cursive"><y>#</y><d>2017-10-16</d><h>01:44</h><w>cfleming</w><a href="https://github.com/shaunlebron/parinfer/wiki/Problems-integrating-parinfer-into-Cursive" target="_blank">https://github.com/shaunlebron/parinfer/wiki/Problems-integrating-parinfer-into-Cursive</a></z><z id="t1508118329" t="cfleming That one there is about why I can’t run paren mode before indent/smart mode. I have a good solution for this, which marks inconsistent indentation in the editor and lets the user fix it rather than trying to fix it automatically."><y>#</y><d>2017-10-16</d><h>01:45</h><w>cfleming</w>That one there is about why I can’t run paren mode before indent/smart mode. I have a good solution for this, which marks inconsistent indentation in the editor and lets the user fix it rather than trying to fix it automatically.</z><z id="t1508118470" t="cfleming See here for some screenshots: https://clojurians-log.clojureverse.org/parinfer/2017-08-18.html"><y>#</y><d>2017-10-16</d><h>01:47</h><w>cfleming</w>See here for some screenshots: <a href="https://clojurians-log.clojureverse.org/parinfer/2017-08-18.html" target="_blank">https://clojurians-log.clojureverse.org/parinfer/2017-08-18.html</a></z><z id="t1508118650" t="chrisoakman These are all great notes."><y>#</y><d>2017-10-16</d><h>01:50</h><w>chrisoakman</w>These are all great notes.</z><z id="t1508118684" t="chrisoakman I knew there had been some discussion about all this, but I wasn&apos;t really watching this channel during that time."><y>#</y><d>2017-10-16</d><h>01:51</h><w>chrisoakman</w>I knew there had been some discussion about all this, but I wasn&apos;t really watching this channel during that time.</z><z id="t1508118711" t="chrisoakman smartMode proved to be trickier to implement in atom-parinfer than indent / paren mode before"><y>#</y><d>2017-10-16</d><h>01:51</h><w>chrisoakman</w>smartMode proved to be trickier to implement in atom-parinfer than indent / paren mode before</z><z id="t1508118734" t="chrisoakman It seems to work fine, but I don&apos;t love the current implementation right now. I want to improve it."><y>#</y><d>2017-10-16</d><h>01:52</h><w>chrisoakman</w>It seems to work fine, but I don&apos;t love the current implementation right now. I want to improve it.</z><z id="t1508118765" t="chrisoakman I spoke with Ryan a bit about this during the Conj."><y>#</y><d>2017-10-16</d><h>01:52</h><w>chrisoakman</w>I spoke with Ryan a bit about this during the Conj.</z><z id="t1508118782" t="cfleming It’s a hard balance - as smart mode gets more complex, I think it will need more information from the editor to provide more context to the changes that the user has made."><y>#</y><d>2017-10-16</d><h>01:53</h><w>cfleming</w>It’s a hard balance - as smart mode gets more complex, I think it will need more information from the editor to provide more context to the changes that the user has made.</z><z id="t1508118800" t="chrisoakman I&apos;m sorry you have to deal with this. It sounds like an Object Oriented Mutable State nightmare."><y>#</y><d>2017-10-16</d><h>01:53</h><w>chrisoakman</w>I&apos;m sorry you have to deal with this. It sounds like an Object Oriented Mutable State nightmare.</z><z id="t1508118827" t="cfleming Well, not really - it’s actually just that IntelliJ is much more complicated than e.g. Atom."><y>#</y><d>2017-10-16</d><h>01:53</h><w>cfleming</w>Well, not really - it’s actually just that IntelliJ is much more complicated than e.g. Atom.</z><z id="t1508118827" t="chrisoakman Or - at least caused by a bunch of stateful OO code."><y>#</y><d>2017-10-16</d><h>01:53</h><w>chrisoakman</w>Or - at least caused by a bunch of stateful OO code.</z><z id="t1508118857" t="cfleming It’s very common in IntelliJ to perform actions (e.g. refactorings) which affect files without them ever being opened in an editor."><y>#</y><d>2017-10-16</d><h>01:54</h><w>cfleming</w>It’s very common in IntelliJ to perform actions (e.g. refactorings) which affect files without them ever being opened in an editor.</z><z id="t1508118921" t="cfleming And also actions which cause multiple edits in complicated patterns. I suspect that the Atom version would suffer the same bugs if users were using the paredit commands with parinfer, which I do."><y>#</y><d>2017-10-16</d><h>01:55</h><w>cfleming</w>And also actions which cause multiple edits in complicated patterns. I suspect that the Atom version would suffer the same bugs if users were using the paredit commands with parinfer, which I do.</z><z id="t1508118992" t="cfleming At least for some of those bugs. IntelliJ also has a more complex mapping of carets to editors, so the Cursive version now handles multiple cursors correctly."><y>#</y><d>2017-10-16</d><h>01:56</h><w>cfleming</w>At least for some of those bugs. IntelliJ also has a more complex mapping of carets to editors, so the Cursive version now handles multiple cursors correctly.</z><z id="t1508119105" t="cfleming See here for another case which requires extra holding locations which aren’t actually carets: https://clojurians-log.clojureverse.org/parinfer/2017-08-30.html"><y>#</y><d>2017-10-16</d><h>01:58</h><w>cfleming</w>See here for another case which requires extra holding locations which aren’t actually carets: <a href="https://clojurians-log.clojureverse.org/parinfer/2017-08-30.html" target="_blank">https://clojurians-log.clojureverse.org/parinfer/2017-08-30.html</a></z><z id="t1508119121" t="chrisoakman I think someone mentioned to me at the Conj that they sometimes had trouble with multiple cursors + atom-parinfer"><y>#</y><d>2017-10-16</d><h>01:58</h><w>chrisoakman</w>I think someone mentioned to me at the Conj that they sometimes had trouble with multiple cursors + atom-parinfer</z><z id="t1508119137" t="cfleming Yeah, it won’t work correctly."><y>#</y><d>2017-10-16</d><h>01:58</h><w>cfleming</w>Yeah, it won’t work correctly.</z><z id="t1508119183" t="cfleming It’s not too hard to fix, though, I have the fix here - we’ll need to sort out which of all these modifications I’ve made should go back into parinfer mainline, and in which order."><y>#</y><d>2017-10-16</d><h>01:59</h><w>cfleming</w>It’s not too hard to fix, though, I have the fix here - we’ll need to sort out which of all these modifications I’ve made should go back into parinfer mainline, and in which order.</z><z id="t1508119253" t="chrisoakman That sounds good. I know Shaun was working on his talk for like months. Did not have much bandwidth for other things."><y>#</y><d>2017-10-16</d><h>02:00</h><w>chrisoakman</w>That sounds good. I know Shaun was working on his talk for like months. Did not have much bandwidth for other things.</z><z id="t1508119268" t="cfleming Yeah, I think so."><y>#</y><d>2017-10-16</d><h>02:01</h><w>cfleming</w>Yeah, I think so.</z><z id="t1508121284" t="seancorfield I think the only area where I see problems with smart mode in Atom is when I use paredit slurp/barf. If I remember to switch to paren mode first, it&apos;s fine. And mostly smart mode is fine with slurp/barf. Just sometimes it messes up the code (changes the paren structure). And it does it in a way that can&apos;t be undo ne (`undo` seems to lose track of the changes -- presumably because of some interaction between paredit and parinfer?)."><y>#</y><d>2017-10-16</d><h>02:34</h><w>seancorfield</w>I think the only area where I see problems with smart mode in Atom is when I use paredit slurp/barf. If I remember to switch to paren mode first, it&apos;s fine. And mostly smart mode is fine with slurp/barf. Just sometimes it messes up the code (changes the paren structure). And it does it in a way that can&apos;t be <code>undo</code>ne (`undo` seems to lose track of the changes -- presumably because of some interaction between paredit and parinfer?).</z><z id="t1508121370" t="seancorfield I might just give up using paredit for a while and see what I lose 🙂"><y>#</y><d>2017-10-16</d><h>02:36</h><w>seancorfield</w>I might just give up using paredit for a while and see what I lose <b>🙂</b></z><z id="t1508123255" t="cfleming [:attrs {:href &quot;/_/_/users/U04V70XH6&quot;}] Right, it tends to mess up when using operations which cause multiple edits. Wrapping is also bad (see https://github.com/shaunlebron/parinfer/issues/176 )"><y>#</y><d>2017-10-16</d><h>03:07</h><w>cfleming</w><a>@seancorfield</a> Right, it tends to mess up when using operations which cause multiple edits. Wrapping is also bad (see <a href="https://github.com/shaunlebron/parinfer/issues/176" target="_blank">https://github.com/shaunlebron/parinfer/issues/176</a>)</z><z id="t1508130780" t="shaunlebron i got some negative feedback at the conj"><y>#</y><d>2017-10-16</d><h>05:13</h><w>shaunlebron</w>i got some negative feedback at the conj</z><z id="t1508130838" t="shaunlebron elena approached me and told me parinfer seemed to be a tool for experts, saying that parinfer in nightcode was a disaster for her students"><y>#</y><d>2017-10-16</d><h>05:13</h><w>shaunlebron</w>elena approached me and told me parinfer seemed to be a tool for experts, saying that parinfer in nightcode was a disaster for her students</z><z id="t1508130982" t="shaunlebron and another approached me to clarify that parinfer in fact makes whitespace significant in clojure, and seemed dumbfounded at why"><y>#</y><d>2017-10-16</d><h>05:16</h><w>shaunlebron</w>and another approached me to clarify that parinfer in fact makes whitespace significant in clojure, and seemed dumbfounded at why</z><z id="t1508131127" t="shaunlebron seems similar to the feedback here: https://www.reddit.com/r/Clojure/comments/765tfa/inspiring_a_future_clojure_editor_with_forgotten/doceve9/"><y>#</y><d>2017-10-16</d><h>05:18</h><w>shaunlebron</w>seems similar to the feedback here: <a href="https://www.reddit.com/r/Clojure/comments/765tfa/inspiring_a_future_clojure_editor_with_forgotten/doceve9/" target="_blank">https://www.reddit.com/r/Clojure/comments/765tfa/inspiring_a_future_clojure_editor_with_forgotten/doceve9/</a></z><z id="t1508134720" t="dominicm I can&apos;t help but feel like the whitespace is simply wrong. Parinfer makes the code balance with how it looks. Unless you&apos;re writing code that&apos;s just really badly indented. I&apos;m wondering if some are going to interpret Rich&apos;s comment to be about parinfer."><y>#</y><d>2017-10-16</d><h>06:18</h><w>dominicm</w>I can&apos;t help but feel like the whitespace is simply wrong. Parinfer makes the code balance with how it looks. Unless you&apos;re writing code that&apos;s just really badly indented.

I&apos;m wondering if some are going to interpret Rich&apos;s comment to be about parinfer.</z><z id="t1508135224" t="dominicm I&apos;d be curious to know if Elena thought there was a particular point people are struggling with?"><y>#</y><d>2017-10-16</d><h>06:27</h><w>dominicm</w>I&apos;d be curious to know if Elena thought there was a particular point people are struggling with?</z><z id="t1508135345" t="dominicm https://www.reddit.com/r/Clojure/comments/765tfa/-/dod4mq8 seems like some use it with beginners too."><y>#</y><d>2017-10-16</d><h>06:29</h><w>dominicm</w><a href="https://www.reddit.com/r/Clojure/comments/765tfa/-/dod4mq8" target="_blank">https://www.reddit.com/r/Clojure/comments/765tfa/-/dod4mq8</a> seems like some use it with beginners too.</z><z id="t1508136281" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] Did Elena expand on why it was difficult for them?"><y>#</y><d>2017-10-16</d><h>06:44</h><w>cfleming</w><a>@shaunlebron</a> Did Elena expand on why it was difficult for them?</z><z id="t1508136340" t="cfleming I’m not sure I agree that what Elena is saying is similar to that Reddit subthread. That seems to be more along the lines of “people should just harden up and learn paredit”."><y>#</y><d>2017-10-16</d><h>06:45</h><w>cfleming</w>I’m not sure I agree that what Elena is saying is similar to that Reddit subthread. That seems to be more along the lines of “people should just harden up and learn paredit”.</z><z id="t1508136474" t="cfleming Actually, re-reading what you wrote perhaps you were referring to what the other person said."><y>#</y><d>2017-10-16</d><h>06:47</h><w>cfleming</w>Actually, re-reading what you wrote perhaps you were referring to what the other person said.</z><z id="t1508140125" t="shaunlebron she didn’t expand, but we agreed to connect later"><y>#</y><d>2017-10-16</d><h>07:48</h><w>shaunlebron</w>she didn’t expand, but we agreed to connect later</z><z id="t1508140193" t="shaunlebron yeah, I was referring to what the other person said"><y>#</y><d>2017-10-16</d><h>07:49</h><w>shaunlebron</w>yeah, I was referring to what the other person said</z><z id="t1508163462" t="chrisoakman [:attrs {:href &quot;/_/_/users/U09LZR36F&quot;}] &quot;I&apos;m wondering if some are going to interpret Rich&apos;s comment to be about parinfer.&quot; --&gt; reddit thread asking this question where I commented: https://www.reddit.com/r/Clojure/comments/75yc7c/opening_keynote_rich_hickey/doc3r2t/"><y>#</y><d>2017-10-16</d><h>14:17</h><w>chrisoakman</w><a>@dominicm</a> &quot;I&apos;m wondering if some are going to interpret Rich&apos;s comment to be about parinfer.&quot; --&gt; reddit thread asking this question where I commented: <a href="https://www.reddit.com/r/Clojure/comments/75yc7c/opening_keynote_rich_hickey/doc3r2t/" target="_blank">https://www.reddit.com/r/Clojure/comments/75yc7c/opening_keynote_rich_hickey/doc3r2t/</a></z><z id="t1508163885" t="dominicm [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] I&apos;m glad you got that cleared up"><y>#</y><d>2017-10-16</d><h>14:24</h><w>dominicm</w><a>@chrisoakman</a> I&apos;m glad you got that cleared up</z><z id="t1508164590" t="rgdelato glad to hear that the conversation with Rich seems to have gone well :D"><y>#</y><d>2017-10-16</d><h>14:36</h><w>rgdelato</w>glad to hear that the conversation with Rich seems to have gone well :D</z><z id="t1508164979" t="chrisoakman He is a fan of Parinfer. Thinks it&apos;s great work."><y>#</y><d>2017-10-16</d><h>14:42</h><w>chrisoakman</w>He is a fan of Parinfer. Thinks it&apos;s great work.</z><z id="t1508165210" t="rgdelato also, I don&apos;t know that I would put too much stock in comments from power users on Reddit, particularly those who are already accustomed to using key commands for everything"><y>#</y><d>2017-10-16</d><h>14:46</h><w>rgdelato</w>also, I don&apos;t know that I would put too much stock in comments from power users on Reddit, particularly those who are already accustomed to using key commands for everything</z><z id="t1508165725" t="shaunlebron lol, Rich did not say he was a fan of Parinfer"><y>#</y><d>2017-10-16</d><h>14:55</h><w>shaunlebron</w>lol, Rich did not say he was a fan of Parinfer</z><z id="t1508165804" t="shaunlebron he said he was looking forward to the history part of the talk, and that he wasn’t talking about Parinfer when he said “par-whatever… it’s a terrible idea”"><y>#</y><d>2017-10-16</d><h>14:56</h><w>shaunlebron</w>he said he was looking forward to the history part of the talk, and that he wasn’t talking about Parinfer when he said “par-whatever… it’s a terrible idea”</z><z id="t1508166046" t="chrisoakman I remember him saying something like &quot;It&apos;s great work&quot;"><y>#</y><d>2017-10-16</d><h>15:00</h><w>chrisoakman</w>I remember him saying something like &quot;It&apos;s great work&quot;</z><z id="t1508166122" t="chrisoakman On a totally unrelated, meta note: this is a perfect example of how human communication is difficult. We were literally in the same conversation and remember different things 😆 🙃"><y>#</y><d>2017-10-16</d><h>15:02</h><w>chrisoakman</w>On a totally unrelated, meta note: this is a perfect example of how human communication is difficult. We were literally in the same conversation and remember different things <b>😆</b> <b>🙃</b></z><z id="t1508166160" t="shaunlebron haha, /shrug"><y>#</y><d>2017-10-16</d><h>15:02</h><w>shaunlebron</w>haha, /shrug</z><z id="t1508166189" t="shaunlebron i was just happy he didn’t hate it"><y>#</y><d>2017-10-16</d><h>15:03</h><w>shaunlebron</w>i was just happy he didn’t hate it</z><z id="t1508166220" t="chrisoakman Yup. He definitely does not hate Parinfer."><y>#</y><d>2017-10-16</d><h>15:03</h><w>chrisoakman</w>Yup. He definitely does not hate Parinfer.</z><z id="t1508508944" t="sekao jumping into this convo late but regarding the nightcode/parinfer teaching feedback, i&apos;ve heard similar things before. my own experience teaching clojure to dozens of students was that unassisted editing lead to a smorgasbord of unmatched delimiter errors, and paredit was a huge distraction to my lessons."><y>#</y><d>2017-10-20</d><h>14:15</h><w>sekao</w>jumping into this convo late but regarding the nightcode/parinfer teaching feedback, i&apos;ve heard similar things before. my own experience teaching clojure to dozens of students was that unassisted editing lead to a smorgasbord of unmatched delimiter errors, and paredit was a huge distraction to my lessons.</z><z id="t1508508961" t="sekao the biggest thing i learned after teaching was how philosophical it was. i was the lead java instructor across all iron yard campuses and i was surprised at how much people&apos;s teaching philosophy could differ."><y>#</y><d>2017-10-20</d><h>14:16</h><w>sekao</w>the biggest thing i learned after teaching was how philosophical it was. i was the lead java instructor across all iron yard campuses and i was surprised at how much people&apos;s teaching philosophy could differ.</z><z id="t1508508981" t="sekao one instructor was adamant that students shouldn&apos;t learn java with an IDE. he said the autocompletion and autoimporting were terrible for learning. i disagreed, arguing that typing imports and method names was not fundamental to programming. data structures, control flow, etc are fundamental; i&apos;d rather focus on that."><y>#</y><d>2017-10-20</d><h>14:16</h><w>sekao</w>one instructor was adamant that students shouldn&apos;t learn java with an IDE. he said the autocompletion and autoimporting were terrible for learning. i disagreed, arguing that typing imports and method names was not fundamental to programming. data structures, control flow, etc are fundamental; i&apos;d rather focus on that.</z><z id="t1508509009" t="sekao another thing that is fundamental is scope, and the most important tool to visualizing it is indentation. i always annoyed my students when their indentation was wrong, b/c it prevented them from visualizing scope. parinfer fit my teaching pattern perfectly because i already was drilling them on good indentation."><y>#</y><d>2017-10-20</d><h>14:16</h><w>sekao</w>another thing that is fundamental is scope, and the most important tool to visualizing it is indentation. i always annoyed my students when their indentation was wrong, b/c it prevented them from visualizing scope. parinfer fit my teaching pattern perfectly because i already was drilling them on good indentation.</z><z id="t1508509580" t="sekao i think teaching with parinfer requires a mental shift if you aren&apos;t already teaching that way. if your students aren&apos;t constantly thinking about indentation (and scope) the editing will lead to surprises. i think students should be constantly thinking about that anyway, but as i said teaching philosophies can differ 🙂"><y>#</y><d>2017-10-20</d><h>14:26</h><w>sekao</w>i think teaching with parinfer requires a mental shift if you aren&apos;t already teaching that way. if your students aren&apos;t constantly thinking about indentation (and scope) the editing will lead to surprises. i think students should be constantly thinking about that anyway, but as i said teaching philosophies can differ <b>🙂</b></z><z id="t1508510403" t="chrisoakman Thanks for sharing this [:attrs {:href &quot;/_/_/users/U080181PF&quot;}] . I&apos;m a former The Iron Yard instructor too 🙂"><y>#</y><d>2017-10-20</d><h>14:40</h><w>chrisoakman</w>Thanks for sharing this <a>@sekao</a>. I&apos;m a former The Iron Yard instructor too <b>🙂</b></z><z id="t1508510450" t="chrisoakman I basically agree with everything you&apos;re saying re: teaching philosophies. One of the things I did in my class was get the students to use JavaScript Standard Style: https://standardjs.com/"><y>#</y><d>2017-10-20</d><h>14:40</h><w>chrisoakman</w>I basically agree with everything you&apos;re saying re: teaching philosophies. One of the things I did in my class was get the students to use JavaScript Standard Style: <a href="https://standardjs.com/" target="_blank">https://standardjs.com/</a></z><z id="t1508510504" t="chrisoakman The before / after for that was awesome. It caught lots of little issues for them; helped them focus on the logic."><y>#</y><d>2017-10-20</d><h>14:41</h><w>chrisoakman</w>The before / after for that was awesome. It caught lots of little issues for them; helped them focus on the logic.</z><z id="t1508510540" t="chrisoakman Which - like you said - I think is the important piece."><y>#</y><d>2017-10-20</d><h>14:42</h><w>chrisoakman</w>Which - like you said - I think is the important piece.</z><z id="t1508510668" t="chrisoakman Fixing indentation was one of the more important things that adopting Standard helped my students with."><y>#</y><d>2017-10-20</d><h>14:44</h><w>chrisoakman</w>Fixing indentation was one of the more important things that adopting Standard helped my students with.</z><z id="t1508510707" t="chrisoakman &quot;another thing that is fundamental is scope, and the most important tool to visualizing it is indentation&quot; --&gt; 💯 . Could not agree more about this."><y>#</y><d>2017-10-20</d><h>14:45</h><w>chrisoakman</w>&quot;another thing that is fundamental is scope, and the most important tool to visualizing it is indentation&quot; --&gt; <b>💯</b>. Could not agree more about this.</z><z id="t1508515567" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0618BTHU&quot;}] can you share your thoughts on why parinfer was confusing for your classes?"><y>#</y><d>2017-10-20</d><h>16:06</h><w>shaunlebron</w><a>@elenam</a> can you share your thoughts on why parinfer was confusing for your classes?</z><z id="t1508515851" t="shaunlebron my intuition is that indentation is natural because outside of programming languages, we still use indentation in bulleted lists: 1. mow the lawn a. rake leaves b. edge c. mow d. cleanup i. use blower ii. sweep the rest 2. paint the house a. tape the windows b. spray all walls c. paint trim by hand 3. buy a car a. test drive b. haggle i. mention bluebook price ii. don&apos;t be afraid to walk out c. drive home "><y>#</y><d>2017-10-20</d><h>16:10</h><w>shaunlebron</w>my intuition is that indentation is natural because outside of programming languages, we still use indentation in bulleted lists:

<pre>1. mow the lawn
  a. rake leaves
  b. edge
  c. mow
  d. cleanup
    i. use blower
    ii. sweep the rest
2. paint the house
  a. tape the windows
  b. spray all walls
  c. paint trim by hand
3. buy a car
  a. test drive
  b. haggle
    i. mention bluebook price
    ii. don&apos;t be afraid to walk out
  c. drive home
</pre></z><z id="t1508515956" t="shaunlebron maybe it can be taught by placing parens on this kind of list first"><y>#</y><d>2017-10-20</d><h>16:12</h><w>shaunlebron</w>maybe it can be taught by placing parens on this kind of list first</z><z id="t1508516059" t="shaunlebron (1. mow the lawn (a. rake leaves) (b. edge) (c. mow) (d. cleanup (i. use blower) (ii. sweep the rest))) (2. paint the house (a. tape the windows) (b. spray all walls) (c. paint trim by hand)) (3. buy a car (a. test drive) (b. haggle (i. mention bluebook price) (ii. don&apos;t be afraid to walk out)) (c. drive home)) "><y>#</y><d>2017-10-20</d><h>16:14</h><w>shaunlebron</w><pre>(1. mow the lawn
  (a. rake leaves)
  (b. edge)
  (c. mow)
  (d. cleanup
    (i. use blower)
    (ii. sweep the rest)))
(2. paint the house
  (a. tape the windows)
  (b. spray all walls)
  (c. paint trim by hand))
(3. buy a car
  (a. test drive)
  (b. haggle
    (i. mention bluebook price)
    (ii. don&apos;t be afraid to walk out))
  (c. drive home))
</pre></z><z id="t1508516201" t="rgdelato as an aside, I&apos;m also curious if v3 would make a significant difference in teaching beginners since there&apos;s less unexpected behavior"><y>#</y><d>2017-10-20</d><h>16:16</h><w>rgdelato</w>as an aside, I&apos;m also curious if v3 would make a significant difference in teaching beginners since there&apos;s less unexpected behavior</z><z id="t1508520823" t="seancorfield [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] parinfer smart mode seems to get a bit confused if you do certain editor operations that cause multiple edits (notably &quot;slurp&quot; with paredit, at least in Atom). I know this is a &quot;known issue&quot; but wondered whether it was more of an editor issue or a parinfer issue at this point? Is there anything I -- as a user -- can do to help? (great to meet you at Conj, BTW)"><y>#</y><d>2017-10-20</d><h>17:33</h><w>seancorfield</w><a>@shaunlebron</a> parinfer smart mode seems to get a bit confused if you do certain editor operations that cause multiple edits (notably &quot;slurp&quot; with paredit, at least in Atom). I know this is a &quot;known issue&quot; but wondered whether it was more of an editor issue or a parinfer issue at this point? Is there anything I -- as a user -- can do to help? (great to meet you at Conj, BTW)</z><z id="t1508520909" t="seancorfield I tried turning off paredit to see if I could get along with just parinfer but the smart newline (that auto-indents) and forward slurp are just too valuable to live without them (despite the parinfer peculiarity with the latter). 🙂"><y>#</y><d>2017-10-20</d><h>17:35</h><w>seancorfield</w>I tried turning off paredit to see if I could get along with just parinfer but the smart newline (that auto-indents) and forward slurp are just too valuable to live without them (despite the parinfer peculiarity with the latter). <b>🙂</b></z><z id="t1508521229" t="rgdelato I still have Paredit installed in Atom, but I have all the keybindings turned off and separately have &quot;enter&quot; mapped to Paredit&apos;s newline in my keymap.cson (which is what I recommend here: https://clojurescript.org/tools/atom ). I also have a keybinding to select the current sexp, which is nice"><y>#</y><d>2017-10-20</d><h>17:40</h><w>rgdelato</w>I still have Paredit installed in Atom, but I have all the keybindings turned off and separately have &quot;enter&quot; mapped to Paredit&apos;s newline in my keymap.cson (which is what I recommend here: <a href="https://clojurescript.org/tools/atom" target="_blank">https://clojurescript.org/tools/atom</a>). I also have a keybinding to select the current sexp, which is nice</z><z id="t1508521365" t="seancorfield [:attrs {:href &quot;/_/_/users/U47KWM4UV&quot;}] Yeah, I have keybindings off and just a handful of specific bindings of my own https://github.com/seancorfield/proto-repl-setup/blob/master/keymap.cson#L34"><y>#</y><d>2017-10-20</d><h>17:42</h><w>seancorfield</w><a>@rgdelato</a> Yeah, I have keybindings off and just a handful of specific bindings of my own <a href="https://github.com/seancorfield/proto-repl-setup/blob/master/keymap.cson#L34" target="_blank">https://github.com/seancorfield/proto-repl-setup/blob/master/keymap.cson#L34</a></z><z id="t1508522185" t="chrisoakman [:attrs {:href &quot;/_/_/users/U04V70XH6&quot;}] This is arguably a bug or feature request with atom-parinfer. Is there an open issue for it?"><y>#</y><d>2017-10-20</d><h>17:56</h><w>chrisoakman</w><a>@seancorfield</a> This is arguably a bug or feature request with atom-parinfer. Is there an open issue for it?</z><z id="t1508522242" t="chrisoakman I don&apos;t know if it&apos;s fixable off the top of my head. Maybe a special config flag that disables Parinfer when it detects a Paredit hotkey?"><y>#</y><d>2017-10-20</d><h>17:57</h><w>chrisoakman</w>I don&apos;t know if it&apos;s fixable off the top of my head. Maybe a special config flag that disables Parinfer when it detects a Paredit hotkey?</z><z id="t1508523845" t="seancorfield [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] Doesn&apos;t look like it. BTW, I also run into this one fairly regularly: https://github.com/oakmac/atom-parinfer/issues/72 (but usually after a duel between parinfer and paredit has messed up the structure/indentation)."><y>#</y><d>2017-10-20</d><h>18:24</h><w>seancorfield</w><a>@chrisoakman</a> Doesn&apos;t look like it. BTW, I also run into this one fairly regularly: <a href="https://github.com/oakmac/atom-parinfer/issues/72" target="_blank">https://github.com/oakmac/atom-parinfer/issues/72</a> (but usually after a duel between parinfer and paredit has messed up the structure/indentation).</z><z id="t1508523990" t="seancorfield Created https://github.com/oakmac/atom-parinfer/issues/94"><y>#</y><d>2017-10-20</d><h>18:26</h><w>seancorfield</w>Created <a href="https://github.com/oakmac/atom-parinfer/issues/94" target="_blank">https://github.com/oakmac/atom-parinfer/issues/94</a></z><z id="t1508524037" t="seancorfield Not sure how doing paredit:forward-slurp could signal to parinfer that it should wait for the edit operation to complete before doing anything?"><y>#</y><d>2017-10-20</d><h>18:27</h><w>seancorfield</w>Not sure how doing paredit:forward-slurp could signal to parinfer that it should wait for the edit operation to complete before doing anything?</z><z id="t1508524125" t="seancorfield According to [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] this is a problem in Cursive too when an edit is performing that would rearrange the code independently of parinfer -- parinfer seems to try to &quot;interfere&quot; while the other edit is still ongoing (multi-step editing)."><y>#</y><d>2017-10-20</d><h>18:28</h><w>seancorfield</w>According to <a>@cfleming</a> this is a problem in Cursive too when an edit is performing that would rearrange the code independently of parinfer -- parinfer seems to try to &quot;interfere&quot; while the other edit is still ongoing (multi-step editing).</z><z id="t1508526483" t="shaunlebron I think anyone who can just port over the auto-indent newline to parinfer would be a hero"><y>#</y><d>2017-10-20</d><h>19:08</h><w>shaunlebron</w>I think anyone who can just port over the auto-indent newline to parinfer would be a hero</z><z id="t1508526524" t="shaunlebron that’s a big pain point that I experience every day"><y>#</y><d>2017-10-20</d><h>19:08</h><w>shaunlebron</w>that’s a big pain point that I experience every day</z><z id="t1508526568" t="shaunlebron parinfer is going to have problems when multiple changes are not specified in batch"><y>#</y><d>2017-10-20</d><h>19:09</h><w>shaunlebron</w>parinfer is going to have problems when multiple changes are not specified in batch</z><z id="t1508526722" t="shaunlebron we talked about combining changes as they come in to debounce parinfer processing without breaking"><y>#</y><d>2017-10-20</d><h>19:12</h><w>shaunlebron</w>we talked about combining changes as they come in to debounce parinfer processing without breaking</z><z id="t1508526742" t="shaunlebron i’d put that far on the roadmap though"><y>#</y><d>2017-10-20</d><h>19:12</h><w>shaunlebron</w>i’d put that far on the roadmap though</z><z id="t1508527169" t="seancorfield Then I guess as long as there&apos;s a way to switch parinfer modes so users can switch to paren mode, do their complex editing (paredit), and then switch back to smart mode, we&apos;ll be good."><y>#</y><d>2017-10-20</d><h>19:19</h><w>seancorfield</w>Then I guess as long as there&apos;s a way to switch parinfer modes so users can switch to paren mode, do their complex editing (paredit), and then switch back to smart mode, we&apos;ll be good.</z><z id="t1508533649" t="cfleming I don’t think it’s due to the changes not being in batch, #176 and #177 are problems where the changes are batched, but still confuse parinfer."><y>#</y><d>2017-10-20</d><h>21:07</h><w>cfleming</w>I don’t think it’s due to the changes not being in batch, #176 and #177 are problems where the changes are batched, but still confuse parinfer.</z><z id="t1508533674" t="cfleming Obviously non-batched changes will be worse, but there are bugs when batching too."><y>#</y><d>2017-10-20</d><h>21:07</h><w>cfleming</w>Obviously non-batched changes will be worse, but there are bugs when batching too.</z><z id="t1508533815" t="cfleming [:attrs {:href &quot;/_/_/users/U04V70XH6&quot;}] I commented over on your issue there. One thing that can help as a user is a repro case of what you were doing, ideally minimised, but you mentioned that this often breaks undo in Atom which makes that pretty hard."><y>#</y><d>2017-10-20</d><h>21:10</h><w>cfleming</w><a>@seancorfield</a> I commented over on your issue there. One thing that can help as a user is a repro case of what you were doing, ideally minimised, but you mentioned that this often breaks undo in Atom which makes that pretty hard.</z><z id="t1508535855" t="seancorfield [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] Thanks. Yeah, now that I&apos;ve actually created an issue for it, I&apos;ll try to pay a bit more attention to code where it breaks and actually set up a repro case in the issue (rather than just cursing and fixing my code and moving on!)."><y>#</y><d>2017-10-20</d><h>21:44</h><w>seancorfield</w><a>@cfleming</a> Thanks. Yeah, now that I&apos;ve actually created an issue for it, I&apos;ll try to pay a bit more attention to code where it breaks and actually set up a repro case in the issue (rather than just cursing and fixing my code and moving on!).</z><z id="t1508535916" t="cfleming Great, thanks - that helps a lot."><y>#</y><d>2017-10-20</d><h>21:45</h><w>cfleming</w>Great, thanks - that helps a lot.</z><z id="t1508535937" t="cfleming I find that usually I can come up with a minimal example, but I understand the algorithm pretty well now."><y>#</y><d>2017-10-20</d><h>21:45</h><w>cfleming</w>I find that usually I can come up with a minimal example, but I understand the algorithm pretty well now.</z><z id="t1508535973" t="seancorfield I have a suspicion that it happens specifically when you try to slurp an expression that has a sub-expression that is also split over multiple lines so I&apos;ll try to keep an eye out for that going forward."><y>#</y><d>2017-10-20</d><h>21:46</h><w>seancorfield</w>I have a suspicion that it happens specifically when you try to slurp an expression that has a sub-expression that is also split over multiple lines so I&apos;ll try to keep an eye out for that going forward.</z><z id="t1508536089" t="cfleming I’m totally willing to believe that based on my experience, yeah."><y>#</y><d>2017-10-20</d><h>21:48</h><w>cfleming</w>I’m totally willing to believe that based on my experience, yeah.</z><z id="t1508542129" t="taylor big fan of Parinfer 👏"><y>#</y><d>2017-10-20</d><h>23:28</h><w>taylor</w>big fan of Parinfer <b>👏</b></z><z id="t1508682256" t="chrisoakman https://news.ycombinator.com/item?id=15525570"><y>#</y><d>2017-10-22</d><h>14:24</h><w>chrisoakman</w><a href="https://news.ycombinator.com/item?id=15525570" target="_blank">https://news.ycombinator.com/item?id=15525570</a></z><z id="t1508682485" t="chrisoakman That thread is emblematic of newcomers to Lisp. That person posts a reasonable experience report about how parenthesis were a problem for him getting started. Is subsequently downvoted and receives dozens of replies to &quot;just use emacs&quot;."><y>#</y><d>2017-10-22</d><h>14:28</h><w>chrisoakman</w>That thread is emblematic of newcomers to Lisp. That person posts a reasonable experience report about how parenthesis were a problem for him getting started. Is subsequently downvoted and receives dozens of replies to &quot;just use emacs&quot;.</z><z id="t1508682555" t="chrisoakman Also &quot;just use the REPL more&quot;. So unhelpful and completely misses the point of his query / problem."><y>#</y><d>2017-10-22</d><h>14:29</h><w>chrisoakman</w>Also &quot;just use the REPL more&quot;. So unhelpful and completely misses the point of his query / problem.</z><z id="t1508714680" t="shaunlebron ive been hearing the &quot;clojure has less parens than other langs&quot; response lately. thats not really working for people"><y>#</y><d>2017-10-22</d><h>23:24</h><w>shaunlebron</w>ive been hearing the &quot;clojure has less parens than other langs&quot; response lately. thats not really working for people</z><z id="t1508714876" t="shaunlebron its a fact, but perception is a real thing as well"><y>#</y><d>2017-10-22</d><h>23:27</h><w>shaunlebron</w>its a fact, but perception is a real thing as well</z><z id="t1508714961" t="shaunlebron for example, no game designer would blame a perception problem on the player. it&apos;s the designer&apos;s job to make sure perception aligns appropriately"><y>#</y><d>2017-10-22</d><h>23:29</h><w>shaunlebron</w>for example, no game designer would blame a perception problem on the player. it&apos;s the designer&apos;s job to make sure perception aligns appropriately</z><z id="t1508715033" t="shaunlebron that&apos;s how i feel when people tell newcomers of lisp to ignore what they see because theyre just not seeing it right"><y>#</y><d>2017-10-22</d><h>23:30</h><w>shaunlebron</w>that&apos;s how i feel when people tell newcomers of lisp to ignore what they see because theyre just not seeing it right</z><z id="t1508748473" t="dominicm I disagree somewhat, but I suspect I&apos;m missing your point a little. ALGOL has influenced the expectations of syntax from programmers. There&apos;s very few other syntaxes to learn, and lisp is a big deviation from that."><y>#</y><d>2017-10-23</d><h>08:47</h><w>dominicm</w>I disagree somewhat, but I suspect I&apos;m missing your point a little.

ALGOL has influenced the expectations of syntax from programmers. There&apos;s very few other syntaxes to learn, and lisp is a big deviation from that.</z><z id="t1508805961" t="shaunlebron it goes beyond programming syntax though"><y>#</y><d>2017-10-24</d><h>00:46</h><w>shaunlebron</w>it goes beyond programming syntax though</z><z id="t1508806046" t="shaunlebron even when ALGOL and LISP were first created, the former was considered natural from the outset"><y>#</y><d>2017-10-24</d><h>00:47</h><w>shaunlebron</w>even when ALGOL and LISP were first created, the former was considered natural from the outset</z><z id="t1508806070" t="shaunlebron they called it and others like it “algebraic notations”"><y>#</y><d>2017-10-24</d><h>00:47</h><w>shaunlebron</w>they called it and others like it “algebraic notations”</z><z id="t1508806108" t="shaunlebron because it followed normal conventions from mathematical notation that had been around for some ~400 years"><y>#</y><d>2017-10-24</d><h>00:48</h><w>shaunlebron</w>because it followed normal conventions from mathematical notation that had been around for some ~400 years</z><z id="t1508806284" t="shaunlebron polish notation was created to remove parens around 1920. (1+2)*3 =&gt; * + 1 2 3 "><y>#</y><d>2017-10-24</d><h>00:51</h><w>shaunlebron</w>polish notation was created to remove parens around 1920. 
<pre>(1+2)*3 =&gt; * + 1 2 3
</pre></z><z id="t1508806366" t="shaunlebron and around the same time, lambda calculus used prefix notation for function application, but parens were often omitted by assuming left-association: ((M N) P) =&gt; M N P "><y>#</y><d>2017-10-24</d><h>00:52</h><w>shaunlebron</w>and around the same time, lambda calculus used prefix notation for function application, but parens were often omitted by assuming left-association:
<pre>((M N) P) =&gt; M N P
</pre></z><z id="t1508807142" t="shaunlebron I’d be willing to say that familiarity with algol syntax is not a prerequisite for disliking parentheses clutter in lisp"><y>#</y><d>2017-10-24</d><h>01:05</h><w>shaunlebron</w>I’d be willing to say that familiarity with algol syntax is not a prerequisite for disliking parentheses clutter in lisp</z><z id="t1508807285" t="shaunlebron the feeling of “clutter” is a function of both layout and count, and saying that there are less parens in Clojure than other langs is ignoring the other half of the problem"><y>#</y><d>2017-10-24</d><h>01:08</h><w>shaunlebron</w>the feeling of “clutter” is a function of both layout and count, and saying that there are less parens in Clojure than other langs is ignoring the other half of the problem</z><z id="t1508807861" t="shaunlebron I think it represents an interesting conflict of two cultural memes: 1) “free will”—you can and should be able to look past these parens that you will get used to, and 2) “empathetic designer”—it’s my fault as the designer that the path of least resistance led you away"><y>#</y><d>2017-10-24</d><h>01:17</h><w>shaunlebron</w>I think it represents an interesting conflict of two cultural memes: 1) “free will”—you can and should be able to look past these parens that you will get used to, and 2) “empathetic designer”—it’s my fault as the designer that the path of least resistance led you away</z><z id="t1508807917" t="cfleming It’s also untrue IIRC, for non-trivial blocks of code. e.g. fn(1 + 2) vs (fn (+ 1 2))"><y>#</y><d>2017-10-24</d><h>01:18</h><w>cfleming</w>It’s also untrue IIRC, for non-trivial blocks of code. e.g. <code>fn(1 + 2)</code> vs <code>(fn (+ 1 2))</code></z><z id="t1508807954" t="cfleming I actually saw a study somewhere which I can’t find now where they counted parens/delimiters across different codebases, lisps did end up with significantly more."><y>#</y><d>2017-10-24</d><h>01:19</h><w>cfleming</w>I actually saw a study somewhere which I can’t find now where they counted parens/delimiters across different codebases, lisps did end up with significantly more.</z><z id="t1508808012" t="cfleming But right, just shouting down people who are suffering with it is unlikely to do any good."><y>#</y><d>2017-10-24</d><h>01:20</h><w>cfleming</w>But right, just shouting down people who are suffering with it is unlikely to do any good.</z><z id="t1508832072" t="dominicm I wonder if M-expr were: 1) has less perceived paren clutter 2) not adopted/built because the syntax improvement was not that significant."><y>#</y><d>2017-10-24</d><h>08:01</h><w>dominicm</w>I wonder if M-expr were:
1) has less perceived paren clutter
2) not adopted/built because the syntax improvement was not that significant.</z><z id="t1508832201" t="cfleming I actually do think that parens are overblown, but prefix notation is still difficult for me sometimes. (/ (+ 1 2) (* 3 6)) is just harder to scan than the infix equivalent."><y>#</y><d>2017-10-24</d><h>08:03</h><w>cfleming</w>I actually do think that parens are overblown, but prefix notation is still difficult for me sometimes. <code>(/ (+ 1 2) (* 3 6))</code> is just harder to scan than the infix equivalent.</z><z id="t1508832238" t="cfleming Likewise comparisons, in something like (&lt; width 10) I always have to mentally shift the &lt; to ensure I’m comparing in the right direction."><y>#</y><d>2017-10-24</d><h>08:03</h><w>cfleming</w>Likewise comparisons, in something like <code>(&lt; width 10)</code> I always have to mentally shift the <code>&lt;</code> to ensure I’m comparing in the right direction.</z><z id="t1508832279" t="cfleming Parens were only a problem briefly, and prefix isn’t terrible (and has its own advantages), but it’s still not natural to me."><y>#</y><d>2017-10-24</d><h>08:04</h><w>cfleming</w>Parens were only a problem briefly, and prefix isn’t terrible (and has its own advantages), but it’s still not natural to me.</z><z id="t1508832366" t="dominicm Comparison operators are a struggle for me. Partially because the only thing I can remember is &quot;the crocodile eats the bigger one&quot;, meaning I have no idea which is which."><y>#</y><d>2017-10-24</d><h>08:06</h><w>dominicm</w>Comparison operators are a struggle for me. Partially because the only thing I can remember is &quot;the crocodile eats the bigger one&quot;, meaning I have no idea which is which.</z><z id="t1508832381" t="cfleming Hahaha"><y>#</y><d>2017-10-24</d><h>08:06</h><w>cfleming</w>Hahaha</z><z id="t1508832412" t="cfleming So true"><y>#</y><d>2017-10-24</d><h>08:06</h><w>cfleming</w>So true</z><z id="t1508846061" t="wilkerlucio [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] you asked me to share here once I got it out, so here it is, today I&apos;m releasing OgE, OgE is a graph explorer for Om.next query syntax, the editor uses parinfer to help the user to write their query fast 🙂"><y>#</y><d>2017-10-24</d><h>11:54</h><w>wilkerlucio</w><a>@shaunlebron</a> you asked me to share here once I got it out, so here it is, today I&apos;m releasing OgE, OgE is a graph explorer for Om.next query syntax, the editor uses parinfer to help the user to write their query fast <b>🙂</b></z><z id="t1508846065" t="wilkerlucio OgE can be found at: https://github.com/wilkerlucio/oge"><y>#</y><d>2017-10-24</d><h>11:54</h><w>wilkerlucio</w>OgE can be found at: <a href="https://github.com/wilkerlucio/oge" target="_blank">https://github.com/wilkerlucio/oge</a></z><z id="t1508861532" t="shaunlebron [:attrs {:href &quot;/_/_/users/U066U8JQJ&quot;}] cool, looks nice, thanks for sharing"><y>#</y><d>2017-10-24</d><h>16:12</h><w>shaunlebron</w><a>@wilkerlucio</a> cool, looks nice, thanks for sharing</z></g><g id="s19"><z id="t1508861556" t="shaunlebron i like how you setup the dependencies here: https://github.com/wilkerlucio/oge/blob/9c974be973cc629dfa0351187616e76497d4dff9/src/deps.cljs"><y>#</y><d>2017-10-24</d><h>16:12</h><w>shaunlebron</w>i like how you setup the dependencies here: <a href="https://github.com/wilkerlucio/oge/blob/9c974be973cc629dfa0351187616e76497d4dff9/src/deps.cljs" target="_blank">https://github.com/wilkerlucio/oge/blob/9c974be973cc629dfa0351187616e76497d4dff9/src/deps.cljs</a></z><z id="t1508861632" t="shaunlebron I was helping timothy pratley setup parinfer on a cljs project yesterday"><y>#</y><d>2017-10-24</d><h>16:13</h><w>shaunlebron</w>I was helping timothy pratley setup parinfer on a cljs project yesterday</z><z id="t1508861654" t="shaunlebron and i had trouble figuring out how to setup these transitive dependencies between foreign libs"><y>#</y><d>2017-10-24</d><h>16:14</h><w>shaunlebron</w>and i had trouble figuring out how to setup these transitive dependencies between foreign libs</z><z id="t1508861741" t="shaunlebron it’s all very weird"><y>#</y><d>2017-10-24</d><h>16:15</h><w>shaunlebron</w>it’s all very weird</z><z id="t1508861751" t="shaunlebron https://github.com/shaunlebron/parinfer-codemirror-cljs-example"><y>#</y><d>2017-10-24</d><h>16:15</h><w>shaunlebron</w><a href="https://github.com/shaunlebron/parinfer-codemirror-cljs-example" target="_blank">https://github.com/shaunlebron/parinfer-codemirror-cljs-example</a></z><z id="t1508861791" t="shaunlebron i ended up just creating cljsjs packages"><y>#</y><d>2017-10-24</d><h>16:16</h><w>shaunlebron</w>i ended up just creating cljsjs packages</z><z id="t1508861884" t="shaunlebron i suppose I could add a :requires key for parinfer-codemirror to point to cljsjs/parinfer and cljsjs/parinfer-codemirror to have the compiler throw an error if they can’t be found"><y>#</y><d>2017-10-24</d><h>16:18</h><w>shaunlebron</w>i suppose I could add a <code>:requires</code> key for parinfer-codemirror to point to <code>cljsjs/parinfer</code> and <code>cljsjs/parinfer-codemirror</code> to have the compiler throw an error if they can’t be found</z><z id="t1508861949" t="shaunlebron i still dislike that parinfer and codemirror have to be referenced as global vars when included as foreign-libs by the cljs compiler"><y>#</y><d>2017-10-24</d><h>16:19</h><w>shaunlebron</w>i still dislike that parinfer and codemirror have to be referenced as global vars when included as foreign-libs by the cljs compiler</z><z id="t1508864642" t="wilkerlucio [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] the deps was more a need then a feature, hehe, I needed that because OgE is supposed to be used as a library too, I didn&apos;t wanted to shared because I&apos;m afraid of naming munging on adv compilation (also, there is currently a bug, I can&apos;t add externs there, if I do I break the compilation, antonio monteiro said there is no current way around it, so I believe him), in my case I&apos;m calling those using goog.obj helpers to avoid the advanced compilation issues"><y>#</y><d>2017-10-24</d><h>17:04</h><w>wilkerlucio</w><a>@shaunlebron</a> the deps was more a need then a feature, hehe, I needed that because OgE is supposed to be used as a library too, I didn&apos;t wanted to shared because I&apos;m afraid of naming munging on adv compilation (also, there is currently a bug, I can&apos;t add externs there, if I do I break the compilation, antonio monteiro said there is no current way around it, so I believe him), in my case I&apos;m calling those using <code>goog.obj</code> helpers to avoid the advanced compilation issues</z><z id="t1508864666" t="wilkerlucio but would be nice if we could just import, does the cljsjs packages that you created have the externs for it?"><y>#</y><d>2017-10-24</d><h>17:04</h><w>wilkerlucio</w>but would be nice if we could just import, does the cljsjs packages that you created have the externs for it?</z><z id="t1508864684" t="shaunlebron externs are there yeah"><y>#</y><d>2017-10-24</d><h>17:04</h><w>shaunlebron</w>externs are there yeah</z><z id="t1508864705" t="shaunlebron but really, i use cljs-oops to avoid externs now"><y>#</y><d>2017-10-24</d><h>17:05</h><w>shaunlebron</w>but really, i use cljs-oops to avoid externs now</z><z id="t1508864726" t="shaunlebron essentially a simpler way to do what you’re already doing with goog.obj"><y>#</y><d>2017-10-24</d><h>17:05</h><w>shaunlebron</w>essentially a simpler way to do what you’re already doing with goog.obj</z><z id="t1508864730" t="wilkerlucio nice, I might give it a try to the cljsjs packages, and I think you should add the :requires, since they are a real requirement there (and helps on the load ordering)"><y>#</y><d>2017-10-24</d><h>17:05</h><w>wilkerlucio</w>nice, I might give it a try to the cljsjs packages, and I think you should add the :requires, since they are a real requirement there (and helps on the load ordering)</z><z id="t1508864761" t="wilkerlucio yeah, I saw cljs-oops, I just think goog.obj works well enough, trying to reduce deps"><y>#</y><d>2017-10-24</d><h>17:06</h><w>wilkerlucio</w>yeah, I saw cljs-oops, I just think goog.obj works well enough, trying to reduce deps</z><z id="t1508864762" t="shaunlebron ah, i missed that it helps with load ordering, makes sense"><y>#</y><d>2017-10-24</d><h>17:06</h><w>shaunlebron</w>ah, i missed that it helps with load ordering, makes sense</z><z id="t1508864788" t="shaunlebron that’s the only downside—that it’s not a part of core, but it never will be"><y>#</y><d>2017-10-24</d><h>17:06</h><w>shaunlebron</w>that’s the only downside—that it’s not a part of core, but it never will be</z><z id="t1508864816" t="wilkerlucio true"><y>#</y><d>2017-10-24</d><h>17:06</h><w>wilkerlucio</w>true</z><z id="t1510243576" t="admay Is anyone using parinfer with neovim online? I’m having trouble getting it installed for some reason"><y>#</y><d>2017-11-09</d><h>16:06</h><w>admay</w>Is anyone using parinfer with neovim online? I’m having trouble getting it installed for some reason</z><z id="t1510245563" t="dominicm [:attrs {:href &quot;/_/_/users/U405WJUPL&quot;}] nvim parinfer doesn&apos;t work with the newest node-host"><y>#</y><d>2017-11-09</d><h>16:39</h><w>dominicm</w><a>@admay</a> nvim parinfer doesn&apos;t work with the newest node-host</z><z id="t1510245585" t="dominicm Apparently I didn&apos;t write my workaround down where I thought I did"><y>#</y><d>2017-11-09</d><h>16:39</h><w>dominicm</w>Apparently I didn&apos;t write my workaround down where I thought I did</z><z id="t1510245669" t="dominicm [:attrs {:href &quot;/_/_/users/U405WJUPL&quot;}] Basically this: https://github.com/clojure-vim/clj-refactor.nvim/issues/16#issuecomment-329987566"><y>#</y><d>2017-11-09</d><h>16:41</h><w>dominicm</w><a>@admay</a> Basically this: <a href="https://github.com/clojure-vim/clj-refactor.nvim/issues/16#issuecomment-329987566" target="_blank">https://github.com/clojure-vim/clj-refactor.nvim/issues/16#issuecomment-329987566</a></z><z id="t1510245708" t="admay [:attrs {:href &quot;/_/_/users/U09LZR36F&quot;}] awesome! thanks man, I’ll try to get it running"><y>#</y><d>2017-11-09</d><h>16:41</h><w>admay</w><a>@dominicm</a> awesome! thanks man, I’ll try to get it running</z><z id="t1510337398" t="mattly question: is there a sort of “formatting gauntlet” test file that you use to ensure parinfer behaves as expected?"><y>#</y><d>2017-11-10</d><h>18:09</h><w>mattly</w>question: is there a sort of “formatting gauntlet” test file that you use to ensure parinfer behaves as expected?</z><z id="t1510337460" t="mattly my team is settling on an indentation style for clojure and we’re trying to get the emacs, vim, cursive and atom people all on the same page for our tooling"><y>#</y><d>2017-11-10</d><h>18:11</h><w>mattly</w>my team is settling on an indentation style for clojure and we’re trying to get the emacs, vim, cursive and atom people all on the same page for our tooling</z><z id="t1510390177" t="dominicm Bit OT, but I&apos;d love to see a write up if you manage to succeed. We&apos;ve found this immensely difficult."><y>#</y><d>2017-11-11</d><h>08:49</h><r>dominicm</r>Bit OT, but I&apos;d love to see a write up if you manage to succeed. We&apos;ve found this immensely difficult.</z><z id="t1510436394" t="mattly it’ll end up in our wiki if we do, and for the most part we’d like to give back, so I’ll make the case for that"><y>#</y><d>2017-11-11</d><h>21:39</h><r>mattly</r>it’ll end up in our wiki if we do, and for the most part we’d like to give back, so I’ll make the case for that</z><z id="t1510337492" t="mattly since there are a lot of lisp newbies and it’s more friendly, I’m strongly advocating for parinfer, but the project lead is an old-time emacs guy"><y>#</y><d>2017-11-10</d><h>18:11</h><w>mattly</w>since there are a lot of lisp newbies and it’s more friendly, I’m strongly advocating for parinfer, but the project lead is an old-time emacs guy</z><z id="t1510338217" t="rgdelato I&apos;m not sure exactly how to get it to work in Clojure-land, but wiring up something like parlinter or cljfmt as a Git precommit hook might be a good solution, so even those who don&apos;t use Parinfer will always commit Parinfer-friendly code"><y>#</y><d>2017-11-10</d><h>18:23</h><w>rgdelato</w>I&apos;m not sure exactly how to get it to work in Clojure-land, but wiring up something like <code>parlinter</code> or <code>cljfmt</code> as a Git precommit hook might be a good solution, so even those who don&apos;t use Parinfer will always commit Parinfer-friendly code</z><z id="t1510338429" t="rgdelato as for the &quot;formatting gauntlet,&quot; there are definitely a bunch of test cases in the repo if you want to look through: https://github.com/shaunlebron/parinfer/tree/master/lib/test/cases"><y>#</y><d>2017-11-10</d><h>18:27</h><w>rgdelato</w>as for the &quot;formatting gauntlet,&quot; there are definitely a bunch of test cases in the repo if you want to look through:
<a href="https://github.com/shaunlebron/parinfer/tree/master/lib/test/cases" target="_blank">https://github.com/shaunlebron/parinfer/tree/master/lib/test/cases</a></z><z id="t1510341525" t="chrisoakman [:attrs {:href &quot;/_/_/users/U053V4R5N&quot;}] I agree with what [:attrs {:href &quot;/_/_/users/U47KWM4UV&quot;}] says --^ Check out Parlinter as a light-weight tool to enforce indentation style: https://github.com/shaunlebron/parlinter"><y>#</y><d>2017-11-10</d><h>19:18</h><w>chrisoakman</w><a>@mattly</a> I agree with what <a>@rgdelato</a> says --^  Check out Parlinter as a light-weight tool to enforce indentation style: <a href="https://github.com/shaunlebron/parlinter" target="_blank">https://github.com/shaunlebron/parlinter</a></z><z id="t1510341536" t="mattly ah neat"><y>#</y><d>2017-11-10</d><h>19:18</h><w>mattly</w>ah neat</z><z id="t1510341540" t="mattly thanks both of you"><y>#</y><d>2017-11-10</d><h>19:19</h><w>mattly</w>thanks both of you</z><z id="t1511134570" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] I spent the afternoon relearning smartMode’s subtle behavior 😕"><y>#</y><d>2017-11-19</d><h>23:36</h><w>shaunlebron</w><a>@cfleming</a> I spent the afternoon relearning smartMode’s subtle behavior <b>😕</b></z><z id="t1511134702" t="shaunlebron i found the bug—the behavior assumes that the same thing should happen when an open-paren is dedented and when the following line is indented"><y>#</y><d>2017-11-19</d><h>23:38</h><w>shaunlebron</w>i found the bug—the behavior assumes that the same thing should happen when an open-paren is dedented and when the following line is indented</z><z id="t1511134747" t="shaunlebron anyway, I have to redraw those boundary conditions, and I’ll create better test cases around them to explain it"><y>#</y><d>2017-11-19</d><h>23:39</h><w>shaunlebron</w>anyway, I have to redraw those boundary conditions, and I’ll create better test cases around them to explain it</z><z id="t1511134790" t="shaunlebron progress!"><y>#</y><d>2017-11-19</d><h>23:39</h><w>shaunlebron</w>progress!</z><z id="t1511145469" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] Yeah, it’s pretty subtle in there. Awesome that you’ve found the bug, thanks so much for looking into that."><y>#</y><d>2017-11-20</d><h>02:37</h><w>cfleming</w><a>@shaunlebron</a> Yeah, it’s pretty subtle in there. Awesome that you’ve found the bug, thanks so much for looking into that.</z><z id="t1511145479" t="cfleming I tried to work it out but couldn’t quite get my head around it."><y>#</y><d>2017-11-20</d><h>02:37</h><w>cfleming</w>I tried to work it out but couldn’t quite get my head around it.</z><z id="t1512698757" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] I finally had time to test out your fix - it looks great, thanks!"><y>#</y><d>2017-12-08</d><h>02:05</h><w>cfleming</w><a>@shaunlebron</a> I finally had time to test out your fix - it looks great, thanks!</z><z id="t1512698767" t="cfleming It fixes all 3 of those issues."><y>#</y><d>2017-12-08</d><h>02:06</h><w>cfleming</w>It fixes all 3 of those issues.</z><z id="t1512698832" t="cfleming I wondered whether my Math.max hack would be required with your fix, #176 and #177 work without it but #173 (the original issue it fixed) still needs it."><y>#</y><d>2017-12-08</d><h>02:07</h><w>cfleming</w>I wondered whether my <code>Math.max</code> hack would be required with your fix, #176 and #177 work without it but #173 (the original issue it fixed) still needs it.</z><z id="t1512962075" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] https://github.com/shaunlebron/parinfer/issues/179 😞"><y>#</y><d>2017-12-11</d><h>03:14</h><w>cfleming</w><a>@shaunlebron</a> <a href="https://github.com/shaunlebron/parinfer/issues/179" target="_blank">https://github.com/shaunlebron/parinfer/issues/179</a> <b>😞</b></z><z id="t1512963048" t="shaunlebron thanks colin, we’ll get this taken care of 🙂"><y>#</y><d>2017-12-11</d><h>03:30</h><w>shaunlebron</w>thanks colin, we’ll get this taken care of <b>🙂</b></z><z id="t1512963071" t="shaunlebron i started a new job last week"><y>#</y><d>2017-12-11</d><h>03:31</h><w>shaunlebron</w>i started a new job last week</z><z id="t1512963107" t="shaunlebron but I got some corporate funding to meet my $1k/mo goal to give me time to work on this for a day each week"><y>#</y><d>2017-12-11</d><h>03:31</h><w>shaunlebron</w>but I got some corporate funding to meet my $1k/mo goal to give me time to work on this for a day each week</z><z id="t1512963149" t="shaunlebron i’ll look at it this week"><y>#</y><d>2017-12-11</d><h>03:32</h><w>shaunlebron</w>i’ll look at it this week</z><z id="t1512969841" t="cfleming Oh great, congrats!"><y>#</y><d>2017-12-11</d><h>05:24</h><w>cfleming</w>Oh great, congrats!</z><z id="t1513003371" t="bhurlow [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] awesome"><y>#</y><d>2017-12-11</d><h>14:42</h><w>bhurlow</w><a>@shaunlebron</a> awesome</z><z id="t1513009779" t="shaunlebron i’ve recorded four video updates since starting my patreon account 2 months ago: https://www.patreon.com/shaunlebron"><y>#</y><d>2017-12-11</d><h>16:29</h><w>shaunlebron</w>i’ve recorded four video updates since starting my patreon account 2 months ago: <a href="https://www.patreon.com/shaunlebron" target="_blank">https://www.patreon.com/shaunlebron</a></z><z id="t1513009844" t="shaunlebron the corporate funding is being handled outside patreon"><y>#</y><d>2017-12-11</d><h>16:30</h><w>shaunlebron</w>the corporate funding is being handled outside patreon</z><z id="t1513009958" t="shaunlebron i usually don’t like sharing stuff if it’s too early, but i show that stuff to patrons"><y>#</y><d>2017-12-11</d><h>16:32</h><w>shaunlebron</w>i usually don’t like sharing stuff if it’s too early, but i show that stuff to patrons</z><z id="t1513287713" t="Drew Verlee Is there a place to to go get big parinfer updates?"><y>#</y><d>2017-12-14</d><h>21:41</h><w>Drew Verlee</w>Is there a place to to go get big parinfer updates?</z><z id="t1513397616" t="shaunlebron i’ll make the big updates publicly visible on patreon"><y>#</y><d>2017-12-16</d><h>04:13</h><w>shaunlebron</w>i’ll make the big updates publicly visible on patreon</z><z id="t1513492855" t="tianshu is that changed-lines in the result has been removed in the new version of parinfer?"><y>#</y><d>2017-12-17</d><h>06:40</h><w>tianshu</w>is that <code>changed-lines</code> in the result has been removed in the new version of parinfer?</z><z id="t1513549532" t="shaunlebron i can’t remember why i removed it, I’d have to look back"><y>#</y><d>2017-12-17</d><h>22:25</h><w>shaunlebron</w>i can’t remember why i removed it, I’d have to look back</z><z id="t1513549558" t="shaunlebron the assumption that parinfer only modifies lines instead of adding/removing, changed last year I think"><y>#</y><d>2017-12-17</d><h>22:25</h><w>shaunlebron</w>the assumption that parinfer only modifies lines instead of adding/removing, changed last year I think</z><z id="t1513549641" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] I was bad at planning my parinfer time this weekend, but I was able to spare an hour today to type up my thoughts and lay out a plan for continuing next weekend: https://github.com/shaunlebron/parinfer/blob/multi-change-bug/lib/multi-change-bug.md"><y>#</y><d>2017-12-17</d><h>22:27</h><w>shaunlebron</w><a>@cfleming</a> I was bad at planning my parinfer time this weekend, but I was able to spare an hour today to type up my thoughts and lay out a plan for continuing next weekend: <a href="https://github.com/shaunlebron/parinfer/blob/multi-change-bug/lib/multi-change-bug.md" target="_blank">https://github.com/shaunlebron/parinfer/blob/multi-change-bug/lib/multi-change-bug.md</a></z><z id="t1513555470" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] Thanks. I agree that the Math.max thing is a hack and should probably be removed. But the original case that it fixed (173 IIRC) needs another fix in that case."><y>#</y><d>2017-12-18</d><h>00:04</h><w>cfleming</w><a>@shaunlebron</a> Thanks. I agree that the Math.max thing is a hack and should probably be removed. But the original case that it fixed (173 IIRC) needs another fix in that case.</z><z id="t1514079597" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] bug update"><y>#</y><d>2017-12-24</d><h>01:39</h><w>shaunlebron</w><a>@cfleming</a> bug update</z><z id="t1514079622" t="shaunlebron i’m not comfortable saying it’s fixed yet, but i have a much better grasp of the problem"><y>#</y><d>2017-12-24</d><h>01:40</h><w>shaunlebron</w>i’m not comfortable saying it’s fixed yet, but i have a much better grasp of the problem</z><z id="t1514079646" t="shaunlebron this commit seems to fix all the reported cases: https://github.com/shaunlebron/parinfer/commit/4e152b662785801c4c2bdc548235f33251c2af90"><y>#</y><d>2017-12-24</d><h>01:40</h><w>shaunlebron</w>this commit seems to fix all the reported cases: <a href="https://github.com/shaunlebron/parinfer/commit/4e152b662785801c4c2bdc548235f33251c2af90" target="_blank">https://github.com/shaunlebron/parinfer/commit/4e152b662785801c4c2bdc548235f33251c2af90</a></z><z id="t1514079694" t="shaunlebron there’s some weird edge cases that could result that I haven’t figured out yet"><y>#</y><d>2017-12-24</d><h>01:41</h><w>shaunlebron</w>there’s some weird edge cases that could result that I haven’t figured out yet</z><z id="t1514079725" t="shaunlebron thanks for the previous edge case examples, let me know if you can come up with any more"><y>#</y><d>2017-12-24</d><h>01:42</h><w>shaunlebron</w>thanks for the previous edge case examples, let me know if you can come up with any more</z><z id="t1514086313" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] Awesome, thanks! I’ll try to get that into Cursive and test it out over the holidays sometime."><y>#</y><d>2017-12-24</d><h>03:31</h><w>cfleming</w><a>@shaunlebron</a> Awesome, thanks! I’ll try to get that into Cursive and test it out over the holidays sometime.</z><z id="t1514086333" t="cfleming I’ll send some instructions for how to install and try it out too, so you can try the bad indentation markers."><y>#</y><d>2017-12-24</d><h>03:32</h><w>cfleming</w>I’ll send some instructions for how to install and try it out too, so you can try the bad indentation markers.</z><z id="t1514270818" t="shaunlebron spent some time tonight sketching out ways to distill this new smart mode behavior"><y>#</y><d>2017-12-26</d><h>06:46</h><w>shaunlebron</w>spent some time tonight sketching out ways to distill this new smart mode behavior</z><z id="t1514270946" t="shaunlebron making this work for the different bug cases has pushed me into trying to explain what’s going on with a simple model"><y>#</y><d>2017-12-26</d><h>06:49</h><w>shaunlebron</w>making this work for the different bug cases has pushed me into trying to explain what’s going on with a simple model</z><z id="t1514271079" t="shaunlebron it’s really interesting. i think i’ll make it my next public update video to explain it once i’m comfortable enough with it"><y>#</y><d>2017-12-26</d><h>06:51</h><w>shaunlebron</w>it’s really interesting.  i think i’ll make it my next public update video to explain it once i’m comfortable enough with it</z><z id="t1514325865" t="cfleming Cool, I look forward to it."><y>#</y><d>2017-12-26</d><h>22:04</h><w>cfleming</w>Cool, I look forward to it.</z><z id="t1514683465" t="shaunlebron a small update on the visual model progress: https://www.patreon.com/posts/16133538"><y>#</y><d>2018-12-31</d><h>01:24</h><w>shaunlebron</w>a small update on the visual model progress: <a href="https://www.patreon.com/posts/16133538" target="_blank">https://www.patreon.com/posts/16133538</a></z><z id="t1514707839" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] Thanks, that’s very interesting. I’m going to look carefully at those diagrams when I’m back to thinking next week."><y>#</y><d>2018-12-31</d><h>08:10</h><w>cfleming</w><a>@shaunlebron</a> Thanks, that’s very interesting. I’m going to look carefully at those diagrams when I’m back to thinking next week.</z><z id="t1514741284" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : cool, I had time this morning to split up the diagram explanations a bit more. extra detail for when you get a chance to look"><y>#</y><d>2018-12-31</d><h>17:28</h><w>shaunlebron</w><a>@cfleming</a>: cool, I had time this morning to split up the diagram explanations a bit more.  extra detail for when you get a chance to look</z><z id="t1514860821" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] I’m very pleased to see that Math.max gone 🙂"><y>#</y><d>2018-01-02</d><h>02:40</h><w>cfleming</w><a>@shaunlebron</a> I’m very pleased to see that <code>Math.max</code> gone <b>🙂</b></z><z id="t1514861099" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : yeah, it was definitely a temporary plug to prevent dedentation"><y>#</y><d>2018-01-02</d><h>02:44</h><w>shaunlebron</w><a>@cfleming</a>: yeah, it was definitely a temporary plug to prevent dedentation</z><z id="t1514861132" t="shaunlebron 🙂"><y>#</y><d>2018-01-02</d><h>02:45</h><w>shaunlebron</w><b>🙂</b></z><z id="t1514861146" t="cfleming I’ve ported those changes over to Cursive, I’ll play with it a bit and assuming it looks good I’ll get a dev build out you can play with."><y>#</y><d>2018-01-02</d><h>02:45</h><w>cfleming</w>I’ve ported those changes over to Cursive, I’ll play with it a bit and assuming it looks good I’ll get a dev build out you can play with.</z><z id="t1514861155" t="shaunlebron definitely glad to draw the right lines between the cases"><y>#</y><d>2018-01-02</d><h>02:45</h><w>shaunlebron</w>definitely glad to draw the right lines between the cases</z><z id="t1514861174" t="cfleming Yeah, I still need to go through all the cases and make sure i have them straight in my head."><y>#</y><d>2018-01-02</d><h>02:46</h><w>cfleming</w>Yeah, I still need to go through all the cases and make sure i have them straight in my head.</z><z id="t1514861833" t="shaunlebron i made some excessive comments to make sure I had them straight"><y>#</y><d>2018-01-02</d><h>02:57</h><w>shaunlebron</w>i made some excessive comments to make sure I had them straight</z><z id="t1514861887" t="shaunlebron I think on saturday I’ll aim to update the test case annotations to allow multiple changes"><y>#</y><d>2018-01-02</d><h>02:58</h><w>shaunlebron</w>I think on saturday I’ll aim to update the test case annotations to allow multiple changes</z><z id="t1514861929" t="shaunlebron then I’ll add all the multi-change cases and cut a release"><y>#</y><d>2018-01-02</d><h>02:58</h><w>shaunlebron</w>then I’ll add all the multi-change cases and cut a release</z><z id="t1515019535" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] I’m still seeing some incorrect behaviour, especially with pasting. I’ll try to make some minimal repro cases."><y>#</y><d>2018-01-03</d><h>22:45</h><w>cfleming</w><a>@shaunlebron</a> I’m still seeing some incorrect behaviour, especially with pasting. I’ll try to make some minimal repro cases.</z><z id="t1515020932" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : ha, thanks for catching. i feel better equipped to handle new cases at least"><y>#</y><d>2018-01-03</d><h>23:08</h><w>shaunlebron</w><a>@cfleming</a>: ha, thanks for catching.  i feel better equipped to handle new cases at least</z><z id="t1515159361" t="Aron watched the talk Inspiring a future Clojure editor with forgotten Lisp UX - Shaun Lebron (too long title btw. 😄 inciting but long :D) / if I were there, I would&apos;ve asked why I can&apos;t sometimes close parens. I type ) and nothing happens"><y>#</y><d>2018-01-05</d><h>13:36</h><w>Aron</w>watched the talk <code>Inspiring a future Clojure editor with forgotten Lisp UX - Shaun Lebron</code> (too long title btw. <b>😄</b> inciting but long :D) / if I were there, I would&apos;ve asked why I can&apos;t sometimes close parens. I type <code>)</code> and nothing happens</z><z id="t1515186617" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0VQ4N5EE&quot;}] : I think the only case it isn’t allowed is if you’re typing an unmatched )"><y>#</y><d>2018-01-05</d><h>21:10</h><w>shaunlebron</w><a>@ashnur</a>: I think the only case it isn’t allowed is if you’re typing an unmatched <code>)</code></z><z id="t1515186724" t="shaunlebron I’ve since added an option called forceBalance that defaults to false to allow them when they don’t come at the end of a line"><y>#</y><d>2018-01-05</d><h>21:12</h><w>shaunlebron</w>I’ve since added an option called <code>forceBalance</code> that defaults to <code>false</code> to allow them when they don’t come at the end of a line</z><z id="t1515186754" t="shaunlebron there was heated discussion about what the default should be"><y>#</y><d>2018-01-05</d><h>21:12</h><w>shaunlebron</w>there was heated discussion about what the default should be</z><z id="t1515235645" t="Aron i was wondering if there is a way to not have any configuration"><y>#</y><d>2018-01-06</d><h>10:47</h><r>Aron</r>i was wondering if there is a way to not have any configuration</z><z id="t1515235669" t="Aron not just in parinfer, but in general. settings and configs for software is bad ux imho, but i don&apos;t have a good solution either"><y>#</y><d>2018-01-06</d><h>10:47</h><r>Aron</r>not just in parinfer, but in general. settings and configs for software is bad ux imho, but i don&apos;t have a good solution either</z><z id="t1515235702" t="Aron i like how you emphasized in that talk that tooling shouldn&apos;t be intrusive"><y>#</y><d>2018-01-06</d><h>10:48</h><r>Aron</r>i like how you emphasized in that talk that tooling shouldn&apos;t be intrusive</z><z id="t1515382883" t="shaunlebron chris and I both agree that no config is great"><y>#</y><d>2018-01-08</d><h>03:41</h><r>shaunlebron</r>chris and I both agree that no config is great</z><z id="t1515382917" t="shaunlebron chris maintains atom-parinfer"><y>#</y><d>2018-01-08</d><h>03:41</h><r>shaunlebron</r>chris maintains atom-parinfer</z><z id="t1515382947" t="shaunlebron the forceBalance option was not going to exist"><y>#</y><d>2018-01-08</d><h>03:42</h><r>shaunlebron</r>the <code>forceBalance</code> option was not going to exist</z><z id="t1515382985" t="shaunlebron but it prevented atom-parinfer from being forked"><y>#</y><d>2018-01-08</d><h>03:43</h><r>shaunlebron</r>but it prevented atom-parinfer from being forked</z><z id="t1515383071" t="shaunlebron smart mode is still early stuff, so the options will help us explore what it should be"><y>#</y><d>2018-01-08</d><h>03:44</h><r>shaunlebron</r>smart mode is still early stuff, so the options will help us explore what it should be</z><z id="t1515383115" t="shaunlebron after some experience, we might find better defaults and config could be ignored"><y>#</y><d>2018-01-08</d><h>03:45</h><r>shaunlebron</r>after some experience, we might find better defaults and config could be ignored</z><z id="t1515207138" t="Drew Verlee [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] Is there a way to quickly compare cursive to something like spacemacs + cider mode? I dont expect you to outline it for me, i’m just curious if there is a resource that already exists that could highlight the differences."><y>#</y><d>2018-01-06</d><h>02:52</h><w>Drew Verlee</w><a>@cfleming</a> Is there a way to quickly compare cursive to something like spacemacs + cider mode? I dont expect you to outline it for me, i’m just curious if there is a resource that already exists that could highlight the differences.</z><z id="t1515209332" t="cfleming [:attrs {:href &quot;/_/_/users/U0DJ4T5U1&quot;}] Do you mean in general, or specifically relating to parinfer?"><y>#</y><d>2018-01-06</d><h>03:28</h><w>cfleming</w><a>@drewverlee</a> Do you mean in general, or specifically relating to parinfer?</z><z id="t1515209356" t="Drew Verlee in general"><y>#</y><d>2018-01-06</d><h>03:29</h><w>Drew Verlee</w>in general</z><z id="t1515209388" t="cfleming I’ll answer over in #cursive then, since it’s not really parinfer related."><y>#</y><d>2018-01-06</d><h>03:29</h><w>cfleming</w>I’ll answer over in #cursive then, since it’s not really parinfer related.</z><z id="t1515209401" t="cfleming Probably in 15 mins or so."><y>#</y><d>2018-01-06</d><h>03:30</h><w>cfleming</w>Probably in 15 mins or so.</z><z id="t1515789561" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : gonna try this for the multi-change tests: https://github.com/shaunlebron/parinfer/issues/180"><y>#</y><d>2018-01-12</d><h>20:39</h><w>shaunlebron</w><a>@cfleming</a>: gonna try this for the multi-change tests: <a href="https://github.com/shaunlebron/parinfer/issues/180" target="_blank">https://github.com/shaunlebron/parinfer/issues/180</a></z><z id="t1515803713" t="shaunlebron ✅ i got markdown test cases for all the known bugs. gonna sleep on this and cut a release tomorrow: https://github.com/shaunlebron/parinfer/pull/181"><y>#</y><d>2018-01-13</d><h>00:35</h><w>shaunlebron</w><b>✅</b> i got markdown test cases for all the known bugs.  gonna sleep on this and cut a release tomorrow: <a href="https://github.com/shaunlebron/parinfer/pull/181" target="_blank">https://github.com/shaunlebron/parinfer/pull/181</a></z><z id="t1515803887" t="shaunlebron I know there’s more behavior to fix, but I’d like to get the bug fixes rolled out and close out all those issues. will start fresh on the new behavior problems when found"><y>#</y><d>2018-01-13</d><h>00:38</h><w>shaunlebron</w>I know there’s more behavior to fix, but I’d like to get the bug fixes rolled out and close out all those issues. will start fresh on the new behavior problems when found</z><z id="t1515826331" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] Sure, I have some cases noted down but haven’t had time to work up issues, sorry - I will do next week."><y>#</y><d>2018-01-13</d><h>06:52</h><w>cfleming</w><a>@shaunlebron</a> Sure, I have some cases noted down but haven’t had time to work up issues, sorry - I will do next week.</z><z id="t1515831448" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] np, thanks for the previous issues. super helpful"><y>#</y><d>2018-01-13</d><h>08:17</h><w>shaunlebron</w><a>@cfleming</a> np, thanks for the previous issues.  super helpful</z><z id="t1515843885" t="martinklepsch [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] parlinter looks pretty useful for editors that don’t support proper Lisp indentation"><y>#</y><d>2018-01-13</d><h>11:44</h><w>martinklepsch</w><a>@shaunlebron</a> parlinter looks pretty useful for editors that don’t support proper Lisp indentation</z><z id="t1515843907" t="martinklepsch that said I find the name slightly confusing as usually the name linter is associated with some form of static analysis (maybe just me?)"><y>#</y><d>2018-01-13</d><h>11:45</h><w>martinklepsch</w>that said I find the name slightly confusing as usually the name linter is associated with some form of static analysis (maybe just me?)</z><z id="t1515865154" t="dominicm [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] did you ever open source your parinfer implementation? I&apos;m interested in seeing how well a JVM version of parinfer would integrate into neovim."><y>#</y><d>2018-01-13</d><h>17:39</h><w>dominicm</w><a>@cfleming</a> did you ever open source your parinfer implementation? I&apos;m interested in seeing how well a JVM version of parinfer would integrate into neovim.</z><z id="t1515872376" t="martinklepsch Why not use the js version"><y>#</y><d>2018-01-13</d><h>19:39</h><r>martinklepsch</r>Why not use the js version</z><z id="t1515874678" t="dominicm The neovim js api is very ES6 and hard to wrap from cljs"><y>#</y><d>2018-01-13</d><h>20:17</h><r>dominicm</r>The neovim js api is very ES6 and hard to wrap from cljs</z><z id="t1515874691" t="dominicm But that&apos;s what is done now :)"><y>#</y><d>2018-01-13</d><h>20:18</h><r>dominicm</r>But that&apos;s what is done now :)</z><z id="t1515872330" t="shaunlebron [:attrs {:href &quot;/_/_/users/U050TNB9F&quot;}] yeah I was afraid that would come up 😕"><y>#</y><d>2018-01-13</d><h>19:38</h><w>shaunlebron</w><a>@martinklepsch</a> yeah I was afraid that would come up <b>😕</b></z><z id="t1515872385" t="shaunlebron it was my experience at work using ESLint for javascript that it would catch a bunch of things, including formatting convention violations"><y>#</y><d>2018-01-13</d><h>19:39</h><w>shaunlebron</w>it was my experience at work using ESLint for javascript that it would catch a bunch of things, including formatting convention violations</z><z id="t1515922922" t="cfleming [:attrs {:href &quot;/_/_/users/U09LZR36F&quot;}] Not yet, I’m still working on my v3 implementation. When that’s done I can open source it if there’s demand - right now I’m the only Java client I think."><y>#</y><d>2018-01-14</d><h>09:42</h><w>cfleming</w><a>@dominicm</a> Not yet, I’m still working on my v3 implementation. When that’s done I can open source it if there’s demand - right now I’m the only Java client I think.</z><z id="t1515922986" t="cfleming In the meantime you could play around with parinfer-jvm"><y>#</y><d>2018-01-14</d><h>09:43</h><w>cfleming</w>In the meantime you could play around with parinfer-jvm</z><z id="t1515959876" t="shaunlebron released 3.12.0"><y>#</y><d>2018-01-14</d><h>19:57</h><w>shaunlebron</w>released 3.12.0</z><z id="t1515976456" t="shaunlebron is anyone playing with Smart Mode in atom lately?"><y>#</y><d>2018-01-15</d><h>00:34</h><w>shaunlebron</w>is anyone playing with Smart Mode in atom lately?</z><z id="t1515976550" t="shaunlebron I just went back to it and it doesn’t seem any different from Indent Mode"><y>#</y><d>2018-01-15</d><h>00:35</h><w>shaunlebron</w>I just went back to it and it doesn’t seem any different from Indent Mode</z><z id="t1515977032" t="shaunlebron something must’ve changed in a recent version of Atom?"><y>#</y><d>2018-01-15</d><h>00:43</h><w>shaunlebron</w>something must’ve changed in a recent version of Atom?</z><z id="t1515977041" t="shaunlebron tracking issue details here: https://github.com/oakmac/atom-parinfer/issues/96"><y>#</y><d>2018-01-15</d><h>00:44</h><w>shaunlebron</w>tracking issue details here: <a href="https://github.com/oakmac/atom-parinfer/issues/96" target="_blank">https://github.com/oakmac/atom-parinfer/issues/96</a></z><z id="t1515977438" t="seancorfield Ah, that&apos;s good to know -- I thought I was going crazy that Smart Mode had changed its behavior lately but I wasn&apos;t certain. There have always been some odd edge cases. I didn&apos;t try something as simple as what you put in that issue tho&apos; 🙂"><y>#</y><d>2018-01-15</d><h>00:50</h><w>seancorfield</w>Ah, that&apos;s good to know -- I thought I was going crazy that Smart Mode had changed its behavior lately but I wasn&apos;t certain. There have always been some odd edge cases. I didn&apos;t try something as simple as what you put in that issue tho&apos; <b>🙂</b></z><z id="t1515977535" t="shaunlebron [:attrs {:href &quot;/_/_/users/U04V70XH6&quot;}] good to know. I was actually testing to see if my new changes fixed the issues you brought up with paredit slurp forward, and realized nothing worked to begin with"><y>#</y><d>2018-01-15</d><h>00:52</h><w>shaunlebron</w><a>@seancorfield</a> good to know.  I was actually testing to see if my new changes fixed the issues you brought up with paredit slurp forward, and realized nothing worked to begin with</z><z id="t1515977605" t="seancorfield That case used to work I think... but looking at the commits, nothing has changed since early August... But I didn&apos;t think it had really been that long since that worked..."><y>#</y><d>2018-01-15</d><h>00:53</h><w>seancorfield</w>That case used to work I think... but looking at the commits, nothing has changed since early August... But I didn&apos;t think it had really been that long since that worked...</z><z id="t1515977633" t="shaunlebron yeah, it worked during the demo at the conj in november"><y>#</y><d>2018-01-15</d><h>00:53</h><w>shaunlebron</w>yeah, it worked during the demo at the conj in november</z><z id="t1515977816" t="seancorfield Back in 2016 🙂"><y>#</y><d>2018-01-15</d><h>00:56</h><w>seancorfield</w>Back in 2016 <b>🙂</b></z><z id="t1515977847" t="shaunlebron haha, I think you’re off by one there"><y>#</y><d>2018-01-15</d><h>00:57</h><w>shaunlebron</w>haha, I think you’re off by one there</z><z id="t1515977894" t="seancorfield I switched to Atom over a year ago after the Conj in 2016. That&apos;s what I meant."><y>#</y><d>2018-01-15</d><h>00:58</h><w>seancorfield</w>I switched to Atom over a year ago after the Conj in 2016. That&apos;s what I meant.</z><z id="t1517241147" t="tianshu rewrite without parinferlib.el, no string manipulate, direct process emacs buffer instead. but the perf is still a big problem:cry:"><y>#</y><d>2018-01-29</d><h>15:52</h><w>tianshu</w>rewrite without parinferlib.el, no string manipulate, direct process emacs buffer instead. but the perf is still a big problem:cry:</z><z id="t1517241170" t="tianshu but the smart mode is almost usable."><y>#</y><d>2018-01-29</d><h>15:52</h><w>tianshu</w>but the smart mode is almost usable.</z><z id="t1517279265" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0NBGRGD6&quot;}] whoa, nice!"><y>#</y><d>2018-01-30</d><h>02:27</h><w>shaunlebron</w><a>@doglooksgood</a> whoa, nice!</z><z id="t1517279912" t="tianshu Still can&apos;t understand the how things work in parinfer.js, so I wrote with my own understanding of what it should be. Now trying to find the solution for best performance, hope to be available soon."><y>#</y><d>2018-01-30</d><h>02:38</h><w>tianshu</w>Still can&apos;t understand the how things work in parinfer.js, so I wrote with my own understanding of what it should be. Now trying to find the solution for best performance, hope to be available soon.</z><z id="t1517279972" t="cfleming [:attrs {:href &quot;/_/_/users/U0NBGRGD6&quot;}] That’s a whole rewrite of smart mode?"><y>#</y><d>2018-01-30</d><h>02:39</h><w>cfleming</w><a>@doglooksgood</a> That’s a whole rewrite of smart mode?</z><z id="t1517281129" t="tianshu yes, whole rewrite."><y>#</y><d>2018-01-30</d><h>02:58</h><w>tianshu</w>yes, whole rewrite.</z><z id="t1517281456" t="tianshu I decide to have only smart mode. no custom options. [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}]"><y>#</y><d>2018-01-30</d><h>03:04</h><w>tianshu</w>I decide to have only smart mode. no custom options. <a>@cfleming</a></z><z id="t1517281507" t="cfleming Sounds good - I’ll be doing that in Cursive too. Make sure you check out the test cases though, there are lots of corner cases and Shaun put a lot of work into dealing with them."><y>#</y><d>2018-01-30</d><h>03:05</h><w>cfleming</w>Sounds good - I’ll be doing that in Cursive too. Make sure you check out the test cases though, there are lots of corner cases and Shaun put a lot of work into dealing with them.</z><z id="t1517281537" t="cfleming I mean, I’ll only be having Smart Mode, not that I’ll be rewriting parinfer too."><y>#</y><d>2018-01-30</d><h>03:05</h><w>cfleming</w>I mean, I’ll only be having Smart Mode, not that I’ll be rewriting parinfer too.</z><z id="t1517292608" t="tianshu [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] I&apos;m stuck with the perf issue, emacs has some built-in support for query syntax of code. I use them to get some information like &quot;whether the cursor is on comment or not?&quot;, instead of parse the code in string. but I found it is likely slower. Is cursive try to keep logic as the same as parinfer.js or write its own?"><y>#</y><d>2018-01-30</d><h>06:10</h><w>tianshu</w><a>@cfleming</a> I&apos;m stuck with the perf issue, emacs has some built-in support for query syntax of code. I use them to get some information like &quot;whether the cursor is on comment or not?&quot;, instead of parse the code in string. but I found  it is likely slower. Is cursive try to keep logic as the same as parinfer.js or write its own?</z><z id="t1517292848" t="tianshu and I hope there&apos;s a post on how parinfer works, like in its homepage. 1 we remove the unstable close paren, 2 we insert the close paren according to the openers and indentation. obviously, this is a brief and the real is not simple like this. but I want a article for the rule of smart mode and the flow of how it works. "><y>#</y><d>2018-01-30</d><h>06:14</h><w>tianshu</w>and I hope there&apos;s a post on how parinfer works, like in its homepage. 1 we remove the unstable close paren, 2 we insert the close paren according to the openers and indentation. obviously, this is a brief and the real is not simple like this. but I want a article for the rule of smart mode and the flow of how it works. </z><z id="t1517295884" t="cfleming [:attrs {:href &quot;/_/_/users/U0NBGRGD6&quot;}] Yes, Cursive uses a port of parinfer.js to Kotlin (based on parinfer-jvm, but my version is quite different from that now)."><y>#</y><d>2018-01-30</d><h>07:04</h><w>cfleming</w><a>@doglooksgood</a> Yes, Cursive uses a port of parinfer.js to Kotlin (based on parinfer-jvm, but my version is quite different from that now).</z><z id="t1517295904" t="cfleming So when Shaun makes a fix I just port it over."><y>#</y><d>2018-01-30</d><h>07:05</h><w>cfleming</w>So when Shaun makes a fix I just port it over.</z><z id="t1517295983" t="tianshu I think it&apos;s pretty hard to make a perf good. 😢"><y>#</y><d>2018-01-30</d><h>07:06</h><w>tianshu</w>I think it&apos;s pretty hard to make a perf good. <b>😢</b></z><z id="t1517296002" t="tianshu maybe my implementation is too naive."><y>#</y><d>2018-01-30</d><h>07:06</h><w>tianshu</w>maybe my implementation is too naive.</z><z id="t1517401957" t="tianshu start using my parinfer-mode... seems to be fine."><y>#</y><d>2018-01-31</d><h>12:32</h><w>tianshu</w>start using my parinfer-mode...
seems to be fine.</z><z id="t1517432633" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : any update on the bug cases that are still broken?"><y>#</y><d>2018-01-31</d><h>21:03</h><w>shaunlebron</w><a>@cfleming</a>: any update on the bug cases that are still broken?</z><z id="t1517433550" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] Sorry, I’ve been yak shaving. I’ll try to do that today."><y>#</y><d>2018-01-31</d><h>21:19</h><w>cfleming</w><a>@shaunlebron</a> Sorry, I’ve been yak shaving. I’ll try to do that today.</z><z id="t1517503090" t="tianshu why parinfer on cursive is so fast?"><y>#</y><d>2018-02-01</d><h>16:38</h><w>tianshu</w>why parinfer on cursive is so fast?</z><z id="t1517522901" t="cfleming [:attrs {:href &quot;/_/_/users/U0NBGRGD6&quot;}] Well, Java is faster than elisp, for one thing. And Cursive works pretty hard to apply changes incrementally these days, i.e. not replace the whole buffer."><y>#</y><d>2018-02-01</d><h>22:08</h><w>cfleming</w><a>@doglooksgood</a> Well, Java is faster than elisp, for one thing. And Cursive works pretty hard to apply changes incrementally these days, i.e. not replace the whole buffer.</z><z id="t1517522926" t="cfleming I can’t remember all the details, but I’m planning to go back and look at parinfer again soon."><y>#</y><d>2018-02-01</d><h>22:08</h><w>cfleming</w>I can’t remember all the details, but I’m planning to go back and look at parinfer again soon.</z><z id="t1517533146" t="tianshu if edit the file like project.clj, will it process the whole buffer?"><y>#</y><d>2018-02-02</d><h>00:59</h><w>tianshu</w>if edit the file like project.clj, will it process the whole buffer?</z><z id="t1517535773" t="cfleming Yes, it will process the whole buffer, but it will only make the minimal set of diffs to the buffer required."><y>#</y><d>2018-02-02</d><h>01:42</h><w>cfleming</w>Yes, it will process the whole buffer, but it will only make the minimal set of diffs to the buffer required.</z><z id="t1517535811" t="cfleming I’ve been thinking about a change to only process individual top-level forms, but I haven’t done that yet."><y>#</y><d>2018-02-02</d><h>01:43</h><w>cfleming</w>I’ve been thinking about a change to only process individual top-level forms, but I haven’t done that yet.</z><z id="t1517559755" t="dominicm I did this, it wasn&apos;t a meaningful improvement. It might be easier for you though."><y>#</y><d>2018-02-02</d><h>08:22</h><r>dominicm</r>I did this, it wasn&apos;t a meaningful improvement. It might be easier for you though.</z><z id="t1517535872" t="cfleming There’s also the potential to only process as far as required to ensure that all changes have been taken into account, now that we know where the changes happen, but I haven’t looked into that either."><y>#</y><d>2018-02-02</d><h>01:44</h><w>cfleming</w>There’s also the potential to only process as far as required to ensure that all changes have been taken into account, now that we know where the changes happen, but I haven’t looked into that either.</z><z id="t1517810650" t="shaunlebron atom-parinfer 1.22.0 has been published"><y>#</y><d>2018-02-05</d><h>06:04</h><w>shaunlebron</w>atom-parinfer 1.22.0 has been published</z><z id="t1517810699" t="shaunlebron smart-mode stability stuff for advanced operations requiring multiple changes"><y>#</y><d>2018-02-05</d><h>06:04</h><w>shaunlebron</w>smart-mode stability stuff for advanced operations requiring multiple changes</z><z id="t1517853112" t="shaunlebron 📰 Posted a general status update on parinfer: https://www.patreon.com/posts/16810914"><y>#</y><d>2018-02-05</d><h>17:51</h><w>shaunlebron</w><b>📰</b> Posted a general status update on parinfer: <a href="https://www.patreon.com/posts/16810914" target="_blank">https://www.patreon.com/posts/16810914</a></z><z id="t1517854345" t="seancorfield (I&apos;ll let you know if I run into anything weird but it all sounds very promising from that blog post!)"><y>#</y><d>2018-02-05</d><h>18:12</h><w>seancorfield</w>(I&apos;ll let you know if I run into anything weird but it all sounds very promising from that blog post!)</z><z id="t1517855027" t="shaunlebron [:attrs {:href &quot;/_/_/users/U04V70XH6&quot;}] thanks! i really appreciate your bug reports. super helpful"><y>#</y><d>2018-02-05</d><h>18:23</h><w>shaunlebron</w><a>@seancorfield</a> thanks!  i really appreciate your bug reports.  super helpful</z><z id="t1517858765" t="shaunlebron 📣 Also, I created a *Parinfer forum* for easier discussions, since GitHub issues aren’t ideal and this chat disappears all the time: http://parinfer.trydiscourse.com/"><y>#</y><d>2018-02-05</d><h>19:26</h><w>shaunlebron</w><b>📣</b>  Also, I created a *Parinfer forum* for easier discussions, since GitHub issues aren’t ideal and this chat disappears all the time: <a href="http://parinfer.trydiscourse.com/" target="_blank">http://parinfer.trydiscourse.com/</a></z><z id="t1517859333" t="seancorfield [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] Run into my first &quot;odd&quot; behavior with the new parinfer. I have code like this (cond (not member) (api/invalid-argument req) (or (:suspended member) (:deleted member)) (api/invalid-argument req) :else (do (timbre/logged-future (business/login! req member) (log/write-log :logxxx {:siteid (or (get-in req [:params :xxxxxx]) (u/site-id member)) :userid (:id member) :event &quot;xxxxxx&quot;} req)) (resp/response {:code (xxx xxx)})))) and I put my cursor just before the (do and start pressing the space key. As the form moves to the right, the code inside the do is indented by one more space than it needs to be each time."><y>#</y><d>2018-02-05</d><h>19:35</h><w>seancorfield</w><a>@shaunlebron</a> Run into my first &quot;odd&quot; behavior with the new parinfer. I have code like this <pre>(cond (not member)
                  (api/invalid-argument req)
                  (or (:suspended member)
                      (:deleted member))
                  (api/invalid-argument req)
                  :else
              (do
                (timbre/logged-future
                 (business/login! req member)
                 (log/write-log :logxxx
                                {:siteid (or (get-in req [:params :xxxxxx])
                                             (u/site-id member))
                                 :userid (:id member)
                                 :event  &quot;xxxxxx&quot;}
                                req))
                (resp/response {:code (xxx xxx)}))))
</pre> and I put my cursor just before the <code>(do</code> and start pressing the space key. As the form moves to the right, the code inside the <code>do</code> is indented by one more space than it needs to be each time.</z><z id="t1517859365" t="shaunlebron sweet"><y>#</y><d>2018-02-05</d><h>19:36</h><w>shaunlebron</w>sweet</z><z id="t1517859385" t="shaunlebron i’m not getting that behavior here, i wonder how we can tell what’s different"><y>#</y><d>2018-02-05</d><h>19:36</h><w>shaunlebron</w>i’m not getting that behavior here, i wonder how we can tell what’s different</z><z id="t1517859399" t="seancorfield After four spaces, to line up (do under the :else , I have (do (timbre/logged-future (business/login! req member) (log/write-log :logxxx {:siteid (or (get-in req [:params :xxxxxx]) (u/site-id member)) :userid (:id member) :event &quot;xxxxxx&quot;} req)) (resp/response {:code (xxx xxx)})))) "><y>#</y><d>2018-02-05</d><h>19:36</h><w>seancorfield</w>After four spaces, to line up <code>(do</code> under the <code>:else</code>, I have <pre>(do
                        (timbre/logged-future
                         (business/login! req member)
                         (log/write-log :logxxx
                                        {:siteid (or (get-in req [:params :xxxxxx])
                                                     (u/site-id member))
                                         :userid (:id member)
                                         :event  &quot;xxxxxx&quot;}
                                        req))
                        (resp/response {:code (xxx xxx)}))))
</pre></z><z id="t1517859455" t="seancorfield If I just use the auto-indent hot key, it moves over and is all indented correctly."><y>#</y><d>2018-02-05</d><h>19:37</h><w>seancorfield</w>If I just use the auto-indent hot key, it moves over and is all indented correctly.</z><z id="t1517859501" t="seancorfield (that&apos;s lisp-paredit:indent tho&apos;)"><y>#</y><d>2018-02-05</d><h>19:38</h><w>seancorfield</w>(that&apos;s <code>lisp-paredit:indent</code> tho&apos;)</z><z id="t1517859527" t="seancorfield Interesting... Do you have lisp-paredit as well?"><y>#</y><d>2018-02-05</d><h>19:38</h><w>seancorfield</w>Interesting... Do you have <code>lisp-paredit</code> as well?</z><z id="t1517859592" t="shaunlebron yeah, i had installed just to try to repro your cases in #94"><y>#</y><d>2018-02-05</d><h>19:39</h><w>shaunlebron</w>yeah, i had installed just to try to repro your cases in #94</z><z id="t1517859645" t="shaunlebron what OS?"><y>#</y><d>2018-02-05</d><h>19:40</h><w>shaunlebron</w>what OS?</z><z id="t1517859732" t="seancorfield Mac OS X"><y>#</y><d>2018-02-05</d><h>19:42</h><w>seancorfield</w>Mac OS X</z><z id="t1517859736" t="seancorfield Well, macOS 🙂"><y>#</y><d>2018-02-05</d><h>19:42</h><w>seancorfield</w>Well, macOS <b>🙂</b></z><z id="t1517859884" t="seancorfield Also, when I try to revert changes from SourceTree, Parinfer is fighting the editor and attempting to redo some of the changes. It took several goes at reverting changes to get back where I was originally."><y>#</y><d>2018-02-05</d><h>19:44</h><w>seancorfield</w>Also, when I try to revert changes from SourceTree, Parinfer is fighting the editor and attempting to redo some of the changes. It took several goes at reverting changes to get back where I was originally.</z><z id="t1517859956" t="shaunlebron interesting, so we need to turn off Parinfer when SourceTree is active?"><y>#</y><d>2018-02-05</d><h>19:45</h><w>shaunlebron</w>interesting, so we need to turn off Parinfer when SourceTree is active?</z><z id="t1517859980" t="shaunlebron oh, SourceTree is external to Atom"><y>#</y><d>2018-02-05</d><h>19:46</h><w>shaunlebron</w>oh, SourceTree is external to Atom</z><z id="t1517860040" t="shaunlebron and Atom is loading in file changes as they appear in the filesystem, after which parinfer processes them as normal user changes"><y>#</y><d>2018-02-05</d><h>19:47</h><w>shaunlebron</w>and Atom is loading in file changes as they appear in the filesystem, after which parinfer processes them as normal user changes</z><z id="t1517860070" t="tianshu 3:47 working on production deployment. 😂"><y>#</y><d>2018-02-05</d><h>19:47</h><w>tianshu</w>3:47 working on production deployment.<b>😂</b></z><z id="t1517860102" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0NBGRGD6&quot;}] ?"><y>#</y><d>2018-02-05</d><h>19:48</h><w>shaunlebron</w><a>@doglooksgood</a>?</z><z id="t1517860161" t="seancorfield [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] Yeah, I suspect it&apos;s the multi-change code thinking the user is making a copy&apos;n&apos;paste and trying to deal with it? Whereas it&apos;s just Atom trying to load in file changes..."><y>#</y><d>2018-02-05</d><h>19:49</h><w>seancorfield</w><a>@shaunlebron</a> Yeah, I suspect it&apos;s the multi-change code thinking the user is making a copy&apos;n&apos;paste and trying to deal with it? Whereas it&apos;s just Atom trying to load in file changes...</z><z id="t1517860424" t="tianshu nevermind, just work late..."><y>#</y><d>2018-02-05</d><h>19:53</h><w>tianshu</w>nevermind, just work late...</z><z id="t1517861643" t="seancorfield [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] I&apos;ve also noticed that if I do some big multi-change (like the above indentation) and then hit cmd-z to undo, Parinfer seems to repeat the indent/undent operations that the editor is making as part of the undo, so some lines move further right (or left) than they should have done -- breaking the structure of the code."><y>#</y><d>2018-02-05</d><h>20:14</h><w>seancorfield</w><a>@shaunlebron</a> I&apos;ve also noticed that if I do some big multi-change (like the above indentation) and then hit cmd-z to undo, Parinfer seems to repeat the indent/undent operations that the editor is making as part of the undo, so some lines move further right (or left) than they should have done -- breaking the structure of the code.</z><z id="t1517861709" t="seancorfield I suspect that what is needed here, is if you can tell that the changes are editor-initiated, you need Parinfer to behave as if it is in Paren mode and never change code structure? Or just not attempt to process editor-initiated changes?"><y>#</y><d>2018-02-05</d><h>20:15</h><w>seancorfield</w>I suspect that what is needed here, is if you can tell that the changes are editor-initiated, you need Parinfer to behave as if it is in Paren mode and never change code structure? Or just not attempt to process editor-initiated changes?</z><z id="t1517861846" t="shaunlebron thanks, that’s helpful direction to think about"><y>#</y><d>2018-02-05</d><h>20:17</h><w>shaunlebron</w>thanks, that’s helpful direction to think about</z><z id="t1517861869" t="shaunlebron i just tried undo here after the indentation operation you described above"><y>#</y><d>2018-02-05</d><h>20:17</h><w>shaunlebron</w>i just tried undo here after the indentation operation you described above</z><z id="t1517861904" t="shaunlebron that still works as expected, so I think the larger problem of interference from another plugin is at play here"><y>#</y><d>2018-02-05</d><h>20:18</h><w>shaunlebron</w>that still works as expected, so I think the larger problem of interference from another plugin is at play here</z><z id="t1517861976" t="shaunlebron lemme know if you have a lead on what plugin might be, or if you just wanna send me a list of plugins you’re using with: apm list --installed --bare "><y>#</y><d>2018-02-05</d><h>20:19</h><w>shaunlebron</w>lemme know if you have a lead on what plugin might be, or if you just wanna send me a list of plugins you’re using with:

<pre>apm list --installed --bare
</pre></z><z id="t1517862214" t="seancorfield {:tag :a, :attrs {:href &quot;/cdn-cgi/l/email-protection&quot;, :class &quot;__cf_email__&quot;, :data-cfemail &quot;28494c5e49464b4d4c0547584d46054e41444d681806191e061f&quot;}, :content (&quot;[email protected]&quot;)}"><y>#</y><d>2018-02-05</d><h>20:23</h><w>seancorfield</w><pre>{:tag :a, :attrs {:href &quot;/cdn-cgi/l/email-protection&quot;, :class &quot;__cf_email__&quot;, :data-cfemail &quot;28494c5e49464b4d4c0547584d46054e41444d681806191e061f&quot;}, :content (&quot;[email protected]&quot;)}</pre></z><z id="t1517862248" t="seancorfield Happy to disable any you think might interfere in order to debug this."><y>#</y><d>2018-02-05</d><h>20:24</h><w>seancorfield</w>Happy to disable any you think might interfere in order to debug this.</z><z id="t1517862287" t="shaunlebron yeah, that’ll be hard to know which"><y>#</y><d>2018-02-05</d><h>20:24</h><w>shaunlebron</w>yeah, that’ll be hard to know which</z><z id="t1517862327" t="shaunlebron i can easily install these from command line to recreate the environment for debugging"><y>#</y><d>2018-02-05</d><h>20:25</h><w>shaunlebron</w>i can easily install these from command line to recreate the environment for debugging</z><z id="t1517862534" t="shaunlebron tracking here: https://github.com/oakmac/atom-parinfer/issues/100"><y>#</y><d>2018-02-05</d><h>20:28</h><w>shaunlebron</w>tracking here: <a href="https://github.com/oakmac/atom-parinfer/issues/100" target="_blank">https://github.com/oakmac/atom-parinfer/issues/100</a></z><z id="t1517886133" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] I finally sat down to try to create some test cases, and the ones I’ve tried so far actually work fine in parinfer JS, so some of them at least are bugs I’ve introduced while porting."><y>#</y><d>2018-02-06</d><h>03:02</h><w>cfleming</w><a>@shaunlebron</a> I finally sat down to try to create some test cases, and the ones I’ve tried so far actually work fine in parinfer JS, so some of them at least are bugs I’ve introduced while porting.</z><z id="t1517886143" t="cfleming I have some more cases, I’ll continue testing."><y>#</y><d>2018-02-06</d><h>03:02</h><w>cfleming</w>I have some more cases, I’ll continue testing.</z><z id="t1517888068" t="cfleming Ok, I believe that all these cases I’ve accumulated work in parinfer JS, and I have a bug introduced when porting. They actually all look fairly similar when reduced, hopefully they’re all just a single bug."><y>#</y><d>2018-02-06</d><h>03:34</h><w>cfleming</w>Ok, I believe that all these cases I’ve accumulated work in parinfer JS, and I have a bug introduced when porting. They actually all look fairly similar when reduced, hopefully they’re all just a single bug.</z><z id="t1517888099" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : awesome, glad to hear it!"><y>#</y><d>2018-02-06</d><h>03:34</h><w>shaunlebron</w><a>@cfleming</a>: awesome, glad to hear it!</z><z id="t1517888111" t="cfleming Now I just have to find it 😞"><y>#</y><d>2018-02-06</d><h>03:35</h><w>cfleming</w>Now I just have to find it <b>😞</b></z><z id="t1517888158" t="cfleming I’m actually considering instrumenting parinfer to print constraints after each char, so that I can compare the two in cases like this."><y>#</y><d>2018-02-06</d><h>03:35</h><w>cfleming</w>I’m actually considering instrumenting parinfer to print constraints after each char, so that I can compare the two in cases like this.</z><z id="t1517888169" t="cfleming Otherwise I just spend a ton of time in the debugger."><y>#</y><d>2018-02-06</d><h>03:36</h><w>cfleming</w>Otherwise I just spend a ton of time in the debugger.</z><z id="t1517985043" t="tianshu parsing the file with 2.8k lines will cost 180ms in emacs."><y>#</y><d>2018-02-07</d><h>06:30</h><w>tianshu</w>parsing the file with 2.8k lines will cost 180ms in emacs.</z><z id="t1518020098" t="shaunlebron not that bad, but about 10x slower than js"><y>#</y><d>2018-02-07</d><h>16:14</h><w>shaunlebron</w>not that bad, but about 10x slower than js</z><z id="t1518021397" t="dominicm Maybe there&apos;s some way to optimize it? I&apos;m sure most elisp is far less performance sensitive than this."><y>#</y><d>2018-02-07</d><h>16:36</h><w>dominicm</w>Maybe there&apos;s some way to optimize it? I&apos;m sure most elisp is far less performance sensitive than this.</z><z id="t1518025902" t="shaunlebron i think most elisp things aren’t doing the type of string building that parinfer is doing"><y>#</y><d>2018-02-07</d><h>17:51</h><w>shaunlebron</w>i think most elisp things aren’t doing the type of string building that parinfer is doing</z><z id="t1518026123" t="shaunlebron planning on making parinfer return edits instead of a full string: https://github.com/shaunlebron/parinfer/issues/158"><y>#</y><d>2018-02-07</d><h>17:55</h><w>shaunlebron</w>planning on making parinfer return edits instead of a full string: <a href="https://github.com/shaunlebron/parinfer/issues/158" target="_blank">https://github.com/shaunlebron/parinfer/issues/158</a></z><z id="t1518041755" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] It would be great to get that into mainline - I fixed that bug in the Cursive port yesterday, and it was due to the differences in char counting because I return edits."><y>#</y><d>2018-02-07</d><h>22:15</h><w>cfleming</w><a>@shaunlebron</a> It would be great to get that into mainline - I fixed that bug in the Cursive port yesterday, and it was due to the differences in char counting because I return edits.</z><z id="t1518041795" t="cfleming So if mine could be more in line with mainline parinfer that would help me a lot."><y>#</y><d>2018-02-07</d><h>22:16</h><w>cfleming</w>So if mine could be more in line with mainline parinfer that would help me a lot.</z><z id="t1518041857" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] yeah, I definitely want that in mainline"><y>#</y><d>2018-02-07</d><h>22:17</h><w>shaunlebron</w><a>@cfleming</a> yeah, I definitely want that in mainline</z><z id="t1518041869" t="shaunlebron sorry for the problems related to that, glad you found it"><y>#</y><d>2018-02-07</d><h>22:17</h><w>shaunlebron</w>sorry for the problems related to that, glad you found it</z><z id="t1518041895" t="shaunlebron i don’t think i remember where that is right now in the js version"><y>#</y><d>2018-02-07</d><h>22:18</h><w>shaunlebron</w>i don’t think i remember where that is right now in the js version</z><z id="t1518041895" t="cfleming It complicates the editor integration a bit, because you have to specify the algorithm for applying the edits."><y>#</y><d>2018-02-07</d><h>22:18</h><w>cfleming</w>It complicates the editor integration a bit, because you have to specify the algorithm for applying the edits.</z><z id="t1518041909" t="shaunlebron i see this: https://github.com/shaunlebron/parinfer/pull/170"><y>#</y><d>2018-02-07</d><h>22:18</h><w>shaunlebron</w>i see this: <a href="https://github.com/shaunlebron/parinfer/pull/170" target="_blank">https://github.com/shaunlebron/parinfer/pull/170</a></z><z id="t1518041915" t="cfleming Me either, I did have it in a branch somewhere."><y>#</y><d>2018-02-07</d><h>22:18</h><w>cfleming</w>Me either, I did have it in a branch somewhere.</z><z id="t1518041920" t="cfleming Ah, that might be it."><y>#</y><d>2018-02-07</d><h>22:18</h><w>cfleming</w>Ah, that might be it.</z><z id="t1518041929" t="cfleming Otherwise I can reverse engineer it from what I have."><y>#</y><d>2018-02-07</d><h>22:18</h><w>cfleming</w>Otherwise I can reverse engineer it from what I have.</z><z id="t1518041934" t="cfleming It’s pretty simple."><y>#</y><d>2018-02-07</d><h>22:18</h><w>cfleming</w>It’s pretty simple.</z><z id="t1518041969" t="shaunlebron i won’t be able to look at it this weekend"><y>#</y><d>2018-02-07</d><h>22:19</h><w>shaunlebron</w>i won’t be able to look at it this weekend</z><z id="t1518042014" t="cfleming BTW when running the tests, I had to add a &quot;use strict&quot; to build.js , because it uses let"><y>#</y><d>2018-02-07</d><h>22:20</h><w>cfleming</w>BTW when running the tests, I had to add a <code>&quot;use strict&quot;</code> to <code>build.js</code>, because it uses <code>let</code></z><z id="t1518042029" t="cfleming Is that specified by default somewhere when running using npm?"><y>#</y><d>2018-02-07</d><h>22:20</h><w>cfleming</w>Is that specified by default somewhere when running using npm?</z><z id="t1518042048" t="shaunlebron hmm, not sure"><y>#</y><d>2018-02-07</d><h>22:20</h><w>shaunlebron</w>hmm, not sure</z><z id="t1518042057" t="shaunlebron i bet it has to do with differing node versions"><y>#</y><d>2018-02-07</d><h>22:20</h><w>shaunlebron</w>i bet it has to do with differing node versions</z><z id="t1518042070" t="shaunlebron wish I could specify that in package.json, maybe I can"><y>#</y><d>2018-02-07</d><h>22:21</h><w>shaunlebron</w>wish I could specify that in package.json, maybe I can</z><z id="t1518042071" t="cfleming Ah, could be - I have no idea which version I’m using."><y>#</y><d>2018-02-07</d><h>22:21</h><w>cfleming</w>Ah, could be - I have no idea which version I’m using.</z><z id="t1518042119" t="cfleming Anyway, I have a minor regression with two tests around error locations, but I’m hoping to be able to push a dev build today so you can check out the indentation marking."><y>#</y><d>2018-02-07</d><h>22:21</h><w>cfleming</w>Anyway, I have a minor regression with two tests around error locations, but I’m hoping to be able to push a dev build today so you can check out the indentation marking.</z><z id="t1518042192" t="shaunlebron sweet!"><y>#</y><d>2018-02-07</d><h>22:23</h><w>shaunlebron</w>sweet!</z><z id="t1518042211" t="cfleming And I can get some more Cursive users trying it out too."><y>#</y><d>2018-02-07</d><h>22:23</h><w>cfleming</w>And I can get some more Cursive users trying it out too.</z><z id="t1518042471" t="shaunlebron yeah, can’t wait to see what cursive users think. lot of parinfer users there"><y>#</y><d>2018-02-07</d><h>22:27</h><w>shaunlebron</w>yeah, can’t wait to see what cursive users think.  lot of parinfer users there</z><z id="t1518042491" t="cfleming [:attrs {:href &quot;/_/_/users/U0NBGRGD6&quot;}] Are you splitting the file into lines, or processing the whole file in one go? parinfer-js currently splits the file into lines, which makes some things easier but is not necessary. It’s also harder on the GC, and I don’t think Emacs’ GC is stellar."><y>#</y><d>2018-02-07</d><h>22:28</h><w>cfleming</w><a>@doglooksgood</a> Are you splitting the file into lines, or processing the whole file in one go? parinfer-js currently splits the file into lines, which makes some things easier but is not necessary. It’s also harder on the GC, and I don’t think Emacs’ GC is stellar.</z><z id="t1518045259" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] Am I correct in thinking that there’s actually no difference between result.lineNo and result.inputLineNo ?"><y>#</y><d>2018-02-07</d><h>23:14</h><w>cfleming</w><a>@shaunlebron</a> Am I correct in thinking that there’s actually no difference between <code>result.lineNo</code> and <code>result.inputLineNo</code>?</z><z id="t1518046145" t="cfleming Actually, if that’s too down in the weeds when you’re not looking at the code, I can file an issue."><y>#</y><d>2018-02-07</d><h>23:29</h><w>cfleming</w>Actually, if that’s too down in the weeds when you’re not looking at the code, I can file an issue.</z><z id="t1518046946" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : I’m 90% sure that they are always the same"><y>#</y><d>2018-02-07</d><h>23:42</h><w>shaunlebron</w><a>@cfleming</a>: I’m 90% sure that they are always the same</z><z id="t1518047005" t="shaunlebron there was a case where I was considering splitting lines when dealing with leading close-parens"><y>#</y><d>2018-02-07</d><h>23:43</h><w>shaunlebron</w>there was a case where I was considering splitting lines when dealing with leading close-parens</z><z id="t1518047321" t="shaunlebron yeah, line numbers should be the same"><y>#</y><d>2018-02-07</d><h>23:48</h><w>shaunlebron</w>yeah, line numbers should be the same</z><z id="t1518047350" t="shaunlebron in the future though, I want to remove lines that are made empty by parinfer"><y>#</y><d>2018-02-07</d><h>23:49</h><w>shaunlebron</w>in the future though, I want to remove lines that are made empty by parinfer</z><z id="t1518047368" t="shaunlebron for example: (foo bar ) (baz) (foo bar) (baz) "><y>#</y><d>2018-02-07</d><h>23:49</h><w>shaunlebron</w>for example:

<pre>(foo
  bar
  )

(baz)
</pre>

<pre>(foo
  bar)

(baz)
</pre></z><z id="t1518047404" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : ^"><y>#</y><d>2018-02-07</d><h>23:50</h><w>shaunlebron</w><a>@cfleming</a>: ^</z><z id="t1518047456" t="shaunlebron parlinter does this when used with the trim option: --trim Remove lines that become empty after linting. "><y>#</y><d>2018-02-07</d><h>23:50</h><w>shaunlebron</w>parlinter does this when used with the trim option:

<pre>--trim                   Remove lines that become empty after linting.
</pre></z><z id="t1518048090" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] Ah, ok, thanks."><y>#</y><d>2018-02-08</d><h>00:01</h><w>cfleming</w><a>@shaunlebron</a> Ah, ok, thanks.</z><z id="t1518048106" t="cfleming The input/output mapping gets pretty confusing with the edits."><y>#</y><d>2018-02-08</d><h>00:01</h><w>cfleming</w>The input/output mapping gets pretty confusing with the edits.</z><z id="t1518051786" t="tianshu I&apos;m still working on the parser. I use built-in skip-syntax-forward to search meaningful characters (parens, semicolon, doublequote, etc), and save the parse result in a vector. If I can parser file in less than 50ms, I think everything is fine to parse whole buffer."><y>#</y><d>2018-02-08</d><h>01:03</h><w>tianshu</w>I&apos;m still working on the parser. I use built-in <code>skip-syntax-forward</code> to search meaningful characters (parens, semicolon, doublequote, etc), and save the parse result in a vector. If I can parser file in less than 50ms, I think everything is fine to parse whole buffer.</z><z id="t1518080131" t="cfleming Parinfer v3 is now available for testing in Cursive: https://groups.google.com/d/topic/cursive/ZJ4fcp3A988/discussion"><y>#</y><d>2018-02-08</d><h>08:55</h><w>cfleming</w>Parinfer v3 is now available for testing in Cursive: <a href="https://groups.google.com/d/topic/cursive/ZJ4fcp3A988/discussion" target="_blank">https://groups.google.com/d/topic/cursive/ZJ4fcp3A988/discussion</a></z><z id="t1518080151" t="cfleming partywombat"><y>#</y><d>2018-02-08</d><h>08:55</h><w>cfleming</w><b>partywombat</b></z><z id="t1518112666" t="sparkofreason Just tried this out, not having any luck. I switched to Parinfer, but it doesn&apos;t seem to be enabled, typing a paren doesn&apos;t even show the closing paren. I assume this is because the file isn&apos;t correctly indented as discussed in the link above. However I don&apos;t see any highlighting to indicate what to correct. Is there something else I&apos;m supposed to be doing?"><y>#</y><d>2018-02-08</d><h>17:57</h><w>sparkofreason</w>Just tried this out, not having any luck. I switched to Parinfer, but it doesn&apos;t seem to be enabled, typing a paren doesn&apos;t even show the closing paren. I assume this is because the file isn&apos;t correctly indented as discussed in the link above. However I don&apos;t see any highlighting to indicate what to correct. Is there something else I&apos;m supposed to be doing?</z><z id="t1518119713" t="dominicm [:attrs {:href &quot;/_/_/users/U066LQXPZ&quot;}] what editor?"><y>#</y><d>2018-02-08</d><h>19:55</h><w>dominicm</w><a>@dave.dixon</a> what editor?</z><z id="t1518120215" t="cfleming I’m pretty sure [:attrs {:href &quot;/_/_/users/U066LQXPZ&quot;}] means the Cursive integration, I’ll answer over in #cursive"><y>#</y><d>2018-02-08</d><h>20:03</h><w>cfleming</w>I’m pretty sure <a>@dave.dixon</a> means the Cursive integration, I’ll answer over in #cursive</z><z id="t1518126934" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : nice, that was faster than I expected! i’ll try this out soon"><y>#</y><d>2018-02-08</d><h>21:55</h><w>shaunlebron</w><a>@cfleming</a>: nice, that was faster than I expected!  i’ll try this out soon</z><z id="t1518143223" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] What is the best place to point people to when they ask what smart mode is?"><y>#</y><d>2018-02-09</d><h>02:27</h><w>cfleming</w><a>@shaunlebron</a> What is the best place to point people to when they ask what smart mode is?</z><z id="t1518143243" t="cfleming The home page is still mostly about the dual modes."><y>#</y><d>2018-02-09</d><h>02:27</h><w>cfleming</w>The home page is still mostly about the dual modes.</z><z id="t1518143264" t="cfleming Is there a summary documented anywhere public?"><y>#</y><d>2018-02-09</d><h>02:27</h><w>cfleming</w>Is there a summary documented anywhere public?</z><z id="t1518143344" t="shaunlebron i was just about to record a quick video summary"><y>#</y><d>2018-02-09</d><h>02:29</h><w>shaunlebron</w>i was just about to record a quick video summary</z><z id="t1518143356" t="shaunlebron but I wanted to demonstrate it in cursive"><y>#</y><d>2018-02-09</d><h>02:29</h><w>shaunlebron</w>but I wanted to demonstrate it in cursive</z><z id="t1518143363" t="cfleming That would be great, a few people have asked about it."><y>#</y><d>2018-02-09</d><h>02:29</h><w>cfleming</w>That would be great, a few people have asked about it.</z><z id="t1518143369" t="shaunlebron but it doesn’t work here yet"><y>#</y><d>2018-02-09</d><h>02:29</h><w>shaunlebron</w>but it doesn’t work here yet</z><z id="t1518143378" t="cfleming In Cursive?"><y>#</y><d>2018-02-09</d><h>02:29</h><w>cfleming</w>In Cursive?</z><z id="t1518143469" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : https://www.youtube.com/watch?v=QGzilYhqsPc"><y>#</y><d>2018-02-09</d><h>02:31</h><w>shaunlebron</w><a>@cfleming</a>: <a href="https://www.youtube.com/watch?v=QGzilYhqsPc" target="_blank">https://www.youtube.com/watch?v=QGzilYhqsPc</a></z><z id="t1518143521" t="shaunlebron i probably just got the wrong version? intellij versions are confusing"><y>#</y><d>2018-02-09</d><h>02:32</h><w>shaunlebron</w>i probably just got the wrong version? intellij versions are confusing</z><z id="t1518143580" t="cfleming That’s weird, it sounds like what [:attrs {:href &quot;/_/_/users/U066LQXPZ&quot;}] was reporting."><y>#</y><d>2018-02-09</d><h>02:33</h><w>cfleming</w>That’s weird, it sounds like what <a>@dave.dixon</a> was reporting.</z><z id="t1518143646" t="cfleming Versions look good, Cursive wouldn’t be enabled otherwise."><y>#</y><d>2018-02-09</d><h>02:34</h><w>cfleming</w>Versions look good, Cursive wouldn’t be enabled otherwise.</z><z id="t1518143683" t="taylor I think I’m seeing the same behavior, seemed like it was working for a while then ☝️"><y>#</y><d>2018-02-09</d><h>02:34</h><w>taylor</w>I think I’m seeing the same behavior, seemed like it was working for a while then <b>☝️</b></z><z id="t1518143763" t="cfleming I’m going to try with the repo that Dave said was failing for him"><y>#</y><d>2018-02-09</d><h>02:36</h><w>cfleming</w>I’m going to try with the repo that Dave said was failing for him</z><z id="t1518143783" t="shaunlebron hmm, i’ll try a new clojure project then"><y>#</y><d>2018-02-09</d><h>02:36</h><w>shaunlebron</w>hmm, i’ll try a new clojure project then</z><z id="t1518143831" t="cfleming [:attrs {:href &quot;/_/_/users/U3DAE8HMG&quot;}] So it was working for you, then it started failing on the same code, or you opened some new code and it didn’t work there?"><y>#</y><d>2018-02-09</d><h>02:37</h><w>cfleming</w><a>@taylor</a> So it was working for you, then it started failing on the same code, or you opened some new code and it didn’t work there?</z><z id="t1518143887" t="taylor I was editing a large CLJS file and it was ~definitely~ (maybe?) working when I started, but then eventually it ran into some issues with unmatched parens/brackets that I had to manually fix, and after that it seemed to have stopped working?"><y>#</y><d>2018-02-09</d><h>02:38</h><w>taylor</w>I was editing a large CLJS file and it was ~definitely~ (maybe?) working when I started, but then eventually it ran into some issues with unmatched parens/brackets that I had to manually fix, and after that it seemed to have stopped working?</z><z id="t1518143916" t="cfleming Hmm, I wonder if the problem is that it’s not re-enabling after things break"><y>#</y><d>2018-02-09</d><h>02:38</h><w>cfleming</w>Hmm, I wonder if the problem is that it’s not re-enabling after things break</z><z id="t1518143974" t="taylor ok so if I open said file, it doesn’t work. If I work on a new/trivial file, it works"><y>#</y><d>2018-02-09</d><h>02:39</h><w>taylor</w>ok so if I open said file, it doesn’t work. If I work on a new/trivial file, it works</z><z id="t1518143983" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] Does it work if you’re editing the main code of that project rather than a test file?"><y>#</y><d>2018-02-09</d><h>02:39</h><w>cfleming</w><a>@shaunlebron</a> Does it work if you’re editing the main code of that project rather than a test file?</z><z id="t1518143998" t="shaunlebron that was what I first tried"><y>#</y><d>2018-02-09</d><h>02:39</h><w>shaunlebron</w>that was what I first tried</z><z id="t1518144008" t="cfleming [:attrs {:href &quot;/_/_/users/U3DAE8HMG&quot;}] Could you restart IntelliJ and see if it starts working on that same file?"><y>#</y><d>2018-02-09</d><h>02:40</h><w>cfleming</w><a>@taylor</a> Could you restart IntelliJ and see if it starts working on that same file?</z><z id="t1518144010" t="shaunlebron I tried it in a new clojure project generated by intellij, and it worked in the core.clj file"><y>#</y><d>2018-02-09</d><h>02:40</h><w>shaunlebron</w>I tried it in a new clojure project generated by intellij, and it worked in the core.clj file</z><z id="t1518144019" t="taylor I just restarted before testing [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}]"><y>#</y><d>2018-02-09</d><h>02:40</h><w>taylor</w>I just restarted before testing <a>@cfleming</a></z><z id="t1518144032" t="cfleming Hmm"><y>#</y><d>2018-02-09</d><h>02:40</h><w>cfleming</w>Hmm</z><z id="t1518144033" t="shaunlebron then I pasted a long clojurescript file into a new cljs namespace in the project, and it didn’t work"><y>#</y><d>2018-02-09</d><h>02:40</h><w>shaunlebron</w>then I pasted a long clojurescript file into a new cljs namespace in the project, and it didn’t work</z><z id="t1518144107" t="taylor oddly, it doesn’t seem to work on any CLJS files in my project at all now, not even a new blank one"><y>#</y><d>2018-02-09</d><h>02:41</h><w>taylor</w>oddly, it doesn’t seem to work on any CLJS files in my project at all now, not even a new blank one</z><z id="t1518144116" t="taylor it works for CLJ files in same project"><y>#</y><d>2018-02-09</d><h>02:41</h><w>taylor</w>it works for CLJ files in same project</z><z id="t1518144130" t="cfleming I wonder if CLJS is the problem for some reason, I’ll see if I can reproduce that."><y>#</y><d>2018-02-09</d><h>02:42</h><w>cfleming</w>I wonder if CLJS is the problem for some reason, I’ll see if I can reproduce that.</z><z id="t1518144137" t="cfleming I only really work on CLJ."><y>#</y><d>2018-02-09</d><h>02:42</h><w>cfleming</w>I only really work on CLJ.</z><z id="t1518144140" t="shaunlebron should we move this to #cursive?"><y>#</y><d>2018-02-09</d><h>02:42</h><w>shaunlebron</w>should we move this to #cursive?</z><z id="t1518144147" t="cfleming Probably, yeah."><y>#</y><d>2018-02-09</d><h>02:42</h><w>cfleming</w>Probably, yeah.</z><z id="t1518156394" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] can you review this 60 second video before I tweet it? https://www.youtube.com/watch?v=sl6d9M8jkvU"><y>#</y><d>2018-02-09</d><h>06:06</h><w>shaunlebron</w><a>@cfleming</a> can you review this 60 second video before I tweet it? <a href="https://www.youtube.com/watch?v=sl6d9M8jkvU" target="_blank">https://www.youtube.com/watch?v=sl6d9M8jkvU</a></z><z id="t1518156408" t="shaunlebron or anyone awake in this channel wanna look at it?"><y>#</y><d>2018-02-09</d><h>06:06</h><w>shaunlebron</w>or anyone awake in this channel wanna look at it?</z><z id="t1518156528" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] Looks good to me!"><y>#</y><d>2018-02-09</d><h>06:08</h><w>cfleming</w><a>@shaunlebron</a> Looks good to me!</z><z id="t1518156547" t="shaunlebron cool, thanks for checking"><y>#</y><d>2018-02-09</d><h>06:09</h><w>shaunlebron</w>cool, thanks for checking</z><z id="t1518156568" t="shaunlebron wanted to make sure i wasn’t leaving anything out important"><y>#</y><d>2018-02-09</d><h>06:09</h><w>shaunlebron</w>wanted to make sure i wasn’t leaving anything out important</z><z id="t1518158622" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : looks good in cursive"><y>#</y><d>2018-02-09</d><h>06:43</h><w>shaunlebron</w><a>@cfleming</a>: looks good in cursive</z><z id="t1518158666" t="shaunlebron only thing I found missing was the last part of the video—selecting a line to correct indentation in isolation"><y>#</y><d>2018-02-09</d><h>06:44</h><w>shaunlebron</w>only thing I found missing was the last part of the video—selecting a line to correct indentation in isolation</z><z id="t1518159162" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : this is the line that just turns off smart mode when any line is selected: https://github.com/shaunlebron/parinfer/blob/3.12.0/lib/parinfer.js#L1543"><y>#</y><d>2018-02-09</d><h>06:52</h><w>shaunlebron</w><a>@cfleming</a>: this is the line that just turns off smart mode when any line is selected: <a href="https://github.com/shaunlebron/parinfer/blob/3.12.0/lib/parinfer.js#L1543" target="_blank">https://github.com/shaunlebron/parinfer/blob/3.12.0/lib/parinfer.js#L1543</a></z><z id="t1518161304" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] Ok, I’ll check that."><y>#</y><d>2018-02-09</d><h>07:28</h><w>cfleming</w><a>@shaunlebron</a> Ok, I’ll check that.</z><z id="t1518161321" t="cfleming Cursive doesn’t currently do that, you’re right."><y>#</y><d>2018-02-09</d><h>07:28</h><w>cfleming</w>Cursive doesn’t currently do that, you’re right.</z><z id="t1518163440" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0NBGRGD6&quot;}] i was thinking about the performance problem with your elisp port"><y>#</y><d>2018-02-09</d><h>08:04</h><w>shaunlebron</w><a>@doglooksgood</a> i was thinking about the performance problem with your elisp port</z><z id="t1518163486" t="shaunlebron 180ms for 2k lines doesn’t sound too bad if we just process top-level forms only"><y>#</y><d>2018-02-09</d><h>08:04</h><w>shaunlebron</w>180ms for 2k lines doesn’t sound too bad if we just process top-level forms only</z><z id="t1518163526" t="shaunlebron atom-parinfer still doesn’t process the whole file, despite it being able to"><y>#</y><d>2018-02-09</d><h>08:05</h><w>shaunlebron</w>atom-parinfer still doesn’t process the whole file, despite it being able to</z><z id="t1518163572" t="shaunlebron it just assumes that lines starting with ( are top-level forms"><y>#</y><d>2018-02-09</d><h>08:06</h><w>shaunlebron</w>it just assumes that lines starting with <code>(</code> are top-level forms</z><z id="t1518163592" t="shaunlebron could be a quick workaround for now"><y>#</y><d>2018-02-09</d><h>08:06</h><w>shaunlebron</w>could be a quick workaround for now</z><z id="t1518163712" t="tianshu It currently does like this. so in the most cases, it&apos;s okay. but in a project.clj it may cause problem."><y>#</y><d>2018-02-09</d><h>08:08</h><w>tianshu</w>It currently does like this. so in the most cases, it&apos;s okay. but in a <code>project.clj</code> it may cause problem.</z><z id="t1518165401" t="tianshu I&apos;m wondering the dynamic module feature of emacs, that allow it load .so or .dll . If port parinfer.js to C, the performance should be good enough."><y>#</y><d>2018-02-09</d><h>08:36</h><w>tianshu</w>I&apos;m wondering the dynamic module feature of emacs, that allow it load <code>.so</code> or <code>.dll</code>. If port parinfer.js to C, the performance should be good enough.</z><z id="t1518190500" t="tianshu I believe that, parinfer should also work for XML or HTML"><y>#</y><d>2018-02-09</d><h>15:35</h><w>tianshu</w>I believe that, parinfer should also work for XML or HTML</z><z id="t1518190547" t="shaunlebron ha, I don’t see how that would work. thoughts?"><y>#</y><d>2018-02-09</d><h>15:35</h><w>shaunlebron</w>ha, I don’t see how that would work.  thoughts?</z><z id="t1518190594" t="tianshu I think they are same."><y>#</y><d>2018-02-09</d><h>15:36</h><w>tianshu</w>I think they are same.</z><z id="t1518190630" t="tianshu for XML and HTML, the close tag can be inferred by the indentation and open tag."><y>#</y><d>2018-02-09</d><h>15:37</h><w>tianshu</w>for XML and HTML, the close tag can be inferred by the indentation and open tag.</z><z id="t1518190689" t="tianshu no theory to prove this."><y>#</y><d>2018-02-09</d><h>15:38</h><w>tianshu</w>no theory to prove this.</z><z id="t1518190820" t="tianshu I saw people who write JSX are painful for the close things. especially when they in some scopes like xxxlist.map(x -&gt; { &lt;div&gt; &lt;h1&gt;{x}&lt;/h1&gt; &lt;/div&gt; }) "><y>#</y><d>2018-02-09</d><h>15:40</h><w>tianshu</w>I saw people who write JSX are painful for the close things. especially when they in some scopes like
<pre>xxxlist.map(x -&gt; {
  &lt;div&gt;
    &lt;h1&gt;{x}&lt;/h1&gt;
  &lt;/div&gt;
})
</pre></z><z id="t1518190898" t="shaunlebron maybe if html was written this way: &lt;div&gt; &lt;h1&gt;{x}&lt;/h1&gt;&lt;/div&gt; "><y>#</y><d>2018-02-09</d><h>15:41</h><w>shaunlebron</w>maybe if html was written this way:

<pre>&lt;div&gt;
    &lt;h1&gt;{x}&lt;/h1&gt;&lt;/div&gt;
</pre></z></g><g id="s20"><z id="t1518190974" t="tianshu no, they won&apos;t:joy:"><y>#</y><d>2018-02-09</d><h>15:42</h><w>tianshu</w>no, they won&apos;t:joy:</z><z id="t1518191017" t="shaunlebron haha, right"><y>#</y><d>2018-02-09</d><h>15:43</h><w>shaunlebron</w>haha, right</z><z id="t1518191052" t="shaunlebron I’m just saying if we want to extend parinfer to other syntaxes, the closing tags have to be consistently placed (according to my current understanding)"><y>#</y><d>2018-02-09</d><h>15:44</h><w>shaunlebron</w>I’m just saying if we want to extend parinfer to other syntaxes, the closing tags have to be consistently placed (according to my current understanding)</z><z id="t1518191148" t="shaunlebron maybe not though, i can already look at that and see how the closing tags can be correctly placed based on indentation, according to how people want it"><y>#</y><d>2018-02-09</d><h>15:45</h><w>shaunlebron</w>maybe not though, i can already look at that and see how the closing tags can be correctly placed based on indentation, according to how people want it</z><z id="t1518191178" t="shaunlebron yeah, maybe you’re on to something"><y>#</y><d>2018-02-09</d><h>15:46</h><w>shaunlebron</w>yeah, maybe you’re on to something</z><z id="t1518191179" t="tianshu I just think the close tag in xml can be inferred, no saying that parinfer should extended to do this stuff. but if we can determine where we put the closers, for most of the languages, this is the only difference I think."><y>#</y><d>2018-02-09</d><h>15:46</h><w>tianshu</w>I just think the close tag in xml can be inferred, no saying that parinfer should extended to do this stuff. but if we can determine where we put the closers, for most of the languages, this is the only difference I think.</z><z id="t1518191251" t="tianshu the truth is , for most of the language, the indentation and the code block is relevant."><y>#</y><d>2018-02-09</d><h>15:47</h><w>tianshu</w>the truth is , for most of the language, the indentation and the code block is relevant.</z><z id="t1518191274" t="shaunlebron hmm"><y>#</y><d>2018-02-09</d><h>15:47</h><w>shaunlebron</w>hmm</z><z id="t1518191304" t="shaunlebron we can mock out this idea by replacing &lt;div&gt; =&gt; ( and &lt;/div&gt; =&gt; )"><y>#</y><d>2018-02-09</d><h>15:48</h><w>shaunlebron</w>we can mock out this idea by replacing <code>&lt;div&gt;</code> =&gt; <code>(</code> and <code>&lt;/div&gt;</code> =&gt; <code>)</code></z><z id="t1518191313" t="shaunlebron assume divs for all tags"><y>#</y><d>2018-02-09</d><h>15:48</h><w>shaunlebron</w>assume divs for all tags</z><z id="t1518191411" t="shaunlebron so now: &lt;div&gt; &lt;h1&gt;{x} is equal to: ( ({x} which should evaluate to: ( ({x}) ) and converting back: &lt;div&gt; &lt;h1&gt;{x}&lt;/h1&gt; &lt;/div&gt; "><y>#</y><d>2018-02-09</d><h>15:50</h><w>shaunlebron</w>so now:

<pre>&lt;div&gt;
  &lt;h1&gt;{x}
</pre>

is equal to:

<pre>(
  ({x}
</pre>

which should evaluate to:

<pre>(
  ({x})
)
</pre>

and converting back:

<pre>&lt;div&gt;
  &lt;h1&gt;{x}&lt;/h1&gt;
&lt;/div&gt;
</pre></z><z id="t1518191461" t="shaunlebron that would be a fun experiment 🙂"><y>#</y><d>2018-02-09</d><h>15:51</h><w>shaunlebron</w>that would be a fun experiment <b>🙂</b></z><z id="t1518191478" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0NBGRGD6&quot;}] cool idea, good insight"><y>#</y><d>2018-02-09</d><h>15:51</h><w>shaunlebron</w><a>@doglooksgood</a> cool idea, good insight</z><z id="t1518191552" t="tianshu {x} is just like the string in lisp"><y>#</y><d>2018-02-09</d><h>15:52</h><w>tianshu</w>{x} is just like the string in lisp</z><z id="t1518191568" t="shaunlebron right"><y>#</y><d>2018-02-09</d><h>15:52</h><w>shaunlebron</w>right</z><z id="t1518191581" t="shaunlebron it could be anything, I didn’t mean its brackets would be inferred"><y>#</y><d>2018-02-09</d><h>15:53</h><w>shaunlebron</w>it could be anything, I didn’t mean its brackets would be inferred</z><z id="t1518191744" t="tianshu the code inside {} can have jsx tag too, so should wait { closed first. it&apos;s bit complex than lisp maybe"><y>#</y><d>2018-02-09</d><h>15:55</h><w>tianshu</w>the code inside {} can have jsx tag too, so should wait { closed first. it&apos;s bit complex than lisp maybe</z><z id="t1518191776" t="shaunlebron haha, we should probably just do HTML first"><y>#</y><d>2018-02-09</d><h>15:56</h><w>shaunlebron</w>haha, we should probably just do HTML first</z><z id="t1518191824" t="shaunlebron i wonder if it could work for JS too"><y>#</y><d>2018-02-09</d><h>15:57</h><w>shaunlebron</w>i wonder if it could work for JS too</z><z id="t1518191849" t="shaunlebron it wouldn’t need anything from Smart Mode to work"><y>#</y><d>2018-02-09</d><h>15:57</h><w>shaunlebron</w>it wouldn’t need anything from Smart Mode to work</z><z id="t1518191889" t="tianshu 1. determine where we put closer. 2. custom the opener and closer type. with these two enhancement, I think it will work for html at least."><y>#</y><d>2018-02-09</d><h>15:58</h><w>tianshu</w>1. determine where we put closer.
2. custom the opener and closer type.

with these two enhancement, I think it will work for html at least.</z><z id="t1518191964" t="shaunlebron to clarify why JS wouldn’t need Smart Mode stuff, replacing if with for below wouldn’t require the body to shift, since the body is always fixed indentation regardless of the position of the curly: if (true) { foo() } "><y>#</y><d>2018-02-09</d><h>15:59</h><w>shaunlebron</w>to clarify why JS wouldn’t need Smart Mode stuff, replacing <code>if</code> with <code>for</code> below wouldn’t require the body to shift, since the body is always fixed indentation regardless of the position of the curly:

<pre>if (true) {
  foo()
}
</pre></z><z id="t1518192007" t="shaunlebron yeah, i think you’re right, that could be pretty simple to make work for html"><y>#</y><d>2018-02-09</d><h>16:00</h><w>shaunlebron</w>yeah, i think you’re right, that could be pretty simple to make work for html</z><z id="t1518192070" t="shaunlebron parinfer-html could be a pretty quick project 🙂"><y>#</y><d>2018-02-09</d><h>16:01</h><w>shaunlebron</w><code>parinfer-html</code> could be a pretty quick project <b>🙂</b></z><z id="t1518192071" t="tianshu the smart-parens in emacs has these kind of work, it handle whatever thing you call them parens, not limited in normal parens."><y>#</y><d>2018-02-09</d><h>16:01</h><w>tianshu</w>the smart-parens in emacs has these kind of work, it handle whatever thing you call them parens, not limited in normal parens.</z><z id="t1518192085" t="shaunlebron cool"><y>#</y><d>2018-02-09</d><h>16:01</h><w>shaunlebron</w>cool</z><z id="t1518192116" t="tianshu If parinfer work both in JS and HTML, it will help JSX a lot"><y>#</y><d>2018-02-09</d><h>16:01</h><w>tianshu</w>If parinfer work both in JS and HTML, it will help JSX a lot</z><z id="t1518192132" t="tianshu I always think, write JSX is a pain."><y>#</y><d>2018-02-09</d><h>16:02</h><w>tianshu</w>I always think, write JSX is a pain.</z><z id="t1518192202" t="shaunlebron JSX is nicer than HTML in terms of closing tag consistency"><y>#</y><d>2018-02-09</d><h>16:03</h><w>shaunlebron</w>JSX is nicer than HTML in terms of closing tag consistency</z><z id="t1518192229" t="shaunlebron &lt;input&gt; vs &lt;input /&gt; and &lt;div&gt;&lt;/div&gt; vs &lt;div /&gt;"><y>#</y><d>2018-02-09</d><h>16:03</h><w>shaunlebron</w><code>&lt;input&gt;</code>  vs <code>&lt;input /&gt;</code> and <code>&lt;div&gt;&lt;/div&gt;</code> vs <code>&lt;div /&gt;</code></z><z id="t1518192288" t="tianshu yes, it is"><y>#</y><d>2018-02-09</d><h>16:04</h><w>tianshu</w>yes, it is</z><z id="t1518192752" t="shaunlebron honestly, I don’t struggle with writing JSX"><y>#</y><d>2018-02-09</d><h>16:12</h><w>shaunlebron</w>honestly, I don’t struggle with writing JSX</z><z id="t1518192788" t="shaunlebron easy to align the tags vertically, people like that. it’s just a bit verbose"><y>#</y><d>2018-02-09</d><h>16:13</h><w>shaunlebron</w>easy to align the tags vertically, people like that.  it’s just a bit verbose</z><z id="t1518192791" t="tianshu but I struggle and a lot of my workmates struggled. I don&apos;t have to write JSX, we prefer clojurescript."><y>#</y><d>2018-02-09</d><h>16:13</h><w>tianshu</w>but I struggle and a lot of my workmates struggled. I don&apos;t have to write JSX, we prefer clojurescript.</z><z id="t1518192855" t="shaunlebron because it’s too much to type? or the fact that it doesn’t compose well with JS?"><y>#</y><d>2018-02-09</d><h>16:14</h><w>shaunlebron</w>because it’s too much to type? or the fact that it doesn’t compose well with JS?</z><z id="t1518192871" t="shaunlebron the JS interpolation is very awkward"><y>#</y><d>2018-02-09</d><h>16:14</h><w>shaunlebron</w>the JS interpolation is very awkward</z><z id="t1518192948" t="tianshu I think the reason why I don&apos;t like it, I have to move the cursor here and there, you have to edit both begin and end, just like edit lisp without parinfer or paredit."><y>#</y><d>2018-02-09</d><h>16:15</h><w>tianshu</w>I think the reason why I don&apos;t like it, I have to move the cursor here and there, you have to edit both begin and end, just like edit lisp without parinfer or paredit.</z><z id="t1518193007" t="tianshu especially when you do wrap and raise from &lt;div&gt; x &lt;/div&gt; to &lt;div&gt; &lt;span&gt;x&lt;/span&gt; &lt;/div&gt; "><y>#</y><d>2018-02-09</d><h>16:16</h><w>tianshu</w>especially when you do wrap and raise
from
<pre>&lt;div&gt;
  x
&lt;/div&gt;
</pre>
to
<pre>&lt;div&gt;
  &lt;span&gt;x&lt;/span&gt;
&lt;/div&gt;
</pre></z><z id="t1518193103" t="shaunlebron ah okay, so it’s just the tag manipulation that you don’t like"><y>#</y><d>2018-02-09</d><h>16:18</h><w>shaunlebron</w>ah okay, so it’s just the tag manipulation that you don’t like</z><z id="t1518194901" t="tianshu another thing, i think why my parser in elisp is slow is that I try to save parse result in a vector"><y>#</y><d>2018-02-09</d><h>16:48</h><w>tianshu</w>another thing, i think why my parser in elisp is slow is that I try to save parse result in a vector</z><z id="t1518195047" t="tianshu I should combine parsing and processing. for now, if I save result, parsing will cost 140ms, If I don&apos;t, will cost 50ms."><y>#</y><d>2018-02-09</d><h>16:50</h><w>tianshu</w>I should combine parsing and processing. for now, if I save result, parsing will cost 140ms,  If I don&apos;t, will cost 50ms.</z><z id="t1518195059" t="tianshu I think 50ms is good enough"><y>#</y><d>2018-02-09</d><h>16:50</h><w>tianshu</w>I think 50ms is good enough</z><z id="t1518461176" t="shaunlebron added some early thoughts for trying parinfer in Bruce’s new readline library: https://github.com/bhauman/rebel-readline/issues/84"><y>#</y><d>2018-02-12</d><h>18:46</h><w>shaunlebron</w>added some early thoughts for trying parinfer in Bruce’s new readline library: <a href="https://github.com/bhauman/rebel-readline/issues/84" target="_blank">https://github.com/bhauman/rebel-readline/issues/84</a></z><z id="t1518461217" t="shaunlebron parinfer-jvm will have to be updated"><y>#</y><d>2018-02-12</d><h>18:46</h><w>shaunlebron</w>parinfer-jvm will have to be updated</z><z id="t1518461269" t="shaunlebron which is cool, because Timothy’s parinfer-based code validator will need it too: https://github.com/timothypratley/parsnip"><y>#</y><d>2018-02-12</d><h>18:47</h><w>shaunlebron</w>which is cool, because Timothy’s parinfer-based code validator will need it too: <a href="https://github.com/timothypratley/parsnip" target="_blank">https://github.com/timothypratley/parsnip</a></z><z id="t1518470405" t="cfleming The reaction to parinfer smart mode in Cursive can be fairly described as “rapturous”"><y>#</y><d>2018-02-12</d><h>21:20</h><w>cfleming</w>The reaction to parinfer smart mode in Cursive can be fairly described as “rapturous”</z><z id="t1518470470" t="shaunlebron ha, wow"><y>#</y><d>2018-02-12</d><h>21:21</h><w>shaunlebron</w>ha, wow</z><z id="t1518470493" t="shaunlebron you getting this feedback in the #cursive channel or elsewhere?"><y>#</y><d>2018-02-12</d><h>21:21</h><w>shaunlebron</w>you getting this feedback in the #cursive channel or elsewhere?</z><z id="t1518470534" t="cfleming A bit by email, some here (mostly DMs), some on Twitter"><y>#</y><d>2018-02-12</d><h>21:22</h><w>cfleming</w>A bit by email, some here (mostly DMs), some on Twitter</z><z id="t1518470543" t="cfleming But people really seem to like it."><y>#</y><d>2018-02-12</d><h>21:22</h><w>cfleming</w>But people really seem to like it.</z><z id="t1518470592" t="cfleming e.g. https://twitter.com/CmdrDats/status/963016990158983168"><y>#</y><d>2018-02-12</d><h>21:23</h><w>cfleming</w>e.g. <a href="https://twitter.com/CmdrDats/status/963016990158983168" target="_blank">https://twitter.com/CmdrDats/status/963016990158983168</a></z><z id="t1518470602" t="cfleming And the more concise: https://twitter.com/solussd/status/961808691220615168"><y>#</y><d>2018-02-12</d><h>21:23</h><w>cfleming</w>And the more concise: <a href="https://twitter.com/solussd/status/961808691220615168" target="_blank">https://twitter.com/solussd/status/961808691220615168</a></z><z id="t1518470621" t="cfleming https://twitter.com/swlkr/status/961761844800061440"><y>#</y><d>2018-02-12</d><h>21:23</h><w>cfleming</w><a href="https://twitter.com/swlkr/status/961761844800061440" target="_blank">https://twitter.com/swlkr/status/961761844800061440</a></z><z id="t1518470626" t="cfleming https://twitter.com/swlkr/status/961762034625884160"><y>#</y><d>2018-02-12</d><h>21:23</h><w>cfleming</w><a href="https://twitter.com/swlkr/status/961762034625884160" target="_blank">https://twitter.com/swlkr/status/961762034625884160</a></z><z id="t1518470633" t="cfleming etc etc"><y>#</y><d>2018-02-12</d><h>21:23</h><w>cfleming</w>etc etc</z><z id="t1518470684" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] Did you get a chance to play around with the incorrect indentation marking? Any opinions on that?"><y>#</y><d>2018-02-12</d><h>21:24</h><w>cfleming</w><a>@shaunlebron</a> Did you get a chance to play around with the incorrect indentation marking? Any opinions on that?</z><z id="t1518471541" t="shaunlebron Nice feedback! I wonder how many are trying it out. What would make you comfortable deploying it on next release?"><y>#</y><d>2018-02-12</d><h>21:39</h><w>shaunlebron</w>Nice feedback!  I wonder how many are trying it out.  What would make you comfortable deploying it on next release?</z><z id="t1518471668" t="shaunlebron Pulling up Cursive now to play with the markers. My only issue with it in theory is that wrong indentation anywhere in the file will prevent Parinfer from working everywhere in the file"><y>#</y><d>2018-02-12</d><h>21:41</h><w>shaunlebron</w>Pulling up Cursive now to play with the markers.  My only issue with it in theory is that wrong indentation anywhere in the file will prevent Parinfer from working everywhere in the file</z><z id="t1518471742" t="cfleming Right, that’s the one thing I’d really like to fix. The user should be able to fix it themselves by just reformatting the file, of course."><y>#</y><d>2018-02-12</d><h>21:42</h><w>cfleming</w>Right, that’s the one thing I’d really like to fix. The user should be able to fix it themselves by just reformatting the file, of course.</z><z id="t1518471772" t="cfleming And I like that they have to do it manually - that means that their files don’t get reformatted just by looking at them."><y>#</y><d>2018-02-12</d><h>21:42</h><w>cfleming</w>And I like that they have to do it manually - that means that their files don’t get reformatted just by looking at them.</z><z id="t1518472404" t="taylor This is what turned some of my coworkers off from using Parinfer originally. They had a lot of poorly formatted/indented files and just opening them would rearrange and sometimes break things."><y>#</y><d>2018-02-12</d><h>21:53</h><r>taylor</r>This is what turned some of my coworkers off from using Parinfer originally. They had a lot of poorly formatted/indented files and just opening them would rearrange and sometimes break things.</z><z id="t1518472480" t="cfleming Yeah, this has annoyed me too. In a lot of my tests, I used to leave a dangling close paren at the end of my deftest s, because it made it easier to copy assertions per line."><y>#</y><d>2018-02-12</d><h>21:54</h><r>cfleming</r>Yeah, this has annoyed me too. In a lot of my tests, I used to leave a dangling close paren at the end of my <code>deftest</code>s, because it made it easier to copy assertions per line.</z><z id="t1518472506" t="cfleming Ironically of course, parinfer makes that more or less obsolete, but it’s still annoying to have a bunch of changes every time I look at a test file."><y>#</y><d>2018-02-12</d><h>21:55</h><r>cfleming</r>Ironically of course, parinfer makes that more or less obsolete, but it’s still annoying to have a bunch of changes every time I look at a test file.</z><z id="t1518472530" t="shaunlebron [:attrs {:href &quot;/_/_/users/U3DAE8HMG&quot;}] : it’s one thing for it to annoy, but yeah, it should never break. that was a problem with a race condition in intellij I believe"><y>#</y><d>2018-02-12</d><h>21:55</h><r>shaunlebron</r><a>@U3DAE8HMG</a>: it’s one thing for it to annoy, but yeah, it should never break.  that was a problem with a race condition in intellij I believe</z><z id="t1518472554" t="cfleming Right, breaking is a bug, the reformatting is just a bit annoying."><y>#</y><d>2018-02-12</d><h>21:55</h><r>cfleming</r>Right, breaking is a bug, the reformatting is just a bit annoying.</z><z id="t1518472578" t="taylor FWIW this was like over a year ago, not sure what has changed in main-line Cursive+Parinfer since"><y>#</y><d>2018-02-12</d><h>21:56</h><r>taylor</r>FWIW this was like over a year ago, not sure what has changed in main-line Cursive+Parinfer since</z><z id="t1518472588" t="taylor I’ve been happily using Cursive+Parinfer the whole time 🙂"><y>#</y><d>2018-02-12</d><h>21:56</h><r>taylor</r>I’ve been happily using Cursive+Parinfer the whole time <b>🙂</b></z><z id="t1518472588" t="cfleming Essentially nothing, sadly."><y>#</y><d>2018-02-12</d><h>21:56</h><r>cfleming</r>Essentially nothing, sadly.</z><z id="t1518472040" t="cfleming I’m going to investigate the “apply per top level form” change. If I can get that working then this will definitely become the next release right away. But honestly even without that this is still a vast improvement over what’s there anyway."><y>#</y><d>2018-02-12</d><h>21:47</h><w>cfleming</w>I’m going to investigate the “apply per top level form” change. If I can get that working then this will definitely become the next release right away. But honestly even without that this is still a vast improvement over what’s there anyway.</z><z id="t1518472469" t="seancorfield And what&apos;s the plan for atom-parinfer in terms of this new release? (I&apos;m not even sure who is responsible for cutting releases of that)"><y>#</y><d>2018-02-12</d><h>21:54</h><w>seancorfield</w>And what&apos;s the plan for <code>atom-parinfer</code> in terms of this new release? (I&apos;m not even sure who is responsible for cutting releases of that)</z><z id="t1518472688" t="shaunlebron I’ll leave my feedback in #cursive"><y>#</y><d>2018-02-12</d><h>21:58</h><w>shaunlebron</w>I’ll leave my feedback in #cursive</z><z id="t1518473038" t="shaunlebron [:attrs {:href &quot;/_/_/users/U04V70XH6&quot;}] i’m maintaining atom-parinfer for smart mode things, but chris is still the gatekeeper on releases"><y>#</y><d>2018-02-12</d><h>22:03</h><w>shaunlebron</w><a>@seancorfield</a> i’m maintaining <code>atom-parinfer</code> for smart mode things, but chris is still the gatekeeper on releases</z><z id="t1518473135" t="shaunlebron feedback on atom-parinfer has been silent, except for your feedback sean. I still need to fix this: https://github.com/oakmac/atom-parinfer/issues/100"><y>#</y><d>2018-02-12</d><h>22:05</h><w>shaunlebron</w>feedback on atom-parinfer has been silent, except for your feedback sean.  I still need to fix this: <a href="https://github.com/oakmac/atom-parinfer/issues/100" target="_blank">https://github.com/oakmac/atom-parinfer/issues/100</a></z><z id="t1518473747" t="seancorfield Okay. Thanks for the clarification on releases."><y>#</y><d>2018-02-12</d><h>22:15</h><w>seancorfield</w>Okay. Thanks for the clarification on releases.</z><z id="t1518481221" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] Would you care to comment on this bit of the thread here? https://groups.google.com/d/msg/cursive/ZJ4fcp3A988/erjJ1gFJBAAJ"><y>#</y><d>2018-02-13</d><h>00:20</h><w>cfleming</w><a>@shaunlebron</a> Would you care to comment on this bit of the thread here? <a href="https://groups.google.com/d/msg/cursive/ZJ4fcp3A988/erjJ1gFJBAAJ" target="_blank">https://groups.google.com/d/msg/cursive/ZJ4fcp3A988/erjJ1gFJBAAJ</a></z><z id="t1518481244" t="cfleming (there are some more replies to that part below)"><y>#</y><d>2018-02-13</d><h>00:20</h><w>cfleming</w>(there are some more replies to that part below)</z><z id="t1518481264" t="shaunlebron ah, indenting docstrings!"><y>#</y><d>2018-02-13</d><h>00:21</h><w>shaunlebron</w>ah, indenting docstrings!</z><z id="t1518481271" t="shaunlebron i’ll think about it"><y>#</y><d>2018-02-13</d><h>00:21</h><w>shaunlebron</w>i’ll think about it</z><z id="t1518481306" t="shaunlebron yeah, I don’t like multiline strings in clojure"><y>#</y><d>2018-02-13</d><h>00:21</h><w>shaunlebron</w>yeah, I don’t like multiline strings in clojure</z><z id="t1518481365" t="shaunlebron we have to preserve structure in front of a change, so we can’t shift multiline string indentation without breaking strings"><y>#</y><d>2018-02-13</d><h>00:22</h><w>shaunlebron</w>we have to preserve structure in front of a change, so we can’t shift multiline string indentation without breaking strings</z><z id="t1518481384" t="shaunlebron it would be fine with docstrings"><y>#</y><d>2018-02-13</d><h>00:23</h><w>shaunlebron</w>it would be fine with docstrings</z><z id="t1518481395" t="shaunlebron but there could be strings where that is not okay"><y>#</y><d>2018-02-13</d><h>00:23</h><w>shaunlebron</w>but there could be strings where that is not okay</z><z id="t1518481415" t="cfleming Yeah, and the fact that the docstrings are not HTML or similar makes them a real pain to indent when displaying them."><y>#</y><d>2018-02-13</d><h>00:23</h><w>cfleming</w>Yeah, and the fact that the docstrings are not HTML or similar makes them a real pain to indent when displaying them.</z><z id="t1518481424" t="cfleming Right, definitely."><y>#</y><d>2018-02-13</d><h>00:23</h><w>cfleming</w>Right, definitely.</z><z id="t1518481436" t="shaunlebron yeah, that ship has sailed for clojure"><y>#</y><d>2018-02-13</d><h>00:23</h><w>shaunlebron</w>yeah, that ship has sailed for clojure</z><z id="t1518481461" t="cfleming Indeed, sadly."><y>#</y><d>2018-02-13</d><h>00:24</h><w>cfleming</w>Indeed, sadly.</z><z id="t1518481462" t="shaunlebron i’ve seen new clojure-based lisps where they make indentation significant in multiline strings, seems to be a common pain point"><y>#</y><d>2018-02-13</d><h>00:24</h><w>shaunlebron</w>i’ve seen new clojure-based lisps where they make indentation significant in multiline strings, seems to be a common pain point</z><z id="t1518481487" t="cfleming That said, there are projects using markdown in their docstrings now, I’m planning to add an option to Cursive to display that."><y>#</y><d>2018-02-13</d><h>00:24</h><w>cfleming</w>That said, there are projects using markdown in their docstrings now, I’m planning to add an option to Cursive to display that.</z><z id="t1518481504" t="cfleming But even there indentation is significant."><y>#</y><d>2018-02-13</d><h>00:25</h><w>cfleming</w>But even there indentation is significant.</z><z id="t1518482753" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : i replied in the thread, thanks for the headsup"><y>#</y><d>2018-02-13</d><h>00:45</h><w>shaunlebron</w><a>@cfleming</a>: i replied in the thread, thanks for the headsup</z><z id="t1518482764" t="cfleming Great, thanks!"><y>#</y><d>2018-02-13</d><h>00:46</h><w>cfleming</w>Great, thanks!</z><z id="t1518482774" t="shaunlebron wish I could find that Lisp that had stricter multiline string indentation"><y>#</y><d>2018-02-13</d><h>00:46</h><w>shaunlebron</w>wish I could find that Lisp that had stricter multiline string indentation</z><z id="t1518482782" t="shaunlebron i star too many repos"><y>#</y><d>2018-02-13</d><h>00:46</h><w>shaunlebron</w>i star too many repos</z><z id="t1518482787" t="cfleming Yeah, that’s a nice idea. Carp, maybe?"><y>#</y><d>2018-02-13</d><h>00:46</h><w>cfleming</w>Yeah, that’s a nice idea. Carp, maybe?</z><z id="t1518482795" t="shaunlebron i couldn’t find a syntax guide for it"><y>#</y><d>2018-02-13</d><h>00:46</h><w>shaunlebron</w>i couldn’t find a syntax guide for it</z><z id="t1518482809" t="shaunlebron yeah, I thought it was carp, not sure though"><y>#</y><d>2018-02-13</d><h>00:46</h><w>shaunlebron</w>yeah, I thought it was carp, not sure though</z><z id="t1518482842" t="cfleming There are quite a few now. Carp and Pixie are the ones that spring to mind, but I’m sure there are more. Oh and Hy."><y>#</y><d>2018-02-13</d><h>00:47</h><w>cfleming</w>There are quite a few now. Carp and Pixie are the ones that spring to mind, but I’m sure there are more. Oh and Hy.</z><z id="t1518482852" t="shaunlebron it might be Hy"><y>#</y><d>2018-02-13</d><h>00:47</h><w>shaunlebron</w>it might be Hy</z><z id="t1518482858" t="cfleming Actually, Hy is probably a top contender due to its Python heritage."><y>#</y><d>2018-02-13</d><h>00:47</h><w>cfleming</w>Actually, Hy is probably a top contender due to its Python heritage.</z><z id="t1518482931" t="shaunlebron ha, I can’t spend anymore time tonight tracking this down"><y>#</y><d>2018-02-13</d><h>00:48</h><w>shaunlebron</w>ha, I can’t spend anymore time tonight tracking this down</z><z id="t1518483017" t="cfleming I can’t find anything about it in Hy documentation."><y>#</y><d>2018-02-13</d><h>00:50</h><w>cfleming</w>I can’t find anything about it in Hy documentation.</z><z id="t1518483032" t="cfleming It’ll have to remain a mystery. Nice idea though."><y>#</y><d>2018-02-13</d><h>00:50</h><w>cfleming</w>It’ll have to remain a mystery. Nice idea though.</z><z id="t1518492614" t="tianshu [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] is that transformChange will never return undefined?"><y>#</y><d>2018-02-13</d><h>03:30</h><w>tianshu</w><a>@shaunlebron</a> is that transformChange will never return undefined?</z><z id="t1518492666" t="tianshu https://github.com/shaunlebron/parinfer/blob/master/lib/parinfer.js#L134"><y>#</y><d>2018-02-13</d><h>03:31</h><w>tianshu</w><a href="https://github.com/shaunlebron/parinfer/blob/master/lib/parinfer.js#L134" target="_blank">https://github.com/shaunlebron/parinfer/blob/master/lib/parinfer.js#L134</a></z><z id="t1518493947" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0NBGRGD6&quot;}] yeah, safe to say it’ll never be undefined"><y>#</y><d>2018-02-13</d><h>03:52</h><w>shaunlebron</w><a>@doglooksgood</a> yeah, safe to say it’ll never be undefined</z><z id="t1518493955" t="shaunlebron just guarding against bad plugin integration"><y>#</y><d>2018-02-13</d><h>03:52</h><w>shaunlebron</w>just guarding against bad plugin integration</z><z id="t1518494032" t="tianshu I think when porting, is very important to know immutable/mutable of variables, and what will return null;"><y>#</y><d>2018-02-13</d><h>03:53</h><w>tianshu</w>I think when porting, is very important to know immutable/mutable of variables, and what will return null;</z><z id="t1518494137" t="tianshu maybe I should port from parinfer-jvm?"><y>#</y><d>2018-02-13</d><h>03:55</h><w>tianshu</w>maybe I should port from parinfer-jvm?</z><z id="t1518494167" t="tianshu it&apos;s likely very old"><y>#</y><d>2018-02-13</d><h>03:56</h><w>tianshu</w>it&apos;s likely very old</z><z id="t1518494176" t="shaunlebron parinfer-jvm will be updated soon I think"><y>#</y><d>2018-02-13</d><h>03:56</h><w>shaunlebron</w>parinfer-jvm will be updated soon I think</z><z id="t1518494201" t="shaunlebron you will be the third person this week who needs it"><y>#</y><d>2018-02-13</d><h>03:56</h><w>shaunlebron</w>you will be the third person this week who needs it</z><z id="t1518597663" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : typed a response for this bug: https://twitter.com/CmdrDats/status/963346700357251072"><y>#</y><d>2018-02-14</d><h>08:41</h><w>shaunlebron</w><a>@cfleming</a>: typed a response for this bug: <a href="https://twitter.com/CmdrDats/status/963346700357251072" target="_blank">https://twitter.com/CmdrDats/status/963346700357251072</a></z><z id="t1518597692" t="shaunlebron i wonder if the production Cursive build is still using v1 behavior"><y>#</y><d>2018-02-14</d><h>08:41</h><w>shaunlebron</w>i wonder if the production Cursive build is still using v1 behavior</z><z id="t1518598091" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] I actually can’t remember."><y>#</y><d>2018-02-14</d><h>08:48</h><w>cfleming</w><a>@shaunlebron</a> I actually can’t remember.</z><z id="t1518598135" t="cfleming In the parinfer demo editor, with forceBalance on I get this: [[{| []}]]"><y>#</y><d>2018-02-14</d><h>08:48</h><w>cfleming</w>In the parinfer demo editor, with forceBalance on I get this: <code>[[{| []}]]</code></z><z id="t1518598146" t="cfleming Which is definitely not what you want."><y>#</y><d>2018-02-14</d><h>08:49</h><w>cfleming</w>Which is definitely not what you want.</z><z id="t1518598603" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : that is what v1 did"><y>#</y><d>2018-02-14</d><h>08:56</h><w>shaunlebron</w><a>@cfleming</a>: that is what v1 did</z><z id="t1518598637" t="cfleming I’m actually considering just always inserting balanced parens in parinfer mode."><y>#</y><d>2018-02-14</d><h>08:57</h><w>cfleming</w>I’m actually considering just always inserting balanced parens in parinfer mode.</z><z id="t1518598674" t="shaunlebron (|foo =&gt; ()|foo ?"><y>#</y><d>2018-02-14</d><h>08:57</h><w>shaunlebron</w><code>(|foo</code> =&gt; <code>()|foo</code>?</z><z id="t1518598675" t="cfleming You’d lose the slurp/barf-like functionality, but it seems a little unpredictable."><y>#</y><d>2018-02-14</d><h>08:57</h><w>cfleming</w>You’d lose the slurp/barf-like functionality, but it seems a little unpredictable.</z><z id="t1518598704" t="cfleming I mean when the user types an opening paren, always inserting the balancing closing paren."><y>#</y><d>2018-02-14</d><h>08:58</h><w>cfleming</w>I mean when the user types an opening paren, always inserting the balancing closing paren.</z><z id="t1518598731" t="cfleming So if the user types ( , I’d add () and leave the caret between them."><y>#</y><d>2018-02-14</d><h>08:58</h><w>cfleming</w>So if the user types <code>(</code>, I’d add <code>()</code> and leave the caret between them.</z><z id="t1518598753" t="cfleming Parinfer is the only editing mode which doesn’t act like that, unless the user totally turns paren balancing off."><y>#</y><d>2018-02-14</d><h>08:59</h><w>cfleming</w>Parinfer is the only editing mode which doesn’t act like that, unless the user totally turns paren balancing off.</z><z id="t1518598835" t="shaunlebron So, typing ( at |foo =&gt; (|)foo"><y>#</y><d>2018-02-14</d><h>09:00</h><w>shaunlebron</w>So, typing <code>(</code> at <code>|foo</code> =&gt; <code>(|)foo</code></z><z id="t1518598870" t="shaunlebron that would turn off wrapping behavior of (|foo =&gt; (|foo)"><y>#</y><d>2018-02-14</d><h>09:01</h><w>shaunlebron</w>that would turn off wrapping behavior of <code>(|foo</code> =&gt; <code>(|foo)</code></z><z id="t1518598945" t="cfleming Right."><y>#</y><d>2018-02-14</d><h>09:02</h><w>cfleming</w>Right.</z><z id="t1518598964" t="cfleming So if the user wanted to wrap they’d have to use the wrapping commands from paredit."><y>#</y><d>2018-02-14</d><h>09:02</h><w>cfleming</w>So if the user wanted to wrap they’d have to use the wrapping commands from paredit.</z><z id="t1518598979" t="cfleming Those and Raise are almost the only ones I use still."><y>#</y><d>2018-02-14</d><h>09:02</h><w>cfleming</w>Those and Raise are almost the only ones I use still.</z><z id="t1518599217" t="cfleming The wrapping commands are easy to remember in Cursive, they’re just Ctrl/Cmd + the normal key."><y>#</y><d>2018-02-14</d><h>09:06</h><w>cfleming</w>The wrapping commands are easy to remember in Cursive, they’re just Ctrl/Cmd + the normal key.</z><z id="t1518599495" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : I think that’s a reasonable compromise to just auto-insert )"><y>#</y><d>2018-02-14</d><h>09:11</h><w>shaunlebron</w><a>@cfleming</a>: I think that’s a reasonable compromise to just auto-insert <code>)</code></z><z id="t1518599513" t="cfleming At least as an option, I think so."><y>#</y><d>2018-02-14</d><h>09:11</h><w>cfleming</w>At least as an option, I think so.</z><z id="t1518599534" t="cfleming The in-line inference doesn’t look like it has an easy solution."><y>#</y><d>2018-02-14</d><h>09:12</h><w>cfleming</w>The in-line inference doesn’t look like it has an easy solution.</z><z id="t1518599555" t="shaunlebron boy I tried"><y>#</y><d>2018-02-14</d><h>09:12</h><w>shaunlebron</w>boy I tried</z><z id="t1518599574" t="shaunlebron i spent a long time last year thinking about that"><y>#</y><d>2018-02-14</d><h>09:12</h><w>shaunlebron</w>i spent a long time last year thinking about that</z><z id="t1518599583" t="cfleming Hehe, yeah, I know - I can’t remember all the details, but it just seems really messy"><y>#</y><d>2018-02-14</d><h>09:13</h><w>cfleming</w>Hehe, yeah, I know - I can’t remember all the details, but it just seems really messy</z><z id="t1518599616" t="shaunlebron basically, it hit the boundary of what was possible by not looking at the content of the change"><y>#</y><d>2018-02-14</d><h>09:13</h><w>shaunlebron</w>basically, it hit the boundary of what was possible by not looking at the content of the change</z><z id="t1518599674" t="shaunlebron anyway, will explore what to do when pasting (( or deleting a ) , since those are the cases not solved by auto-insertion of ) when typing ("><y>#</y><d>2018-02-14</d><h>09:14</h><w>shaunlebron</w>anyway, will explore what to do when pasting <code>((</code> or deleting a <code>)</code>, since those are the cases not solved by auto-insertion of <code>)</code> when typing <code>(</code></z><z id="t1518599680" t="shaunlebron that will be v4"><y>#</y><d>2018-02-14</d><h>09:14</h><w>shaunlebron</w>that will be v4</z><z id="t1518599719" t="cfleming Yes, better inference will still be very useful, no doubt."><y>#</y><d>2018-02-14</d><h>09:15</h><w>cfleming</w>Yes, better inference will still be very useful, no doubt.</z><z id="t1518618373" t="taylor from my perspective as a user I think you’ve done a great job “hiding” all this intricate behavior/logic, because I had no idea this was so hard a problem until I started looking into the implementation. I guess I assumed because it was pretty intuitive to use, it was probably ~easy to pull off 😄"><y>#</y><d>2018-02-14</d><h>14:26</h><w>taylor</w>from my perspective as a user I think you’ve done a great job “hiding” all this intricate behavior/logic, because I had no idea this was so hard a problem until I started looking into the implementation. I guess I assumed because it was pretty intuitive to use, it was probably ~easy to pull off <b>😄</b></z><z id="t1518629130" t="tianshu process 2800 lines in 20ms"><y>#</y><d>2018-02-14</d><h>17:25</h><w>tianshu</w>process 2800 lines in 20ms</z><z id="t1518629644" t="justinbarclay I use parinfer everyday at work, and I am super excited for this new version to come out. Thanks for all the work you’re putting in."><y>#</y><d>2018-02-14</d><h>17:34</h><r>justinbarclay</r>I use parinfer everyday at work, and I am super excited for this new version to come out. Thanks for all the work you’re putting in.</z><z id="t1518631337" t="tianshu new version will come soon:grinning:"><y>#</y><d>2018-02-14</d><h>18:02</h><r>tianshu</r>new version will come soon:grinning:</z><z id="t1518629139" t="tianshu ☺️"><y>#</y><d>2018-02-14</d><h>17:25</h><w>tianshu</w><b>☺️</b></z><z id="t1518629152" t="shaunlebron [:attrs {:href &quot;/_/_/users/U3DAE8HMG&quot;}] thanks for saying that, it should probably easier to pull off than it was, but i’m still trying to figure it all out"><y>#</y><d>2018-02-14</d><h>17:25</h><w>shaunlebron</w><a>@taylor</a> thanks for saying that, it should probably easier to pull off than it was, but i’m still trying to figure it all out</z><z id="t1518629169" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0NBGRGD6&quot;}] whoa 🎉 , what was the change?"><y>#</y><d>2018-02-14</d><h>17:26</h><w>shaunlebron</w><a>@doglooksgood</a> whoa <b>🎉</b>, what was the change?</z><z id="t1518629342" t="tianshu some functions in emacs are really slow, I just rewrite for avoid these functions. but it&apos;s not a completed implementation yet. I use lisp-indent-line to do indent instead of calculate delta x. but it&apos;s looks almost finished."><y>#</y><d>2018-02-14</d><h>17:29</h><w>tianshu</w>some functions in emacs are really slow, I just rewrite for avoid these functions.
 but it&apos;s not a completed implementation yet.  I use <code>lisp-indent-line</code> to do indent instead of calculate delta x. but it&apos;s looks almost finished.</z><z id="t1518629677" t="tianshu but I can still feel lag if on a file large than 1k lines. just don&apos;t know why. file with 1k lines only take 9ms to process(do all work, not parsing). so it&apos;s still need avoid process whole buffer. but it&apos;s much faster than the current parinfer-mode."><y>#</y><d>2018-02-14</d><h>17:34</h><w>tianshu</w>but I can still feel lag if on a file large than 1k lines. just don&apos;t know why. file with 1k lines only take 9ms to process(do all work, not parsing). so it&apos;s still need avoid process whole buffer. but it&apos;s much faster than the current parinfer-mode.</z><z id="t1518629943" t="shaunlebron but you’re still only processing top-level expressions right?"><y>#</y><d>2018-02-14</d><h>17:39</h><w>shaunlebron</w>but you’re still only processing top-level expressions right?</z><z id="t1518629957" t="shaunlebron and it’s still lagging on 1kloc files?"><y>#</y><d>2018-02-14</d><h>17:39</h><w>shaunlebron</w>and it’s still lagging on 1kloc files?</z><z id="t1518629958" t="tianshu no, whole buffer, 2800lines, 20ms"><y>#</y><d>2018-02-14</d><h>17:39</h><w>tianshu</w>no, whole buffer, 2800lines, 20ms</z><z id="t1518629982" t="shaunlebron ah, cool! so you can avoid the lag with the top-level form hack atom uses"><y>#</y><d>2018-02-14</d><h>17:39</h><w>shaunlebron</w>ah, cool! so you can avoid the lag with the top-level form hack atom uses</z><z id="t1518630013" t="tianshu yes, that&apos;s pretty easy to achieve"><y>#</y><d>2018-02-14</d><h>17:40</h><w>tianshu</w>yes, that&apos;s pretty easy to achieve</z><z id="t1518630024" t="shaunlebron man that gif is fun to watch 🙂"><y>#</y><d>2018-02-14</d><h>17:40</h><w>shaunlebron</w>man that gif is fun to watch <b>🙂</b></z><z id="t1518630077" t="shaunlebron you even implemented the status message errors from parinfer?"><y>#</y><d>2018-02-14</d><h>17:41</h><w>shaunlebron</w>you even implemented the status message errors from parinfer?</z><z id="t1518630137" t="tianshu yes, error will display."><y>#</y><d>2018-02-14</d><h>17:42</h><w>tianshu</w>yes, error will display.</z><z id="t1518630164" t="tianshu It&apos;s better to show error position with overlay, but I haven&apos;t implement"><y>#</y><d>2018-02-14</d><h>17:42</h><w>tianshu</w>It&apos;s better to show error position with overlay, but I haven&apos;t implement</z><z id="t1518630503" t="tianshu some behavior is different with parinfer demo, for I let emacs do indent instead of preserve . lot of work need to be done for this."><y>#</y><d>2018-02-14</d><h>17:48</h><w>tianshu</w>some behavior is different with parinfer demo, for I let emacs do <code>indent</code> instead of <code>preserve</code>. lot of work need to be done for this.</z><z id="t1518630569" t="tianshu I just want to update this as a new mode called parinfer-smart in current parinfer-mode when it&apos;s stable."><y>#</y><d>2018-02-14</d><h>17:49</h><w>tianshu</w>I just want to update this as a new mode called <code>parinfer-smart</code> in current <code>parinfer-mode</code> when it&apos;s stable.</z><z id="t1518630816" t="dominicm I need to port neovim&apos;s parinfer implementation if emacs is getting smart mode. Can&apos;t have that kind of imbalance (pun intended)"><y>#</y><d>2018-02-14</d><h>17:53</h><w>dominicm</w>I need to port neovim&apos;s parinfer implementation if emacs is getting smart mode. Can&apos;t have that kind of imbalance (pun intended)</z><z id="t1518630912" t="tianshu it&apos;s very nice that neovim can use javascript extension."><y>#</y><d>2018-02-14</d><h>17:55</h><w>tianshu</w>it&apos;s very nice that neovim can use javascript extension.</z><z id="t1518631099" t="dominicm Very convenient, yes."><y>#</y><d>2018-02-14</d><h>17:58</h><w>dominicm</w>Very convenient, yes.</z><z id="t1518631121" t="dominicm I think [:attrs {:href &quot;/_/_/users/U0ECYL0ET&quot;}] was working on this actually."><y>#</y><d>2018-02-14</d><h>17:58</h><w>dominicm</w>I think <a>@eraserhd</a> was working on this actually.</z><z id="t1518632261" t="tianshu ....I made mistake, is 160ms on 2800lines... no 16ms:sob:"><y>#</y><d>2018-02-14</d><h>18:17</h><w>tianshu</w>....I made mistake, is 160ms on 2800lines... no 16ms:sob:</z><z id="t1518632288" t="tianshu faster than the old version. but not so fast"><y>#</y><d>2018-02-14</d><h>18:18</h><w>tianshu</w>faster than the old version. but not so fast</z><z id="t1518632468" t="tianshu but after byte compile, it&apos;s fast again:sunglasses:"><y>#</y><d>2018-02-14</d><h>18:21</h><w>tianshu</w>but after byte compile, it&apos;s fast again:sunglasses:</z><z id="t1518734058" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] I’m looking at the thing we talked about the other day, where in Atom having a selection means that smart mode is disabled."><y>#</y><d>2018-02-15</d><h>22:34</h><w>cfleming</w><a>@shaunlebron</a> I’m looking at the thing we talked about the other day, where in Atom having a selection means that smart mode is disabled.</z><z id="t1518734100" t="cfleming This is tricky again in IntelliJ because of the many-many mapping between editors and documents."><y>#</y><d>2018-02-15</d><h>22:35</h><w>cfleming</w>This is tricky again in IntelliJ because of the many-many mapping between editors and documents.</z><z id="t1518734126" t="cfleming I’m thinking about disabling smart mode for processing a particular document, when any editor looking at that document has a selection."><y>#</y><d>2018-02-15</d><h>22:35</h><w>cfleming</w>I’m thinking about disabling smart mode for processing a particular document, when any editor looking at that document has a selection.</z><z id="t1518734159" t="cfleming Either that, or just not implementing that feature, and then the user would have to indent the lines they want and then outdent the following lines."><y>#</y><d>2018-02-15</d><h>22:35</h><w>cfleming</w>Either that, or just not implementing that feature, and then the user would have to indent the lines they want and then outdent the following lines.</z><z id="t1518734176" t="cfleming Which isn’t ideal, but is at least predictable in tricky cases."><y>#</y><d>2018-02-15</d><h>22:36</h><w>cfleming</w>Which isn’t ideal, but is at least predictable in tricky cases.</z><z id="t1518734213" t="cfleming Any opinions?"><y>#</y><d>2018-02-15</d><h>22:36</h><w>cfleming</w>Any opinions?</z><z id="t1518819809" t="shaunlebron yeah, I don’t think there’s an ideal solution for intellij then"><y>#</y><d>2018-02-16</d><h>22:23</h><r>shaunlebron</r>yeah, I don’t think there’s an ideal solution for intellij then</z><z id="t1518819843" t="shaunlebron when a selection is made, it’s hypothetically nice to fallback to indent mode"><y>#</y><d>2018-02-16</d><h>22:24</h><r>shaunlebron</r>when a selection is made, it’s hypothetically nice to fallback to indent mode</z><z id="t1518819859" t="shaunlebron so maybe exposing that as a mode?"><y>#</y><d>2018-02-16</d><h>22:24</h><r>shaunlebron</r>so maybe exposing that as a mode?</z><z id="t1518819869" t="shaunlebron i don’t like that idea either honestly"><y>#</y><d>2018-02-16</d><h>22:24</h><r>shaunlebron</r>i don’t like that idea either honestly</z><z id="t1518819901" t="shaunlebron might be best to look at actual problem cases and go from there"><y>#</y><d>2018-02-16</d><h>22:25</h><r>shaunlebron</r>might be best to look at actual problem cases and go from there</z><z id="t1518988241" t="cfleming I actually have dedicated indent/dedent actions for indenting/dedenting lines. I think the best solution is for those to adjust the parens as part of the action itself."><y>#</y><d>2018-02-18</d><h>21:10</h><r>cfleming</r>I actually have dedicated indent/dedent actions for indenting/dedenting lines. I think the best solution is for those to adjust the parens as part of the action itself.</z><z id="t1518988278" t="cfleming That should cover all cases I can think of, since indenting/dedenting with space/backspace can’t work with the selection active."><y>#</y><d>2018-02-18</d><h>21:11</h><r>cfleming</r>That should cover all cases I can think of, since indenting/dedenting with space/backspace can’t work with the selection active.</z><z id="t1518988450" t="shaunlebron i’m not following, an example would help"><y>#</y><d>2018-02-18</d><h>21:14</h><r>shaunlebron</r>i’m not following, an example would help</z><z id="t1518988516" t="cfleming So the cases that require this handling are basically indenting and dedenting selected lines, per the last example in your video."><y>#</y><d>2018-02-18</d><h>21:15</h><r>cfleming</r>So the cases that require this handling are basically indenting and dedenting selected lines, per the last example in your video.</z><z id="t1518988553" t="cfleming In Cursive, that indenting and dedenting use custom actions that I wrote, since they handle the indenting to indent points."><y>#</y><d>2018-02-18</d><h>21:15</h><r>cfleming</r>In Cursive, that indenting and dedenting use custom actions that I wrote, since they handle the indenting to indent points.</z><z id="t1518988618" t="cfleming What I can do is just move the parens around as in indent mode as part of those actions, that will effectively mean that those actions (and just those actions) will have the indent mode behaviour."><y>#</y><d>2018-02-18</d><h>21:16</h><r>cfleming</r>What I can do is just move the parens around as in indent mode as part of those actions, that will effectively mean that those actions (and just those actions) will have the indent mode behaviour.</z><z id="t1518988634" t="cfleming Does that make sense?"><y>#</y><d>2018-02-18</d><h>21:17</h><r>cfleming</r>Does that make sense?</z><z id="t1518989040" t="shaunlebron yeah that makes sense, so you’re binding indent/dedent actions to run indent mode instead of smart mode"><y>#</y><d>2018-02-18</d><h>21:24</h><r>shaunlebron</r>yeah that makes sense, so you’re binding indent/dedent actions to run indent mode instead of smart mode</z><z id="t1518989114" t="shaunlebron so indent/dedent commands run indent mode, but space/delete runs smart mode"><y>#</y><d>2018-02-18</d><h>21:25</h><r>shaunlebron</r>so indent/dedent commands run indent mode, but space/delete runs smart mode</z><z id="t1518989177" t="cfleming Something like that - either I can check the last executed action, or I can explicitly run indent mode as part of the action itself."><y>#</y><d>2018-02-18</d><h>21:26</h><r>cfleming</r>Something like that - either I can check the last executed action, or I can explicitly run indent mode as part of the action itself.</z><z id="t1518765329" t="tianshu Is this necessary for smart mode? (xxx yyy |) "><y>#</y><d>2018-02-16</d><h>07:15</h><w>tianshu</w>Is this necessary for smart mode?
<pre>(xxx yyy
    |)
</pre></z><z id="t1518776260" t="dominicm [:attrs {:href &quot;/_/_/users/U0NBGRGD6&quot;}] Is this version over parinfer open source yet? I&apos;d like to get some of my colleagues to test it 🙂"><y>#</y><d>2018-02-16</d><h>10:17</h><w>dominicm</w><a>@doglooksgood</a> Is this version over parinfer open source yet? I&apos;d like to get some of my colleagues to test it <b>🙂</b></z><z id="t1518783489" t="tianshu [:attrs {:href &quot;/_/_/users/U09LZR36F&quot;}] yes, it&apos;s open source， on branch smart of parinfer-mode. But I don&apos;t think it&apos;s the time to deploy to melpa. I need more test on it"><y>#</y><d>2018-02-16</d><h>12:18</h><w>tianshu</w><a>@dominicm</a>   yes, it&apos;s open source， on branch <code>smart</code> of parinfer-mode. But I don&apos;t think it&apos;s the time to deploy to melpa. I need more test on it</z><z id="t1518783516" t="tianshu file parinfer-smart.el"><y>#</y><d>2018-02-16</d><h>12:18</h><w>tianshu</w>file <code>parinfer-smart.el</code></z><z id="t1518786394" t="tianshu [:attrs {:href &quot;/_/_/users/U09LZR36F&quot;}] btw, if you have to have a try, remember to byte-compile this file, after byte-compile, it will cost 30~80ms to process 2900 loc, otherwise, it will cost 140~200ms on my MBP. the old version of parinfer-mode will cost about 1000ms."><y>#</y><d>2018-02-16</d><h>13:06</h><w>tianshu</w><a>@dominicm</a> btw, if you have to have a try, remember to <code>byte-compile</code> this file, after byte-compile,  it will cost 30~80ms to process 2900 loc, otherwise, it will cost 140~200ms on my MBP.
the old version of parinfer-mode will cost about 1000ms.</z><z id="t1518798653" t="tianshu I create a repo for trying new parinfer-mode. https://github.com/DogLooksGood/parinfer-mode-demo"><y>#</y><d>2018-02-16</d><h>16:30</h><w>tianshu</w>I create a repo for trying new parinfer-mode.
<a href="https://github.com/DogLooksGood/parinfer-mode-demo" target="_blank">https://github.com/DogLooksGood/parinfer-mode-demo</a></z><z id="t1518799101" t="justinbarclay I am going to try this out this weekend!"><y>#</y><d>2018-02-16</d><h>16:38</h><r>justinbarclay</r>I am going to try this out this weekend!</z><z id="t1518820716" t="dominicm [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] have you given any more thought to https://github.com/shaunlebron/parinfer/issues/92 ?"><y>#</y><d>2018-02-16</d><h>22:38</h><w>dominicm</w><a>@shaunlebron</a> have you given any more thought to <a href="https://github.com/shaunlebron/parinfer/issues/92" target="_blank">https://github.com/shaunlebron/parinfer/issues/92</a> ?</z><z id="t1518820881" t="dominicm Oh, I see there&apos;s a pr"><y>#</y><d>2018-02-16</d><h>22:41</h><w>dominicm</w>Oh, I see there&apos;s a pr</z><z id="t1518838597" t="shaunlebron [:attrs {:href &quot;/_/_/users/U09LZR36F&quot;}] thanks for the reminder 👍"><y>#</y><d>2018-02-17</d><h>03:36</h><w>shaunlebron</w><a>@dominicm</a> thanks for the reminder <b>👍</b></z><z id="t1518838609" t="shaunlebron this is important to do sooner than later"><y>#</y><d>2018-02-17</d><h>03:36</h><w>shaunlebron</w>this is important to do sooner than later</z><z id="t1518843585" t="tianshu how to deal with this case"><y>#</y><d>2018-02-17</d><h>04:59</h><w>tianshu</w>how to deal with this case</z><z id="t1518843673" t="tianshu let user press enter to move the trail parens to the next line after comment behavior, or make this automatic"><y>#</y><d>2018-02-17</d><h>05:01</h><w>tianshu</w>let user press enter to move the trail parens to the next line after comment behavior, or make this automatic</z><z id="t1518875959" t="tianshu [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] ({:keys [a ]} h) how can i know i can move ]} up in this case?"><y>#</y><d>2018-02-17</d><h>13:59</h><w>tianshu</w><a>@shaunlebron</a> 
<pre>({:keys [a
         ]} h)
</pre>
how can i know i can move <code>]}</code> up in this case?</z><z id="t1518876082" t="tianshu I want some guide on how to process with leading closer"><y>#</y><d>2018-02-17</d><h>14:01</h><w>tianshu</w>I want some guide on how to process with leading closer</z><z id="t1518972707" t="tianshu finally solved this. the logic still have some difference with the official version, but going to add tests to make current version usable and stable before going any further."><y>#</y><d>2018-02-18</d><h>16:51</h><w>tianshu</w>finally solved this. the logic still have some difference with the official version, but going to add tests to make current version usable and stable before going any further.</z><z id="t1518972831" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0NBGRGD6&quot;}] sorry, I meant to send you this yesterday: https://github.com/shaunlebron/parinfer/blob/master/lib/test/cases/smart-mode.md#leading-close-parens"><y>#</y><d>2018-02-18</d><h>16:53</h><w>shaunlebron</w><a>@doglooksgood</a> sorry, I meant to send you this yesterday: <a href="https://github.com/shaunlebron/parinfer/blob/master/lib/test/cases/smart-mode.md#leading-close-parens" target="_blank">https://github.com/shaunlebron/parinfer/blob/master/lib/test/cases/smart-mode.md#leading-close-parens</a></z><z id="t1518972863" t="shaunlebron those are all the test cases I use to describe leading closers in smart mode"><y>#</y><d>2018-02-18</d><h>16:54</h><w>shaunlebron</w>those are all the test cases I use to describe leading closers in smart mode</z><z id="t1518973446" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0NBGRGD6&quot;}] in answer to your last question, the cursor holds the parens in position"><y>#</y><d>2018-02-18</d><h>17:04</h><w>shaunlebron</w><a>@doglooksgood</a> in answer to your last question, the cursor holds the parens in position</z><z id="t1518973479" t="shaunlebron whenever a close-paren is detected at the beginning of the line without a cursor to its left, paren-mode is run"><y>#</y><d>2018-02-18</d><h>17:04</h><w>shaunlebron</w>whenever a close-paren is detected at the beginning of the line without a cursor to its left, paren-mode is run</z><z id="t1518973677" t="shaunlebron actually, that’s wrong"><y>#</y><d>2018-02-18</d><h>17:07</h><w>shaunlebron</w>actually, that’s wrong</z><z id="t1518973687" t="shaunlebron https://github.com/shaunlebron/parinfer/blob/3.12.0/lib/parinfer.js#L1274-L1304"><y>#</y><d>2018-02-18</d><h>17:08</h><w>shaunlebron</w><a href="https://github.com/shaunlebron/parinfer/blob/3.12.0/lib/parinfer.js#L1274-L1304" target="_blank">https://github.com/shaunlebron/parinfer/blob/3.12.0/lib/parinfer.js#L1274-L1304</a></z><z id="t1518973731" t="shaunlebron when a leading close-paren is found, it exits to paren-mode"><y>#</y><d>2018-02-18</d><h>17:08</h><w>shaunlebron</w>when a leading close-paren is found, it exits to paren-mode</z><z id="t1518973761" t="shaunlebron so paren-mode does all the handling of those cases"><y>#</y><d>2018-02-18</d><h>17:09</h><w>shaunlebron</w>so paren-mode does all the handling of those cases</z><z id="t1518973814" t="shaunlebron and that logic is just a single call to isCursorLeftOf to determine whether to keep the close-paren where it is, or to append it to the previous line"><y>#</y><d>2018-02-18</d><h>17:10</h><w>shaunlebron</w>and that logic is just a single call to <code>isCursorLeftOf</code> to determine whether to keep the close-paren where it is, or to append it to the previous line</z><z id="t1518974146" t="tianshu [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] i&apos;m curious why smart mode not allow delete anymore in this case ( |) "><y>#</y><d>2018-02-18</d><h>17:15</h><w>tianshu</w><a>@shaunlebron</a> i&apos;m curious why smart mode not allow delete anymore in this case
<pre>(
 |)
</pre></z><z id="t1518974282" t="tianshu when i have multiple close paren here, i move cursor right, one cursor will go to the trail position. but how can i get it back? i think this is kind of inconvenient."><y>#</y><d>2018-02-18</d><h>17:18</h><w>tianshu</w>when i have multiple close paren here, i move cursor right, one cursor will go to the trail position. but how can i get it back? i think this is kind of inconvenient.</z><z id="t1518974837" t="shaunlebron there are two questions there"><y>#</y><d>2018-02-18</d><h>17:27</h><w>shaunlebron</w>there are two questions there</z><z id="t1518974927" t="shaunlebron first question: why can’t you press delete at that position? paren-mode handles all cases with leading close-parens because I don’t know how else to fix all the edge cases related to them"><y>#</y><d>2018-02-18</d><h>17:28</h><w>shaunlebron</w>first question: why can’t you press delete at that position? paren-mode handles all cases with leading close-parens because I don’t know how else to fix all the edge cases related to them</z><z id="t1518974974" t="shaunlebron this in turn constrains the indentation to keep the leading close-paren valid"><y>#</y><d>2018-02-18</d><h>17:29</h><w>shaunlebron</w>this in turn constrains the indentation to keep the leading close-paren valid</z><z id="t1518974995" t="shaunlebron it’s not great"><y>#</y><d>2018-02-18</d><h>17:29</h><w>shaunlebron</w>it’s not great</z><z id="t1518975053" t="shaunlebron but I don’t know if producing this is any better: () |) ^ error: imbalanced "><y>#</y><d>2018-02-18</d><h>17:30</h><w>shaunlebron</w>but I don’t know if producing this is any better:

<pre>()
|)
 ^ error: imbalanced
</pre></z><z id="t1518975227" t="shaunlebron second question: with multiple leading close-parens being held by the cursor, then moving cursor to the right, how do you move the displaced close-paren back to where it was before moving the cursor?"><y>#</y><d>2018-02-18</d><h>17:33</h><w>shaunlebron</w>second question: with multiple leading close-parens being held by the cursor, then moving cursor to the right, how do you move the displaced close-paren back to where it was before moving the cursor?</z><z id="t1518975297" t="shaunlebron example, here: {[( )]} ^ cursor before this character then after moving cursor to right: {[() ]} ^ cursor before this character "><y>#</y><d>2018-02-18</d><h>17:34</h><w>shaunlebron</w>example, here:

<pre>{[(
    )]}
    ^ cursor before this character
</pre>

then after moving cursor to right:

<pre>{[()
   ]}
   ^ cursor before this character
</pre></z><z id="t1518975590" t="shaunlebron answer: I really want to communicate that the cursor is responsible for holding these parens in place. this is part of the language that is consistent to a few other areas."><y>#</y><d>2018-02-18</d><h>17:39</h><w>shaunlebron</w>answer: I really want to communicate that the cursor is responsible for holding these parens in place.  this is part of the language that is consistent to a few other areas.</z><z id="t1518975743" t="shaunlebron I’m not sure what the use-case is for keeping it in place"><y>#</y><d>2018-02-18</d><h>17:42</h><w>shaunlebron</w>I’m not sure what the use-case is for keeping it in place</z><z id="t1518975765" t="shaunlebron i only keep the parens in place in this example because the user could be typing something there"><y>#</y><d>2018-02-18</d><h>17:42</h><w>shaunlebron</w>i only keep the parens in place in this example because the user could be typing something there</z><z id="t1518975798" t="shaunlebron but when the cursor leaves, that’s no longer true, so it is a paren whose position has to be normalized"><y>#</y><d>2018-02-18</d><h>17:43</h><w>shaunlebron</w>but when the cursor leaves, that’s no longer true, so it is a paren whose position has to be normalized</z><z id="t1518975848" t="shaunlebron and I can only use the cursor position to denote where the user may be typing"><y>#</y><d>2018-02-18</d><h>17:44</h><w>shaunlebron</w>and I can only use the cursor position to denote where the user may be typing</z><z id="t1518975897" t="shaunlebron we should be asking these type of detailed questions in this forum so the discussion doesn’t disappear: http://parinfer.trydiscourse.com/"><y>#</y><d>2018-02-18</d><h>17:44</h><w>shaunlebron</w>we should be asking these type of detailed questions in this forum so the discussion doesn’t disappear: <a href="http://parinfer.trydiscourse.com/" target="_blank">http://parinfer.trydiscourse.com/</a></z><z id="t1518975968" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0NBGRGD6&quot;}] do you want to ask your future questions there so I can answer in good detail in a more permanent place? you have really good questions"><y>#</y><d>2018-02-18</d><h>17:46</h><w>shaunlebron</w><a>@doglooksgood</a> do you want to ask your future questions there so I can answer in good detail in a more permanent place?  you have really good questions</z><z id="t1518976157" t="shaunlebron i noticed that our [:attrs {:href &quot;/_/_/users/U055W814A&quot;}] stopped logging our chats in november of last year 😞 https://clojurians-log.clojureverse.org/parinfer/index.html"><y>#</y><d>2018-02-18</d><h>17:49</h><w>shaunlebron</w>i noticed that our <a>@logbot</a> stopped logging our chats in november of last year <b>😞</b> <a href="https://clojurians-log.clojureverse.org/parinfer/index.html" target="_blank">https://clojurians-log.clojureverse.org/parinfer/index.html</a></z><z id="t1518976239" t="shaunlebron reported in #community-development"><y>#</y><d>2018-02-18</d><h>17:50</h><w>shaunlebron</w>reported in #community-development</z><z id="t1518976674" t="seancorfield [:attrs {:href &quot;/_/_/users/U055W814A&quot;}] is still logging everything. The website that displays the logs is broken. "><y>#</y><d>2018-02-18</d><h>17:57</h><w>seancorfield</w><a>@logbot</a> is still logging everything. The website that displays the logs is broken. </z><z id="t1518978422" t="shaunlebron i’m moving the discourse channel to http://talk.parinfer.io/"><y>#</y><d>2018-02-18</d><h>18:27</h><w>shaunlebron</w>i’m moving the discourse channel to <a href="http://talk.parinfer.io/" target="_blank">http://talk.parinfer.io/</a></z><z id="t1518978434" t="shaunlebron it’ll take a while"><y>#</y><d>2018-02-18</d><h>18:27</h><w>shaunlebron</w>it’ll take a while</z><z id="t1518978573" t="shaunlebron i decided against putting it in clojureverse since it won’t be clojure-specific in the future (cc: [:attrs {:href &quot;/_/_/users/U050TNB9F&quot;}] )"><y>#</y><d>2018-02-18</d><h>18:29</h><w>shaunlebron</w>i decided against putting it in clojureverse since it won’t be clojure-specific in the future (cc: <a>@martinklepsch</a> )</z><z id="t1518980473" t="martinklepsch If you did it to not shy away people not looking for Clojure specifically, makes perfect sense 👍 If you did it because you think it would not be appropriate on ClojureVerse long-term we could have talked about it beforehand 🙂"><y>#</y><d>2018-02-18</d><h>19:01</h><r>martinklepsch</r>If you did it to not shy away people not looking for Clojure specifically, makes perfect sense <b>👍</b>

If you did it because you think it would not be appropriate on ClojureVerse long-term we could have talked about it beforehand <b>🙂</b></z><z id="t1518988062" t="shaunlebron it doesn’t make sense for a racket user to ask questions about parinfer in clojureverse for example"><y>#</y><d>2018-02-18</d><h>21:07</h><r>shaunlebron</r>it doesn’t make sense for a racket user to ask questions about parinfer in clojureverse for example</z><z id="t1518994061" t="martinklepsch Yeah, that’s what I meant with the first, sounds sensible 🙂"><y>#</y><d>2018-02-18</d><h>22:47</h><r>martinklepsch</r>Yeah, that’s what I meant with the first, sounds sensible <b>🙂</b></z><z id="t1518998109" t="shaunlebron cool. i do like the idea of all clojure-related projects having discussions there. i’ll try to advocate for that when I see the opportunity"><y>#</y><d>2018-02-18</d><h>23:55</h><r>shaunlebron</r>cool.  i do like the idea of all clojure-related projects having discussions there.  i’ll try to advocate for that when I see the opportunity</z><z id="t1518992091" t="tianshu [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] Hi, i just had a sleep. I&apos;d like to move this stuff to a better place. "><y>#</y><d>2018-02-18</d><h>22:14</h><w>tianshu</w><a>@shaunlebron</a> Hi, i just had a sleep. I&apos;d like to move this stuff to a better place. 
</z><z id="t1518993936" t="tianshu just for this question, I noticed parinfer v1 has a option called preview cursor scope, I can&apos;t remember it very clearly. but I think it&apos;s when i delete the critical indent whitespace, the close paren will move up, and If I insert the whitespace, the close paren will come back. Is that true? If it is, why don&apos;t act like that? I&apos;ve been thinking for a while, because I write parinfer-mode with my understanding instead of port it function by funtion, I wonder if there&apos;s some serious rules here, so we can tell users how parinfer work in few semtences. "><y>#</y><d>2018-02-18</d><h>22:45</h><w>tianshu</w>just for this question, I noticed parinfer v1 has a option called preview cursor scope, I can&apos;t remember it very clearly. but I think it&apos;s when i delete the critical indent whitespace, the close paren will move up, and If I insert the whitespace, the close paren will come back.

Is that true? If it is, why don&apos;t act like that? I&apos;ve been thinking for a while, because I write parinfer-mode with my understanding instead of port it function by funtion, I wonder if there&apos;s some serious rules here, so we can tell users how parinfer work in few semtences. </z><z id="t1518998858" t="shaunlebron previewCursorScope was sort of a failed experiment"><y>#</y><d>2018-02-19</d><h>00:07</h><w>shaunlebron</w><code>previewCursorScope</code> was sort of a failed experiment</z><z id="t1518999069" t="shaunlebron moving the cursor around had strange behavior when the only characters on a line were close-parens"><y>#</y><d>2018-02-19</d><h>00:11</h><w>shaunlebron</w>moving the cursor around had strange behavior when the only characters on a line were close-parens</z><z id="t1518999157" t="shaunlebron it didn’t feel right to have these visual indicators of scope follow the cursor around in the form of text that you couldn’t for example type after. it created a frustrating experience"><y>#</y><d>2018-02-19</d><h>00:12</h><w>shaunlebron</w>it didn’t feel right to have these visual indicators of scope follow the cursor around in the form of text that you couldn’t for example type after.  it created a frustrating experience</z><z id="t1518999221" t="shaunlebron what really sealed the deal in its removal was that it conflicted with how i resolved the leading close-paren problems—by running paren-mode when they were present"><y>#</y><d>2018-02-19</d><h>00:13</h><w>shaunlebron</w>what really sealed the deal in its removal was that it conflicted with how i resolved the leading close-paren problems—by running paren-mode when they were present</z><z id="t1518999934" t="shaunlebron besides, I really want indent guides to serve the use-cases that previewCursorScope was intended to solve"><y>#</y><d>2018-02-19</d><h>00:25</h><w>shaunlebron</w>besides, I really want indent guides to serve the use-cases that <code>previewCursorScope</code> was intended to solve</z><z id="t1519085121" t="shaunlebron 🔥 probably the most promising idea for Locus was just posted by [:attrs {:href &quot;/_/_/users/U072TLGJ2&quot;}] here https://twitter.com/spiralganglion/status/965731142996451329"><y>#</y><d>2018-02-20</d><h>00:05</h><w>shaunlebron</w><b>🔥</b> probably the most promising idea for Locus was just posted by <a>@ivanreese</a> here <a href="https://twitter.com/spiralganglion/status/965731142996451329" target="_blank">https://twitter.com/spiralganglion/status/965731142996451329</a></z><z id="t1519085155" t="shaunlebron you’ll have to read the discussion that follows for full context"><y>#</y><d>2018-02-20</d><h>00:05</h><w>shaunlebron</w>you’ll have to read the discussion that follows for full context</z><z id="t1519085175" t="shaunlebron looking forward to trying it out"><y>#</y><d>2018-02-20</d><h>00:06</h><w>shaunlebron</w>looking forward to trying it out</z><z id="t1519085223" t="shaunlebron (Locus is what I alluded to in my talk to help reading lisp, to complement how Parinfer helps writing lisp)"><y>#</y><d>2018-02-20</d><h>00:07</h><w>shaunlebron</w>(Locus is what I alluded to in my talk to help reading lisp, to complement how Parinfer helps writing lisp)</z><z id="t1519086275" t="spiralganglion swoon "><y>#</y><d>2018-02-20</d><h>00:24</h><w>spiralganglion</w> swoon </z><z id="t1519086375" t="spiralganglion [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] — It didn&apos;t occur to me to come by Slack until just now. I&apos;m here if you feel like hashing things out in a more verbose form, hah."><y>#</y><d>2018-02-20</d><h>00:26</h><w>spiralganglion</w><a>@shaunlebron</a> — It didn&apos;t occur to me to come by Slack until just now. I&apos;m here if you feel like hashing things out in a more verbose form, hah.</z><z id="t1519115013" t="dominicm I&apos;m apparently rate limited on Twitter..."><y>#</y><d>2018-02-20</d><h>08:23</h><w>dominicm</w>I&apos;m apparently rate limited on Twitter...</z><z id="t1519147688" t="shaunlebron ?"><y>#</y><d>2018-02-20</d><h>17:28</h><w>shaunlebron</w>?</z><z id="t1519148016" t="dominicm I couldn&apos;t view the tweet until late morning. It was odd."><y>#</y><d>2018-02-20</d><h>17:33</h><w>dominicm</w>I couldn&apos;t view the tweet until late morning. It was odd.</z><z id="t1519162518" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] You mentioned the other day that you saw bad performance with parinfer in the CLJS project in Cursive. I’m looking at it now and I’m not seeing that."><y>#</y><d>2018-02-20</d><h>21:35</h><w>cfleming</w><a>@shaunlebron</a> You mentioned the other day that you saw bad performance with parinfer in the CLJS project in Cursive. I’m looking at it now and I’m not seeing that.</z><z id="t1519162537" t="cfleming Were you doing anything specific? What were the performance issues you saw?"><y>#</y><d>2018-02-20</d><h>21:35</h><w>cfleming</w>Were you doing anything specific? What were the performance issues you saw?</z><z id="t1519164144" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : this is the video of the performance issue: https://www.youtube.com/watch?v=UBf56R1DTpM"><y>#</y><d>2018-02-20</d><h>22:02</h><w>shaunlebron</w><a>@cfleming</a>: this is the video of the performance issue: <a href="https://www.youtube.com/watch?v=UBf56R1DTpM" target="_blank">https://www.youtube.com/watch?v=UBf56R1DTpM</a></z><z id="t1519164365" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] Ok, thanks. I think that’s just an artifact of the fact that the highlighting is asychronous."><y>#</y><d>2018-02-20</d><h>22:06</h><w>cfleming</w><a>@shaunlebron</a> Ok, thanks. I think that’s just an artifact of the fact that the highlighting is asychronous.</z><z id="t1519164380" t="cfleming I don’t think I can do much with that, unfortunately."><y>#</y><d>2018-02-20</d><h>22:06</h><w>cfleming</w>I don’t think I can do much with that, unfortunately.</z><z id="t1519164411" t="shaunlebron not sure if you could see, so let me clarify"><y>#</y><d>2018-02-20</d><h>22:06</h><w>shaunlebron</w>not sure if you could see, so let me clarify</z><z id="t1519164424" t="shaunlebron i hit backspace on the red area to correct the indentation"><y>#</y><d>2018-02-20</d><h>22:07</h><w>shaunlebron</w>i hit backspace on the red area to correct the indentation</z><z id="t1519164445" t="shaunlebron and there was a ~1 second delay before it took effect"><y>#</y><d>2018-02-20</d><h>22:07</h><w>shaunlebron</w>and there was a ~1 second delay before it took effect</z><z id="t1519164567" t="cfleming Right, but I think that’s because the highlighting tasks are run asynchronously. That highlighting isn’t driven directly by changes in the editor. When the doc changes, IntelliJ then re-highlights the whole file, and the highlighting pass which adds those markers is run again, checks indentation over the whole file and adds markers where needed."><y>#</y><d>2018-02-20</d><h>22:09</h><w>cfleming</w>Right, but I think that’s because the highlighting tasks are run asynchronously. That highlighting isn’t driven directly by changes in the editor. When the doc changes, IntelliJ then re-highlights the whole file, and the highlighting pass which adds those markers is run again, checks indentation over the whole file and adds markers where needed.</z><z id="t1519164581" t="cfleming For such a big file, that can take a while."><y>#</y><d>2018-02-20</d><h>22:09</h><w>cfleming</w>For such a big file, that can take a while.</z><z id="t1519164634" t="shaunlebron you have an idea why you’re not seeing the same behavior on yours?"><y>#</y><d>2018-02-20</d><h>22:10</h><w>shaunlebron</w>you have an idea why you’re not seeing the same behavior on yours?</z><z id="t1519164652" t="cfleming It’s unfortunate, but trying to do it incrementally as the user is editing would be really complicated. I might be able to raise the priority of the highlighting task, I’m not sure."><y>#</y><d>2018-02-20</d><h>22:10</h><w>cfleming</w>It’s unfortunate, but trying to do it incrementally as the user is editing would be really complicated. I might be able to raise the priority of the highlighting task, I’m not sure.</z><z id="t1519164674" t="cfleming Let me check again. It may just be that I’m seeing what I expect, and you’re not seeing what you expect 🙂"><y>#</y><d>2018-02-20</d><h>22:11</h><w>cfleming</w>Let me check again. It may just be that I’m seeing what I expect, and you’re not seeing what you expect <b>🙂</b></z><z id="t1519164700" t="cfleming IntelliJ users are generally used to the highlighting not being immediate."><y>#</y><d>2018-02-20</d><h>22:11</h><w>cfleming</w>IntelliJ users are generally used to the highlighting not being immediate.</z><z id="t1519164713" t="shaunlebron but it’s not highlighting that’s slow"><y>#</y><d>2018-02-20</d><h>22:11</h><w>shaunlebron</w>but it’s not highlighting that’s slow</z><z id="t1519164721" t="shaunlebron i’m probably still misunderstanding"><y>#</y><d>2018-02-20</d><h>22:12</h><w>shaunlebron</w>i’m probably still misunderstanding</z><z id="t1519164792" t="cfleming You’re talking about the red markers being taken away when the indentation is corrected, right?"><y>#</y><d>2018-02-20</d><h>22:13</h><w>cfleming</w>You’re talking about the red markers being taken away when the indentation is corrected, right?</z><z id="t1519164802" t="shaunlebron I hit backspace here: |(foo) it takes ~1 second before I see: |(foo) "><y>#</y><d>2018-02-20</d><h>22:13</h><w>shaunlebron</w>I hit backspace here:

<pre>|(foo)
</pre>

it takes ~1 second before I see:

<pre>|(foo)
</pre></z><z id="t1519164821" t="cfleming So you’re talking about a delay for the actual text to be updated?"><y>#</y><d>2018-02-20</d><h>22:13</h><w>cfleming</w>So you’re talking about a delay for the actual text to be updated?</z><z id="t1519164874" t="shaunlebron yes"><y>#</y><d>2018-02-20</d><h>22:14</h><w>shaunlebron</w>yes</z><z id="t1519164883" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] : if you watch at 0:51 https://youtu.be/UBf56R1DTpM?t=51s"><y>#</y><d>2018-02-20</d><h>22:14</h><w>shaunlebron</w><a>@cfleming</a>: if you watch at 0:51 <a href="https://youtu.be/UBf56R1DTpM?t=51s" target="_blank">https://youtu.be/UBf56R1DTpM?t=51s</a></z><z id="t1519164896" t="shaunlebron i hit backspace, and it took a long time for it to take effect"><y>#</y><d>2018-02-20</d><h>22:14</h><w>shaunlebron</w>i hit backspace, and it took a long time for it to take effect</z><z id="t1519164906" t="cfleming Ok, then I don’t see that. I do see a delay for the marker to be removed, but the text moves immediately."><y>#</y><d>2018-02-20</d><h>22:15</h><w>cfleming</w>Ok, then I don’t see that. I do see a delay for the marker to be removed, but the text moves immediately.</z><z id="t1519164909" t="cfleming Ok, one sec"><y>#</y><d>2018-02-20</d><h>22:15</h><w>cfleming</w>Ok, one sec</z><z id="t1519165063" t="cfleming Yeah, I see that in that case, however it’s not parinfer-related, I also see that when parinfer is disabled."><y>#</y><d>2018-02-20</d><h>22:17</h><w>cfleming</w>Yeah, I see that in that case, however it’s not parinfer-related, I also see that when parinfer is disabled.</z><z id="t1519165145" t="cfleming It seems to be specific to the thing you did. So you hit backspace at the start of a line, and what IntelliJ does in that case is tries to be clever, and deletes the whitespace at the start of that line and puts the caret at the end of the previous line. I think that requires it to calculate formatting information, and I just think that’s slow on a file this big."><y>#</y><d>2018-02-20</d><h>22:19</h><w>cfleming</w>It seems to be specific to the thing you did. So you hit backspace at the start of a line, and what IntelliJ does in that case is tries to be clever, and deletes the whitespace at the start of that line and puts the caret at the end of the previous line. I think that requires it to calculate formatting information, and I just think that’s slow on a file this big.</z><z id="t1519165206" t="cfleming So if I type on that line, or just delete some normal whitespace that doesn’t require any formatting info, it’s fast."><y>#</y><d>2018-02-20</d><h>22:20</h><w>cfleming</w>So if I type on that line, or just delete some normal whitespace that doesn’t require any formatting info, it’s fast.</z><z id="t1519165258" t="shaunlebron so you can reproduce?"><y>#</y><d>2018-02-20</d><h>22:20</h><w>shaunlebron</w>so you can reproduce?</z><z id="t1519165262" t="cfleming Yes."><y>#</y><d>2018-02-20</d><h>22:21</h><w>cfleming</w>Yes.</z><z id="t1519165275" t="shaunlebron cool, same page now then"><y>#</y><d>2018-02-20</d><h>22:21</h><w>shaunlebron</w>cool, same page now then</z><z id="t1519165278" t="cfleming But I won’t investigate that as part of this change, since it’s not related to parinfer."><y>#</y><d>2018-02-20</d><h>22:21</h><w>cfleming</w>But I won’t investigate that as part of this change, since it’s not related to parinfer.</z><z id="t1519165330" t="cfleming I suspect my formatting model creation code could be faster (I need to switch to transducers rather than seqs), which would probably help that. Not having 11k line files would probably also help."><y>#</y><d>2018-02-20</d><h>22:22</h><w>cfleming</w>I suspect my formatting model creation code could be faster (I need to switch to transducers rather than seqs), which would probably help that. Not having 11k line files would probably also help.</z><z id="t1519165412" t="cfleming Re: the other feedback, as we discussed F2 is standard in IntelliJ and does find those markers. One issue with that though is that the markers are set to have warning level. The way that F2 works is it finds things in order of priority - if you have error level markers then it’ll only cycle through those, then all the warnings etc."><y>#</y><d>2018-02-20</d><h>22:23</h><w>cfleming</w>Re: the other feedback, as we discussed F2 is standard in IntelliJ and does find those markers. One issue with that though is that the markers are set to have warning level. The way that F2 works is it finds things in order of priority - if you have error level markers then it’ll only cycle through those, then all the warnings etc.</z><z id="t1519165452" t="cfleming So in that file, it takes a while to find the indentation issues because they get buried in all the unused symbols etc."><y>#</y><d>2018-02-20</d><h>22:24</h><w>cfleming</w>So in that file, it takes a while to find the indentation issues because they get buried in all the unused symbols etc.</z><z id="t1519165499" t="cfleming Similarly with the gutter markers - the indentation ones do appear there, but not in red since that’s the colour for error level markers. They’re there in yellow, but they get drowned out by all the other crap in that file."><y>#</y><d>2018-02-20</d><h>22:24</h><w>cfleming</w>Similarly with the gutter markers - the indentation ones do appear there, but not in red since that’s the colour for error level markers. They’re there in yellow, but they get drowned out by all the other crap in that file.</z><z id="t1519165541" t="cfleming Again, because the file is enormous, all the warning markers in the file get compressed into the single gutter space. It’s not ideal in this case, but I can’t change it easily."><y>#</y><d>2018-02-20</d><h>22:25</h><w>cfleming</w>Again, because the file is enormous, all the warning markers in the file get compressed into the single gutter space. It’s not ideal in this case, but I can’t change it easily.</z><z id="t1519165604" t="cfleming I don’t want to give those markers higher priority, because they’re not actually errors. If people start reporting this as an issue, I’ll think about a specific “Jump to indentation problem” action."><y>#</y><d>2018-02-20</d><h>22:26</h><w>cfleming</w>I don’t want to give those markers higher priority, because they’re not actually errors. If people start reporting this as an issue, I’ll think about a specific “Jump to indentation problem” action.</z><z id="t1519165729" t="cfleming Hopefully finding them also won’t be an issue if I only run over affected top-level forms, since you’ll only have to correct indentation where you’re actually working anyway."><y>#</y><d>2018-02-20</d><h>22:28</h><w>cfleming</w>Hopefully finding them also won’t be an issue if I only run over affected top-level forms, since you’ll only have to correct indentation where you’re actually working anyway.</z><z id="t1519274142" t="Drew Verlee i’m embarrassed to ask, whats the best way to use parinfer with spacemacs/emacs at the moment? I feel like there is a spacemacs layer, but its in dev. Which i’m not sure how easy it is to switch to…"><y>#</y><d>2018-02-22</d><h>04:35</h><w>Drew Verlee</w>i’m embarrassed to ask, whats the best way to use parinfer with spacemacs/emacs at the moment? I feel like there is a spacemacs layer, but its in dev. Which i’m not sure how easy it is to switch to…</z><z id="t1519295391" t="tianshu [:attrs {:href &quot;/_/_/users/U0DJ4T5U1&quot;}] emacs or spacemacs? there&apos;s a parinfer-mode you can use in emacs."><y>#</y><d>2018-02-22</d><h>10:29</h><w>tianshu</w><a>@drewverlee</a> emacs or spacemacs? there&apos;s a parinfer-mode you can use in emacs.</z><z id="t1519295456" t="tianshu currently I&apos;m still working om the smart mode of parinfer."><y>#</y><d>2018-02-22</d><h>10:30</h><w>tianshu</w>currently I&apos;m still working om the smart mode of parinfer.</z><z id="t1519304803" t="Drew Verlee Spacemacs, I assumed the solution would be the same"><y>#</y><d>2018-02-22</d><h>13:06</h><w>Drew Verlee</w>Spacemacs, I assumed the solution would be the same</z><z id="t1519309721" t="justinbarclay I don’t use Spacemacs, but I do know that it’s opinionated in how it loads its config. But by looking at the clojure ‘layer’ https://github.com/syl20bnr/spacemacs/blob/master/layers/%2Blang/clojure/packages.el It looks like you can just use the use-package function provided on the github page. https://github.com/DogLooksGood/parinfer-mode"><y>#</y><d>2018-02-22</d><h>14:28</h><r>justinbarclay</r>I don’t use Spacemacs, but I do know that it’s opinionated in how it loads its config.
But by looking at the clojure ‘layer’ <a href="https://github.com/syl20bnr/spacemacs/blob/master/layers/%2Blang/clojure/packages.el" target="_blank">https://github.com/syl20bnr/spacemacs/blob/master/layers/%2Blang/clojure/packages.el</a>

It looks like you can just use the <code>use-package</code> function provided on the github page. <a href="https://github.com/DogLooksGood/parinfer-mode" target="_blank">https://github.com/DogLooksGood/parinfer-mode</a></z><z id="t1519309926" t="justinbarclay Looking at the Spacemacs Clojure file, you might want to turn off Smartparens as well when you turn on Parinfer."><y>#</y><d>2018-02-22</d><h>14:32</h><r>justinbarclay</r>Looking at the Spacemacs Clojure file, you might want to turn off Smartparens as well when you turn on Parinfer.</z><z id="t1519366416" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0DJ4T5U1&quot;}] that’s a good question"><y>#</y><d>2018-02-23</d><h>06:13</h><w>shaunlebron</w><a>@drewverlee</a> that’s a good question</z><z id="t1519366502" t="shaunlebron tianshu’s plugin is the most active: https://github.com/DogLooksGood/parinfer-mode and I believe it’s the only one porting over the new v3 stuff"><y>#</y><d>2018-02-23</d><h>06:15</h><w>shaunlebron</w>tianshu’s plugin is the most active: <a href="https://github.com/DogLooksGood/parinfer-mode" target="_blank">https://github.com/DogLooksGood/parinfer-mode</a> and I believe it’s the only one porting over the new v3 stuff</z></g><g id="s21"><z id="t1519366635" t="shaunlebron spacemacs has parinfer in its dev branch, and it uses tianshu’s plugin (parinfer v1 i believe): https://github.com/syl20bnr/spacemacs/tree/develop/layers/%2Bmisc/parinfer"><y>#</y><d>2018-02-23</d><h>06:17</h><w>shaunlebron</w>spacemacs has parinfer in its dev branch, and it uses tianshu’s plugin (parinfer v1 i believe): <a href="https://github.com/syl20bnr/spacemacs/tree/develop/layers/%2Bmisc/parinfer" target="_blank">https://github.com/syl20bnr/spacemacs/tree/develop/layers/%2Bmisc/parinfer</a></z><z id="t1519452526" t="tianshu Once parinfer-smart is stable, I&apos;ll update the parinfer-layer in spacemacs."><y>#</y><d>2018-02-24</d><h>06:08</h><w>tianshu</w>Once <code>parinfer-smart</code> is stable, I&apos;ll update the <code>parinfer-layer</code> in spacemacs.</z><z id="t1519582537" t="Drew Verlee That would be awesome! "><y>#</y><d>2018-02-25</d><h>18:15</h><r>Drew Verlee</r>That would be awesome! </z><z id="t1519452564" t="tianshu [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] what&apos;s the progress with allowing leading close paren after an indented comment line?"><y>#</y><d>2018-02-24</d><h>06:09</h><w>tianshu</w><a>@shaunlebron</a> what&apos;s the progress with allowing leading close paren after an indented comment line?</z><z id="t1519515184" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0NBGRGD6&quot;}] thanks for asking"><y>#</y><d>2018-02-24</d><h>23:33</h><w>shaunlebron</w><a>@doglooksgood</a> thanks for asking</z><z id="t1519515201" t="shaunlebron i have not made progress on it since august"><y>#</y><d>2018-02-24</d><h>23:33</h><w>shaunlebron</w>i have not made progress on it since august</z><z id="t1519515230" t="shaunlebron i will have to revisit https://github.com/shaunlebron/parinfer/pull/175 to remember how far along I was"><y>#</y><d>2018-02-24</d><h>23:33</h><w>shaunlebron</w>i will have to revisit <a href="https://github.com/shaunlebron/parinfer/pull/175" target="_blank">https://github.com/shaunlebron/parinfer/pull/175</a> to remember how far along I was</z><z id="t1519515293" t="shaunlebron i’ll have to do a major version increment for that, so it’ll be v4"><y>#</y><d>2018-02-24</d><h>23:34</h><w>shaunlebron</w>i’ll have to do a major version increment for that, so it’ll be v4</z><z id="t1520263886" t="eraserhd The reasons are probably not good ones, though. Just my eternal dissatisfaction with my Vim setup for Clojure."><y>#</y><d>2018-03-05</d><h>15:31</h><w>eraserhd</w>The reasons are probably not good ones, though.  Just my eternal dissatisfaction with my Vim setup for Clojure.</z><z id="t1520263937" t="eraserhd I&apos;m maybe 1/5th of the way through the first pass, which is really just a transliteration into Rust, where types permit."><y>#</y><d>2018-03-05</d><h>15:32</h><w>eraserhd</w>I&apos;m maybe 1/5th of the way through the first pass, which is really just a transliteration into Rust, where types permit.</z><z id="t1520274309" t="justinlee wait maybe i’m dense, but how did your dissatisfaction with your vim setup result in your porting parinfer to rust"><y>#</y><d>2018-03-05</d><h>18:25</h><w>justinlee</w>wait maybe i’m dense, but how did your dissatisfaction with your vim setup result in your porting parinfer to rust</z><z id="t1520276083" t="eraserhd I have been using the nvim parinfer, and it has been working really well for me, except that I&apos;ve continually have had to do a six-step manual process to get my plugins to register."><y>#</y><d>2018-03-05</d><h>18:54</h><w>eraserhd</w>I have been using the nvim parinfer, and it has been working really well for me, except that I&apos;ve continually have had to do a six-step manual process to get my plugins to register.</z><z id="t1520276129" t="eraserhd This has worked... it is a work around for the fact that the node host just dies if you have more than one node plugin. It&apos;s been an open issue forever."><y>#</y><d>2018-03-05</d><h>18:55</h><w>eraserhd</w>This has worked... it is a work around for the fact that the node host just dies if you have more than one node plugin.  It&apos;s been an open issue forever.</z><z id="t1520276181" t="eraserhd But last time, I couldn&apos;t get it to work at all, even with manual registration. I&apos;m kind of frustrated with that whole hosting thing."><y>#</y><d>2018-03-05</d><h>18:56</h><w>eraserhd</w>But last time, I couldn&apos;t get it to work at all, even with manual registration.  I&apos;m kind of frustrated with that whole hosting thing.</z><z id="t1520276230" t="eraserhd So I kind of just burned it down and went back to plain Vim. They now have a terminal, and Bram is super responsive on fixes and new features now (I don&apos;t know if there was a time when he wasn&apos;t.)"><y>#</y><d>2018-03-05</d><h>18:57</h><w>eraserhd</w>So I kind of just burned it down and went back to plain Vim.  They now have a terminal, and Bram is super responsive on fixes and new features now (I don&apos;t know if there was a time when he wasn&apos;t.)</z><z id="t1520276276" t="eraserhd So then I found oakmac&apos;s port of parinfer to VimL and started using that. It&apos;s kind of nice, except that I have to wait six or seven seconds on particularly bad files after hitting Esc to get the cursor back."><y>#</y><d>2018-03-05</d><h>18:57</h><w>eraserhd</w>So then I found oakmac&apos;s port of parinfer to VimL and started using that.  It&apos;s kind of nice, except that I have to wait six or seven seconds on particularly bad files after hitting Esc to get the cursor back.</z><z id="t1520276291" t="eraserhd So... I optimized that down to 3 or four seconds and submitted a pull request."><y>#</y><d>2018-03-05</d><h>18:58</h><w>eraserhd</w>So... I optimized that down to 3 or four seconds and submitted a pull request.</z><z id="t1520276378" t="eraserhd They were talking about using the Python parinfer port if it&apos;s installed, falling back to VimL. But... I have been thinking about Vim 8&apos;s job control functions, being able to send JSON messages to an external program and get back JSON messages."><y>#</y><d>2018-03-05</d><h>18:59</h><w>eraserhd</w>They were talking about using the Python parinfer port if it&apos;s installed, falling back to VimL.  But... I have been thinking about Vim 8&apos;s job control functions, being able to send JSON messages to an external program and get back JSON messages.</z><z id="t1520276553" t="eraserhd But the kicker was that I once had a nice ruby plugin for C++ that kept my #include and #define&apos;s up-to-date, and namespace directives, and managed a library of stored code that it would paste in at the right spot if I called it. I used it when I used to compete at TopCoder to get the first submit on problems that were easy enough that you didn&apos;t have to find some kind of &quot;trick&quot;."><y>#</y><d>2018-03-05</d><h>19:02</h><w>eraserhd</w>But the kicker was that I once had a nice ruby plugin for C++ that kept my #include and #define&apos;s up-to-date, and namespace directives, and managed a library of stored code that it would paste in at the right spot if I called it.  I used it when I used to compete at TopCoder to get the first submit on problems that were easy enough that you didn&apos;t have to find some kind of &quot;trick&quot;.</z><z id="t1520276602" t="eraserhd And I realized that I could add a lot of the IDE-like functionality I&apos;ve wanted if I had a fast, testable, external process that opines on every edit."><y>#</y><d>2018-03-05</d><h>19:03</h><w>eraserhd</w>And I realized that I could add a lot of the IDE-like functionality I&apos;ve wanted if I had a fast, testable, external process that opines on every edit.</z><z id="t1520276709" t="eraserhd Automatically adding/removing requires, complete with :as , by finding what is required as what elsewhere in the project."><y>#</y><d>2018-03-05</d><h>19:05</h><w>eraserhd</w>Automatically adding/removing requires, complete with <code>:as</code>, by finding what is required as what elsewhere in the project.</z><z id="t1520276721" t="eraserhd Adding :refer-clojure when you define a name in clojure.core."><y>#</y><d>2018-03-05</d><h>19:05</h><w>eraserhd</w>Adding :refer-clojure when you define a name in clojure.core.</z><z id="t1520276777" t="eraserhd etc. whew... that was long winded 😄"><y>#</y><d>2018-03-05</d><h>19:06</h><w>eraserhd</w>etc.  whew... that was long winded <b>😄</b></z><z id="t1520277086" t="eraserhd (I&apos;ve since learned about Vim&apos;s libcall(), which would allow me to send and receive JSON messages in memory, with no wire overhead.)"><y>#</y><d>2018-03-05</d><h>19:11</h><w>eraserhd</w>(I&apos;ve since learned about Vim&apos;s libcall(), which would allow me to send and receive JSON messages in memory, with no wire overhead.)</z><z id="t1520277759" t="snoe parinfer.js is nice because many things can run js…but rust is maybe nicer with webasm and c targets which might cover everything (maybe even intellij / nightcode with jndi)."><y>#</y><d>2018-03-05</d><h>19:22</h><w>snoe</w>parinfer.js is nice because many things can run js…but rust is maybe nicer with webasm and c targets which might cover everything (maybe even intellij / nightcode with jndi).</z><z id="t1520277917" t="eraserhd Well, I make no claims that Rust is a good idea. I&apos;m using it for a bag of unrelated other reasons. Mostly, I didn&apos;t want to use C again, and I&apos;ve been telling myself that next time I&apos;m tempted to use C, I&apos;d learn Rust."><y>#</y><d>2018-03-05</d><h>19:25</h><w>eraserhd</w>Well, I make no claims that Rust is a good idea.  I&apos;m using it for a bag of unrelated other reasons.  Mostly, I didn&apos;t want to use C again, and I&apos;ve been telling myself that next time I&apos;m tempted to use C, I&apos;d learn Rust.</z><z id="t1520277958" t="eraserhd I&apos;ve been repeatedly pleasantly surprised at its ergonomics and design choices, though."><y>#</y><d>2018-03-05</d><h>19:25</h><w>eraserhd</w>I&apos;ve been repeatedly pleasantly surprised at its ergonomics and design choices, though.</z><z id="t1520278069" t="eraserhd I do wonder if there are any editors aside from Vim left that are written in C. I mean, emacs, probably, but it has elisp."><y>#</y><d>2018-03-05</d><h>19:27</h><w>eraserhd</w>I do wonder if there are any editors aside from Vim left that are written in C.  I mean, emacs, probably, but it has elisp.</z><z id="t1520280181" t="dominicm [:attrs {:href &quot;/_/_/users/U0ECYL0ET&quot;}] this sounds great, want to follow this!"><y>#</y><d>2018-03-05</d><h>20:03</h><w>dominicm</w><a>@eraserhd</a> this sounds great, want to follow this!</z><z id="t1520288029" t="eraserhd Today&apos;s progress: 27 of 73 functions converted."><y>#</y><d>2018-03-05</d><h>22:13</h><w>eraserhd</w>Today&apos;s progress: 27 of 73 functions converted.</z><z id="t1520288618" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0ECYL0ET&quot;}] 🎉"><y>#</y><d>2018-03-05</d><h>22:23</h><w>shaunlebron</w><a>@eraserhd</a> <b>🎉</b></z><z id="t1520288677" t="shaunlebron i don’t know much about rust and why it is conducive to compiling to wasm, so I wonder if this could help compile to other targets"><y>#</y><d>2018-03-05</d><h>22:24</h><w>shaunlebron</w>i don’t know much about rust and why it is conducive to compiling to wasm, so I wonder if this could help compile to other targets</z><z id="t1520288701" t="shaunlebron do you have a repo we can follow?"><y>#</y><d>2018-03-05</d><h>22:25</h><w>shaunlebron</w>do you have a repo we can follow?</z><z id="t1520309652" t="tianshu emacs can use the rust port. it&apos;s a good news"><y>#</y><d>2018-03-06</d><h>04:14</h><w>tianshu</w>emacs can use the rust port. it&apos;s a good news</z><z id="t1520343870" t="eraserhd Oh, let me push what I have so far."><y>#</y><d>2018-03-06</d><h>13:44</h><w>eraserhd</w>Oh, let me push what I have so far.</z><z id="t1520344047" t="eraserhd https://github.com/eraserhd/parinfer-rust"><y>#</y><d>2018-03-06</d><h>13:47</h><w>eraserhd</w><a href="https://github.com/eraserhd/parinfer-rust" target="_blank">https://github.com/eraserhd/parinfer-rust</a></z><z id="t1520344113" t="eraserhd The only interesting deviation so far is that I renamed Result to State, because Result&lt;&gt; is Rust&apos;s way of handling functions which can fail."><y>#</y><d>2018-03-06</d><h>13:48</h><w>eraserhd</w>The only interesting deviation so far is that I renamed Result to State, because Result&lt;&gt; is Rust&apos;s way of handling functions which can fail.</z><z id="t1520346857" t="eraserhd [:attrs {:href &quot;/_/_/users/U0NBGRGD6&quot;}] How can emacs use it? By dynamic loading?"><y>#</y><d>2018-03-06</d><h>14:34</h><w>eraserhd</w><a>@doglooksgood</a> How can emacs use it?  By dynamic loading?</z><z id="t1520347843" t="tianshu [:attrs {:href &quot;/_/_/users/U0ECYL0ET&quot;}] Yes, Emacs has a feature called dynamic module."><y>#</y><d>2018-03-06</d><h>14:50</h><w>tianshu</w><a>@eraserhd</a> Yes, Emacs has a feature called dynamic module.</z><z id="t1520348202" t="tianshu a few days ago, I was trying to port parinfer to rust, but give up. rust is too hard for me."><y>#</y><d>2018-03-06</d><h>14:56</h><w>tianshu</w>a few days ago, I was trying to port parinfer to rust, but give up. rust is too hard for me.</z><z id="t1520348231" t="eraserhd Oh!"><y>#</y><d>2018-03-06</d><h>14:57</h><w>eraserhd</w>Oh!</z><z id="t1520348312" t="eraserhd Well, contributions are welcome, as well as questions or discussion or what not."><y>#</y><d>2018-03-06</d><h>14:58</h><w>eraserhd</w>Well, contributions are welcome, as well as questions or discussion or what not.</z><z id="t1520348555" t="tianshu When this port is done, I want to try it with emacs."><y>#</y><d>2018-03-06</d><h>15:02</h><w>tianshu</w>When this port is done, I want to try it with emacs.</z><z id="t1520348575" t="tianshu It should be much faster than the elisp version I think."><y>#</y><d>2018-03-06</d><h>15:02</h><w>tianshu</w>It should be much faster than the elisp version I think.</z><z id="t1520390257" t="eraserhd Down to 27 unimplemented functions. Of course, I did the easy ones first. So, goodnight! Perhaps tomorrow I&apos;ll be able to run it for the first time."><y>#</y><d>2018-03-07</d><h>02:37</h><w>eraserhd</w>Down to 27 unimplemented functions.  Of course, I did the easy ones first.  So, goodnight!  Perhaps tomorrow I&apos;ll be able to run it for the first time.</z><z id="t1520516065" t="eraserhd Down to 22."><y>#</y><d>2018-03-08</d><h>13:34</h><w>eraserhd</w>Down to 22.</z><z id="t1520688928" t="eraserhd OK, back to work on this. 15 left."><y>#</y><d>2018-03-10</d><h>13:35</h><w>eraserhd</w>OK, back to work on this.  15 left.</z><z id="t1520694038" t="eraserhd 10"><y>#</y><d>2018-03-10</d><h>15:00</h><w>eraserhd</w>10</z><z id="t1520701933" t="eraserhd 3"><y>#</y><d>2018-03-10</d><h>17:12</h><w>eraserhd</w>3</z><z id="t1520702657" t="justinbarclay You are on fire this morning!"><y>#</y><d>2018-03-10</d><h>17:24</h><r>justinbarclay</r>You are on fire this morning!</z><z id="t1520703588" t="eraserhd 2"><y>#</y><d>2018-03-10</d><h>17:39</h><w>eraserhd</w>2</z><z id="t1520707507" t="eraserhd 1"><y>#</y><d>2018-03-10</d><h>18:45</h><w>eraserhd</w>1</z><z id="t1520707816" t="dominicm 0?"><y>#</y><d>2018-03-10</d><h>18:50</h><w>dominicm</w>0?</z><z id="t1520707825" t="dominicm Oh, that&apos;s the time."><y>#</y><d>2018-03-10</d><h>18:50</h><w>dominicm</w>Oh, that&apos;s the time.</z><z id="t1520707832" t="dominicm I&apos;ll be more patient."><y>#</y><d>2018-03-10</d><h>18:50</h><w>dominicm</w>I&apos;ll be more patient.</z><z id="t1520708695" t="justinlee …unfortunately it turns out that the last function is a 10,000 line state machine written in fortran-77"><y>#</y><d>2018-03-10</d><h>19:04</h><w>justinlee</w>…unfortunately it turns out that the last function is a 10,000 line state machine written in fortran-77</z><z id="t1520720989" t="dominicm It&apos;s a JavaScript interpreter that runs the original parinfer.js 😛"><y>#</y><d>2018-03-10</d><h>22:29</h><w>dominicm</w>It&apos;s a JavaScript interpreter that runs the original parinfer.js <b>😛</b></z><z id="t1520729751" t="eraserhd haha. No, it&apos;s a logarithmic function. 1.5, then 1.25, then 1.125..."><y>#</y><d>2018-03-11</d><h>00:55</h><w>eraserhd</w>haha.  No, it&apos;s a logarithmic function.  1.5, then 1.25, then 1.125...</z><z id="t1520729854" t="eraserhd I ended up missing some, restructuring some things for rust, and I still have one function left. But it&apos;s only used for paren mode. And since I still haven&apos;t run any of the code, I&apos;m now going to write a little driver and or port the test driver, so that I can see whether it works"><y>#</y><d>2018-03-11</d><h>00:57</h><w>eraserhd</w>I ended up missing some, restructuring some things for rust, and I still have one function left.  But it&apos;s only used for paren mode.  And since I still haven&apos;t run any of the code, I&apos;m now going to write a little driver and or port the test driver, so that I can see whether it works</z><z id="t1520790932" t="eraserhd All indent mode tests produce the correct output text. (Not checking tab stops or anything else yet.)"><y>#</y><d>2018-03-11</d><h>17:55</h><w>eraserhd</w>All indent mode tests produce the correct output text.  (Not checking tab stops or anything else yet.)</z><z id="t1520794313" t="dominicm This is really cool. [:attrs {:href &quot;/_/_/users/U0ECYL0ET&quot;}] do you have smart mode?"><y>#</y><d>2018-03-11</d><h>18:51</h><w>dominicm</w>This is really cool. <a>@eraserhd</a> do you have smart mode?</z><z id="t1520796201" t="eraserhd Not yet. As of right now, indent mode is finished and passing 100% of tests."><y>#</y><d>2018-03-11</d><h>19:23</h><w>eraserhd</w>Not yet.  As of right now, indent mode is finished and passing 100% of tests.</z><z id="t1520796206" t="eraserhd Now on to paren mode!"><y>#</y><d>2018-03-11</d><h>19:23</h><w>eraserhd</w>Now on to paren mode!</z><z id="t1520796246" t="eraserhd (Most of the code for that path has been done, just to make the tests work.)"><y>#</y><d>2018-03-11</d><h>19:24</h><w>eraserhd</w>(Most of the code for that path has been done, just to make the tests work.)</z><z id="t1520796388" t="eraserhd I think I&apos;m going to keep it non-idiomatic rust so that it can be kept in sync with the JavaScript."><y>#</y><d>2018-03-11</d><h>19:26</h><w>eraserhd</w>I think I&apos;m going to keep it non-idiomatic rust so that it can be kept in sync with the JavaScript.</z><z id="t1520799866" t="eraserhd Paren mode tests passing!"><y>#</y><d>2018-03-11</d><h>20:24</h><w>eraserhd</w>Paren mode tests passing!</z><z id="t1520815742" t="eraserhd And smart mode is all green"><y>#</y><d>2018-03-12</d><h>00:49</h><w>eraserhd</w>And smart mode is all green</z><z id="t1520815902" t="eraserhd OK, this week, I need to write a small bit of Rust glue code so Vim can call it, and the Vim script to respond to changes. Hurrah!"><y>#</y><d>2018-03-12</d><h>00:51</h><w>eraserhd</w>OK, this week, I need to write a small bit of Rust glue code so Vim can call it, and the Vim script to respond to changes.  Hurrah!</z><z id="t1520816885" t="cfleming [:attrs {:href &quot;/_/_/users/U0ECYL0ET&quot;}] That is awesome! I’m looking forward to seeing your port."><y>#</y><d>2018-03-12</d><h>01:08</h><w>cfleming</w><a>@eraserhd</a> That is awesome! I’m looking forward to seeing your port.</z><z id="t1520816969" t="eraserhd There&apos;s a link above. Haven&apos;t documented it yet though."><y>#</y><d>2018-03-12</d><h>01:09</h><w>eraserhd</w>There&apos;s a link above.  Haven&apos;t documented it yet though.</z><z id="t1520826776" t="tianshu Great!"><y>#</y><d>2018-03-12</d><h>03:52</h><w>tianshu</w>Great!</z><z id="t1520858603" t="tianshu I think I can use it in emacs soon "><y>#</y><d>2018-03-12</d><h>12:43</h><w>tianshu</w>I think I can use it in emacs soon
</z><z id="t1520858641" t="tianshu [:attrs {:href &quot;/_/_/users/U0ECYL0ET&quot;}] how about the performance?"><y>#</y><d>2018-03-12</d><h>12:44</h><w>tianshu</w><a>@eraserhd</a> how about the performance?</z><z id="t1520858661" t="tianshu you can test it on a long file"><y>#</y><d>2018-03-12</d><h>12:44</h><w>tianshu</w>you can test it on a long file</z><z id="t1520859308" t="eraserhd I&apos;ll try later today. It seems snappy."><y>#</y><d>2018-03-12</d><h>12:55</h><w>eraserhd</w>I&apos;ll try later today.  It seems snappy.</z><z id="t1520872828" t="snoe I think smart mode refers to the demo from https://www.youtube.com/watch?v=K0Tsa3smr1w that might only be available on Shaun’s patreon"><y>#</y><d>2018-03-12</d><h>16:40</h><w>snoe</w>I think smart mode refers to the demo from <a href="https://www.youtube.com/watch?v=K0Tsa3smr1w" target="_blank">https://www.youtube.com/watch?v=K0Tsa3smr1w</a> that might only be available on Shaun’s patreon</z><z id="t1520981106" t="eraserhd Whew! Figuring out the rust FFI was rough. Now have a very basic, not useful wrapper. But at least it doesn&apos;t segfault."><y>#</y><d>2018-03-13</d><h>22:45</h><w>eraserhd</w>Whew!  Figuring out the rust FFI was rough.  Now have a very basic, not useful wrapper.  But at least it doesn&apos;t segfault.</z><z id="t1520985046" t="eraserhd [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] Do you mind if I steal the vimscript from nvim-parinfer.js? I give you credits, obvs."><y>#</y><d>2018-03-13</d><h>23:50</h><w>eraserhd</w><a>@snoe</a> Do you mind if I steal the vimscript from nvim-parinfer.js?  I give you credits, obvs.</z><z id="t1520985120" t="eraserhd oh, I didn&apos;t realize how little there was. 🙂"><y>#</y><d>2018-03-13</d><h>23:52</h><w>eraserhd</w>oh, I didn&apos;t realize how little there was. <b>🙂</b></z><z id="t1521000556" t="snoe [:attrs {:href &quot;/_/_/users/U0ECYL0ET&quot;}] go for it."><y>#</y><d>2018-03-14</d><h>04:09</h><w>snoe</w><a>@eraserhd</a> go for it.</z><z id="t1521026046" t="misha [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] can barely move cursor in parinfer-codemirror in ~300 lines of pretty printed 2-3 level deep map :( it looks like it is being called on cursor move rather than on text change."><y>#</y><d>2018-03-14</d><h>11:14</h><w>misha</w><a>@shaunlebron</a> can barely move cursor in <code>parinfer-codemirror</code> in ~300 lines of pretty printed 2-3 level deep map :(
it looks like it is being called on cursor move rather than on text change.</z><z id="t1521026128" t="misha any mode, the latest cljsjs parinfer and codemirror"><y>#</y><d>2018-03-14</d><h>11:15</h><w>misha</w>any mode, the latest cljsjs parinfer and codemirror</z><z id="t1521026276" t="misha actual editing stutters even on 2 short lines."><y>#</y><d>2018-03-14</d><h>11:17</h><w>misha</w>actual editing stutters even on 2 short lines.</z><z id="t1521038788" t="eraserhd Successfully called the function from Vim!"><y>#</y><d>2018-03-14</d><h>14:46</h><w>eraserhd</w>Successfully called the function from Vim!</z><z id="t1521041673" t="eraserhd And, it works. Rudimentary README with installation instructions for Vim. https://github.com/eraserhd/parinfer-rust"><y>#</y><d>2018-03-14</d><h>15:34</h><w>eraserhd</w>And, it works.  Rudimentary README with installation instructions for Vim. <a href="https://github.com/eraserhd/parinfer-rust" target="_blank">https://github.com/eraserhd/parinfer-rust</a></z><z id="t1521041756" t="eraserhd It seems to have trouble with some files. This might be errors in my porting. I&apos;ll be dogfooding from now on 🙂"><y>#</y><d>2018-03-14</d><h>15:35</h><w>eraserhd</w>It seems to have trouble with some files.  This might be errors in my porting.  I&apos;ll be dogfooding from now on <b>🙂</b></z><z id="t1521043568" t="eraserhd Ah, it has trouble with unicode characters."><y>#</y><d>2018-03-14</d><h>16:06</h><w>eraserhd</w>Ah, it has trouble with unicode characters.</z><z id="t1521046107" t="eraserhd There are some unhandled corner cases with unicode characters, but with the last commit, it works."><y>#</y><d>2018-03-14</d><h>16:48</h><w>eraserhd</w>There are some unhandled corner cases with unicode characters, but with the last commit, it works.</z><z id="t1521054772" t="eraserhd Hey, so I optimized the Vimscript a bit, and now the file which was failing, which is the worst file I have to deal with, responds as fast as any other Vim command. Feels like there&apos;s no penalty for running it."><y>#</y><d>2018-03-14</d><h>19:12</h><w>eraserhd</w>Hey, so I optimized the Vimscript a bit, and now the file which was failing, which is the worst file I have to deal with, responds as fast as any other Vim command.  Feels like there&apos;s no penalty for running it.</z><z id="t1521054990" t="justinlee okay next step is to compile it to wasm and see if it is faster than the native atom version 😛"><y>#</y><d>2018-03-14</d><h>19:16</h><w>justinlee</w>okay next step is to compile it to wasm and see if it is faster than the native atom version <b>😛</b></z><z id="t1521055023" t="justinlee for the true ouroboros experience"><y>#</y><d>2018-03-14</d><h>19:17</h><w>justinlee</w>for the true ouroboros experience</z><z id="t1521055034" t="justinbarclay Well I mean thats the second step, the first one is getting it working in Emacs &lt;_&lt;;"><y>#</y><d>2018-03-14</d><h>19:17</h><w>justinbarclay</w>Well I mean thats the second step, the first one is getting it working in Emacs &lt;_&lt;;</z><z id="t1521055775" t="eraserhd I have no clue how emacs plugins work; however, I would welcome emacs glue code in that repo if it&apos;s useful."><y>#</y><d>2018-03-14</d><h>19:29</h><w>eraserhd</w>I have no clue how emacs plugins work; however, I would welcome emacs glue code in that repo if it&apos;s useful.</z><z id="t1521055861" t="eraserhd ha, I guess I still have emacs installed. I used to use it for Proof General."><y>#</y><d>2018-03-14</d><h>19:31</h><w>eraserhd</w>ha, I guess I still have emacs installed.  I used to use it for Proof General.</z><z id="t1521062717" t="dominicm And then we can run the wasm on neovim-node"><y>#</y><d>2018-03-14</d><h>21:25</h><w>dominicm</w>And then we can run the wasm on neovim-node</z><z id="t1521062746" t="dominicm Then we can run that inside project Detroit..."><y>#</y><d>2018-03-14</d><h>21:25</h><w>dominicm</w>Then we can run that inside project Detroit...</z><z id="t1521062763" t="snoe [:attrs {:href &quot;/_/_/users/U0ECYL0ET&quot;}] what version of rust did you target?"><y>#</y><d>2018-03-14</d><h>21:26</h><w>snoe</w><a>@eraserhd</a> what version of rust did you target?</z><z id="t1521062914" t="eraserhd I think I just installed it last week. I didn&apos;t look at the version. I didn&apos;t use anything unstable."><y>#</y><d>2018-03-14</d><h>21:28</h><w>eraserhd</w>I think I just installed it last week.  I didn&apos;t look at the version.  I didn&apos;t use anything unstable.</z><z id="t1521062942" t="snoe k, I was still on some 1.19 version, just updated to lastest stable and it built"><y>#</y><d>2018-03-14</d><h>21:29</h><w>snoe</w>k, I was still on some 1.19 version, just updated to lastest stable and it built</z><z id="t1521062952" t="eraserhd Oh, it just occurred to me that it makes the assumption that dynamic libraries end in dylib."><y>#</y><d>2018-03-14</d><h>21:29</h><w>eraserhd</w>Oh, it just occurred to me that it makes the assumption that dynamic libraries end in dylib.</z><z id="t1521063261" t="snoe it works great! Still laggy around the bottom of clojure/core.clj but obviously that’s worse case."><y>#</y><d>2018-03-14</d><h>21:34</h><w>snoe</w>it works great! Still laggy around the bottom of clojure/core.clj but obviously that’s worse case.</z><z id="t1521063387" t="snoe I think in the early days [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] might have made an edit to the official lib for atom that assumes the start of a sexp is on the first column."><y>#</y><d>2018-03-14</d><h>21:36</h><w>snoe</w>I think in the early days <a>@chrisoakman</a> might have made an edit to the official lib for atom that assumes the start of a sexp is on the first column.</z><z id="t1521064354" t="eraserhd I saw that on the vim-parinfer plugin, but it messed me up in a file with a multi-line string that continued in column 1."><y>#</y><d>2018-03-14</d><h>21:52</h><w>eraserhd</w>I saw that on the vim-parinfer plugin, but it messed me up in a file with a multi-line string that continued in column 1.</z><z id="t1521065489" t="dominicm [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] I think, while that&apos;s still in place, it&apos;s not considered to have a noticeable effect, given how fast parinfer is."><y>#</y><d>2018-03-14</d><h>22:11</h><w>dominicm</w><a>@snoe</a> I think, while that&apos;s still in place, it&apos;s not considered to have a noticeable effect, given how fast parinfer is.</z><z id="t1521065571" t="dominicm Are there benchmarks for those using other parinfer implementations with clojure/core.clj? I would expect rust to be one of the fastest. I&apos;d be more inclined to blame slow read from the buffer than anything."><y>#</y><d>2018-03-14</d><h>22:12</h><w>dominicm</w>Are there benchmarks for those using other parinfer implementations with clojure/core.clj? I would expect rust to be one of the fastest.

I&apos;d be more inclined to blame slow read from the buffer than anything.</z><z id="t1521065605" t="dominicm There is something in neovim about being sent diffs of a buffer... If read is the issue, that could be a solution."><y>#</y><d>2018-03-14</d><h>22:13</h><w>dominicm</w>There is something in neovim about being sent diffs of a buffer... If read is the issue, that could be a solution.</z><z id="t1521065944" t="eraserhd I suspect the best indifferent there would be caching the state in a line by line basis and restarting fun the first changed line."><y>#</y><d>2018-03-14</d><h>22:19</h><w>eraserhd</w>I suspect the best indifferent there would be caching the state in a line by line basis and restarting fun the first changed line.</z><z id="t1521066093" t="eraserhd Oh. I guess yeah, buffer read."><y>#</y><d>2018-03-14</d><h>22:21</h><w>eraserhd</w>Oh.  I guess yeah, buffer read.</z><z id="t1521066115" t="snoe we had some timing logs in nvim-parinfer but this might be the only captured timings. Within the cljs code we were running 5-8 ms on parinfer 1.6.1 https://gist.github.com/djwhitt/81f99794aa0c35b521f6"><y>#</y><d>2018-03-14</d><h>22:21</h><w>snoe</w>we had some timing logs in nvim-parinfer but this might be the only captured timings. Within the cljs code we were running 5-8 ms on parinfer 1.6.1 <a href="https://gist.github.com/djwhitt/81f99794aa0c35b521f6" target="_blank">https://gist.github.com/djwhitt/81f99794aa0c35b521f6</a></z><z id="t1521066130" t="snoe “small/medium” file"><y>#</y><d>2018-03-14</d><h>22:22</h><w>snoe</w>“small/medium” file</z><z id="t1521072181" t="tianshu [:attrs {:href &quot;/_/_/users/U0ECYL0ET&quot;}] if it can process 3k loc in less than 10ms, I will port it to emacs. i&apos;m not sure about the tradeoff of the dynamic module in emacs, but i hope it is fast."><y>#</y><d>2018-03-15</d><h>00:03</h><w>tianshu</w><a>@eraserhd</a> if it can process 3k loc in less than 10ms, I will port it to emacs. i&apos;m not sure about the tradeoff of the dynamic module in emacs, but i hope it is fast.</z><z id="t1521074784" t="justinbarclay I&apos;m new to both Elisp and Rust... but if there is anything I can do to help with this port, I would love to try."><y>#</y><d>2018-03-15</d><h>00:46</h><r>justinbarclay</r>I&apos;m new to both Elisp and Rust... but if there is anything I can do to help with this port, I would love to try.</z><z id="t1521075536" t="eraserhd I&apos;m going to port the parinfer performance tests in the near future. Not feeling well enough this evening, tho. We&apos;ll see. I think there&apos;s probably plenty of room for optimization."><y>#</y><d>2018-03-15</d><h>00:58</h><r>eraserhd</r>I&apos;m going to port the parinfer performance tests in the near future.  Not feeling well enough this evening, tho.  We&apos;ll see.  I think there&apos;s probably plenty of room for optimization.</z><z id="t1521089196" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0ECYL0ET&quot;}] catching up on these, congrats and thanks for the port 🎉"><y>#</y><d>2018-03-15</d><h>04:46</h><w>shaunlebron</w><a>@eraserhd</a> catching up on these, congrats and thanks for the port <b>🎉</b></z><z id="t1521123865" t="eraserhd benchmarks: test bench_indent_long_map_with_strings ... bench: 253,694 ns/iter (+/- 28,165) test bench_indent_really_long_file ... bench: 4,843,581 ns/iter (+/- 487,407) test bench_indent_really_long_file_with_unclosed_paren ... bench: 4,726,135 ns/iter (+/- 490,493) test bench_indent_really_long_file_with_unclosed_quote ... bench: 4,717,151 ns/iter (+/- 343,240) test bench_paren_long_map_with_strings ... bench: 219,855 ns/iter (+/- 25,256) test bench_paren_really_long_file ... bench: 4,395,875 ns/iter (+/- 366,891) test bench_paren_really_long_file_with_unclosed_paren ... bench: 4,288,902 ns/iter (+/- 452,732) test bench_quote_really_long_file_with_unclosed_quote ... bench: 4,368,507 ns/iter (+/- 638,843) test bench_smart_long_map_with_strings ... bench: 255,331 ns/iter (+/- 30,632) test bench_smart_really_long_file ... bench: 4,803,301 ns/iter (+/- 448,064) test bench_smart_really_long_file_with_unclosed_paren ... bench: 4,802,458 ns/iter (+/- 668,362) test bench_smart_really_long_file_with_unclosed_quote ... bench: 4,713,028 ns/iter (+/- 1,180,312) "><y>#</y><d>2018-03-15</d><h>14:24</h><w>eraserhd</w>benchmarks: <pre>test bench_indent_long_map_with_strings                ... bench:     253,694 ns/iter (+/- 28,165)
test bench_indent_really_long_file                     ... bench:   4,843,581 ns/iter (+/- 487,407)
test bench_indent_really_long_file_with_unclosed_paren ... bench:   4,726,135 ns/iter (+/- 490,493)
test bench_indent_really_long_file_with_unclosed_quote ... bench:   4,717,151 ns/iter (+/- 343,240)
test bench_paren_long_map_with_strings                 ... bench:     219,855 ns/iter (+/- 25,256)
test bench_paren_really_long_file                      ... bench:   4,395,875 ns/iter (+/- 366,891)
test bench_paren_really_long_file_with_unclosed_paren  ... bench:   4,288,902 ns/iter (+/- 452,732)
test bench_quote_really_long_file_with_unclosed_quote  ... bench:   4,368,507 ns/iter (+/- 638,843)
test bench_smart_long_map_with_strings                 ... bench:     255,331 ns/iter (+/- 30,632)
test bench_smart_really_long_file                      ... bench:   4,803,301 ns/iter (+/- 448,064)
test bench_smart_really_long_file_with_unclosed_paren  ... bench:   4,802,458 ns/iter (+/- 668,362)
test bench_smart_really_long_file_with_unclosed_quote  ... bench:   4,713,028 ns/iter (+/- 1,180,312)
</pre></z><z id="t1521124079" t="eraserhd [:attrs {:href &quot;/_/_/users/U0NBGRGD6&quot;}] really_long_file is 2,864 lines. These benchmarks don&apos;t test marshalling/and unmarshalling with JSON or the Rust FFI, though. Just the rust package functions."><y>#</y><d>2018-03-15</d><h>14:27</h><w>eraserhd</w><a>@doglooksgood</a> really_long_file is 2,864 lines.  These benchmarks don&apos;t test marshalling/and unmarshalling with JSON or the Rust FFI, though.  Just the rust package functions.</z><z id="t1521124868" t="tianshu [:attrs {:href &quot;/_/_/users/U0ECYL0ET&quot;}] average 4 ms? great performance, rust is really fast"><y>#</y><d>2018-03-15</d><h>14:41</h><w>tianshu</w><a>@eraserhd</a> average 4 ms? great performance, rust is really fast</z><z id="t1521124917" t="eraserhd Uhuh. I&apos;m pretty happy with it. I even got sloppy with the performance in a bunch of places to make the port parallel the JavaScript more."><y>#</y><d>2018-03-15</d><h>14:41</h><w>eraserhd</w>Uhuh.  I&apos;m pretty happy with it.  I even got sloppy with the performance in a bunch of places to make the port parallel the JavaScript more.</z><z id="t1521125126" t="eraserhd On my machine, seems consistently 1/4th the runtime of the JavaScript."><y>#</y><d>2018-03-15</d><h>14:45</h><w>eraserhd</w>On my machine, seems consistently 1/4th the runtime of the JavaScript.</z><z id="t1521125163" t="eraserhd Actually, there&apos;s a lot more variance in the JavaScript. I think there&apos;s some GC going on in the longer ones."><y>#</y><d>2018-03-15</d><h>14:46</h><w>eraserhd</w>Actually, there&apos;s a lot more variance in the JavaScript.  I think there&apos;s some GC going on in the longer ones.</z><z id="t1521125878" t="tianshu have you done the job to use it in vim?"><y>#</y><d>2018-03-15</d><h>14:57</h><w>tianshu</w>have you done the job to use it in vim?</z><z id="t1521125909" t="eraserhd Yeah. In the repo, the vim script is in plugin/"><y>#</y><d>2018-03-15</d><h>14:58</h><w>eraserhd</w>Yeah.  In the repo, the vim script is in plugin/</z><z id="t1521125919" t="eraserhd Essentially there&apos;s one function, &quot;run_parinfer&quot; which takes a UTF8 JSON blob and returns one."><y>#</y><d>2018-03-15</d><h>14:58</h><w>eraserhd</w>Essentially there&apos;s one function, &quot;run_parinfer&quot; which takes a UTF8 JSON blob and returns one.</z><z id="t1521126062" t="tianshu so, you haven&apos;t make it run after each buffer change?"><y>#</y><d>2018-03-15</d><h>15:01</h><w>tianshu</w>so, you haven&apos;t make it run after each buffer change?</z><z id="t1521126158" t="eraserhd Oh, yes, it does that."><y>#</y><d>2018-03-15</d><h>15:02</h><w>eraserhd</w>Oh, yes, it does that.</z><z id="t1521129211" t="eraserhd OK, out of my meeting. What I was saying was that the &quot;libcall&quot; entry point is run_parinfer which taskes a JSON blob and returns one. There&apos;s a big of glue script that makes the JSON, sends it, unpacks the result, and updates the buffer. So, run_parinfer is what you would call from emacs."><y>#</y><d>2018-03-15</d><h>15:53</h><w>eraserhd</w>OK, out of my meeting.  What I was saying was that the &quot;libcall&quot; entry point is run_parinfer which taskes a JSON blob and returns one.  There&apos;s a big of glue script that makes the JSON, sends it, unpacks the result, and updates the buffer.  So, run_parinfer is what you would call from emacs.</z><z id="t1521129245" t="eraserhd (and it registers to handle Vim&apos;s TextChanged event)"><y>#</y><d>2018-03-15</d><h>15:54</h><w>eraserhd</w>(and it registers to handle Vim&apos;s TextChanged event)</z><z id="t1521130405" t="tianshu I see, so basically I should start with the cparinfer ."><y>#</y><d>2018-03-15</d><h>16:13</h><w>tianshu</w>I see, so basically I should start with the <code>cparinfer</code>.</z><z id="t1521130433" t="tianshu It&apos;s pretty simple to port it to emacs, parinfer-rust is great."><y>#</y><d>2018-03-15</d><h>16:13</h><w>tianshu</w>It&apos;s pretty simple to port it to emacs, <code>parinfer-rust</code> is great.</z><z id="t1521130573" t="tianshu I will do it at next week."><y>#</y><d>2018-03-15</d><h>16:16</h><w>tianshu</w>I will do it at next week.</z><z id="t1521130952" t="shaunlebron is it possible to compile this to wasm?"><y>#</y><d>2018-03-15</d><h>16:22</h><w>shaunlebron</w>is it possible to compile this to wasm?</z><z id="t1521130976" t="shaunlebron so we don’t have to write js"><y>#</y><d>2018-03-15</d><h>16:22</h><w>shaunlebron</w>so we don’t have to write js</z><z id="t1521133381" t="snoe the rust irc is super helpful if you ran into difficulties trying to"><y>#</y><d>2018-03-15</d><h>17:03</h><w>snoe</w>the rust irc is super helpful if you ran into difficulties trying to</z><z id="t1521133443" t="dominicm How do those benchmarks compare to other implementations."><y>#</y><d>2018-03-15</d><h>17:04</h><w>dominicm</w>How do those benchmarks compare to other implementations.</z><z id="t1521145376" t="eraserhd I would definitely love to try compiling rust to webassembly. No clue how it will perform. I&apos;ve played with webassembly for about an hour total, and know it would need a JavaScript wrapper to work."><y>#</y><d>2018-03-15</d><h>20:22</h><w>eraserhd</w>I would definitely love to try compiling rust to webassembly.  No clue how it will perform.  I&apos;ve played with webassembly for about an hour total, and know it would need a JavaScript wrapper to work.</z><z id="t1521149150" t="snoe From what I’ve heard, the wasm ffi is really slow right now. I wonder if you have “pointers” into the js objects like webgl bytearrays or do you need to copy strings?"><y>#</y><d>2018-03-15</d><h>21:25</h><w>snoe</w>From what I’ve heard, the wasm ffi is really slow right now. I wonder if you have “pointers” into the js objects like webgl bytearrays or do you need to copy strings?</z><z id="t1521154825" t="shaunlebron kevin walked me through how he wired wasm/js stuff for subform-layout last week: https://github.com/lynaghk/subform-layout"><y>#</y><d>2018-03-15</d><h>23:00</h><w>shaunlebron</w>kevin walked me through how he wired wasm/js stuff for subform-layout last week: <a href="https://github.com/lynaghk/subform-layout" target="_blank">https://github.com/lynaghk/subform-layout</a></z><z id="t1521154934" t="shaunlebron it’s an alternate layout engine for CSS, and it seems to be very fast—so i’m not sure what exactly you mean by wasm ffi being slow? [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}]"><y>#</y><d>2018-03-15</d><h>23:02</h><w>shaunlebron</w>it’s an alternate layout engine for CSS, and it seems to be very fast—so i’m not sure what exactly you mean by wasm ffi being slow? <a>@snoe</a></z><z id="t1521155071" t="shaunlebron in this demo, subform_init_layout loads the wasm code from a base64 string (internally), then passes the function wrapper to a callback when done: https://codepen.io/lynaghk/pen/Jpevwj"><y>#</y><d>2018-03-15</d><h>23:04</h><w>shaunlebron</w>in this demo, <code>subform_init_layout</code> loads the wasm code from a base64 string (internally), then passes the function wrapper to a callback when done: <a href="https://codepen.io/lynaghk/pen/Jpevwj" target="_blank">https://codepen.io/lynaghk/pen/Jpevwj</a></z><z id="t1521155352" t="justinlee slightly off topic, but subform is an amazing piece of technology. i’ve always wondered if layout wouldn’t be easier without css."><y>#</y><d>2018-03-15</d><h>23:09</h><w>justinlee</w>slightly off topic, but subform is an amazing piece of technology.  i’ve always wondered if layout wouldn’t be easier without css.</z><z id="t1521172210" t="snoe [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] I thought I read an article that mirrored this comment but having trouble finding it. https://news.ycombinator.com/item?id=15782640 I’m excited to know if it will work for parinfer, in theory the computation is in the sweet spot"><y>#</y><d>2018-03-16</d><h>03:50</h><w>snoe</w><a>@shaunlebron</a> I thought I read an article that mirrored this comment but having trouble finding it. <a href="https://news.ycombinator.com/item?id=15782640" target="_blank">https://news.ycombinator.com/item?id=15782640</a> I’m excited to know if it will work for parinfer, in theory the computation is in the sweet spot</z><z id="t1521213207" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0BUV7XSA&quot;}] : interesting, thanks for that source"><y>#</y><d>2018-03-16</d><h>15:13</h><w>shaunlebron</w><a>@snoe</a>: interesting, thanks for that source</z><z id="t1521213381" t="eraserhd The only external-library-like thing that the Rust code does is ask for the width of a unicode character, I think. It would be easy to work around that. I mean, there&apos;s probably some rust memory management stuff, too."><y>#</y><d>2018-03-16</d><h>15:16</h><w>eraserhd</w>The only external-library-like thing that the Rust code does is ask for the width of a unicode character, I think.  It would be easy to work around that.  I mean, there&apos;s probably some rust memory management stuff, too.</z><z id="t1521239228" t="dominicm I guess this comes to incremental updates being useful, in order to communicate in small packets."><y>#</y><d>2018-03-16</d><h>22:27</h><w>dominicm</w>I guess this comes to incremental updates being useful, in order to communicate in small packets.</z><z id="t1521471829" t="dominicm [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] as I&apos;m pining for parinfer at the moment, I really want to ask if you managed to find some time for https://github.com/shaunlebron/parinfer/issues/92 / https://github.com/shaunlebron/parinfer/pull/175"><y>#</y><d>2018-03-19</d><h>15:03</h><w>dominicm</w><a>@shaunlebron</a> as I&apos;m pining for parinfer at the moment, I really want to ask if you managed to find some time for <a href="https://github.com/shaunlebron/parinfer/issues/92" target="_blank">https://github.com/shaunlebron/parinfer/issues/92</a> / <a href="https://github.com/shaunlebron/parinfer/pull/175" target="_blank">https://github.com/shaunlebron/parinfer/pull/175</a></z><z id="t1521476687" t="eraserhd I&apos;ve had some SIGABORTS using the Rust plugin. I researched and figured out why (it has to do with how Vim loads and unloads the dylib, so it shouldn&apos;t affect emacs porting or anything). I&apos;ll have a fix today."><y>#</y><d>2018-03-19</d><h>16:24</h><w>eraserhd</w>I&apos;ve had some SIGABORTS using the Rust plugin.  I researched and figured out why (it has to do with how Vim loads and unloads the dylib, so it shouldn&apos;t affect emacs porting or anything).  I&apos;ll have a fix today.</z><z id="t1521476697" t="eraserhd (After I burn it in to be sure.)"><y>#</y><d>2018-03-19</d><h>16:24</h><w>eraserhd</w>(After I burn it in to be sure.)</z><z id="t1521491151" t="shaunlebron [:attrs {:href &quot;/_/_/users/U09LZR36F&quot;}] : trying to work out a road map by end of this month to better communicate how i’m prioritizing things"><y>#</y><d>2018-03-19</d><h>20:25</h><w>shaunlebron</w><a>@dominicm</a>: trying to work out a road map by end of this month to better communicate how i’m prioritizing things</z><z id="t1521491256" t="shaunlebron thanks for the bump on the issue. i’ve been focusing on website-related documentation and planning, which i want to share soon"><y>#</y><d>2018-03-19</d><h>20:27</h><w>shaunlebron</w>thanks for the bump on the issue.  i’ve been focusing on website-related documentation and planning, which i want to share soon</z><z id="t1521527050" t="dominicm [:attrs {:href &quot;/_/_/users/U0ECYL0ET&quot;}] smart mode!"><y>#</y><d>2018-03-20</d><h>06:24</h><w>dominicm</w><a>@eraserhd</a> smart mode!</z><z id="t1521532411" t="eraserhd I still don&apos;t understand smart mode. It doesn&apos;t appear to do that. I might be sending in the previous cursor position wrong. Does it need changes to work?"><y>#</y><d>2018-03-20</d><h>07:53</h><w>eraserhd</w>I still don&apos;t understand smart mode.  It doesn&apos;t appear to do that.  I might be sending in the previous cursor position wrong.  Does it need changes to work?</z><z id="t1521532529" t="dominicm Maybe I&apos;m misunderstanding, the idea of smart mode is that you don&apos;t have paren/indent mode, you just make changes."><y>#</y><d>2018-03-20</d><h>07:55</h><w>dominicm</w>Maybe I&apos;m misunderstanding, the idea of smart mode is that you don&apos;t have paren/indent mode, you just make changes.</z><z id="t1521532543" t="dominicm https://shaunlebron.github.io/parinfer/demo if you haven&apos;t tried it."><y>#</y><d>2018-03-20</d><h>07:55</h><w>dominicm</w><a href="https://shaunlebron.github.io/parinfer/demo" target="_blank">https://shaunlebron.github.io/parinfer/demo</a> if you haven&apos;t tried it.</z><z id="t1521533245" t="eraserhd Huh, yeah. That&apos;s what I want 🙂"><y>#</y><d>2018-03-20</d><h>08:07</h><w>eraserhd</w>Huh, yeah.  That&apos;s what I want <b>🙂</b></z><z id="t1521533802" t="eraserhd Yeah, it wants &quot;changes&quot;. Hrmm.... How to synthesize in Vim."><y>#</y><d>2018-03-20</d><h>08:16</h><w>eraserhd</w>Yeah, it wants &quot;changes&quot;.  Hrmm.... How to synthesize in Vim.</z><z id="t1521534149" t="dominicm What is changes?"><y>#</y><d>2018-03-20</d><h>08:22</h><w>dominicm</w>What is changes?</z><z id="t1521536513" t="eraserhd A list of column, line number, old text and new text that can be sent to parinfer."><y>#</y><d>2018-03-20</d><h>09:01</h><w>eraserhd</w>A list of column, line number, old text and new text that can be sent to parinfer.</z><z id="t1521536888" t="dominicm So the whole of the old buffer, whole of the new?"><y>#</y><d>2018-03-20</d><h>09:08</h><w>dominicm</w>So the whole of the old buffer, whole of the new?</z><z id="t1521537046" t="dominicm And I guess column and line number are where the cursor is?"><y>#</y><d>2018-03-20</d><h>09:10</h><w>dominicm</w>And I guess column and line number are where the cursor is?</z><z id="t1521537215" t="dominicm Only thing I can think of is to keep a copy of the buffer somewhere, and send on TextChanged send both to parinfer, and then replace the copy with the new text."><y>#</y><d>2018-03-20</d><h>09:13</h><w>dominicm</w>Only thing I can think of is to keep a copy of the buffer somewhere, and send on TextChanged send both to parinfer, and then replace the copy with the new text.</z><z id="t1521539707" t="dominicm [:attrs {:href &quot;/_/_/users/U0ECYL0ET&quot;}] crazy idea, reach into undo"><y>#</y><d>2018-03-20</d><h>09:55</h><w>dominicm</w><a>@eraserhd</a> crazy idea, reach into undo</z><z id="t1521540106" t="eraserhd Woot! got it working!"><y>#</y><d>2018-03-20</d><h>10:01</h><w>eraserhd</w>Woot!  got it working!</z><z id="t1521540116" t="eraserhd Undo doesn&apos;t update for each character typed in insert mode."><y>#</y><d>2018-03-20</d><h>10:01</h><w>eraserhd</w>Undo doesn&apos;t update for each character typed in insert mode.</z><z id="t1521540169" t="eraserhd There&apos;s an event called InsertCharPre that works for a lot of typing, though it doesn&apos;t work for things like backspace. For those, I store the old position and text after updating them in TextChangedI."><y>#</y><d>2018-03-20</d><h>10:02</h><w>eraserhd</w>There&apos;s an event called InsertCharPre that works for a lot of typing, though it doesn&apos;t work for things like backspace.  For those, I store the old position and text after updating them in TextChangedI.</z><z id="t1521540194" t="eraserhd I added code the FFI wrapper to compute the minimal change (assuming there&apos;s only one changed block)."><y>#</y><d>2018-03-20</d><h>10:03</h><w>eraserhd</w>I added code the FFI wrapper to compute the minimal change (assuming there&apos;s only one changed block).</z><z id="t1521540322" t="eraserhd Smart mode rocks! [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}]"><y>#</y><d>2018-03-20</d><h>10:05</h><w>eraserhd</w>Smart mode rocks! <a>@shaunlebron</a></z><z id="t1521544445" t="dominicm this is amazing"><y>#</y><d>2018-03-20</d><h>11:14</h><w>dominicm</w>this is amazing</z><z id="t1521544452" t="dominicm I need to switch immediately."><y>#</y><d>2018-03-20</d><h>11:14</h><w>dominicm</w>I need to switch immediately.</z><z id="t1521546017" t="eraserhd It might still die every so often, but I think at least it will tell us why now. Also, there are definitely rough edges."><y>#</y><d>2018-03-20</d><h>11:40</h><w>eraserhd</w>It might still die every so often, but I think at least it will tell us why now.  Also, there are definitely rough edges.</z><z id="t1521546226" t="eraserhd Like, I think smart mode wants to know whenever the cursor moves. I&apos;ll have to figure out how to do that."><y>#</y><d>2018-03-20</d><h>11:43</h><w>eraserhd</w>Like, I think smart mode wants to know whenever the cursor moves.  I&apos;ll have to figure out how to do that.</z><z id="t1521546233" t="dominicm No. Rust is stable and web-scale. It will never crash."><y>#</y><d>2018-03-20</d><h>11:43</h><w>dominicm</w>No. Rust is stable and web-scale. It will never crash.</z><z id="t1521546291" t="eraserhd Ha! I mean, I think it is, but you know, computers."><y>#</y><d>2018-03-20</d><h>11:44</h><w>eraserhd</w>Ha!  I mean, I think it is, but you know, computers.</z><z id="t1521553553" t="dominicm E216: No such event: TextChangedP &lt;buffer&gt; :call &lt;SID&gt;process(g:parinfer_mode,1) E216: No such event: TextChangedP &lt;buffer&gt; :call &lt;SID&gt;process(g:parinfer_mode,1) Looks like it&apos;s not nvim supporting anymore 😞"><y>#</y><d>2018-03-20</d><h>13:45</h><w>dominicm</w><pre>E216: No such event: TextChangedP &lt;buffer&gt; :call &lt;SID&gt;process(g:parinfer_mode,1)
E216: No such event: TextChangedP &lt;buffer&gt; :call &lt;SID&gt;process(g:parinfer_mode,1)
</pre>

Looks like it&apos;s not nvim supporting anymore <b>😞</b></z><z id="t1521553580" t="dominicm I&apos;ll see about master"><y>#</y><d>2018-03-20</d><h>13:46</h><w>dominicm</w>I&apos;ll see about master</z><z id="t1521553659" t="eraserhd Ohhh. That was just added to Vim."><y>#</y><d>2018-03-20</d><h>13:47</h><w>eraserhd</w>Ohhh.  That was just added to Vim.</z><z id="t1521553663" t="dominicm yep"><y>#</y><d>2018-03-20</d><h>13:47</h><w>dominicm</w>yep</z><z id="t1521553669" t="eraserhd I&apos;ll add a guard around it."><y>#</y><d>2018-03-20</d><h>13:47</h><w>eraserhd</w>I&apos;ll add a guard around it.</z><z id="t1521553671" t="dominicm do you happen to know what patch it was?"><y>#</y><d>2018-03-20</d><h>13:47</h><w>dominicm</w>do you happen to know what patch it was?</z><z id="t1521553689" t="eraserhd Not really. I just vaguely remember the discussion."><y>#</y><d>2018-03-20</d><h>13:48</h><w>eraserhd</w>Not really.  I just vaguely remember the discussion.</z><z id="t1521553698" t="dominicm make sure to guard on has(&apos;TextChangedP&apos;), not on anything else"><y>#</y><d>2018-03-20</d><h>13:48</h><w>dominicm</w>make sure to guard on has(&apos;TextChangedP&apos;), not on anything else</z><z id="t1521553712" t="dominicm I&apos;m gonna try the appimage dev build"><y>#</y><d>2018-03-20</d><h>13:48</h><w>dominicm</w>I&apos;m gonna try the appimage dev build</z><z id="t1521553845" t="eraserhd pushed. (`exists(&apos;##TextChangedP&apos;)` actually)"><y>#</y><d>2018-03-20</d><h>13:50</h><w>eraserhd</w>pushed.  (`exists(&apos;##TextChangedP&apos;)` actually)</z><z id="t1521553924" t="dominicm weird 😮"><y>#</y><d>2018-03-20</d><h>13:52</h><w>dominicm</w>weird <b>😮</b></z><z id="t1521553940" t="dominicm Sorry, that&apos;s me being cautious against this not working in the future for neovim 😛"><y>#</y><d>2018-03-20</d><h>13:52</h><w>dominicm</w>Sorry, that&apos;s me being cautious against this not working in the future for neovim <b>😛</b></z><z id="t1521553950" t="dominicm neovim doesn&apos;t have the patch on master so..."><y>#</y><d>2018-03-20</d><h>13:52</h><w>dominicm</w>neovim doesn&apos;t have the patch on master so...</z><z id="t1521553986" t="dominicm 8.0.1494 is the patch"><y>#</y><d>2018-03-20</d><h>13:53</h><w>dominicm</w>8.0.1494 is the patch</z><z id="t1521554012" t="dominicm https://github.com/neovim/neovim/pull/7996 it&apos;s on the way"><y>#</y><d>2018-03-20</d><h>13:53</h><w>dominicm</w><a href="https://github.com/neovim/neovim/pull/7996" target="_blank">https://github.com/neovim/neovim/pull/7996</a> it&apos;s on the way</z><z id="t1521555630" t="snoe Is it bad practice to include the dylib/so files in the repo?"><y>#</y><d>2018-03-20</d><h>14:20</h><w>snoe</w>Is it bad practice to include the dylib/so files in the repo?</z><z id="t1521555725" t="dominicm I wouldn&apos;t be against doing what fzf does: fetch them from the github releases using curl in response to a command"><y>#</y><d>2018-03-20</d><h>14:22</h><w>dominicm</w>I wouldn&apos;t be against doing what fzf does: fetch them from the github releases using curl in response to a command</z><z id="t1521555853" t="dominicm [:attrs {:href &quot;/_/_/users/U0ECYL0ET&quot;}] this is amazing, very fast."><y>#</y><d>2018-03-20</d><h>14:24</h><w>dominicm</w><a>@eraserhd</a> this is amazing, very fast.</z><z id="t1521555892" t="dominicm Hmm, &gt;&gt; doesn&apos;t indent the whole structure like I would expect"><y>#</y><d>2018-03-20</d><h>14:24</h><w>dominicm</w>Hmm, <code>&gt;&gt;</code> doesn&apos;t indent the whole structure like I would expect</z><z id="t1521555922" t="eraserhd as in multiple lines?"><y>#</y><d>2018-03-20</d><h>14:25</h><w>eraserhd</w>as in multiple lines?</z><z id="t1521555968" t="eraserhd I noticed it will leave a trailing paren if the cursor is to the left of the indent when using &gt;&gt; . That&apos;s something I&apos;m going to try to fix eventually."><y>#</y><d>2018-03-20</d><h>14:26</h><w>eraserhd</w>I noticed it will leave a trailing paren if the cursor is to the left of the indent when using <code>&gt;&gt;</code>.  That&apos;s something I&apos;m going to try to fix eventually.</z><z id="t1521555973" t="dominicm (let [x] {:foo 1 :bar 2}) &gt;&gt; on the :foo line becomes (let [x] {:foo 1} :bar 2) "><y>#</y><d>2018-03-20</d><h>14:26</h><w>dominicm</w><pre>(let [x]
  {:foo 1
   :bar 2})
</pre>

<code>&gt;&gt;</code> on the <code>:foo</code> line becomes 

<pre>(let [x]
    {:foo 1}
   :bar 2)
</pre></z><z id="t1521556026" t="dominicm It&apos;s a shame that auto-indent doesn&apos;t work with parinfer either. I know we&apos;ve covered this in the past."><y>#</y><d>2018-03-20</d><h>14:27</h><w>dominicm</w>It&apos;s a shame that auto-indent doesn&apos;t work with parinfer either. I know we&apos;ve covered this in the past.</z><z id="t1521556026" t="eraserhd You expect it to indent the :bar line also, or you expect it to be indented inside the [ ?"><y>#</y><d>2018-03-20</d><h>14:27</h><w>eraserhd</w>You expect it to indent the <code>:bar</code> line also, or you expect it to be indented inside the <code>[</code>?</z><z id="t1521556056" t="dominicm [:attrs {:href &quot;/_/_/users/U0ECYL0ET&quot;}] the :bar being indent also is what I meant. But tabstops would be good too."><y>#</y><d>2018-03-20</d><h>14:27</h><w>dominicm</w><a>@eraserhd</a> the <code>:bar</code> being indent also is what I meant. But tabstops would be good too.</z><z id="t1521556070" t="dominicm I think nvim-parinfer had a custom &gt;&gt; for that reason."><y>#</y><d>2018-03-20</d><h>14:27</h><w>dominicm</w>I think nvim-parinfer had a custom <code>&gt;&gt;</code> for that reason.</z><z id="t1521556137" t="eraserhd IIRC, it&apos;s custom &gt;&gt; just used the parinfer tab stops (and also ignored count, unfortunately)."><y>#</y><d>2018-03-20</d><h>14:28</h><w>eraserhd</w>IIRC, it&apos;s custom <code>&gt;&gt;</code> just used the parinfer tab stops (and also ignored count, unfortunately).</z><z id="t1521556190" t="eraserhd I think &gt;a) is better for indenting a form, personally."><y>#</y><d>2018-03-20</d><h>14:29</h><w>eraserhd</w>I think <code>&gt;a)</code> is better for indenting a form, personally.</z><z id="t1521556195" t="dominicm Parinfer exposes all the tabstops I&apos;d guess, based on the visuals on the codemirror editor."><y>#</y><d>2018-03-20</d><h>14:29</h><w>dominicm</w>Parinfer exposes all the tabstops I&apos;d guess, based on the visuals on the codemirror editor.</z><z id="t1521556220" t="eraserhd Yeah, I just haven&apos;t figured out how to make Vim use them."><y>#</y><d>2018-03-20</d><h>14:30</h><w>eraserhd</w>Yeah, I just haven&apos;t figured out how to make Vim use them.</z><z id="t1521556245" t="dominicm I did a quick google and didn&apos;t see that it existed. I suspect it will be a case of overriding &gt; and &gt;&gt;"><y>#</y><d>2018-03-20</d><h>14:30</h><w>dominicm</w>I did a quick google and didn&apos;t see that it existed. I suspect it will be a case of overriding <code>&gt;</code> and <code>&gt;&gt;</code></z><z id="t1521556322" t="eraserhd I looked into that, and... I&apos;m not really sure how to override &gt; . All the motions following happen in &quot;operator pending&quot; mode, so scripts can add new ones, but in my cursory search, it seems like I&apos;d have to override each sequence individually."><y>#</y><d>2018-03-20</d><h>14:32</h><w>eraserhd</w>I looked into that, and... I&apos;m not really sure how to override <code>&gt;</code>.  All the motions following happen in &quot;operator pending&quot; mode, so scripts can add new ones, but in my cursory search, it seems like I&apos;d have to override each sequence individually.</z><z id="t1521556399" t="eraserhd I use plenty of them: 3&gt;&gt; , &gt;i] , 2&lt;a) , etc."><y>#</y><d>2018-03-20</d><h>14:33</h><w>eraserhd</w>I use plenty of them: <code>3&gt;&gt;</code>, <code>&gt;i]</code>, <code>2&lt;a)</code>, etc.</z><z id="t1521556472" t="eraserhd I&apos;m actually wondering if, now that I have smart mode, I&apos;ll not need to use &gt;&gt; in the same way. Hmm."><y>#</y><d>2018-03-20</d><h>14:34</h><w>eraserhd</w>I&apos;m actually wondering if, now that I have smart mode, I&apos;ll not need to use <code>&gt;&gt;</code> in the same way.  Hmm.</z><z id="t1521556602" t="eraserhd Well, my plan today is to dogfood the heck out of this, so we&apos;ll see. 🙂"><y>#</y><d>2018-03-20</d><h>14:36</h><w>eraserhd</w>Well, my plan today is to dogfood the heck out of this, so we&apos;ll see. <b>🙂</b></z><z id="t1521557490" t="eraserhd Pushed a fix for one glaring error. Need a test suite 😞"><y>#</y><d>2018-03-20</d><h>14:51</h><w>eraserhd</w>Pushed a fix for one glaring error. Need a test suite <b>😞</b></z><z id="t1521558439" t="dominicm The motion happens in operator pending, sure. But you can add an operator?"><y>#</y><d>2018-03-20</d><h>15:07</h><w>dominicm</w>The motion happens in operator pending, sure. But you can add an operator?</z><z id="t1521562518" t="eraserhd Yes, with omap. I don&apos;t know the details, though."><y>#</y><d>2018-03-20</d><h>16:15</h><w>eraserhd</w>Yes, with omap.  I don&apos;t know the details, though.</z><z id="t1521562557" t="eraserhd er, I mean, I guess that&apos;s the motion, not the operator, even though it&apos;s called &quot;operator pending&quot;?"><y>#</y><d>2018-03-20</d><h>16:15</h><w>eraserhd</w>er, I mean, I guess that&apos;s the motion, not the operator, even though it&apos;s called &quot;operator pending&quot;?</z><z id="t1521562607" t="eraserhd So, I tracked down the random mac os abort! I think I can fix."><y>#</y><d>2018-03-20</d><h>16:16</h><w>eraserhd</w>So, I tracked down the random mac os abort!  I think I can fix.</z><z id="t1521564066" t="dominicm There&apos;s &apos;opfunc&apos; which is run by {:tag :a, :attrs {:href &quot;/cdn-cgi/l/email-protection&quot;, :class &quot;__cf_email__&quot;, :data-cfemail &quot;442304&quot;}, :content (&quot;[email protected]&quot;)} . This is how cp works in fireplace."><y>#</y><d>2018-03-20</d><h>16:41</h><w>dominicm</w>There&apos;s <code>&apos;opfunc&apos;</code> which is run by <code>{:tag :a, :attrs {:href &quot;/cdn-cgi/l/email-protection&quot;, :class &quot;__cf_email__&quot;, :data-cfemail &quot;442304&quot;}, :content (&quot;[email protected]&quot;)}</code>. This is how <code>cp</code> works in fireplace.</z><z id="t1521564107" t="snoe the custom &gt;&gt; in nvim-parinfer.js is pretty hacky"><y>#</y><d>2018-03-20</d><h>16:41</h><w>snoe</w>the custom <code>&gt;&gt;</code> in nvim-parinfer.js is pretty hacky</z><z id="t1521564544" t="snoe I couldn’t figure out how to make vim use them either - especially since &lt;&lt; and &gt;&gt; might use different stops in parinfer"><y>#</y><d>2018-03-20</d><h>16:49</h><w>snoe</w>I couldn’t figure out how to make vim use them either - especially since <code>&lt;&lt;</code> and <code>&gt;&gt;</code> might use different stops in parinfer</z><z id="t1521566380" t="dominicm To my knowledge, there&apos;s no functionality for that :("><y>#</y><d>2018-03-20</d><h>17:19</h><w>dominicm</w>To my knowledge, there&apos;s no functionality for that :(</z><z id="t1521641337" t="dominicm [:attrs {:href &quot;/_/_/users/U0ECYL0ET&quot;}] https://github.com/neovim/neovim/pull/5269 might be useful, not sure. Seems async-focused."><y>#</y><d>2018-03-21</d><h>14:08</h><w>dominicm</w><a>@eraserhd</a> <a href="https://github.com/neovim/neovim/pull/5269" target="_blank">https://github.com/neovim/neovim/pull/5269</a> might be useful, not sure. Seems async-focused.</z><z id="t1521641470" t="eraserhd I&apos;m using plain Vim, but you are welcome to make PRs to special-case Neovim stuff. Today&apos;s project is adding tests that can be run under both and Travis CI."><y>#</y><d>2018-03-21</d><h>14:11</h><w>eraserhd</w>I&apos;m using plain Vim, but you are welcome to make PRs to special-case Neovim stuff.  Today&apos;s project is adding tests that can be run under both and Travis CI.</z><z id="t1521641841" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0ECYL0ET&quot;}] are you passing in changes ?"><y>#</y><d>2018-03-21</d><h>14:17</h><w>shaunlebron</w><a>@eraserhd</a> are you passing in <code>changes</code>?</z><z id="t1521642084" t="eraserhd Yes. I have to compute them, and on occasion they are wrong, but they are right enough to make smart mode work nicely. 😄"><y>#</y><d>2018-03-21</d><h>14:21</h><w>eraserhd</w>Yes.  I have to compute them, and on occasion they are wrong, but they are right enough to make smart mode work nicely. <b>😄</b></z><z id="t1521642480" t="dominicm I&apos;ve been using it today, I&apos;m not writing much code, but it&apos;s working. I see abandoned comments a lot though 😛"><y>#</y><d>2018-03-21</d><h>14:28</h><w>dominicm</w>I&apos;ve been using it today, I&apos;m not writing much code, but it&apos;s working. I see abandoned comments a lot though <b>😛</b></z><z id="t1521642490" t="dominicm that&apos;s somewhat particular to the files I&apos;m working on."><y>#</y><d>2018-03-21</d><h>14:28</h><w>dominicm</w>that&apos;s somewhat particular to the files I&apos;m working on.</z><z id="t1521645407" t="eraserhd vim+parinfer thoughts today: Nice!: I can i#?(:clj &lt;Esc? , and since the paren fix gets merged with the change, I can repeat it with . for other pieces of code."><y>#</y><d>2018-03-21</d><h>15:16</h><w>eraserhd</w>vim+parinfer thoughts today:  Nice!: I can <code>i#?(:clj &lt;Esc?</code>, and since the paren fix gets merged with the change, I can repeat it with <code>.</code> for other pieces of code.</z><z id="t1521645512" t="eraserhd Other thought: I want J (join lines) and maybe p (paste) to fix indentation."><y>#</y><d>2018-03-21</d><h>15:18</h><w>eraserhd</w>Other thought: I want <code>J</code> (join lines) and maybe <code>p</code> (paste) to fix indentation.</z><z id="t1521645650" t="eraserhd e.g.: J on line 1 of #?(:clj (extend-type datomic.db.DbId ToTx (-&gt;tx [this] [this]))) becomes #?(:clj (extend-type datomic.db.DbId ToTx (-&gt;tx [this] [this])))"><y>#</y><d>2018-03-21</d><h>15:20</h><w>eraserhd</w>e.g.: <code>J</code> on line 1 of <pre>#?(:clj
    (extend-type datomic.db.DbId ToTx
      (-&gt;tx [this]
        [this])))</pre> becomes <pre>#?(:clj (extend-type datomic.db.DbId ToTx
          (-&gt;tx [this]
            [this])))</pre></z><z id="t1521655001" t="eraserhd So, I&apos;ve been dogfooding a change pretty hard since yesterday, and I can confirm that random crashes on Mac OS are no longer a thing for parinfer-rust . Just pushed the commit, so update if you haven&apos;t already. Also, I think there are people who tried it before the major performance improvement was pushed."><y>#</y><d>2018-03-21</d><h>17:56</h><w>eraserhd</w>So, I&apos;ve been dogfooding a change pretty hard since yesterday, and I can confirm that random crashes on Mac OS are no longer a thing for <code>parinfer-rust</code>.  Just pushed the commit, so update if you haven&apos;t already.  Also, I think there are people who tried it before the major performance improvement was pushed.</z><z id="t1521693027" t="tianshu [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] except indent lines with tab, any case for multiple changes?"><y>#</y><d>2018-03-22</d><h>04:30</h><w>tianshu</w><a>@shaunlebron</a> except indent lines with tab, any case for multiple changes?</z><z id="t1521693037" t="tianshu multiple cursor?"><y>#</y><d>2018-03-22</d><h>04:30</h><w>tianshu</w>multiple cursor?</z><z id="t1521714889" t="shaunlebron search/replace"><y>#</y><d>2018-03-22</d><h>10:34</h><w>shaunlebron</w>search/replace</z><z id="t1521715015" t="tianshu I&apos;m trying to introduce parinfer-rust in emacs. in current version, there&apos;s no change in result, so I should replace the whole in editor? that may cause some issues in emacs."><y>#</y><d>2018-03-22</d><h>10:36</h><w>tianshu</w>I&apos;m trying to introduce parinfer-rust in emacs. in current version, there&apos;s no change in result, so I should replace the whole in editor? that may cause some issues in emacs.</z><z id="t1521716408" t="shaunlebron not sure what the vim plugin is doing, i don’t think it’s replacing whole text"><y>#</y><d>2018-03-22</d><h>11:00</h><w>shaunlebron</w>not sure what the vim plugin is doing, i don’t think it’s replacing whole text</z><z id="t1521716428" t="shaunlebron might wanna follow what it’s doing"><y>#</y><d>2018-03-22</d><h>11:00</h><w>shaunlebron</w>might wanna follow what it’s doing</z><z id="t1521716476" t="shaunlebron likewise, you can do parent-expression hack rather than replacing whole file"><y>#</y><d>2018-03-22</d><h>11:01</h><w>shaunlebron</w>likewise, you can do parent-expression hack rather than replacing whole file</z><z id="t1521718853" t="eraserhd The Vim plugin finds the first and last changed lines and replaces that subset with one setline() call."><y>#</y><d>2018-03-22</d><h>11:40</h><w>eraserhd</w>The Vim plugin finds the first and last changed lines and replaces that subset with one setline() call.</z><z id="t1521718911" t="eraserhd Actually, there&apos;s first a shortcut to test if it gets the text back unchanged, in which case it does nothing."><y>#</y><d>2018-03-22</d><h>11:41</h><w>eraserhd</w>Actually, there&apos;s first a shortcut to test if it gets the text back unchanged, in which case it does nothing.</z><z id="t1521718939" t="eraserhd (well, it will still update the cursor POS)"><y>#</y><d>2018-03-22</d><h>11:42</h><w>eraserhd</w>(well, it will still update the cursor POS)</z><z id="t1521718982" t="eraserhd It could be useful to move computing the delta into the wrapper."><y>#</y><d>2018-03-22</d><h>11:43</h><w>eraserhd</w>It could be useful to move computing the delta into the wrapper.</z><z id="t1521719722" t="dominicm I might add support for nvim_buf_set_lines there :thinking_face: something about performance."><y>#</y><d>2018-03-22</d><h>11:55</h><w>dominicm</w>I might add support for nvim_buf_set_lines there <b>:thinking_face:</b> something about performance.</z><z id="t1521738727" t="eraserhd OK, so there&apos;s a test harness now: https://github.com/eraserhd/parinfer-rust/blob/master/tests/test_parinfer.vim"><y>#</y><d>2018-03-22</d><h>17:12</h><w>eraserhd</w>OK, so there&apos;s a test harness now: <a href="https://github.com/eraserhd/parinfer-rust/blob/master/tests/test_parinfer.vim" target="_blank">https://github.com/eraserhd/parinfer-rust/blob/master/tests/test_parinfer.vim</a></z><z id="t1521738760" t="eraserhd [:attrs {:href &quot;/_/_/users/U09LZR36F&quot;}] It&apos;s using Vim-specific terminal functions, I think. It would be cool to have tests running on Neovim, also."><y>#</y><d>2018-03-22</d><h>17:12</h><w>eraserhd</w><a>@dominicm</a> It&apos;s using Vim-specific terminal functions, I think.  It would be cool to have tests running on Neovim, also.</z><z id="t1521738765" t="eraserhd hint hint"><y>#</y><d>2018-03-22</d><h>17:12</h><w>eraserhd</w>hint hint</z><z id="t1521775651" t="snoe here’s a rust plugin’s binary download script https://github.com/autozimu/LanguageClient-neovim/blob/next/install.sh"><y>#</y><d>2018-03-23</d><h>03:27</h><w>snoe</w>here’s a rust plugin’s binary download script <a href="https://github.com/autozimu/LanguageClient-neovim/blob/next/install.sh" target="_blank">https://github.com/autozimu/LanguageClient-neovim/blob/next/install.sh</a></z><z id="t1521820484" t="eraserhd Interesting. I&apos;ve been wondering whether to make the plugin.vim build the library if it doesn&apos;t exist and cargo is in the path. I&apos;m not so sure I want to distribute binaries, though."><y>#</y><d>2018-03-23</d><h>15:54</h><r>eraserhd</r>Interesting.  I&apos;ve been wondering whether to make the plugin.vim build the library if it doesn&apos;t exist and <code>cargo</code> is in the path.  I&apos;m not so sure I want to distribute binaries, though.</z><z id="t1521781171" t="tianshu recently, it&apos;s hard to connect to slack in our network:upside_down_face: [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] the problem is not about performance, emacs cider provide fringe(the left edge of editor) indicator that indicate the expr has been sent to repl. the indicator will be remove when the text of this expr changed. even not process the whole buffer, sometimes we have to process the previous sexp."><y>#</y><d>2018-03-23</d><h>04:59</h><w>tianshu</w>recently, it&apos;s hard to connect to slack in our network:upside_down_face: <a>@shaunlebron</a> the problem is not about performance, emacs cider provide fringe(the left edge of editor) indicator that indicate the expr has been sent to repl. the indicator will be remove when the text of this expr changed. even not process the whole buffer, sometimes we have to process the previous sexp.</z><z id="t1521802369" t="shaunlebron interesting"><y>#</y><d>2018-03-23</d><h>10:52</h><w>shaunlebron</w>interesting</z><z id="t1521803592" t="shaunlebron i suppose parinfer outputting changes rather than whole text would minimize that problem"><y>#</y><d>2018-03-23</d><h>11:13</h><w>shaunlebron</w>i suppose parinfer outputting changes rather than whole text would minimize that problem</z><z id="t1521817467" t="tianshu the same problem will occur when use nlinum-mode(a fast line number mode). It may not be a serious problem, but I don&apos;t want parinfer-mode break anything."><y>#</y><d>2018-03-23</d><h>15:04</h><w>tianshu</w>the same problem will occur when use nlinum-mode(a fast line number mode). It may not be a serious problem, but I don&apos;t want parinfer-mode break anything.</z><z id="t1521839080" t="shaunlebron what is fast line number mode"><y>#</y><d>2018-03-23</d><h>21:04</h><w>shaunlebron</w>what is fast line number mode</z><z id="t1521846549" t="justinbarclay https://elpa.gnu.org/packages/nlinum.html A popular package for emacs that displays line numbers"><y>#</y><d>2018-03-23</d><h>23:09</h><r>justinbarclay</r><a href="https://elpa.gnu.org/packages/nlinum.html" target="_blank">https://elpa.gnu.org/packages/nlinum.html</a>
A popular package for emacs that displays line numbers</z><z id="t1522159100" t="eraserhd TIL you can disable vim-sexp&apos;s insert-mode bindings. Which makes it compatible with vim parinfer plugins. And now I&apos;m super happy."><y>#</y><d>2018-03-27</d><h>13:58</h><w>eraserhd</w>TIL you can disable vim-sexp&apos;s insert-mode bindings.  Which makes it compatible with vim parinfer plugins.  And now I&apos;m super happy.</z><z id="t1522160236" t="dominicm I&apos;ve not had issues?"><y>#</y><d>2018-03-27</d><h>14:17</h><w>dominicm</w>I&apos;ve not had issues?</z><z id="t1522161497" t="eraserhd By default, it prevents you from typing opening and closing parens, I thought?"><y>#</y><d>2018-03-27</d><h>14:38</h><w>eraserhd</w>By default, it prevents you from typing opening and closing parens, I thought?</z><z id="t1522161524" t="eraserhd Oh, it inserts close parens for your open parens, and prevents closing parens, moving you to the close of the form, right?"><y>#</y><d>2018-03-27</d><h>14:38</h><w>eraserhd</w>Oh, it inserts close parens for your open parens, and prevents closing parens, moving you to the close of the form, right?</z><z id="t1522163091" t="dominicm I haven&apos;t had that :thinking_face:"><y>#</y><d>2018-03-27</d><h>15:04</h><w>dominicm</w>I haven&apos;t had that <b>:thinking_face:</b></z><z id="t1522163837" t="snoe paredit maybe? let g:paredit_mode = 0 is in the nvim-parinfer.js readme"><y>#</y><d>2018-03-27</d><h>15:17</h><w>snoe</w>paredit maybe? <code>let g:paredit_mode = 0</code> is in the nvim-parinfer.js readme</z><z id="t1522163857" t="snoe or and let g:sexp_enable_insert_mode_mappings = 0"><y>#</y><d>2018-03-27</d><h>15:17</h><w>snoe</w>or and <code>let g:sexp_enable_insert_mode_mappings = 0</code></z><z id="t1522174948" t="eraserhd So, here&apos;s an interesting problem that I&apos;m not sure what to do with. Certain Vim operations are related to the cursor position, and certain ones aren&apos;t. Currently, I send the cursor position in for smart mode when in insert mode. This is kind of nice."><y>#</y><d>2018-03-27</d><h>18:22</h><w>eraserhd</w>So, here&apos;s an interesting problem that I&apos;m not sure what to do with.  Certain Vim operations are related to the cursor position, and certain ones aren&apos;t.  Currently, I send the cursor position in for smart mode when in insert mode.  This is kind of nice.</z><z id="t1522174999" t="eraserhd I don&apos;t send it for normal mode changes. If I indent a line with &gt;&gt; for example, the cursor position is not important. I guess, because it&apos;s line-wise?"><y>#</y><d>2018-03-27</d><h>18:23</h><w>eraserhd</w>I don&apos;t send it for normal mode changes.   If I indent a line with <code>&gt;&gt;</code> for example, the cursor position is not important.  I guess, because it&apos;s line-wise?</z><z id="t1522175035" t="eraserhd But there are various things in normal mode where it is important. x to delete a character, for example."><y>#</y><d>2018-03-27</d><h>18:23</h><w>eraserhd</w>But there are various things in normal mode where it is important.  <code>x</code> to delete a character, for example.</z><z id="t1522175193" t="eraserhd If I send the cursor position when it isn&apos;t relevant, smart mode will adjust the indentation of more lines, which I think is bad. For example, with the &gt;&gt; , I think if I send it, it will also indent successive lines within the form, if the cursor is to the left of the inserted spaces, but not if it is to the right of the inserted spaces."><y>#</y><d>2018-03-27</d><h>18:26</h><w>eraserhd</w>If I send the cursor position when it isn&apos;t relevant, smart mode will adjust the indentation of more lines, which I think is bad.  For example, with the <code>&gt;&gt;</code>, I think if I send it, it will also indent successive lines within the form, if the cursor is to the left of the inserted spaces, but not if it is to the right of the inserted spaces.</z><z id="t1522175198" t="eraserhd what to do, what to do"><y>#</y><d>2018-03-27</d><h>18:26</h><w>eraserhd</w>what to do, what to do</z><z id="t1522175613" t="dominicm I think that generally sending it is the right thing."><y>#</y><d>2018-03-27</d><h>18:33</h><w>dominicm</w>I think that generally sending it is the right thing.</z><z id="t1522175864" t="eraserhd So far, I&apos;m thinking it should not be sent for linewise commands or ex commands, but everything else. Unfortunately, I don&apos;t know how to detect which it is."><y>#</y><d>2018-03-27</d><h>18:37</h><w>eraserhd</w>So far, I&apos;m thinking it should not be sent for linewise commands or ex commands, but everything else.  Unfortunately, I don&apos;t know how to detect which it is.</z><z id="t1522176061" t="dominicm Cursor mode returns? 😛"><y>#</y><d>2018-03-27</d><h>18:41</h><w>dominicm</w>Cursor mode returns? <b>😛</b></z><z id="t1522180884" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0NBGRGD6&quot;}] did we have a discussion about parinfer working with other languages? I can’t remember what we decided since the logs are lost: https://twitter.com/DevinRhode2/status/978715648703565824"><y>#</y><d>2018-03-27</d><h>20:01</h><w>shaunlebron</w><a>@doglooksgood</a> did we have a discussion about parinfer working with other languages? I can’t remember what we decided since the logs are lost: <a href="https://twitter.com/DevinRhode2/status/978715648703565824" target="_blank">https://twitter.com/DevinRhode2/status/978715648703565824</a></z><z id="t1522181042" t="shaunlebron would be nice if we moved those interesting conversations to our forum for posterity: https://talk.parinfer.io/"><y>#</y><d>2018-03-27</d><h>20:04</h><w>shaunlebron</w>would be nice if we moved those interesting conversations to our forum for posterity: <a href="https://talk.parinfer.io/" target="_blank">https://talk.parinfer.io/</a></z><z id="t1522182723" t="dominicm [:attrs {:href &quot;/_/_/users/U0ECYL0ET&quot;}] do you ever do r&lt;enter&gt; that&apos;s a case where I&apos;m guessing the cursor being &quot;on&quot; would help."><y>#</y><d>2018-03-27</d><h>20:32</h><w>dominicm</w><a>@eraserhd</a> do you ever do <code>r&lt;enter&gt;</code> that&apos;s a case where I&apos;m guessing the cursor being &quot;on&quot; would help.</z><z id="t1522182744" t="dominicm [:attrs {:href &quot;/_/_/users/U0ECYL0ET&quot;}] do you have a way to toggle cursor on/off for normal mode?"><y>#</y><d>2018-03-27</d><h>20:32</h><w>dominicm</w><a>@eraserhd</a> do you have a way to toggle cursor on/off for normal mode?</z><z id="t1522182801" t="eraserhd I don&apos;t, though there&apos;s an a line that looks roughly like if a:is_insert that you could delete to play around with what it would do."><y>#</y><d>2018-03-27</d><h>20:33</h><w>eraserhd</w>I don&apos;t, though there&apos;s an a line that looks roughly like <code>if a:is_insert</code> that you could delete to play around with what it would do.</z><z id="t1522182833" t="eraserhd I tell you what. I think I&apos;m going to send it the cursor all the time, and then fix any cases that come up."><y>#</y><d>2018-03-27</d><h>20:33</h><w>eraserhd</w>I tell you what.  I think I&apos;m going to send it the cursor all the time, and then fix any cases that come up.</z><z id="t1522182839" t="eraserhd Let me do that now."><y>#</y><d>2018-03-27</d><h>20:33</h><w>eraserhd</w>Let me do that now.</z><z id="t1522183053" t="dominicm suits me, I think."><y>#</y><d>2018-03-27</d><h>20:37</h><w>dominicm</w>suits me, I think.</z><z id="t1522183075" t="dominicm I&apos;m going to demo this tomorrow at a meetup, amongst the rest of my vim setup. Should be interesting."><y>#</y><d>2018-03-27</d><h>20:37</h><w>dominicm</w>I&apos;m going to demo this tomorrow at a meetup, amongst the rest of my vim setup. Should be interesting.</z><z id="t1522183082" t="dominicm i&apos;ll keep in the happy path."><y>#</y><d>2018-03-27</d><h>20:38</h><w>dominicm</w>i&apos;ll keep in the happy path.</z><z id="t1522183208" t="eraserhd Oh, neat!!"><y>#</y><d>2018-03-27</d><h>20:40</h><w>eraserhd</w>Oh, neat!!</z><z id="t1522183212" t="eraserhd Let me know how it goes."><y>#</y><d>2018-03-27</d><h>20:40</h><w>eraserhd</w>Let me know how it goes.</z><z id="t1522183224" t="eraserhd Also, of course, any feedback."><y>#</y><d>2018-03-27</d><h>20:40</h><w>eraserhd</w>Also, of course, any feedback.</z><z id="t1522183227" t="dominicm I&apos;m definitely more excited now that I can show this stuff working 🙂"><y>#</y><d>2018-03-27</d><h>20:40</h><w>dominicm</w>I&apos;m definitely more excited now that I can show this stuff working <b>🙂</b></z><z id="t1522183240" t="dominicm Will do. Especially if I think of something around linewise &amp; ex commands."><y>#</y><d>2018-03-27</d><h>20:40</h><w>dominicm</w>Will do. Especially if I think of something around linewise &amp; ex commands.</z><z id="t1522183492" t="eraserhd Ok, that commit is pushed."><y>#</y><d>2018-03-27</d><h>20:44</h><w>eraserhd</w>Ok, that commit is pushed.</z><z id="t1522183755" t="dominicm :PlugUpdate awaaaayyy"><y>#</y><d>2018-03-27</d><h>20:49</h><w>dominicm</w>:PlugUpdate awaaaayyy</z><z id="t1522184067" t="dominicm &gt;&gt; does the right thing, awesome!"><y>#</y><d>2018-03-27</d><h>20:54</h><w>dominicm</w><code>&gt;&gt;</code> does the right thing, awesome!</z><z id="t1522185315" t="eraserhd heh, don&apos;t like it."><y>#</y><d>2018-03-27</d><h>21:15</h><w>eraserhd</w>heh, don&apos;t like it.</z><z id="t1522185342" t="dominicm Is that your preference, or a hope that I won&apos;t like it? 😛"><y>#</y><d>2018-03-27</d><h>21:15</h><w>dominicm</w>Is that your preference, or a hope that I won&apos;t like it? <b>😛</b></z><z id="t1522185364" t="eraserhd That&apos;s my preference."><y>#</y><d>2018-03-27</d><h>21:16</h><w>eraserhd</w>That&apos;s my preference.</z><z id="t1522185406" t="eraserhd Hmm, it does seem to be consistent, though."><y>#</y><d>2018-03-27</d><h>21:16</h><w>eraserhd</w>Hmm, it does seem to be consistent, though.</z><z id="t1522185465" t="eraserhd How would we change the indentation of a single line, then? Hrmm. Well, I&apos;ll dogfood it anyway."><y>#</y><d>2018-03-27</d><h>21:17</h><w>eraserhd</w>How would we change the indentation of a single line, then?  Hrmm.  Well, I&apos;ll dogfood it anyway.</z><z id="t1522185476" t="dominicm why would I want to do that? 😮"><y>#</y><d>2018-03-27</d><h>21:17</h><w>dominicm</w>why would I want to do that? <b>😮</b></z><z id="t1522185536" t="dominicm [:attrs {:href &quot;/_/_/users/U0ECYL0ET&quot;}] is there a :ParinferOn? I want to show vim-sexp first, including the slurp &amp; barf stuff"><y>#</y><d>2018-03-27</d><h>21:18</h><w>dominicm</w><a>@eraserhd</a> is there a :ParinferOn? I want to show vim-sexp first, including the slurp &amp; barf stuff</z><z id="t1522185581" t="dominicm https://github.com/eraserhd/parinfer-rust/blob/master/plugin/parinfer.vim#L22-L30 ah, looks like :ParinferToggle will put me in smart mode straight away, cool 🙂"><y>#</y><d>2018-03-27</d><h>21:19</h><w>dominicm</w><a href="https://github.com/eraserhd/parinfer-rust/blob/master/plugin/parinfer.vim#L22-L30" target="_blank">https://github.com/eraserhd/parinfer-rust/blob/master/plugin/parinfer.vim#L22-L30</a> ah, looks like <code>:ParinferToggle</code> will put me in smart mode straight away, cool <b>🙂</b></z><z id="t1522185592" t="eraserhd Apparently not. Oh, that works."><y>#</y><d>2018-03-27</d><h>21:19</h><w>eraserhd</w>Apparently not.  Oh, that works.</z><z id="t1522185631" t="eraserhd There should probably be a :ParinferOn."><y>#</y><d>2018-03-27</d><h>21:20</h><w>eraserhd</w>There should probably be a :ParinferOn.</z><z id="t1522185648" t="eraserhd And on/off should probably be independent of mode."><y>#</y><d>2018-03-27</d><h>21:20</h><w>eraserhd</w>And on/off should probably be independent of mode.</z><z id="t1522185656" t="dominicm that&apos;s what I thought when I saw it too 🙂"><y>#</y><d>2018-03-27</d><h>21:20</h><w>dominicm</w>that&apos;s what I thought when I saw it too <b>🙂</b></z><z id="t1522185791" t="eraserhd It&apos;s no longer a toggle, either, with three modes. 🙂"><y>#</y><d>2018-03-27</d><h>21:23</h><w>eraserhd</w>It&apos;s no longer a toggle, either, with three modes. <b>🙂</b></z><z id="t1522185826" t="eraserhd Also, it should be possible to disable for a buffer, for when you are editing that one ridiculous file."><y>#</y><d>2018-03-27</d><h>21:23</h><w>eraserhd</w>Also, it should be possible to disable for a buffer, for when you are editing that one ridiculous file.</z><z id="t1522205043" t="tianshu [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] there should be a thread on https://talk.parinfer.io"><y>#</y><d>2018-03-28</d><h>02:44</h><w>tianshu</w><a>@shaunlebron</a> there should be a thread on <a href="https://talk.parinfer.io" target="_blank">https://talk.parinfer.io</a></z><z id="t1522249395" t="shaunlebron I’ll ask plexus about getting the logs so I can create a thread there"><y>#</y><d>2018-03-28</d><h>15:03</h><w>shaunlebron</w>I’ll ask plexus about getting the logs so I can create a thread there</z><z id="t1522249579" t="dominicm There&apos;s a staging site with them on"><y>#</y><d>2018-03-28</d><h>15:06</h><w>dominicm</w>There&apos;s a staging site with them on</z><z id="t1522249613" t="shaunlebron yeah i remember pinning the link to #community-development"><y>#</y><d>2018-03-28</d><h>15:06</h><w>shaunlebron</w>yeah i remember pinning the link to #community-development</z></g><g id="s22"><z id="t1522249619" t="shaunlebron but it’s down: https://clojurians-log-staging.clojureverse.org/"><y>#</y><d>2018-03-28</d><h>15:06</h><w>shaunlebron</w>but it’s down: <a href="https://clojurians-log-staging.clojureverse.org/" target="_blank">https://clojurians-log-staging.clojureverse.org/</a></z><z id="t1522249666" t="shaunlebron logs are kept in a plaintext file, per channel per day"><y>#</y><d>2018-03-28</d><h>15:07</h><w>shaunlebron</w>logs are kept in a plaintext file, per channel per day</z><z id="t1522249680" t="shaunlebron in a git repo"><y>#</y><d>2018-03-28</d><h>15:08</h><w>shaunlebron</w>in a git repo</z><z id="t1522249700" t="shaunlebron just asked if it makes sense to make that public for now"><y>#</y><d>2018-03-28</d><h>15:08</h><w>shaunlebron</w>just asked if it makes sense to make that public for now</z><z id="t1522312729" t="dominicm [:attrs {:href &quot;/_/_/users/U0ECYL0ET&quot;}] I had a &quot;wow&quot; when I showed parinfer, people were very impressed."><y>#</y><d>2018-03-29</d><h>08:38</h><w>dominicm</w><a>@eraserhd</a> I had a &quot;wow&quot; when I showed parinfer, people were very impressed.</z><z id="t1522331804" t="eraserhd yay!"><y>#</y><d>2018-03-29</d><h>13:56</h><w>eraserhd</w>yay!</z><z id="t1522344519" t="eraserhd [:attrs {:href &quot;/_/_/users/U09LZR36F&quot;}] So, I think I&apos;m convinced about &lt;&lt; . It seems intuitive enough to work around."><y>#</y><d>2018-03-29</d><h>17:28</h><w>eraserhd</w><a>@dominicm</a> So, I think I&apos;m convinced about <code>&lt;&lt;</code>.  It seems intuitive enough to work around.</z><z id="t1522344556" t="eraserhd I also notice, though, that things like cw don&apos;t correctly trigger smart mode, while dw works correctly."><y>#</y><d>2018-03-29</d><h>17:29</h><w>eraserhd</w>I also notice, though, that things like <code>cw</code> don&apos;t correctly trigger smart mode, while <code>dw</code> works correctly.</z><z id="t1522424074" t="eraserhd pushed a fix for c"><y>#</y><d>2018-03-30</d><h>15:34</h><w>eraserhd</w>pushed a fix for <code>c</code></z><z id="t1522429653" t="eraserhd thought: typing semicolon while pushing a lot of closing parens should remove the paren trail from the new comment."><y>#</y><d>2018-03-30</d><h>17:07</h><w>eraserhd</w>thought: typing semicolon while pushing a lot of closing parens should remove the paren trail from the new comment.</z><z id="t1522429678" t="eraserhd also, I accidentally hit ; a lot"><y>#</y><d>2018-03-30</d><h>17:07</h><w>eraserhd</w>also, I accidentally hit <code>;</code> a lot</z><z id="t1522429875" t="shaunlebron is there no vim “change” event to subscribe to?"><y>#</y><d>2018-03-30</d><h>17:11</h><w>shaunlebron</w>is there no vim “change” event to subscribe to?</z><z id="t1522429904" t="shaunlebron ideally, if the buffer changed, there would be an event that described the nature of the change for any operation"><y>#</y><d>2018-03-30</d><h>17:11</h><w>shaunlebron</w>ideally, if the buffer changed, there would be an event that described the nature of the change for any operation</z><z id="t1522430001" t="shaunlebron I’ve only personally integrated smart mode for Atom and CodeMirror so far. both had the “change” event I described"><y>#</y><d>2018-03-30</d><h>17:13</h><w>shaunlebron</w>I’ve only personally integrated smart mode for Atom and CodeMirror so far.  both had the “change” event I described</z><z id="t1522430952" t="justinlee [:attrs {:href &quot;/_/_/users/U0ECYL0ET&quot;}] hah i thought i was the only one. which is too bad because hitting semicolon with parinfer accidentally really causes pandemonium sometimes!"><y>#</y><d>2018-03-30</d><h>17:29</h><w>justinlee</w><a>@eraserhd</a> hah i thought i was the only one.  which is too bad because hitting semicolon with parinfer accidentally really causes pandemonium sometimes!</z><z id="t1522431050" t="eraserhd [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] Vim events are very weird. They don&apos;t carry a lot of information, like the previous cursor. So I need to find events that get triggered before each thing."><y>#</y><d>2018-03-30</d><h>17:30</h><w>eraserhd</w><a>@shaunlebron</a> Vim events are very weird.  They don&apos;t carry a lot of information, like the previous cursor.  So I need to find events that get triggered before each thing.</z><z id="t1522431107" t="eraserhd (as well as after). I&apos;m now tracking CursorMove, which helps in some cases and hurts in others."><y>#</y><d>2018-03-30</d><h>17:31</h><w>eraserhd</w>(as well as after).  I&apos;m now tracking CursorMove, which helps in some cases and hurts in others.</z><z id="t1522431148" t="eraserhd There&apos;s also weirdness where some commands which enter &quot;insert mode&quot; make changes in the process, and those changes don&apos;t emit a &quot;TextChanged*&quot; event."><y>#</y><d>2018-03-30</d><h>17:32</h><w>eraserhd</w>There&apos;s also weirdness where some commands which enter &quot;insert mode&quot; make changes in the process, and those changes don&apos;t emit a &quot;TextChanged*&quot; event.</z><z id="t1522431196" t="shaunlebron 😕 bummer"><y>#</y><d>2018-03-30</d><h>17:33</h><w>shaunlebron</w><b>😕</b> bummer</z><z id="t1522431212" t="eraserhd So sometimes I need to call parinfer on InsertEnter (e.g. a &quot;change&quot; command), and sometimes I need to store the cursor position for the next change. 🙂"><y>#</y><d>2018-03-30</d><h>17:33</h><w>eraserhd</w>So sometimes I need to call parinfer on InsertEnter (e.g. a &quot;change&quot; command), and sometimes I need to store the cursor position for the next change. <b>🙂</b></z><z id="t1522431275" t="eraserhd Well, it&apos;s going to be annoying case-by-case work, but I have a decent test rig now, so it&apos;ll get better."><y>#</y><d>2018-03-30</d><h>17:34</h><w>eraserhd</w>Well, it&apos;s going to be annoying case-by-case work, but I have a decent test rig now, so it&apos;ll get better.</z><z id="t1522690277" t="eraserhd So, I managed to figure out what to do from Vim&apos;s state, meaning that I can use the same event handler on the several weird Vim events we need to handle, and it Just Works (tm)."><y>#</y><d>2018-04-02</d><h>17:31</h><w>eraserhd</w>So, I managed to figure out what to do from Vim&apos;s state, meaning that I can use the same event handler on the several weird Vim events we need to handle, and it Just Works (tm).</z><z id="t1522690339" t="eraserhd Also, I wonder if [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] has thought about smart mode and tabular arrangement of code... e.g. case and cond when the conditions are simple."><y>#</y><d>2018-04-02</d><h>17:32</h><w>eraserhd</w>Also, I wonder if <a>@shaunlebron</a> has thought about smart mode and tabular arrangement of code... e.g. <code>case</code> and <code>cond</code> when the conditions are simple.</z><z id="t1522691364" t="dominicm [:attrs {:href &quot;/_/_/users/U0ECYL0ET&quot;}] tell me, tell me 😛"><y>#</y><d>2018-04-02</d><h>17:49</h><w>dominicm</w><a>@eraserhd</a> tell me, tell me <b>😛</b></z><z id="t1522693640" t="eraserhd about the vim events, or about the tabular code?"><y>#</y><d>2018-04-02</d><h>18:27</h><w>eraserhd</w>about the vim events, or about the tabular code?</z><z id="t1522694324" t="dominicm the vim events 🙂"><y>#</y><d>2018-04-02</d><h>18:38</h><w>dominicm</w>the vim events <b>🙂</b></z><z id="t1522694536" t="eraserhd Vim has b:changedtick , which seems to be monotonically increasing every time the buffer changes. So, my only event handler checks if we&apos;ve seen this tick, if not runs parinfer, updates buffer and cursor pos, etc. Then stores the cursor position for next time."><y>#</y><d>2018-04-02</d><h>18:42</h><w>eraserhd</w>Vim has <code>b:changedtick</code>, which seems to be monotonically increasing every time the buffer changes.  So, my only event handler checks if we&apos;ve seen this tick, if not runs parinfer, updates buffer and cursor pos, etc.  Then stores the cursor position for next time.</z><z id="t1522694588" t="eraserhd It runs on all the events we need, and doesn&apos;t need to figure out what&apos;s happening: CursorMoved, TextChangedI, InsertEnter, etc."><y>#</y><d>2018-04-02</d><h>18:43</h><w>eraserhd</w>It runs on all the events we need, and doesn&apos;t need to figure out what&apos;s happening: CursorMoved, TextChangedI, InsertEnter, etc.</z><z id="t1522694670" t="dominicm Interesting. Does this mean that it works better?"><y>#</y><d>2018-04-02</d><h>18:44</h><w>dominicm</w>Interesting. Does this mean that it works better?</z><z id="t1522694844" t="eraserhd Fixing c broke some stuff, including &gt;&gt; , doing this made everything I know about work again. Even J seems to do the right thing now."><y>#</y><d>2018-04-02</d><h>18:47</h><w>eraserhd</w>Fixing <code>c</code> broke some stuff, including <code>&gt;&gt;</code>, doing this made everything I know about work again.  Even <code>J</code> seems to do the right thing now.</z><z id="t1522694849" t="eraserhd weirdly."><y>#</y><d>2018-04-02</d><h>18:47</h><w>eraserhd</w>weirdly.</z><z id="t1522694877" t="eraserhd So, I&apos;m going to say yes. I could use more test coverage though 😄"><y>#</y><d>2018-04-02</d><h>18:47</h><w>eraserhd</w>So, I&apos;m going to say yes.  I could use more test coverage though <b>😄</b></z><z id="t1522695506" t="dominicm I looked forward to running :PlugUpdate!"><y>#</y><d>2018-04-02</d><h>18:58</h><w>dominicm</w>I looked forward to running :PlugUpdate!</z><z id="t1522767855" t="eraserhd [:attrs {:href &quot;/_/_/users/U066LQXPZ&quot;}] Are you sure? Same thing happens on parinfer-rust , and that&apos;s my understanding of how it operates."><y>#</y><d>2018-04-03</d><h>15:04</h><w>eraserhd</w><a>@dave.dixon</a> Are you sure?  Same thing happens on <code>parinfer-rust</code>, and that&apos;s my understanding of how it operates.</z><z id="t1522767891" t="eraserhd It definitely would be nice if it took the change into account. I wonder how to do that."><y>#</y><d>2018-04-03</d><h>15:04</h><w>eraserhd</w>It definitely would be nice if it took the change into account.  I wonder how to do that.</z><z id="t1522768747" t="sparkofreason [:attrs {:href &quot;/_/_/users/U0ECYL0ET&quot;}] Positive, just sanity-checked now. It&apos;s probably why the behavior jumped out at me when switching from atom to cursive."><y>#</y><d>2018-04-03</d><h>15:19</h><w>sparkofreason</w><a>@eraserhd</a> Positive, just sanity-checked now. It&apos;s probably why the behavior jumped out at me when switching from atom to cursive.</z><z id="t1522770009" t="justinlee hang on, does cursive even have parinfer smart mode? I don’t see it as an option even"><y>#</y><d>2018-04-03</d><h>15:40</h><w>justinlee</w>hang on, does cursive even have parinfer smart mode?  I don’t see it as an option even</z><z id="t1522771014" t="sparkofreason No. I think the Cursive implementation is &quot;smart mode&quot;, but it looks like there are differences."><y>#</y><d>2018-04-03</d><h>15:56</h><w>sparkofreason</w>No. I think the Cursive implementation is &quot;smart mode&quot;, but it looks like there are differences.</z><z id="t1522771166" t="justinlee huh. i must have it misconfigured because it doesn’t do the thing where it “pushes” the lines below during insert"><y>#</y><d>2018-04-03</d><h>15:59</h><w>justinlee</w>huh.  i must have it misconfigured because it doesn’t do the thing where it “pushes” the lines below during insert</z><z id="t1522771625" t="sparkofreason Looks like none of the &quot;paredit&quot; behaviors work in atom, and because of that I&apos;m not in the habit of using those in cursive. That must be the trade-off."><y>#</y><d>2018-04-03</d><h>16:07</h><w>sparkofreason</w>Looks like none of the &quot;paredit&quot; behaviors work in atom, and because of that I&apos;m not in the habit of using those in cursive. That must be the trade-off.</z><z id="t1522771667" t="shaunlebron [:attrs {:href &quot;/_/_/users/U8ES68TGX&quot;}] smart mode is only in the early release version"><y>#</y><d>2018-04-03</d><h>16:07</h><w>shaunlebron</w><a>@lee.justin.m</a> smart mode is only in the early release version</z><z id="t1522771677" t="shaunlebron in cursive i mean"><y>#</y><d>2018-04-03</d><h>16:07</h><w>shaunlebron</w>in cursive i mean</z><z id="t1522772053" t="sparkofreason I see now why it would be difficult to get this &quot;right&quot; without detailed context from the editor about exactly what changed."><y>#</y><d>2018-04-03</d><h>16:14</h><w>sparkofreason</w>I see now why it would be difficult to get this &quot;right&quot; without detailed context from the editor about exactly what changed.</z><z id="t1522772236" t="shaunlebron [:attrs {:href &quot;/_/_/users/U066LQXPZ&quot;}] re: your example from yesterday—this should be used as the base for what behavior is canonical. can you reproduce here? https://shaunlebron.github.io/parinfer/demo"><y>#</y><d>2018-04-03</d><h>16:17</h><w>shaunlebron</w><a>@dave.dixon</a> re: your example from yesterday—this should be used as the base for what behavior is canonical.  can you reproduce here? <a href="https://shaunlebron.github.io/parinfer/demo" target="_blank">https://shaunlebron.github.io/parinfer/demo</a></z><z id="t1522772337" t="sparkofreason Yes. I understand why now."><y>#</y><d>2018-04-03</d><h>16:18</h><w>sparkofreason</w>Yes. I understand why now.</z><z id="t1522772844" t="sparkofreason What is expected in this case: (fn [a] (foo)) , delete [ , yields (fn a] (foo) . Has the barf behavior if the [] are nested."><y>#</y><d>2018-04-03</d><h>16:27</h><w>sparkofreason</w>What is expected in this case: <code>(fn [a] (foo))</code>, delete <code>[</code>, yields <code>(fn a] (foo)</code>. Has the barf behavior if the <code>[]</code> are nested.</z><z id="t1522772930" t="sparkofreason And the above is only observed for the single line case."><y>#</y><d>2018-04-03</d><h>16:28</h><w>sparkofreason</w>And the above is only observed for the single line case.</z><z id="t1522772974" t="shaunlebron you can check the canonical editor again for an exact answer"><y>#</y><d>2018-04-03</d><h>16:29</h><w>shaunlebron</w>you can check the canonical editor again for an exact answer</z><z id="t1522772994" t="shaunlebron but “paredit” behavior is something that I will not be advertising anymore"><y>#</y><d>2018-04-03</d><h>16:29</h><w>shaunlebron</w>but “paredit” behavior is something that I will not be advertising anymore</z><z id="t1522773016" t="shaunlebron i didn’t really understand why it worked initially"><y>#</y><d>2018-04-03</d><h>16:30</h><w>shaunlebron</w>i didn’t really understand why it worked initially</z><z id="t1522773026" t="shaunlebron but now i understand why it doesn’t work in these inline cases"><y>#</y><d>2018-04-03</d><h>16:30</h><w>shaunlebron</w>but now i understand why it doesn’t work in these inline cases</z><z id="t1522773080" t="shaunlebron there are two choices that parinfer has to choose from in the case you described"><y>#</y><d>2018-04-03</d><h>16:31</h><w>shaunlebron</w>there are two choices that parinfer has to choose from in the case you described</z><z id="t1522773096" t="shaunlebron and it uses forceBalance option to pick one of the two"><y>#</y><d>2018-04-03</d><h>16:31</h><w>shaunlebron</w>and it uses <code>forceBalance</code> option to pick one of the two</z><z id="t1522773112" t="shaunlebron you can play with that option in the demo editor too"><y>#</y><d>2018-04-03</d><h>16:31</h><w>shaunlebron</w>you can play with that option in the demo editor too</z><z id="t1522773216" t="shaunlebron forcebalance on is super aggressive and will likely restructure your code in unwanted ways. forcebalance off trusts that you can fix the inline imbalances yourself"><y>#</y><d>2018-04-03</d><h>16:33</h><w>shaunlebron</w><code>forcebalance on</code> is super aggressive and will likely restructure your code in unwanted ways.  <code>forcebalance off</code> trusts that you can fix the inline imbalances yourself</z><z id="t1522773249" t="sparkofreason Got it. Thanks."><y>#</y><d>2018-04-03</d><h>16:34</h><w>sparkofreason</w>Got it. Thanks.</z><z id="t1522777450" t="eraserhd Just got bit by a %s/short-name/much-longer-name/ in a file breaking indent."><y>#</y><d>2018-04-03</d><h>17:44</h><w>eraserhd</w>Just got bit by a %s/short-name/much-longer-name/ in a file breaking indent.</z><z id="t1522787183" t="eraserhd I think that&apos;s pretty much impossible with Vim. But I still want it 🙂"><y>#</y><d>2018-04-03</d><h>20:26</h><w>eraserhd</w>I think that&apos;s pretty much impossible with Vim.  But I still want it <b>🙂</b></z><z id="t1522787622" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] Any idea why Atom isn’t exhibiting the canonical behaviour in [:attrs {:href &quot;/_/_/users/U066LQXPZ&quot;}] ’s case?"><y>#</y><d>2018-04-03</d><h>20:33</h><w>cfleming</w><a>@shaunlebron</a> Any idea why Atom isn’t exhibiting the canonical behaviour in <a>@dave.dixon</a>’s case?</z><z id="t1522788178" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] [:attrs {:href &quot;/_/_/users/U066LQXPZ&quot;}] can’t reproduce, i’d record a gif, but i’m screen recording a meeting right now"><y>#</y><d>2018-04-03</d><h>20:42</h><w>shaunlebron</w><a>@cfleming</a> <a>@dave.dixon</a> can’t reproduce, i’d record a gif, but i’m screen recording a meeting right now</z><z id="t1522788335" t="eraserhd hmm, /me has just realized that (x| y\n z) , typing something doesn&apos;t push z to the right."><y>#</y><d>2018-04-03</d><h>20:45</h><w>eraserhd</w>hmm, /me has just realized that <code>(x| y\n    z)</code>, typing something doesn&apos;t push <code>z</code> to the right.</z><z id="t1522788365" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0ECYL0ET&quot;}] yeah the search/replace is a prime example of why all changes need to be passed to the parinfer’s changes option"><y>#</y><d>2018-04-03</d><h>20:46</h><w>shaunlebron</w><a>@eraserhd</a> yeah the search/replace is a prime example of why all changes need to be passed to the parinfer’s changes option</z><z id="t1522788379" t="eraserhd Oh... if I did that, it would work?"><y>#</y><d>2018-04-03</d><h>20:46</h><w>eraserhd</w>Oh... if I did that, it would work?</z><z id="t1522788407" t="shaunlebron yeah, i have pages of these kinds of test cases that we are covering with the changes options"><y>#</y><d>2018-04-03</d><h>20:46</h><w>shaunlebron</w>yeah, i have pages of these kinds of test cases that we are covering with the <code>changes</code> options</z><z id="t1522788440" t="eraserhd ahhh. Hmm. I wonder if that&apos;s possible in Vim."><y>#</y><d>2018-04-03</d><h>20:47</h><w>eraserhd</w>ahhh.  Hmm.  I wonder if that&apos;s possible in Vim.</z><z id="t1522839072" t="eraserhd [:attrs {:href &quot;/_/_/users/U09LZR36F&quot;}] oh man, I think I failed to push after last changes. Try now."><y>#</y><d>2018-04-04</d><h>10:51</h><w>eraserhd</w><a>@dominicm</a> oh man, I think I failed to push after last changes.  Try now.</z><z id="t1522874127" t="shaunlebron it could just be parinfer-core if I throw away the JS code in favor of the compiled wasm"><y>#</y><d>2018-04-04</d><h>20:35</h><w>shaunlebron</w>it could just be <code>parinfer-core</code> if I throw away the JS code in favor of the compiled wasm</z><z id="t1522874242" t="eraserhd 😄"><y>#</y><d>2018-04-04</d><h>20:37</h><w>eraserhd</w><b>😄</b></z><z id="t1522875523" t="shaunlebron i tend to favor clarity over cleverness with naming"><y>#</y><d>2018-04-04</d><h>20:58</h><w>shaunlebron</w>i tend to favor clarity over cleverness with naming</z><z id="t1522875566" t="shaunlebron but I did give this project an unpronounceable name"><y>#</y><d>2018-04-04</d><h>20:59</h><w>shaunlebron</w>but I did give this project an unpronounceable name</z><z id="t1522875805" t="eraserhd I&apos;ve actually discussed the naming. My sweetie and I disagree. I say PEAR-in-fur."><y>#</y><d>2018-04-04</d><h>21:03</h><w>eraserhd</w>I&apos;ve actually discussed the naming.  My sweetie and I disagree.  I say PEAR-in-fur.</z><z id="t1522875826" t="eraserhd I can&apos;t even recall the other way to say it."><y>#</y><d>2018-04-04</d><h>21:03</h><w>eraserhd</w>I can&apos;t even recall the other way to say it.</z><z id="t1522875960" t="spiralganglion Par-in-fur?"><y>#</y><d>2018-04-04</d><h>21:06</h><w>spiralganglion</w>Par-in-fur?</z><z id="t1522876012" t="eraserhd I think, but I think the accent was on a weird syllable."><y>#</y><d>2018-04-04</d><h>21:06</h><w>eraserhd</w>I think, but I think the accent was on a weird syllable.</z><z id="t1522876242" t="shaunlebron ’par-in-fur is how I say it"><y>#</y><d>2018-04-04</d><h>21:10</h><w>shaunlebron</w>’par-in-fur is how I say it</z><z id="t1522876429" t="shaunlebron but i’ve heard every variation"><y>#</y><d>2018-04-04</d><h>21:13</h><w>shaunlebron</w>but i’ve heard every variation</z><z id="t1522877807" t="cfleming I’m a PAR-in-fur man myself"><y>#</y><d>2018-04-04</d><h>21:36</h><w>cfleming</w>I’m a PAR-in-fur man myself</z><z id="t1522879170" t="rgdelato I feel like I say it with a slightly longer gap between the first and second syllable, almost as if it was two words: &quot;par infer&quot;"><y>#</y><d>2018-04-04</d><h>21:59</h><w>rgdelato</w>I feel like I say it with a slightly longer gap between the first and second syllable, almost as if it was two words: &quot;par infer&quot;</z><z id="t1522880777" t="spiralganglion Ack, nope, now it&apos;s stuck in my head forever, thanks [:attrs {:href &quot;/_/_/users/U47KWM4UV&quot;}] ... &quot;Venus Infers&quot;"><y>#</y><d>2018-04-04</d><h>22:26</h><w>spiralganglion</w>Ack, nope, now it&apos;s stuck in my head forever, thanks <a>@rgdelato</a>...

&quot;Venus Infers&quot;</z><z id="t1522881086" t="snoe I think I say parrin’-fur"><y>#</y><d>2018-04-04</d><h>22:31</h><w>snoe</w>I think I say parrin’-fur</z><z id="t1522920248" t="cfleming Here’s a comment from a user on the Cursive mailing list:"><y>#</y><d>2018-04-05</d><h>09:24</h><w>cfleming</w>Here’s a comment from a user on the Cursive mailing list:</z><z id="t1522920270" t="cfleming Colin and Shaun; I love the new smart mode in Cursive! Things I especially like: * It knows exactly what I want to happen... I’m not sure how to put this is words but every edit I’ve blindly typed has resulted in the exact form changes I was hoping for. One example is how when you open parens near a symbol it wraps the symbol or form... saves me a lot of slurping! But it goes a long way beyond this, adding parens, quotes, indentation feels very natural at this point. * I like how it indents the entire form when I add stuff in front of an existing form * The whitespace changes are less aggressive * I like being able to still use paredit commands like “unwrap” so I don’t need to jump around the form much. Great stuff 🙂"><y>#</y><d>2018-04-05</d><h>09:24</h><w>cfleming</w>Colin and Shaun; I love the new smart mode in Cursive!

Things I especially like:
  * It knows exactly what I want to happen... I’m not sure how to put this is words but every edit I’ve blindly typed has resulted in the exact form changes I was hoping for. One example is how when you open parens near a symbol it wraps the symbol or form... saves me a lot of slurping! But it goes a long way beyond this, adding parens, quotes, indentation feels very natural at this point.
  * I like how it indents the entire form when I add stuff in front of an existing form
  * The whitespace changes are less aggressive
  * I like being able to still use paredit commands like “unwrap” so I don’t need to jump around the form much.

Great stuff <b>🙂</b></z><z id="t1522920299" t="cfleming (comment was from [:attrs {:href &quot;/_/_/users/U06S1EJPL&quot;}] )"><y>#</y><d>2018-04-05</d><h>09:24</h><w>cfleming</w>(comment was from <a>@timothypratley</a>)</z><z id="t1523264384" t="raymcdermott hi [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] I have started writing a REPL in CLJS"><y>#</y><d>2018-04-09</d><h>08:59</h><w>raymcdermott</w>hi <a>@shaunlebron</a> I have started writing a REPL in CLJS</z><z id="t1523264459" t="raymcdermott to aid the effort I have updated the parinfer-cljs library to support v3"><y>#</y><d>2018-04-09</d><h>09:00</h><w>raymcdermott</w>to aid the effort I have updated the parinfer-cljs library to support v3</z><z id="t1523264464" t="raymcdermott and made a PR"><y>#</y><d>2018-04-09</d><h>09:01</h><w>raymcdermott</w>and made a PR</z><z id="t1523264478" t="raymcdermott I would appreciate your thoughts"><y>#</y><d>2018-04-09</d><h>09:01</h><w>raymcdermott</w>I would appreciate your thoughts</z><z id="t1523291431" t="shaunlebron [:attrs {:href &quot;/_/_/users/U04V5V0V4&quot;}] cool thanks, I replied: https://github.com/shaunlebron/parinfer-cljs/pull/5"><y>#</y><d>2018-04-09</d><h>16:30</h><w>shaunlebron</w><a>@raymcdermott</a> cool thanks, I replied: <a href="https://github.com/shaunlebron/parinfer-cljs/pull/5" target="_blank">https://github.com/shaunlebron/parinfer-cljs/pull/5</a></z><z id="t1523291452" t="shaunlebron I wonder why my old github repos don’t have me watching them by default anymore"><y>#</y><d>2018-04-09</d><h>16:30</h><w>shaunlebron</w>I wonder why my old github repos don’t have me watching them by default anymore</z><z id="t1523292400" t="raymcdermott when using parinfer, my biggest mental block is how to process newlines"><y>#</y><d>2018-04-09</d><h>16:46</h><w>raymcdermott</w>when using parinfer, my biggest mental block is how to process newlines</z><z id="t1523292433" t="raymcdermott you suggest processing via parenmode in the docs but it still seems weird"><y>#</y><d>2018-04-09</d><h>16:47</h><w>raymcdermott</w>you suggest processing via parenmode in the docs but it still seems weird</z><z id="t1523292460" t="raymcdermott cos the line-number reports back the previous line not the new line"><y>#</y><d>2018-04-09</d><h>16:47</h><w>raymcdermott</w>cos the line-number reports back the previous line not the new line</z><z id="t1523292485" t="raymcdermott and I don’t want to code around that … so maybe I have something off"><y>#</y><d>2018-04-09</d><h>16:48</h><w>raymcdermott</w>and I don’t want to code around that … so maybe I have something off</z><z id="t1523292540" t="raymcdermott BTW I’m trying to code the REPL in a HTML textarea using reframe rather than code mirror"><y>#</y><d>2018-04-09</d><h>16:49</h><w>raymcdermott</w>BTW I’m trying to code the REPL in a HTML textarea using reframe rather than code mirror</z><z id="t1523292630" t="raymcdermott I see people make movies …. is that how you would prefer to understand / review any perceived glitches?"><y>#</y><d>2018-04-09</d><h>16:50</h><w>raymcdermott</w>I see people make movies …. is that how you would prefer to understand / review any perceived glitches?</z><z id="t1523292836" t="shaunlebron 1. smart mode should handle what to do based on when you press Enter if that’s what you mean 2. you will save yourself loads of time if you use the official parinfer-codemirror addon. The integration bits are nontrivial: https://github.com/shaunlebron/parinfer-codemirror"><y>#</y><d>2018-04-09</d><h>16:53</h><w>shaunlebron</w>1. smart mode should handle what to do based on when you press Enter if that’s what you mean
2. you will save yourself loads of time if you use the official parinfer-codemirror addon.  The integration bits are nontrivial: <a href="https://github.com/shaunlebron/parinfer-codemirror" target="_blank">https://github.com/shaunlebron/parinfer-codemirror</a></z><z id="t1523293670" t="raymcdermott I wasn’t going to use code-mirror - is that a mistake? Does everyone else do that?"><y>#</y><d>2018-04-09</d><h>17:07</h><w>raymcdermott</w>I wasn’t going to use code-mirror - is that a mistake? Does everyone else do that?</z><z id="t1523296402" t="shaunlebron i’m not sure what others do, i get little feedback on that kind of thing"><y>#</y><d>2018-04-09</d><h>17:53</h><w>shaunlebron</w>i’m not sure what others do, i get little feedback on that kind of thing</z><z id="t1523296412" t="shaunlebron i know a couple people use the parinfer-codemirror addon"><y>#</y><d>2018-04-09</d><h>17:53</h><w>shaunlebron</w>i know a couple people use the parinfer-codemirror addon</z><z id="t1523297264" t="raymcdermott ok, thanks"><y>#</y><d>2018-04-09</d><h>18:07</h><w>raymcdermott</w>ok, thanks</z><z id="t1523928068" t="cfleming Does the atom integration of parinfer have forceBalance on by default?"><y>#</y><d>2018-04-17</d><h>01:21</h><w>cfleming</w>Does the atom integration of parinfer have forceBalance on by default?</z><z id="t1523928155" t="cfleming I’m investigating https://github.com/cursive-ide/cursive/issues/1964 , and the only way I can reproduce what they describe in the parinfer demo is by enabling forceBalance."><y>#</y><d>2018-04-17</d><h>01:22</h><w>cfleming</w>I’m investigating <a href="https://github.com/cursive-ide/cursive/issues/1964" target="_blank">https://github.com/cursive-ide/cursive/issues/1964</a>, and the only way I can reproduce what they describe in the parinfer demo is by enabling forceBalance.</z><z id="t1523980681" t="shaunlebron forceBalance is on by default in Atom"><y>#</y><d>2018-04-17</d><h>15:58</h><w>shaunlebron</w>forceBalance is on by default in Atom</z><z id="t1523980759" t="shaunlebron [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] may have been right if people don’t care about edge cases and just want guaranteed balance"><y>#</y><d>2018-04-17</d><h>15:59</h><w>shaunlebron</w><a>@chrisoakman</a> may have been right if people don’t care about edge cases and just want guaranteed balance</z><z id="t1523980785" t="shaunlebron (it was his decision to have forceBalance on by default in atom)"><y>#</y><d>2018-04-17</d><h>15:59</h><w>shaunlebron</w>(it was his decision to have forceBalance on by default in atom)</z><z id="t1524001098" t="cfleming Several people have complained about it to me, but I don’t know how representative that is."><y>#</y><d>2018-04-17</d><h>21:38</h><w>cfleming</w>Several people have complained about it to me, but I don’t know how representative that is.</z><z id="t1524008788" t="cfleming I have at least one vigorous vote for forceBalance. One thing I hadn’t considered is that when forceBalance is off, cutting and pasting unbalanced code causes the editor to mark errors that the user has to fix by hand sometimes."><y>#</y><d>2018-04-17</d><h>23:46</h><w>cfleming</w>I have at least one vigorous vote for forceBalance. One thing I hadn’t considered is that when forceBalance is off, cutting and pasting unbalanced code causes the editor to mark errors that the user has to fix by hand sometimes.</z><z id="t1524008936" t="cfleming I wonder, is it possible to detect the edge conditions (when forceBalance is on) and return their location, so that editors could provide a popup saying something along the lines of “you might want to double check I did the right thing here”?"><y>#</y><d>2018-04-17</d><h>23:48</h><w>cfleming</w>I wonder, is it possible to detect the edge conditions (when forceBalance is on) and return their location, so that editors could provide a popup saying something along the lines of “you might want to double check I did the right thing here”?</z><z id="t1524008993" t="cfleming I don’t know how annoying that would be."><y>#</y><d>2018-04-17</d><h>23:49</h><w>cfleming</w>I don’t know how annoying that would be.</z><z id="t1524009028" t="cfleming I guess it might very frequently indicate correct code, such that people end up ignoring it anyway and missing cases when the code is actually broken."><y>#</y><d>2018-04-17</d><h>23:50</h><w>cfleming</w>I guess it might very frequently indicate correct code, such that people end up ignoring it anyway and missing cases when the code is actually broken.</z><z id="t1524009145" t="cfleming I’m also struggling with a bug at the moment due to returning edits. When the paren trail is clamped to the cursor and there are edits within the paren trail, that’s very hard to calculate correctly. I may have to revisit edits in light of that."><y>#</y><d>2018-04-17</d><h>23:52</h><w>cfleming</w>I’m also struggling with a bug at the moment due to returning edits. When the paren trail is clamped to the cursor and there are edits within the paren trail, that’s very hard to calculate correctly. I may have to revisit edits in light of that.</z><z id="t1524055508" t="eraserhd Wait, paste will work if I just turn on force balance?"><y>#</y><d>2018-04-18</d><h>12:45</h><w>eraserhd</w>Wait, paste will work if I just turn on force balance?</z><z id="t1524055528" t="eraserhd Or &quot;kinda work&quot;?"><y>#</y><d>2018-04-18</d><h>12:45</h><w>eraserhd</w>Or &quot;kinda work&quot;?</z><z id="t1524056520" t="dominicm I just tried it in the online demo, force balance didn&apos;t fix my pasting woes"><y>#</y><d>2018-04-18</d><h>13:02</h><w>dominicm</w>I just tried it in the online demo, force balance didn&apos;t fix my pasting woes</z><z id="t1524056532" t="dominicm https://shaunlebron.github.io/parinfer/demo.html that is"><y>#</y><d>2018-04-18</d><h>13:02</h><w>dominicm</w><a href="https://shaunlebron.github.io/parinfer/demo.html" target="_blank">https://shaunlebron.github.io/parinfer/demo.html</a> that is</z><z id="t1524056608" t="dominicm [:attrs {:href &quot;/_/_/users/U0ECYL0ET&quot;}] have you tried doing something like if &amp;paste then paren_mode else smart_mode for vim?"><y>#</y><d>2018-04-18</d><h>13:03</h><w>dominicm</w><a>@eraserhd</a> have you tried doing something like <code>if &amp;paste then paren_mode else smart_mode</code> for vim?</z><z id="t1524059469" t="eraserhd ah. I have not. That&apos;s interesting."><y>#</y><d>2018-04-18</d><h>13:51</h><w>eraserhd</w>ah.  I have not.   That&apos;s interesting.</z><z id="t1524059518" t="eraserhd I mean, that only works for pasting into the terminal, and it assumes you are pasting something already balanced."><y>#</y><d>2018-04-18</d><h>13:51</h><w>eraserhd</w>I mean, that only works for pasting into the terminal, and it assumes you are pasting something already balanced.</z><z id="t1524059522" t="eraserhd Is that a good assumption?"><y>#</y><d>2018-04-18</d><h>13:52</h><w>eraserhd</w>Is that a good assumption?</z><z id="t1524059673" t="dominicm better than the current situation of messing up the balance when pasting?"><y>#</y><d>2018-04-18</d><h>13:54</h><w>dominicm</w>better than the current situation of messing up the balance when pasting?</z><z id="t1524059919" t="eraserhd Well, paren mode will fail if it&apos;s not balanced."><y>#</y><d>2018-04-18</d><h>13:58</h><w>eraserhd</w>Well, paren mode will fail if it&apos;s not balanced.</z><z id="t1524059959" t="eraserhd I wonder if this is what partialResult is for."><y>#</y><d>2018-04-18</d><h>13:59</h><w>eraserhd</w>I wonder if this is what partialResult is for.</z><z id="t1524060027" t="eraserhd Oh, wait. Pasting into the terminal will be receiving 1000 edits. That probably won&apos;t work."><y>#</y><d>2018-04-18</d><h>14:00</h><w>eraserhd</w>Oh, wait.  Pasting into the terminal will be receiving 1000 edits.  That probably won&apos;t work.</z><z id="t1524060178" t="dominicm could you batch while someone is in paste? :thinking_face:"><y>#</y><d>2018-04-18</d><h>14:02</h><w>dominicm</w>could you batch while someone is in paste? <b>:thinking_face:</b></z><z id="t1524060224" t="dominicm like, first message in paste = cursor start position, and when you&apos;re finally in &amp;nopaste, then you send the whole set of changes. Getting a bit complicated now though."><y>#</y><d>2018-04-18</d><h>14:03</h><w>dominicm</w>like, first message in paste = cursor start position, and when you&apos;re finally in &amp;nopaste, then you send the whole set of changes. Getting a bit complicated now though.</z><z id="t1524061308" t="eraserhd Hmm. Well, I think disabling while in paste is a good start. I think that&apos;s what it&apos;s for. It might be doable and nice to run paren mode on the first event after paste is disabled. Or add a command to run it manually?"><y>#</y><d>2018-04-18</d><h>14:21</h><w>eraserhd</w>Hmm.  Well, I think disabling while in paste is a good start.  I think that&apos;s what it&apos;s for.  It might be doable and nice to run paren mode on the first event after paste is disabled.  Or add a command to run it manually?</z><z id="t1524064821" t="eraserhd It seems force_balance doesn&apos;t work the same on the rust port. I shall fix."><y>#</y><d>2018-04-18</d><h>15:20</h><w>eraserhd</w>It seems force_balance doesn&apos;t work the same on the rust port.  I shall fix.</z><z id="t1524065328" t="eraserhd &gt;&gt;&gt; Hey! If anyone wants to write the online documentation for the parinfer-rust Vim plugin, that&apos;s a thing which I would greatly appreciate. &lt;&lt;&lt;"><y>#</y><d>2018-04-18</d><h>15:28</h><w>eraserhd</w>&gt;&gt;&gt; Hey!  If anyone wants to write the online documentation for the parinfer-rust Vim plugin, that&apos;s a thing which I would greatly appreciate. &lt;&lt;&lt;</z><z id="t1524065351" t="eraserhd The Vim online documentation, I mean."><y>#</y><d>2018-04-18</d><h>15:29</h><w>eraserhd</w>The Vim online documentation, I mean.</z><z id="t1524075622" t="snoe [:attrs {:href &quot;/_/_/users/U0ECYL0ET&quot;}] https://hacks.mozilla.org/2018/04/hello-wasm-pack/ might be useful for parinfer-rust?"><y>#</y><d>2018-04-18</d><h>18:20</h><w>snoe</w><a>@eraserhd</a> <a href="https://hacks.mozilla.org/2018/04/hello-wasm-pack/" target="_blank">https://hacks.mozilla.org/2018/04/hello-wasm-pack/</a> might be useful for parinfer-rust?</z><z id="t1524076322" t="eraserhd Interesting"><y>#</y><d>2018-04-18</d><h>18:32</h><w>eraserhd</w>Interesting</z><z id="t1524076351" t="eraserhd I actually saw today that there is a webassembly to jvm compiler. Don&apos;t know much about it."><y>#</y><d>2018-04-18</d><h>18:32</h><w>eraserhd</w>I actually saw today that there is a webassembly to jvm compiler.  Don&apos;t know much about it.</z><z id="t1524076396" t="eraserhd (wasm-pack article queued for reading)"><y>#</y><d>2018-04-18</d><h>18:33</h><w>eraserhd</w>(wasm-pack article queued for reading)</z><z id="t1524945226" t="eraserhd lazily working on getting parinfer-rust building for webassembly. Have to rewrite the thunk bit for it, but the rest seems to be compiling."><y>#</y><d>2018-04-28</d><h>19:53</h><w>eraserhd</w>lazily working on getting <code>parinfer-rust</code> building for webassembly.  Have to rewrite the thunk bit for it, but the rest seems to be compiling.</z><z id="t1524984297" t="tianshu any plan to make parinfer return changes again? [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}]"><y>#</y><d>2018-04-29</d><h>06:44</h><w>tianshu</w>any plan to make parinfer return <code>changes</code> again? <a>@shaunlebron</a></z><z id="t1525234272" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0NBGRGD6&quot;}] is there a need for it still? are you using parinfer-rust?"><y>#</y><d>2018-05-02</d><h>04:11</h><w>shaunlebron</w><a>@doglooksgood</a> is there a need for it still? are you using parinfer-rust?</z><z id="t1525238111" t="tianshu not yet, but I want to use it. until there&apos;s changes , some issues can be fixed."><y>#</y><d>2018-05-02</d><h>05:15</h><w>tianshu</w>not yet, but I want to use it. until there&apos;s <code>changes</code>, some issues can be fixed.</z><z id="t1525274709" t="shaunlebron can you elaborate on this"><y>#</y><d>2018-05-02</d><h>15:25</h><r>shaunlebron</r>can you elaborate on this</z><z id="t1525605841" t="tianshu yes，i will post on the issue"><y>#</y><d>2018-05-06</d><h>11:24</h><r>tianshu</r>yes，i will post on the issue</z><z id="t1525250585" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] [:attrs {:href &quot;/_/_/users/U0NBGRGD6&quot;}] FWIW I’m finding the edits a source of hard-to-fix bugs. I’m planning to move to a model which returns changed lines instead of all the individual edits. This should be easier since parinfer is quite line-based."><y>#</y><d>2018-05-02</d><h>08:43</h><w>cfleming</w><a>@shaunlebron</a> <a>@doglooksgood</a> FWIW I’m finding the edits a source of hard-to-fix bugs. I’m planning to move to a model which returns changed lines instead of all the individual edits. This should be easier since parinfer is quite line-based.</z><z id="t1525261976" t="eraserhd This will mess up smart mode, won&apos;t it?"><y>#</y><d>2018-05-02</d><h>11:52</h><w>eraserhd</w>This will mess up smart mode, won&apos;t it?</z><z id="t1525274784" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0ECYL0ET&quot;}] you’re mixing up input changes with output changes I think"><y>#</y><d>2018-05-02</d><h>15:26</h><w>shaunlebron</w><a>@eraserhd</a> you’re mixing up input changes with output changes I think</z><z id="t1525274899" t="shaunlebron input changes need to be exact to infer the right output changes"><y>#</y><d>2018-05-02</d><h>15:28</h><w>shaunlebron</w>input changes need to be exact to infer the right output changes</z><z id="t1525274962" t="shaunlebron unless the output changes themselves become detected as input changes"><y>#</y><d>2018-05-02</d><h>15:29</h><w>shaunlebron</w>unless the output changes themselves become detected as input changes</z><z id="t1525275070" t="eraserhd Ahh.. Yeah, I didn&apos;t understand what Colin was saying."><y>#</y><d>2018-05-02</d><h>15:31</h><w>eraserhd</w>Ahh.. Yeah, I didn&apos;t understand what Colin was saying.</z><z id="t1525296679" t="cfleming [:attrs {:href &quot;/_/_/users/U0ECYL0ET&quot;}] Right, Cursive’s implementation doesn’t split the input into lines, and instead of returning another whole document returns just the edits to the original document. This greatly reduces GC pressure and is much more efficient (in IntelliJ, at least, and I’m pretty sure most editors)"><y>#</y><d>2018-05-02</d><h>21:31</h><w>cfleming</w><a>@eraserhd</a> Right, Cursive’s implementation doesn’t split the input into lines, and instead of returning another whole document returns just the edits to the original document. This greatly reduces GC pressure and is much more efficient (in IntelliJ, at least, and I’m pretty sure most editors)</z><z id="t1525296745" t="cfleming But the implementation is tricky and it makes some things (like cursor holding) hard to implement. I’ve had a lot of edge case bugs as a result."><y>#</y><d>2018-05-02</d><h>21:32</h><w>cfleming</w>But the implementation is tricky and it makes some things (like cursor holding) hard to implement. I’ve had a lot of edge case bugs as a result.</z><z id="t1525304301" t="eraserhd So, I have parinfer-rust building and running with WebAssembly. The wasm tools for Rust aren&apos;t quite sorted out, so it was rough. But not sure what to do next."><y>#</y><d>2018-05-02</d><h>23:38</h><w>eraserhd</w>So, I have <code>parinfer-rust</code> building and running with WebAssembly.  The wasm tools for Rust aren&apos;t quite sorted out, so it was rough.  But not sure what to do next.</z><z id="t1525404281" t="cfleming Ok, I’ve updated my parinfer implementation to return modified lines instead of precise edits. This gets nearly all of the gain with much less incidental complexity, and makes the implementation more similar to mainline parinfer so it’s easier to keep in sync."><y>#</y><d>2018-05-04</d><h>03:24</h><w>cfleming</w>Ok, I’ve updated my parinfer implementation to return modified lines instead of precise edits. This gets nearly all of the gain with much less incidental complexity, and makes the implementation more similar to mainline parinfer so it’s easier to keep in sync.</z><z id="t1525404394" t="cfleming Basically I get the lines out of a CharSequence using subSequence(), so no char arrays are required to be allocated or copied around. I use those for the read part of the algorithm. I maintain a sorted map of line number -&gt; StringBuilder, and when I come to modify a line I populate that lazily."><y>#</y><d>2018-05-04</d><h>03:26</h><w>cfleming</w>Basically I get the lines out of a CharSequence using subSequence(), so no char arrays are required to be allocated or copied around. I use those for the read part of the algorithm. I maintain a sorted map of line number -&gt; StringBuilder, and when I come to modify a line I populate that lazily.</z><z id="t1525404474" t="cfleming There are a couple of methods which require read access to a potentially updated line, for those I check the modified line map first, and if it’s not there I get the line from the original CharSequence."><y>#</y><d>2018-05-04</d><h>03:27</h><w>cfleming</w>There are a couple of methods which require read access to a potentially updated line, for those I check the modified line map first, and if it’s not there I get the line from the original CharSequence.</z><z id="t1525404528" t="cfleming The only thing I had to add back in was the caret output position tracking, which I didn’t need when using edits. That’s a little more complicated for me because I track multiple carets, but it wasn’t too bad."><y>#</y><d>2018-05-04</d><h>03:28</h><w>cfleming</w>The only thing I had to add back in was the caret output position tracking, which I didn’t need when using edits. That’s a little more complicated for me because I track multiple carets, but it wasn’t too bad.</z><z id="t1525404618" t="cfleming Assuming there are no horrible problems I find (which I’m not expecting, the change is straightforward), I’m very happy with this solution and I’d recommend it over the edits one as the solution for https://github.com/shaunlebron/parinfer/issues/158"><y>#</y><d>2018-05-04</d><h>03:30</h><w>cfleming</w>Assuming there are no horrible problems I find (which I’m not expecting, the change is straightforward), I’m very happy with this solution and I’d recommend it over the edits one as the solution for <a href="https://github.com/shaunlebron/parinfer/issues/158" target="_blank">https://github.com/shaunlebron/parinfer/issues/158</a></z><z id="t1525615242" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] thanks for the report!"><y>#</y><d>2018-05-06</d><h>14:00</h><w>shaunlebron</w><a>@cfleming</a> thanks for the report!</z><z id="t1525615408" t="shaunlebron i’m going to copy discussions I want to remember on discourse"><y>#</y><d>2018-05-06</d><h>14:03</h><w>shaunlebron</w>i’m going to copy discussions I want to remember on discourse</z><z id="t1525615416" t="shaunlebron copied to: https://talk.parinfer.io/t/cursive-parinfer-implementation-now-returns-changed-lines/22"><y>#</y><d>2018-05-06</d><h>14:03</h><w>shaunlebron</w>copied to: <a href="https://talk.parinfer.io/t/cursive-parinfer-implementation-now-returns-changed-lines/22" target="_blank">https://talk.parinfer.io/t/cursive-parinfer-implementation-now-returns-changed-lines/22</a></z><z id="t1525616262" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0ECYL0ET&quot;}] awesome job on the wasm port 🎉"><y>#</y><d>2018-05-06</d><h>14:17</h><w>shaunlebron</w><a>@eraserhd</a> awesome job on the wasm port <b>🎉</b></z><z id="t1525616291" t="shaunlebron copied to: https://talk.parinfer.io/t/parinfer-webassembly/23"><y>#</y><d>2018-05-06</d><h>14:18</h><w>shaunlebron</w>copied to: <a href="https://talk.parinfer.io/t/parinfer-webassembly/23" target="_blank">https://talk.parinfer.io/t/parinfer-webassembly/23</a></z><z id="t1525616316" t="shaunlebron i put my next steps there"><y>#</y><d>2018-05-06</d><h>14:18</h><w>shaunlebron</w>i put my next steps there</z><z id="t1525961286" t="Drew Verlee Is the parinfer spec done? If so, can is there a place to see how roughly different implementations (emacs, cursive, atom) are close to it?"><y>#</y><d>2018-05-10</d><h>14:08</h><w>Drew Verlee</w>Is the parinfer spec done? If so, can is there a place to see how roughly different implementations (emacs, cursive, atom) are close to it?</z><z id="t1525987028" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0DJ4T5U1&quot;}] i might write a formal spec. right now we have portable tests for the core implementations, but there are currently no tests for editor-specific integration details"><y>#</y><d>2018-05-10</d><h>21:17</h><w>shaunlebron</w><a>@drewverlee</a> i might write a formal spec.  right now we have portable tests for the core implementations, but there are currently no tests for editor-specific integration details</z><z id="t1525987110" t="shaunlebron last major change to behavior that I can think of is allowing (thus enforcing) indented comments to stay inside expressions: (foo ; bar ) "><y>#</y><d>2018-05-10</d><h>21:18</h><w>shaunlebron</w>last major change to behavior that I can think of is allowing (thus enforcing) indented comments to stay inside expressions:

<pre>(foo
  ; bar
  )
</pre></z><z id="t1525987175" t="shaunlebron i’ve taken my time with this last one mainly due to its far reaching changes and some tricky bits I have to work out"><y>#</y><d>2018-05-10</d><h>21:19</h><w>shaunlebron</w>i’ve taken my time with this last one mainly due to its far reaching changes and some tricky bits I have to work out</z><z id="t1526060514" t="eraserhd Nice 🙂"><y>#</y><d>2018-05-11</d><h>17:41</h><w>eraserhd</w>Nice <b>🙂</b></z><z id="t1526060528" t="eraserhd I&apos;m taking the remaining three hours of today to work on parinfer-rust."><y>#</y><d>2018-05-11</d><h>17:42</h><w>eraserhd</w>I&apos;m taking the remaining three hours of today to work on parinfer-rust.</z><z id="t1528297138" t="eraserhd OK. *This* week. I&apos;m gonna make the push to get parinfer-rust wasm port published to npm."><y>#</y><d>2018-06-06</d><h>14:58</h><w>eraserhd</w>OK.  *This* week.  I&apos;m gonna make the push to get <code>parinfer-rust</code> wasm port published to npm.</z><z id="t1528308750" t="pez [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] are you still planning to maintain the vscode extension? I am excited about the new mode and think vscode Clojurians need it. Also I want to see that Parinfer and Calva (a more general vscode Clojure extension that I am part of maintaining) do not clash, as they do a bit today."><y>#</y><d>2018-06-06</d><h>18:12</h><w>pez</w><a>@shaunlebron</a> are you still planning to maintain the vscode extension? I am excited about the new mode and think vscode Clojurians need it. Also I want to see that Parinfer and Calva (a more general vscode Clojure extension that I am part of maintaining) do not clash, as they do a bit today.</z><z id="t1528806281" t="shaunlebron I’ll make sure PRs are reviewed and merged, but I’m not working on it right now"><y>#</y><d>2018-06-12</d><h>12:24</h><r>shaunlebron</r>I’ll make sure PRs are reviewed and merged, but I’m not working on it right now</z><z id="t1528423369" t="mikeb I&apos;ve been wondering the same thing about vscode and parinfer. Great work on Calva by the way."><y>#</y><d>2018-06-08</d><h>02:02</h><w>mikeb</w>I&apos;ve been wondering the same thing about vscode and parinfer. Great work on Calva by the way.</z><z id="t1530309905" t="eraserhd I just uploaded the wasm build of parinfer_rust to npm (0.2.0)."><y>#</y><d>2018-06-29</d><h>22:05</h><w>eraserhd</w>I just uploaded the wasm build of parinfer_rust to npm (0.2.0).</z><z id="t1530309938" t="eraserhd The package doesn&apos;t seem to need access as a promise, though I don&apos;t know why. The interface is a little bit different."><y>#</y><d>2018-06-29</d><h>22:05</h><w>eraserhd</w>The package doesn&apos;t seem to need access as a promise, though I don&apos;t know why.  The interface is a little bit different.</z><z id="t1530559590" t="eraserhd Seems like Parinfer counts unicode graphemes as one cell, even if it&apos;s a &quot;full width&quot; unicode character, e.g. &quot;ｔｅｘｔ&quot;"><y>#</y><d>2018-07-02</d><h>19:26</h><w>eraserhd</w>Seems like Parinfer counts unicode graphemes as one cell, even if it&apos;s a &quot;full width&quot; unicode character, e.g. &quot;ｔｅｘｔ&quot;</z><z id="t1531172223" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0ECYL0ET&quot;}] interesting, so these larger characters should count as two?"><y>#</y><d>2018-07-09</d><h>21:37</h><w>shaunlebron</w><a>@eraserhd</a> interesting, so these larger characters should count as two?</z><z id="t1531172284" t="shaunlebron (foo &quot;ｔｅｘｔ&quot; (bar baz)) "><y>#</y><d>2018-07-09</d><h>21:38</h><w>shaunlebron</w><pre>(foo &quot;ｔｅｘｔ&quot; (bar
                 baz))
</pre></z><z id="t1531172357" t="shaunlebron I suppose it depends on how they’re displayed in monospace"><y>#</y><d>2018-07-09</d><h>21:39</h><w>shaunlebron</w>I suppose it depends on how they’re displayed in monospace</z><z id="t1531172391" t="eraserhd Yeah, interesting question, isn&apos;t it?"><y>#</y><d>2018-07-09</d><h>21:39</h><w>eraserhd</w>Yeah, interesting question, isn&apos;t it?</z><z id="t1531172395" t="shaunlebron if they’re consistent in displaying two characters wide in monospace fonts, I think the change should be made"><y>#</y><d>2018-07-09</d><h>21:39</h><w>shaunlebron</w>if they’re consistent in displaying two characters wide in monospace fonts, I think the change should be made</z><z id="t1531172422" t="shaunlebron and i wonder if firacode users see any similar problems with ligatures"><y>#</y><d>2018-07-09</d><h>21:40</h><w>shaunlebron</w>and i wonder if firacode users see any similar problems with ligatures</z><z id="t1531172480" t="eraserhd I know Vim displays wide characters in two cells, which freaked me out first time I saw it."><y>#</y><d>2018-07-09</d><h>21:41</h><w>eraserhd</w>I know Vim displays wide characters in two cells, which freaked me out first time I saw it.</z><z id="t1531172568" t="eraserhd I think firacode should be fine, since the indentation never changes with the ligatures (I used to use it all the time)."><y>#</y><d>2018-07-09</d><h>21:42</h><w>eraserhd</w>I think firacode should be fine, since the indentation never changes with the ligatures (I used to use it all the time).</z><z id="t1531172634" t="eraserhd E.g. a three-character ligature is three monospaced characters wide."><y>#</y><d>2018-07-09</d><h>21:43</h><w>eraserhd</w>E.g. a three-character ligature is three monospaced characters wide.</z><z id="t1531173152" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0ECYL0ET&quot;}] thanks, i’ll track this in a github issue, do you have details on what ｔｅｘｔ is? just special unicode characters that are somehow double wide?"><y>#</y><d>2018-07-09</d><h>21:52</h><w>shaunlebron</w><a>@eraserhd</a> thanks, i’ll track this in a github issue, do you have details on what <code>ｔｅｘｔ</code> is?  just special unicode characters that are somehow double wide?</z><z id="t1531174702" t="eraserhd https://unicode-rs.github.io/unicode-width/unicode_width/index.html has some useful info, including a link to a Unicode annex."><y>#</y><d>2018-07-09</d><h>22:18</h><w>eraserhd</w><a href="https://unicode-rs.github.io/unicode-width/unicode_width/index.html" target="_blank">https://unicode-rs.github.io/unicode-width/unicode_width/index.html</a> has some useful info, including a link to a Unicode annex.</z><z id="t1531174803" t="eraserhd I haven&apos;t figured out all the details yet, but the rust port fails on compound characters also, so I&apos;m going to fix that first. (see https://github.com/eraserhd/parinfer-rust/issues/26 )"><y>#</y><d>2018-07-09</d><h>22:20</h><w>eraserhd</w>I haven&apos;t figured out all the details yet, but the rust port fails on compound characters also, so I&apos;m going to fix that first.  (see <a href="https://github.com/eraserhd/parinfer-rust/issues/26" target="_blank">https://github.com/eraserhd/parinfer-rust/issues/26</a> )</z><z id="t1531406731" t="dnolen any timeline for when vs-code will get an updated parinfer?"><y>#</y><d>2018-07-12</d><h>14:45</h><w>dnolen</w>any timeline for when vs-code will get an updated parinfer?</z><z id="t1531415494" t="pez I have been wanting to send that PR for a while, but haven&apos;t found the time. Can&apos;t give timeline because I don&apos;t know what it entails. But I would like to have it done within a few weeks."><y>#</y><d>2018-07-12</d><h>17:11</h><w>pez</w>I have been wanting to send that PR for a while, but haven&apos;t found the time. Can&apos;t give timeline because I don&apos;t know what it entails. But I would like to have it done within a few weeks.</z><z id="t1531534609" t="shaunlebron [:attrs {:href &quot;/_/_/users/U050B88UR&quot;}] re: vscode-parinfer updates— [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] is working on it next week actually"><y>#</y><d>2018-07-14</d><h>02:16</h><w>shaunlebron</w><a>@dnolen</a> re: vscode-parinfer updates—<a>@chrisoakman</a> is working on it next week actually</z><z id="t1531534853" t="shaunlebron [:attrs {:href &quot;/_/_/users/U050B88UR&quot;}] : just keeping tabs on it, or are other folks asking?"><y>#</y><d>2018-07-14</d><h>02:20</h><w>shaunlebron</w><a>@dnolen</a>: just keeping tabs on it, or are other folks asking?</z><z id="t1531536155" t="dnolen was putting together a workshop and was checking what the state of VSCode is vs. Atom - both editors seem suitable for beginners"><y>#</y><d>2018-07-14</d><h>02:42</h><w>dnolen</w>was putting together a workshop and was checking what the state of VSCode is vs. Atom - both editors seem suitable for beginners</z><z id="t1532009882" t="daveliepmann Hi folks, I&apos;m a Paredit user helping to onboard a new-to-Clojure dev who uses Parinfer. One merge conflict we are running into is my use of comment blocks that have the closing-paren on their own line. (This helps me rapidly navigate the code and evaluate the expression inside the comment . For example: (comment (do-stuff!) ) Apparently Parinfer sees this as a problem to correct, and automatically changes this to (comment (do-stuff!)) Is there a simple way to tell Parinfer to chill out in such scenarios, without breaking Parinfer globally?"><y>#</y><d>2018-07-19</d><h>14:18</h><w>daveliepmann</w>Hi folks, I&apos;m a Paredit user helping to onboard a new-to-Clojure dev who uses Parinfer. One merge conflict we are running into is my use of <code>comment</code> blocks that have the closing-paren on their own line. (This helps me rapidly navigate the code and evaluate the expression inside the <code>comment</code>. For example:
<pre>(comment
  (do-stuff!)
  
  )
</pre>
Apparently Parinfer sees this as a problem to correct, and automatically changes this to 
<pre>(comment
  (do-stuff!))
</pre>
Is there a simple way to tell Parinfer to chill out in such scenarios, without breaking Parinfer globally?</z><z id="t1532010941" t="dominicm You can do some stuff like #__ in the tail as a hack"><y>#</y><d>2018-07-19</d><h>14:35</h><w>dominicm</w>You can do some stuff like <code>#__</code> in the tail as a hack</z><z id="t1532011018" t="daveliepmann that&apos;s the direction we were looking too 😕"><y>#</y><d>2018-07-19</d><h>14:36</h><w>daveliepmann</w>that&apos;s the direction we were looking too <b>😕</b></z><z id="t1532011021" t="snoe cursive at least also considers (do-stuff) a top level form (ignores the comment)"><y>#</y><d>2018-07-19</d><h>14:37</h><w>snoe</w>cursive at least also considers (do-stuff) a top level form (ignores the comment)</z><z id="t1532012093" t="daveliepmann OK thanks folks—looks like #__ is the winner"><y>#</y><d>2018-07-19</d><h>14:54</h><w>daveliepmann</w>OK thanks folks—looks like <code>#__</code> is the winner</z><z id="t1532035365" t="cfleming [:attrs {:href &quot;/_/_/users/U05092LD5&quot;}] I’m pretty sure CIDER also considers forms inside comment blocks to be top-level for sending to REPL purposes - I added that after someone missed it from Emacs."><y>#</y><d>2018-07-19</d><h>21:22</h><w>cfleming</w><a>@daveliepmann</a> I’m pretty sure CIDER also considers forms inside <code>comment</code> blocks to be top-level for sending to REPL purposes - I added that after someone missed it from Emacs.</z><z id="t1532064111" t="dominicm It does"><y>#</y><d>2018-07-20</d><h>05:21</h><w>dominicm</w>It does</z><z id="t1532146204" t="henrik I’ve been putting a [] at the end of my comments to get around this."><y>#</y><d>2018-07-21</d><h>04:10</h><w>henrik</w>I’ve been putting a [] at the end of my comments to get around this.</z><z id="t1532452614" t="tianshu recently cider add a feature to eval top level inside comment block, but this feature breaking the auto-completion in comment block."><y>#</y><d>2018-07-24</d><h>17:16</h><w>tianshu</w>recently cider add a feature to eval top level inside comment block, but this feature breaking the auto-completion in comment block.</z><z id="t1532539640" t="pez Calva now lets you evaluate code inside the comment form (ignoring the comment form)."><y>#</y><d>2018-07-25</d><h>17:27</h><w>pez</w>Calva now lets you evaluate code inside the comment form (ignoring the comment form).</z><z id="t1533054017" t="misha [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] check this out http://nickgravgaard.com/elastic-tabstops/ nothing specific, just think you might find it interesting"><y>#</y><d>2018-07-31</d><h>16:20</h><w>misha</w><a>@shaunlebron</a> check this out <a href="http://nickgravgaard.com/elastic-tabstops/" target="_blank">http://nickgravgaard.com/elastic-tabstops/</a>
nothing specific, just think you might find it interesting</z><z id="t1533066232" t="shaunlebron [:attrs {:href &quot;/_/_/users/U051HUZLD&quot;}] thanks, interesting"><y>#</y><d>2018-07-31</d><h>19:43</h><w>shaunlebron</w><a>@misha</a> thanks, interesting</z><z id="t1533066310" t="shaunlebron &gt; The problem is that we’re using tabs and spaces to format text for aesthetic reasons rather than treating them semantically - tabs are for indenting and aligning text, spaces are for separating keywords."><y>#</y><d>2018-07-31</d><h>19:45</h><w>shaunlebron</w>&gt; The problem is that we’re using tabs and spaces to format text for aesthetic reasons rather than treating them semantically - tabs are for indenting and aligning text, spaces are for separating keywords.</z><z id="t1533066664" t="shaunlebron so historically, a tab character \t tells the a text editor to insert spaces until the next tabstop, which is a configurable constant for the whole file"><y>#</y><d>2018-07-31</d><h>19:51</h><w>shaunlebron</w>so historically, a tab character <code>\t</code> tells the a text editor to insert spaces until the next tabstop, which is a configurable constant for the whole file</z><z id="t1533066890" t="shaunlebron I wonder if there should just be a new standard type of character \T for an elastic tab—to insert spaces until the next elastic tabstop, determined from context rather than configuration"><y>#</y><d>2018-07-31</d><h>19:54</h><w>shaunlebron</w>I wonder if there should just be a new standard type of character <code>\T</code> for an elastic tab—to insert spaces until the next elastic tabstop, determined from context rather than configuration</z><z id="t1533067294" t="shaunlebron and maybe editors could ignore all spaces after a \T if they recognize the character, and incompatible editors would just render the spaces and ignore the \T"><y>#</y><d>2018-07-31</d><h>20:01</h><w>shaunlebron</w>and maybe editors could ignore all spaces after a <code>\T</code> if they recognize the character, and incompatible editors would just render the spaces and ignore the <code>\T</code></z><z id="t1533067386" t="shaunlebron anyway, fun to imagine how to make this interesting idea practical"><y>#</y><d>2018-07-31</d><h>20:03</h><w>shaunlebron</w>anyway, fun to imagine how to make this interesting idea practical</z><z id="t1533105513" t="henrik Hard to combine with Clojure though, isn’t it? Parinfer already aligns at the functions boundary. Maybe it could turn this: {:the :where :small :another :berry :wolf :pancake :lives} Into this: {:the :where :small :another :berry :wolf :pancake :lives} Harmoniously with parinfer? On the other hand, should it?"><y>#</y><d>2018-08-01</d><h>06:38</h><w>henrik</w>Hard to combine with Clojure though, isn’t it? Parinfer already aligns at the functions boundary.

Maybe it could turn this:
<pre>{:the :where
 :small :another
 :berry :wolf
 :pancake :lives}</pre>

Into this:

<pre>{:the     :where
 :small   :another
 :berry   :wolf
 :pancake :lives}</pre>

Harmoniously with parinfer? 

On the other hand, should it?</z><z id="t1533105606" t="henrik Structurally, it ends up emphasising the relationship of the items in the columns over than the items in the rows."><y>#</y><d>2018-08-01</d><h>06:40</h><w>henrik</w>Structurally, it ends up emphasising the relationship of the items in the columns over than the items in the rows.</z><z id="t1533313355" t="shaunlebron this could probably work with parinfer"><y>#</y><d>2018-08-03</d><h>16:22</h><w>shaunlebron</w>this could probably work with parinfer</z><z id="t1533313418" t="shaunlebron i can imagine a pre-processing step that computes the length of each tab stop, then proceeding as normal"><y>#</y><d>2018-08-03</d><h>16:23</h><w>shaunlebron</w>i can imagine a pre-processing step that computes the length of each tab stop, then proceeding as normal</z><z id="t1533313777" t="shaunlebron it’s a neat idea, but until a special elastic tab character \T becomes standard, I don’t see a path for Parinfer producing column-aligning text like this that editors can display"><y>#</y><d>2018-08-03</d><h>16:29</h><w>shaunlebron</w>it’s a neat idea, but until a special elastic tab character <code>\T</code> becomes standard, I don’t see a path for Parinfer producing column-aligning text like this that editors can display</z><z id="t1534177101" t="mattly nice to see movement on vscode-parinfer! Any idea when it&apos;ll have a new version so vscode will update it?"><y>#</y><d>2018-08-13</d><h>16:18</h><w>mattly</w>nice to see movement on vscode-parinfer! Any idea when it&apos;ll have a new version so vscode will update it?</z><z id="t1534261499" t="shaunlebron merged the PR but chris still needs me to try it out before publishing, i’ll need a day or two"><y>#</y><d>2018-08-14</d><h>15:44</h><w>shaunlebron</w>merged the PR but chris still needs me to try it out before publishing, i’ll need a day or two</z><z id="t1534264531" t="mattly no worries"><y>#</y><d>2018-08-14</d><h>16:35</h><w>mattly</w>no worries</z><z id="t1534269280" t="eraserhd Minor announcement - Undo in #vim with parinfer-rust has been broken, and it turned out to be a problem with both Vim and Neovim. Patches merged to both, bleeding edge recommended."><y>#</y><d>2018-08-14</d><h>17:54</h><w>eraserhd</w>Minor announcement - Undo in #vim with parinfer-rust has been broken, and it turned out to be a problem with both Vim and Neovim.  Patches merged to both, bleeding edge recommended.</z><z id="t1534308205" t="onetom what was that trick for forcing the inferred closing paren and the end of a (comment) expression to stay on a separate line? it was something like: (comment (some expr) ... #__) "><y>#</y><d>2018-08-15</d><h>04:43</h><w>onetom</w>what was that trick for forcing the inferred closing paren and the end of a <code>(comment)</code> expression to stay on a separate line?
it was something like:
<pre>(comment
  (some expr)
  ...
  #__)
</pre></z><z id="t1534308244" t="onetom or maybe: (comment (some expr) ... #_{}) "><y>#</y><d>2018-08-15</d><h>04:44</h><w>onetom</w>or maybe:
<pre>(comment
  (some expr)
  ...
  #_{})
</pre></z><z id="t1534313226" t="shaunlebron #__ was mentioned here"><y>#</y><d>2018-08-15</d><h>06:07</h><w>shaunlebron</w><code>#__</code> was mentioned here</z><z id="t1534403082" t="pez If anyone is testing the new version of the vscode extension that is brewing, together with Calva, this is important for a smooth experience: https://github.com/BetterThanTomorrow/calva-fmt#parinfer-and-auto-adjust-cursor-on-new-lines"><y>#</y><d>2018-08-16</d><h>07:04</h><w>pez</w>If anyone is testing the new version of the vscode extension that is brewing, together with Calva, this is important for a smooth experience: <a href="https://github.com/BetterThanTomorrow/calva-fmt#parinfer-and-auto-adjust-cursor-on-new-lines" target="_blank">https://github.com/BetterThanTomorrow/calva-fmt#parinfer-and-auto-adjust-cursor-on-new-lines</a></z><z id="t1534403264" t="pez Also, to save some time for people who want to test the bleeding edge version of Parinfer for vscode, install this VSIX package: https://clojurians.slack.com/files/U0ETXRFEW/FC8D62QGZ/vscode-parinfer-0.6.3-pez-testar.vsix"><y>#</y><d>2018-08-16</d><h>07:07</h><w>pez</w>Also, to save some time for people who want to test the bleeding edge version of Parinfer for vscode, install this VSIX package: <a href="https://clojurians.slack.com/files/U0ETXRFEW/FC8D62QGZ/vscode-parinfer-0.6.3-pez-testar.vsix" target="_blank">https://clojurians.slack.com/files/U0ETXRFEW/FC8D62QGZ/vscode-parinfer-0.6.3-pez-testar.vsix</a></z><z id="t1534404455" t="pez Let me know if this should be posted as an issue instead (thinking it might not belong there as I am testing a yet unreleased version). Anyway, is this behaviour by design? (def a [:b |↩︎:c]) (def a [:b]) |:c (Trying to show where I hit the enter key there.) I expect, and would want: (def a [:b |:c]) "><y>#</y><d>2018-08-16</d><h>07:27</h><w>pez</w>Let me know if this should be posted as an issue instead (thinking it might not belong there as I am testing a yet unreleased version). Anyway, is this behaviour by design?
<pre>(def a [:b |↩︎:c])

(def a [:b]) 
|:c
</pre>
(Trying to show where I hit the enter key there.) I expect, and would want:
<pre>(def a [:b 
        |:c])
</pre></z><z id="t1534404520" t="pez (Using smart mode)"><y>#</y><d>2018-08-16</d><h>07:28</h><w>pez</w>(Using smart mode)</z><z id="t1534405447" t="henrik [:attrs {:href &quot;/_/_/users/U0ETXRFEW&quot;}] The same done in Atom produces (def a [:b :c]) So, it looks like a bug"><y>#</y><d>2018-08-16</d><h>07:44</h><w>henrik</w><a>@pez</a> The same done in Atom produces

<pre>(def a [:b 
        :c])</pre>

So, it looks like a bug</z><z id="t1534405497" t="pez Good! 😃"><y>#</y><d>2018-08-16</d><h>07:44</h><w>pez</w>Good! <b>😃</b></z><z id="t1534459841" t="cfleming [:attrs {:href &quot;/_/_/users/U0ETXRFEW&quot;}] The source of ground truth for figuring out if a bug is yours or in parinfer itself is https://shaunlebron.github.io/parinfer/demo"><y>#</y><d>2018-08-16</d><h>22:50</h><w>cfleming</w><a>@pez</a> The source of ground truth for figuring out if a bug is yours or in parinfer itself is <a href="https://shaunlebron.github.io/parinfer/demo" target="_blank">https://shaunlebron.github.io/parinfer/demo</a></z><z id="t1534459862" t="cfleming If it works there and your version is broken, it’s your bug 🙂"><y>#</y><d>2018-08-16</d><h>22:51</h><w>cfleming</w>If it works there and your version is broken, it’s your bug <b>🙂</b></z><z id="t1534459874" t="cfleming If it’s broken over there then it’s a parinfer bug."><y>#</y><d>2018-08-16</d><h>22:51</h><w>cfleming</w>If it’s broken over there then it’s a parinfer bug.</z><z id="t1534484451" t="pez The source of ground truth! Awesome,"><y>#</y><d>2018-08-17</d><h>05:40</h><w>pez</w>The source of ground truth! Awesome,</z><z id="t1534536989" t="shaunlebron tried out smart mode on vscode, filed some bugs: - https://github.com/shaunlebron/vscode-parinfer/issues/36 - https://github.com/shaunlebron/vscode-parinfer/issues/37"><y>#</y><d>2018-08-17</d><h>20:16</h><w>shaunlebron</w>tried out smart mode on vscode, filed some bugs:
- <a href="https://github.com/shaunlebron/vscode-parinfer/issues/36" target="_blank">https://github.com/shaunlebron/vscode-parinfer/issues/36</a>
- <a href="https://github.com/shaunlebron/vscode-parinfer/issues/37" target="_blank">https://github.com/shaunlebron/vscode-parinfer/issues/37</a></z><z id="t1534585748" t="pez I notice that the source of ground truth behaves differently indenting subsequent lines when the argument is in a vector and when they are not. Not sure if I should file an issue or not, because it might be what is intended. Anyway, parinfer seems to prefer to line up the arguments also in the latter case when entering them the first time."><y>#</y><d>2018-08-18</d><h>09:49</h><w>pez</w>I notice that the source of ground truth behaves differently indenting subsequent lines when the argument is in a vector and when they are not. Not sure if I should file an issue or not, because it might be what is intended. Anyway, parinfer seems to prefer to line up the arguments also in the latter case when entering them the first time.</z><z id="t1534595826" t="henrik Yeah, that looks a bit wonky."><y>#</y><d>2018-08-18</d><h>12:37</h><w>henrik</w>Yeah, that looks a bit wonky.</z><z id="t1534607251" t="justinlee [:attrs {:href &quot;/_/_/users/U0ETXRFEW&quot;}] the issue is that in the second example, you have 2 elements from a list on the same line (bar and 1). in the first example you only have one element from the vector on the first line (1). you get the same behavior if you do this: [foo 1 2]"><y>#</y><d>2018-08-18</d><h>15:47</h><w>justinlee</w><a>@pez</a> the issue is that in the second example, you have 2 elements from a list on the same line (bar and 1).  in the first example you only have one element from the vector on the first line (1).  you get the same behavior if you do this: <pre>[foo 1
     2]</pre></z><z id="t1534607272" t="justinlee the only thing that is weird about it is that the autoindentation understands function invocations when you first type things in"><y>#</y><d>2018-08-18</d><h>15:47</h><w>justinlee</w>the only thing that is weird about it is that the autoindentation understands function invocations when you first type things in</z><z id="t1534607303" t="justinlee so it initially lines things up the right way but doesn’t keep them that way"><y>#</y><d>2018-08-18</d><h>15:48</h><w>justinlee</w>so it initially lines things up the right way but doesn’t keep them that way</z><z id="t1534612375" t="henrik You’re right, the result in Atom is also (bar 1 2) I overlooked that the 1 and 2 where not contained in a separate structure."><y>#</y><d>2018-08-18</d><h>17:12</h><w>henrik</w>You’re right, the result in Atom is also

<pre>(bar   1 
     2)</pre>

I overlooked that the <code>1</code> and <code>2</code> where not contained in a separate structure.</z><z id="t1534676077" t="pez Thanks, [:attrs {:href &quot;/_/_/users/U8ES68TGX&quot;}] , I’d like it if parinfer kept indentation that it has itself suggested, but this is certainly not a deal breaker 😃"><y>#</y><d>2018-08-19</d><h>10:54</h><w>pez</w>Thanks, <a>@lee.justin.m</a>, I’d like it if parinfer kept indentation that it has itself suggested, but this is certainly not a deal breaker <b>😃</b></z><z id="t1534800041" t="shaunlebron the indentation suggestion is from codemirror, not parinfer"><y>#</y><d>2018-08-20</d><h>21:20</h><w>shaunlebron</w>the indentation suggestion is from codemirror, not parinfer</z><z id="t1534800101" t="shaunlebron parinfer accepts different indentation prefs from the editor (2-space vs first arg aligning)"><y>#</y><d>2018-08-20</d><h>21:21</h><w>shaunlebron</w>parinfer accepts different indentation prefs from the editor (2-space vs first arg aligning)</z><z id="t1534800181" t="shaunlebron (bar 1 2) "><y>#</y><d>2018-08-20</d><h>21:23</h><w>shaunlebron</w><pre>(bar   1 
     2)
</pre></z><z id="t1534800220" t="shaunlebron I can see the desire to have parinfer correct this state"><y>#</y><d>2018-08-20</d><h>21:23</h><w>shaunlebron</w>I can see the desire to have parinfer correct this state</z><z id="t1534800291" t="shaunlebron parinfer only knows how to preserve indentation relative to the position of its parent open-paren"><y>#</y><d>2018-08-20</d><h>21:24</h><w>shaunlebron</w>parinfer only knows how to preserve indentation relative to the position of its parent open-paren</z><z id="t1534800410" t="shaunlebron I’ve been tracking this request as “indentation stickiness”"><y>#</y><d>2018-08-20</d><h>21:26</h><w>shaunlebron</w>I’ve been tracking this request as “indentation stickiness”</z><z id="t1534800412" t="shaunlebron https://github.com/shaunlebron/parinfer/issues/151"><y>#</y><d>2018-08-20</d><h>21:26</h><w>shaunlebron</w><a href="https://github.com/shaunlebron/parinfer/issues/151" target="_blank">https://github.com/shaunlebron/parinfer/issues/151</a></z><z id="t1534800624" t="shaunlebron I called it “sticky” because of the behavior this would cause in the case: 1. (foo bar baz) 2. delete foo: (| bar baz) 3. type “something”: (something| bar baz) "><y>#</y><d>2018-08-20</d><h>21:30</h><w>shaunlebron</w>I called it “sticky” because of the behavior this would cause in the case:

1.
<pre>(foo bar
   baz)
</pre>

2. delete foo:
<pre>(| bar
   baz)
</pre>

3. type “something”:
<pre>(something| bar
            baz)
</pre></z><z id="t1534800945" t="shaunlebron my point is—the user originally had two space indentation, but will end up with first-arg aligned indentation if parinfer tries to involve itself with indentation preferences not related to structure"><y>#</y><d>2018-08-20</d><h>21:35</h><w>shaunlebron</w>my point is—the user originally had two space indentation, but will end up with first-arg aligned indentation if parinfer tries to involve itself with indentation preferences not related to structure</z><z id="t1534828175" t="henrik [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] Perhaps this is something that the flex-tab thing could handle, if it was made to somehow play nice with parinfer. Parinfer to handle data structures, optionally flex-tab doohickey to handle alignment inside or between structures."><y>#</y><d>2018-08-21</d><h>05:09</h><w>henrik</w><a>@shaunlebron</a> Perhaps this is something that the flex-tab thing could handle, if it was made to somehow play nice with parinfer. Parinfer to handle data structures, optionally flex-tab doohickey to handle alignment inside or between structures.</z><z id="t1534836089" t="pez Thanks, [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] , I actually saw this reason for the behaviour, but I couldn&apos;t find a way to formulate it that even I understood myself."><y>#</y><d>2018-08-21</d><h>07:21</h><w>pez</w>Thanks, <a>@shaunlebron</a>, I actually saw this reason for the behaviour, but I couldn&apos;t find a way to formulate it that even I understood myself.</z><z id="t1534836782" t="pez While at it. Checked out Codemirror now and understand why I don&apos; t see that sticky formatting enigma in the VS Code version. It is because I haven&apos;t found a way for Calva Formatter to help indenting new lines when Parinfer is active. What happens is that Parinfer is faster than Calva Formatter (which is currently using clj-fmt ) and the editing commands that Calva Formatter calculates does not apply when Parinfer has done its things. It would be nice if we could find a way for solve this. But maybe it is something for me and the guy doing the vscode porting to sort out. Is he onboard on this Slack, perhaps?"><y>#</y><d>2018-08-21</d><h>07:33</h><w>pez</w>While at it. Checked out Codemirror now and understand why I don&apos; t see that sticky formatting enigma in the VS Code version. It is because I haven&apos;t found a way for Calva Formatter to help indenting new lines when Parinfer is active. What happens is that Parinfer is faster than Calva Formatter (which is currently using <code>clj-fmt</code>) and the editing commands that Calva Formatter calculates does not apply when Parinfer has done its things. It would be nice if we could find a way for solve this. But maybe it is something for me and the guy doing the vscode porting to sort out. Is he onboard on this Slack, perhaps?</z><z id="t1534870611" t="shaunlebron [:attrs {:href &quot;/_/_/users/U06B8J0AJ&quot;}] wow you’re right"><y>#</y><d>2018-08-21</d><h>16:56</h><w>shaunlebron</w><a>@henrik</a> wow you’re right</z><z id="t1534870708" t="shaunlebron (foo \Tbar \Tbaz) would expand to: (foo bar baz) "><y>#</y><d>2018-08-21</d><h>16:58</h><w>shaunlebron</w><pre>(foo \Tbar
 \Tbaz)
</pre>

would expand to:

<pre>(foo bar
     baz)
</pre></z><z id="t1534870782" t="shaunlebron actually, I’m not sure where the flex tabs should be to make that work"><y>#</y><d>2018-08-21</d><h>16:59</h><w>shaunlebron</w>actually, I’m not sure where the flex tabs should be to make that work</z><z id="t1534875237" t="eraserhd I think the &quot;sticky&quot; case isn&apos;t a big deal, honestly. It will happen sometimes, but pressing backspace at the beginning of the next line should fix it."><y>#</y><d>2018-08-21</d><h>18:13</h><w>eraserhd</w>I think the &quot;sticky&quot; case isn&apos;t a big deal, honestly.  It will happen sometimes, but pressing backspace at the beginning of the next line should fix it.</z><z id="t1534875248" t="eraserhd should means ideally, here."><y>#</y><d>2018-08-21</d><h>18:14</h><w>eraserhd</w>should means ideally, here.</z><z id="t1534875283" t="eraserhd And this is all because we don&apos;t have access to the metadata about how certain forms should be indented. Which I wonder about what we could do if we pass that to parinfer."><y>#</y><d>2018-08-21</d><h>18:14</h><w>eraserhd</w>And this is all because we don&apos;t have access to the metadata about how certain forms should be indented.  Which I wonder about what we could do if we pass that to parinfer.</z><z id="t1534875340" t="eraserhd In any case, many cases aren&apos;t ambiguous, and even if it worked conservatively (didn&apos;t do anything weird in ambiguous cases), it would be neat."><y>#</y><d>2018-08-21</d><h>18:15</h><w>eraserhd</w>In any case, many cases aren&apos;t ambiguous, and even if it worked conservatively (didn&apos;t do anything weird in ambiguous cases), it would be neat.</z><z id="t1534909410" t="shaunlebron &gt; pressing backspace at the beginning of the next line should fix it. parinfer exposes tabstop locations for this reason"><y>#</y><d>2018-08-22</d><h>03:43</h><w>shaunlebron</w>&gt; pressing backspace at the beginning of the next line should fix it.
parinfer exposes tabstop locations for this reason</z><z id="t1534909451" t="shaunlebron e.g. in atom, pressing shift-tab will fix it, but backspace can be made to do likewise"><y>#</y><d>2018-08-22</d><h>03:44</h><w>shaunlebron</w>e.g. in atom, pressing shift-tab will fix it, but backspace can be made to do likewise</z><z id="t1534909557" t="shaunlebron &gt; we don’t have access to the metadata about how certain forms should be indented. Which I wonder about what we could do if we pass that to parinfer. I want to resist the pressure to turn parinfer into an auto-formatter"><y>#</y><d>2018-08-22</d><h>03:45</h><w>shaunlebron</w>&gt; we don’t have access to the metadata about how certain forms should be indented.  Which I wonder about what we could do if we pass that to parinfer.
I want to resist the pressure to turn parinfer into an auto-formatter</z><z id="t1534909610" t="shaunlebron there’s a lot of config for indentation options: https://github.com/clojure-emacs/clojure-mode#indentation-options"><y>#</y><d>2018-08-22</d><h>03:46</h><w>shaunlebron</w>there’s a lot of config for indentation options: <a href="https://github.com/clojure-emacs/clojure-mode#indentation-options" target="_blank">https://github.com/clojure-emacs/clojure-mode#indentation-options</a></z><z id="t1534909660" t="shaunlebron &gt; many cases aren’t ambiguous, and even if it worked conservatively (didn’t do anything weird in ambiguous cases), it would be neat. I’m willing to look at cases if they’re laid out"><y>#</y><d>2018-08-22</d><h>03:47</h><w>shaunlebron</w>&gt; many cases aren’t ambiguous, and even if it worked conservatively (didn’t do anything weird in ambiguous cases), it would be neat.
I’m willing to look at cases if they’re laid out</z><z id="t1534909869" t="shaunlebron I suppose you’re right that stickiness may not be that annoying"><y>#</y><d>2018-08-22</d><h>03:51</h><w>shaunlebron</w>I suppose you’re right that stickiness may not be that annoying</z><z id="t1534915716" t="shaunlebron https://i.imgur.com/3xHXl4I.gif"><y>#</y><d>2018-08-22</d><h>05:28</h><w>shaunlebron</w><a href="https://i.imgur.com/3xHXl4I.gif" target="_blank">https://i.imgur.com/3xHXl4I.gif</a></z><z id="t1534927226" t="onetom [:attrs {:href &quot;/_/_/users/U0ETXRFEW&quot;}] where is the source code for that version of the extension u uploaded? just want to make my team mates not worried about installing some trojan 😉"><y>#</y><d>2018-08-22</d><h>08:40</h><w>onetom</w><a>@pez</a> where is the source code for that version of the extension u uploaded?
just want to make my team mates not worried about installing some trojan <b>😉</b></z><z id="t1534927855" t="pez [:attrs {:href &quot;/_/_/users/U086D6TBN&quot;}] it&apos;s this repo: https://github.com/shaunlebron/vscode-parinfer"><y>#</y><d>2018-08-22</d><h>08:50</h><w>pez</w><a>@onetom</a> it&apos;s this repo: <a href="https://github.com/shaunlebron/vscode-parinfer" target="_blank">https://github.com/shaunlebron/vscode-parinfer</a></z><z id="t1534927888" t="pez master from that repo, even."><y>#</y><d>2018-08-22</d><h>08:51</h><w>pez</w>master from that repo, even.</z><z id="t1534928507" t="pez Please note that it is not super smooth yet. Parinfer relies on that its editing commands are always carried out by the editor, which it seems the extension does not yet manage to get vscode to do as always as is needed. And sometimes it stops you from undoing, which can be a bit frustrating. What I do is that I toggle parinfer off when this happens, undo, and toggle it on again. And if your colleagues are using Calva, you should also know this: https://github.com/BetterThanTomorrow/calva-fmt#parinfer-and-auto-adjust-cursor-on-new-lines"><y>#</y><d>2018-08-22</d><h>09:01</h><w>pez</w>Please note that it is not super smooth yet. Parinfer relies on that its editing commands are always carried out by the editor, which it seems the extension does not yet manage to get vscode to do as always as is needed. And sometimes it stops you from undoing, which can be a bit frustrating. What I do is that I toggle parinfer off when this happens, undo, and toggle it on again. And if your colleagues are using Calva, you should also know this: <a href="https://github.com/BetterThanTomorrow/calva-fmt#parinfer-and-auto-adjust-cursor-on-new-lines" target="_blank">https://github.com/BetterThanTomorrow/calva-fmt#parinfer-and-auto-adjust-cursor-on-new-lines</a></z><z id="t1534929050" t="onetom Thanks. I got the message about the calva-fmt indentation issue when u mentioned earlier. What do you mean by &quot;if your colleagues are using Calva&quot;? What else would they use? Or I should rather ask what else should they use, since I&apos;m just trying to get CLJS adopted in the company."><y>#</y><d>2018-08-22</d><h>09:10</h><r>onetom</r>Thanks. I got the message about the calva-fmt indentation issue when u mentioned earlier.

What do you mean by &quot;if your colleagues are using Calva&quot;?
What else would they use?
Or I should rather ask what else should they use, since I&apos;m just trying to get CLJS adopted in the company.</z><z id="t1534929096" t="pez I think they should use Calva, but I am biased. 😃"><y>#</y><d>2018-08-22</d><h>09:11</h><r>pez</r>I think they should use Calva, but I am biased. <b>😃</b></z><z id="t1534929106" t="onetom I&apos;m using Cursive and my other colleague use doom emacs and others use vs code"><y>#</y><d>2018-08-22</d><h>09:11</h><r>onetom</r>I&apos;m using Cursive and my other colleague use doom emacs and others use vs code</z><z id="t1534929173" t="pez Those who use Cursive and Emacs should stick too those. Even as biased as I am, I will say that. But for vscode I think Calva is the best so far, especially for CLJS."><y>#</y><d>2018-08-22</d><h>09:12</h><r>pez</r>Those who use Cursive and Emacs should stick too those. Even as biased as I am, I will say that. But for vscode I think Calva is the best so far, especially for CLJS.</z><z id="t1534930275" t="onetom so im actually having a hard time using it... so i have this monorepo: https://gitlab.com/oax/state-channel-poc/ but the cljs project is in one of the subdirectories: https://gitlab.com/oax/state-channel-poc/tree/master/viz/states"><y>#</y><d>2018-08-22</d><h>09:31</h><r>onetom</r>so im actually having a hard time using it...
so i have this monorepo:

<a href="https://gitlab.com/oax/state-channel-poc/" target="_blank">https://gitlab.com/oax/state-channel-poc/</a>

but the cljs project is in one of the subdirectories:
<a href="https://gitlab.com/oax/state-channel-poc/tree/master/viz/states" target="_blank">https://gitlab.com/oax/state-channel-poc/tree/master/viz/states</a></z><z id="t1534930328" t="pez Hard time using Calva?"><y>#</y><d>2018-08-22</d><h>09:32</h><r>pez</r>Hard time using Calva?</z><z id="t1534930332" t="onetom and my nREPL setup is using nrepl/nrepl with clj -m nrepl.cmdline"><y>#</y><d>2018-08-22</d><h>09:32</h><r>onetom</r>and my nREPL setup is using <code>nrepl/nrepl</code> with <code>clj -m nrepl.cmdline</code></z><z id="t1534930374" t="onetom yeah... it seems it was designed to be used with lein repl :connect from the top-level of a project..."><y>#</y><d>2018-08-22</d><h>09:32</h><r>onetom</r>yeah... it seems it was designed to be used with <code>lein repl :connect</code> from the top-level of a project...</z><z id="t1534930474" t="onetom if it&apos;s just using the built-in vscode terminal, i would have expected it to be able to just control an exiting one started manually..."><y>#</y><d>2018-08-22</d><h>09:34</h><r>onetom</r>if it&apos;s just using the built-in vscode terminal, i would have expected it to be able to just control an exiting one started manually...</z><z id="t1534930531" t="pez There is definitely an unnecessary dependency on lein there, that I should fix. But there is a setting for telling Calva where the project root is. Let me check…"><y>#</y><d>2018-08-22</d><h>09:35</h><r>pez</r>There is definitely an unnecessary dependency on lein there, that I should fix. But there is a setting for telling Calva where the project root is. Let me check…</z><z id="t1534930579" t="onetom well... there might be multiple clojure projects within this repo, since it&apos;s a monorepo..."><y>#</y><d>2018-08-22</d><h>09:36</h><r>onetom</r>well... there might be multiple clojure projects within this repo, since it&apos;s a monorepo...</z><z id="t1534930612" t="onetom but i just saw in the calva readme under the &quot;future stuff&quot; section: &gt; Open as many REPLs as you like. so i guess it&apos;s unsupported indeed..."><y>#</y><d>2018-08-22</d><h>09:36</h><r>onetom</r>but i just saw in the calva readme under the &quot;future stuff&quot; section:
&gt; Open as many REPLs as you like.
so i guess it&apos;s unsupported indeed...</z><z id="t1534930695" t="onetom in the meantime i will try what happens with a lein repl client"><y>#</y><d>2018-08-22</d><h>09:38</h><r>onetom</r>in the meantime i will try what happens with a lein repl client</z><z id="t1534930763" t="onetom ah, i just realized that you are the main developer of calva 🙂 thanks for helping out!"><y>#</y><d>2018-08-22</d><h>09:39</h><r>onetom</r>ah, i just realized that you are the main developer of calva <b>🙂</b>
thanks for helping out!</z><z id="t1534930776" t="pez Well, I haven&apos;t considered monorepos at all, other than noting that I myself do not use the calva.projectRootDirectory setting but rather open separate vscode windows in a repo at work where there are several projects (don&apos;t know if it qualifies as a monorepo).."><y>#</y><d>2018-08-22</d><h>09:39</h><r>pez</r>Well, I haven&apos;t considered monorepos at all, other than noting that I myself do not use the <code>calva.projectRootDirectory</code> setting but rather open separate vscode windows in a repo at work where there are several projects (don&apos;t know if it qualifies as a monorepo)..</z><z id="t1534930834" t="pez Unfortunately I am more like the only developer. But it seems that might be improving."><y>#</y><d>2018-08-22</d><h>09:40</h><r>pez</r>Unfortunately I am more like the only developer. But it seems that might be improving.</z><z id="t1534930962" t="pez If you have the time I would be happy to get an issue filed against the Calva repo where you described the monorepo needs and maybe how you think Calva should support it."><y>#</y><d>2018-08-22</d><h>09:42</h><r>pez</r>If you have the time I would be happy to get an issue filed against the Calva repo where you described the monorepo needs and maybe how you think Calva should support it.</z><z id="t1534931092" t="pez &gt; if it&apos;s just using the built-in vscode terminal, i would have expected it to be able to just control an exiting one started manually... Not sure I follow here, but currently Calva opens its own Terminal sessions in the built on one to be able to control them (even if limited). I don&apos;t think there is a way to get a handle to a user created terminal."><y>#</y><d>2018-08-22</d><h>09:44</h><r>pez</r>&gt; if it&apos;s just using the built-in vscode terminal, i would have expected it to be able to just control an exiting one started manually...

Not sure I follow here, but currently Calva opens its own Terminal sessions in the built on one to be able to control them (even if limited). I don&apos;t think there is a way to get a handle to a user created terminal.</z><z id="t1534931506" t="onetom i don&apos;t think i can recommend any solution until i familiarize myself more with vs code. i was hoping i can switch to it from intellij because vscode feels a bit faster and less resource hungry, but so far it feels quite inferior compared to jetbrains ides feature wise 😕"><y>#</y><d>2018-08-22</d><h>09:51</h><r>onetom</r>i don&apos;t think i can recommend any solution until i familiarize myself more with vs code.
i was hoping i can switch to it from intellij because vscode feels a bit faster and less resource hungry, but so far it feels quite inferior compared to jetbrains ides feature wise <b>😕</b></z><z id="t1534931562" t="onetom re: terminal: i think i got what you mean"><y>#</y><d>2018-08-22</d><h>09:52</h><r>onetom</r>re: terminal:
i think i got what you mean</z><z id="t1534931571" t="pez Well, you could describe how Cursive helps with it, maybe?"><y>#</y><d>2018-08-22</d><h>09:52</h><r>pez</r>Well, you could describe how Cursive helps with it, maybe?</z><z id="t1534931625" t="onetom cursive have the concept of modules within a project, but that&apos;s quite a heavy concept and i don&apos;t think it fits well with the philosophy of vscode"><y>#</y><d>2018-08-22</d><h>09:53</h><r>onetom</r>cursive have the concept of modules within a project, but that&apos;s quite a heavy concept and i don&apos;t think it fits well with the philosophy of vscode</z><z id="t1534931738" t="pez Fair enough. I&apos;ll have to read up some on monorepos. Might holler your way when I try to figure out how to better support it. Seems like you have already given me a clue with that just opening REPLs at will would help."><y>#</y><d>2018-08-22</d><h>09:55</h><r>pez</r>Fair enough. I&apos;ll have to read up some on monorepos. Might holler your way when I try to figure out how to better support it. Seems like you have already given me a clue with that just opening REPLs at will would help.</z><z id="t1534931773" t="onetom I would be very happy to discuss monorepos and their benefits and issues with you, btw"><y>#</y><d>2018-08-22</d><h>09:56</h><r>onetom</r>I would be very happy to discuss monorepos and their benefits and issues with you, btw</z><z id="t1534931814" t="onetom I&apos;m a proponent of them in the past 2-3 years and in 3 different companies my experience was that their benefits far outweigh their drawbacks"><y>#</y><d>2018-08-22</d><h>09:56</h><r>onetom</r>I&apos;m a proponent of them in the past 2-3 years and in 3 different companies my experience was that their benefits far outweigh their drawbacks</z><z id="t1534931875" t="onetom if you want to build a CI pipeline for a monorepo, you definitely want to have this kind of optimization to compute which subproject has changed in it: https://github.com/awesome-inc/monorepo.gitlab"><y>#</y><d>2018-08-22</d><h>09:57</h><r>onetom</r>if you want to build a CI pipeline for a monorepo, you definitely want to have this kind of optimization to compute which subproject has changed in it:
<a href="https://github.com/awesome-inc/monorepo.gitlab" target="_blank">https://github.com/awesome-inc/monorepo.gitlab</a></z><z id="t1534931914" t="onetom then this is a great analysis of the concept: https://danluu.com/monorepo/"><y>#</y><d>2018-08-22</d><h>09:58</h><r>onetom</r>then this is a great analysis of the concept:
<a href="https://danluu.com/monorepo/" target="_blank">https://danluu.com/monorepo/</a></z><z id="t1534931956" t="onetom i think it was one of the first articles i&apos;ve found about this concept. i actually started to use monorepos before i knew that they are a thing and they have a name..."><y>#</y><d>2018-08-22</d><h>09:59</h><r>onetom</r>i think it was one of the first articles i&apos;ve found about this concept.
i actually started to use monorepos before i knew that they are a thing and they have a name...</z><z id="t1534932024" t="pez Haha, I was just about to post that link to ask you if it was a good starting point. 😃"><y>#</y><d>2018-08-22</d><h>10:00</h><r>pez</r>Haha, I was just about to post that link to ask you if it was a good starting point. <b>😃</b></z><z id="t1534932045" t="onetom since then there are a lot more experience reports about them and here is an important one, which might instil confidence in others already based on its URL: https://trunkbaseddevelopment.com/monorepos/"><y>#</y><d>2018-08-22</d><h>10:00</h><r>onetom</r>since then there are a lot more experience reports about them and here is an important one, which might instil confidence in others already based on its URL:
<a href="https://trunkbaseddevelopment.com/monorepos/" target="_blank">https://trunkbaseddevelopment.com/monorepos/</a></z><z id="t1534932081" t="pez Thanks!"><y>#</y><d>2018-08-22</d><h>10:01</h><r>pez</r>Thanks!</z><z id="t1534948602" t="pez Btw, vscode has some concept of multiproject workspaces that I haven&apos;t looked very deeply at. However, it rather seems to be the opposite; a way to create a mono-workspace from multiple repos."><y>#</y><d>2018-08-22</d><h>14:36</h><r>pez</r>Btw, vscode has some concept of multiproject workspaces that I haven&apos;t looked very deeply at. However, it rather seems to be the opposite; a way to create a mono-workspace from multiple repos.</z><z id="t1534955004" t="onetom now that you are saying, i&apos;ve also seen that feature when i was going thru their changelogs the other week"><y>#</y><d>2018-08-22</d><h>16:23</h><r>onetom</r>now that you are saying, i&apos;ve also seen that feature when i was going thru their changelogs the other week</z><z id="t1534955065" t="onetom but indeed, it&apos;s the opposite of the monorepo case"><y>#</y><d>2018-08-22</d><h>16:24</h><r>onetom</r>but indeed, it&apos;s the opposite of the monorepo case</z></g><g id="s23"><z id="t1534967023" t="shaunlebron implemented some elastic tabstop functions to see how it works: https://beta.observablehq.com/@shaunlebron/elastic-tabstops"><y>#</y><d>2018-08-22</d><h>19:43</h><w>shaunlebron</w>implemented some elastic tabstop functions to see how it works: <a href="https://beta.observablehq.com/@shaunlebron/elastic-tabstops" target="_blank">https://beta.observablehq.com/@shaunlebron/elastic-tabstops</a></z><z id="t1534969425" t="shaunlebron it might be a bit much to expect clojure users to start using tabs in source files"><y>#</y><d>2018-08-22</d><h>20:23</h><w>shaunlebron</w>it might be a bit much to expect clojure users to start using tabs in source files</z><z id="t1534969472" t="shaunlebron unless inferring tab characters from existing files to provide a guess becomes reasonable"><y>#</y><d>2018-08-22</d><h>20:24</h><w>shaunlebron</w>unless inferring tab characters from existing files to provide a guess becomes reasonable</z><z id="t1534969543" t="shaunlebron either way, was nice to study this to get a better idea of the space that both tools occupy"><y>#</y><d>2018-08-22</d><h>20:25</h><w>shaunlebron</w>either way, was nice to study this to get a better idea of the space that both tools occupy</z><z id="t1534996318" t="onetom im an elastic tabstops fan, btw. infact the very first project i&apos;ve done when teaching some junior dev clojure is to use tabs in clojure code, eg: https://github.com/exicon/homepage/blob/58e24d405d1e5f8a16c01b2ec037159ad8fc27d6/src/hl/homepage/index.cljs.hl"><y>#</y><d>2018-08-23</d><h>03:51</h><w>onetom</w>im an elastic tabstops fan, btw.
infact the very first project i&apos;ve done when teaching some junior dev clojure is to use tabs in clojure code, eg:
<a href="https://github.com/exicon/homepage/blob/58e24d405d1e5f8a16c01b2ec037159ad8fc27d6/src/hl/homepage/index.cljs.hl" target="_blank">https://github.com/exicon/homepage/blob/58e24d405d1e5f8a16c01b2ec037159ad8fc27d6/src/hl/homepage/index.cljs.hl</a></z><z id="t1535051835" t="shaunlebron heard from chris today about the smart mode fixes in vscode"><y>#</y><d>2018-08-23</d><h>19:17</h><w>shaunlebron</w>heard from chris today about the smart mode fixes in vscode</z><z id="t1535051888" t="shaunlebron progress has stalled due to vscode limitations not allowing synchronous edits, and text changes being broadcast asynchronously"><y>#</y><d>2018-08-23</d><h>19:18</h><w>shaunlebron</w>progress has stalled due to vscode limitations not allowing synchronous edits, and text changes being broadcast asynchronously</z><z id="t1535051986" t="shaunlebron i modeled smart mode after codemirror, which has an exceptionally good API (no surprise for anyone familiar with marijn)"><y>#</y><d>2018-08-23</d><h>19:19</h><w>shaunlebron</w>i modeled smart mode after codemirror, which has an exceptionally good API (no surprise for anyone familiar with marijn)</z><z id="t1535052108" t="shaunlebron might have to revisit its design to see what could be done with less information from the editor"><y>#</y><d>2018-08-23</d><h>19:21</h><w>shaunlebron</w>might have to revisit its design to see what could be done with less information from the editor</z><z id="t1535052470" t="shaunlebron i was pretty confident that I had whittled smart mode down to what was absolutely necessary, but after implementing elastic tabstops in ~50 lines of code and seeing the nice behavior there, I think it’s worth revisiting to make sure there isn’t some resonance between these ideas that could help integration and simplify the whole thing"><y>#</y><d>2018-08-23</d><h>19:27</h><w>shaunlebron</w>i was pretty confident that I had whittled smart mode down to what was absolutely necessary, but after implementing elastic tabstops in ~50 lines of code and seeing the nice behavior there, I think it’s worth revisiting to make sure there isn’t some resonance between these ideas that could help integration and simplify the whole thing</z><z id="t1535118686" t="onetom It&apos;s funny you are mentioning this because when vscode was open sourced, the very first thing i did is i tried to compile it, then i tried to see how can i hook in to the rendering and the file buffer, to see if i can implement elastic tabstops. But then I got lost in the forrest of typescript classes and gave up on it..."><y>#</y><d>2018-08-24</d><h>13:51</h><r>onetom</r>It&apos;s funny you are mentioning this because when vscode was open sourced, the very first thing i did is i tried to compile it, then i tried to see how can i hook in to the rendering and the file buffer, to see if i can implement elastic tabstops.
But then I got lost in the forrest of typescript classes and gave up on it...</z><z id="t1535057200" t="pez Too bad about the vscode version of smartmode!"><y>#</y><d>2018-08-23</d><h>20:46</h><w>pez</w>Too bad about the vscode version of smartmode!</z><z id="t1535123887" t="Drew Verlee i really love parinfer, im trying to understand if some behavior is expected or if maybe my version is just behind the vision 🙂 say i have some expressions like so: (foo (bar zoo) (wham bame cram)) if i make change the foo name, then it changes my code, e.g shorter and the bar function gets feed the line below. Is that desirable?("><y>#</y><d>2018-08-24</d><h>15:18</h><w>Drew Verlee</w>i really love parinfer, im trying to understand if some behavior is expected or if maybe my version is just behind the vision <b>🙂</b>

say i have some expressions like so:

<pre>(foo (bar zoo)
     (wham bame cram))
</pre>

if i make change the foo name, then it changes my code, e.g shorter and the bar function gets feed the line below. Is that desirable?(</z><z id="t1535123964" t="Drew Verlee im on spacemacs on the dev branch"><y>#</y><d>2018-08-24</d><h>15:19</h><w>Drew Verlee</w>im on spacemacs on the dev branch</z><z id="t1535128439" t="justinbarclay [:attrs {:href &quot;/_/_/users/U0DJ4T5U1&quot;}] that sounds like you might be in the wrong mode. It sounds like you want to be in indent mode and not parent mode: https://shaunlebron.github.io/parinfer/#switching-modes"><y>#</y><d>2018-08-24</d><h>16:33</h><w>justinbarclay</w><a>@drewverlee</a> that sounds like you might be in the wrong mode. It sounds like you want to be in indent mode and not parent mode:
<a href="https://shaunlebron.github.io/parinfer/#switching-modes" target="_blank">https://shaunlebron.github.io/parinfer/#switching-modes</a></z><z id="t1535128549" t="justinbarclay It looks like you can try using SPC t P to switch modes and see if that exhibits the behaviour you expect: http://develop.spacemacs.org/layers/+misc/parinfer/README.html"><y>#</y><d>2018-08-24</d><h>16:35</h><w>justinbarclay</w>It looks like you can try using <code>SPC t P</code> to switch modes and see if that exhibits the behaviour you expect: <a href="http://develop.spacemacs.org/layers/+misc/parinfer/README.html" target="_blank">http://develop.spacemacs.org/layers/+misc/parinfer/README.html</a></z><z id="t1535128743" t="shaunlebron if you change “foo” to “f” in your example, and this happens… (f (bar zoo (wham bame cram))) …then that is wrong, and this is what should happen instead: (f (bar zoo) (wham bame cram)) "><y>#</y><d>2018-08-24</d><h>16:39</h><w>shaunlebron</w>if you change “foo” to “f” in your example, and this happens…

<pre>(f (bar zoo
     (wham bame cram)))
</pre>

…then that is wrong, and this is what should happen instead:

<pre>(f (bar zoo)
   (wham bame cram))
</pre></z><z id="t1535128769" t="shaunlebron you can see the canonical behavior by trying it here: https://shaunlebron.github.io/parinfer/demo"><y>#</y><d>2018-08-24</d><h>16:39</h><w>shaunlebron</w>you can see the canonical behavior by trying it here: <a href="https://shaunlebron.github.io/parinfer/demo" target="_blank">https://shaunlebron.github.io/parinfer/demo</a></z><z id="t1535141608" t="Drew Verlee yep i was in the wrong mode, seems like a silly mistake."><y>#</y><d>2018-08-24</d><h>20:13</h><w>Drew Verlee</w>yep i was in the wrong mode, seems like a silly mistake.</z><z id="t1535931943" t="shaunlebron any interested in a parinfer q&amp;a goog hangout?"><y>#</y><d>2018-09-02</d><h>23:45</h><w>shaunlebron</w>any interested in a parinfer q&amp;a goog hangout?</z><z id="t1535932030" t="shaunlebron dustin getz emailed me with some questions, and i haven’t given an update in a while, and it’ll be easier if I just answer a bunch of questions at once and post that as an update"><y>#</y><d>2018-09-02</d><h>23:47</h><w>shaunlebron</w>dustin getz emailed me with some questions, and i haven’t given an update in a while, and it’ll be easier if I just answer a bunch of questions at once and post that as an update</z><z id="t1539735774" t="sparkofreason Playing with parinfer in atom, no protoREPL, just language-clojure. Pushing enter inside a form does not move the cursor to to the expected indent. Is there some other atom setting that is interfering? I turned off all of the auto-indent stuff in language-clojure."><y>#</y><d>2018-10-17</d><h>00:22</h><w>sparkofreason</w>Playing with parinfer in atom, no protoREPL, just language-clojure. Pushing enter inside a form does not move the cursor to to the expected indent. Is there some other atom setting that is interfering? I turned off all of the auto-indent stuff in language-clojure.</z><z id="t1539845025" t="henrik I don’t remember exactly which bit does what, but I followed this guide once upon a time, and cursor position works fine: https://gist.github.com/jasongilman/d1f70507bed021b48625"><y>#</y><d>2018-10-18</d><h>06:43</h><r>henrik</r>I don’t remember exactly which bit does what, but I followed this guide once upon a time, and cursor position works fine: <a href="https://gist.github.com/jasongilman/d1f70507bed021b48625" target="_blank">https://gist.github.com/jasongilman/d1f70507bed021b48625</a></z><z id="t1539867310" t="sparkofreason Thanks, that did it."><y>#</y><d>2018-10-18</d><h>12:55</h><r>sparkofreason</r>Thanks, that did it.</z><z id="t1540687530" t="shaunlebron https://elastic-parinfer.surge.sh/"><y>#</y><d>2018-10-28</d><h>00:45</h><w>shaunlebron</w><a href="https://elastic-parinfer.surge.sh/" target="_blank">https://elastic-parinfer.surge.sh/</a></z><z id="t1540687547" t="shaunlebron trying out elastic tabstops + indent mode in this custom editor"><y>#</y><d>2018-10-28</d><h>00:45</h><w>shaunlebron</w>trying out elastic tabstops + indent mode in this custom editor</z><z id="t1540687598" t="shaunlebron i’m not expecting the community to migrate to elastic tabstops, but i wanted to see what was possible"><y>#</y><d>2018-10-28</d><h>00:46</h><w>shaunlebron</w>i’m not expecting the community to migrate to elastic tabstops, but i wanted to see what was possible</z><z id="t1541278043" t="shaunlebron"><y>#</y><d>2018-11-03</d><h>20:47</h><w>shaunlebron</w></z><z id="t1541522768" t="shaunlebron https://www.patreon.com/posts/smart-mode-vs-22541795"><y>#</y><d>2018-11-06</d><h>16:46</h><w>shaunlebron</w><a href="https://www.patreon.com/posts/smart-mode-vs-22541795" target="_blank">https://www.patreon.com/posts/smart-mode-vs-22541795</a></z><z id="t1541534542" t="snoe Looks promising, is there an enumeration of the editor capabilities required for Smart Mode or elastic tab stops? I suspect &quot;nature of changes&quot; goes beyond a stream of diff patches. It seems that having a solid use-case in parinfer, could spur implementation of those capabilities in the big 4 or 5 editors. It would also be nice to know where or how any editor falls short."><y>#</y><d>2018-11-06</d><h>20:02</h><w>snoe</w>Looks promising, is there an enumeration of the editor capabilities required for Smart Mode or elastic tab stops? I suspect &quot;nature of changes&quot; goes beyond a stream of diff patches.

It seems that having a solid use-case in parinfer, could spur implementation of those capabilities in the big 4 or 5 editors. It would also be nice to know where or how any editor falls short.</z><z id="t1541534882" t="shaunlebron 1. synchronous notification of a change 2. a change structure describing what has been replaced in the file 3. ability to modify the file immediately after the change has occurred"><y>#</y><d>2018-11-06</d><h>20:08</h><w>shaunlebron</w>1. synchronous notification of a change
2. a change structure describing what has been replaced in the file
3. ability to modify the file immediately after the change has occurred</z><z id="t1541535073" t="shaunlebron diffing the before and after text can produce an accurate change structure sometimes (maybe most of the time)"><y>#</y><d>2018-11-06</d><h>20:11</h><w>shaunlebron</w>diffing the before and after text can produce an accurate change structure sometimes (maybe most of the time)</z><z id="t1541535310" t="shaunlebron thanks for that feedback, the vscode team has apparently been receptive to requests for API improvements—specifically chris told me that interceptions of key events was requested for the vim plugin (and that they’re the only ones allowed to use it!)"><y>#</y><d>2018-11-06</d><h>20:15</h><w>shaunlebron</w>thanks for that feedback, the vscode team has apparently been receptive to requests for API improvements—specifically chris told me that interceptions of key events was requested for the vim plugin (and that they’re the only ones allowed to use it!)</z><z id="t1541535352" t="shaunlebron the limitation is enforced by only allowing one plugin at a time to use it"><y>#</y><d>2018-11-06</d><h>20:15</h><w>shaunlebron</w>the limitation is enforced by only allowing one plugin at a time to use it</z><z id="t1541535452" t="shaunlebron anyway, I think the problem with vscode was that the change events are asynchronous, and that the pending PR is having to use diffs to account for the shortcoming, which I’m not comfortable using"><y>#</y><d>2018-11-06</d><h>20:17</h><w>shaunlebron</w>anyway, I think the problem with vscode was that the change events are asynchronous, and that the pending PR is having to use diffs to account for the shortcoming, which I’m not comfortable using</z><z id="t1541535463" t="shaunlebron [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] has more context"><y>#</y><d>2018-11-06</d><h>20:17</h><w>shaunlebron</w><a>@chrisoakman</a> has more context</z><z id="t1541536182" t="chrisoakman Shaun accurately summarized the current state of VS Code Parinfer"><y>#</y><d>2018-11-06</d><h>20:29</h><w>chrisoakman</w>Shaun accurately summarized the current state of VS Code Parinfer</z><z id="t1541536207" t="chrisoakman I have been meaning to reach out to the VS Code team and ask if they can make a change for the Parinfer extension similar to what they did for the Vim one."><y>#</y><d>2018-11-06</d><h>20:30</h><w>chrisoakman</w>I have been meaning to reach out to the VS Code team and ask if they can make a change for the Parinfer extension similar to what they did for the Vim one.</z><z id="t1541542688" t="mattly would that mean that you couldn&apos;t use the vim and parinfer extensions in vscode simultaneously?"><y>#</y><d>2018-11-06</d><h>22:18</h><w>mattly</w>would that mean that you couldn&apos;t use the vim and parinfer extensions in vscode simultaneously?</z><z id="t1541542697" t="mattly they already seem to have some issues, but"><y>#</y><d>2018-11-06</d><h>22:18</h><w>mattly</w>they already seem to have some issues, but</z><z id="t1541543186" t="chrisoakman We would definitely want to support using both extensions at the same time. They would need to play nice with each other in terms of &quot;who gets the update first?&quot;. This is exactly the issue that the VSCode team might need to give us some input on. Last I looked at this I think I was referencing this comment: https://github.com/Microsoft/vscode/issues/5280#issuecomment-246629457"><y>#</y><d>2018-11-06</d><h>22:26</h><w>chrisoakman</w>We would definitely want to support using both extensions at the same time. They would need to play nice with each other in terms of &quot;who gets the update first?&quot;. This is exactly the issue that the VSCode team might need to give us some input on. Last I looked at this I think I was referencing this comment: <a href="https://github.com/Microsoft/vscode/issues/5280#issuecomment-246629457" target="_blank">https://github.com/Microsoft/vscode/issues/5280#issuecomment-246629457</a></z><z id="t1541569723" t="henrik I’m trying to see if there’s any way to make the tab stops less noisy. I think there might be some value in rendering them as something that’s more obviously not an regular character, in order to make them stand back as non-code. In the last one, the stops are taking up a full character of space, and the top three tries to compress the code to the left to allow the stops less space. I doubt editors would be particularly happy rendering any of them. https://eneroth.com/ets.png"><y>#</y><d>2018-11-07</d><h>05:48</h><w>henrik</w>I’m trying to see if there’s any way to make the tab stops less noisy. I think there might be some value in rendering them as something that’s more obviously not an regular character, in order to make them stand back as non-code.

In the last one, the stops are taking up a full character of space, and the top three tries to compress the code to the left to allow the stops less space.

I doubt editors would be particularly happy rendering any of them.

<a href="https://eneroth.com/ets.png" target="_blank">https://eneroth.com/ets.png</a></z><z id="t1541569892" t="henrik Or maybe regular indentation guides can be repurposed, but I’m not sure they’re made to be inserted into the code. Usually they just dangle like spaghetti underneath it."><y>#</y><d>2018-11-07</d><h>05:51</h><w>henrik</w>Or maybe regular indentation guides can be repurposed, but I’m not sure they’re made to be inserted into the code. Usually they just dangle like spaghetti underneath it.</z><z id="t1541609698" t="shaunlebron [:attrs {:href &quot;/_/_/users/U06B8J0AJ&quot;}] nice!"><y>#</y><d>2018-11-07</d><h>16:54</h><w>shaunlebron</w><a>@henrik</a> nice!</z><z id="t1541717217" t="shaunlebron elastic tabstops of course doesn’t use an explicit bar character either"><y>#</y><d>2018-11-08</d><h>22:46</h><w>shaunlebron</w>elastic tabstops of course doesn’t use an explicit bar character either</z><z id="t1541717248" t="shaunlebron i chose to add it in the demo"><y>#</y><d>2018-11-08</d><h>22:47</h><w>shaunlebron</w>i chose to add it in the demo</z><z id="t1541717299" t="shaunlebron let’s say you try to remove a tabstop, how would you do it?"><y>#</y><d>2018-11-08</d><h>22:48</h><w>shaunlebron</w>let’s say you try to remove a tabstop, how would you do it?</z><z id="t1541717346" t="shaunlebron you’d have to position the cursor to the right of it"><y>#</y><d>2018-11-08</d><h>22:49</h><w>shaunlebron</w>you’d have to position the cursor to the right of it</z><z id="t1541717391" t="shaunlebron the cursor only occupies a space between characters, as does an indent guide"><y>#</y><d>2018-11-08</d><h>22:49</h><w>shaunlebron</w>the cursor only occupies a space between characters, as does an indent guide</z><z id="t1541717465" t="shaunlebron (oops, I now see the last example above—it places indent guides in their own character column, making them easier to edit)"><y>#</y><d>2018-11-08</d><h>22:51</h><w>shaunlebron</w>(oops, I now see the last example above—it places indent guides in their own character column, making them easier to edit)</z><z id="t1542811426" t="pez Newbie question. I’m trying to implement an “Infer parens” command in vscode. Is there a way I can take the result from parinfer.inderntMode() and construct the “most surgical” changes I need to apply to the document? I. e. not replacing all text with the new text."><y>#</y><d>2018-11-21</d><h>14:43</h><w>pez</w>Newbie question. I’m trying to implement an “Infer parens” command in vscode. Is there a way I can take the result from <code>parinfer.inderntMode()</code> and construct the “most surgical” changes I need to apply to the document? I. e. not replacing all text with the new text.</z><z id="t1542811563" t="pez I’m looking at the Paren Trails (and the documentation for it), but it doesn’t click (to say the least)."><y>#</y><d>2018-11-21</d><h>14:46</h><w>pez</w>I’m looking at the Paren Trails (and the documentation for it), but it doesn’t click (to say the least).</z><z id="t1542813041" t="eraserhd [:attrs {:href &quot;/_/_/users/U0ETXRFEW&quot;}] I&apos;ve done this for both Vim and Kakoune. For Vim, I found it&apos;s &quot;good enough&quot; for performance to take the before and after text, split into lines, find the first and last changed line and replace those. For Kakoune, I used a full diffing algorithm."><y>#</y><d>2018-11-21</d><h>15:10</h><w>eraserhd</w><a>@pez</a> I&apos;ve done this for both Vim and Kakoune.   For Vim, I found it&apos;s &quot;good enough&quot; for performance to take the before and after text, split into lines, find the first and last changed line and replace those.  For Kakoune, I used a full diffing algorithm.</z><z id="t1542813107" t="eraserhd Vim here: https://github.com/eraserhd/parinfer-rust/blob/master/plugin/parinfer.vim#L155"><y>#</y><d>2018-11-21</d><h>15:11</h><w>eraserhd</w>Vim here: <a href="https://github.com/eraserhd/parinfer-rust/blob/master/plugin/parinfer.vim#L155" target="_blank">https://github.com/eraserhd/parinfer-rust/blob/master/plugin/parinfer.vim#L155</a></z><z id="t1542813154" t="eraserhd Kakoune here: https://github.com/eraserhd/parinfer-rust/blob/master/src/kakoune.rs"><y>#</y><d>2018-11-21</d><h>15:12</h><w>eraserhd</w>Kakoune here: <a href="https://github.com/eraserhd/parinfer-rust/blob/master/src/kakoune.rs" target="_blank">https://github.com/eraserhd/parinfer-rust/blob/master/src/kakoune.rs</a></z><z id="t1542813194" t="eraserhd One nice property of parinfer is that it never changes the number of lines, which makes for a simple way of checking whether a line has changed."><y>#</y><d>2018-11-21</d><h>15:13</h><w>eraserhd</w>One nice property of parinfer is that it never changes the number of lines, which makes for a simple way of checking whether a line has changed.</z><z id="t1542813501" t="pez [:attrs {:href &quot;/_/_/users/U0ECYL0ET&quot;}] , nice! I think replacing only the changed lines should be surgical enough for vscode as well. Will try this."><y>#</y><d>2018-11-21</d><h>15:18</h><w>pez</w><a>@eraserhd</a>, nice! I think replacing only the changed lines should be surgical enough for vscode as well. Will try this.</z><z id="t1542813685" t="pez So, since you have thought of this some, [:attrs {:href &quot;/_/_/users/U0ECYL0ET&quot;}] . I’ve sort of concluded that there is no way I an figure out from the cursor position some minimal range of text to feed to intendMode() . Is that correct, or have you figured something out?"><y>#</y><d>2018-11-21</d><h>15:21</h><w>pez</w>So, since you have thought of this some, <a>@eraserhd</a>. I’ve sort of concluded that there is no way I an figure out from the cursor position some minimal range of text to feed to <code>intendMode()</code>. Is that correct, or have you figured something out?</z><z id="t1542813745" t="eraserhd I&apos;ve seen it done in the Vimscript port of parinfer; however, it messes up on some files."><y>#</y><d>2018-11-21</d><h>15:22</h><w>eraserhd</w>I&apos;ve seen it done in the Vimscript port of parinfer; however, it messes up on some files.</z><z id="t1542813766" t="eraserhd Namely, when there&apos;s a multi-line string that is dedented all the way into column 1."><y>#</y><d>2018-11-21</d><h>15:22</h><w>eraserhd</w>Namely, when there&apos;s a multi-line string that is dedented all the way into column 1.</z><z id="t1542813786" t="eraserhd It basically looks for the preceding line which starts in column 1, I think."><y>#</y><d>2018-11-21</d><h>15:23</h><w>eraserhd</w>It basically looks for the preceding line which starts in column 1, I think.</z><z id="t1542813871" t="pez I won’t go there, then. Until someone actually has a problem with me using all the text. Parinfer is amazingly fast even on pretty large files."><y>#</y><d>2018-11-21</d><h>15:24</h><w>pez</w>I won’t go there, then. Until someone actually has a problem with me using all the text. Parinfer is amazingly fast even on pretty large files.</z><z id="t1542814037" t="pez For fomatting/indenting have so far been able to use paredit.js to find a small enclosing range and just format that. And since cljfmt (which I am currently using for formatting) is not blazingly fast, that is necessary."><y>#</y><d>2018-11-21</d><h>15:27</h><w>pez</w>For fomatting/indenting have so far been able to use <code>paredit.js</code> to find a small enclosing range and just format that. And since <code>cljfmt</code> (which I am currently using for formatting) is not blazingly fast, that is necessary.</z><z id="t1542905419" t="pez There is something I am not getting with parenMode . This test is trying to confirm that relative indent is preserved: (let [o (jsify {:cursorLine 1 :cursorX 3 :prevCursorLine 1 :prevCursorX 2 :changes {:lineNo 1 :x 3 :oldText &quot;&quot; :newText &quot; &quot;}}) result (parinfer/parenMode &quot;(comment\n (foo bar\n baz))&quot; o)] (cljify result)) =&gt; {:text &quot;(comment\n (foo bar\n baz))&quot;, :cursorX 3, :cursorLine 1, :success true, :tabStops [{:ch &quot;(&quot;, :x 0, :lineNo 0}], :parenTrails [{:lineNo 2, :startX 10, :endX 12}]} I am trying to simulate that that (foo is indented two spaces, then the user has entered a space, I am expecting to see baz get one more space in front of it. But it is left untouched. Only when (foo has one less space than baz does baz start to “move”. What am doing wrong?"><y>#</y><d>2018-11-22</d><h>16:50</h><w>pez</w>There is something I am not getting with <code>parenMode</code>. This test is trying to confirm that relative indent is preserved:
<pre>(let [o (jsify {:cursorLine 1
                :cursorX 3
                :prevCursorLine 1
                :prevCursorX 2
                :changes {:lineNo 1
                          :x 3 
                          :oldText &quot;&quot; 
                          :newText &quot; &quot;}})
      result (parinfer/parenMode &quot;(comment\n   (foo bar\n       baz))&quot; o)]
  (cljify result))
=&gt; {:text &quot;(comment\n   (foo bar\n       baz))&quot;, :cursorX 3, :cursorLine 1, :success true, :tabStops [{:ch &quot;(&quot;, :x 0, :lineNo 0}], :parenTrails [{:lineNo 2, :startX 10, :endX 12}]}
</pre>
I am trying to simulate that that <code>(foo</code> is indented two spaces, then the user has entered a space, I am expecting to see <code>baz</code> get one more space in front of it. But it is left untouched. Only when <code>(foo</code> has one less space than <code>baz</code> does <code>baz</code>start to “move”. What am doing wrong?</z><z id="t1542905810" t="pez I get this. :sad:"><y>#</y><d>2018-11-22</d><h>16:56</h><w>pez</w>I get this. <b>:sad:</b></z><z id="t1542914379" t="pez That above gif makes it look very sluggish. It is because it was 15fps, The move of the first line happens before the second move, because I don’t know how to make vscode defer rendering until the whole operation is done. But it doesn’t really show in reality. I tried to up the fps in this gif, making it more “accurate”."><y>#</y><d>2018-11-22</d><h>19:19</h><w>pez</w>That above gif makes it look very sluggish. It is because it was 15fps, The move of the first line happens before the second move, because I don’t know how to make vscode defer rendering until the whole operation is done. But it doesn’t really show in reality. I tried to up the fps in this gif, making it more “accurate”.</z><z id="t1542945607" t="chrisoakman &quot;I don’t know how to make vscode defer rendering until the whole operation is done&quot; --&gt; this is the exact same problem I ran into here: https://github.com/shaunlebron/vscode-parinfer/pull/39"><y>#</y><d>2018-11-23</d><h>04:00</h><w>chrisoakman</w>&quot;I don’t know how to make vscode defer rendering until the whole operation is done&quot; --&gt; this is the exact same problem I ran into here: <a href="https://github.com/shaunlebron/vscode-parinfer/pull/39" target="_blank">https://github.com/shaunlebron/vscode-parinfer/pull/39</a></z><z id="t1542945729" t="chrisoakman I think we need to reach out to the VSCode team for help with their API. They made an exception for the vim extension; I suspect we could get a similar arrangement."><y>#</y><d>2018-11-23</d><h>04:02</h><w>chrisoakman</w>I think we need to reach out to the VSCode team for help with their API. They made an exception for the vim extension; I suspect we could get a similar arrangement.</z><z id="t1542954306" t="pez I’m not where I have that problem yet. 😃 First I need to figure out how to use the parenMode and smartMode functions."><y>#</y><d>2018-11-23</d><h>06:25</h><w>pez</w>I’m not where I have that problem yet. <b>😃</b> First I need to figure out how to use the <code>parenMode</code> and <code>smartMode</code> functions.</z><z id="t1542962588" t="pez Found my error. :canges is plural."><y>#</y><d>2018-11-23</d><h>08:43</h><w>pez</w>Found my error. <code>:canges</code> is plural.</z><z id="t1542967992" t="pez The docs says: Process the text after a change OR a cursor movement. Might be because I have quite high fever today, but I don’t really understand why the text should be processed on cursor movement if it is processed on changes. Let me know, please, someone. Speak to me like I am five yo. 🙂"><y>#</y><d>2018-11-23</d><h>10:13</h><w>pez</w>The docs says: Process the text after a change OR a cursor movement. Might be because I have quite high fever today, but I don’t really understand why the text should be processed on cursor movement if it is processed on changes. Let me know, please, someone. Speak to me like I am five yo. <b>🙂</b></z><z id="t1542990183" t="shaunlebron https://github.com/shaunlebron/parinfer/blob/master/lib/doc/code.md#part-2---parinfer-while-typing"><y>#</y><d>2018-11-23</d><h>16:23</h><w>shaunlebron</w><a href="https://github.com/shaunlebron/parinfer/blob/master/lib/doc/code.md#part-2---parinfer-while-typing" target="_blank">https://github.com/shaunlebron/parinfer/blob/master/lib/doc/code.md#part-2---parinfer-while-typing</a></z><z id="t1542990224" t="shaunlebron parinfer relaxes rules around the cursor, so it needs to know when its position changes"><y>#</y><d>2018-11-23</d><h>16:23</h><w>shaunlebron</w>parinfer relaxes rules around the cursor, so it needs to know when its position changes</z><z id="t1542994154" t="pez Hmmm. But we give it the previous and current position when we use it. And the functions are pure, right? I found that it will be a bit too much work for me right now to process text on changes, because vscode has limted API:s there, So I am rather considering to process text mainly on cursor movement, but I want to better understand what is going on, so that’s why I ask about it."><y>#</y><d>2018-11-23</d><h>17:29</h><w>pez</w>Hmmm. But we give it the previous and current position when we use it. And the functions are pure, right? I found that it will be a bit too much work for me right now to process text on changes, because vscode has limted API:s there,  So I am rather considering to process text mainly on cursor movement, but I want to better understand what is going on, so that’s why I ask about it.</z><z id="t1543005826" t="shaunlebron in that case it’s fine to skip the cursor event"><y>#</y><d>2018-11-23</d><h>20:43</h><w>shaunlebron</w>in that case it’s fine to skip the cursor event</z><z id="t1543005865" t="shaunlebron same thing should happen after the next change event since you pass it the cursor everytime anyway, like you said 👍"><y>#</y><d>2018-11-23</d><h>20:44</h><w>shaunlebron</w>same thing should happen after the next change event since you pass it the cursor everytime anyway, like you said <b>👍</b></z><z id="t1543016231" t="eraserhd So, in implementing parinfer-rust for Kakoune, one issue is that Kakoune natively relies on having multiple cursors (you can&apos;t search and replace without multiple cursors, for example). I&apos;ll need to add this to parinfer-rust, and I hope to also add it to parinfer just to keep them in sync as much as possible. Have any other editors needed or wanted this? Any pitfalls I should worry about?"><y>#</y><d>2018-11-23</d><h>23:37</h><w>eraserhd</w>So, in implementing parinfer-rust for Kakoune, one issue is that Kakoune natively relies on having multiple cursors (you can&apos;t search and replace without multiple cursors, for example).  I&apos;ll need to add this to parinfer-rust, and I hope to also add it to parinfer just to keep them in sync as much as possible.  Have any other editors needed or wanted this?  Any pitfalls I should worry about?</z><z id="t1543016344" t="eraserhd One problem is that cursors don&apos;t have unique identifiers, so matching previous cursor position to current cursor positions seems difficult. I know how to solve matching problems 😄 But I&apos;ll have to figure out what happens when a cursor disappears or appears."><y>#</y><d>2018-11-23</d><h>23:39</h><w>eraserhd</w>One problem is that cursors don&apos;t have unique identifiers, so matching previous cursor position to current cursor positions seems difficult.  I know how to solve matching problems <b>😄</b>  But I&apos;ll have to figure out what happens when a cursor disappears or appears.</z><z id="t1543040707" t="dominicm I think maybe atom has this"><y>#</y><d>2018-11-24</d><h>06:25</h><w>dominicm</w>I think maybe atom has this</z><z id="t1543046685" t="pez In the demo editor, what is indenting the cursor on the ned line when I type something like (-&gt; foo|) and hit enter, to get (-&gt; foo |) ? Is it Parinfer?"><y>#</y><d>2018-11-24</d><h>08:04</h><w>pez</w>In the demo editor, what is indenting the cursor on the ned line when I type something like <code>(-&gt; foo|)</code> and hit enter, to get <pre>(-&gt; foo
    |)</pre>
? Is it Parinfer?</z><z id="t1543050097" t="pez The closest I get with only Parinfer is: (let [o (jsify {:cursorLine 1 :cursorX 0 :prevCursorLine 0 :prevCursorX 8 :changes [{:lineNo 0 :x 8 :oldText &quot;)&quot; :newText &quot;\n)&quot;}]}) result (parinfer/smartMode &quot;(--&gt; foo\n)&quot; o)] (cljify result)) =&gt; {:text &quot;(--&gt; foo\n )&quot;, :cursorX 1, :cursorLine 1, :success true, :tabStops [{:ch &quot;(&quot;, :x 0, :lineNo 0, :argX 5}], :parenTrails [{:lineNo 1, :startX 0, :endX 2}]} "><y>#</y><d>2018-11-24</d><h>09:01</h><w>pez</w>The closest I get with only Parinfer is: <pre>(let [o (jsify {:cursorLine 1
                :cursorX 0
                :prevCursorLine 0
                :prevCursorX 8
                :changes [{:lineNo 0
                           :x 8
                           :oldText &quot;)&quot;
                           :newText &quot;\n)&quot;}]})
      result (parinfer/smartMode &quot;(--&gt; foo\n)&quot; o)]
  (cljify result))
=&gt; {:text &quot;(--&gt; foo\n )&quot;, :cursorX 1, :cursorLine 1, :success true, :tabStops [{:ch &quot;(&quot;, :x 0, :lineNo 0, :argX 5}], :parenTrails [{:lineNo 1, :startX 0, :endX 2}]}
</pre></z><z id="t1543056173" t="pez Never mind, found this in clojure-parinfer.js : * This Clojure mode also has logic for where to indent the cursor when pressing enter. * We do not modify this."><y>#</y><d>2018-11-24</d><h>10:42</h><w>pez</w>Never mind, found this in <code>clojure-parinfer.js</code>: <pre>*    This Clojure mode also has logic for where to indent the cursor when pressing enter.
 *    We do not modify this.</pre></z><z id="t1543066039" t="pez As I am testing out processing the document on cursor move I find that I would like to have some option to get WIP-treatment of my code, where parinfer wouldn’t fold parens. So. (foo |) Would become, when I move the cursor up: (foo | ) Instead of: (foo) | Is this very tricky to achieve, or would it break Parinfer in some way? I can file a feature request about it if it is a feasible thing to wish for."><y>#</y><d>2018-11-24</d><h>13:27</h><w>pez</w>As I am testing out processing the document on cursor move I find that I would like to have some option to get WIP-treatment of my code, where parinfer wouldn’t fold parens. So.
<pre>(foo
 
 |)
</pre>
Would become, when I move the cursor up:
<pre>(foo
 |
 )
</pre>
Instead of:
<pre>(foo)
 |

</pre>
Is this very tricky to achieve, or would it break Parinfer in some way? I can file a feature request about it if it is a feasible thing to wish for.</z><z id="t1543066516" t="pez I have this need to get the parens out of the way while I enter some code, but I do want parinfer’s help to be my guardian of the balance. I get a bit distracted by the parens moving back up when I just moved them down, and then they reappear when I start typing. I guess it is a matter of getting used to trust parinfer, but anyway, I don’t want to have a paren fight with my editor."><y>#</y><d>2018-11-24</d><h>13:35</h><w>pez</w>I have this need to get the parens out of the way while I enter some code, but I do want parinfer’s help to be my guardian of the balance. I get a bit distracted by the parens moving back up when I just moved them down, and then they reappear when I start typing. I guess it is a matter of getting used to trust parinfer, but anyway, I don’t want to have a paren fight with my editor.</z><z id="t1543277546" t="Drew Verlee whats the best way to get the latest and greatest version of parinfer on emacs/spacemacs? i&apos;m worried how ever im doing it, its behind."><y>#</y><d>2018-11-27</d><h>00:12</h><w>Drew Verlee</w>whats the best way to get the latest and greatest version of parinfer on emacs/spacemacs? i&apos;m worried how ever im doing it, its behind.</z><z id="t1543290617" t="justinbarclay I don’t think there is one, not with a version of smart mode. It looks like the maintainer has been pretty busy for the last while. https://github.com/DogLooksGood/parinfer-mode/issues/69"><y>#</y><d>2018-11-27</d><h>03:50</h><w>justinbarclay</w>I don’t think there is one, not with a version of smart mode. It looks like the maintainer has been pretty busy for the last while. <a href="https://github.com/DogLooksGood/parinfer-mode/issues/69" target="_blank">https://github.com/DogLooksGood/parinfer-mode/issues/69</a></z><z id="t1546442005" t="eraserhd [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] I&apos;ve been working on getting a decent change API into Kakoune, see here and the linked tickets: https://github.com/mawww/kakoune/pull/2673 "><y>#</y><d>2019-01-02</d><h>15:13</h><w>eraserhd</w><a>@shaunlebron</a> I&apos;ve been working on getting a decent change API into Kakoune, see here and the linked tickets: <a href="https://github.com/mawww/kakoune/pull/2673" target="_blank">https://github.com/mawww/kakoune/pull/2673</a> </z><z id="t1546442060" t="eraserhd Kakoune wants to do it by exposing the entire undo tree for the buffer (and uncommitted changes, which happens in insert mode before &lt;esc&gt;)"><y>#</y><d>2019-01-02</d><h>15:14</h><w>eraserhd</w>Kakoune wants to do it by exposing the entire undo tree for the buffer (and uncommitted changes, which happens in insert mode before &lt;esc&gt;)</z><z id="t1546442105" t="eraserhd It will still require some edge-case tracking for parinfer, but it will work AFAICT."><y>#</y><d>2019-01-02</d><h>15:15</h><w>eraserhd</w>It will still require some edge-case tracking for parinfer, but it will work AFAICT.</z><z id="t1546442203" t="eraserhd The edge-cases are jumping around in the undo tree and when uncommited modifications that we&apos;ve processed are committed."><y>#</y><d>2019-01-02</d><h>15:16</h><w>eraserhd</w>The edge-cases are jumping around in the undo tree and when uncommited modifications that we&apos;ve processed are committed.</z><z id="t1546453961" t="shaunlebron interesting, i was thinking that parinfer should not run navigating history"><y>#</y><d>2019-01-02</d><h>18:32</h><r>shaunlebron</r>interesting, i was thinking that parinfer should not run navigating history</z><z id="t1546454013" t="shaunlebron but instead that parinfer’s post-processed results after each change would be the state committed to the history tree, ideally"><y>#</y><d>2019-01-02</d><h>18:33</h><r>shaunlebron</r>but instead that parinfer’s post-processed results after each change would be the state committed to the history tree, ideally</z><z id="t1546455643" t="eraserhd Yeah, this is true. It would involve a hook after change and before commit, which doesn&apos;t exist."><y>#</y><d>2019-01-02</d><h>19:00</h><r>eraserhd</r>Yeah, this is true.  It would involve a hook after change and before commit, which doesn&apos;t exist.</z><z id="t1546455652" t="eraserhd Hmmm"><y>#</y><d>2019-01-02</d><h>19:00</h><r>eraserhd</r>Hmmm</z><z id="t1546455717" t="eraserhd I&apos;ve got nothing to lose to propose that, and it might not be hard now that I think of it."><y>#</y><d>2019-01-02</d><h>19:01</h><r>eraserhd</r>I&apos;ve got nothing to lose to propose that, and it might not be hard now that I think of it.</z><z id="t1546442283" t="eraserhd One thing to note is that Kakoune uses diffing itself when an external tool updates the buffer. But not for normal edits."><y>#</y><d>2019-01-02</d><h>15:18</h><w>eraserhd</w>One thing to note is that Kakoune uses diffing itself when an external tool updates the buffer.  But not for normal edits.</z><z id="t1546453873" t="shaunlebron this makes sense, no way around that"><y>#</y><d>2019-01-02</d><h>18:31</h><r>shaunlebron</r>this makes sense, no way around that</z><z id="t1546444558" t="shaunlebron good timing, i just typed out a status update on smart mode: https://github.com/shaunlebron/parinfer/blob/master/lib/README.md#status-update-2019-smart-mode"><y>#</y><d>2019-01-02</d><h>15:55</h><w>shaunlebron</w>good timing, i just typed out a status update on smart mode: <a href="https://github.com/shaunlebron/parinfer/blob/master/lib/README.md#status-update-2019-smart-mode" target="_blank">https://github.com/shaunlebron/parinfer/blob/master/lib/README.md#status-update-2019-smart-mode</a></z><z id="t1546575540" t="cfleming [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] BTW I’m very happy with smart mode in Cursive. I use it all the time now. The only problem is the unexpected behaviour when typing an open delimiter - I’m planning to work around that by always inserting the matching pair as most editing modes do, and then people can use the paredit wrapping commands, or if they select something and then type an open delim the selection will be wrapped."><y>#</y><d>2019-01-04</d><h>04:19</h><w>cfleming</w><a>@shaunlebron</a> BTW I’m very happy with smart mode in Cursive. I use it all the time now. The only problem is the unexpected behaviour when typing an open delimiter - I’m planning to work around that by always inserting the matching pair as most editing modes do, and then people can use the paredit wrapping commands, or if they select something and then type an open delim the selection will be wrapped.</z><z id="t1546575577" t="cfleming It very occasionally breaks on some complex change, but surprisingly seldom these days."><y>#</y><d>2019-01-04</d><h>04:19</h><w>cfleming</w>It very occasionally breaks on some complex change, but surprisingly seldom these days.</z><z id="t1547069305" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] interesting, smart mode should handle that well, but again it’s probably the editor integration that isn’t notifying parinfer of the nature of the change to help it do the right thing"><y>#</y><d>2019-01-09</d><h>21:28</h><w>shaunlebron</w><a>@cfleming</a> interesting, smart mode should handle that well, but again it’s probably the editor integration that isn’t notifying parinfer of the nature of the change to help it do the right thing</z><z id="t1547069360" t="cfleming I don’t think it’s that, it’s that IntelliJ sometimes produces very complex lists of overlapping changes."><y>#</y><d>2019-01-09</d><h>21:29</h><w>cfleming</w>I don’t think it’s that, it’s that IntelliJ sometimes produces very complex lists of overlapping changes.</z><z id="t1547069392" t="shaunlebron ah, that’s actually what I meant"><y>#</y><d>2019-01-09</d><h>21:29</h><w>shaunlebron</w>ah, that’s actually what I meant</z><z id="t1547069472" t="shaunlebron i’ll have to talk about state of parinfer on sunday for the repl podcast, maybe we can catch up on how it’s been working in cursive before then?"><y>#</y><d>2019-01-09</d><h>21:31</h><w>shaunlebron</w>i’ll have to talk about state of parinfer on sunday for the repl podcast, maybe we can catch up on how it’s been working in cursive before then?</z><z id="t1547069513" t="cfleming We’ve talked about this before, and IIRC the conclusion at the time was “it can’t be expected to handle all the potential edge cases for changes like that”, which I think is reasonable."><y>#</y><d>2019-01-09</d><h>21:31</h><w>cfleming</w>We’ve talked about this before, and IIRC the conclusion at the time was “it can’t be expected to handle all the potential edge cases for changes like that”, which I think is reasonable.</z><z id="t1547069526" t="cfleming Sure, that sounds good."><y>#</y><d>2019-01-09</d><h>21:32</h><w>cfleming</w>Sure, that sounds good.</z><z id="t1547069583" t="shaunlebron i caught up with chris (atom) and jason (vim/kakoune) and they said the exact same thing about the editor integrations they’re maintaining"><y>#</y><d>2019-01-09</d><h>21:33</h><w>shaunlebron</w>i caught up with chris (atom) and jason (vim/kakoune) and they said the exact same thing about the editor integrations they’re maintaining</z><z id="t1547069630" t="shaunlebron resorting to diffs for the changes they need"><y>#</y><d>2019-01-09</d><h>21:33</h><w>shaunlebron</w>resorting to diffs for the changes they need</z><z id="t1547069637" t="shaunlebron but only a partial solution"><y>#</y><d>2019-01-09</d><h>21:33</h><w>shaunlebron</w>but only a partial solution</z><z id="t1547069644" t="cfleming So what really made the difference was the change I made which doesn’t run paren mode on file open, but marks the problems instead and lets the user fix them."><y>#</y><d>2019-01-09</d><h>21:34</h><w>cfleming</w>So what really made the difference was the change I made which doesn’t run paren mode on file open, but marks the problems instead and lets the user fix them.</z><z id="t1547069697" t="cfleming Then it doesn’t matter if parinfer breaks something in a really crazy change list because the user can then fix it to what they meant."><y>#</y><d>2019-01-09</d><h>21:34</h><w>cfleming</w>Then it doesn’t matter if parinfer breaks something in a really crazy change list because the user can then fix it to what they meant.</z><z id="t1547069762" t="shaunlebron because the breaking change is isolated to a single function?"><y>#</y><d>2019-01-09</d><h>21:36</h><w>shaunlebron</w>because the breaking change is isolated to a single function?</z><z id="t1547069785" t="cfleming No, a change may span various functions."><y>#</y><d>2019-01-09</d><h>21:36</h><w>cfleming</w>No, a change may span various functions.</z><z id="t1547069796" t="cfleming But at least it’s clearly marked where the problems are."><y>#</y><d>2019-01-09</d><h>21:36</h><w>cfleming</w>But at least it’s clearly marked where the problems are.</z><z id="t1547069862" t="shaunlebron i suppose there’s different kinds of problems to think about"><y>#</y><d>2019-01-09</d><h>21:37</h><w>shaunlebron</w>i suppose there’s different kinds of problems to think about</z><z id="t1547069873" t="shaunlebron but you’re marking incorrect indentation"><y>#</y><d>2019-01-09</d><h>21:37</h><w>shaunlebron</w>but you’re marking incorrect indentation</z><z id="t1547069882" t="shaunlebron and not running indent/smart mode there"><y>#</y><d>2019-01-09</d><h>21:38</h><w>shaunlebron</w>and not running indent/smart mode there</z><z id="t1547069912" t="shaunlebron other problems are related to unexpected changes to code with previously correct indentation"><y>#</y><d>2019-01-09</d><h>21:38</h><w>shaunlebron</w>other problems are related to unexpected changes to code with previously correct indentation</z><z id="t1547069947" t="cfleming Currently I don’t run it anywhere, so if the file is broken it’s broken, and there’s no parinfer until it’s fixed. I was planning to make a change to have that apply per top-level form, but I never got around to it and no-one has complained that it’s a problem."><y>#</y><d>2019-01-09</d><h>21:39</h><w>cfleming</w>Currently I don’t run it anywhere, so if the file is broken it’s broken, and there’s no parinfer until it’s fixed. I was planning to make a change to have that apply per top-level form, but I never got around to it and no-one has complained that it’s a problem.</z><z id="t1547070011" t="shaunlebron i see, yeah i assumed the top-level form isolation was part of it"><y>#</y><d>2019-01-09</d><h>21:40</h><w>shaunlebron</w>i see, yeah i assumed the top-level form isolation was part of it</z><z id="t1547070089" t="shaunlebron is smart mode on by default?"><y>#</y><d>2019-01-09</d><h>21:41</h><w>shaunlebron</w>is smart mode on by default?</z><z id="t1547070094" t="shaunlebron and are many using it?"><y>#</y><d>2019-01-09</d><h>21:41</h><w>shaunlebron</w>and are many using it?</z><z id="t1547070104" t="shaunlebron and how’s the feedback?"><y>#</y><d>2019-01-09</d><h>21:41</h><w>shaunlebron</w>and how’s the feedback?</z><z id="t1547070116" t="shaunlebron (smart mode hidden by flag in atom, but feedback has been nil)"><y>#</y><d>2019-01-09</d><h>21:41</h><w>shaunlebron</w>(smart mode hidden by flag in atom, but feedback has been nil)</z><z id="t1547070159" t="cfleming It’s actually not on by default, I meant to turn it on by default once it stabilised but never did. When I first brought it out a lot of people said they were using it and liking it, and I see occasional comments along those lines."><y>#</y><d>2019-01-09</d><h>21:42</h><w>cfleming</w>It’s actually not on by default, I meant to turn it on by default once it stabilised but never did. When I first brought it out a lot of people said they were using it and liking it, and I see occasional comments along those lines.</z><z id="t1547070174" t="cfleming I don’t do any tracking though so I don’t have any firm numbers."><y>#</y><d>2019-01-09</d><h>21:42</h><w>cfleming</w>I don’t do any tracking though so I don’t have any firm numbers.</z><z id="t1547070225" t="shaunlebron interesting, i suppose silence can be interpreted either way there"><y>#</y><d>2019-01-09</d><h>21:43</h><w>shaunlebron</w>interesting, i suppose silence can be interpreted either way there</z><z id="t1547070279" t="shaunlebron alright, I think that’s all I need to know for giving an update"><y>#</y><d>2019-01-09</d><h>21:44</h><w>shaunlebron</w>alright, I think that’s all I need to know for giving an update</z><z id="t1547070290" t="shaunlebron thanks for pinging me on this"><y>#</y><d>2019-01-09</d><h>21:44</h><w>shaunlebron</w>thanks for pinging me on this</z><z id="t1547070300" t="cfleming Generally, I’m super happy with it, and I use it all day myself."><y>#</y><d>2019-01-09</d><h>21:45</h><w>cfleming</w>Generally, I’m super happy with it, and I use it all day myself.</z><z id="t1547070320" t="cfleming The integration was one of the most painful things I’ve done in Cursive, though."><y>#</y><d>2019-01-09</d><h>21:45</h><w>cfleming</w>The integration was one of the most painful things I’ve done in Cursive, though.</z><z id="t1547070335" t="cfleming lein will always take top spot there, but this was probably second."><y>#</y><d>2019-01-09</d><h>21:45</h><w>cfleming</w>lein will always take top spot there, but this was probably second.</z><z id="t1547070366" t="shaunlebron haha, alright, i expected as much, i remember how that was going last year"><y>#</y><d>2019-01-09</d><h>21:46</h><w>shaunlebron</w>haha, alright, i expected as much, i remember how that was going last year</z><z id="t1547070388" t="shaunlebron that might’ve been two years ago, idk anymore"><y>#</y><d>2019-01-09</d><h>21:46</h><w>shaunlebron</w>that might’ve been two years ago, idk anymore</z><z id="t1547070400" t="cfleming A year or so, I think."><y>#</y><d>2019-01-09</d><h>21:46</h><w>cfleming</w>A year or so, I think.</z><z id="t1547070419" t="shaunlebron copy/paste?"><y>#</y><d>2019-01-09</d><h>21:46</h><w>shaunlebron</w>copy/paste?</z><z id="t1547070429" t="shaunlebron is that a common thing, and is that alright in parinfer?"><y>#</y><d>2019-01-09</d><h>21:47</h><w>shaunlebron</w>is that a common thing, and is that alright in parinfer?</z><z id="t1547070449" t="cfleming Copy/paste is still a little painful sometimes. I have plans to make it better, but haven’t had time."><y>#</y><d>2019-01-09</d><h>21:47</h><w>cfleming</w>Copy/paste is still a little painful sometimes. I have plans to make it better, but haven’t had time.</z><z id="t1547070462" t="cfleming It’s definitely a common thing, and mostly works ok."><y>#</y><d>2019-01-09</d><h>21:47</h><w>cfleming</w>It’s definitely a common thing, and mostly works ok.</z><z id="t1547070480" t="cfleming It’s complicated by the fact that IntelliJ likes to auto-indent pasted blocks."><y>#</y><d>2019-01-09</d><h>21:48</h><w>cfleming</w>It’s complicated by the fact that IntelliJ likes to auto-indent pasted blocks.</z><z id="t1547070524" t="cfleming Which happens before parinfer gets to run. That occasionally leads to things you wouldn’t expect, but they’re generally easy issues to fix."><y>#</y><d>2019-01-09</d><h>21:48</h><w>cfleming</w>Which happens before parinfer gets to run. That occasionally leads to things you wouldn’t expect, but they’re generally easy issues to fix.</z><z id="t1547070612" t="shaunlebron yeah, i had weird things happen when doing some cljs work in atom, like it would dedent entire expressions after my cursor that i had to manually fix"><y>#</y><d>2019-01-09</d><h>21:50</h><w>shaunlebron</w>yeah, i had weird things happen when doing some cljs work in atom, like it would dedent entire expressions after my cursor that i had to manually fix</z><z id="t1547070638" t="shaunlebron never isolated the cause, but the root of this is that it is very delicate to the wrong change information from the editor"><y>#</y><d>2019-01-09</d><h>21:50</h><w>shaunlebron</w>never isolated the cause, but the root of this is that it is very delicate to the wrong change information from the editor</z><z id="t1547070680" t="cfleming I don’t think that’s always the cause, sometimes it makes sense if you think about it, but to a user who doesn’t understand the algorithm it’s going to be weird."><y>#</y><d>2019-01-09</d><h>21:51</h><w>cfleming</w>I don’t think that’s always the cause, sometimes it makes sense if you think about it, but to a user who doesn’t understand the algorithm it’s going to be weird.</z><z id="t1547070707" t="cfleming e.g. if your editor looks like this: (defn foo [bar]) | "><y>#</y><d>2019-01-09</d><h>21:51</h><w>cfleming</w>e.g. if your editor looks like this:
<pre>(defn foo [bar])
  |
</pre></z><z id="t1547070708" t="shaunlebron there’s that, yeah"><y>#</y><d>2019-01-09</d><h>21:51</h><w>shaunlebron</w>there’s that, yeah</z><z id="t1547070748" t="cfleming i.e. you’ve started a new function, and you want to paste the body"><y>#</y><d>2019-01-09</d><h>21:52</h><w>cfleming</w>i.e. you’ve started a new function, and you want to paste the body</z><z id="t1547070787" t="cfleming Pasting there in Cursive will result in: (defn foo [bar]) (your pasted form)| "><y>#</y><d>2019-01-09</d><h>21:53</h><w>cfleming</w>Pasting there in Cursive will result in:
<pre>(defn foo [bar])
(your pasted form)|
</pre></z><z id="t1547070860" t="cfleming The user will have expected it to be inserted in the defn form, because their caret was indented when pasting. But IntelliJ pastes, then indents, and then at the end parinfer is run. The indent sees that the new block is outside the top-level form so it dedents it, and then parinfer doesn’t put it in because it’s no longer where the user thought they put it."><y>#</y><d>2019-01-09</d><h>21:54</h><w>cfleming</w>The user will have expected it to be inserted in the defn form, because their caret was indented when pasting. But IntelliJ pastes, then indents, and then at the end parinfer is run. The indent sees that the new block is outside the top-level form so it dedents it, and then parinfer doesn’t put it in because it’s no longer where the user thought they put it.</z><z id="t1547070998" t="shaunlebron right, editor interference"><y>#</y><d>2019-01-09</d><h>21:56</h><w>shaunlebron</w>right, editor interference</z><z id="t1547071122" t="shaunlebron [:attrs {:href &quot;/_/_/users/U0ECYL0ET&quot;}] how do i pronounce your last name? just wanna get that right"><y>#</y><d>2019-01-09</d><h>21:58</h><w>shaunlebron</w><a>@eraserhd</a> how do i pronounce your last name? just wanna get that right</z><z id="t1547071143" t="cfleming Right, but there’s no step there which is obviously wrong, but the end result is confusing."><y>#</y><d>2019-01-09</d><h>21:59</h><w>cfleming</w>Right, but there’s no step there which is obviously wrong, but the end result is confusing.</z><z id="t1547071474" t="eraserhd [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] fuh-LEASE"><y>#</y><d>2019-01-09</d><h>22:04</h><w>eraserhd</w><a>@shaunlebron</a> fuh-LEASE</z><z id="t1547071580" t="eraserhd btw, Kakoune apparently has almost exactly the change log we want, but it wasn&apos;t exposed. It wasn&apos;t the undo tree, but a monotonic change log that even records switches between branches of the undo tree."><y>#</y><d>2019-01-09</d><h>22:06</h><w>eraserhd</w>btw, Kakoune apparently has almost exactly the change log we want, but it wasn&apos;t exposed.  It wasn&apos;t the undo tree, but a monotonic change log that even records switches between branches of the undo tree.</z><z id="t1547071629" t="eraserhd Monotonic is probably the wrong word. Append-only. I will attempt to use it this week."><y>#</y><d>2019-01-09</d><h>22:07</h><w>eraserhd</w>Monotonic is probably the wrong word.  Append-only.  I will attempt to use it this week.</z><z id="t1547071864" t="shaunlebron huh, interesting, i’d be interested to see how that plays out"><y>#</y><d>2019-01-09</d><h>22:11</h><w>shaunlebron</w>huh, interesting, i’d be interested to see how that plays out</z><z id="t1547071897" t="shaunlebron e.g. i wonder if types of changes will have to be ignored or not"><y>#</y><d>2019-01-09</d><h>22:11</h><w>shaunlebron</w>e.g. i wonder if types of changes will have to be ignored or not</z><z id="t1547072093" t="eraserhd Well, there&apos;s two things to account for. The first is that this change log has only positional changes, not text. Internally, parinfer only needs positional changes, but it parses that out of text. So I&apos;ll need to change that somehow."><y>#</y><d>2019-01-09</d><h>22:14</h><w>eraserhd</w>Well, there&apos;s two things to account for.  The first is that this change log has only positional changes, not text.  Internally, parinfer only needs positional changes, but it parses that out of text.  So I&apos;ll need to change that somehow.</z><z id="t1547072121" t="eraserhd (I mean start and end line and column.)"><y>#</y><d>2019-01-09</d><h>22:15</h><w>eraserhd</w>(I mean start and end line and column.)</z><z id="t1547072149" t="eraserhd The second is that parinfer wants changes as though they all happened simultaneously, and Kakoune&apos;s log has them stacked sequentially."><y>#</y><d>2019-01-09</d><h>22:15</h><w>eraserhd</w>The second is that parinfer wants changes as though they all happened simultaneously, and Kakoune&apos;s log has them stacked sequentially.</z><z id="t1547072198" t="eraserhd e.g. the log might say &quot;insert 10 characters at position 2, then delete 3 at position 7&quot;"><y>#</y><d>2019-01-09</d><h>22:16</h><w>eraserhd</w>e.g. the log might say &quot;insert 10 characters at position 2, then delete 3 at position 7&quot;</z><z id="t1547072234" t="eraserhd so I&apos;ll need to flatten them"><y>#</y><d>2019-01-09</d><h>22:17</h><w>eraserhd</w>so I&apos;ll need to flatten them</z><z id="t1547072246" t="pez [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] About the state of integration. For Calva I have so far fallen back on only doing parinfer (smart mode) on the user’s command. Main reason being that vscode is a bit lacking in its API:s. But we have started a change in the whole formatting approach in Calva that might open up for on-the-fly parinfer."><y>#</y><d>2019-01-09</d><h>22:17</h><w>pez</w><a>@shaunlebron</a> About the state of integration. For Calva I have so far fallen back on only doing parinfer (smart mode) on the user’s command. Main reason being that vscode is a bit lacking in its API:s. But we have started a change in the whole formatting approach in Calva that might open up for on-the-fly parinfer.</z><z id="t1547072428" t="shaunlebron you mean running parinfer to format the file when the command is run for it?"><y>#</y><d>2019-01-09</d><h>22:20</h><r>shaunlebron</r>you mean running parinfer to format the file when the command is run for it?</z><z id="t1547072741" t="pez Yes, Calva has a command Infer parens. (Since it has an on-the-fly formatter, things are most often correctly indented, so running smart mode means infer parens.)"><y>#</y><d>2019-01-09</d><h>22:25</h><r>pez</r>Yes, Calva has a command Infer parens. (Since it has an on-the-fly formatter, things are most often correctly indented, so running smart mode means infer parens.)</z><z id="t1547072809" t="shaunlebron so it’s a one time run, not a toggle to run continuously thereafter"><y>#</y><d>2019-01-09</d><h>22:26</h><r>shaunlebron</r>so it’s a one time run, not a toggle to run continuously thereafter</z><z id="t1547072902" t="shaunlebron if that’s the case, that smart mode = indent mode. the only thing that would make their effects different is the presence of the “changes” option"><y>#</y><d>2019-01-09</d><h>22:28</h><r>shaunlebron</r>if that’s the case, that smart mode = indent mode.  the only thing that would make their effects different is the presence of the “changes” option</z><z id="t1547073154" t="pez Yes, one-off, not a toggle. And no changes passed. But there there are two other commands that use that option (also on-offs)."><y>#</y><d>2019-01-09</d><h>22:32</h><r>pez</r>Yes, one-off, not a toggle. And no <code>changes</code> passed. But there there are two other commands that use that option (also on-offs).</z><z id="t1547072248" t="eraserhd or &quot;squish&quot; them, or whatever that operation should be called."><y>#</y><d>2019-01-09</d><h>22:17</h><w>eraserhd</w>or &quot;squish&quot; them, or whatever that operation should be called.</z><z id="t1547072498" t="shaunlebron right, this sequential problem is seen in atom when we’re batching change events that can’t be fetched synchronously"><y>#</y><d>2019-01-09</d><h>22:21</h><r>shaunlebron</r>right, this sequential problem is seen in atom when we’re batching change events that can’t be fetched synchronously</z><z id="t1547072517" t="shaunlebron chris wrote some code to “merge” these change objects together in vscode"><y>#</y><d>2019-01-09</d><h>22:21</h><r>shaunlebron</r>chris wrote some code to “merge” these change objects together in vscode</z><z id="t1547072400" t="pez (But so far the users who have talked to me about it are happy with doing smart mode at will.)"><y>#</y><d>2019-01-09</d><h>22:20</h><w>pez</w>(But so far the users who have talked to me about it are happy with doing smart mode at will.)</z><z id="t1547073459" t="shaunlebron just to be precise with the language here, your integration is just using “indent mode” if no changes object is being passed to “smart mode”"><y>#</y><d>2019-01-09</d><h>22:37</h><r>shaunlebron</r>just to be precise with the language here, your integration is just using “indent mode” if no <code>changes</code> object is being passed to “smart mode”</z><z id="t1547074307" t="pez Yes, so that’s the Infer parens command. There are also two commands that use the changes object, but they are doing it in a way that essentially makes it “paren mode”."><y>#</y><d>2019-01-09</d><h>22:51</h><r>pez</r>Yes, so that’s the Infer parens command. There are also two commands that use the <code>changes</code> object, but they are doing it in a way that essentially makes it “paren mode”.</z><z id="t1547563020" t="eraserhd [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] do you think we always want paren mode to fix up paste operations? Users are requesting it, but feels like we might not always want that."><y>#</y><d>2019-01-15</d><h>14:37</h><w>eraserhd</w><a>@shaunlebron</a> do you think we always want paren mode to fix up paste operations?  Users are requesting it, but feels like we might not always want that.</z><z id="t1547565148" t="eraserhd [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] also, I owe you a link to NeoVim buffer changes API. I haven&apos;t looked to closely, but here&apos;s what I had: https://github.com/neovim/neovim/pull/7917"><y>#</y><d>2019-01-15</d><h>15:12</h><w>eraserhd</w><a>@shaunlebron</a> also, I owe you a link to NeoVim buffer changes API.  I haven&apos;t looked to closely, but here&apos;s what I had: <a href="https://github.com/neovim/neovim/pull/7917" target="_blank">https://github.com/neovim/neovim/pull/7917</a></z><z id="t1547578105" t="shaunlebron not enough context for me to understand this link"><y>#</y><d>2019-01-15</d><h>18:48</h><r>shaunlebron</r>not enough context for me to understand this link</z><z id="t1547577670" t="shaunlebron paren mode won’t solve all paste issues though"><y>#</y><d>2019-01-15</d><h>18:41</h><w>shaunlebron</w>paren mode won’t solve all paste issues though</z><z id="t1547577711" t="shaunlebron pasted input can be unbalanced itself"><y>#</y><d>2019-01-15</d><h>18:41</h><w>shaunlebron</w>pasted input can be unbalanced itself</z><z id="t1547577836" t="shaunlebron might be worth trying—after pasting, run paren mode if and only if the result is balanced"><y>#</y><d>2019-01-15</d><h>18:43</h><w>shaunlebron</w>might be worth trying—after pasting, run paren mode if and only if the result is balanced</z><z id="t1547577909" t="shaunlebron paren mode can’t do anything with unbalanced code anyway"><y>#</y><d>2019-01-15</d><h>18:45</h><w>shaunlebron</w>paren mode can’t do anything with unbalanced code anyway</z><z id="t1547577921" t="shaunlebron so I’d try that if you’re looking for a direction to go with wrangling pasted code"><y>#</y><d>2019-01-15</d><h>18:45</h><w>shaunlebron</w>so I’d try that if you’re looking for a direction to go with wrangling pasted code</z><z id="t1547584066" t="eraserhd ahh, that sounds acceptable"><y>#</y><d>2019-01-15</d><h>20:27</h><w>eraserhd</w>ahh, that sounds acceptable</z><z id="t1549460559" t="misha ♥️"><y>#</y><d>2019-02-06</d><h>13:42</h><w>misha</w><b>♥️</b></z><z id="t1549501878" t="Drew Verlee Does anyone have a guess on the much time it would take to go from very little emacs knowledge to finishing the work on smart parinfer?"><y>#</y><d>2019-02-07</d><h>01:11</h><w>Drew Verlee</w>Does anyone have a guess on the much time it would take to go from very little emacs knowledge to finishing the work on smart parinfer?</z><z id="t1549682928" t="shaunlebron i’d talk to [:attrs {:href &quot;/_/_/users/U0NBGRGD6&quot;}] , he has all the context on it"><y>#</y><d>2019-02-09</d><h>03:28</h><r>shaunlebron</r>i’d talk to <a>@U0NBGRGD6</a>, he has all the context on it</z><z id="t1549682880" t="shaunlebron If you want a summary on the history and state of parinfer, daniel did a great job distilling our conversation about it in this podcast: https://www.therepl.net/episodes/17/"><y>#</y><d>2019-02-09</d><h>03:28</h><w>shaunlebron</w>If you want a summary on the history and state of parinfer, daniel did a great job distilling our conversation about it in this podcast: <a href="https://www.therepl.net/episodes/17/" target="_blank">https://www.therepl.net/episodes/17/</a></z><z id="t1549691716" t="henrik That Atom (and therefore smart mode) might fade into oblivion at the hands of Microsoft makes me apprehensive. I really, really don&apos;t want to go back to paredit and its 1200 keyboard shortcuts."><y>#</y><d>2019-02-09</d><h>05:55</h><w>henrik</w>That Atom (and therefore smart mode) might fade into oblivion at the hands of Microsoft makes me apprehensive. I really, really don&apos;t want to go back to paredit and its 1200 keyboard shortcuts.</z><z id="t1549699810" t="pez There is some hope we will be able to add smartmode to Calva. [:attrs {:href &quot;/_/_/users/U1GCL8V2B&quot;}] has created this thing he calls DocMirror that I think might be able to track the changes for us. "><y>#</y><d>2019-02-09</d><h>08:10</h><w>pez</w>There is some hope we will be able to add smartmode to Calva. <a>@mseddon</a> has created this thing he calls DocMirror that I think might be able to track the changes for us. </z><z id="t1551557880" t="misha I think, you&apos;ll like this commit message in nasa&apos;s codebase, [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] https://github.com/nasa/Common-Metadata-Repository/commit/7218589064e0a51626cf3d99ab55db2c917fe692"><y>#</y><d>2019-03-02</d><h>20:18</h><w>misha</w>I think, you&apos;ll like this commit message in nasa&apos;s codebase, <a>@shaunlebron</a>
<a href="https://github.com/nasa/Common-Metadata-Repository/commit/7218589064e0a51626cf3d99ab55db2c917fe692" target="_blank">https://github.com/nasa/Common-Metadata-Repository/commit/7218589064e0a51626cf3d99ab55db2c917fe692</a></z><z id="t1551729353" t="eraserhd You know, I&apos;ve been wondering about quotes and parinfer. Why not insert matching quotes the same way as brackets, avoiding the file being broken?"><y>#</y><d>2019-03-04</d><h>19:55</h><w>eraserhd</w>You know, I&apos;ve been wondering about quotes and parinfer.  Why not insert matching quotes the same way as brackets, avoiding the file being broken?</z><z id="t1551769709" t="henrik The editor that I use (Atom) certainly does that, but I have paredit installed to help with some structural stuff. It may very well be it that does it."><y>#</y><d>2019-03-05</d><h>07:08</h><w>henrik</w>The editor that I use (Atom) certainly does that, but I have paredit installed to help with some structural stuff. It may very well be it that does it.</z><z id="t1551769765" t="henrik Btw, I use Atom because it has the best implementation of parinfer that I&apos;ve tried. if it turned out to work better in some other editor, I would be compelled to try it. Is this the case for any of them?"><y>#</y><d>2019-03-05</d><h>07:09</h><w>henrik</w>Btw, I use Atom because it has the best implementation of parinfer that I&apos;ve tried. if it turned out to work better in some other editor, I would be compelled to try it. Is this the case for any of them?</z><z id="t1551808338" t="chrisoakman I think Atom has the best integration with Parinfer right now, although I haven&apos;t tried everything else to be sure. Cursive is supposed to be good too. VSCode is hindered by the API that is available."><y>#</y><d>2019-03-05</d><h>17:52</h><w>chrisoakman</w>I think Atom has the best integration with Parinfer right now, although I haven&apos;t tried everything else to be sure. Cursive is supposed to be good too. VSCode is hindered by the API that is available.</z><z id="t1558708253" t="ajoberstar Anyone have background on Parinfer in VS Code? I know the Atom plugin was more the focus, but seems like the VS Code one never reached parity, stability-wise. Are there fundamental issues in VS Code that make Parinfer hard or impossible to implement there or was it just a like of time to work on it? Asking because I&apos;d be interested in helping out."><y>#</y><d>2019-05-24</d><h>14:30</h><w>ajoberstar</w>Anyone have background on Parinfer in VS Code? I know the Atom plugin was more the focus, but seems like the VS Code one never reached parity, stability-wise.

Are there fundamental issues in VS Code that make Parinfer hard or impossible to implement there or was it just a like of time to work on it?

Asking because I&apos;d be interested in helping out.</z><z id="t1558715314" t="pez [:attrs {:href &quot;/_/_/users/U0516KEV7&quot;}] , vscode doesn&apos;t make it easy to implement parinfer to feature parity with the Atom version. But please dig in to it. In Calva we have a document change tracker that might make some of the job easier. Please contact me in #calva-dev if you want to chat some about it. I&apos;ll be going offline a while now but anyway, I&apos;ll catch up. 😀"><y>#</y><d>2019-05-24</d><h>16:28</h><w>pez</w><a>@ajoberstar</a> , vscode doesn&apos;t make it easy to implement parinfer to feature parity with the Atom version. But please dig in to it. In Calva we have a document change tracker that might make some of the job easier. Please contact me in #calva-dev if you want to chat some about it. I&apos;ll be going offline a while now but anyway, I&apos;ll catch up. <b>😀</b></z><z id="t1559622111" t="dharrigan Has (comment) been discussed before? In some of my files, I&apos;m starting to put a big (comment ......) block at the end, so I can eval things quickly and try out a few experiments. With parinfer(-rust - for vim) enabled (and set to paren ), the closing parentheses wants to always collapse to the end of the comment block, closing in any newlines, so I can&apos;t type (comment &lt;cr&gt;&lt;cr&gt;&lt;cr&gt;....half a dozen more &lt;cr&gt;&apos;s) to give myself space within the comment block to try things out. I was wondering if there perhaps is a way to disable removing the newline spacing and give me a nice big block of space to work in 🙂"><y>#</y><d>2019-06-04</d><h>04:21</h><w>dharrigan</w>Has <code>(comment)</code> been discussed before? In some of my files, I&apos;m starting to put a big <code>(comment ......)</code> block at the end, so I can eval things quickly and try out a few experiments. With parinfer(-rust - for vim) enabled (and set to <code>paren</code>), the closing parentheses wants to always collapse to the end of the comment block, closing in any newlines, so I can&apos;t type <code>(comment &lt;cr&gt;&lt;cr&gt;&lt;cr&gt;....half a dozen more &lt;cr&gt;&apos;s)</code> to give myself space within the comment block to try things out. I was wondering if there perhaps is a way to disable removing the newline spacing and give me a nice big block of space to work in <b>🙂</b></z><z id="t1559638379" t="Oliver Marshall Personally, I just put [] at the end of the comment as a sort of &quot;door stop&quot;"><y>#</y><d>2019-06-04</d><h>08:52</h><w>Oliver Marshall</w>Personally, I just put <code>[]</code> at the end of the comment as a sort of &quot;door stop&quot;</z><z id="t1559638835" t="dharrigan urgh."><y>#</y><d>2019-06-04</d><h>09:00</h><w>dharrigan</w>urgh.</z><z id="t1559638901" t="dharrigan Perhaps one for the parinfer-rust implementor, but in some IDEs you can mark a block as something like // formatter:off and then // formatter:on and anything within that block won&apos;t be reformatted"><y>#</y><d>2019-06-04</d><h>09:01</h><w>dharrigan</w>Perhaps one for the parinfer-rust implementor, but in some IDEs you can mark a block as something like <code>// formatter:off</code> and then <code>// formatter:on</code> and anything within that block won&apos;t be reformatted</z><z id="t1559915222" t="henrik It&apos;s usually useful to have stuff in comment blocks formatted by parinfer though."><y>#</y><d>2019-06-07</d><h>13:47</h><r>henrik</r>It&apos;s usually useful to have stuff in <code>comment</code> blocks formatted by parinfer though.</z><z id="t1559638928" t="dharrigan could be something like ;; lint:off and ;; lint:on"><y>#</y><d>2019-06-04</d><h>09:02</h><w>dharrigan</w>could be something like <code>;; lint:off</code> and <code>;; lint:on</code></z><z id="t1559638932" t="dharrigan &lt;shrug&gt;"><y>#</y><d>2019-06-04</d><h>09:02</h><w>dharrigan</w>&lt;shrug&gt;</z><z id="t1559638934" t="dharrigan just thinking"><y>#</y><d>2019-06-04</d><h>09:02</h><w>dharrigan</w>just thinking</z><z id="t1559894575" t="henrik I usually do, (comment #__)"><y>#</y><d>2019-06-07</d><h>08:02</h><w>henrik</w>I usually do,

<pre>(comment
 
 #__)</pre></z><z id="t1563137740" t="mogenslund First real attempt of parinfer for liquid: https://github.com/mogenslund/liquid-parinfer . (Wrapping another library)"><y>#</y><d>2019-07-14</d><h>20:55</h><w>mogenslund</w>First real attempt of parinfer for liquid: <a href="https://github.com/mogenslund/liquid-parinfer" target="_blank">https://github.com/mogenslund/liquid-parinfer</a>. (Wrapping another library)</z><z id="t1566979175" t="henrik Hey, Parinfer with Smart Mode is a hard requirement for me these days. Do you guys know which editors are therefore viable other than Atom?"><y>#</y><d>2019-08-28</d><h>07:59</h><w>henrik</w>Hey, Parinfer with Smart Mode is a hard requirement for me these days. Do you guys know which editors are therefore viable other than Atom?</z><z id="t1566980278" t="henrik To answer my own question, Cursive, Vim (with https://github.com/eraserhd/parinfer-rust ), but Emacs seems a no-go."><y>#</y><d>2019-08-28</d><h>08:17</h><w>henrik</w>To answer my own question, Cursive, Vim (with <a href="https://github.com/eraserhd/parinfer-rust" target="_blank">https://github.com/eraserhd/parinfer-rust</a>), but Emacs seems a no-go.</z><z id="t1567002974" t="eraserhd Kakoune, via parinfer-rust, if you thought Vim was too easy :)"><y>#</y><d>2019-08-28</d><h>14:36</h><w>eraserhd</w>Kakoune, via parinfer-rust, if you thought Vim was too easy :)</z><z id="t1567003012" t="eraserhd Somebody was working on using Emacs+parinfer-rust. I wonder what happened to that."><y>#</y><d>2019-08-28</d><h>14:36</h><w>eraserhd</w>Somebody was working on using Emacs+parinfer-rust.  I wonder what happened to that.</z><z id="t1567004005" t="dominicm Do people attack you in the hallway with their rogue parens if it doesn&apos;t work?"><y>#</y><d>2019-08-28</d><h>14:53</h><w>dominicm</w>Do people attack you in the hallway with their rogue parens if it doesn&apos;t work?</z><z id="t1567004156" t="eraserhd No, but I try to talk to [:attrs {:href &quot;/_/_/users/U061E2UBT&quot;}] if he&apos;s there about the status of things, and that&apos;ll be funner if I resolve some of my bucket of things."><y>#</y><d>2019-08-28</d><h>14:55</h><w>eraserhd</w>No, but I try to talk to <a>@shaunlebron</a> if he&apos;s there about the status of things, and that&apos;ll be funner if I resolve some of my bucket of things.</z><z id="t1567005221" t="justinbarclay I’m still working on a Emacs port using parinfer-rust, but unfortunately life got busy for me this year so I wasn’t able to put as much work into it as I wanted."><y>#</y><d>2019-08-28</d><h>15:13</h><w>justinbarclay</w>I’m still working on a Emacs port using parinfer-rust, but unfortunately life got busy for me this year so I wasn’t able to put as much work into it as I wanted.</z><z id="t1567005254" t="justinbarclay I’ve got one bug that I want to hunt down thats causes Emacs to crash before I’m ready to get feedback on it though"><y>#</y><d>2019-08-28</d><h>15:14</h><w>justinbarclay</w>I’ve got one bug that I want to hunt down thats causes Emacs to crash before I’m ready to get feedback on it though</z><z id="t1569944308" t="eraserhd parinfer-rust 0.4.0 is out, with support for smart mode in emacs thanks to [:attrs {:href &quot;/_/_/users/U4314EARM&quot;}] "><y>#</y><d>2019-10-01</d><h>15:38</h><w>eraserhd</w>parinfer-rust 0.4.0 is out, with support for smart mode in emacs thanks to <a>@emoarmy</a> </z><z id="t1570087069" t="Stefan Oh boy I just settled on vim, now I’ll have to reconsider again 🙂 Great work though, thanks!!!! 🎉"><y>#</y><d>2019-10-03</d><h>07:17</h><r>Stefan</r>Oh boy I just settled on vim, now I’ll have to reconsider again <b>🙂</b> Great work though, thanks!!!! <b>🎉</b></z><z id="t1570120776" t="Aleksander [:attrs {:href &quot;/_/_/users/U0ECYL0ET&quot;}] do you know what dependencies parinfer has on ubuntu? installed rust with cargo + libclang-dev gives me:"><y>#</y><d>2019-10-03</d><h>16:39</h><r>Aleksander</r><a>@U0ECYL0ET</a> do you know what dependencies parinfer has on ubuntu?

installed rust with cargo + libclang-dev gives me:</z><z id="t1570122142" t="eraserhd [:attrs {:href &quot;/_/_/users/UA2R84M28&quot;}] stddef.h really should be in libclang-dev, that&apos;s definitely from clang. Maybe there&apos;s a clang-dev or something?"><y>#</y><d>2019-10-03</d><h>17:02</h><r>eraserhd</r><a>@UA2R84M28</a> stddef.h really should be in libclang-dev, that&apos;s definitely from clang.  Maybe there&apos;s a clang-dev or something?</z><z id="t1570123055" t="Aleksander hmm, tried installing pretty much every package with clang and dev in its name - didn&apos;t help"><y>#</y><d>2019-10-03</d><h>17:17</h><r>Aleksander</r>hmm, tried installing pretty much every package with clang and dev in its name - didn&apos;t help</z><z id="t1570126169" t="eraserhd It appears to be in libclang-common-&lt;version&gt;-dev , though I have to imagine that is a dependency of libclang-dev ."><y>#</y><d>2019-10-03</d><h>18:09</h><r>eraserhd</r>It appears to be in <code>libclang-common-&lt;version&gt;-dev</code>, though I have to imagine that is a dependency of <code>libclang-dev</code>.</z><z id="t1570126773" t="eraserhd I found an issue that suggests both &quot;clang&quot; and &quot;libclang-dev&quot; must be installed."><y>#</y><d>2019-10-03</d><h>18:19</h><r>eraserhd</r>I found an issue that suggests both &quot;clang&quot; and &quot;libclang-dev&quot; must be installed.</z><z id="t1570126794" t="eraserhd [:attrs {:href &quot;/_/_/users/UA2R84M28&quot;}] https://github.com/servo/gecko-media/issues/71"><y>#</y><d>2019-10-03</d><h>18:19</h><r>eraserhd</r><a>@UA2R84M28</a> <a href="https://github.com/servo/gecko-media/issues/71" target="_blank">https://github.com/servo/gecko-media/issues/71</a></z><z id="t1570126827" t="eraserhd (if you figure it out, let me know so I can update the docs)"><y>#</y><d>2019-10-03</d><h>18:20</h><r>eraserhd</r>(if you figure it out, let me know so I can update the docs)</z><z id="t1570130269" t="justinbarclay https://rust-lang.github.io/rust-bindgen/requirements.html"><y>#</y><d>2019-10-03</d><h>19:17</h><r>justinbarclay</r><a href="https://rust-lang.github.io/rust-bindgen/requirements.html" target="_blank">https://rust-lang.github.io/rust-bindgen/requirements.html</a></z><z id="t1570130311" t="justinbarclay It looks like debian environments suggest 3 packages for bindgen to work. Bindgen is the sole dependency for the emacs-module crate."><y>#</y><d>2019-10-03</d><h>19:18</h><r>justinbarclay</r>It looks like debian environments suggest 3 packages for bindgen to work. Bindgen is the sole dependency for the emacs-module crate.</z><z id="t1570130507" t="justinbarclay and I just finished setting up a fresh instance of ubuntu 18.04(through WSL) and going 1(ish) by 1 on what packages to install to be able to compile parinfer-rust. What I found I needed was: apt install build-essentials libclang-dev clang"><y>#</y><d>2019-10-03</d><h>19:21</h><r>justinbarclay</r>and I just finished setting up a fresh instance of ubuntu 18.04(through WSL) and going 1(ish) by 1 on what packages to install to be able to compile parinfer-rust.
What I found I needed was:
<code>apt install build-essentials libclang-dev clang</code></z><z id="t1570174444" t="Aleksander it compiled! I was missing clang package ..."><y>#</y><d>2019-10-04</d><h>07:34</h><r>Aleksander</r>it compiled! I was missing <code>clang</code> package ...</z><z id="t1570197553" t="eraserhd [:attrs {:href &quot;/_/_/users/UA2R84M28&quot;}] I changed the dependency note to be &quot;`clang` and libclang-dev packages or equivalent for your OS&quot;. Think that would have been clear enough?"><y>#</y><d>2019-10-04</d><h>13:59</h><r>eraserhd</r><a>@UA2R84M28</a> I changed the dependency note to be &quot;`clang` and <code>libclang-dev</code> packages or equivalent for your OS&quot;.  Think that would have been clear enough?</z><z id="t1570197585" t="eraserhd (It wasn&apos;t explicit about wanting clang before.)"><y>#</y><d>2019-10-04</d><h>13:59</h><r>eraserhd</r>(It wasn&apos;t explicit about wanting clang before.)</z><z id="t1569946158" t="dharrigan w00t"><y>#</y><d>2019-10-01</d><h>16:09</h><w>dharrigan</w>w00t</z><z id="t1569948016" t="mattly Might be enough for me to give emacs another shot"><y>#</y><d>2019-10-01</d><h>16:40</h><w>mattly</w>Might be enough for me to give emacs another shot</z><z id="t1569948273" t="justinbarclay I’d welcome you to try my package https://github.com/justinbarclay/parinfer-rust-mode , however it’s still in beta and there are few things (particularly the first item in https://github.com/justinbarclay/parinfer-rust-mode#known-issues ) that I’m looking to make sure I’ve got fixed before I announce it as released"><y>#</y><d>2019-10-01</d><h>16:44</h><r>justinbarclay</r>I’d welcome you to try my package <a href="https://github.com/justinbarclay/parinfer-rust-mode" target="_blank">https://github.com/justinbarclay/parinfer-rust-mode</a>, however it’s still in beta and there are few things (particularly the first item in <a href="https://github.com/justinbarclay/parinfer-rust-mode#known-issues" target="_blank">https://github.com/justinbarclay/parinfer-rust-mode#known-issues</a>) that I’m looking to make sure I’ve got fixed before I announce it as released</z><z id="t1569948679" t="henrik That’s what I was thinking"><y>#</y><d>2019-10-01</d><h>16:51</h><r>henrik</r>That’s what I was thinking</z><z id="t1569948716" t="henrik I don’t particularly enjoy any editor, but I understand you develop Stockholm syndrome with emacs after spending a certain amount of time tweaking it."><y>#</y><d>2019-10-01</d><h>16:51</h><r>henrik</r>I don’t particularly enjoy any editor, but I understand you develop Stockholm syndrome with emacs after spending a certain amount of time tweaking it.</z><z id="t1569948775" t="justinbarclay I feel so called out by that statement 😂"><y>#</y><d>2019-10-01</d><h>16:52</h><r>justinbarclay</r>I feel so called out by that statement <b>😂</b></z><z id="t1569958135" t="mattly That’s why I’ve only ever used things like spacemacs or doom-emacs"><y>#</y><d>2019-10-01</d><h>19:28</h><r>mattly</r>That’s why I’ve only ever used things like spacemacs or doom-emacs</z><z id="t1570123099" t="Aleksander Anyone using parinfer on ubuntu?"><y>#</y><d>2019-10-03</d><h>17:18</h><w>Aleksander</w>Anyone using parinfer on ubuntu?</z><z id="t1570125654" t="justinbarclay It builds on github on Ubuntu: https://github.com/eraserhd/parinfer-rust/runs/238228947 And these are the libraries it has installed: https://help.github.com/en/articles/software-in-virtual-environments-for-github-actions#ubuntu-1804-lts"><y>#</y><d>2019-10-03</d><h>18:00</h><r>justinbarclay</r>It builds on github on Ubuntu: <a href="https://github.com/eraserhd/parinfer-rust/runs/238228947" target="_blank">https://github.com/eraserhd/parinfer-rust/runs/238228947</a>
And these are the libraries it has installed:
<a href="https://help.github.com/en/articles/software-in-virtual-environments-for-github-actions#ubuntu-1804-lts" target="_blank">https://help.github.com/en/articles/software-in-virtual-environments-for-github-actions#ubuntu-1804-lts</a></z><z id="t1573114195" t="pez Hello. Can someone, in the know, make a brief description on what it is that makes smartmode so hard to implement in vscode? I have been using Calva’s Clojure parser/editor/document mirror a bit the last days, and I think it might be possible for Calva to expose an API to it, which might help. But since I don’t know what the problem is, I might just be wrong about Calva being able to help."><y>#</y><d>2019-11-07</d><h>08:09</h><w>pez</w>Hello. Can someone, in the know, make a brief description on what it is that makes smartmode so hard to implement in vscode?  I have been using Calva’s Clojure parser/editor/document mirror a bit the last days, and I think it might be possible for Calva to expose an API to it, which might help. But since I don’t know what the problem is, I might just be wrong about Calva being able to help.</z><z id="t1573120251" t="mkvlr [:attrs {:href &quot;/_/_/users/U0ETXRFEW&quot;}] if podcasts are your thing, Shaun talked about it in https://soundcloud.com/user-959992602/s2-e1-lisp-editing-with-shaun-lebron IIRC"><y>#</y><d>2019-11-07</d><h>09:50</h><w>mkvlr</w><a>@pez</a> if podcasts are your thing, Shaun talked about it in <a href="https://soundcloud.com/user-959992602/s2-e1-lisp-editing-with-shaun-lebron" target="_blank">https://soundcloud.com/user-959992602/s2-e1-lisp-editing-with-shaun-lebron</a> IIRC</z><z id="t1573120735" t="pez Podcasts are my thing. Especially that podcast!"><y>#</y><d>2019-11-07</d><h>09:58</h><w>pez</w>Podcasts are my thing. Especially that podcast!</z><z id="t1573120773" t="pez However, I have listened to the episode, and I still would need the actual problem in VS Code spelled out."><y>#</y><d>2019-11-07</d><h>09:59</h><w>pez</w>However, I have listened to the episode, and I still would need the actual problem in VS Code spelled out.</z><z id="t1573153282" t="henrik My memory is very hazy. I remember vaguely something to do about needing to grab control of the global buffer state and not being able to, and something about the nature of events firing and the context available in those events."><y>#</y><d>2019-11-07</d><h>19:01</h><w>henrik</w>My memory is very hazy. I remember vaguely something to do about needing to grab control of the global buffer state and not being able to, and something about the nature of events firing and the context available in those events.</z><z id="t1573153369" t="henrik It was some time since anyone took a crack at it I think, VSCode might have changed since."><y>#</y><d>2019-11-07</d><h>19:02</h><w>henrik</w>It was some time since anyone took a crack at it I think, VSCode might have changed since.</z><z id="t1573160350" t="mattly IIRC there’s also a longstanding issue with VSCode Vim that’s reliant on the same issue"><y>#</y><d>2019-11-07</d><h>20:59</h><w>mattly</w>IIRC there’s also a longstanding issue with VSCode Vim that’s reliant on the same issue</z><z id="t1573162687" t="pez [:attrs {:href &quot;/_/_/users/U06B8J0AJ&quot;}] : VSCode hasn’t change in this aspect, I am pretty sure."><y>#</y><d>2019-11-07</d><h>21:38</h><w>pez</w><a>@henrik</a>: VSCode hasn’t change in this aspect, I am pretty sure.</z><z id="t1573162696" t="cfleming My understanding is also hazy, but I believe it was because document update events are asynchronous, and smart mode assumes synchronous updates."><y>#</y><d>2019-11-07</d><h>21:38</h><w>cfleming</w>My understanding is also hazy, but I believe it was because document update events are asynchronous, and smart mode assumes synchronous updates.</z><z id="t1573162765" t="cfleming [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] may remember more details, IIRC he was the one who worked on it."><y>#</y><d>2019-11-07</d><h>21:39</h><w>cfleming</w><a>@chrisoakman</a> may remember more details, IIRC he was the one who worked on it.</z><z id="t1573163023" t="pez That’s similar to what I recall. But also that the events lacked information about what had happened… but that could have been me just misunderstanding."><y>#</y><d>2019-11-07</d><h>21:43</h><w>pez</w>That’s similar to what I recall. But also that the events lacked information about what had happened… but that could have been me just misunderstanding.</z><z id="t1573163743" t="cfleming FWIW integrating smart mode was one of the hardest things I’ve ever had to do in Cursive. I wrote up a brain dump about it here:"><y>#</y><d>2019-11-07</d><h>21:55</h><w>cfleming</w>FWIW integrating smart mode was one of the hardest things I’ve ever had to do in Cursive. I wrote up a brain dump about it here:</z><z id="t1573163744" t="cfleming https://github.com/shaunlebron/parinfer/wiki/Problems-integrating-parinfer-into-Cursive"><y>#</y><d>2019-11-07</d><h>21:55</h><w>cfleming</w><a href="https://github.com/shaunlebron/parinfer/wiki/Problems-integrating-parinfer-into-Cursive" target="_blank">https://github.com/shaunlebron/parinfer/wiki/Problems-integrating-parinfer-into-Cursive</a></z><z id="t1573163775" t="cfleming I don’t know how much of that applies to VS Code but some of it might, in particular since it supports project-wide refactorings via the LSP"><y>#</y><d>2019-11-07</d><h>21:56</h><w>cfleming</w>I don’t know how much of that applies to VS Code but some of it might, in particular since it supports project-wide refactorings via the LSP</z><z id="t1573163905" t="cfleming In general, once an editor moves away from the “a user edits a single file, the changes to that file come from the user typing” model, smart mode gets very hard to integrate."><y>#</y><d>2019-11-07</d><h>21:58</h><w>cfleming</w>In general, once an editor moves away from the “a user edits a single file, the changes to that file come from the user typing” model, smart mode gets very hard to integrate.</z><z id="t1573163911" t="cfleming [:attrs {:href &quot;/_/_/users/U0ETXRFEW&quot;}] ^^"><y>#</y><d>2019-11-07</d><h>21:58</h><w>cfleming</w><a>@pez</a> ^^</z><z id="t1573163997" t="cfleming I also had to modify parinfer to correctly handle multiple carets"><y>#</y><d>2019-11-07</d><h>21:59</h><w>cfleming</w>I also had to modify parinfer to correctly handle multiple carets</z><z id="t1573166997" t="pez Thanks [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] ! It seems pretty hairy, actually. 😃"><y>#</y><d>2019-11-07</d><h>22:49</h><w>pez</w>Thanks <a>@cfleming</a>! It seems pretty hairy, actually. <b>😃</b></z><z id="t1573167843" t="cfleming It is extremely hairy 🙂"><y>#</y><d>2019-11-07</d><h>23:04</h><w>cfleming</w>It is extremely hairy <b>🙂</b></z><z id="t1573167856" t="cfleming I’m just hoping that I never have to touch that code again 😉"><y>#</y><d>2019-11-07</d><h>23:04</h><w>cfleming</w>I’m just hoping that I never have to touch that code again <b>😉</b></z><z id="t1581818718" t="Robert A. Randolph Is smart mode for parinfer only currently supported with cursive and atom?"><y>#</y><d>2020-02-16</d><h>02:05</h><w>Robert A. Randolph</w>Is smart mode for parinfer only currently supported with cursive and atom?</z><z id="t1581835668" t="dharrigan https://github.com/shaunlebron/parinfer/tree/master/lib"><y>#</y><d>2020-02-16</d><h>06:47</h><w>dharrigan</w><a href="https://github.com/shaunlebron/parinfer/tree/master/lib" target="_blank">https://github.com/shaunlebron/parinfer/tree/master/lib</a></z><z id="t1582054804" t="eraserhd [:attrs {:href &quot;/_/_/users/UEFE6JWG4&quot;}] parinfer-rust supports it for Vim, Kakoune, and Emacs (I&apos;m told)."><y>#</y><d>2020-02-18</d><h>19:40</h><w>eraserhd</w><a>@audiolabs</a> parinfer-rust supports it for Vim, Kakoune, and Emacs (I&apos;m told).</z><z id="t1582144737" t="Robert A. Randolph [:attrs {:href &quot;/_/_/users/U0ECYL0ET&quot;}] thanks, and thank you for your work on parinfer-rust."><y>#</y><d>2020-02-19</d><h>20:38</h><w>Robert A. Randolph</w><a>@eraserhd</a> thanks, and thank you for your work on parinfer-rust.</z><z id="t1582404393" t="mogenslund Hi. Does anyone know how to call the parinfer-rust from a Clojure program (Java may also do)? I would like to experiment with a wrapper for my text editor written in Clojure."><y>#</y><d>2020-02-22</d><h>20:46</h><w>mogenslund</w>Hi. Does anyone know how to call the parinfer-rust from a Clojure program (Java may also do)? I would like to experiment with a wrapper for my text editor written in Clojure.</z><z id="t1582460348" t="mogenslund Ok. I think I figured out how to use the CLI implementation."><y>#</y><d>2020-02-23</d><h>12:19</h><r>mogenslund</r>Ok. I think I figured out how to use the CLI implementation.</z><z id="t1582570280" t="eraserhd Cool. It theoretically compiles to WebAssembly also, but the rust tooling that does that hasn’t been very stable."><y>#</y><d>2020-02-24</d><h>18:51</h><r>eraserhd</r>Cool.  It theoretically compiles to WebAssembly also, but the rust tooling that does that hasn’t been very stable.</z><z id="t1582582307" t="snoe Very early on I looked at JNI too which seemed possible."><y>#</y><d>2020-02-24</d><h>22:11</h><r>snoe</r>Very early on I looked at JNI too which seemed possible.</z><z id="t1588056531" t="Aron thanks [:attrs {:href &quot;/_/_/users/UA2R84M28&quot;}]"><y>#</y><d>2020-04-28</d><h>06:48</h><w>Aron</w>thanks <a>@dev964</a></z><z id="t1588056572" t="Aron I am now using the workaround of turning on and off parinfer whenever it breaks, it&apos;s manageable"><y>#</y><d>2020-04-28</d><h>06:49</h><w>Aron</w>I am now using the workaround of turning on and off parinfer whenever it breaks, it&apos;s manageable</z><z id="t1592426815" t="winkywooster I noticed the parinfer project on github was archived. Is there a successor?"><y>#</y><d>2020-06-17</d><h>20:46</h><w>winkywooster</w>I noticed the parinfer project on github was archived.  Is there a successor?</z><z id="t1592426864" t="Aron https://github.com/eraserhd/parinfer-rust"><y>#</y><d>2020-06-17</d><h>20:47</h><w>Aron</w><a href="https://github.com/eraserhd/parinfer-rust" target="_blank">https://github.com/eraserhd/parinfer-rust</a></z><z id="t1592426874" t="chrisoakman I have it on my &quot;todo&quot; stack to keep an up-to-date fork here: https://github.com/oakmac/parinfer"><y>#</y><d>2020-06-17</d><h>20:47</h><w>chrisoakman</w>I have it on my &quot;todo&quot; stack to keep an up-to-date fork here: <a href="https://github.com/oakmac/parinfer" target="_blank">https://github.com/oakmac/parinfer</a></z><z id="t1592426883" t="chrisoakman Although I have not really started on that project yet."><y>#</y><d>2020-06-17</d><h>20:48</h><w>chrisoakman</w>Although I have not really started on that project yet.</z><z id="t1592426909" t="chrisoakman I think Jason&apos;s parinfer-rust is probably the most active parinfer project going right now."><y>#</y><d>2020-06-17</d><h>20:48</h><w>chrisoakman</w>I think Jason&apos;s parinfer-rust is probably the most active parinfer project going right now.</z><z id="t1592471562" t="cfleming That’s a bummer, I guess Shaun has no further interest in it."><y>#</y><d>2020-06-18</d><h>09:12</h><w>cfleming</w>That’s a bummer, I guess Shaun has no further interest in it.</z><z id="t1592471580" t="cfleming Or perhaps smart mode has just gone as far as it can."><y>#</y><d>2020-06-18</d><h>09:13</h><w>cfleming</w>Or perhaps smart mode has just gone as far as it can.</z><z id="t1592474533" t="Aron smart mode?"><y>#</y><d>2020-06-18</d><h>10:02</h><w>Aron</w>smart mode?</z><z id="t1592474545" t="Aron I am new here, what is that? ☺️"><y>#</y><d>2020-06-18</d><h>10:02</h><w>Aron</w>I am new here, what is that? <b>☺️</b></z><z id="t1592477256" t="pez It is a blend of indent and paren mode, where the user virtually never has to toggle between them. It just does the right thing. It is super duper wonderfully nice. However, many editors lack the API/functionally to support it."><y>#</y><d>2020-06-18</d><h>10:47</h><w>pez</w>It is a blend of indent and paren mode, where the user virtually never has to toggle between them. It just does the right thing. It is super duper wonderfully nice. However, many editors lack the API/functionally to support it.</z><z id="t1592481704" t="Tom H. There&apos;s also https://github.com/oakes/parinferish"><y>#</y><d>2020-06-18</d><h>12:01</h><w>Tom H.</w>There&apos;s also <a href="https://github.com/oakes/parinferish" target="_blank">https://github.com/oakes/parinferish</a></z><z id="t1592500787" t="chrisoakman I think Shaun&apos;s interest in Parinfer has waned. I have not heard from him in a while now; I&apos;m not sure he is doing anything related to software anymore these days."><y>#</y><d>2020-06-18</d><h>17:19</h><w>chrisoakman</w>I think Shaun&apos;s interest in Parinfer has waned. I have not heard from him in a while now; I&apos;m not sure he is doing anything related to software anymore these days.</z><z id="t1592500827" t="chrisoakman I think it is worth noting that just because the repo is archived does not mean the project is &quot;dead&quot;. The code still works great and many thousands of people use it daily if the atom-parinfer download numbers are to be believed."><y>#</y><d>2020-06-18</d><h>17:20</h><w>chrisoakman</w>I think it is worth noting that just because the repo is archived does not mean the project is &quot;dead&quot;. The code still works great and many thousands of people use it daily if the atom-parinfer download numbers are to be believed.</z><z id="t1592500870" t="chrisoakman I will make some time to host / maintain that fork soon 🙂"><y>#</y><d>2020-06-18</d><h>17:21</h><w>chrisoakman</w>I will make some time to host / maintain that fork soon <b>🙂</b></z><z id="t1592511679" t="Aron parinfer-rust uses smart mode by default?"><y>#</y><d>2020-06-18</d><h>20:21</h><w>Aron</w>parinfer-rust uses smart mode by default?</z><z id="t1592512128" t="chrisoakman Smart mode is supported in most implementations of parinfer, including parinfer-rust. The trick is integrating smart mode with an editor: it is very tricky to get it correct and not all editors support the necessary plugins / API to make it work smoothly (this is the current problem with Smart Mode in VS Code, btw)."><y>#</y><d>2020-06-18</d><h>20:28</h><w>chrisoakman</w>Smart mode is supported in most implementations of parinfer, including parinfer-rust. The trick is integrating smart mode with an editor: it is very tricky to get it correct and not all editors support the necessary plugins / API to make it work smoothly (this is the current problem with Smart Mode in VS Code, btw).</z><z id="t1592512208" t="chrisoakman As of right now, smart mode works well in: atom, Cursive, and &quot;things that bind to parinfer-rust&quot; (documented further in the parinfer-rust README)"><y>#</y><d>2020-06-18</d><h>20:30</h><w>chrisoakman</w>As of right now, smart mode works well in: atom, Cursive, and &quot;things that bind to parinfer-rust&quot; (documented further in the parinfer-rust README)</z><z id="t1592512262" t="chrisoakman There is some work to be done on integrating smart mode with more editors, but I think the biggest gap right now is probably VS Code. In terms of popularity / userbase."><y>#</y><d>2020-06-18</d><h>20:31</h><w>chrisoakman</w>There is some work to be done on integrating smart mode with more editors, but I think the biggest gap right now is probably VS Code. In terms of popularity / userbase.</z><z id="t1592512438" t="Aron I am using neovim"><y>#</y><d>2020-06-18</d><h>20:33</h><w>Aron</w>I am using neovim</z><z id="t1592512605" t="chrisoakman parinfer generally works well with Vim (and derivatives) due to the modal nature of the editing process"><y>#</y><d>2020-06-18</d><h>20:36</h><w>chrisoakman</w>parinfer generally works well with Vim (and derivatives) due to the modal nature of the editing process</z><z id="t1592512649" t="chrisoakman I am not a vim user, but I think neovim has good parinfer coverage. I do know that the VimL implementation of parinfer is kind of old and does not have smart mode."><y>#</y><d>2020-06-18</d><h>20:37</h><w>chrisoakman</w>I am not a vim user, but I think neovim has good parinfer coverage. I do know that the VimL implementation of parinfer is kind of old and does not have smart mode.</z><z id="t1592512663" t="chrisoakman I think most people do not use it though; they use a different binding in neovim"><y>#</y><d>2020-06-18</d><h>20:37</h><w>chrisoakman</w>I think most people do not use it though; they use a different binding in neovim</z><z id="t1592512891" t="Aron but which parinfer, there are so many"><y>#</y><d>2020-06-18</d><h>20:41</h><w>Aron</w>but which parinfer, there are so many</z><z id="t1592513002" t="Aron i have parinfer-rust enabled and it&apos;s fine but I am not sure if I use smart mode or not, since sometimes it completely breaks undo/redo and I have to disable/enable it"><y>#</y><d>2020-06-18</d><h>20:43</h><w>Aron</w>i have parinfer-rust enabled and it&apos;s fine but I am not sure if I use smart mode or not, since sometimes it completely breaks undo/redo and I have to disable/enable it</z><z id="t1592554710" t="dharrigan I use parinfer-rust and neovim (with the excellent conjure plugin) and I have it set to indent . I&apos;m happy with that 🙂"><y>#</y><d>2020-06-19</d><h>08:18</h><w>dharrigan</w>I use parinfer-rust and neovim (with the excellent conjure plugin) and I have it set to <code>indent</code>. I&apos;m happy with that <b>🙂</b></z><z id="t1592554758" t="Aron I am not unhappy either, but would like to know how that is different from what I have : )"><y>#</y><d>2020-06-19</d><h>08:19</h><w>Aron</w>I am not unhappy either, but would like to know how that is different from what I have : )</z><z id="t1592891961" t="tianshu Can I think parinferish is a way of simulating parinfer behavior without run parinfer on whole text?"><y>#</y><d>2020-06-23</d><h>05:59</h><w>tianshu</w>Can I think parinferish is a way of simulating parinfer behavior without run parinfer on whole text?</z><z id="t1594980979" t="jysandy I noticed that the parinfer project is archived. https://github.com/shaunlebron/parinfer Has development on the project stopped? Or is it simply considered complete?"><y>#</y><d>2020-07-17</d><h>10:16</h><w>jysandy</w>I noticed that the parinfer project is archived. <a href="https://github.com/shaunlebron/parinfer" target="_blank">https://github.com/shaunlebron/parinfer</a>
Has development on the project stopped? Or is it simply considered complete?</z><z id="t1594997803" t="justinbarclay I would say that repo acts as the spec for Parinfer and I believe Shaun considers it complete (with the caveat that smart mode as specified is really hard for most text editors to do). There are still implementations of parinfer being actively maintained however. At the very least: https://github.com/eraserhd/parinfer-rust"><y>#</y><d>2020-07-17</d><h>14:56</h><w>justinbarclay</w>I would say that repo acts as the spec for Parinfer and I believe Shaun considers it complete (with the caveat that smart mode as specified is really hard for most text editors to do). There are still implementations of parinfer being actively maintained however.

At the very least: <a href="https://github.com/eraserhd/parinfer-rust" target="_blank">https://github.com/eraserhd/parinfer-rust</a></z><z id="t1594997874" t="justinbarclay I looked at Atom and VS Code, but those both had last commits on master 2 years ago ¯\(ツ)/¯"><y>#</y><d>2020-07-17</d><h>14:57</h><w>justinbarclay</w>I looked at Atom and VS Code, but those both had last commits on master 2 years ago ¯\(ツ)/¯</z><z id="t1594999315" t="dharrigan I use parinfer-rust, works great."><y>#</y><d>2020-07-17</d><h>15:21</h><w>dharrigan</w>I use parinfer-rust, works great.</z><z id="t1595001089" t="sekao i wrote an implementation in cljc from scratch if anyone&apos;s interested https://github.com/oakes/parinferish not 100% conforming, as the name implies =D"><y>#</y><d>2020-07-17</d><h>15:51</h><w>sekao</w>i wrote an implementation in cljc from scratch if anyone&apos;s interested <a href="https://github.com/oakes/parinferish" target="_blank">https://github.com/oakes/parinferish</a> not 100% conforming, as the name implies =D</z></g><g id="s24"><z id="t1595008208" t="eraserhd I let it collect dust for too long."><y>#</y><d>2020-07-17</d><h>17:50</h><w>eraserhd</w>I let it collect dust for too long.</z><z id="t1595008374" t="eraserhd Although, I must thank some contributors who made some PRs and issues and got me to put it on my list again."><y>#</y><d>2020-07-17</d><h>17:52</h><w>eraserhd</w>Although, I must thank some contributors who made some PRs and issues and got me to put it on my list again.</z><z id="t1600039555" t="sogaiu @oliver.marshall and [:attrs {:href &quot;/_/_/users/U06B8J0AJ&quot;}] thanks for your ideas last year (2019-06) regarding the use of a &quot;door stop&quot;. i adpated the basic idea and am trying a comma out with some success so far. [:attrs {:href &quot;/_/_/users/U11EL3P9U&quot;}] did you end up using one or some variation on this idea? i have an interest in this because of i use: https://github.com/sogaiu/alc.x-as-tests#purpose to make light tests in comment blocks. parinfer&apos;s default(?) behavior was a bit at odds with it unfortunately, but this &quot;door stop&quot; idea might end up making it possible to coexist."><y>#</y><d>2020-09-13</d><h>23:25</h><w>sogaiu</w>@oliver.marshall and <a>@henrik</a> thanks for your ideas last year (2019-06) regarding the use of a &quot;door stop&quot;.

i adpated the basic idea and am trying a comma out with some success so far.

<a>@dharrigan</a> did you end up using one or some variation on this idea?

i have an interest in this because of i use: <a href="https://github.com/sogaiu/alc.x-as-tests#purpose" target="_blank">https://github.com/sogaiu/alc.x-as-tests#purpose</a> to make light tests in comment blocks.  parinfer&apos;s default(?) behavior was a bit at odds with it unfortunately, but this &quot;door stop&quot; idea might end up making it possible to coexist.</z><z id="t1600044078" t="seancorfield Ah, I&apos;ve been putting a nil at the end, to keep that closing paren in its place. Comma makes more sense."><y>#</y><d>2020-09-14</d><h>00:41</h><w>seancorfield</w>Ah, I&apos;ve been putting a <code>nil</code> at the end, to keep that closing paren in its place. Comma makes more sense.</z><z id="t1600044162" t="seancorfield Interestingly perhaps, [:attrs {:href &quot;/_/_/users/U3Y18N0UC&quot;}] ’s parinfer-plus for Atom, which I believe is based on a Rust implementation of parinfer, is not so aggressive about reformatting and leaves the trailing ) where you put it, so I haven&apos;t needed a &quot;door stop&quot; since I switched to that."><y>#</y><d>2020-09-14</d><h>00:42</h><w>seancorfield</w>Interestingly perhaps, <a>@mauricio.szabo</a>’s <code>parinfer-plus</code> for Atom, which I believe is based on a Rust implementation of parinfer, is not so aggressive about reformatting and leaves the trailing <code>)</code> where you put it, so I haven&apos;t needed a &quot;door stop&quot; since I switched to that.</z><z id="t1600045197" t="sogaiu [:attrs {:href &quot;/_/_/users/U04V70XH6&quot;}] thanks for those tips. the comma has turned out to be more useful than i thought: * visually &quot;pairing&quot; things in map-like situations * corfield comma * cond form tweaking * parinfer work-around perhaps there are other places where it can be applied usefully too. ah, i have used it to &quot;nudge&quot; indentation for something like this: https://gist.github.com/sogaiu/2c0cdfc2193474679651f6fc8a3a49c0#file-terminals-cljc-L18-L23"><y>#</y><d>2020-09-14</d><h>00:59</h><w>sogaiu</w><a>@seancorfield</a> thanks for those tips.

the comma has turned out to be more useful than i thought:

* visually &quot;pairing&quot; things in map-like situations
* corfield comma
* <code>cond</code> form tweaking
* parinfer work-around

perhaps there are other places where it can be applied usefully too.

ah, i have used it to &quot;nudge&quot; indentation for something like this: <a href="https://gist.github.com/sogaiu/2c0cdfc2193474679651f6fc8a3a49c0#file-terminals-cljc-L18-L23" target="_blank">https://gist.github.com/sogaiu/2c0cdfc2193474679651f6fc8a3a49c0#file-terminals-cljc-L18-L23</a></z><z id="t1600062509" t="pez I&apos;ve also seen people use the ignore marker to keep that last paren in place. "><y>#</y><d>2020-09-14</d><h>05:48</h><w>pez</w>I&apos;ve also seen people use the ignore marker to keep that last paren in place. </z><z id="t1600062789" t="dharrigan [:attrs {:href &quot;/_/_/users/UG1C3AD5Z&quot;}] I use #_+) 🙂"><y>#</y><d>2020-09-14</d><h>05:53</h><w>dharrigan</w><a>@sogaiu</a> I use <code>#_+)</code> <b>🙂</b></z><z id="t1600062898" t="dharrigan i.e., to line 58"><y>#</y><d>2020-09-14</d><h>05:54</h><w>dharrigan</w>i.e., <code></code> to line 58</z><z id="t1600064100" t="sogaiu [:attrs {:href &quot;/_/_/users/U11EL3P9U&quot;}] thanks!"><y>#</y><d>2020-09-14</d><h>06:15</h><w>sogaiu</w><a>@dharrigan</a> thanks!</z><z id="t1600064159" t="sogaiu the ignore / discard marker is a bit of an unfortunate choice for: https://github.com/sogaiu/alc.x-as-tests so i was looking for alternatives. the comma seems to be working out well so far."><y>#</y><d>2020-09-14</d><h>06:15</h><w>sogaiu</w>the ignore / discard marker is a bit of an unfortunate choice for: <a href="https://github.com/sogaiu/alc.x-as-tests" target="_blank">https://github.com/sogaiu/alc.x-as-tests</a> so i was looking for alternatives.

the comma seems to be working out well so far.</z><z id="t1600064246" t="sogaiu [:attrs {:href &quot;/_/_/users/U0ETXRFEW&quot;}] thanks for mentioning that. i guess i should consider whether i can make some adjustment in the code..."><y>#</y><d>2020-09-14</d><h>06:17</h><w>sogaiu</w><a>@pez</a> thanks for mentioning that.

i guess i should consider whether i can make some adjustment in the code...</z><z id="t1600069772" t="dominicm Zig fmt uses a comma in a similar way actually. Interesting."><y>#</y><d>2020-09-14</d><h>07:49</h><w>dominicm</w>Zig fmt uses a comma in a similar way actually. Interesting.</z><z id="t1600069950" t="dharrigan I may switch to using a comma too"><y>#</y><d>2020-09-14</d><h>07:52</h><w>dharrigan</w>I may switch to using a comma too</z><z id="t1600069962" t="dharrigan there&apos;s no attachment to using #_+ :)"><y>#</y><d>2020-09-14</d><h>07:52</h><w>dharrigan</w>there&apos;s no attachment to using <code>#_+</code> :)</z><z id="t1600072816" t="sogaiu nice -- thanks for the feedback. (on a side note, i&apos;m very much missing a comma-like construct (as well as discard) in the janet programming language -- though there are &quot;long-strings&quot; (somewhat like heredocs) and a splicing operator.)"><y>#</y><d>2020-09-14</d><h>08:40</h><w>sogaiu</w>nice -- thanks for the feedback.

(on a side note, i&apos;m very much missing a comma-like construct (as well as discard) in the janet programming language -- though there are &quot;long-strings&quot; (somewhat like heredocs) and a splicing operator.)</z><z id="t1600204749" t="sekao i never really liked the fact that parinfer moves the trailing paren in that situation. FWIW my implementation doesn&apos;t do that: https://github.com/oakes/parinferish in general i never want text changes to happen if only the cursor position changes"><y>#</y><d>2020-09-15</d><h>21:19</h><w>sekao</w>i never really liked the fact that parinfer moves the trailing paren in that situation. FWIW my implementation doesn&apos;t do that: <a href="https://github.com/oakes/parinferish" target="_blank">https://github.com/oakes/parinferish</a> in general i never want text changes to happen if only the cursor position changes</z><z id="t1600238828" t="dominicm I keep meaning to check that out."><y>#</y><d>2020-09-16</d><h>06:47</h><w>dominicm</w>I keep meaning to check that out.</z><z id="t1600238886" t="dominicm I suppose it&apos;s not been used for general editors, only your clojure ones?"><y>#</y><d>2020-09-16</d><h>06:48</h><w>dominicm</w>I suppose it&apos;s not been used for general editors, only your clojure ones?</z><z id="t1600241625" t="sogaiu didn&apos;t know this: &gt; Acts as a general purpose clojure parser, because its parse function returns the code a hiccup-style data structure, not merely a string. In fact, adjusting parens/indentation is just an optional step"><y>#</y><d>2020-09-16</d><h>07:33</h><w>sogaiu</w>didn&apos;t know this:

&gt; Acts as a general purpose clojure parser, because its parse function returns the code a hiccup-style data structure, not merely a string. In fact, adjusting parens/indentation is just an optional step</z><z id="t1600241684" t="sogaiu so i&apos;ll ask dominicm&apos;s question before he does -- how does it handle metadata?"><y>#</y><d>2020-09-16</d><h>07:34</h><w>sogaiu</w>so i&apos;ll ask dominicm&apos;s question before he does -- how does it handle metadata?</z><z id="t1600244569" t="sogaiu (parse &quot;^{:a 1} [:b :c]&quot;) #_ [[:special-char &quot;^&quot;] [:collection [:delimiter &quot;{&quot;] [:keyword &quot;:a&quot;] [:whitespace &quot; &quot;] [:number &quot;1&quot;] [:delimiter &quot;}&quot;]] [:whitespace &quot; &quot;] [:collection [:delimiter &quot;[&quot;] [:keyword &quot;:b&quot;] [:whitespace &quot; &quot;] [:keyword &quot;:c&quot;] [:delimiter &quot;]&quot;]]] so it looks like it doesn&apos;t do what rewrite-clj or parcera does, which i think makes going through the results easier."><y>#</y><d>2020-09-16</d><h>08:22</h><w>sogaiu</w><pre>(parse &quot;^{:a 1} [:b :c]&quot;)
#_ [[:special-char &quot;^&quot;]
    [:collection
     [:delimiter &quot;{&quot;] [:keyword &quot;:a&quot;] [:whitespace &quot; &quot;]
     [:number &quot;1&quot;] [:delimiter &quot;}&quot;]]
    [:whitespace &quot; &quot;]
    [:collection
     [:delimiter &quot;[&quot;] [:keyword &quot;:b&quot;] [:whitespace &quot; &quot;]
     [:keyword &quot;:c&quot;] [:delimiter &quot;]&quot;]]]</pre>
so it looks like it doesn&apos;t do what rewrite-clj or parcera does, which i think makes going through the results easier.</z><z id="t1600244615" t="sogaiu as in, one doesn&apos;t have to descend into something that wraps what the metadata applies to."><y>#</y><d>2020-09-16</d><h>08:23</h><w>sogaiu</w>as in, one doesn&apos;t have to descend into something that wraps what the metadata applies to.</z><z id="t1600245141" t="sekao [:attrs {:href &quot;/_/_/users/U09LZR36F&quot;}] it&apos;s written in clojure (cljc) so it depends on what the editor is written in. i made it for paravim in particular but any editor written in clojure could use it"><y>#</y><d>2020-09-16</d><h>08:32</h><w>sekao</w><a>@dominicm</a> it&apos;s written in clojure (cljc) so it depends on what the editor is written in. i made it for paravim in particular but any editor written in clojure could use it</z><z id="t1600245631" t="sekao [:attrs {:href &quot;/_/_/users/UG1C3AD5Z&quot;}] yeah it&apos;s not a full-blown reader like tools.reader so it doesn&apos;t actually know what metadata is, it just parses the literal syntax. for this purpose i think that&apos;s the way to go. i used to use tools.reader for this kind of stuff and had all kinds of problems"><y>#</y><d>2020-09-16</d><h>08:40</h><w>sekao</w><a>@sogaiu</a> yeah it&apos;s not a full-blown reader like tools.reader so it doesn&apos;t actually know what metadata is, it just parses the literal syntax. for this purpose i think that&apos;s the way to go. i used to use tools.reader for this kind of stuff and had all kinds of problems</z><z id="t1600245784" t="sogaiu [:attrs {:href &quot;/_/_/users/U080181PF&quot;}] right -- parcera doesn&apos;t do the reader thing either. i think it makes sense."><y>#</y><d>2020-09-16</d><h>08:43</h><w>sogaiu</w><a>@sekao</a> right -- parcera doesn&apos;t do the reader thing either.  i think it makes sense.</z><z id="t1600246093" t="sogaiu fwiw: https://github.com/carocad/parcera/commit/bcad8cf10bdea4435294e6b010b80ee7a0e37634 i&apos;ve not looked into this but found it interesting that parcera used to use vectors."><y>#</y><d>2020-09-16</d><h>08:48</h><w>sogaiu</w>fwiw: <a href="https://github.com/carocad/parcera/commit/bcad8cf10bdea4435294e6b010b80ee7a0e37634" target="_blank">https://github.com/carocad/parcera/commit/bcad8cf10bdea4435294e6b010b80ee7a0e37634</a>

i&apos;ve not looked into this but found it interesting that parcera used to use vectors.</z><z id="t1600329386" t="henrik Looking att Nova this morning (out of curiosity, obviously a no-go for Clojure atm). What hooks does Parinfer need to do its magic? Currently reading the extensions API: https://docs.nova.app/api-reference/text-editor/"><y>#</y><d>2020-09-17</d><h>07:56</h><w>henrik</w>Looking att Nova this morning (out of curiosity, obviously a no-go for Clojure atm). What hooks does Parinfer need to do its magic? Currently reading the extensions API: <a href="https://docs.nova.app/api-reference/text-editor/" target="_blank">https://docs.nova.app/api-reference/text-editor/</a></z><z id="t1600350739" t="mauricio.szabo [:attrs {:href &quot;/_/_/users/U06B8J0AJ&quot;}] I&apos;ve implemented a bunch of parinfer tools. I found out that using the &quot;parinfer-rust&quot; implementation is easier than others. The code for Atom is here: https://github.com/mauricioszabo/atom-parinfer-plus . Is quite simple, really"><y>#</y><d>2020-09-17</d><h>13:52</h><w>mauricio.szabo</w><a>@henrik</a> I&apos;ve implemented a bunch of parinfer tools. I found out that using the &quot;parinfer-rust&quot; implementation is easier than others. The code for Atom is here: <a href="https://github.com/mauricioszabo/atom-parinfer-plus" target="_blank">https://github.com/mauricioszabo/atom-parinfer-plus</a>. Is quite simple, really</z><z id="t1600350861" t="mauricio.szabo You&apos;ll just have to listen to changes on the text editor, invoke the parinfer command, then replace the results. The parameters for parinfer-rust are these: https://github.com/mauricioszabo/atom-parinfer-plus/blob/master/src/parinfer_plus/core.cljs#L26-L30 ."><y>#</y><d>2020-09-17</d><h>13:54</h><w>mauricio.szabo</w>You&apos;ll just have to listen to changes on the text editor, invoke the parinfer command, then replace the results. The parameters for parinfer-rust are these: <a href="https://github.com/mauricioszabo/atom-parinfer-plus/blob/master/src/parinfer_plus/core.cljs#L26-L30" target="_blank">https://github.com/mauricioszabo/atom-parinfer-plus/blob/master/src/parinfer_plus/core.cljs#L26-L30</a>.</z><z id="t1600350877" t="mauricio.szabo (also, you&apos;ll send the current text on the editor as the first parameter)"><y>#</y><d>2020-09-17</d><h>13:54</h><w>mauricio.szabo</w>(also, you&apos;ll send the current text on the editor as the first parameter)</z><z id="t1600590678" t="henrik Thanks [:attrs {:href &quot;/_/_/users/U3Y18N0UC&quot;}] , I think it’s a no-go though. It doesn’t seem like you can make changes to a TextEditor in response to changes to the same TextEditor. It is a programming error to invoke [edit] from within a text change callback (such as one registered using onDidChange()). Attempting to do so will throw an Error."><y>#</y><d>2020-09-20</d><h>08:31</h><w>henrik</w>Thanks <a>@mauricio.szabo</a>, I think it’s a no-go though. It doesn’t seem like you can make changes to a TextEditor in response to changes to the same TextEditor.

<pre>It is a programming error to invoke [edit] from within a text change callback (such as one registered using onDidChange()). Attempting to do so will throw an Error.</pre></z><z id="t1600591123" t="henrik Ideally, I guess there would be a onWillChange listener so that it would be possible to hijack an edit mid-flight and modify it before it lands on the undo stack."><y>#</y><d>2020-09-20</d><h>08:38</h><w>henrik</w>Ideally, I guess there would be a <code>onWillChange</code> listener so that it would be possible to hijack an edit mid-flight and modify it before it lands on the undo stack.</z><z id="t1600591356" t="henrik But on the other hand I’ve discovered parinfer-plus , and it does seem like it handles itself better than parinfer in Atom! I’m particularly noticing fewer surprises when copying and pasting."><y>#</y><d>2020-09-20</d><h>08:42</h><w>henrik</w>But on the other hand I’ve discovered <code>parinfer-plus</code>, and it does seem like it handles itself better than <code>parinfer</code> in Atom! I’m particularly noticing fewer surprises when copying and pasting.</z><z id="t1600700362" t="mauricio.szabo [:attrs {:href &quot;/_/_/users/U06B8J0AJ&quot;}] well, to be honest, parinfer-plus does have a specific setting for pasting, so that&apos;s probably why you&apos;re seeing fewer surprises."><y>#</y><d>2020-09-21</d><h>14:59</h><w>mauricio.szabo</w><a>@henrik</a> well, to be honest, parinfer-plus does have a specific setting for pasting, so that&apos;s probably why you&apos;re seeing fewer surprises.</z><z id="t1600700526" t="mauricio.szabo But also, I&apos;m finding strange behavior that I need to check if it&apos;s on my side or on parinfer&apos;s one. Like: (some-code |) With cursor on | , sometimes backspace simply does not work at all 😞"><y>#</y><d>2020-09-21</d><h>15:02</h><w>mauricio.szabo</w>But also, I&apos;m finding strange behavior that I need to check if it&apos;s on my side or on parinfer&apos;s one. Like:

<pre>(some-code
 |)</pre>
With cursor on <code>|</code>, sometimes backspace simply does not work at all <b>😞</b></z><z id="t1600702866" t="justinbarclay That is standard parinfer behavior for smart and paren mode, you can confirm here: https://shaunlebron.github.io/parinfer/demo"><y>#</y><d>2020-09-21</d><h>15:41</h><r>justinbarclay</r>That is standard parinfer behavior for smart and paren mode, you can confirm here:
<a href="https://shaunlebron.github.io/parinfer/demo" target="_blank">https://shaunlebron.github.io/parinfer/demo</a></z><z id="t1600703410" t="mauricio.szabo So, it&apos;s not a bug, it&apos;s a feature 😄 . Probably I found it strange because the old &quot;smart&quot; implementation on Atom was different..."><y>#</y><d>2020-09-21</d><h>15:50</h><r>mauricio.szabo</r>So, it&apos;s not a bug, it&apos;s a feature <b>😄</b>.

Probably I found it strange because the old &quot;smart&quot; implementation on Atom was different...</z><z id="t1600812374" t="cfleming [:attrs {:href &quot;/_/_/users/U3Y18N0UC&quot;}] I’m interested by this, what does parinfer-plus do for pasting?"><y>#</y><d>2020-09-22</d><h>22:06</h><w>cfleming</w><a>@mauricio.szabo</a> I’m interested by this, what does parinfer-plus do for pasting?</z><z id="t1600812509" t="mauricio.szabo [:attrs {:href &quot;/_/_/users/U0567Q30W&quot;}] well, the current implementation is quite a hack 😄 . But it&apos;s here: https://github.com/mauricioszabo/atom-parinfer-plus/blob/master/src/parinfer_plus/core.cljs#L32-L33 Basically, it tries to detect if the new text contains at least two \n , and if it&apos;s a valid/balanced code. If it does, it&apos;ll parse then use parenMode to indent things (ignoring the current user selection, be it indent or smart mode)"><y>#</y><d>2020-09-22</d><h>22:08</h><w>mauricio.szabo</w><a>@cfleming</a> well, the current implementation is quite a hack <b>😄</b>. But it&apos;s here: <a href="https://github.com/mauricioszabo/atom-parinfer-plus/blob/master/src/parinfer_plus/core.cljs#L32-L33" target="_blank">https://github.com/mauricioszabo/atom-parinfer-plus/blob/master/src/parinfer_plus/core.cljs#L32-L33</a>

Basically, it tries to detect if the new text contains at least two <code>\n</code>, and if it&apos;s a valid/balanced code. If it does, it&apos;ll parse then use <code>parenMode</code> to indent things (ignoring the current user selection, be it indent or smart mode)</z><z id="t1600812540" t="cfleming Ah, ok, so it will essentially indent the code after pasting?"><y>#</y><d>2020-09-22</d><h>22:09</h><w>cfleming</w>Ah, ok, so it will essentially indent the code after pasting?</z><z id="t1600813033" t="mauricio.szabo Yes - but that&apos;s what parinfer does after any user edit (indents or changes the code). The only difference with this &quot;paste hack&quot; is that instead of using the user&apos;s preferred mode, it always uses parenMode"><y>#</y><d>2020-09-22</d><h>22:17</h><w>mauricio.szabo</w>Yes - but that&apos;s what parinfer does after any user edit (indents or changes the code).
The only difference with this &quot;paste hack&quot; is that instead of using the user&apos;s preferred mode, it always uses parenMode</z><z id="t1600813128" t="cfleming Right. In Cursive, I’ve also considered various options to ensure that pasted text is balanced etc before inserting it."><y>#</y><d>2020-09-22</d><h>22:18</h><w>cfleming</w>Right. In Cursive, I’ve also considered various options to ensure that pasted text is balanced etc before inserting it.</z><z id="t1600878544" t="justinbarclay In parinfer-rust for Emacs, I also try to run paren mode for paste operations."><y>#</y><d>2020-09-23</d><h>16:29</h><w>justinbarclay</w>In parinfer-rust for Emacs, I also try to run paren mode for paste operations.</z><z id="t1601048276" t="henrik I ended up making an experimental Parinfer plugin for Nova: https://gitlab.com/eneroth/parinfer-nova"><y>#</y><d>2020-09-25</d><h>15:37</h><w>henrik</w>I ended up making an experimental Parinfer plugin for Nova: <a href="https://gitlab.com/eneroth/parinfer-nova" target="_blank">https://gitlab.com/eneroth/parinfer-nova</a></z><z id="t1601048299" t="henrik Quality level: facepalm."><y>#</y><d>2020-09-25</d><h>15:38</h><w>henrik</w>Quality level: facepalm.</z><z id="t1602801685" t="grav (Also posted in #emacs) I&apos;ve been trying to get parinfer v3 (aka &quot;smart-mode&quot;) to work in Emacs. I&apos;ve been using it in Cursive. I&apos;ve found two implementations: 1. parinfer-mode, the smart branch: https://github.com/DogLooksGood/parinfer-mode/tree/smart 2. parinfer-rust-mode: https://github.com/justinbarclay/parinfer-rust-mode I&apos;ve been able to get both up and running, but none of them seem to work like the reference implementation: https://shaunlebron.github.io/parinfer/demo A test that I made is to type a ( in front of the {:sum ... map. Both implementations don&apos;t automatically &quot;slurp&quot; the hashmap into a pair of parens (ie turning it into ({:sum sum :prod prod}) Anyone had other experiences?"><y>#</y><d>2020-10-15</d><h>22:41</h><w>grav</w>(Also posted in #emacs)
I&apos;ve been trying to get parinfer v3 (aka &quot;smart-mode&quot;) to work in Emacs. I&apos;ve been using it in Cursive.

I&apos;ve found two implementations:
1. parinfer-mode, the <code>smart</code> branch: <a href="https://github.com/DogLooksGood/parinfer-mode/tree/smart" target="_blank">https://github.com/DogLooksGood/parinfer-mode/tree/smart</a>
2. parinfer-rust-mode: <a href="https://github.com/justinbarclay/parinfer-rust-mode" target="_blank">https://github.com/justinbarclay/parinfer-rust-mode</a>

I&apos;ve been able to get both up and running, but none of them seem to work like the reference implementation:
<a href="https://shaunlebron.github.io/parinfer/demo" target="_blank">https://shaunlebron.github.io/parinfer/demo</a>

A test that I made is to type a <code>(</code> in front of the <code>{:sum ...</code> map. Both implementations don&apos;t automatically &quot;slurp&quot; the hashmap into a pair of parens (ie turning it into
<pre>({:sum sum 
  :prod prod})</pre>
Anyone had other experiences?</z><z id="t1602803990" t="seancorfield [:attrs {:href &quot;/_/_/users/U052XLL3A&quot;}] I would expect ( to just introduce () unless you are using paredit as well."><y>#</y><d>2020-10-15</d><h>23:19</h><w>seancorfield</w><a>@grav</a> I would expect <code>(</code> to just introduce <code>()</code> unless you are using paredit as well.</z><z id="t1602871782" t="grav That&apos;s not how the reference implementation which I linked to, as well as Cursive, which implements paredit smart-mode, behaves"><y>#</y><d>2020-10-16</d><h>18:09</h><r>grav</r>That&apos;s not how the reference implementation which I linked to, as well as Cursive, which implements paredit smart-mode, behaves</z><z id="t1602871927" t="grav Or maybe I&apos;m misunderstanding your comment"><y>#</y><d>2020-10-16</d><h>18:12</h><r>grav</r>Or maybe I&apos;m misunderstanding your comment</z><z id="t1602804791" t="justinbarclay For parinfer-rust , and parinfer-rust-mode , if paredit mode is on it forces parens to be balanced before parinfer operates on the buffer. Therefore, parinfer won&apos;t infer that it should wrap the following sexp. cc [:attrs {:href &quot;/_/_/users/U052XLL3A&quot;}]"><y>#</y><d>2020-10-15</d><h>23:33</h><w>justinbarclay</w>For <code>parinfer-rust</code>, and <code>parinfer-rust-mode</code>, if paredit mode is on it forces parens to be balanced before <code>parinfer</code> operates on the buffer. Therefore, parinfer won&apos;t infer that it should wrap the following sexp.
cc <a>@grav</a></z><z id="t1602872607" t="grav Thanks, that makes sense! I&apos;m pretty new to Emacs, and I apparently am not able to disable paredit in a simple way with prelude, so I am unable to test it."><y>#</y><d>2020-10-16</d><h>18:23</h><r>grav</r>Thanks, that makes sense!

I&apos;m pretty new to Emacs, and I apparently am not able to disable paredit in a simple way with prelude, so I am unable to test it.</z><z id="t1602872921" t="grav Ah, apparently it&apos;s called smartparens, and yes, disabling it does seem to make the specific scenario work!"><y>#</y><d>2020-10-16</d><h>18:28</h><r>grav</r>Ah, apparently it&apos;s called smartparens, and yes, disabling it does seem to make the specific scenario work!</z><z id="t1602873073" t="justinbarclay Awesome glad to here it 🙂 If you always want smartparens turned off in a particular major-mode, you could use something like: (add-hook &apos;clojure-mode-hook (lambda () (smartparens-mode -1)))"><y>#</y><d>2020-10-16</d><h>18:31</h><r>justinbarclay</r>Awesome glad to here it <b>🙂</b>

If you always want smartparens turned off in a particular major-mode, you could use something like:
<code>(add-hook &apos;clojure-mode-hook (lambda () (smartparens-mode -1)))</code></z><z id="t1602873091" t="grav Perfect, thanks! 🙂"><y>#</y><d>2020-10-16</d><h>18:31</h><r>grav</r>Perfect, thanks! <b>🙂</b></z><z id="t1602805061" t="justinbarclay I assume that this holds true for smartparens as well."><y>#</y><d>2020-10-15</d><h>23:37</h><w>justinbarclay</w>I assume that this holds true for smartparens as well.</z><z id="t1603722912" t="eraserhd Someone is asking about a parinfer-rust plugin for VSCode. I assume nobody&apos;s done this? https://github.com/eraserhd/parinfer-rust/issues/91"><y>#</y><d>2020-10-26</d><h>14:35</h><w>eraserhd</w>Someone is asking about a parinfer-rust plugin for VSCode.  I assume nobody&apos;s done this?  <a href="https://github.com/eraserhd/parinfer-rust/issues/91" target="_blank">https://github.com/eraserhd/parinfer-rust/issues/91</a></z><z id="t1603733164" t="pez To my knowledge it is not done. Also to my knowledge, vscode might lack the API for smartmode. "><y>#</y><d>2020-10-26</d><h>17:26</h><w>pez</w>To my knowledge it is not done. Also to my knowledge, vscode might lack the API for smartmode. </z><z id="t1603733265" t="justinbarclay Yeah that was what I remember from the conversations on here as well."><y>#</y><d>2020-10-26</d><h>17:27</h><w>justinbarclay</w>Yeah that was what I remember from the conversations on here as well.</z><z id="t1604479916" t="timo Hi [:attrs {:href &quot;/_/_/users/U0ECYL0ET&quot;}] . Is there some attempt to get funding for parinfer-rust? Like clojurists-together or something like that? I am hoping for a bugfix for the history/undo/redo issue but am not able to fix vim code. But I would spend some money for a fix."><y>#</y><d>2020-11-04</d><h>08:51</h><w>timo</w>Hi <a>@eraserhd</a>. Is there some attempt to get funding for parinfer-rust? Like clojurists-together or something like that? I am hoping for a bugfix for the history/undo/redo issue but am not able to fix vim code. But I would spend some money for a fix.</z><z id="t1604517520" t="eraserhd I have not submitted it or anything. Money really doesn&apos;t help me, personally, have time to look into things though, so unless we find other people to look into them, I&apos;m not sure it is worth it?"><y>#</y><d>2020-11-04</d><h>19:18</h><w>eraserhd</w>I have not submitted it or anything.  Money really doesn&apos;t help me, personally, have time to look into things though, so unless we find other people to look into them, I&apos;m not sure it is worth it?</z><z id="t1604517575" t="eraserhd I do get significant time off for the holidays, and this issue is the biggest priority for when I have some time."><y>#</y><d>2020-11-04</d><h>19:19</h><w>eraserhd</w>I do get significant time off for the holidays, and this issue is the biggest priority for when I have some time.</z><z id="t1604563065" t="timo Yeah I see. Money does not really help... I want to learn more about vim, c and rust and hopefully I can contribute some day. Thanks for all the work!"><y>#</y><d>2020-11-05</d><h>07:57</h><w>timo</w>Yeah I see. Money does not really help... I want to learn more about vim, c and rust and hopefully I can contribute some day. Thanks for all the work!</z><z id="t1613816817" t="dharrigan If anyone is interested, I managed to get parinfer-rust (a plugin for vim) to work on Mac Mini M1"><y>#</y><d>2021-02-20</d><h>10:26</h><w>dharrigan</w>If anyone is interested, I managed to get parinfer-rust (a plugin for vim) to work on Mac Mini M1</z><z id="t1613816830" t="dharrigan I think it&apos;ll work with any M1 chip"><y>#</y><d>2021-02-20</d><h>10:27</h><w>dharrigan</w>I think it&apos;ll work with any M1 chip</z><z id="t1613816840" t="dharrigan "><y>#</y><d>2021-02-20</d><h>10:27</h><w>dharrigan</w><code></code></z><z id="t1616542362" t="caleb.macdonaldblack"><y>#</y><d>2021-03-23</d><h>23:32</h><w>caleb.macdonaldblack</w></z><z id="t1616649751" t="cfleming This is not a parinfer thing, if there’s a bug there it’s Cursive-related, nothing to do with the parinfer algorithm."><y>#</y><d>2021-03-25</d><h>05:22</h><r>cfleming</r>This is not a parinfer thing, if there’s a bug there it’s Cursive-related, nothing to do with the parinfer algorithm.</z><z id="t1636492099" t="pez You there [:attrs {:href &quot;/_/_/users/U050XCE7C&quot;}] ? 😃"><y>#</y><d>2021-11-09</d><h>21:08</h><w>pez</w>You there <a>@chrisoakman</a>? <b>😃</b></z><z id="t1636495338" t="pez Any Parinfer fans want to take this dev version of Calva for a spin? It adds Parinfer infer parens and otherwise uses Calva’s formatter a bit more aggressively to “infer” indents • https://15890-125431277-gh.circle-artifacts.com/0/tmp/artifacts/calva-2.0.223-pez-253-parinfer-experiments-ad2037dd.vsix • https://github.com/BetterThanTomorrow/calva/blob/pez/253-parinfer-experiments/docs/site/parinfer.md"><y>#</y><d>2021-11-09</d><h>22:02</h><w>pez</w>Any Parinfer fans want to take this dev version of Calva for a spin? It adds Parinfer infer parens and otherwise uses Calva’s formatter a bit more aggressively to  “infer” indents
• <a href="https://15890-125431277-gh.circle-artifacts.com/0/tmp/artifacts/calva-2.0.223-pez-253-parinfer-experiments-ad2037dd.vsix" target="_blank">https://15890-125431277-gh.circle-artifacts.com/0/tmp/artifacts/calva-2.0.223-pez-253-parinfer-experiments-ad2037dd.vsix</a>  
• <a href="https://github.com/BetterThanTomorrow/calva/blob/pez/253-parinfer-experiments/docs/site/parinfer.md" target="_blank">https://github.com/BetterThanTomorrow/calva/blob/pez/253-parinfer-experiments/docs/site/parinfer.md</a></z><z id="t1636495581" t="pez The attached video clip didn’t work when I tried it. There’s a GIF in this tweet: https://twitter.com/pappapez/status/1457849864621019142"><y>#</y><d>2021-11-09</d><h>22:06</h><r>pez</r>The attached video clip didn’t work when I tried it. There’s a GIF in this tweet: <a href="https://twitter.com/pappapez/status/1457849864621019142" target="_blank">https://twitter.com/pappapez/status/1457849864621019142</a></z><z id="t1657209340" t="Darrick Wiebe Does anyone use parinfer-rust on emacs? It&apos;s the default parinfer package in doom for the clojure config, but I have all sorts of crashes and random bugs with it. Maybe I&apos;m the only one who uses it?"><y>#</y><d>2022-07-07</d><h>15:55</h><w>Darrick Wiebe</w>Does anyone use parinfer-rust on emacs? It&apos;s the default parinfer package in doom for the clojure config, but I have all sorts of crashes and random bugs with it. Maybe I&apos;m the only one who uses it?</z><z id="t1657249149" t="Darrick Wiebe Oh someone has re-adopted the original (better, though occasionally slower) parinfer! It can be found here: https://github.com/kisaragi-hiu/parinfer-mode"><y>#</y><d>2022-07-08</d><h>02:59</h><w>Darrick Wiebe</w>Oh someone has re-adopted the original (better, though occasionally slower) parinfer!

It can be found here: <a href="https://github.com/kisaragi-hiu/parinfer-mode" target="_blank">https://github.com/kisaragi-hiu/parinfer-mode</a></z><z id="t1657292064" t="chrisoakman FYI - there was a sweet performance-improving PR to parinfer-elisp from that author / project: https://github.com/oakmac/parinfer-elisp/pull/14"><y>#</y><d>2022-07-08</d><h>14:54</h><r>chrisoakman</r>FYI - there was a sweet performance-improving PR to parinfer-elisp from that author / project: <a href="https://github.com/oakmac/parinfer-elisp/pull/14" target="_blank">https://github.com/oakmac/parinfer-elisp/pull/14</a></z><z id="t1657294601" t="Darrick Wiebe Yup! With a bit of work I got his fork running. Looking forward to the next time I get a chance to do some coding!"><y>#</y><d>2022-07-08</d><h>15:36</h><r>Darrick Wiebe</r>Yup! With a bit of work I got his fork running. Looking forward to the next time I get a chance to do some coding!</z><z id="t1657249209" t="Darrick Wiebe Here&apos;s hoping for less emacs crashes and less random junk inserted into my files while I&apos;m trying to parinfer!"><y>#</y><d>2022-07-08</d><h>03:00</h><w>Darrick Wiebe</w>Here&apos;s hoping for less emacs crashes and less random junk inserted into my files while I&apos;m trying to parinfer!</z><z id="t1657401417" t="Darrick Wiebe Mission accomplished! This parinfer works fantastic! It can easily deal with multi-thousand-line files (not that I&apos;d ever commit such a sin 😊 ) and doesn&apos;t have the irritating quirks that the rust version had, like running inside comments, regexes and strings. Editing is so much smoother now!"><y>#</y><d>2022-07-09</d><h>21:16</h><w>Darrick Wiebe</w>Mission accomplished! This parinfer works fantastic! It can easily deal with multi-thousand-line files (not that I&apos;d ever commit such a sin <b>😊</b>) and doesn&apos;t have the irritating quirks that the rust version had, like running inside comments, regexes and strings. Editing is so much smoother now!</z><z id="t1663695185" t="shaunlebron Hi [:attrs {:href &quot;/_/_/users/U01D37REZHP&quot;}] are you still using that emacs plugin? I’ve been using parinfer-rust for vim and I only fight it sometimes and mostly works. Has that been your experience with emacs too?"><y>#</y><d>2022-09-20</d><h>17:33</h><w>shaunlebron</w>Hi <a>@darrickw</a> are you still using that emacs plugin?  I’ve been using parinfer-rust for vim and I only fight it sometimes and mostly works.  Has that been your experience with emacs too?</z><z id="t1663695736" t="Darrick Wiebe I find parinfer-rust to be awful. The parinfer-mode is much better. I never need to fight with it. It never gets messed up by comments, etc. It just gets a little slow in multi-hundred line blocks of code."><y>#</y><d>2022-09-20</d><h>17:42</h><w>Darrick Wiebe</w>I find parinfer-rust to be awful. The parinfer-mode is much better. I never need to fight with it. It never gets messed up by comments, etc. It just gets a little slow in multi-hundred line blocks of code.</z><z id="t1663699565" t="shaunlebron oh it uses an elisp implementation here: https://github.com/kisaragi-hiu/parinfer-mode/blob/main/parinferlib.el"><y>#</y><d>2022-09-20</d><h>18:46</h><w>shaunlebron</w>oh it uses an elisp implementation here: <a href="https://github.com/kisaragi-hiu/parinfer-mode/blob/main/parinferlib.el" target="_blank">https://github.com/kisaragi-hiu/parinfer-mode/blob/main/parinferlib.el</a></z><z id="t1663699650" t="shaunlebron we were considering having the rust port be a canonical version shared by plugins since it was seeing some success"><y>#</y><d>2022-09-20</d><h>18:47</h><w>shaunlebron</w>we were considering having the rust port be a canonical version shared by plugins since it was seeing some success</z><z id="t1663701715" t="shaunlebron [:attrs {:href &quot;/_/_/users/U01D37REZHP&quot;}] what is the issue with comments in parinfer-rust"><y>#</y><d>2022-09-20</d><h>19:21</h><w>shaunlebron</w><a>@darrickw</a> what is the issue with comments in parinfer-rust</z><z id="t1663701768" t="Darrick Wiebe The rust version can&apos;t distinguish comments, strings, regexps, ... It just blindly messes up your code."><y>#</y><d>2022-09-20</d><h>19:22</h><w>Darrick Wiebe</w>The rust version can&apos;t distinguish comments, strings, regexps, ... It just blindly messes up your code.</z><z id="t1663701786" t="Darrick Wiebe It seemed unmaintained, too, but I haven&apos;t looked in a couple months."><y>#</y><d>2022-09-20</d><h>19:23</h><w>Darrick Wiebe</w>It seemed unmaintained, too, but I haven&apos;t looked in a couple months.</z><z id="t1663702299" t="shaunlebron Strange, I use it all the time and haven&apos;t seen that. I wonder what else was involved on the emacs side of it, or what was added on the vim side"><y>#</y><d>2022-09-20</d><h>19:31</h><w>shaunlebron</w>Strange, I use it all the time and haven&apos;t seen that. I wonder what else was involved on the emacs side of it, or what was added on the vim side</z><z id="t1663718018" t="Darrick Wiebe Yes, it was the Emacs version. It&apos;s possible that the underlying rust engine was good and just the emacs plugin was broken. I switched and haven&apos;t looked back."><y>#</y><d>2022-09-20</d><h>23:53</h><w>Darrick Wiebe</w>Yes, it was the Emacs version. It&apos;s possible that the underlying rust engine was good and just the emacs plugin was broken. I switched and haven&apos;t looked back.</z></g></div></body>