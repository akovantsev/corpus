<!DOCTYPE html>
<head><title>core-logic</title><meta charset="UTF-8" /><style type="text/css">body {
    font-family: Monaco, Menlo, Consolas, "Courier New", sans-serif;
    font-size: 12px;
    margin: 15px;
}
h2 {text-align: center}
pre,
code {
    font-family: Monaco, Menlo, Consolas, "Courier New", monospace;
    color: #333;
}
code {
    /*line-height: 1.2;*/
    white-space: normal;
    color: #c25;
    background-color: #f7f7f9;
    border: 1px solid #e1e1e8;
}
pre {
    margin: .5rem 0 .2rem;
    font-size: .75rem;
    /*line-height: 1.15rem;*/
    background: #fbfaf8;
    padding: .5rem;
    word-break: normal;
    display: block;
    border: 1px solid rgba(0, 0, 0, .15);
    white-space: pre-wrap;
    word-wrap: break-word;
    border-radius: 4px;
}
span {
    white-space: pre-wrap;
}
span.u {
    margin-top: 3px;
    /*margin-left: 10px;*/
    margin-right: 10px;
    background-color: lavender;
}
span.t:hover {
    text-decoration: underline;
    color: blue;
    cursor: pointer
}
div[t]:target > span.u {
    background-color: aquamarine
}

#filters-container {
    position: fixed;
    left: 50px;
    z-index: 1;
}
#filters-container > input {
    /*column:*/
    display: block;
    outline-color: aquamarine;
}

div[t] > a:first-child {
    text-decoration: none;
    color: blue;
    position: absolute;
    left: 3px;
}

div[t] > a:first-child:hover {
    text-decoration: underline;
    color: aquamarine;
}


</style></head><body><style id="css-text-filter"></style><style id="css-date-filter"></style><style id="css-filter-override"></style><p id="filters-container"><input id="text-filter" onkeyup="debtextfilter(this.value)" placeholder="filter text" type="string" /><button hidden="hidden" id="date-filter" onclick="cleardatefilter()"></button></p><h2>#core-logic</h2><pre><i>generated UTC: 2020-11-20 18:37:58</i><i>
latest data: <a href="https://clojurians-log.clojureverse.org/core-logic/2020-11-06">https://clojurians-log.clojureverse.org/core-logic/2020-11-06</a></i>
pro tips:
* Double click on text to filter by it. (doubleclick + cmd-f for extra points).
* Click on date to keep day visible regardless of filter.
* Click on time to keep hour visible regardless of filter.</pre><script>const textFilterInput = document.getElementById("text-filter");
const dateFilterInput = document.getElementById("date-filter");
const filterTextStyle = document.getElementById("css-text-filter");
const filterDateStyle = document.getElementById("css-date-filter");
const filterStyleOverride = document.getElementById("css-filter-override");

function textFilter(text) {
    var style = '';
    if (text.trim() !== '') {
        text.split(' ').forEach(function (t) {
            if (t !== '') {
                style = style + "div[t]:not([t*='" + t + "' i]) {display: none; opacity: 0.6}";
            }
        });
    }
    filterTextStyle.innerHTML = style;
}


function filterSelection (e) {
    let sel = document.getSelection();
    let txt = sel.toString();
    textFilterInput.value = (txt || "");
    textFilter(txt);
}
function debounce1(callback, delay) {
    let timeout;
    return function(arg) {
        clearTimeout(timeout);
        timeout = setTimeout(callback, delay, arg);
    }
}

function keyUp (e) {
    if (e.code === "KeyF" && e.ctrlKey) {
        let txt = document.getSelection().toString();
        if (txt.length > 0) {
            textFilterInput.value = (txt || "");
            textFilter(txt);
        }
    }
}


function showDateTimes (el, datestr) {
    dateFilterInput.innerText = "clear: " + datestr;
    dateFilterInput.hidden = false;
    let ids = [];
    const clicked = el.parentElement.parentElement;  // el = div#id/span.u/span.t
    ids.push(clicked.id);
    // var idbefore, idafter;
    let cursor = clicked;
    function nextCursor (cursor) {
        const id = (cursor && cursor.id);
        const t = (cursor && cursor.getAttribute("t"))
        if (id) {
            ids.push(id); //includes 1st next-id not matching date.
        } else {
            cursor = null;
        }
        if (t && t.startsWith(datestr)) {
        } else {
            cursor = null;
        }
        return cursor;
    }
    while (cursor) {
        cursor = nextCursor(cursor.previousElementSibling);
    }

    cursor = clicked;

    while (cursor) {
        cursor = nextCursor(cursor.nextElementSibling);
    }


    var style1 = '';
    var style2 = '';
    var content;
    if (datestr.includes(" ")) { //hour
        content = "*";
    } else {
        content = "**";
    }
    ids.forEach(function (id) {
        if (id) {
            style1 = style1 + ", #" + id;
            style2 = style2 + ", #" + id + " span.t:nth-child(2):after";
        }
    })
    if (style1) {
        style1 = style1.substring(1) + " {display: block !important}";
    }
    if (style2) {
        style2 = style2.substring(1) + " {content: \"" + content + "\"; position: absolute}"
    }
    filterDateStyle.innerHTML = style1 + "\n" + style2;
}

function filterDay (el) {
    showDateTimes(el, el.textContent);
    el.scrollIntoView({behavior: "smooth", block: "center", inline: "start"});
}

function filterHours (el) {
    showDateTimes(el,el.previousElementSibling.textContent + " " + el.textContent.substring(0, 2));
    el.scrollIntoView({behavior: "smooth", block: "center", inline: "start"});
}

function forceShowSelected (el) {
    var id = el.parentElement.id
    if (id) {
        filterStyleOverride.innerHTML = ""
            + "#" + id
            + " {display: block !important;}"
            + "#" + id + " span.t:nth-child(2):after"
            + " {content: \"*\"; position: absolute}"

    } else {
        filterStyleOverride.innerHTML = "";
    }
}


function cleardatefilter () {
    dateFilterInput.hidden = true;
    dateFilterInput.innerText = "";
    filterDateStyle.innerHTML = "";
}

const D = filterDay;
const H = filterHours;
const S = forceShowSelected;
const debtextfilter = debounce1(textFilter, 200);

function doubleClick (e) {
    if (e.target.tagName !== "INPUT") {
        filterSelection();
        e.target.scrollIntoView({behavior: "auto", block: "center", inline: "start"});
    }
}

document.ondblclick = doubleClick;
document.onkeyup = keyUp;
textFilterInput.focus();
</script><div><div id="t1437987862000006" t="2015-07-27 09:04:22 tsdh Can someone enlighten me with some ccl result?"><a href="#t1437987862000006" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-27</span> <span class="t" onclick="H(this)">09:04:22</span>             tsdh </span><span>Can someone enlighten me with some ccl result?</span></div><div id="t1437987881000007" t="2015-07-27 09:04:41 tsdh (run* [q]
  (fresh [a b c]
    (== q [a b c])
    (membero 1 q)
    (membero 3 q)
    (conde
     [(conso 1 [b c] q)]
     [(conjo [a b] 3 q)])))
;; ([1 3 _0]
;;  [1 3 3]
;;  [1 _0 3]
;;  ([1 _0 3] :- (clojure.core.logic/conjo [&lt;lvar:a__21997&gt; &lt;lvar:b__21998&gt;] 3 [1 _0 3]))
;;  [3 1 3]
;;  [1 1 3]
;;  ([_0 1 3] :- (clojure.core.logic/conjo [&lt;lvar:a__21997&gt; &lt;lvar:b__21998&gt;] 3 [_0 1 3]))
;;  ([3 _0 1] :- (clojure.core.logic/conjo [&lt;lvar:a__21997&gt; &lt;lvar:b__21998&gt;] 3 [3 _0 1]))
;;  [1 3 1]
;;  ([_0 3 1] :- (clojure.core.logic/conjo [&lt;lvar:a__21997&gt; &lt;lvar:b__21998&gt;] 3 [_0 3 1])))
"><a href="#t1437987881000007" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-27</span> <span class="t" onclick="H(this)">09:04:41</span>             tsdh </span><pre>(run* [q]
  (fresh [a b c]
    (== q [a b c])
    (membero 1 q)
    (membero 3 q)
    (conde
     [(conso 1 [b c] q)]
     [(conjo [a b] 3 q)])))
;; ([1 3 _0]
;;  [1 3 3]
;;  [1 _0 3]
;;  ([1 _0 3] :- (clojure.core.logic/conjo [&lt;lvar:a__21997&gt; &lt;lvar:b__21998&gt;] 3 [1 _0 3]))
;;  [3 1 3]
;;  [1 1 3]
;;  ([_0 1 3] :- (clojure.core.logic/conjo [&lt;lvar:a__21997&gt; &lt;lvar:b__21998&gt;] 3 [_0 1 3]))
;;  ([3 _0 1] :- (clojure.core.logic/conjo [&lt;lvar:a__21997&gt; &lt;lvar:b__21998&gt;] 3 [3 _0 1]))
;;  [1 3 1]
;;  ([_0 3 1] :- (clojure.core.logic/conjo [&lt;lvar:a__21997&gt; &lt;lvar:b__21998&gt;] 3 [_0 3 1])))
</pre></div><div id="t1437987941000008" t="2015-07-27 09:05:41 tsdh For example, the fourth result is already subsumed by the third, and the 8th and the last result can never become true, no?"><a href="#t1437987941000008" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-27</span> <span class="t" onclick="H(this)">09:05:41</span>             tsdh </span><span>For example, the fourth result is already subsumed by the third, and the 8th and the last result can never become true, no?</span></div><div id="t1437994320000009" t="2015-07-27 10:52:00 tsdh Another thing: Is is somehow possible to do logic programming with strings?  One could use  conso ,  resto , and  appendo  with lists of characters of course, but can this be done somewhat transparently so that I could define  (stro a b ab)  which is like  appendo  but translates from/to lists of characters as needed?"><a href="#t1437994320000009" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-27</span> <span class="t" onclick="H(this)">10:52:00</span>             tsdh </span><span>Another thing: Is is somehow possible to do logic programming with strings?  One could use </span><code>conso</code><span>, </span><code>resto</code><span>, and </span><code>appendo</code><span> with lists of characters of course, but can this be done somewhat transparently so that I could define </span><code>(stro a b ab)</code><span> which is like </span><code>appendo</code><span> but translates from/to lists of characters as needed?</span></div><div id="t1438012678000011" t="2015-07-27 15:57:58 jballanc tsdh: to answer your second question first, you can always write your own string-based methods either using the  core.logic  primatives, or just deconstructing/reconstructing the string and using  conso  and friends"><a href="#t1438012678000011" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-27</span> <span class="t" onclick="H(this)">15:57:58</span>         jballanc </span><span>tsdh: to answer your second question first, you can always write your own string-based methods either using the </span><code>core.logic</code><span> primatives, or just deconstructing/reconstructing the string and using </span><code>conso</code><span> and friends</span></div><div id="t1438017597000012" t="2015-07-27 17:19:57 tsdh @jballanc: looking at how complicated firsto and friends are with their LCons deftype etc, reusing that seems like the way to go. However, I just wondered if I could get the conversion from/to lists of characters transparently/implicitly rather than doing it from outside of run*."><a href="#t1438017597000012" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-27</span> <span class="t" onclick="H(this)">17:19:57</span>             tsdh </span><span>@jballanc: looking at how complicated firsto and friends are with their LCons deftype etc, reusing that seems like the way to go. However, I just wondered if I could get the conversion from/to lists of characters transparently/implicitly rather than doing it from outside of run*.</span></div><div id="t1438018238000013" t="2015-07-27 17:30:38 tsdh FWIW, I don&apos;t need to have relations on lists of characters, so that representation could be reserved for strings."><a href="#t1438018238000013" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-27</span> <span class="t" onclick="H(this)">17:30:38</span>             tsdh </span><span>FWIW, I don&apos;t need to have relations on lists of characters, so that representation could be reserved for strings.</span></div><div id="t1438023547000014" t="2015-07-27 18:59:07 jballanc hmm…I think it should be possible to pass strings around…have to think about it"><a href="#t1438023547000014" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-27</span> <span class="t" onclick="H(this)">18:59:07</span>         jballanc </span><span>hmm…I think it should be possible to pass strings around…have to think about it</span></div><div id="t1438023645000015" t="2015-07-27 19:00:45 jballanc oh, and about your first question…not sure but I think what’s happening is:
1. for the 4th result, you’re swapping  a  and  b  as to which is  1  and which is unbound (`_0`)
2. for the 8th result, one of your fresh vars in the  conjo  is empty…I think"><a href="#t1438023645000015" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-27</span> <span class="t" onclick="H(this)">19:00:45</span>         jballanc </span><span>oh, and about your first question…not sure but I think what’s happening is:
1. for the 4th result, you’re swapping </span><code>a</code><span> and </span><code>b</code><span> as to which is </span><code>1</code><span> and which is unbound (`_0`)
2. for the 8th result, one of your fresh vars in the </span><code>conjo</code><span> is empty…I think</span></div><div id="t1438023655000016" t="2015-07-27 19:00:55 jballanc would have to double-check that last one, though"><a href="#t1438023655000016" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-27</span> <span class="t" onclick="H(this)">19:00:55</span>         jballanc </span><span>would have to double-check that last one, though</span></div><div id="t1438064115000017" t="2015-07-28 06:15:15 tsdh @jballanc: Yes, in the code,  b  could be anything as long as 1 and 3 are member of the vector  q  and  a  is 1 or  c  is 3. So with the 8th result, there&apos;s no way to complete it to a solution, no matter what you insert for  b ."><a href="#t1438064115000017" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-28</span> <span class="t" onclick="H(this)">06:15:15</span>             tsdh </span><span>@jballanc: Yes, in the code, </span><code>b</code><span> could be anything as long as 1 and 3 are member of the vector </span><code>q</code><span> and </span><code>a</code><span> is 1 or </span><code>c</code><span> is 3. So with the 8th result, there&apos;s no way to complete it to a solution, no matter what you insert for </span><code>b</code><span>.</span></div><div id="t1438075145000018" t="2015-07-28 09:19:05 tsdh Does someone have a minimal example showing the difference between  conda  and  condu ?  As far as I understand,
 (run* [x y]
  (conda  ;; or condu
   [(== x 1) (membero 2 y)]
   [(== x 2) (== y 3)]))
 
should blow the stack whereas it should work with  condu  and deliver  ([1 (2)]) . But actually it also blows the stack with  condu ."><a href="#t1438075145000018" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-28</span> <span class="t" onclick="H(this)">09:19:05</span>             tsdh </span><span>Does someone have a minimal example showing the difference between </span><code>conda</code><span> and </span><code>condu</code><span>?  As far as I understand,
</span><pre>(run* [x y]
  (conda  ;; or condu
   [(== x 1) (membero 2 y)]
   [(== x 2) (== y 3)]))
</pre><span>
should blow the stack whereas it should work with </span><code>condu</code><span> and deliver </span><code>([1 (2)])</code><span>. But actually it also blows the stack with </span><code>condu</code><span>.</span></div><div id="t1438075257000019" t="2015-07-28 09:20:57 tsdh Well, with  condu  it might also return  ([1 #{2}])  or  ([1 [2]])  since the collection type isn&apos;t fixed, and of course the collection doesn&apos;t need to be minimal although that would make sense."><a href="#t1438075257000019" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-28</span> <span class="t" onclick="H(this)">09:20:57</span>             tsdh </span><span>Well, with </span><code>condu</code><span> it might also return </span><code>([1 #{2}])</code><span> or </span><code>([1 [2]])</code><span> since the collection type isn&apos;t fixed, and of course the collection doesn&apos;t need to be minimal although that would make sense.</span></div><div id="t1438075743000020" t="2015-07-28 09:29:03 tsdh Or with a much simpler example:
 (defn y-or-n [x]
  (conde
   [(== x :y)]
   [(== x :n)]))

(run* [x y]
  (condu
   [(== x 1) (y-or-n y)]
   [(== x 2) (== y 3)]))
;;=&gt; ([1 :y] [1 :n])
 
I had expected to get only  ([1 :y]) .  Why the second solution?   condu  should succeed at most once for any goal in the clause it committed to, no?"><a href="#t1438075743000020" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-28</span> <span class="t" onclick="H(this)">09:29:03</span>             tsdh </span><span>Or with a much simpler example:
</span><pre>(defn y-or-n [x]
  (conde
   [(== x :y)]
   [(== x :n)]))

(run* [x y]
  (condu
   [(== x 1) (y-or-n y)]
   [(== x 2) (== y 3)]))
;;=&gt; ([1 :y] [1 :n])
</pre><span>
I had expected to get only </span><code>([1 :y])</code><span>.  Why the second solution?  </span><code>condu</code><span> should succeed at most once for any goal in the clause it committed to, no?</span></div><div id="t1438076769000022" t="2015-07-28 09:46:09 tsdh Hm, it works when I swap the two goals in the first clause.  So it seems that only the head goal has the once-semantics."><a href="#t1438076769000022" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-28</span> <span class="t" onclick="H(this)">09:46:09</span>             tsdh </span><span>Hm, it works when I swap the two goals in the first clause.  So it seems that only the head goal has the once-semantics.</span></div><div id="t1438089748000023" t="2015-07-28 13:22:28 jballanc tsdh: I implemented FizzBuzz with core.logic (don’t ask), and made use of  condu  (in the form of  defnu ) -  https://github.com/jballanc/logicbuzz/blob/master/src/logicbuzz/core.clj#L17"><a href="#t1438089748000023" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-28</span> <span class="t" onclick="H(this)">13:22:28</span>         jballanc </span><span>tsdh: I implemented FizzBuzz with core.logic (don’t ask), and made use of </span><code>condu</code><span> (in the form of </span><code>defnu</code><span>) - </span><a href="https://github.com/jballanc/logicbuzz/blob/master/src/logicbuzz/core.clj#L17" target="_blank">https://github.com/jballanc/logicbuzz/blob/master/src/logicbuzz/core.clj#L17</a></div><div id="t1438089958000025" t="2015-07-28 13:25:58 jballanc essentially, as I understand it, you’re building up a tree of solutions: first make the first condition pass, then cycle back and fill in any remaining fresh vars, then make the second condition pass, then cycle back and fill remaining fresh, etc."><a href="#t1438089958000025" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-28</span> <span class="t" onclick="H(this)">13:25:58</span>         jballanc </span><span>essentially, as I understand it, you’re building up a tree of solutions: first make the first condition pass, then cycle back and fill in any remaining fresh vars, then make the second condition pass, then cycle back and fill remaining fresh, etc.</span></div><div id="t1438089979000026" t="2015-07-28 13:26:19 jballanc with  condu , if you can make the first condition pass, then you fill the remaining fresh vars and stop"><a href="#t1438089979000026" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-28</span> <span class="t" onclick="H(this)">13:26:19</span>         jballanc </span><span>with </span><code>condu</code><span>, if you can make the first condition pass, then you fill the remaining fresh vars and stop</span></div><div id="t1438089990000027" t="2015-07-28 13:26:30 jballanc if you can’t, then you try the second, and so on"><a href="#t1438089990000027" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-28</span> <span class="t" onclick="H(this)">13:26:30</span>         jballanc </span><span>if you can’t, then you try the second, and so on</span></div><div id="t1438090133000028" t="2015-07-28 13:28:53 tsdh @jballanc: I think with your  fizzbuzzo  you can use  defna  and  defnu .  Both commit to a clause as soon as the head goal succeeds."><a href="#t1438090133000028" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-28</span> <span class="t" onclick="H(this)">13:28:53</span>             tsdh </span><span>@jballanc: I think with your </span><code>fizzbuzzo</code><span> you can use </span><code>defna</code><span> and </span><code>defnu</code><span>.  Both commit to a clause as soon as the head goal succeeds.</span></div><div id="t1438090153000029" t="2015-07-28 13:29:13 tsdh @jballanc: And in your case,  x  is always ground."><a href="#t1438090153000029" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-28</span> <span class="t" onclick="H(this)">13:29:13</span>             tsdh </span><span>@jballanc: And in your case, </span><code>x</code><span> is always ground.</span></div><div id="t1438090214000030" t="2015-07-28 13:30:14 jballanc it’s been a while, but I think I tried  defna  and didn’t have success..."><a href="#t1438090214000030" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-28</span> <span class="t" onclick="H(this)">13:30:14</span>         jballanc </span><span>it’s been a while, but I think I tried </span><code>defna</code><span> and didn’t have success...</span></div><div id="t1438090305000031" t="2015-07-28 13:31:45 tsdh @jballanc: The difference with  conda /`defna` versus  condu /`defnu` only shows up when the head goal of a clause may produce multiple solutions. With the former, all of them are considered, with the latter, only the first one is considered. Thus, some programs which diverge with  conda  may terminate with  condu ."><a href="#t1438090305000031" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-28</span> <span class="t" onclick="H(this)">13:31:45</span>             tsdh </span><span>@jballanc: The difference with </span><code>conda</code><span>/`defna` versus </span><code>condu</code><span>/`defnu` only shows up when the head goal of a clause may produce multiple solutions. With the former, all of them are considered, with the latter, only the first one is considered. Thus, some programs which diverge with </span><code>conda</code><span> may terminate with </span><code>condu</code><span>.</span></div><div id="t1438090329000032" t="2015-07-28 13:32:09 jballanc hmm…ok"><a href="#t1438090329000032" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-28</span> <span class="t" onclick="H(this)">13:32:09</span>         jballanc </span><span>hmm…ok</span></div><div id="t1438090370000033" t="2015-07-28 13:32:50 tsdh At least that&apos;s what I&apos;ve read in W. Byrd&apos;s thesis and validated with experimentation here."><a href="#t1438090370000033" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-28</span> <span class="t" onclick="H(this)">13:32:50</span>             tsdh </span><span>At least that&apos;s what I&apos;ve read in W. Byrd&apos;s thesis and validated with experimentation here.</span></div><div id="t1438090669000034" t="2015-07-28 13:37:49 jballanc ok, yeah, stated that way I think it matches with what I’ve found in the past"><a href="#t1438090669000034" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-28</span> <span class="t" onclick="H(this)">13:37:49</span>         jballanc </span><span>ok, yeah, stated that way I think it matches with what I’ve found in the past</span></div><div id="t1438090701000035" t="2015-07-28 13:38:21 jballanc (that FizzBuzz solution was a lot of trial and error to get everything done with only using  core.logic )"><a href="#t1438090701000035" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-28</span> <span class="t" onclick="H(this)">13:38:21</span>         jballanc </span><span>(that FizzBuzz solution was a lot of trial and error to get everything done with only using </span><code>core.logic</code><span>)</span></div><div id="t1438162944000036" t="2015-07-29 09:42:24 tsdh Say you have a unary relation  (1to10 n)  which unifies  n  with the 1, 2,... , 10.  And say you have two logic variables  n1  and  n2  both resulting from unification with  1to10 , and you want to express that  n1  comes before  n2  in  1to10 . Is that possible?  (`clojure.core.logic.fd/&lt;` is of course cheating)"><a href="#t1438162944000036" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-29</span> <span class="t" onclick="H(this)">09:42:24</span>             tsdh </span><span>Say you have a unary relation </span><code>(1to10 n)</code><span> which unifies </span><code>n</code><span> with the 1, 2,... , 10.  And say you have two logic variables </span><code>n1</code><span> and </span><code>n2</code><span> both resulting from unification with </span><code>1to10</code><span>, and you want to express that </span><code>n1</code><span> comes before </span><code>n2</code><span> in </span><code>1to10</code><span>. Is that possible?  (`clojure.core.logic.fd/&lt;` is of course cheating)</span></div><div id="t1438185021000037" t="2015-07-29 15:50:21 jballanc When it comes to working with numbers-as-lvars, I think  fd  is pretty much your only choice"><a href="#t1438185021000037" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-29</span> <span class="t" onclick="H(this)">15:50:21</span>         jballanc </span><span>When it comes to working with numbers-as-lvars, I think </span><code>fd</code><span> is pretty much your only choice</span></div><div id="t1438185051000038" t="2015-07-29 15:50:51 jballanc the only other thing I could think of would be to encode them as Church numerals and re-implement basic math as list operations"><a href="#t1438185051000038" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-29</span> <span class="t" onclick="H(this)">15:50:51</span>         jballanc </span><span>the only other thing I could think of would be to encode them as Church numerals and re-implement basic math as list operations</span></div><div id="t1438185111000039" t="2015-07-29 15:51:51 jballanc …hmm…or you could use a range with  conso  in reverse to trim  n2  then check with  membero  for  n1"><a href="#t1438185111000039" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-29</span> <span class="t" onclick="H(this)">15:51:51</span>         jballanc </span><span>…hmm…or you could use a range with </span><code>conso</code><span> in reverse to trim </span><code>n2</code><span> then check with </span><code>membero</code><span> for </span><code>n1</code></div><div id="t1438259839000041" t="2015-07-30 12:37:19 tsdh @jballanc: That I&apos;ve used numbers is just for simplicity.  The more general question is: if  (thingo x)  can unify  x  with both  :fork  and  :spoon , is there a way to tell if  x  is unified first with  :fork  and then  :spoon  or the other way round?"><a href="#t1438259839000041" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-30</span> <span class="t" onclick="H(this)">12:37:19</span>             tsdh </span><span>@jballanc: That I&apos;ve used numbers is just for simplicity.  The more general question is: if </span><code>(thingo x)</code><span> can unify </span><code>x</code><span> with both </span><code>:fork</code><span> and </span><code>:spoon</code><span>, is there a way to tell if </span><code>x</code><span> is unified first with </span><code>:fork</code><span> and then </span><code>:spoon</code><span> or the other way round?</span></div><div id="t1438259995000042" t="2015-07-30 12:39:55 tsdh @jballanc: Basically, what I am looking for is a way to transform between multiple unifications and a list of the unifications."><a href="#t1438259995000042" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-30</span> <span class="t" onclick="H(this)">12:39:55</span>             tsdh </span><span>@jballanc: Basically, what I am looking for is a way to transform between multiple unifications and a list of the unifications.</span></div><div id="t1438263983000043" t="2015-07-30 13:46:23 jballanc tsdh: hmm…if I understand you correctly, I’d be tempted to say that this falls into the category of “implementation detail” in  core.logic"><a href="#t1438263983000043" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-30</span> <span class="t" onclick="H(this)">13:46:23</span>         jballanc </span><span>tsdh: hmm…if I understand you correctly, I’d be tempted to say that this falls into the category of “implementation detail” in </span><code>core.logic</code></div><div id="t1438264026000044" t="2015-07-30 13:47:06 jballanc that is, if you have, say:  (run* [q] (conde [(== q 1) (== q 2)]))  and you want to know did  q  match 1 first, or 2 first?"><a href="#t1438264026000044" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-30</span> <span class="t" onclick="H(this)">13:47:06</span>         jballanc </span><span>that is, if you have, say: </span><code>(run* [q] (conde [(== q 1) (== q 2)]))</code><span> and you want to know did </span><code>q</code><span> match 1 first, or 2 first?</span></div><div id="t1438264045000045" t="2015-07-30 13:47:25 tsdh @jballanc: Exactly."><a href="#t1438264045000045" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-30</span> <span class="t" onclick="H(this)">13:47:25</span>             tsdh </span><span>@jballanc: Exactly.</span></div><div id="t1438264098000046" t="2015-07-30 13:48:18 jballanc yeah…I mean, IIRC the implementation of  conde  and friends is more-or-less a depth-first tree walk, so unifications should happen in roughly the order they’re provided"><a href="#t1438264098000046" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-30</span> <span class="t" onclick="H(this)">13:48:18</span>         jballanc </span><span>yeah…I mean, IIRC the implementation of </span><code>conde</code><span> and friends is more-or-less a depth-first tree walk, so unifications should happen in roughly the order they’re provided</span></div><div id="t1438264153000047" t="2015-07-30 13:49:13 jballanc …but I think that’s definitely “implementation detail” since, as I understand it, in Will Byrd’s ideal world all mini-Kanren conditions would be relational, i.e. order independent"><a href="#t1438264153000047" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-30</span> <span class="t" onclick="H(this)">13:49:13</span>         jballanc </span><span>…but I think that’s definitely “implementation detail” since, as I understand it, in Will Byrd’s ideal world all mini-Kanren conditions would be relational, i.e. order independent</span></div><div id="t1438264230000048" t="2015-07-30 13:50:30 jballanc He does a really good job explaining that concept in this podcast:  http://www.functionalgeekery.com/episode-9-william-e-byrd/"><a href="#t1438264230000048" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-30</span> <span class="t" onclick="H(this)">13:50:30</span>         jballanc </span><span>He does a really good job explaining that concept in this podcast: </span><a href="http://www.functionalgeekery.com/episode-9-william-e-byrd/" target="_blank">http://www.functionalgeekery.com/episode-9-william-e-byrd/</a></div><div id="t1438264272000050" t="2015-07-30 13:51:12 jballanc So, while it might be possible to hack a solution to get what you want, I think you have to keep in mind that you’d be directly controverting one of the goals of mini-Kanren as a logic system"><a href="#t1438264272000050" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-30</span> <span class="t" onclick="H(this)">13:51:12</span>         jballanc </span><span>So, while it might be possible to hack a solution to get what you want, I think you have to keep in mind that you’d be directly controverting one of the goals of mini-Kanren as a logic system</span></div><div id="t1438264282000051" t="2015-07-30 13:51:22 jballanc 😕"><a href="#t1438264282000051" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-30</span> <span class="t" onclick="H(this)">13:51:22</span>         jballanc </span><b>😕</b></div><div id="t1438264292000052" t="2015-07-30 13:51:32 jballanc (…but I’m far from an expert on the matter)"><a href="#t1438264292000052" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-30</span> <span class="t" onclick="H(this)">13:51:32</span>         jballanc </span><span>(…but I’m far from an expert on the matter)</span></div><div id="t1438267491000053" t="2015-07-30 14:44:51 tsdh @jballanc: Yes, I&apos;m with you in your concrete example. But with your own relations, you can define the order in which things get unified. For example, say you deal with the concepts block and statement in some programming language. Clearly, a block contains statements, and the order of statements in a block does matter. Now you have to choices to model that with relations: 1.  (block-has-stmto block stmt)  where the relation unifies  stmt  once for each statement in a concrete block, or 2.  (block-has-stmts block stmts)  where  stmts  gets unified with the list of statements in a concrete block.  Variant 1 is much nicer to work with in case you don&apos;t care about the order. With variant 2, you have the order but if you don&apos;t care about it, queries become a bit more complicated (basically you need  membero  goals over the place)."><a href="#t1438267491000053" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-30</span> <span class="t" onclick="H(this)">14:44:51</span>             tsdh </span><span>@jballanc: Yes, I&apos;m with you in your concrete example. But with your own relations, you can define the order in which things get unified. For example, say you deal with the concepts block and statement in some programming language. Clearly, a block contains statements, and the order of statements in a block does matter. Now you have to choices to model that with relations: 1. </span><code>(block-has-stmto block stmt)</code><span> where the relation unifies </span><code>stmt</code><span> once for each statement in a concrete block, or 2. </span><code>(block-has-stmts block stmts)</code><span> where </span><code>stmts</code><span> gets unified with the list of statements in a concrete block.  Variant 1 is much nicer to work with in case you don&apos;t care about the order. With variant 2, you have the order but if you don&apos;t care about it, queries become a bit more complicated (basically you need </span><code>membero</code><span> goals over the place).</span></div><div id="t1438267679000054" t="2015-07-30 14:47:59 tsdh @jballanc: Well, I guess just providing both versions makes everybody happy, and variant 1 can easily be implemented on top of variant 2."><a href="#t1438267679000054" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-30</span> <span class="t" onclick="H(this)">14:47:59</span>             tsdh </span><span>@jballanc: Well, I guess just providing both versions makes everybody happy, and variant 1 can easily be implemented on top of variant 2.</span></div><div id="t1438267740000055" t="2015-07-30 14:49:00 tsdh @jballanc: Just the reverse seems to be not so trivial, and of course I started with variant 1.  simple_smile"><a href="#t1438267740000055" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-30</span> <span class="t" onclick="H(this)">14:49:00</span>             tsdh </span><span>@jballanc: Just the reverse seems to be not so trivial, and of course I started with variant 1. </span><b>simple_smile</b></div><div id="t1438271186000056" t="2015-07-30 15:46:26 jballanc tsdh: It’s an interesting use-case to be sure. About the only thing I can think of that might make it easier to work with is if you could describe an ordering relationship between the individual statements. Something like:  endif  must come after  if  but before  enddef …or something like that. I suspect, though, that you’d quickly find yourself implementing a full parser/AST walker."><a href="#t1438271186000056" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-30</span> <span class="t" onclick="H(this)">15:46:26</span>         jballanc </span><span>tsdh: It’s an interesting use-case to be sure. About the only thing I can think of that might make it easier to work with is if you could describe an ordering relationship between the individual statements. Something like: </span><code>endif</code><span> must come after </span><code>if</code><span> but before </span><code>enddef</code><span>…or something like that. I suspect, though, that you’d quickly find yourself implementing a full parser/AST walker.</span></div><div id="t1438271231000057" t="2015-07-30 15:47:11 jballanc …which, to be sure, is definitely an interesting use case. You might be interested to check out Will Byrd’s Quine generator in mini-Kanren, as it has similar-ish elements as I recall."><a href="#t1438271231000057" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-30</span> <span class="t" onclick="H(this)">15:47:11</span>         jballanc </span><span>…which, to be sure, is definitely an interesting use case. You might be interested to check out Will Byrd’s Quine generator in mini-Kanren, as it has similar-ish elements as I recall.</span></div><div id="t1438273091000058" t="2015-07-30 16:18:11 tsdh @jballanc: ok, thanks for the pointer"><a href="#t1438273091000058" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-30</span> <span class="t" onclick="H(this)">16:18:11</span>             tsdh </span><span>@jballanc: ok, thanks for the pointer</span></div><div id="t1438276628000059" t="2015-07-30 17:17:08 tsdh Another thing: can I define a relation which asserts that some goal succeeds but some other goal fails? I&apos;d be fine with such a must-fail construct was non-relational, that is, only applicable if all logic variables of the goal are ground."><a href="#t1438276628000059" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-30</span> <span class="t" onclick="H(this)">17:17:08</span>             tsdh </span><span>Another thing: can I define a relation which asserts that some goal succeeds but some other goal fails? I&apos;d be fine with such a must-fail construct was non-relational, that is, only applicable if all logic variables of the goal are ground.</span></div><div id="t1438276680000060" t="2015-07-30 17:18:00 tsdh I guess that&apos;s easy to implement myself but probably there&apos;s already something predefined."><a href="#t1438276680000060" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-30</span> <span class="t" onclick="H(this)">17:18:00</span>             tsdh </span><span>I guess that&apos;s easy to implement myself but probably there&apos;s already something predefined.</span></div><div id="t1438277997000061" t="2015-07-30 17:39:57 nberger @tsdh I think  nafc  ( https://github.com/clojure/core.logic/blob/master/src/main/clojure/clojure/core/logic.clj#L2725 ) is what you are looking for. See the tests ( https://github.com/clojure/core.logic/blob/29a46db8a294b29a37d8046fe7ed52be51f126f0/src/test/clojure/clojure/core/logic/tests.clj#L3169 ) for examples"><a href="#t1438277997000061" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-30</span> <span class="t" onclick="H(this)">17:39:57</span>          nberger </span><span>@tsdh I think </span><code>nafc</code><span> (</span><a href="https://github.com/clojure/core.logic/blob/master/src/main/clojure/clojure/core/logic.clj#L2725" target="_blank">https://github.com/clojure/core.logic/blob/master/src/main/clojure/clojure/core/logic.clj#L2725</a><span>) is what you are looking for. See the tests (</span><a href="https://github.com/clojure/core.logic/blob/29a46db8a294b29a37d8046fe7ed52be51f126f0/src/test/clojure/clojure/core/logic/tests.clj#L3169" target="_blank">https://github.com/clojure/core.logic/blob/29a46db8a294b29a37d8046fe7ed52be51f126f0/src/test/clojure/clojure/core/logic/tests.clj#L3169</a><span>) for examples</span></div><div id="t1438278128000065" t="2015-07-30 17:42:08 tsdh @nberger: great, thank you!"><a href="#t1438278128000065" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-30</span> <span class="t" onclick="H(this)">17:42:08</span>             tsdh </span><span>@nberger: great, thank you!</span></div><div id="t1438278250000067" t="2015-07-30 17:44:10 nberger @tsdh: you are welcome"><a href="#t1438278250000067" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-30</span> <span class="t" onclick="H(this)">17:44:10</span>          nberger </span><span>@tsdh: you are welcome</span></div><div id="t1438326727000068" t="2015-07-31 07:12:07 tsdh Hm, can anyone explain this?
 (run* [q]
  (fresh [a b]
    (== q (list a b))
    (fd/in a b (fd/interval 1 3))
    (fd/&lt; a b)
    (nafc membero 2 q)))
;=&gt; ((1 2) (2 3) (1 3))
 
The negation as failure constraint is supposed to ensure that 2 is not a member of the list  q , so I expected to get only the solution  (1 3) ..."><a href="#t1438326727000068" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-31</span> <span class="t" onclick="H(this)">07:12:07</span>             tsdh </span><span>Hm, can anyone explain this?
</span><pre>(run* [q]
  (fresh [a b]
    (== q (list a b))
    (fd/in a b (fd/interval 1 3))
    (fd/&lt; a b)
    (nafc membero 2 q)))
;=&gt; ((1 2) (2 3) (1 3))
</pre><span>
The negation as failure constraint is supposed to ensure that 2 is not a member of the list </span><code>q</code><span>, so I expected to get only the solution </span><code>(1 3)</code><span>...</span></div><div id="t1438327024000069" t="2015-07-31 07:17:04 tsdh It works if I replace the constraint with  (nafc == a 2) (nafc == b 2)  or  (!= a 2) (!= b 2)  but that gets cumbersome if the length of the list collection is long or even unknown..."><a href="#t1438327024000069" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-31</span> <span class="t" onclick="H(this)">07:17:04</span>             tsdh </span><span>It works if I replace the constraint with </span><code>(nafc == a 2) (nafc == b 2)</code><span> or </span><code>(!= a 2) (!= b 2)</code><span> but that gets cumbersome if the length of the list collection is long or even unknown...</span></div><div id="t1438327672000070" t="2015-07-31 07:27:52 tsdh Well, I think this is a bug so I&apos;ve reported it:  http://dev.clojure.org/jira/browse/LOGIC-172"><a href="#t1438327672000070" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-31</span> <span class="t" onclick="H(this)">07:27:52</span>             tsdh </span><span>Well, I think this is a bug so I&apos;ve reported it: </span><a href="http://dev.clojure.org/jira/browse/LOGIC-172" target="_blank">http://dev.clojure.org/jira/browse/LOGIC-172</a></div><div id="t1438328227000071" t="2015-07-31 07:37:07 tsdh Hm, it seems the problem only occurs stuff unified by  clojure.core.logic.fd  relations..."><a href="#t1438328227000071" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-31</span> <span class="t" onclick="H(this)">07:37:07</span>             tsdh </span><span>Hm, it seems the problem only occurs stuff unified by </span><code>clojure.core.logic.fd</code><span> relations...</span></div><div id="t1438356048000072" t="2015-07-31 15:20:48 nberger @tsdh it&apos;s not an issue with fd, but it&apos;s because  a  and  b  are not ground.  nafc  works only on grounded terms"><a href="#t1438356048000072" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-31</span> <span class="t" onclick="H(this)">15:20:48</span>          nberger </span><span>@tsdh it&apos;s not an issue with fd, but it&apos;s because </span><code>a</code><span> and </span><code>b</code><span> are not ground. </span><code>nafc</code><span> works only on grounded terms</span></div><div id="t1438356132000073" t="2015-07-31 15:22:12 nberger So the following does what you expected:

 (run* [q]
        (fresh [a b]
               (== q (list a b))
               (fd/in a b (fd/interval 1 3))
               (fd/&lt; a b)
               (== a 1)
               (== b 2)
               (l/nafc l/membero 2 q)))
;=&gt; ()
"><a href="#t1438356132000073" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-31</span> <span class="t" onclick="H(this)">15:22:12</span>          nberger </span><span>So the following does what you expected:

</span><pre>(run* [q]
        (fresh [a b]
               (== q (list a b))
               (fd/in a b (fd/interval 1 3))
               (fd/&lt; a b)
               (== a 1)
               (== b 2)
               (l/nafc l/membero 2 q)))
;=&gt; ()
</pre></div><div id="t1438356225000075" t="2015-07-31 15:23:45 nberger while the following doesn&apos;t:

 (run* [q]
        (fresh [a b]
               (== q (list a b))
               (fd/in a b (fd/interval 1 3))
               (fd/&lt; a b)
               (== a 1)
               (l/nafc l/membero 2 q)
               (== b 2)))
;=&gt; ((1 2))
"><a href="#t1438356225000075" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-31</span> <span class="t" onclick="H(this)">15:23:45</span>          nberger </span><span>while the following doesn&apos;t:

</span><pre>(run* [q]
        (fresh [a b]
               (== q (list a b))
               (fd/in a b (fd/interval 1 3))
               (fd/&lt; a b)
               (== a 1)
               (l/nafc l/membero 2 q)
               (== b 2)))
;=&gt; ((1 2))
</pre></div><div id="t1438356287000076" t="2015-07-31 15:24:47 nberger in the second example,  b  is not ground for the  nafc"><a href="#t1438356287000076" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-31</span> <span class="t" onclick="H(this)">15:24:47</span>          nberger </span><span>in the second example, </span><code>b</code><span> is not ground for the </span><code>nafc</code></div><div id="t1438356550000077" t="2015-07-31 15:29:10 nberger a smaller example:

 (run* [q]
        (membero q [1 2])
        (nafc membero 2 q))
  ;=&gt; (1 2)
"><a href="#t1438356550000077" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-31</span> <span class="t" onclick="H(this)">15:29:10</span>          nberger </span><span>a smaller example:

</span><pre>(run* [q]
        (membero q [1 2])
        (nafc membero 2 q))
  ;=&gt; (1 2)
</pre></div><div id="t1438357675000078" t="2015-07-31 15:47:55 nberger One way to accomplish what you were trying:

 (run* [q]
    (fresh [a b]
      (== q (list a b))
      (fd/in a b (fd/interval 1 3))
      (fd/&lt; a b)
      (everyg #(!= 2 %) q)))
  ;=&gt; ((1 3))
"><a href="#t1438357675000078" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-31</span> <span class="t" onclick="H(this)">15:47:55</span>          nberger </span><span>One way to accomplish what you were trying:

</span><pre>(run* [q]
    (fresh [a b]
      (== q (list a b))
      (fd/in a b (fd/interval 1 3))
      (fd/&lt; a b)
      (everyg #(!= 2 %) q)))
  ;=&gt; ((1 3))
</pre></div><div id="t1438357699000079" t="2015-07-31 15:48:19 nberger And if you have an arbitrary number of vars:

 (let [vars (map lvar (range 4))]
    (run* [q]
      (== q vars)
      (everyg #(fd/in % (fd/interval 1 6)) vars)
      (everyg #(apply fd/&lt; %) (partition 2 1 vars))
      (everyg #(!= 2 %) q)))
  ;=&gt; ((1 3 4 5) (3 4 5 6) (1 4 5 6) (1 3 5 6) (1 3 4 6))
"><a href="#t1438357699000079" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-31</span> <span class="t" onclick="H(this)">15:48:19</span>          nberger </span><span>And if you have an arbitrary number of vars:

</span><pre>(let [vars (map lvar (range 4))]
    (run* [q]
      (== q vars)
      (everyg #(fd/in % (fd/interval 1 6)) vars)
      (everyg #(apply fd/&lt; %) (partition 2 1 vars))
      (everyg #(!= 2 %) q)))
  ;=&gt; ((1 3 4 5) (3 4 5 6) (1 4 5 6) (1 3 5 6) (1 3 4 6))
</pre></div><div id="t1438359182000080" t="2015-07-31 16:13:02 tsdh @nberger: But the  nafc  docs say that if the vars aren&apos;t ground, the evaluation of the constraint will be deferred."><a href="#t1438359182000080" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-31</span> <span class="t" onclick="H(this)">16:13:02</span>             tsdh </span><span>@nberger: But the </span><code>nafc</code><span> docs say that if the vars aren&apos;t ground, the evaluation of the constraint will be deferred.</span></div><div id="t1438359349000081" t="2015-07-31 16:15:49 tsdh ...which I read as &quot;it should work also for fresh vars where the actual check is deferred until the point where all vars are ground.&quot;"><a href="#t1438359349000081" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-31</span> <span class="t" onclick="H(this)">16:15:49</span>             tsdh </span><span>...which I read as &quot;it should work also for fresh vars where the actual check is deferred until the point where all vars are ground.&quot;</span></div><div id="t1438359646000082" t="2015-07-31 16:20:46 tsdh I think your smaller example is wrong.   q  takes the values 1 and 2, and of course  (membero 2 1)  and  (membero 2 2)  fail."><a href="#t1438359646000082" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-31</span> <span class="t" onclick="H(this)">16:20:46</span>             tsdh </span><span>I think your smaller example is wrong.  </span><code>q</code><span> takes the values 1 and 2, and of course </span><code>(membero 2 1)</code><span> and </span><code>(membero 2 2)</code><span> fail.</span></div><div id="t1438359729000083" t="2015-07-31 16:22:09 tsdh Probably you meant this:
 (run* [q]
        (== q [1 2])
        (nafc membero 2 q))
;=&gt; ()
 
which actually gives the right answer."><a href="#t1438359729000083" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-31</span> <span class="t" onclick="H(this)">16:22:09</span>             tsdh </span><span>Probably you meant this:
</span><pre>(run* [q]
        (== q [1 2])
        (nafc membero 2 q))
;=&gt; ()
</pre><span>
which actually gives the right answer.</span></div><div id="t1438360208000084" t="2015-07-31 16:30:08 nberger Yes, sorry, my example was wrong, so nafc is doing fine in that case. And reading again, I agree, deferred evaluation should do what you said"><a href="#t1438360208000084" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-31</span> <span class="t" onclick="H(this)">16:30:08</span>          nberger </span><span>Yes, sorry, my example was wrong, so nafc is doing fine in that case. And reading again, I agree, deferred evaluation should do what you said</span></div><div id="t1438360902000085" t="2015-07-31 16:41:42 tsdh Well, we&apos;ll see if someone with more knowledge on the implementation comments on the JIRA issue."><a href="#t1438360902000085" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-31</span> <span class="t" onclick="H(this)">16:41:42</span>             tsdh </span><span>Well, we&apos;ll see if someone with more knowledge on the implementation comments on the JIRA issue.</span></div><div id="t1438360926000086" t="2015-07-31 16:42:06 nberger yep  simple_smile"><a href="#t1438360926000086" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-07-31</span> <span class="t" onclick="H(this)">16:42:06</span>          nberger </span><span>yep </span><b>simple_smile</b></div><div id="t1438587136000087" t="2015-08-03 07:32:16 tsdh nafc  delays evaluation somehow until the args to the goal became ground. Is there some generic support for this delaying?  I looked at the implementation but, well, didn&apos;t really get a clue.  Maybe  cgoal  is the essence of it."><a href="#t1438587136000087" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-08-03</span> <span class="t" onclick="H(this)">07:32:16</span>             tsdh </span><code>nafc</code><span> delays evaluation somehow until the args to the goal became ground. Is there some generic support for this delaying?  I looked at the implementation but, well, didn&apos;t really get a clue.  Maybe </span><code>cgoal</code><span> is the essence of it.</span></div><div id="t1438587245000088" t="2015-08-03 07:34:05 tsdh But in my actual use-case, I don&apos;t have a constraint but a relation  (foo a b c)  which requires that at least  a  and  b , or  c  are ground.  It would be nice if I could delay that until that is the case."><a href="#t1438587245000088" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-08-03</span> <span class="t" onclick="H(this)">07:34:05</span>             tsdh </span><span>But in my actual use-case, I don&apos;t have a constraint but a relation </span><code>(foo a b c)</code><span> which requires that at least </span><code>a</code><span> and </span><code>b</code><span>, or </span><code>c</code><span> are ground.  It would be nice if I could delay that until that is the case.</span></div><div id="t1438612194000089" t="2015-08-03 14:29:54 jballanc @tsdh: I think it’s in the  IConstraintStep  reification:
 IRunnable
           (-runnable? [_]
             (every? #(ground-term? % s) args))))
"><a href="#t1438612194000089" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-08-03</span> <span class="t" onclick="H(this)">14:29:54</span>         jballanc </span><span>@tsdh: I think it’s in the </span><code>IConstraintStep</code><span> reification:
</span><pre>IRunnable
           (-runnable? [_]
             (every? #(ground-term? % s) args))))
</pre></div><div id="t1438612198000090" t="2015-08-03 14:29:58 jballanc https://github.com/clojure/core.logic/blob/master/src/main/clojure/clojure/core/logic.clj#L2711"><a href="#t1438612198000090" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-08-03</span> <span class="t" onclick="H(this)">14:29:58</span>         jballanc </span><a href="https://github.com/clojure/core.logic/blob/master/src/main/clojure/clojure/core/logic.clj#L2711" target="_blank">https://github.com/clojure/core.logic/blob/master/src/main/clojure/clojure/core/logic.clj#L2711</a></div><div id="t1438612370000092" t="2015-08-03 14:32:50 tsdh @jballanc: That&apos;s probably it.  I&apos;ll tinker around with that if I find some time."><a href="#t1438612370000092" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-08-03</span> <span class="t" onclick="H(this)">14:32:50</span>             tsdh </span><span>@jballanc: That&apos;s probably it.  I&apos;ll tinker around with that if I find some time.</span></div><div id="t1438612373000093" t="2015-08-03 14:32:53 tsdh Thanks"><a href="#t1438612373000093" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-08-03</span> <span class="t" onclick="H(this)">14:32:53</span>             tsdh </span><span>Thanks</span></div><div id="t1438612378000094" t="2015-08-03 14:32:58 jballanc np"><a href="#t1438612378000094" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-08-03</span> <span class="t" onclick="H(this)">14:32:58</span>         jballanc </span><span>np</span></div><div id="t1440312821000106" t="2015-08-23 06:53:41 nblumoe Hey, I am dabbling in core.logic. Playing with some naive ideas like the following, which shows some weird behavior (see the indicated return values from the solver):"><a href="#t1440312821000106" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-08-23</span> <span class="t" onclick="H(this)">06:53:41</span>          nblumoe </span><span>Hey, I am dabbling in core.logic. Playing with some naive ideas like the following, which shows some weird behavior (see the indicated return values from the solver):</span></div><div id="t1440312825000107" t="2015-08-23 06:53:45 nblumoe (defn sub-string? [s sub]
  (boolean (re-find (re-pattern sub) s)))

(sub-string? &quot;123&quot; &quot;3&quot;)
;=&gt; true

(sub-string? &quot;123&quot; &quot;4&quot;)
;=&gt; false

(l/run* [q]
  (l/membero q (range 200 1000 12))
  (l/== (sub-string? (str q) &quot;9&quot;) true))
; randomly (?) returns either () or all the matches from the first logical
; expression, ignoring the second one
"><a href="#t1440312825000107" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-08-23</span> <span class="t" onclick="H(this)">06:53:45</span>          nblumoe </span><pre>(defn sub-string? [s sub]
  (boolean (re-find (re-pattern sub) s)))

(sub-string? &quot;123&quot; &quot;3&quot;)
;=&gt; true

(sub-string? &quot;123&quot; &quot;4&quot;)
;=&gt; false

(l/run* [q]
  (l/membero q (range 200 1000 12))
  (l/== (sub-string? (str q) &quot;9&quot;) true))
; randomly (?) returns either () or all the matches from the first logical
; expression, ignoring the second one
</pre></div><div id="t1440313021000111" t="2015-08-23 06:57:01 nblumoe I guess I am doing something wrong with using a regular function in the logical expression. but how would I make such a thing work?"><a href="#t1440313021000111" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-08-23</span> <span class="t" onclick="H(this)">06:57:01</span>          nblumoe </span><span>I guess I am doing something wrong with using a regular function in the logical expression. but how would I make such a thing work?</span></div><div id="t1440328621000114" t="2015-08-23 11:17:01 nblumoe The string representation of  q  is probably not representing it&apos;s value. But how to check for  q &apos;s value then?"><a href="#t1440328621000114" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-08-23</span> <span class="t" onclick="H(this)">11:17:01</span>          nblumoe </span><span>The string representation of </span><code>q</code><span> is probably not representing it&apos;s value. But how to check for </span><code>q</code><span>&apos;s value then?</span></div><div id="t1440330911000116" t="2015-08-23 11:55:11 nberger q  is an lvar. You could use  pred  to &quot; Check a predicate against the value logic var.&quot;"><a href="#t1440330911000116" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-08-23</span> <span class="t" onclick="H(this)">11:55:11</span>          nberger </span><code>q</code><span> is an lvar. You could use </span><code>pred</code><span> to &quot; Check a predicate against the value logic var.&quot;</span></div><div id="t1440330990000117" t="2015-08-23 11:56:30 nberger https://clojure.github.io/core.logic/#clojure.core.logic/pred"><a href="#t1440330990000117" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-08-23</span> <span class="t" onclick="H(this)">11:56:30</span>          nberger </span><a href="https://clojure.github.io/core.logic/#clojure.core.logic/pred" target="_blank">https://clojure.github.io/core.logic/#clojure.core.logic/pred</a></div><div id="t1440343075000118" t="2015-08-23 15:17:55 nblumoe hm, thanks @nberger. this seemed to be pointing in the right direction. I could not make it work with  (str q)  but at least with comparing  q  as an int like  #(= % 224) . However, I made an odd observation. Why is the result dependent on the order of logical expressions in these two cases:"><a href="#t1440343075000118" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-08-23</span> <span class="t" onclick="H(this)">15:17:55</span>          nblumoe </span><span>hm, thanks @nberger. this seemed to be pointing in the right direction. I could not make it work with </span><code>(str q)</code><span> but at least with comparing </span><code>q</code><span> as an int like </span><code>#(= % 224)</code><span>. However, I made an odd observation. Why is the result dependent on the order of logical expressions in these two cases:</span></div><div id="t1440343086000119" t="2015-08-23 15:18:06 nblumoe (l/run* [q]
  (l/project [q] (l/== q 224))
  (l/pred q #(=  % 224))
  (l/membero q (range 200 1000 12)))
; =&gt; (224)

(l/run* [q]
  (l/pred q #(=  % 224))
  (l/project [q] (l/== q 224))
  (l/membero q (range 200 1000 12)))
; =&gt; ()
"><a href="#t1440343086000119" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-08-23</span> <span class="t" onclick="H(this)">15:18:06</span>          nblumoe </span><pre>(l/run* [q]
  (l/project [q] (l/== q 224))
  (l/pred q #(=  % 224))
  (l/membero q (range 200 1000 12)))
; =&gt; (224)

(l/run* [q]
  (l/pred q #(=  % 224))
  (l/project [q] (l/== q 224))
  (l/membero q (range 200 1000 12)))
; =&gt; ()
</pre></div><div id="t1440343103000120" t="2015-08-23 15:18:23 nblumoe Is that expected?? &lt;!channel&gt;"><a href="#t1440343103000120" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-08-23</span> <span class="t" onclick="H(this)">15:18:23</span>          nblumoe </span><span>Is that expected?? &lt;!channel&gt;</span></div><div id="t1440344109000123" t="2015-08-23 15:35:09 bhagany @nblumoe: I am a complete noob at this, so this will likely get corrected, but - I think your anonymous function assumes that q is ground. Here, == grounds q before the anonymous function in example 1, but not in example 2. "><a href="#t1440344109000123" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-08-23</span> <span class="t" onclick="H(this)">15:35:09</span>          bhagany </span><span>@nblumoe: I am a complete noob at this, so this will likely get corrected, but - I think your anonymous function assumes that q is ground. Here, == grounds q before the anonymous function in example 1, but not in example 2. </span></div><div id="t1440344215000124" t="2015-08-23 15:36:55 bhagany iirc, the order dependence is kind of an implementation detail, but it does leak in cases like this. "><a href="#t1440344215000124" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-08-23</span> <span class="t" onclick="H(this)">15:36:55</span>          bhagany </span><span>iirc, the order dependence is kind of an implementation detail, but it does leak in cases like this. </span></div><div id="t1440344722000125" t="2015-08-23 15:45:22 nblumoe cool, thanks @bhagany. was able to get my initial idea working now:
 (l/run* [q]
  (l/membero q (range 200 1000 12))
  (l/pred q #(sub-string? (str %) &quot;9&quot;)))
"><a href="#t1440344722000125" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-08-23</span> <span class="t" onclick="H(this)">15:45:22</span>          nblumoe </span><span>cool, thanks @bhagany. was able to get my initial idea working now:
</span><pre>(l/run* [q]
  (l/membero q (range 200 1000 12))
  (l/pred q #(sub-string? (str %) &quot;9&quot;)))
</pre></div><div id="t1440344815000126" t="2015-08-23 15:46:55 nblumoe Is there some kind of idiomatic way to  make this order dependence explicit? Or is it just an issue for me because of my dangerous lack of knowledge about logic programming?  😄"><a href="#t1440344815000126" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-08-23</span> <span class="t" onclick="H(this)">15:46:55</span>          nblumoe </span><span>Is there some kind of idiomatic way to  make this order dependence explicit? Or is it just an issue for me because of my dangerous lack of knowledge about logic programming? </span><b>😄</b></div><div id="t1440346077000127" t="2015-08-23 16:07:57 bhagany @nblumoe: I&apos;m not aware of any idiom ... My instinct is to avoid things that depend on order, but I also haven&apos;t really internalized the kind of thinking necessary for logic programs :)"><a href="#t1440346077000127" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-08-23</span> <span class="t" onclick="H(this)">16:07:57</span>          bhagany </span><span>@nblumoe: I&apos;m not aware of any idiom ... My instinct is to avoid things that depend on order, but I also haven&apos;t really internalized the kind of thinking necessary for logic programs :)</span></div><div id="t1440346115000128" t="2015-08-23 16:08:35 bhagany I just hang out here hoping to absorb useful things "><a href="#t1440346115000128" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-08-23</span> <span class="t" onclick="H(this)">16:08:35</span>          bhagany </span><span>I just hang out here hoping to absorb useful things </span></div><div id="t1440348513000129" t="2015-08-23 16:48:33 nberger Yeah, many things depend on order... There&apos;s not much to do about that except knowing the exact semantics of each constraint, which is not trivial if your name isn&apos;t David :P"><a href="#t1440348513000129" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-08-23</span> <span class="t" onclick="H(this)">16:48:33</span>          nberger </span><span>Yeah, many things depend on order... There&apos;s not much to do about that except knowing the exact semantics of each constraint, which is not trivial if your name isn&apos;t David :P</span></div><div id="t1440348608000130" t="2015-08-23 16:50:08 nberger I now found that  predc  might be better than  pred  because it will delay evaluation if the var is not ground, like in the second of your two examples"><a href="#t1440348608000130" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-08-23</span> <span class="t" onclick="H(this)">16:50:08</span>          nberger </span><span>I now found that </span><code>predc</code><span> might be better than </span><code>pred</code><span> because it will delay evaluation if the var is not ground, like in the second of your two examples</span></div><div id="t1440348642000131" t="2015-08-23 16:50:42 nberger Haven&apos;t tried it tho because I&apos;m not close to a computer now"><a href="#t1440348642000131" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-08-23</span> <span class="t" onclick="H(this)">16:50:42</span>          nberger </span><span>Haven&apos;t tried it tho because I&apos;m not close to a computer now</span></div><div id="t1440348685000132" t="2015-08-23 16:51:25 nberger ^^^ @nblumoe"><a href="#t1440348685000132" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-08-23</span> <span class="t" onclick="H(this)">16:51:25</span>          nberger </span><span>^^^ @nblumoe</span></div><div id="t1440348939000133" t="2015-08-23 16:55:39 nberger The problem in the second example is that q is not ground yet, so it&apos;s an  lvar  when the predicate is evaluated... And an lvar is never equal to  224 . In the first example it was already unified with  224  on the first constraint, so by the time of the second constraint it&apos;s grounded to  224 , which is course is equal to  224  :)"><a href="#t1440348939000133" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-08-23</span> <span class="t" onclick="H(this)">16:55:39</span>          nberger </span><span>The problem in the second example is that q is not ground yet, so it&apos;s an </span><code>lvar</code><span> when the predicate is evaluated... And an lvar is never equal to </span><code>224</code><span>. In the first example it was already unified with </span><code>224</code><span> on the first constraint, so by the time of the second constraint it&apos;s grounded to </span><code>224</code><span>, which is course is equal to </span><code>224</code><span> :)</span></div><div id="t1440349042000135" t="2015-08-23 16:57:22 nberger Perhaps I just said the same as @bhagany did, but using more words :/"><a href="#t1440349042000135" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-08-23</span> <span class="t" onclick="H(this)">16:57:22</span>          nberger </span><span>Perhaps I just said the same as @bhagany did, but using more words :/</span></div><div id="t1440349676000136" t="2015-08-23 17:07:56 nblumoe (l/run 3 [q]
  (l/predc q #(boolean (re-find #&quot;9&quot; (str %))))
  (l/membero q (range 200 1000 12)))
; =&gt; (296 392 596)
 
 :+1:"><a href="#t1440349676000136" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-08-23</span> <span class="t" onclick="H(this)">17:07:56</span>          nblumoe </span><pre>(l/run 3 [q]
  (l/predc q #(boolean (re-find #&quot;9&quot; (str %))))
  (l/membero q (range 200 1000 12)))
; =&gt; (296 392 596)
</pre><span>
</span><b>:+1:</b></div><div id="t1440351083000137" t="2015-08-23 17:31:23 nberger Cool  simple_smile"><a href="#t1440351083000137" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-08-23</span> <span class="t" onclick="H(this)">17:31:23</span>          nberger </span><span>Cool </span><b>simple_smile</b></div><div id="t1440375207000138" t="2015-08-24 00:13:27 dmich @nblumoe: It is VERY bad etiquette to use  (AT)channel. Everyone in channel gets notified!"><a href="#t1440375207000138" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-08-24</span> <span class="t" onclick="H(this)">00:13:27</span>            dmich </span><span>@nblumoe: It is VERY bad etiquette to use  (AT)channel. Everyone in channel gets notified!</span></div><div id="t1440375216000139" t="2015-08-24 00:13:36 dmich very annoying"><a href="#t1440375216000139" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-08-24</span> <span class="t" onclick="H(this)">00:13:36</span>            dmich </span><span>very annoying</span></div><div id="t1440412798000141" t="2015-08-24 10:39:58 nblumoe yes you are right @dmich, sorry. it&apos;s just annoying that we run into the 10k message limit so quickly. so if no one reads it on time, it&apos;s lost. also I think who does not want to be pinged would disable it. but to be sure: I fully understand, won&apos;t ping the channel anymore"><a href="#t1440412798000141" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-08-24</span> <span class="t" onclick="H(this)">10:39:58</span>          nblumoe </span><span>yes you are right @dmich, sorry. it&apos;s just annoying that we run into the 10k message limit so quickly. so if no one reads it on time, it&apos;s lost. also I think who does not want to be pinged would disable it. but to be sure: I fully understand, won&apos;t ping the channel anymore</span></div><div id="t1440412908000142" t="2015-08-24 10:41:48 nblumoe I do have another question though. how can I simplify the following small logic program?
 (def talents
  [{:email &quot; 
The logic seems to be right, I want to get all talents, that have at least one application with status  :active . But the usage of  project  is quite verbose. Is there a way to make this whole thing more concise?"><a href="#t1440412908000142" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-08-24</span> <span class="t" onclick="H(this)">10:41:48</span>          nblumoe </span><span>I do have another question though. how can I simplify the following small logic program?
</span><pre>(def talents
  [{:email &quot;</pre><span>
The logic seems to be right, I want to get all talents, that have at least one application with status </span><code>:active</code><span>. But the usage of </span><code>project</code><span> is quite verbose. Is there a way to make this whole thing more concise?</span></div><div id="t1440413248000143" t="2015-08-24 10:47:28 nblumoe Okay, I got this now. Already a bit better:
 (defn active-talents
  [talents]
  (l/run* [q]
    (l/fresh [candidate candidates application applications]
      (l/membero q talents)
      (l/featurec q {:candidates candidates})
      (l/membero candidate candidates)
      (l/featurec candidate {:applications applications})
      (l/membero application applications)
      (l/featurec application {:status :active}))))
"><a href="#t1440413248000143" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-08-24</span> <span class="t" onclick="H(this)">10:47:28</span>          nblumoe </span><span>Okay, I got this now. Already a bit better:
</span><pre>(defn active-talents
  [talents]
  (l/run* [q]
    (l/fresh [candidate candidates application applications]
      (l/membero q talents)
      (l/featurec q {:candidates candidates})
      (l/membero candidate candidates)
      (l/featurec candidate {:applications applications})
      (l/membero application applications)
      (l/featurec application {:status :active}))))
</pre></div><div id="t1440413255000144" t="2015-08-24 10:47:35 dmich @nblumoe: There are actually logs for this entire Slack team. See  http://clojurians-log.mantike.pro/"><a href="#t1440413255000144" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-08-24</span> <span class="t" onclick="H(this)">10:47:35</span>            dmich </span><span>@nblumoe: There are actually logs for this entire Slack team. See </span><a href="http://clojurians-log.mantike.pro/" target="_blank">http://clojurians-log.mantike.pro/</a></div><div id="t1440413275000145" t="2015-08-24 10:47:55 dmich (Though I don&apos;t know how many people bother to read the back logs)"><a href="#t1440413275000145" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-08-24</span> <span class="t" onclick="H(this)">10:47:55</span>            dmich </span><span>(Though I don&apos;t know how many people bother to read the back logs)</span></div><div id="t1440413310000146" t="2015-08-24 10:48:30 nblumoe @dmich, true. But I would assume no one goes to the logs to check if there were any missed questions, but only if one already knows that there is something on the logs one would like to pick up."><a href="#t1440413310000146" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-08-24</span> <span class="t" onclick="H(this)">10:48:30</span>          nblumoe </span><span>@dmich, true. But I would assume no one goes to the logs to check if there were any missed questions, but only if one already knows that there is something on the logs one would like to pick up.</span></div><div id="t1440413522000147" t="2015-08-24 10:52:02 dmich Also, some people (not me), are set up to have a text message sent to their phone when notified in a Slack channel. And on more popular channels you can really see the hate that is invoked when someone abuses the  here  command let alone the  channel  command  😛"><a href="#t1440413522000147" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-08-24</span> <span class="t" onclick="H(this)">10:52:02</span>            dmich </span><span>Also, some people (not me), are set up to have a text message sent to their phone when notified in a Slack channel. And on more popular channels you can really see the hate that is invoked when someone abuses the </span><code>here</code><span> command let alone the </span><code>channel</code><span> command </span><b>😛</b></div><div id="t1440413552000148" t="2015-08-24 10:52:32 dmich So best practice is, if you don&apos;t eventually get an answer, ask again."><a href="#t1440413552000148" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-08-24</span> <span class="t" onclick="H(this)">10:52:32</span>            dmich </span><span>So best practice is, if you don&apos;t eventually get an answer, ask again.</span></div><div id="t1440413686000149" t="2015-08-24 10:54:46 nblumoe yeah, yeah. I know. It&apos;s an recurring issue with the notifications. I am good in ignoring selectively, but I understand others like to use this differently. I think flowdock&apos;s (at)team mentions are a good idea. As I would never expect anything urgent to happen on the Clojurians slack channels (like &quot;WTF, were did production go?&quot;) I don&apos;t see a need for this here though. But anyways, sorry again and back to topic. Maybe you have an idea about my too verbose code above?  simple_smile"><a href="#t1440413686000149" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-08-24</span> <span class="t" onclick="H(this)">10:54:46</span>          nblumoe </span><span>yeah, yeah. I know. It&apos;s an recurring issue with the notifications. I am good in ignoring selectively, but I understand others like to use this differently. I think flowdock&apos;s (at)team mentions are a good idea. As I would never expect anything urgent to happen on the Clojurians slack channels (like &quot;WTF, were did production go?&quot;) I don&apos;t see a need for this here though. But anyways, sorry again and back to topic. Maybe you have an idea about my too verbose code above? </span><b>simple_smile</b></div><div id="t1440413908000150" t="2015-08-24 10:58:28 dmich Haha. sorry."><a href="#t1440413908000150" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-08-24</span> <span class="t" onclick="H(this)">10:58:28</span>            dmich </span><span>Haha. sorry.</span></div><div id="t1440413922000151" t="2015-08-24 10:58:42 dmich I am in this channel just to see what core-logic is all about."><a href="#t1440413922000151" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-08-24</span> <span class="t" onclick="H(this)">10:58:42</span>            dmich </span><span>I am in this channel just to see what core-logic is all about.</span></div><div id="t1440413935000152" t="2015-08-24 10:58:55 dmich You might have more luck in #C03S1KBA2 channel."><a href="#t1440413935000152" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-08-24</span> <span class="t" onclick="H(this)">10:58:55</span>            dmich </span><span>You might have more luck in #C03S1KBA2 channel.</span></div><div id="t1440413944000153" t="2015-08-24 10:59:04 dmich Also the Clojure IRC channel is VERY active"><a href="#t1440413944000153" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-08-24</span> <span class="t" onclick="H(this)">10:59:04</span>            dmich </span><span>Also the Clojure IRC channel is VERY active</span></div><div id="t1440413965000154" t="2015-08-24 10:59:25 dmich moreso than the slack channel"><a href="#t1440413965000154" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-08-24</span> <span class="t" onclick="H(this)">10:59:25</span>            dmich </span><span>moreso than the slack channel</span></div><div id="t1440413995000155" t="2015-08-24 10:59:55 dmich There have only been very few messages in this channel"><a href="#t1440413995000155" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-08-24</span> <span class="t" onclick="H(this)">10:59:55</span>            dmich </span><span>There have only been very few messages in this channel</span></div><div id="t1440414089000157" t="2015-08-24 11:01:29 dmich Yours was like only the second one this month"><a href="#t1440414089000157" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-08-24</span> <span class="t" onclick="H(this)">11:01:29</span>            dmich </span><span>Yours was like only the second one this month</span></div><div id="t1444252325000003" t="2015-10-07 21:12:05 jetzajac Hello everyone! Does anybody know if there is any constraint on type of the value? How can I assert that something is a symbol or number? miniKanren has such symbolo and numbero constraint but I can&apos;t find them in CL."><a href="#t1444252325000003" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-10-07</span> <span class="t" onclick="H(this)">21:12:05</span>         jetzajac </span><span>Hello everyone! Does anybody know if there is any constraint on type of the value? How can I assert that something is a symbol or number? miniKanren has such symbolo and numbero constraint but I can&apos;t find them in CL.</span></div><div id="t1444738654000008" t="2015-10-13 12:17:34 algernon @jetzajac:  (project) can help: user=&gt; (run* [q] (conde [(== q 1)] [(== q &quot;foobar&quot;)]) (project [q] (== (type q) Long)))
(1)"><a href="#t1444738654000008" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-10-13</span> <span class="t" onclick="H(this)">12:17:34</span>         algernon </span><span>@jetzajac:  (project) can help: user=&gt; (run* [q] (conde [(== q 1)] [(== q &quot;foobar&quot;)]) (project [q] (== (type q) Long)))
(1)</span></div><div id="t1444738670000009" t="2015-10-13 12:17:50 algernon mind you, project is non-relational"><a href="#t1444738670000009" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-10-13</span> <span class="t" onclick="H(this)">12:17:50</span>         algernon </span><span>mind you, project is non-relational</span></div><div id="t1444738715000010" t="2015-10-13 12:18:35 jetzajac yeah, that&apos;s kind of solution but I need a relational version of it if I want to write some interpreter."><a href="#t1444738715000010" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-10-13</span> <span class="t" onclick="H(this)">12:18:35</span>         jetzajac </span><span>yeah, that&apos;s kind of solution but I need a relational version of it if I want to write some interpreter.</span></div><div id="t1444738772000012" t="2015-10-13 12:19:32 jetzajac Actually I found @dnolen  version of it here  https://github.com/webyrd/symbolo-numbero-tests-for-core-logic/blob/master/symbolo/src/symbolo/core.clj"><a href="#t1444738772000012" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-10-13</span> <span class="t" onclick="H(this)">12:19:32</span>         jetzajac </span><span>Actually I found @dnolen  version of it here </span><a href="https://github.com/webyrd/symbolo-numbero-tests-for-core-logic/blob/master/symbolo/src/symbolo/core.clj" target="_blank">https://github.com/webyrd/symbolo-numbero-tests-for-core-logic/blob/master/symbolo/src/symbolo/core.clj</a></div><div id="t1444738839000015" t="2015-10-13 12:20:39 jetzajac Thus I&apos;m not sure why it&apos;s not in the library then"><a href="#t1444738839000015" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-10-13</span> <span class="t" onclick="H(this)">12:20:39</span>         jetzajac </span><span>Thus I&apos;m not sure why it&apos;s not in the library then</span></div><div id="t1445981888000018" t="2015-10-27 21:38:08 jeremyraines is there anywhere that explains core.logic pattern matching well?"><a href="#t1445981888000018" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-10-27</span> <span class="t" onclick="H(this)">21:38:08</span>     jeremyraines </span><span>is there anywhere that explains core.logic pattern matching well?</span></div><div id="t1445981908000019" t="2015-10-27 21:38:28 jeremyraines I can’t make sense of the zebras example here:  https://github.com/swannodette/logic-tutorial"><a href="#t1445981908000019" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-10-27</span> <span class="t" onclick="H(this)">21:38:28</span>     jeremyraines </span><span>I can’t make sense of the zebras example here: </span><a href="https://github.com/swannodette/logic-tutorial" target="_blank">https://github.com/swannodette/logic-tutorial</a></div><div id="t1445982438000021" t="2015-10-27 21:47:18 nberger @jeremyraines: Perhaps there&apos;s something better, but this might help:  http://objectcommando.com/blog/2011/10/13/appendo-the-great/"><a href="#t1445982438000021" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-10-27</span> <span class="t" onclick="H(this)">21:47:18</span>          nberger </span><span>@jeremyraines: Perhaps there&apos;s something better, but this might help: </span><a href="http://objectcommando.com/blog/2011/10/13/appendo-the-great/" target="_blank">http://objectcommando.com/blog/2011/10/13/appendo-the-great/</a></div><div id="t1445982603000023" t="2015-10-27 21:50:03 jeremyraines thanks, I’ll check it out"><a href="#t1445982603000023" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-10-27</span> <span class="t" onclick="H(this)">21:50:03</span>     jeremyraines </span><span>thanks, I’ll check it out</span></div><div id="t1445982765000024" t="2015-10-27 21:52:45 nberger @jeremyraines: just to be clear, it will help mostly in understanding  righto , not the rest"><a href="#t1445982765000024" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-10-27</span> <span class="t" onclick="H(this)">21:52:45</span>          nberger </span><span>@jeremyraines: just to be clear, it will help mostly in understanding </span><code>righto</code><span>, not the rest</span></div><div id="t1445982933000025" t="2015-10-27 21:55:33 jeremyraines ok, cool"><a href="#t1445982933000025" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-10-27</span> <span class="t" onclick="H(this)">21:55:33</span>     jeremyraines </span><span>ok, cool</span></div><div id="t1445983370000026" t="2015-10-27 22:02:50 jeremyraines are the ?-prefixed variables logic variables?  Like a named _ ?"><a href="#t1445983370000026" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-10-27</span> <span class="t" onclick="H(this)">22:02:50</span>     jeremyraines </span><span>are the ?-prefixed variables logic variables?  Like a named _ ?</span></div><div id="t1445983456000027" t="2015-10-27 22:04:16 nberger They are logic vars there, yes"><a href="#t1445983456000027" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-10-27</span> <span class="t" onclick="H(this)">22:04:16</span>          nberger </span><span>They are logic vars there, yes</span></div><div id="t1445983491000028" t="2015-10-27 22:04:51 nberger I think it&apos;s just a convention, and they would be vars even without the  ? , but not sure"><a href="#t1445983491000028" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-10-27</span> <span class="t" onclick="H(this)">22:04:51</span>          nberger </span><span>I think it&apos;s just a convention, and they would be vars even without the </span><code>?</code><span>, but not sure</span></div><div id="t1445983584000029" t="2015-10-27 22:06:24 jeremyraines oh, got it."><a href="#t1445983584000029" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-10-27</span> <span class="t" onclick="H(this)">22:06:24</span>     jeremyraines </span><span>oh, got it.</span></div><div id="t1446056843000036" t="2015-10-28 18:27:23 jeremyraines what’s the right way to iterate over a bunch of lvars and apply separate constraints to each of them?"><a href="#t1446056843000036" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-10-28</span> <span class="t" onclick="H(this)">18:27:23</span>     jeremyraines </span><span>what’s the right way to iterate over a bunch of lvars and apply separate constraints to each of them?</span></div><div id="t1446056891000037" t="2015-10-28 18:28:11 jeremyraines I’m trying this:   (map constrain-item  lvars  my-constraints)  with no luck"><a href="#t1446056891000037" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-10-28</span> <span class="t" onclick="H(this)">18:28:11</span>     jeremyraines </span><span>I’m trying this:  </span><code>(map constrain-item  lvars  my-constraints)</code><span> with no luck</span></div><div id="t1446057054000038" t="2015-10-28 18:30:54 jeremyraines separate goals, I should say"><a href="#t1446057054000038" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-10-28</span> <span class="t" onclick="H(this)">18:30:54</span>     jeremyraines </span><span>separate goals, I should say</span></div><div id="t1446057457000039" t="2015-10-28 18:37:37 jeremyraines looks like I just needed to pass the resulting list of goals to  and*"><a href="#t1446057457000039" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-10-28</span> <span class="t" onclick="H(this)">18:37:37</span>     jeremyraines </span><span>looks like I just needed to pass the resulting list of goals to </span><code>and*</code></div><div id="t1446564408000044" t="2015-11-03 15:26:48 thomas hi"><a href="#t1446564408000044" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-11-03</span> <span class="t" onclick="H(this)">15:26:48</span>           thomas </span><span>hi</span></div><div id="t1446564470000045" t="2015-11-03 15:27:50 thomas just a quick question... how actively is core.logic still developed these days.... the github repo seems to quiet."><a href="#t1446564470000045" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-11-03</span> <span class="t" onclick="H(this)">15:27:50</span>           thomas </span><span>just a quick question... how actively is core.logic still developed these days.... the github repo seems to quiet.</span></div><div id="t1446584669000046" t="2015-11-03 21:04:29 dnolen @thomas not very active, I’m too busy with ClojureScript stuff these days"><a href="#t1446584669000046" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-11-03</span> <span class="t" onclick="H(this)">21:04:29</span>           dnolen </span><span>@thomas not very active, I’m too busy with ClojureScript stuff these days</span></div><div id="t1446584684000047" t="2015-11-03 21:04:44 dnolen happy to see people take it up and push it along - I definitely have a massive list of todos"><a href="#t1446584684000047" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-11-03</span> <span class="t" onclick="H(this)">21:04:44</span>           dnolen </span><span>happy to see people take it up and push it along - I definitely have a massive list of todos</span></div><div id="t1446648099000049" t="2015-11-04 14:41:39 thomas @dnolen:  ok thank you for letting us know."><a href="#t1446648099000049" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-11-04</span> <span class="t" onclick="H(this)">14:41:39</span>           thomas </span><span>@dnolen:  ok thank you for letting us know.</span></div><div id="t1446648154000050" t="2015-11-04 14:42:34 dnolen that’s said what’s there works perfectly fine"><a href="#t1446648154000050" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-11-04</span> <span class="t" onclick="H(this)">14:42:34</span>           dnolen </span><span>that’s said what’s there works perfectly fine</span></div><div id="t1446648196000051" t="2015-11-04 14:43:16 dnolen esp. the core miniKanren bits"><a href="#t1446648196000051" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-11-04</span> <span class="t" onclick="H(this)">14:43:16</span>           dnolen </span><span>esp. the core miniKanren bits</span></div><div id="t1446649771000052" t="2015-11-04 15:09:31 thomas cheers"><a href="#t1446649771000052" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-11-04</span> <span class="t" onclick="H(this)">15:09:31</span>           thomas </span><span>cheers</span></div><div id="t1446654992000053" t="2015-11-04 16:36:32 jano @dnolen can you give a pointer to the todo list?"><a href="#t1446654992000053" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-11-04</span> <span class="t" onclick="H(this)">16:36:32</span>             jano </span><span>@dnolen can you give a pointer to the todo list?</span></div><div id="t1446657378000054" t="2015-11-04 17:16:18 dnolen fix up CLP(FD), port to ClojureScript"><a href="#t1446657378000054" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-11-04</span> <span class="t" onclick="H(this)">17:16:18</span>           dnolen </span><span>fix up CLP(FD), port to ClojureScript</span></div><div id="t1446657385000055" t="2015-11-04 17:16:25 dnolen that would be the immediate todos"><a href="#t1446657385000055" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-11-04</span> <span class="t" onclick="H(this)">17:16:25</span>           dnolen </span><span>that would be the immediate todos</span></div><div id="t1446657390000056" t="2015-11-04 17:16:30 dnolen ideally convert to .cljc"><a href="#t1446657390000056" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-11-04</span> <span class="t" onclick="H(this)">17:16:30</span>           dnolen </span><span>ideally convert to .cljc</span></div><div id="t1446657425000058" t="2015-11-04 17:17:05 dnolen after that would be to enhance CLP(FD) to be less naive"><a href="#t1446657425000058" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-11-04</span> <span class="t" onclick="H(this)">17:17:05</span>           dnolen </span><span>after that would be to enhance CLP(FD) to be less naive</span></div><div id="t1446657443000059" t="2015-11-04 17:17:23 dnolen we should implement the algorithms used by Mozart for CLP(FD)"><a href="#t1446657443000059" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-11-04</span> <span class="t" onclick="H(this)">17:17:23</span>           dnolen </span><span>we should implement the algorithms used by Mozart for CLP(FD)</span></div><div id="t1446657606000060" t="2015-11-04 17:20:06 dnolen environment trimming would also be another big one"><a href="#t1446657606000060" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-11-04</span> <span class="t" onclick="H(this)">17:20:06</span>           dnolen </span><span>environment trimming would also be another big one</span></div><div id="t1446657617000061" t="2015-11-04 17:20:17 dnolen then you could use core.logic for fun simple parsing tasks"><a href="#t1446657617000061" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2015-11-04</span> <span class="t" onclick="H(this)">17:20:17</span>           dnolen </span><span>then you could use core.logic for fun simple parsing tasks</span></div><div id="t1458941412000005" t="2016-03-25 21:30:12 lvh Is there some code that already exists that finds free (logic, although perhaps that doesn’t really matter) in a quoted logic program?"><a href="#t1458941412000005" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-03-25</span> <span class="t" onclick="H(this)">21:30:12</span>              lvh </span><span>Is there some code that already exists that finds free (logic, although perhaps that doesn’t really matter) in a quoted logic program?</span></div><div id="t1458941425000006" t="2016-03-25 21:30:25 lvh (I’m writing some code that generates logic programs.)"><a href="#t1458941425000006" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-03-25</span> <span class="t" onclick="H(this)">21:30:25</span>              lvh </span><span>(I’m writing some code that generates logic programs.)</span></div><div id="t1458944867000007" t="2016-03-25 22:27:47 hiredman that could be very challenging depending on how thorough you want it to be, have you considered including that information with the code you generate?"><a href="#t1458944867000007" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-03-25</span> <span class="t" onclick="H(this)">22:27:47</span>         hiredman </span><span>that could be very challenging depending on how thorough you want it to be, have you considered including that information with the code you generate?</span></div><div id="t1458944925000008" t="2016-03-25 22:28:45 hiredman for arbitrary core.logic programs I think you would need to analyze arbitrary clojure forms for free variables (which tools.analyzer may have something you can use)"><a href="#t1458944925000008" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-03-25</span> <span class="t" onclick="H(this)">22:28:45</span>         hiredman </span><span>for arbitrary core.logic programs I think you would need to analyze arbitrary clojure forms for free variables (which tools.analyzer may have something you can use)</span></div><div id="t1458945014000009" t="2016-03-25 22:30:14 hiredman but since you control the generator, it isn&apos;t really arbitrary core.logic programs, so you can restrict the generator to a subset and only analyze the subset, and once you are tinkering with the generator, it may be easier to sort of build that information up in the generated programs vs analyzing the generated programs to recover it"><a href="#t1458945014000009" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-03-25</span> <span class="t" onclick="H(this)">22:30:14</span>         hiredman </span><span>but since you control the generator, it isn&apos;t really arbitrary core.logic programs, so you can restrict the generator to a subset and only analyze the subset, and once you are tinkering with the generator, it may be easier to sort of build that information up in the generated programs vs analyzing the generated programs to recover it</span></div><div id="t1458945238000010" t="2016-03-25 22:33:58 lvh Yeah; that’s the problem I ran into trying to do this as well"><a href="#t1458945238000010" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-03-25</span> <span class="t" onclick="H(this)">22:33:58</span>              lvh </span><span>Yeah; that’s the problem I ran into trying to do this as well</span></div><div id="t1458945249000011" t="2016-03-25 22:34:09 lvh (the source query language is not core.logic; it compiles down to core.logic)"><a href="#t1458945249000011" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-03-25</span> <span class="t" onclick="H(this)">22:34:09</span>              lvh </span><span>(the source query language is not core.logic; it compiles down to core.logic)</span></div><div id="t1458945254000012" t="2016-03-25 22:34:14 lvh I ended up doing metadata annotation"><a href="#t1458945254000012" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-03-25</span> <span class="t" onclick="H(this)">22:34:14</span>              lvh </span><span>I ended up doing metadata annotation</span></div><div id="t1458945266000013" t="2016-03-25 22:34:26 lvh (see first hunks of  https://github.com/RackSec/desdemona/pull/111/files  if you’re interested)"><a href="#t1458945266000013" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-03-25</span> <span class="t" onclick="H(this)">22:34:26</span>              lvh </span><span>(see first hunks of </span><a href="https://github.com/RackSec/desdemona/pull/111/files" target="_blank">https://github.com/RackSec/desdemona/pull/111/files</a><span> if you’re interested)</span></div><div id="t1458945435000015" t="2016-03-25 22:37:15 hiredman so it sounds like you have a source language, do a pass over that to turn it in to core.logic, then want to recover the free variable information from the core.logic program. I think the classic thing to do (compiler wise) would be to get that information in an analysis pass over the source language before compilation"><a href="#t1458945435000015" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-03-25</span> <span class="t" onclick="H(this)">22:37:15</span>         hiredman </span><span>so it sounds like you have a source language, do a pass over that to turn it in to core.logic, then want to recover the free variable information from the core.logic program. I think the classic thing to do (compiler wise) would be to get that information in an analysis pass over the source language before compilation</span></div><div id="t1458945470000016" t="2016-03-25 22:37:50 lvh hiredman: Yup. That’s exactly what I did  simple_smile"><a href="#t1458945470000016" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-03-25</span> <span class="t" onclick="H(this)">22:37:50</span>              lvh </span><span>hiredman: Yup. That’s exactly what I did </span><b>simple_smile</b></div><div id="t1458945490000017" t="2016-03-25 22:38:10 lvh hiredman: I was hoping to do it in a completely disjoint step so that the intermediary step doesn’t have to understand what a free variable is"><a href="#t1458945490000017" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-03-25</span> <span class="t" onclick="H(this)">22:38:10</span>              lvh </span><span>hiredman: I was hoping to do it in a completely disjoint step so that the intermediary step doesn’t have to understand what a free variable is</span></div><div id="t1458945498000018" t="2016-03-25 22:38:18 lvh but as you pointed out that way lies madness"><a href="#t1458945498000018" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-03-25</span> <span class="t" onclick="H(this)">22:38:18</span>              lvh </span><span>but as you pointed out that way lies madness</span></div><div id="t1458945581000019" t="2016-03-25 22:39:41 lvh (there’s one extra step: the source language is infix)"><a href="#t1458945581000019" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-03-25</span> <span class="t" onclick="H(this)">22:39:41</span>              lvh </span><span>(there’s one extra step: the source language is infix)</span></div><div id="t1459109359000020" t="2016-03-27 20:09:19 exupero How should I do math with core.logic in ClojureScript without clojure.core.logic.fd?"><a href="#t1459109359000020" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-03-27</span> <span class="t" onclick="H(this)">20:09:19</span>          exupero </span><span>How should I do math with core.logic in ClojureScript without clojure.core.logic.fd?</span></div><div id="t1459109375000021" t="2016-03-27 20:09:35 exupero At the moment all I need is addition."><a href="#t1459109375000021" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-03-27</span> <span class="t" onclick="H(this)">20:09:35</span>          exupero </span><span>At the moment all I need is addition.</span></div><div id="t1459111430000022" t="2016-03-27 20:43:50 hiredman it sort of depends, if the variables are ground , you can use project"><a href="#t1459111430000022" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-03-27</span> <span class="t" onclick="H(this)">20:43:50</span>         hiredman </span><span>it sort of depends, if the variables are ground , you can use project</span></div><div id="t1459112619000023" t="2016-03-27 21:03:39 exupero @hiredman: Thanks for the pointer, but I don’t understand what that means. Can you elaborate or point me somewhere that talks about that?"><a href="#t1459112619000023" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-03-27</span> <span class="t" onclick="H(this)">21:03:39</span>          exupero </span><span>@hiredman: Thanks for the pointer, but I don’t understand what that means. Can you elaborate or point me somewhere that talks about that?</span></div><div id="t1459113396000024" t="2016-03-27 21:16:36 hiredman project is a non-relational thing, because it depends on the order in which your logic program executes, and what it does is, give a logic variable, if by the time the project executes the logic program has already figured out the value of that logic variable, it gives you that value"><a href="#t1459113396000024" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-03-27</span> <span class="t" onclick="H(this)">21:16:36</span>         hiredman </span><span>project is a non-relational thing, because it depends on the order in which your logic program executes, and what it does is, give a logic variable, if by the time the project executes the logic program has already figured out the value of that logic variable, it gives you that value</span></div><div id="t1459113522000025" t="2016-03-27 21:18:42 hiredman so something like  (run [q] (fresh [a] (== a 1) (project [a] (== q (inc a))))  will work (I forget the syntax for project)"><a href="#t1459113522000025" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-03-27</span> <span class="t" onclick="H(this)">21:18:42</span>         hiredman </span><span>so something like </span><pre>(run [q] (fresh [a] (== a 1) (project [a] (== q (inc a))))</pre><span> will work (I forget the syntax for project)</span></div><div id="t1459113555000026" t="2016-03-27 21:19:15 hiredman (run [q] (fresh [a]  (project [a] (== q (inc a))) (= a 1)))  will not"><a href="#t1459113555000026" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-03-27</span> <span class="t" onclick="H(this)">21:19:15</span>         hiredman </span><pre>(run [q] (fresh [a]  (project [a] (== q (inc a))) (= a 1)))</pre><span> will not</span></div><div id="t1459113695000027" t="2016-03-27 21:21:35 hiredman err that should be &apos;(== a 1)&apos; at the end"><a href="#t1459113695000027" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-03-27</span> <span class="t" onclick="H(this)">21:21:35</span>         hiredman </span><span>err that should be &apos;(== a 1)&apos; at the end</span></div><div id="t1459115285000028" t="2016-03-27 21:48:05 exupero Thanks. I’ll play with that."><a href="#t1459115285000028" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-03-27</span> <span class="t" onclick="H(this)">21:48:05</span>          exupero </span><span>Thanks. I’ll play with that.</span></div><div id="t1459116223000029" t="2016-03-27 22:03:43 exupero Perfect. Thanks!"><a href="#t1459116223000029" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-03-27</span> <span class="t" onclick="H(this)">22:03:43</span>          exupero </span><span>Perfect. Thanks!</span></div><div id="t1459886928000032" t="2016-04-05 20:08:48 josh.freckleton what are some real-world use cases for logical programming?"><a href="#t1459886928000032" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-04-05</span> <span class="t" onclick="H(this)">20:08:48</span>  josh.freckleton </span><span>what are some real-world use cases for logical programming?</span></div><div id="t1459887254000033" t="2016-04-05 20:14:14 hiredman threatgrid was(is? but they were acquired by cisco a while back) using core.logic for, uh, I guess threat recognition, they actually contributed the pldb fact database thing to core.logic"><a href="#t1459887254000033" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-04-05</span> <span class="t" onclick="H(this)">20:14:14</span>         hiredman </span><span>threatgrid was(is? but they were acquired by cisco a while back) using core.logic for, uh, I guess threat recognition, they actually contributed the pldb fact database thing to core.logic</span></div><div id="t1459887350000034" t="2016-04-05 20:15:50 hiredman I think rackspace is actually planning on something similar (also using core.logic)"><a href="#t1459887350000034" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-04-05</span> <span class="t" onclick="H(this)">20:15:50</span>         hiredman </span><span>I think rackspace is actually planning on something similar (also using core.logic)</span></div><div id="t1459887365000035" t="2016-04-05 20:16:05 hiredman https://github.com/RackSec/desdemona"><a href="#t1459887365000035" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-04-05</span> <span class="t" onclick="H(this)">20:16:05</span>         hiredman </span><a href="https://github.com/RackSec/desdemona" target="_blank">https://github.com/RackSec/desdemona</a></div><div id="t1459887498000037" t="2016-04-05 20:18:18 hiredman I&apos;ve actually never ended up using core.logic at work, but since I have spent a little time with core.logic, and implemented minikanren, a lot of the ideas around searching and generating and unification have ended up popping up in stuff I do"><a href="#t1459887498000037" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-04-05</span> <span class="t" onclick="H(this)">20:18:18</span>         hiredman </span><span>I&apos;ve actually never ended up using core.logic at work, but since I have spent a little time with core.logic, and implemented minikanren, a lot of the ideas around searching and generating and unification have ended up popping up in stuff I do</span></div><div id="t1459887821000038" t="2016-04-05 20:23:41 josh.freckleton @hiredman: woh cool! I&apos;m trying to get a feel of whether or not it&apos;s worth investing the time to learn logical programming in clj. Are there generic classes of problems that solve well in logical programming?"><a href="#t1459887821000038" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-04-05</span> <span class="t" onclick="H(this)">20:23:41</span>  josh.freckleton </span><span>@hiredman: woh cool! I&apos;m trying to get a feel of whether or not it&apos;s worth investing the time to learn logical programming in clj. Are there generic classes of problems that solve well in logical programming?</span></div><div id="t1459888118000039" t="2016-04-05 20:28:38 hiredman well, so I think desdemona and threatgrid&apos;s use most likely look sort of like an expert system or rules engine"><a href="#t1459888118000039" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-04-05</span> <span class="t" onclick="H(this)">20:28:38</span>         hiredman </span><span>well, so I think desdemona and threatgrid&apos;s use most likely look sort of like an expert system or rules engine</span></div><div id="t1459888250000040" t="2016-04-05 20:30:50 hiredman I like to try and use it to figure out my inlaws secrete santa every year"><a href="#t1459888250000040" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-04-05</span> <span class="t" onclick="H(this)">20:30:50</span>         hiredman </span><span>I like to try and use it to figure out my inlaws secrete santa every year</span></div><div id="t1459888296000041" t="2016-04-05 20:31:36 hiredman they set certain rules on the exchange about couples not getting each other in the exchange, that sort of thing"><a href="#t1459888296000041" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-04-05</span> <span class="t" onclick="H(this)">20:31:36</span>         hiredman </span><span>they set certain rules on the exchange about couples not getting each other in the exchange, that sort of thing</span></div><div id="t1459888392000042" t="2016-04-05 20:33:12 hiredman so I write a core.logic program that takes in to account those rules, and generates all possible gifting pairs, and then I observe and try to find out more facts and add them to the program until it gets down to one possible set"><a href="#t1459888392000042" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-04-05</span> <span class="t" onclick="H(this)">20:33:12</span>         hiredman </span><span>so I write a core.logic program that takes in to account those rules, and generates all possible gifting pairs, and then I observe and try to find out more facts and add them to the program until it gets down to one possible set</span></div><div id="t1459888417000043" t="2016-04-05 20:33:37 hiredman it rarely goes well, they practice good opsec"><a href="#t1459888417000043" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-04-05</span> <span class="t" onclick="H(this)">20:33:37</span>         hiredman </span><span>it rarely goes well, they practice good opsec</span></div><div id="t1459888585000045" t="2016-04-05 20:36:25 josh.freckleton hahaha! that&apos;s awesome. so expert systems, rules engines, got it. I&apos;ll at least learn it for fun  simple_smile"><a href="#t1459888585000045" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-04-05</span> <span class="t" onclick="H(this)">20:36:25</span>  josh.freckleton </span><span>hahaha! that&apos;s awesome. so expert systems, rules engines, got it. I&apos;ll at least learn it for fun </span><b>simple_smile</b></div><div id="t1459889220000046" t="2016-04-05 20:47:00 hiredman I started woodworking as a hobby and ended up using core.logic figure out dimensions for a workbench,  https://gist.github.com/hiredman/05befd5b39eef89b86ca  (I don&apos;t recommend this workbench btw)"><a href="#t1459889220000046" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-04-05</span> <span class="t" onclick="H(this)">20:47:00</span>         hiredman </span><span>I started woodworking as a hobby and ended up using core.logic figure out dimensions for a workbench, </span><a href="https://gist.github.com/hiredman/05befd5b39eef89b86ca" target="_blank">https://gist.github.com/hiredman/05befd5b39eef89b86ca</a><span> (I don&apos;t recommend this workbench btw)</span></div><div id="t1459889632000047" t="2016-04-05 20:53:52 josh.freckleton @hiredman: huh, that&apos;s kind of awesome. So you give it constraints on what the table should look like, and it figures out the dimensions of all of the pieces of wood?"><a href="#t1459889632000047" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-04-05</span> <span class="t" onclick="H(this)">20:53:52</span>  josh.freckleton </span><span>@hiredman: huh, that&apos;s kind of awesome. So you give it constraints on what the table should look like, and it figures out the dimensions of all of the pieces of wood?</span></div><div id="t1459889742000048" t="2016-04-05 20:55:42 hiredman yeah"><a href="#t1459889742000048" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-04-05</span> <span class="t" onclick="H(this)">20:55:42</span>         hiredman </span><span>yeah</span></div><div id="t1459890828000049" t="2016-04-05 21:13:48 josh.freckleton @hiredman: why do you not recommend it?"><a href="#t1459890828000049" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-04-05</span> <span class="t" onclick="H(this)">21:13:48</span>  josh.freckleton </span><span>@hiredman: why do you not recommend it?</span></div><div id="t1459891685000050" t="2016-04-05 21:28:05 hiredman it is basically a really heavy table, which is maybe 80% of want you want from a handtool woodworking bench, but the 20%, the work holding, is kind of clutch. It is also on the small side (I was living in an apartment when I came up the dimensions).  I have been contemplating building what people are calling a knockdown nicholson for a while now"><a href="#t1459891685000050" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-04-05</span> <span class="t" onclick="H(this)">21:28:05</span>         hiredman </span><span>it is basically a really heavy table, which is maybe 80% of want you want from a handtool woodworking bench, but the 20%, the work holding, is kind of clutch. It is also on the small side (I was living in an apartment when I came up the dimensions).  I have been contemplating building what people are calling a knockdown nicholson for a while now</span></div><div id="t1459892635000051" t="2016-04-05 21:43:55 josh.freckleton @hiredman: that looks awesome! I built a guitar from scratch a few years ago, and I&apos;ve been craving getting back into wood working. Using code for wood projects is a cool junction  simple_smile 

Hey, can I ask a simple question? I&apos;m going through some prolog &quot;puzzles&quot; to learn  core.logic  and I can&apos;t solve the first one, I just don&apos;t get how to &quot;destructure&quot; variable length lists.

I just want to take the last of a list, and this is kinda what my approach is:

 (run* [q]
  (== [_ | q] [1 2 3 4])
  ) 

or second from last:

 (run* [q]
  (== [_ | q _] [1 2 3 4])
  ) 

Any idea if I&apos;m on the right track?"><a href="#t1459892635000051" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-04-05</span> <span class="t" onclick="H(this)">21:43:55</span>  josh.freckleton </span><span>@hiredman: that looks awesome! I built a guitar from scratch a few years ago, and I&apos;ve been craving getting back into wood working. Using code for wood projects is a cool junction </span><b>simple_smile</b><span>

Hey, can I ask a simple question? I&apos;m going through some prolog &quot;puzzles&quot; to learn </span><code>core.logic</code><span> and I can&apos;t solve the first one, I just don&apos;t get how to &quot;destructure&quot; variable length lists.

I just want to take the last of a list, and this is kinda what my approach is:

</span><pre>(run* [q]
  (== [_ | q] [1 2 3 4])
  )</pre><span>

or second from last:

</span><pre>(run* [q]
  (== [_ | q _] [1 2 3 4])
  )</pre><span>

Any idea if I&apos;m on the right track?</span></div><div id="t1459892817000053" t="2016-04-05 21:46:57 hiredman the translation from prolog isn&apos;t that direct"><a href="#t1459892817000053" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-04-05</span> <span class="t" onclick="H(this)">21:46:57</span>         hiredman </span><span>the translation from prolog isn&apos;t that direct</span></div><div id="t1459892835000054" t="2016-04-05 21:47:15 hiredman == doesn&apos;t have any kind sugar, just unification"><a href="#t1459892835000054" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-04-05</span> <span class="t" onclick="H(this)">21:47:15</span>         hiredman </span><span>== doesn&apos;t have any kind sugar, just unification</span></div><div id="t1459892889000055" t="2016-04-05 21:48:09 hiredman so something like (== [(lvar) q (lvar) (lvar) (lvar)] [1 2 3 4]) might work (I forget exactly the name of the function to generate a fresh lvar)"><a href="#t1459892889000055" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-04-05</span> <span class="t" onclick="H(this)">21:48:09</span>         hiredman </span><span>so something like (== [(lvar) q (lvar) (lvar) (lvar)] [1 2 3 4]) might work (I forget exactly the name of the function to generate a fresh lvar)</span></div><div id="t1459892943000056" t="2016-04-05 21:49:03 hiredman there are some macros for defining functions that can do pattern matching sort of unification on arguments, but I haven&apos;t really used those"><a href="#t1459892943000056" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-04-05</span> <span class="t" onclick="H(this)">21:49:03</span>         hiredman </span><span>there are some macros for defining functions that can do pattern matching sort of unification on arguments, but I haven&apos;t really used those</span></div><div id="t1459893002000057" t="2016-04-05 21:50:02 josh.freckleton nice, it does work:

 (run* [q]
  (== [(lvar) (lvar) (lvar) q] [1 2 3 4]))"><a href="#t1459893002000057" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-04-05</span> <span class="t" onclick="H(this)">21:50:02</span>  josh.freckleton </span><span>nice, it does work:

</span><pre>(run* [q]
  (== [(lvar) (lvar) (lvar) q] [1 2 3 4]))</pre></div><div id="t1459893011000058" t="2016-04-05 21:50:11 josh.freckleton now to figure out variable lengths..."><a href="#t1459893011000058" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-04-05</span> <span class="t" onclick="H(this)">21:50:11</span>  josh.freckleton </span><span>now to figure out variable lengths...</span></div><div id="t1459898554000059" t="2016-04-05 23:22:34 josh.freckleton I can grab the first like this, but not the last:
 (run* [q]
  (fresh [a o]
    (== a [1 2 3 4 5])
    (matche [a]
            ([ [o . _] ]
             (== q o)))))"><a href="#t1459898554000059" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-04-05</span> <span class="t" onclick="H(this)">23:22:34</span>  josh.freckleton </span><span>I can grab the first like this, but not the last:
</span><pre>(run* [q]
  (fresh [a o]
    (== a [1 2 3 4 5])
    (matche [a]
            ([ [o . _] ]
             (== q o)))))</pre></div><div id="t1459915681000060" t="2016-04-06 04:08:01 josh.freckleton How can I get all multiples of3 in range 50 using  core.logic ? This is all I&apos;ve got:
 (run* [q]
  (membero q (range 50))
  (conde
   [(== (mod q 3) 0)]))"><a href="#t1459915681000060" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-04-06</span> <span class="t" onclick="H(this)">04:08:01</span>  josh.freckleton </span><span>How can I get all multiples of3 in range 50 using </span><code>core.logic</code><span>? This is all I&apos;ve got:
</span><pre>(run* [q]
  (membero q (range 50))
  (conde
   [(== (mod q 3) 0)]))</pre></div><div id="t1459915707000061" t="2016-04-06 04:08:27 josh.freckleton I get the error   clojure.core.logic.LVar cannot be cast to java.lang.Number"><a href="#t1459915707000061" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-04-06</span> <span class="t" onclick="H(this)">04:08:27</span>  josh.freckleton </span><span>I get the error </span><code> clojure.core.logic.LVar cannot be cast to java.lang.Number</code></div><div id="t1459973454000063" t="2016-04-06 20:10:54 hiredman @josh.freckleton: the thing is, core.logic doesn&apos;t have its own notion of names, so when you see &apos;q&apos; there what you are seeing is a clojure name &apos;q&apos; which is bound to an lvar. mod of course is a clojure function which has no idea what to do with an lvar. the only meaningful operations on lvars are constraints (via unification or something else). for numeric stuff often what you want can be achieved using  https://github.com/clojure/core.logic/wiki/Features#clpfd"><a href="#t1459973454000063" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-04-06</span> <span class="t" onclick="H(this)">20:10:54</span>         hiredman </span><span>@josh.freckleton: the thing is, core.logic doesn&apos;t have its own notion of names, so when you see &apos;q&apos; there what you are seeing is a clojure name &apos;q&apos; which is bound to an lvar. mod of course is a clojure function which has no idea what to do with an lvar. the only meaningful operations on lvars are constraints (via unification or something else). for numeric stuff often what you want can be achieved using </span><a href="https://github.com/clojure/core.logic/wiki/Features#clpfd" target="_blank">https://github.com/clojure/core.logic/wiki/Features#clpfd</a></div><div id="t1459973516000065" t="2016-04-06 20:11:56 josh.freckleton @hiredman: thanks, I&apos;m spending some time with &quot;the reasoned schemer&quot;, and some of this is starting to become clear, thanks for your help!"><a href="#t1459973516000065" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-04-06</span> <span class="t" onclick="H(this)">20:11:56</span>  josh.freckleton </span><span>@hiredman: thanks, I&apos;m spending some time with &quot;the reasoned schemer&quot;, and some of this is starting to become clear, thanks for your help!</span></div><div id="t1459981751000066" t="2016-04-06 22:29:11 josh.freckleton can I ask another question? I&apos;m trying to sum up all multiples of 3 and 5, and I&apos;ve got everything working except I can&apos;t connect the  sumo  to the list of multiples of 3/5:

 (defnc divxc [x y] ; is it divisible?
  (zero? (mod x y)))

(defn sumo [x out] ; sum up a list
  (conde
   ((emptyo x) (== out 0))
   (s# (fresh [f r rs]
         (firsto x f)
         (resto x r)
         (sumo r rs)
         (fd/+ f rs out)))))

(defn mult35o [x] ; list of things divisible by 3 or 5
  (fresh [a]
    (fd/in a (fd/interval 1 50))
    (fd/distinct [a])
    (conde
     ((divxc a 3))
     ((divxc a 5)))
    (== x a)))

(run* [x] ; test
  (mult35o x))
(run* [x] ; test
  (sumo [1 2 3 4] x))

(run* [x]
  (fresh [a b]
    (mult35o a)
    (firsto a b)
    (sumo b x)))
"><a href="#t1459981751000066" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-04-06</span> <span class="t" onclick="H(this)">22:29:11</span>  josh.freckleton </span><span>can I ask another question? I&apos;m trying to sum up all multiples of 3 and 5, and I&apos;ve got everything working except I can&apos;t connect the </span><code>sumo</code><span> to the list of multiples of 3/5:

</span><pre>(defnc divxc [x y] ; is it divisible?
  (zero? (mod x y)))

(defn sumo [x out] ; sum up a list
  (conde
   ((emptyo x) (== out 0))
   (s# (fresh [f r rs]
         (firsto x f)
         (resto x r)
         (sumo r rs)
         (fd/+ f rs out)))))

(defn mult35o [x] ; list of things divisible by 3 or 5
  (fresh [a]
    (fd/in a (fd/interval 1 50))
    (fd/distinct [a])
    (conde
     ((divxc a 3))
     ((divxc a 5)))
    (== x a)))

(run* [x] ; test
  (mult35o x))
(run* [x] ; test
  (sumo [1 2 3 4] x))

(run* [x]
  (fresh [a b]
    (mult35o a)
    (firsto a b)
    (sumo b x)))
</pre></div><div id="t1459981835000067" t="2016-04-06 22:30:35 josh.freckleton it seems that  a  is getting assigned something like  ((3 5 ...)) , so I try to &quot;unpack&quot; it with  firsto , but in the end this doesn&apos;t work..."><a href="#t1459981835000067" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-04-06</span> <span class="t" onclick="H(this)">22:30:35</span>  josh.freckleton </span><span>it seems that </span><code>a</code><span> is getting assigned something like </span><code>((3 5 ...))</code><span>, so I try to &quot;unpack&quot; it with </span><code>firsto</code><span>, but in the end this doesn&apos;t work...</span></div><div id="t1459981838000068" t="2016-04-06 22:30:38 josh.freckleton 😞"><a href="#t1459981838000068" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-04-06</span> <span class="t" onclick="H(this)">22:30:38</span>  josh.freckleton </span><b>😞</b></div><div id="t1460156168000070" t="2016-04-08 22:56:08 josh.freckleton How do I disunify correctly? I posted details on SO:
 https://stackoverflow.com/questions/36509025/how-can-i-disunify-b-lvar-from-a-a-b-b-c-c-in-clojure-core-lo"><a href="#t1460156168000070" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-04-08</span> <span class="t" onclick="H(this)">22:56:08</span>  josh.freckleton </span><span>How do I disunify correctly? I posted details on SO:
</span><a href="https://stackoverflow.com/questions/36509025/how-can-i-disunify-b-lvar-from-a-a-b-b-c-c-in-clojure-core-lo" target="_blank">https://stackoverflow.com/questions/36509025/how-can-i-disunify-b-lvar-from-a-a-b-b-c-c-in-clojure-core-lo</a></div><div id="t1460160879000072" t="2016-04-09 00:14:39 hiredman I am not entirely sure, but I suspect the issue is the lvar not being grounded in your second set of examples, because the lvar isn&apos;t bound to a definite value it is sort of undecided either way"><a href="#t1460160879000072" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-04-09</span> <span class="t" onclick="H(this)">00:14:39</span>         hiredman </span><span>I am not entirely sure, but I suspect the issue is the lvar not being grounded in your second set of examples, because the lvar isn&apos;t bound to a definite value it is sort of undecided either way</span></div><div id="t1460160917000073" t="2016-04-09 00:15:17 hiredman I think to do what you want, instead of using the lvar like that, you want to say none of the elements of the sequence have a first value that is &apos;:b&apos;"><a href="#t1460160917000073" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-04-09</span> <span class="t" onclick="H(this)">00:15:17</span>         hiredman </span><span>I think to do what you want, instead of using the lvar like that, you want to say none of the elements of the sequence have a first value that is &apos;:b&apos;</span></div><div id="t1461630017000002" t="2016-04-26 00:20:17 exupero How can I do aggregation in core.logic?"><a href="#t1461630017000002" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-04-26</span> <span class="t" onclick="H(this)">00:20:17</span>          exupero </span><span>How can I do aggregation in core.logic?</span></div><div id="t1464886681000009" t="2016-06-02 16:58:01 tristefigure Hi. I was wondering : how can I sort multiple results coming out of  run*  ? The idea is to sort them using core.logic itself by expressing preferences rules ? In particular, I’m wondering how I can express an ‘arbitrary’ preference order such as : prefer ?a over ?b. I’ve already used systems that worked this way : they checked for acyclicity so as to avoid contradiction in the preference statements (which were just binary relations)."><a href="#t1464886681000009" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-06-02</span> <span class="t" onclick="H(this)">16:58:01</span>     tristefigure </span><span>Hi. I was wondering : how can I sort multiple results coming out of </span><code>run*</code><span> ? The idea is to sort them using core.logic itself by expressing preferences rules ? In particular, I’m wondering how I can express an ‘arbitrary’ preference order such as : prefer ?a over ?b. I’ve already used systems that worked this way : they checked for acyclicity so as to avoid contradiction in the preference statements (which were just binary relations).</span></div><div id="t1464886887000010" t="2016-06-02 17:01:27 tristefigure I think i really am just looking for a way to make a topological sort. Any idea ?"><a href="#t1464886887000010" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-06-02</span> <span class="t" onclick="H(this)">17:01:27</span>     tristefigure </span><span>I think i really am just looking for a way to make a topological sort. Any idea ?</span></div><div id="t1464887137000011" t="2016-06-02 17:05:37 hiredman minikanren, on which core.logic is based, does this interleaving of goals to make it so non-convergent goals don&apos;t continue to not converge infinitely while a convergent goal never gets a chance to run"><a href="#t1464887137000011" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-06-02</span> <span class="t" onclick="H(this)">17:05:37</span>         hiredman </span><span>minikanren, on which core.logic is based, does this interleaving of goals to make it so non-convergent goals don&apos;t continue to not converge infinitely while a convergent goal never gets a chance to run</span></div><div id="t1464887175000012" t="2016-06-02 17:06:15 hiredman I think that would make it difficult to impossible to get ordering without some deeper modifications"><a href="#t1464887175000012" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-06-02</span> <span class="t" onclick="H(this)">17:06:15</span>         hiredman </span><span>I think that would make it difficult to impossible to get ordering without some deeper modifications</span></div><div id="t1464887347000013" t="2016-06-02 17:09:07 hiredman https://scholarworks.iu.edu/dspace/bitstream/handle/2022/8777/Byrd_indiana_0093A_10344.pdf  you can search for &quot;interleaving&quot; to read more about it, they mention it a lot, are very proud of it, and contrast it with prolog"><a href="#t1464887347000013" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-06-02</span> <span class="t" onclick="H(this)">17:09:07</span>         hiredman </span><a href="https://scholarworks.iu.edu/dspace/bitstream/handle/2022/8777/Byrd_indiana_0093A_10344.pdf" target="_blank">https://scholarworks.iu.edu/dspace/bitstream/handle/2022/8777/Byrd_indiana_0093A_10344.pdf</a><span> you can search for &quot;interleaving&quot; to read more about it, they mention it a lot, are very proud of it, and contrast it with prolog</span></div><div id="t1464887546000014" t="2016-06-02 17:12:26 hiredman without the interleaving, given a conde, the first branch would be searched exhaustively, then the next, etc"><a href="#t1464887546000014" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-06-02</span> <span class="t" onclick="H(this)">17:12:26</span>         hiredman </span><span>without the interleaving, given a conde, the first branch would be searched exhaustively, then the next, etc</span></div><div id="t1464888532000015" t="2016-06-02 17:28:52 tristefigure Indeed this seems non-trivial, I’m probably better off doing the sort using functional programming rather than relational programming.
Actually, I’m currently investigating minikanren in order to express business rules. I haven’t found much resources about this and I must confess I am somehow disappointed – but maybe this is because I haven’t employed many rules in my experiments so far. I’d be interested in reading stuffs (blogs, books, whatever) about solving business related problems with minikanren. So far, most of the use of minikanren I saw concerned small problems that had some kind of mathematical purity at their heart (the sudoku solver for instance), whereas I’m trying to determine if it could be of any use in cases where there a many rules such as in a business related environment (for instance, billing rules)."><a href="#t1464888532000015" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-06-02</span> <span class="t" onclick="H(this)">17:28:52</span>     tristefigure </span><span>Indeed this seems non-trivial, I’m probably better off doing the sort using functional programming rather than relational programming.
Actually, I’m currently investigating minikanren in order to express business rules. I haven’t found much resources about this and I must confess I am somehow disappointed – but maybe this is because I haven’t employed many rules in my experiments so far. I’d be interested in reading stuffs (blogs, books, whatever) about solving business related problems with minikanren. So far, most of the use of minikanren I saw concerned small problems that had some kind of mathematical purity at their heart (the sudoku solver for instance), whereas I’m trying to determine if it could be of any use in cases where there a many rules such as in a business related environment (for instance, billing rules).</span></div><div id="t1464888683000016" t="2016-06-02 17:31:23 hiredman minikanren isn&apos;t a rules engine"><a href="#t1464888683000016" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-06-02</span> <span class="t" onclick="H(this)">17:31:23</span>         hiredman </span><span>minikanren isn&apos;t a rules engine</span></div><div id="t1464889288000017" t="2016-06-02 17:41:28 hiredman with a billing system in minikanren, you could ask questions like &quot;is it possible to get a bill with the properties x y and z&quot;, which is interesting and in many circumstances useful, but I think most businesses are concerned with if this then that style rules,  which you can do in a relational language, but you&apos;ll be able to do better using a rules engine"><a href="#t1464889288000017" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-06-02</span> <span class="t" onclick="H(this)">17:41:28</span>         hiredman </span><span>with a billing system in minikanren, you could ask questions like &quot;is it possible to get a bill with the properties x y and z&quot;, which is interesting and in many circumstances useful, but I think most businesses are concerned with if this then that style rules,  which you can do in a relational language, but you&apos;ll be able to do better using a rules engine</span></div><div id="t1464889432000018" t="2016-06-02 17:43:52 hiredman I think this split is what is referred to as backwards chaining (what relational languages do) and forward chaining (what rules engines do)"><a href="#t1464889432000018" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-06-02</span> <span class="t" onclick="H(this)">17:43:52</span>         hiredman </span><span>I think this split is what is referred to as backwards chaining (what relational languages do) and forward chaining (what rules engines do)</span></div><div id="t1464889463000019" t="2016-06-02 17:44:23 hiredman the split isn&apos;t entirely black and white, mature rules engines and relational environments tend to support both"><a href="#t1464889463000019" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-06-02</span> <span class="t" onclick="H(this)">17:44:23</span>         hiredman </span><span>the split isn&apos;t entirely black and white, mature rules engines and relational environments tend to support both</span></div><div id="t1465961552000002" t="2016-06-15 03:32:32 hiredman you can do some combination of  offer!  and the internal  cljs.core.async.impl.dispatch/process-messages , offer the line to the channel, and if the channel can&apos;t take the line, run process-messages then loop"><a href="#t1465961552000002" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-06-15</span> <span class="t" onclick="H(this)">03:32:32</span>         hiredman </span><span>you can do some combination of </span><code>offer! </code><span>and the internal </span><code>cljs.core.async.impl.dispatch/process-messages</code><span>, offer the line to the channel, and if the channel can&apos;t take the line, run process-messages then loop</span></div><div id="t1471857562000011" t="2016-08-22 09:19:22 alexati Hi! Newbie question. I’m trying to get to generate maps from partial maps but I feel like I miss some key piece of knowledge. If I run:
 (run 1 [q] (featurec q {:a 1})) 
I get:
 ((_0 :- (clojure.core.logic/featurec _0 {:a 1}))) 
Which makes complete sense. But I’m wondering, how can I “ground” the sequence so the first result is {:a 1}, without anything else? I’m stuck..."><a href="#t1471857562000011" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-08-22</span> <span class="t" onclick="H(this)">09:19:22</span>          alexati </span><span>Hi! Newbie question. I’m trying to get to generate maps from partial maps but I feel like I miss some key piece of knowledge. If I run:
</span><code>(run 1 [q] (featurec q {:a 1}))</code><span>
I get:
</span><code>((_0 :- (clojure.core.logic/featurec _0 {:a 1})))</code><span>
Which makes complete sense. But I’m wondering, how can I “ground” the sequence so the first result is {:a 1}, without anything else? I’m stuck...</span></div><div id="t1475157900000003" t="2016-09-29 14:05:00 abdullahibra hi guys"><a href="#t1475157900000003" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-09-29</span> <span class="t" onclick="H(this)">14:05:00</span>     abdullahibra </span><span>hi guys</span></div><div id="t1475157964000004" t="2016-09-29 14:06:04 abdullahibra why can&apos;t i do this?
(run* [q1 q2] (= q1 (* q2 q2))) ?"><a href="#t1475157964000004" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-09-29</span> <span class="t" onclick="H(this)">14:06:04</span>     abdullahibra </span><span>why can&apos;t i do this?
(run* [q1 q2] (= q1 (* q2 q2))) ?</span></div><div id="t1475157997000005" t="2016-09-29 14:06:37 abdullahibra i got this: 
ClassCastException clojure.core.logic.LVar cannot be cast to java.lang.Number  clojure.lang.Numbers.multiply (Numbers.java:148)"><a href="#t1475157997000005" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-09-29</span> <span class="t" onclick="H(this)">14:06:37</span>     abdullahibra </span><span>i got this: 
ClassCastException clojure.core.logic.LVar cannot be cast to java.lang.Number  clojure.lang.Numbers.multiply (Numbers.java:148)</span></div><div id="t1475158043000006" t="2016-09-29 14:07:23 abdullahibra user=&gt; (run* [q1] (== q1 1))
(1)"><a href="#t1475158043000006" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-09-29</span> <span class="t" onclick="H(this)">14:07:23</span>     abdullahibra </span><span>user=&gt; (run* [q1] (== q1 1))
(1)</span></div><div id="t1475158086000007" t="2016-09-29 14:08:06 abdullahibra user=&gt; (run* [q1 q2] (= q1 q2 1))
ClassCastException java.lang.Boolean cannot be cast to clojure.lang.IFn  clojure.core.logic.Substitutions (logic.clj:425)"><a href="#t1475158086000007" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-09-29</span> <span class="t" onclick="H(this)">14:08:06</span>     abdullahibra </span><span>user=&gt; (run* [q1 q2] (= q1 q2 1))
ClassCastException java.lang.Boolean cannot be cast to clojure.lang.IFn  clojure.core.logic.Substitutions (logic.clj:425)</span></div><div id="t1475158175000008" t="2016-09-29 14:09:35 abdullahibra oh == is unification which is different"><a href="#t1475158175000008" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-09-29</span> <span class="t" onclick="H(this)">14:09:35</span>     abdullahibra </span><span>oh == is unification which is different</span></div><div id="t1475158218000009" t="2016-09-29 14:10:18 abdullahibra (run* [q1 q2] (== [3 q1] [q2 2]))
([2 3])"><a href="#t1475158218000009" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-09-29</span> <span class="t" onclick="H(this)">14:10:18</span>     abdullahibra </span><span>(run* [q1 q2] (== [3 q1] [q2 2]))
([2 3])</span></div><div id="t1475158228000010" t="2016-09-29 14:10:28 abdullahibra got it"><a href="#t1475158228000010" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-09-29</span> <span class="t" onclick="H(this)">14:10:28</span>     abdullahibra </span><span>got it</span></div><div id="t1476828184000013" t="2016-10-18 22:03:04 atroche hi everyone, i’m using core.logic to help me implement  http://mason.gmu.edu/~rhanson/equatalk.html"><a href="#t1476828184000013" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-10-18</span> <span class="t" onclick="H(this)">22:03:04</span>          atroche </span><span>hi everyone, i’m using core.logic to help me implement </span><a href="http://mason.gmu.edu/~rhanson/equatalk.html" target="_blank">http://mason.gmu.edu/~rhanson/equatalk.html</a></div><div id="t1476828223000017" t="2016-10-18 22:03:43 atroche my problem is that i want the additional constraint that the numbers should form a roughly normal distribution"><a href="#t1476828223000017" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-10-18</span> <span class="t" onclick="H(this)">22:03:43</span>          atroche </span><span>my problem is that i want the additional constraint that the numbers should form a roughly normal distribution</span></div><div id="t1476828260000018" t="2016-10-18 22:04:20 atroche not sure if that gist link above is coming through right, but core.logic part starts at line 46"><a href="#t1476828260000018" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-10-18</span> <span class="t" onclick="H(this)">22:04:20</span>          atroche </span><span>not sure if that gist link above is coming through right, but core.logic part starts at line 46</span></div><div id="t1476828290000019" t="2016-10-18 22:04:50 atroche is there a way to do that with core.logic?"><a href="#t1476828290000019" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-10-18</span> <span class="t" onclick="H(this)">22:04:50</span>          atroche </span><span>is there a way to do that with core.logic?</span></div><div id="t1476830988000020" t="2016-10-18 22:49:48 atroche actually, let me ask another simpler question first: what’s a good way to sort a list of numbers in core.logic, or to find the median of them?"><a href="#t1476830988000020" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-10-18</span> <span class="t" onclick="H(this)">22:49:48</span>          atroche </span><span>actually, let me ask another simpler question first: what’s a good way to sort a list of numbers in core.logic, or to find the median of them?</span></div><div id="t1476831183000021" t="2016-10-18 22:53:03 hiredman you would have to express it as relations"><a href="#t1476831183000021" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-10-18</span> <span class="t" onclick="H(this)">22:53:03</span>         hiredman </span><span>you would have to express it as relations</span></div><div id="t1476831226000022" t="2016-10-18 22:53:46 hiredman each element in list X is one of the elements in list Y"><a href="#t1476831226000022" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-10-18</span> <span class="t" onclick="H(this)">22:53:46</span>         hiredman </span><span>each element in list X is one of the elements in list Y</span></div><div id="t1476831288000023" t="2016-10-18 22:54:48 hiredman the first element in list X is less than the second, etc"><a href="#t1476831288000023" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-10-18</span> <span class="t" onclick="H(this)">22:54:48</span>         hiredman </span><span>the first element in list X is less than the second, etc</span></div><div id="t1476831432000024" t="2016-10-18 22:57:12 hiredman I am sure it can be done, but I am not sure I would do it"><a href="#t1476831432000024" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-10-18</span> <span class="t" onclick="H(this)">22:57:12</span>         hiredman </span><span>I am sure it can be done, but I am not sure I would do it</span></div><div id="t1476831480000025" t="2016-10-18 22:58:00 hiredman the logic stuff is sort of a combination of generators that generate possible matches and filters that reject things that don&apos;t match"><a href="#t1476831480000025" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-10-18</span> <span class="t" onclick="H(this)">22:58:00</span>         hiredman </span><span>the logic stuff is sort of a combination of generators that generate possible matches and filters that reject things that don&apos;t match</span></div><div id="t1476831518000026" t="2016-10-18 22:58:38 hiredman so you&apos;ll end up generating all permutations of Y and rejecting the ones where your sorted relation doesn&apos;t hold"><a href="#t1476831518000026" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-10-18</span> <span class="t" onclick="H(this)">22:58:38</span>         hiredman </span><span>so you&apos;ll end up generating all permutations of Y and rejecting the ones where your sorted relation doesn&apos;t hold</span></div><div id="t1476831567000027" t="2016-10-18 22:59:27 atroche when you say you’re not sure you would do it, is it because of performance reasons?"><a href="#t1476831567000027" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-10-18</span> <span class="t" onclick="H(this)">22:59:27</span>          atroche </span><span>when you say you’re not sure you would do it, is it because of performance reasons?</span></div><div id="t1476831666000028" t="2016-10-18 23:01:06 hiredman it just seems like a mismatch between sorting and relational programming"><a href="#t1476831666000028" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-10-18</span> <span class="t" onclick="H(this)">23:01:06</span>         hiredman </span><span>it just seems like a mismatch between sorting and relational programming</span></div><div id="t1476831683000029" t="2016-10-18 23:01:23 hiredman maybe there is a paper some way with some cool prolog quicksort or something"><a href="#t1476831683000029" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-10-18</span> <span class="t" onclick="H(this)">23:01:23</span>         hiredman </span><span>maybe there is a paper some way with some cool prolog quicksort or something</span></div><div id="t1476831731000030" t="2016-10-18 23:02:11 hiredman me saying it seems like a mismatch, this guy saying it is beautiful"><a href="#t1476831731000030" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-10-18</span> <span class="t" onclick="H(this)">23:02:11</span>         hiredman </span><span>me saying it seems like a mismatch, this guy saying it is beautiful</span></div><div id="t1476831732000031" t="2016-10-18 23:02:12 hiredman https://www.cp.eng.chula.ac.th/~piak/teaching/dsys/2004/quick-prolog.htm"><a href="#t1476831732000031" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-10-18</span> <span class="t" onclick="H(this)">23:02:12</span>         hiredman </span><a href="https://www.cp.eng.chula.ac.th/~piak/teaching/dsys/2004/quick-prolog.htm" target="_blank">https://www.cp.eng.chula.ac.th/~piak/teaching/dsys/2004/quick-prolog.htm</a></div><div id="t1476831841000032" t="2016-10-18 23:04:01 atroche aha:  https://github.com/clojure/core.logic/blob/master/src/main/clojure/clojure/core/logic/bench.clj#L395-L396"><a href="#t1476831841000032" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-10-18</span> <span class="t" onclick="H(this)">23:04:01</span>          atroche </span><span>aha: </span><a href="https://github.com/clojure/core.logic/blob/master/src/main/clojure/clojure/core/logic/bench.clj#L395-L396" target="_blank">https://github.com/clojure/core.logic/blob/master/src/main/clojure/clojure/core/logic/bench.clj#L395-L396</a></div><div id="t1476832284000034" t="2016-10-18 23:11:24 atroche can’t say i understand how it works or even how to use it yet"><a href="#t1476832284000034" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-10-18</span> <span class="t" onclick="H(this)">23:11:24</span>          atroche </span><span>can’t say i understand how it works or even how to use it yet</span></div><div id="t1476832289000035" t="2016-10-18 23:11:29 atroche do you, @hiredman ?"><a href="#t1476832289000035" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-10-18</span> <span class="t" onclick="H(this)">23:11:29</span>          atroche </span><span>do you, @hiredman ?</span></div><div id="t1476832354000036" t="2016-10-18 23:12:34 atroche e.g. why does qsorto there have [l r r0] ?"><a href="#t1476832354000036" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-10-18</span> <span class="t" onclick="H(this)">23:12:34</span>          atroche </span><span>e.g. why does qsorto there have [l r r0] ?</span></div><div id="t1476832616000037" t="2016-10-18 23:16:56 hiredman I believe the [l r r0] line is for tabling"><a href="#t1476832616000037" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-10-18</span> <span class="t" onclick="H(this)">23:16:56</span>         hiredman </span><span>I believe the [l r r0] line is for tabling</span></div><div id="t1476832666000038" t="2016-10-18 23:17:46 hiredman tabling is some kind of optimization sort of like memoizing"><a href="#t1476832666000038" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-10-18</span> <span class="t" onclick="H(this)">23:17:46</span>         hiredman </span><span>tabling is some kind of optimization sort of like memoizing</span></div><div id="t1476832677000039" t="2016-10-18 23:17:57 atroche okay, cool"><a href="#t1476832677000039" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-10-18</span> <span class="t" onclick="H(this)">23:17:57</span>          atroche </span><span>okay, cool</span></div><div id="t1476832693000040" t="2016-10-18 23:18:13 atroche so if i’m looking for a constraint that says that the list is sorted"><a href="#t1476832693000040" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-10-18</span> <span class="t" onclick="H(this)">23:18:13</span>          atroche </span><span>so if i’m looking for a constraint that says that the list is sorted</span></div><div id="t1476832702000041" t="2016-10-18 23:18:22 hiredman which is not say I understand qsorto"><a href="#t1476832702000041" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-10-18</span> <span class="t" onclick="H(this)">23:18:22</span>         hiredman </span><span>which is not say I understand qsorto</span></div><div id="t1476832708000042" t="2016-10-18 23:18:28 atroche and i have the qsorto as written there…"><a href="#t1476832708000042" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-10-18</span> <span class="t" onclick="H(this)">23:18:28</span>          atroche </span><span>and i have the qsorto as written there…</span></div><div id="t1476833774000043" t="2016-10-18 23:36:14 atroche i clearly have more reading to do  🙂"><a href="#t1476833774000043" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-10-18</span> <span class="t" onclick="H(this)">23:36:14</span>          atroche </span><span>i clearly have more reading to do </span><b>🙂</b></div><div id="t1476899737000077" t="2016-10-19 17:55:37 johanatan Hi, is there a way to AND a dynamically generated list of constraints? [Cannot apply  all  or  run  as they are macros]"><a href="#t1476899737000077" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-10-19</span> <span class="t" onclick="H(this)">17:55:37</span>        johanatan </span><span>Hi, is there a way to AND a dynamically generated list of constraints? [Cannot apply </span><code>all</code><span> or </span><code>run</code><span> as they are macros]</span></div><div id="t1476899794000078" t="2016-10-19 17:56:34 exupero (every? true? coll)"><a href="#t1476899794000078" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-10-19</span> <span class="t" onclick="H(this)">17:56:34</span>          exupero </span><code>(every? true? coll)</code></div><div id="t1476899815000079" t="2016-10-19 17:56:55 johanatan Is  true?  part of core.logic?"><a href="#t1476899815000079" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-10-19</span> <span class="t" onclick="H(this)">17:56:55</span>        johanatan </span><span>Is </span><code>true?</code><span> part of core.logic?</span></div><div id="t1476899840000080" t="2016-10-19 17:57:20 exupero Sorry, didn’t notice the channel. Thinking in clojure.core."><a href="#t1476899840000080" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-10-19</span> <span class="t" onclick="H(this)">17:57:20</span>          exupero </span><span>Sorry, didn’t notice the channel. Thinking in clojure.core.</span></div><div id="t1476899843000081" t="2016-10-19 17:57:23 johanatan Can a  boolean  be converted to a goal?"><a href="#t1476899843000081" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-10-19</span> <span class="t" onclick="H(this)">17:57:23</span>        johanatan </span><span>Can a </span><code>boolean</code><span> be converted to a goal?</span></div><div id="t1476899846000082" t="2016-10-19 17:57:26 johanatan Ahh  🙂"><a href="#t1476899846000082" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-10-19</span> <span class="t" onclick="H(this)">17:57:26</span>        johanatan </span><span>Ahh </span><b>🙂</b></div><div id="t1476900096000083" t="2016-10-19 18:01:36 johanatan Answer from dnolen: 
dnolen [11:00 AM]  
@johanatan yes, you can reduce your goals with bind"><a href="#t1476900096000083" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-10-19</span> <span class="t" onclick="H(this)">18:01:36</span>        johanatan </span><span>Answer from dnolen: 
dnolen [11:00 AM]  
@johanatan yes, you can reduce your goals with bind</span></div><div id="t1476931663000096" t="2016-10-20 02:47:43 johanatan actually  bind  is not working for constraints created with  fd/dom  e.g."><a href="#t1476931663000096" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-10-20</span> <span class="t" onclick="H(this)">02:47:43</span>        johanatan </span><span>actually </span><code>bind</code><span> is not working for constraints created with </span><code>fd/dom</code><span> e.g.</span></div><div id="t1476931678000097" t="2016-10-20 02:47:58 johanatan anybody else have any ideas?"><a href="#t1476931678000097" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-10-20</span> <span class="t" onclick="H(this)">02:47:58</span>        johanatan </span><span>anybody else have any ideas?</span></div><div id="t1476932531000099" t="2016-10-20 03:02:11 johanatan This is the result in its basest form:

 slipstream.core=&gt; (run* [q] (clojure.core.logic.protocols/bind s# (fd/dom q (fd/interval 0 10))))

ArityException Wrong number of args (1) passed to: logic/eval1901/fn--1902/-inc--1903  clojure.lang.AFn.throwArity (AFn.java:429)
"><a href="#t1476932531000099" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-10-20</span> <span class="t" onclick="H(this)">03:02:11</span>        johanatan </span><span>This is the result in its basest form:

</span><pre>slipstream.core=&gt; (run* [q] (clojure.core.logic.protocols/bind s# (fd/dom q (fd/interval 0 10))))

ArityException Wrong number of args (1) passed to: logic/eval1901/fn--1902/-inc--1903  clojure.lang.AFn.throwArity (AFn.java:429)
</pre></div><div id="t1476936173000101" t="2016-10-20 04:02:53 johanatan This works as expected:
 slipstream.core=&gt; (run* [q] (fd/dom q (fd/interval 0 10)))
(0 1 2 3 4 5 6 7 8 9 10)
slipstream.core=&gt; 
"><a href="#t1476936173000101" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-10-20</span> <span class="t" onclick="H(this)">04:02:53</span>        johanatan </span><span>This works as expected:
</span><pre>slipstream.core=&gt; (run* [q] (fd/dom q (fd/interval 0 10)))
(0 1 2 3 4 5 6 7 8 9 10)
slipstream.core=&gt; 
</pre></div><div id="t1476936230000102" t="2016-10-20 04:03:50 johanatan @dnolen  ^"><a href="#t1476936230000102" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-10-20</span> <span class="t" onclick="H(this)">04:03:50</span>        johanatan </span><span>@dnolen  ^</span></div><div id="t1476937833000103" t="2016-10-20 04:30:33 johanatan doh!"><a href="#t1476937833000103" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-10-20</span> <span class="t" onclick="H(this)">04:30:33</span>        johanatan </span><span>doh!</span></div><div id="t1476937845000104" t="2016-10-20 04:30:45 johanatan Looks like:
 (everyg identity goals)  works!"><a href="#t1476937845000104" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-10-20</span> <span class="t" onclick="H(this)">04:30:45</span>        johanatan </span><span>Looks like:
</span><code>(everyg identity goals)</code><span> works!</span></div><div id="t1479411560000371" t="2016-11-17 19:39:20 josh.freckleton I would expect the first program to return  (5,6)"><a href="#t1479411560000371" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-11-17</span> <span class="t" onclick="H(this)">19:39:20</span>  josh.freckleton </span><span>I would expect the first program to return </span><code>(5,6)</code></div><div id="t1479412399000372" t="2016-11-17 19:53:19 hiredman being an embedded dsl, core.logic sort of interleaves regular clojure with logic programming"><a href="#t1479412399000372" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-11-17</span> <span class="t" onclick="H(this)">19:53:19</span>         hiredman </span><span>being an embedded dsl, core.logic sort of interleaves regular clojure with logic programming</span></div><div id="t1479412412000373" t="2016-11-17 19:53:32 hiredman what fresh does is bind a clojure variable to a logic variable"><a href="#t1479412412000373" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-11-17</span> <span class="t" onclick="H(this)">19:53:32</span>         hiredman </span><span>what fresh does is bind a clojure variable to a logic variable</span></div><div id="t1479412435000374" t="2016-11-17 19:53:55 hiredman so you can imagine it as something like (let [r (fresh-logic-var)] ...)"><a href="#t1479412435000374" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-11-17</span> <span class="t" onclick="H(this)">19:53:55</span>         hiredman </span><span>so you can imagine it as something like (let [r (fresh-logic-var)] ...)</span></div><div id="t1479412526000375" t="2016-11-17 19:55:26 hiredman so given a clojure program, where the local  r  is bound to a logic variable, is there some expression like  (... x ...)  that can result in  r  being bound to something else?"><a href="#t1479412526000375" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-11-17</span> <span class="t" onclick="H(this)">19:55:26</span>         hiredman </span><span>so given a clojure program, where the local </span><code>r</code><span> is bound to a logic variable, is there some expression like </span><code>(... x ...)</code><span> that can result in </span><code>r</code><span> being bound to something else?</span></div><div id="t1479412587000376" t="2016-11-17 19:56:27 hiredman a logic program doesn&apos;t change the value of bound clojure locals, it constrains the value of the logic variables bound by locals"><a href="#t1479412587000376" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-11-17</span> <span class="t" onclick="H(this)">19:56:27</span>         hiredman </span><span>a logic program doesn&apos;t change the value of bound clojure locals, it constrains the value of the logic variables bound by locals</span></div><div id="t1479412689000377" t="2016-11-17 19:58:09 hiredman you can use project to look up the value of a logic variable (an LVar) but that is not relational"><a href="#t1479412689000377" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-11-17</span> <span class="t" onclick="H(this)">19:58:09</span>         hiredman </span><span>you can use project to look up the value of a logic variable (an LVar) but that is not relational</span></div><div id="t1479412775000378" t="2016-11-17 19:59:35 hiredman what you should do is something like  (compose-goals-with-or (for [constraint [fd/+ fd/*]] (constraint 2 3 q)))"><a href="#t1479412775000378" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-11-17</span> <span class="t" onclick="H(this)">19:59:35</span>         hiredman </span><span>what you should do is something like </span><code>(compose-goals-with-or (for [constraint [fd/+ fd/*]] (constraint 2 3 q)))</code></div><div id="t1479412789000379" t="2016-11-17 19:59:49 hiredman but I don&apos;t recall what compose-goals-with-or would be"><a href="#t1479412789000379" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-11-17</span> <span class="t" onclick="H(this)">19:59:49</span>         hiredman </span><span>but I don&apos;t recall what compose-goals-with-or would be</span></div><div id="t1479412880000380" t="2016-11-17 20:01:20 hiredman https://github.com/clojure/core.logic/blob/master/src/main/clojure/clojure/core/logic.clj#L1185-L1198"><a href="#t1479412880000380" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-11-17</span> <span class="t" onclick="H(this)">20:01:20</span>         hiredman </span><a href="https://github.com/clojure/core.logic/blob/master/src/main/clojure/clojure/core/logic.clj#L1185-L1198" target="_blank">https://github.com/clojure/core.logic/blob/master/src/main/clojure/clojure/core/logic.clj#L1185-L1198</a></div><div id="t1479412906000382" t="2016-11-17 20:01:46 josh.freckleton @hiredman thanks! this is exactly what I needed!"><a href="#t1479412906000382" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-11-17</span> <span class="t" onclick="H(this)">20:01:46</span>  josh.freckleton </span><span>@hiredman thanks! this is exactly what I needed!</span></div><div id="t1479413124000383" t="2016-11-17 20:05:24 josh.freckleton I&apos;m hoping to make sense of some of these less obvious  logic  functions and I&apos;ll write up some posts to hopefully make  logic  easier to get running with!"><a href="#t1479413124000383" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-11-17</span> <span class="t" onclick="H(this)">20:05:24</span>  josh.freckleton </span><span>I&apos;m hoping to make sense of some of these less obvious </span><code>logic</code><span> functions and I&apos;ll write up some posts to hopefully make </span><code>logic</code><span> easier to get running with!</span></div><div id="t1480101015000428" t="2016-11-25 19:10:15 josh.freckleton how can I generate, say, an infinite list of all combinations of  [:a :b :c] , eg,  [[:a], [:a :b], [:a :b :c], [:a :b :c :a], ...]"><a href="#t1480101015000428" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-11-25</span> <span class="t" onclick="H(this)">19:10:15</span>  josh.freckleton </span><span>how can I generate, say, an infinite list of all combinations of </span><code>[:a :b :c]</code><span>, eg, </span><code>[[:a], [:a :b], [:a :b :c], [:a :b :c :a], ...]</code></div><div id="t1480101023000429" t="2016-11-25 19:10:23 josh.freckleton (using core.logic)"><a href="#t1480101023000429" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-11-25</span> <span class="t" onclick="H(this)">19:10:23</span>  josh.freckleton </span><span>(using core.logic)</span></div><div id="t1480946329000016" t="2016-12-05 13:58:49 mac Does anyone know of extensions to core.logic for working with dates, so one could do something like:  (run 1 [q] (day-after q (date-time 1986 10 14))) =&gt;(#&lt;DateTime 1986-10-15T00:00:00.000Z&gt;)"><a href="#t1480946329000016" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-12-05</span> <span class="t" onclick="H(this)">13:58:49</span>              mac </span><span>Does anyone know of extensions to core.logic for working with dates, so one could do something like: </span><code>(run 1 [q] (day-after q (date-time 1986 10 14))) =&gt;(#&lt;DateTime 1986-10-15T00:00:00.000Z&gt;)</code></div><div id="t1481706169000074" t="2016-12-14 09:02:49 mattiasw What is wrong with the proposed solution for nonmembero in  https://stackoverflow.com/questions/16370327/why-does-my-clojure-core-logic-nonmember-function-return-two-values/41138478#41138478  ? And why does my non-defne work as expected? Is there a problem with defne?"><a href="#t1481706169000074" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2016-12-14</span> <span class="t" onclick="H(this)">09:02:49</span>         mattiasw </span><span>What is wrong with the proposed solution for nonmembero in </span><a href="https://stackoverflow.com/questions/16370327/why-does-my-clojure-core-logic-nonmember-function-return-two-values/41138478#41138478" target="_blank">https://stackoverflow.com/questions/16370327/why-does-my-clojure-core-logic-nonmember-function-return-two-values/41138478#41138478</a><span> ? And why does my non-defne work as expected? Is there a problem with defne?</span></div><div id="t1485058016000244" t="2017-01-22 04:06:56 nathansmutz Is there any way to emulate set operations in core.logic?  
It looks like everyg wont work on an LCons so you can&apos;t make relational goals like:
(defn subseto [sub super]
  (everyg* #(membero % super) sub))"><a href="#t1485058016000244" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-01-22</span> <span class="t" onclick="H(this)">04:06:56</span>      nathansmutz </span><span>Is there any way to emulate set operations in core.logic?  
It looks like everyg wont work on an LCons so you can&apos;t make relational goals like:
(defn subseto [sub super]
  (everyg* #(membero % super) sub))</span></div><div id="t1485076780000249" t="2017-01-22 09:19:40 nathansmutz On researching, here&apos;s what I found so far.  I&apos;ll post here as I make tests: 

 https://gist.github.com/martintrojer/3792630 
(defne subseto
  &quot;is s1 is a subset of s2?&quot;
  [s1 s2]
  ([() _])
  ([[x . xs] _]
     (membero x s2)
     (subseto xs s2)))
 

(defne any-membero
  &quot;any member of s1 is a member of s2?&quot;
  [s1 s2]
  ([[x . xs] _]
     (membero x s2))
  ([[x . xs] _]
     (any-membero xs s2)))"><a href="#t1485076780000249" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-01-22</span> <span class="t" onclick="H(this)">09:19:40</span>      nathansmutz </span><span>On researching, here&apos;s what I found so far.  I&apos;ll post here as I make tests: 

</span><a href="https://gist.github.com/martintrojer/3792630" target="_blank">https://gist.github.com/martintrojer/3792630</a><span>
(defne subseto
  &quot;is s1 is a subset of s2?&quot;
  [s1 s2]
  ([() _])
  ([[x . xs] _]
     (membero x s2)
     (subseto xs s2)))
 

(defne any-membero
  &quot;any member of s1 is a member of s2?&quot;
  [s1 s2]
  ([[x . xs] _]
     (membero x s2))
  ([[x . xs] _]
     (any-membero xs s2)))</span></div><div id="t1485112451000252" t="2017-01-22 19:14:11 nathansmutz This works:
(run 5 [q]
  (distincto q)
  (subseto q [1 2]))

Doing a &quot;(run 6 ...&quot; with the above hangs.  
I&apos;m off to learn more kanren-foo.  Maybe something with walk can make this halt.
I hope its a solvable problem.

"><a href="#t1485112451000252" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-01-22</span> <span class="t" onclick="H(this)">19:14:11</span>      nathansmutz </span><span>This works:
(run 5 [q]
  (distincto q)
  (subseto q [1 2]))

Doing a &quot;(run 6 ...&quot; with the above hangs.  
I&apos;m off to learn more kanren-foo.  Maybe something with walk can make this halt.
I hope its a solvable problem.

</span></div><div id="t1486654973000309" t="2017-02-09 15:42:53 gamecubate About to embark on the development of a web-front-end (CLJS + Reagent) to an expert system shell. Is core.logic a good choice for the expert system?"><a href="#t1486654973000309" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-02-09</span> <span class="t" onclick="H(this)">15:42:53</span>       gamecubate </span><span>About to embark on the development of a web-front-end (CLJS + Reagent) to an expert system shell. Is core.logic a good choice for the expert system?</span></div><div id="t1486865121000316" t="2017-02-12 02:05:21 devn @gamecubate: saw that you were messing with Clara "><a href="#t1486865121000316" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-02-12</span> <span class="t" onclick="H(this)">02:05:21</span>             devn </span><span>@gamecubate: saw that you were messing with Clara </span></div><div id="t1486865130000317" t="2017-02-12 02:05:30 devn Will be interested to hear where you wind up "><a href="#t1486865130000317" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-02-12</span> <span class="t" onclick="H(this)">02:05:30</span>             devn </span><span>Will be interested to hear where you wind up </span></div><div id="t1486939320000321" t="2017-02-12 22:42:00 gamecubate @devn There’s a lot to learn and figure out at this stage. Plus I have this nagging suspicion that a self-hosted clojurescript front end shell might not be able to support the adding of rules to a session db. First need to learn quite a bit more about core.logic and then Clara. This will take weeks… I will share examples once significant progress is made."><a href="#t1486939320000321" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-02-12</span> <span class="t" onclick="H(this)">22:42:00</span>       gamecubate </span><span>@devn There’s a lot to learn and figure out at this stage. Plus I have this nagging suspicion that a self-hosted clojurescript front end shell might not be able to support the adding of rules to a session db. First need to learn quite a bit more about core.logic and then Clara. This will take weeks… I will share examples once significant progress is made.</span></div><div id="t1487224550000333" t="2017-02-16 05:55:50 ddrbt Hey people, I&apos;d appreciate some help here:

I&apos;m trying to build up a  pldb/db  which starts with some precedence relations between tasks and fills in the blanks. How can I write a relational function that identifies which tasks do not have a precedence relation with every other task?

Here&apos;s some example code: [precedence-db]( https://gist.github.com/daveduthie/f91dc1c9587daacbba50f6b656bb8cab )"><a href="#t1487224550000333" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-02-16</span> <span class="t" onclick="H(this)">05:55:50</span>            ddrbt </span><span>Hey people, I&apos;d appreciate some help here:

I&apos;m trying to build up a </span><code>pldb/db</code><span> which starts with some precedence relations between tasks and fills in the blanks. How can I write a relational function that identifies which tasks do not have a precedence relation with every other task?

Here&apos;s some example code: [precedence-db](</span><a href="https://gist.github.com/daveduthie/f91dc1c9587daacbba50f6b656bb8cab" target="_blank">https://gist.github.com/daveduthie/f91dc1c9587daacbba50f6b656bb8cab</a><span>)</span></div><div id="t1487256352000343" t="2017-02-16 14:45:52 ddrbt Anyone?"><a href="#t1487256352000343" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-02-16</span> <span class="t" onclick="H(this)">14:45:52</span>            ddrbt </span><span>Anyone?</span></div><div id="t1487277551000349" t="2017-02-16 20:39:11 hiredman you need to use, uh, there should be some negation of a goal operator, not sure what it is"><a href="#t1487277551000349" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-02-16</span> <span class="t" onclick="H(this)">20:39:11</span>         hiredman </span><span>you need to use, uh, there should be some negation of a goal operator, not sure what it is</span></div><div id="t1487277569000350" t="2017-02-16 20:39:29 hiredman instead of a disequality constraint"><a href="#t1487277569000350" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-02-16</span> <span class="t" onclick="H(this)">20:39:29</span>         hiredman </span><span>instead of a disequality constraint</span></div><div id="t1487277631000351" t="2017-02-16 20:40:31 hiredman so you have a search for the join of tasks of precedences, and then search for the tasks where that search doesn&apos;t have any results"><a href="#t1487277631000351" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-02-16</span> <span class="t" onclick="H(this)">20:40:31</span>         hiredman </span><span>so you have a search for the join of tasks of precedences, and then search for the tasks where that search doesn&apos;t have any results</span></div><div id="t1487294805000357" t="2017-02-17 01:26:45 ddrbt @hiredman, thanks, I’ll check it out"><a href="#t1487294805000357" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-02-17</span> <span class="t" onclick="H(this)">01:26:45</span>            ddrbt </span><span>@hiredman, thanks, I’ll check it out</span></div><div id="t1487295074000359" t="2017-02-17 01:31:14 ddrbt This almost works. (Stepping through with the debugger, it works. Running ordinarily, I get (4 3 2 1))"><a href="#t1487295074000359" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-02-17</span> <span class="t" onclick="H(this)">01:31:14</span>            ddrbt </span><span>This almost works. (Stepping through with the debugger, it works. Running ordinarily, I get (4 3 2 1))</span></div><div id="t1487295101000360" t="2017-02-17 01:31:41 ddrbt Is it a bad idea to nest  run  statements?"><a href="#t1487295101000360" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-02-17</span> <span class="t" onclick="H(this)">01:31:41</span>            ddrbt </span><span>Is it a bad idea to nest </span><code>run</code><span> statements?</span></div><div id="t1487491182000423" t="2017-02-19 07:59:42 ddrbt I skirted the issue by using  :none  as the precedence when two tasks have not yet been related to one another."><a href="#t1487491182000423" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-02-19</span> <span class="t" onclick="H(this)">07:59:42</span>            ddrbt </span><span>I skirted the issue by using </span><code>:none</code><span> as the precedence when two tasks have not yet been related to one another.</span></div><div id="t1488527832000525" t="2017-03-03 07:57:12 kneiva Having a list of integers how would I find the biggest square area that can fit in the columns? With clojure.logic or preferrably with  https://github.com/aengelberg/loco . I couldn’t find an example or a tutorial that help me with this kind of problem.

Examples:
 1234321     321     423

   0                0
  ***       0       0 0
 0***0      **      **0
00***00     **0     **0
= 3         = 2     = 2
"><a href="#t1488527832000525" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-03-03</span> <span class="t" onclick="H(this)">07:57:12</span>           kneiva </span><span>Having a list of integers how would I find the biggest square area that can fit in the columns? With clojure.logic or preferrably with </span><a href="https://github.com/aengelberg/loco" target="_blank">https://github.com/aengelberg/loco</a><span>. I couldn’t find an example or a tutorial that help me with this kind of problem.

Examples:
</span><pre>1234321     321     423

   0                0
  ***       0       0 0
 0***0      **      **0
00***00     **0     **0
= 3         = 2     = 2
</pre></div><div id="t1488528163000527" t="2017-03-03 08:02:43 hiredman it seems like the kind of think you might be able to find a formula for"><a href="#t1488528163000527" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-03-03</span> <span class="t" onclick="H(this)">08:02:43</span>         hiredman </span><span>it seems like the kind of think you might be able to find a formula for</span></div><div id="t1488528374000528" t="2017-03-03 08:06:14 hiredman I think with logic programming or some kind of sat solver you are going to have trouble, because both of those tend to be good answering &quot;does a solution to this exist&quot; and less so at solving &quot;find me the solution with property x&quot;"><a href="#t1488528374000528" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-03-03</span> <span class="t" onclick="H(this)">08:06:14</span>         hiredman </span><span>I think with logic programming or some kind of sat solver you are going to have trouble, because both of those tend to be good answering &quot;does a solution to this exist&quot; and less so at solving &quot;find me the solution with property x&quot;</span></div><div id="t1488529075000529" t="2017-03-03 08:17:55 hiredman actually, I think you can put that in terms of does X exist: &quot;Does X exist where X is a number that fits in row 0, and row 0 + X, and X+1 doesn&apos;t fit in row 0 + X + 1&quot;"><a href="#t1488529075000529" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-03-03</span> <span class="t" onclick="H(this)">08:17:55</span>         hiredman </span><span>actually, I think you can put that in terms of does X exist: &quot;Does X exist where X is a number that fits in row 0, and row 0 + X, and X+1 doesn&apos;t fit in row 0 + X + 1&quot;</span></div><div id="t1488529434000531" t="2017-03-03 08:23:54 hiredman the biggest result or smallest result, is a constraint relative to all the other answers, which means you have to compute all the other possible answers"><a href="#t1488529434000531" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-03-03</span> <span class="t" onclick="H(this)">08:23:54</span>         hiredman </span><span>the biggest result or smallest result, is a constraint relative to all the other answers, which means you have to compute all the other possible answers</span></div><div id="t1488529593000532" t="2017-03-03 08:26:33 kneiva Ok, I think that helps. I’ll ponder on it. Thanks!"><a href="#t1488529593000532" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-03-03</span> <span class="t" onclick="H(this)">08:26:33</span>           kneiva </span><span>Ok, I think that helps. I’ll ponder on it. Thanks!</span></div><div id="t1488901792000535" t="2017-03-07 15:49:52 eraserhd Is there any documentation on core.logic&apos;s protocols, or an example of how to extend it for a new, basically opaque type?"><a href="#t1488901792000535" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-03-07</span> <span class="t" onclick="H(this)">15:49:52</span>         eraserhd </span><span>Is there any documentation on core.logic&apos;s protocols, or an example of how to extend it for a new, basically opaque type?</span></div><div id="t1488901852000536" t="2017-03-07 15:50:52 eraserhd I&apos;m just using the core.logic unifier in my tests in order to verify that two or three places in the structure have the same value, but I don&apos;t care what that value is."><a href="#t1488901852000536" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-03-07</span> <span class="t" onclick="H(this)">15:50:52</span>         eraserhd </span><span>I&apos;m just using the core.logic unifier in my tests in order to verify that two or three places in the structure have the same value, but I don&apos;t care what that value is.</span></div><div id="t1488901876000537" t="2017-03-07 15:51:16 eraserhd Unfortunately, I&apos;ve had to change that value from a string to a Datomic tempid, and that means the unifier breaks."><a href="#t1488901876000537" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-03-07</span> <span class="t" onclick="H(this)">15:51:16</span>         eraserhd </span><span>Unfortunately, I&apos;ve had to change that value from a string to a Datomic tempid, and that means the unifier breaks.</span></div><div id="t1488901907000538" t="2017-03-07 15:51:47 eraserhd Because IUninitialized is not implemented on datomic.db.DbId."><a href="#t1488901907000538" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-03-07</span> <span class="t" onclick="H(this)">15:51:47</span>         eraserhd </span><span>Because IUninitialized is not implemented on datomic.db.DbId.</span></div><div id="t1489028644000539" t="2017-03-09 03:04:04 ddrbt run* returns a lazy sequence. Would it be possible to put some finite domain constraints in an atom and have the constraints consulted each time I want to realise more of the sequence? Failing this, I&apos;d have to call run* each time I have updated constraints. "><a href="#t1489028644000539" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-03-09</span> <span class="t" onclick="H(this)">03:04:04</span>            ddrbt </span><span>run* returns a lazy sequence. Would it be possible to put some finite domain constraints in an atom and have the constraints consulted each time I want to realise more of the sequence? Failing this, I&apos;d have to call run* each time I have updated constraints. </span></div><div id="t1489028680000540" t="2017-03-09 03:04:40 ddrbt (As some background, I&apos;m using data coming out of run* to derive constraints as I go)"><a href="#t1489028680000540" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-03-09</span> <span class="t" onclick="H(this)">03:04:40</span>            ddrbt </span><span>(As some background, I&apos;m using data coming out of run* to derive constraints as I go)</span></div><div id="t1490079648238325" t="2017-03-21 07:00:48 tomjack ([... [var _8]] :- (swap [a_10 a_7] _8 a_6) ...)
 
 😞"><a href="#t1490079648238325" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-03-21</span> <span class="t" onclick="H(this)">07:00:48</span>          tomjack </span><pre>([... [var _8]] :- (swap [a_10 a_7] _8 a_6) ...)
</pre><span>
</span><b>😞</b></div><div id="t1494089300771825" t="2017-05-06 16:48:20 sandbags I have a problem that I think core.logic might be a fit for. I did some Prolog many moons ago so I&apos;ve a vague familiarity with this stuff and reading the core.logic tutorial I grasp it, at least at a superficial level. Anyone working with it enough that I can describe what I am doing and they can tell me if it seems like a good fit?"><a href="#t1494089300771825" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-05-06</span> <span class="t" onclick="H(this)">16:48:20</span>         sandbags </span><span>I have a problem that I think core.logic might be a fit for. I did some Prolog many moons ago so I&apos;ve a vague familiarity with this stuff and reading the core.logic tutorial I grasp it, at least at a superficial level. Anyone working with it enough that I can describe what I am doing and they can tell me if it seems like a good fit?</span></div><div id="t1494089668797149" t="2017-05-06 16:54:28 sandbags Well let me describe it a little, if anyone has a view I can go into more details. The high level problem is to create acronyms (yes this is the stupid side project gone mad) based on a set of rules. An example rule could be  must include one of &quot;Strategy&quot; or &quot;Plan&quot;  so the word must have an  s  or a  p . Another rule could be  must include one of &quot;Technology&quot; or &quot;Digital&quot;  ergo a  t d or  d  must be present. Another type of rule  can include either &quot;Operations&quot; or &quot;Process&quot;  means that an  o  or  p  could appear if necessary to match a word. So you have a set of rules that govern how letters can be used. Then I smash a dictionary through the rules to create a series of acronyms. Given the rules described above you might have the word  sot  match as  Strategy Operations Technology  (this example would use both of the the required rules and the optional rule) and so on.  st ,  ts ,  tos ,  tps , and  spt  are also legal solutions but, since they are not dictionary words, they would never come up. The approach I have taken most recently ended up labelling each letter of the word under test with each of the rules that it can possibly match. It&apos;s not hard then to come up with one solution that uses all required labelings (and optional ones if required). But to get all legal solutions for a given word felt like a backtracking type problem and, hence, my interest in  core.logic ."><a href="#t1494089668797149" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-05-06</span> <span class="t" onclick="H(this)">16:54:28</span>         sandbags </span><span>Well let me describe it a little, if anyone has a view I can go into more details. The high level problem is to create acronyms (yes this is the stupid side project gone mad) based on a set of rules. An example rule could be </span><code>must include one of &quot;Strategy&quot; or &quot;Plan&quot;</code><span> so the word must have an </span><code>s</code><span> or a </span><code>p</code><span>. Another rule could be </span><code>must include one of &quot;Technology&quot; or &quot;Digital&quot;</code><span> ergo a </span><code>t</code><span>d or </span><code>d</code><span> must be present. Another type of rule </span><code>can include either &quot;Operations&quot; or &quot;Process&quot;</code><span> means that an </span><code>o</code><span> or </span><code>p</code><span> could appear if necessary to match a word. So you have a set of rules that govern how letters can be used. Then I smash a dictionary through the rules to create a series of acronyms. Given the rules described above you might have the word </span><code>sot</code><span> match as </span><code>Strategy Operations Technology</code><span> (this example would use both of the the required rules and the optional rule) and so on. </span><code>st</code><span>, </span><code>ts</code><span>, </span><code>tos</code><span>, </span><code>tps</code><span>, and </span><code>spt</code><span> are also legal solutions but, since they are not dictionary words, they would never come up. The approach I have taken most recently ended up labelling each letter of the word under test with each of the rules that it can possibly match. It&apos;s not hard then to come up with one solution that uses all required labelings (and optional ones if required). But to get all legal solutions for a given word felt like a backtracking type problem and, hence, my interest in </span><code>core.logic</code><span>.</span></div><div id="t1496813038630112" t="2017-06-07 05:23:58 fabrao Hello all, I have something like this  [:A :B] [:A :C] [:B :C]  how can I get the result [:A [:B :C]], is that possible with core.logic?"><a href="#t1496813038630112" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-06-07</span> <span class="t" onclick="H(this)">05:23:58</span>           fabrao </span><span>Hello all, I have something like this </span><code>[:A :B] [:A :C] [:B :C]</code><span> how can I get the result [:A [:B :C]], is that possible with core.logic?</span></div><div id="t1496849231882086" t="2017-06-07 15:27:11 norman What exactly are you asking? Are you asking how to transform the results of your core.logic query?  Or are you asking how to rewrite your core.logic query? (in which we’d need a query)"><a href="#t1496849231882086" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-06-07</span> <span class="t" onclick="H(this)">15:27:11</span>           norman </span><span>What exactly are you asking? Are you asking how to transform the results of your core.logic query?  Or are you asking how to rewrite your core.logic query? (in which we’d need a query)</span></div><div id="t1496850290335328" t="2017-06-07 15:44:50 norman If it’s the former, this might get you started:"><a href="#t1496850290335328" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-06-07</span> <span class="t" onclick="H(this)">15:44:50</span>           norman </span><span>If it’s the former, this might get you started:</span></div><div id="t1496850290335571" t="2017-06-07 15:44:50 norman user&gt; (reduce (fn [m [k v]] (update-in m [k] #(conj (or % #{}) v))) {} [[:A :B] [:A :C] [:B :C]])
{:A #{:B :C}, :B #{:C}}"><a href="#t1496850290335571" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-06-07</span> <span class="t" onclick="H(this)">15:44:50</span>           norman </span><span>user&gt; (reduce (fn [m [k v]] (update-in m [k] #(conj (or % #{}) v))) {} [[:A :B] [:A :C] [:B :C]])
{:A #{:B :C}, :B #{:C}}</span></div><div id="t1496850310344053" t="2017-06-07 15:45:10 norman No time to make that cleaner, but it’s something to work from"><a href="#t1496850310344053" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-06-07</span> <span class="t" onclick="H(this)">15:45:10</span>           norman </span><span>No time to make that cleaner, but it’s something to work from</span></div><div id="t1496850389378253" t="2017-06-07 15:46:29 norman user&gt; (for [[k v] *1]
        [k (vec v)])"><a href="#t1496850389378253" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-06-07</span> <span class="t" onclick="H(this)">15:46:29</span>           norman </span><span>user&gt; (for [[k v] *1]
        [k (vec v)])</span></div><div id="t1496850396381236" t="2017-06-07 15:46:36 norman ([:A [:B :C]] [:B [:C]])"><a href="#t1496850396381236" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-06-07</span> <span class="t" onclick="H(this)">15:46:36</span>           norman </span><span>([:A [:B :C]] [:B [:C]])</span></div><div id="t1496850404384544" t="2017-06-07 15:46:44 norman if you need to get it back to vectors, I guess"><a href="#t1496850404384544" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-06-07</span> <span class="t" onclick="H(this)">15:46:44</span>           norman </span><span>if you need to get it back to vectors, I guess</span></div><div id="t1496851843994436" t="2017-06-07 16:10:43 newres Hi, is there a way to use core.logic as a kind of backward chaining rule engine? I kind of figured out that I can write a goal to encapsulate the singe execution of a rule, but how could I express that a portion of goal could be used multiple times to derive a conclusion?"><a href="#t1496851843994436" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-06-07</span> <span class="t" onclick="H(this)">16:10:43</span>           newres </span><span>Hi, is there a way to use core.logic as a kind of backward chaining rule engine? I kind of figured out that I can write a goal to encapsulate the singe execution of a rule, but how could I express that a portion of goal could be used multiple times to derive a conclusion?</span></div><div id="t1496871821209325" t="2017-06-07 21:43:41 fabrao @norman well, I´m trying to use it like I used to use in Prolog as I remember
 repetition ([X|T]) :- repetition(X,A), repetition(X,B), A != B.
  I don´t know if it´s correct"><a href="#t1496871821209325" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-06-07</span> <span class="t" onclick="H(this)">21:43:41</span>           fabrao </span><span>@norman well, I´m trying to use it like I used to use in Prolog as I remember
</span><pre>repetition ([X|T]) :- repetition(X,A), repetition(X,B), A != B.
</pre><span> I don´t know if it´s correct</span></div><div id="t1496871878224934" t="2017-06-07 21:44:38 fabrao but that´s the idea"><a href="#t1496871878224934" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-06-07</span> <span class="t" onclick="H(this)">21:44:38</span>           fabrao </span><span>but that´s the idea</span></div><div id="t1496871953245052" t="2017-06-07 21:45:53 norman Sorry - i don’t understand what you want."><a href="#t1496871953245052" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-06-07</span> <span class="t" onclick="H(this)">21:45:53</span>           norman </span><span>Sorry - i don’t understand what you want.</span></div><div id="t1496872066275478" t="2017-06-07 21:47:46 fabrao 🙂  ok, I´m trying to use core.logic instead of using something like  http://www.clara-rules.org/"><a href="#t1496872066275478" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-06-07</span> <span class="t" onclick="H(this)">21:47:46</span>           fabrao </span><b>🙂</b><span> ok, I´m trying to use core.logic instead of using something like </span><a href="http://www.clara-rules.org/" target="_blank">http://www.clara-rules.org/</a></div><div id="t1499440754596929" t="2017-07-07 15:19:14 mrchance Hi! Can someone give me a hint on how to add error handling to my logic programs? I&apos;d like to receive a little more information than  ()  when my program fails to produce a result  🙂"><a href="#t1499440754596929" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-07</span> <span class="t" onclick="H(this)">15:19:14</span>         mrchance </span><span>Hi! Can someone give me a hint on how to add error handling to my logic programs? I&apos;d like to receive a little more information than </span><code>()</code><span> when my program fails to produce a result </span><b>🙂</b></div><div id="t1499440848652051" t="2017-07-07 15:20:48 mrchance I was thinking about a fall through case that unifies an error parameter to something meaningful, but I am not sure if that is a good idea or even how to do it well"><a href="#t1499440848652051" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-07</span> <span class="t" onclick="H(this)">15:20:48</span>         mrchance </span><span>I was thinking about a fall through case that unifies an error parameter to something meaningful, but I am not sure if that is a good idea or even how to do it well</span></div><div id="t1501114591924242" t="2017-07-27 00:16:31 swizzard hi all, i’m working my way through the reasoned schemer with core.logic; i’ve read  https://github.com/clojure/core.logic/wiki/Differences-from-The-Reasoned-Schemer , but i’m still a little confused?"><a href="#t1501114591924242" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-27</span> <span class="t" onclick="H(this)">00:16:31</span>         swizzard </span><span>hi all, i’m working my way through the reasoned schemer with core.logic; i’ve read </span><a href="https://github.com/clojure/core.logic/wiki/Differences-from-The-Reasoned-Schemer" target="_blank">https://github.com/clojure/core.logic/wiki/Differences-from-The-Reasoned-Schemer</a><span>, but i’m still a little confused?</span></div><div id="t1501114705949069" t="2017-07-27 00:18:25 swizzard specifically by the use of the non-prefixed  cond , e.g.:"><a href="#t1501114705949069" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-27</span> <span class="t" onclick="H(this)">00:18:25</span>         swizzard </span><span>specifically by the use of the non-prefixed </span><code>cond</code><span>, e.g.:</span></div><div id="t1501114804971158" t="2017-07-27 00:20:04 swizzard also, i’m not sure how to get  conde  to properly evaluate:"><a href="#t1501114804971158" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-27</span> <span class="t" onclick="H(this)">00:20:04</span>         swizzard </span><span>also, i’m not sure how to get </span><code>conde</code><span> to properly evaluate:</span></div><div id="t1501116811397477" t="2017-07-27 00:53:31 norman (run* [q]
                   (conde
                    [fail succeed]
                    [succeed fail]))"><a href="#t1501116811397477" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-27</span> <span class="t" onclick="H(this)">00:53:31</span>           norman </span><span>(run* [q]
                   (conde
                    [fail succeed]
                    [succeed fail]))</span></div><div id="t1501118083668456" t="2017-07-27 01:14:43 norman @swizzard The book examples aren’t really great in isolation. I’d have to check my copy of the book when I get home to see the context of this."><a href="#t1501118083668456" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-27</span> <span class="t" onclick="H(this)">01:14:43</span>           norman </span><span>@swizzard The book examples aren’t really great in isolation. I’d have to check my copy of the book when I get home to see the context of this.</span></div><div id="t1501118107673297" t="2017-07-27 01:15:07 norman But the above is how to run an equivalent core.logic conde"><a href="#t1501118107673297" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-27</span> <span class="t" onclick="H(this)">01:15:07</span>           norman </span><span>But the above is how to run an equivalent core.logic conde</span></div><div id="t1501172903402124" t="2017-07-27 16:28:23 swizzard when/why would you use  lcons  instead of just  list ?"><a href="#t1501172903402124" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-27</span> <span class="t" onclick="H(this)">16:28:23</span>         swizzard </span><span>when/why would you use </span><code>lcons</code><span> instead of just </span><code>list</code><span>?</span></div><div id="t1501174315204848" t="2017-07-27 16:51:55 norman I don’t think I’ve ever used lcons"><a href="#t1501174315204848" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-27</span> <span class="t" onclick="H(this)">16:51:55</span>           norman </span><span>I don’t think I’ve ever used lcons</span></div><div id="t1501174330213106" t="2017-07-27 16:52:10 norman Probably you’d just use it when trying to do examples from minkanren"><a href="#t1501174330213106" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-27</span> <span class="t" onclick="H(this)">16:52:10</span>           norman </span><span>Probably you’d just use it when trying to do examples from minkanren</span></div><div id="t1501174745453235" t="2017-07-27 16:59:05 swizzard @norman that’s kind of what i assumed, but wanted to be sure, thanks  🙂"><a href="#t1501174745453235" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-27</span> <span class="t" onclick="H(this)">16:59:05</span>         swizzard </span><span>@norman that’s kind of what i assumed, but wanted to be sure, thanks </span><b>🙂</b></div><div id="t1501174836508242" t="2017-07-27 17:00:36 norman We (ThreatGRID) have probably one of the only production apps with a signficant core.logic component, so I’m heavily biased towards the practical things"><a href="#t1501174836508242" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-27</span> <span class="t" onclick="H(this)">17:00:36</span>           norman </span><span>We (ThreatGRID) have probably one of the only production apps with a signficant core.logic component, so I’m heavily biased towards the practical things</span></div><div id="t1501174886538134" t="2017-07-27 17:01:26 swizzard i hope you don’t get annoyed by me asking a bunch more dumb questions, because i’m only on chapter 2 of TRS"><a href="#t1501174886538134" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-27</span> <span class="t" onclick="H(this)">17:01:26</span>         swizzard </span><span>i hope you don’t get annoyed by me asking a bunch more dumb questions, because i’m only on chapter 2 of TRS</span></div><div id="t1501174900546336" t="2017-07-27 17:01:40 norman That’s 2 more chapters than most  🙂"><a href="#t1501174900546336" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-27</span> <span class="t" onclick="H(this)">17:01:40</span>           norman </span><span>That’s 2 more chapters than most </span><b>🙂</b></div><div id="t1501174984596312" t="2017-07-27 17:03:04 swizzard i have vague dreams of using CLP and maybe rete to build an “is my rpg breakable?” tester"><a href="#t1501174984596312" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-27</span> <span class="t" onclick="H(this)">17:03:04</span>         swizzard </span><span>i have vague dreams of using CLP and maybe rete to build an “is my rpg breakable?” tester</span></div><div id="t1501174994602624" t="2017-07-27 17:03:14 swizzard so i figure i need to actually understand logic programming first"><a href="#t1501174994602624" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-27</span> <span class="t" onclick="H(this)">17:03:14</span>         swizzard </span><span>so i figure i need to actually understand logic programming first</span></div><div id="t1501452757994240" t="2017-07-30 22:12:37 swizzard is there a good tutorial/documentation of core.logic-specific stuff? i’m probably just kind of dumb but i don’t really understand how e.g.  defne  works"><a href="#t1501452757994240" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-30</span> <span class="t" onclick="H(this)">22:12:37</span>         swizzard </span><span>is there a good tutorial/documentation of core.logic-specific stuff? i’m probably just kind of dumb but i don’t really understand how e.g. </span><code>defne</code><span> works</span></div><div id="t1501452798997336" t="2017-07-30 22:13:18 swizzard i’ve gone through the wiki a few times but it’s a little too high-level and scattershot for my taste"><a href="#t1501452798997336" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-30</span> <span class="t" onclick="H(this)">22:13:18</span>         swizzard </span><span>i’ve gone through the wiki a few times but it’s a little too high-level and scattershot for my taste</span></div><div id="t1501452852001144" t="2017-07-30 22:14:12 swizzard i’m also a bit dismayed about how old most of the projects on github that actually use c.l are, but that’s a separate issue"><a href="#t1501452852001144" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-30</span> <span class="t" onclick="H(this)">22:14:12</span>         swizzard </span><span>i’m also a bit dismayed about how old most of the projects on github that actually use c.l are, but that’s a separate issue</span></div><div id="t1501516951879863" t="2017-07-31 16:02:31 norman Not really. Many of the examples out there outdated, and few of them are written by people who have a strong understanding of core.logic.  I don’t see much new being written, since for the most part core.logic has been abandoned. Being a core.* project with JIRA and the whole clojure process behind it means it’s unlikely that it will get significant contributions"><a href="#t1501516951879863" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-31</span> <span class="t" onclick="H(this)">16:02:31</span>           norman </span><span>Not really. Many of the examples out there outdated, and few of them are written by people who have a strong understanding of core.logic.  I don’t see much new being written, since for the most part core.logic has been abandoned. Being a core.* project with JIRA and the whole clojure process behind it means it’s unlikely that it will get significant contributions</span></div><div id="t1501520522929785" t="2017-07-31 17:02:02 mrchance @swizzard I am currently learning it too, maybe we can discover stuff together ;) defne, as I understood it, is just a short form for defn + matche "><a href="#t1501520522929785" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-31</span> <span class="t" onclick="H(this)">17:02:02</span>         mrchance </span><span>@swizzard I am currently learning it too, maybe we can discover stuff together ;) defne, as I understood it, is just a short form for defn + matche </span></div><div id="t1501520554948755" t="2017-07-31 17:02:34 swizzard @norman why has it been abandoned? is there a better alternative?"><a href="#t1501520554948755" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-31</span> <span class="t" onclick="H(this)">17:02:34</span>         swizzard </span><span>@norman why has it been abandoned? is there a better alternative?</span></div><div id="t1501520561952870" t="2017-07-31 17:02:41 norman Nope"><a href="#t1501520561952870" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-31</span> <span class="t" onclick="H(this)">17:02:41</span>           norman </span><span>Nope</span></div><div id="t1501520575961353" t="2017-07-31 17:02:55 norman You could consider it basically done"><a href="#t1501520575961353" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-31</span> <span class="t" onclick="H(this)">17:02:55</span>           norman </span><span>You could consider it basically done</span></div><div id="t1501520581964213" t="2017-07-31 17:03:01 swizzard ok"><a href="#t1501520581964213" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-31</span> <span class="t" onclick="H(this)">17:03:01</span>         swizzard </span><span>ok</span></div><div id="t1501520587967659" t="2017-07-31 17:03:07 norman Although there’s lots more that could be done if anyone cared"><a href="#t1501520587967659" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-31</span> <span class="t" onclick="H(this)">17:03:07</span>           norman </span><span>Although there’s lots more that could be done if anyone cared</span></div><div id="t1501520628991444" t="2017-07-31 17:03:48 norman I think the bigger problem is that it’s a technology without much of a clear use."><a href="#t1501520628991444" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-31</span> <span class="t" onclick="H(this)">17:03:48</span>           norman </span><span>I think the bigger problem is that it’s a technology without much of a clear use.</span></div><div id="t1501520665012695" t="2017-07-31 17:04:25 norman At one point I considered possibly writing a core.logic book"><a href="#t1501520665012695" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-31</span> <span class="t" onclick="H(this)">17:04:25</span>           norman </span><span>At one point I considered possibly writing a core.logic book</span></div><div id="t1501520685023767" t="2017-07-31 17:04:45 norman So then I went out trying to find other people using core.logic in real applications"><a href="#t1501520685023767" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-31</span> <span class="t" onclick="H(this)">17:04:45</span>           norman </span><span>So then I went out trying to find other people using core.logic in real applications</span></div><div id="t1501520701033111" t="2017-07-31 17:05:01 norman And I really couldn’t find anyone besides us using"><a href="#t1501520701033111" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-31</span> <span class="t" onclick="H(this)">17:05:01</span>           norman </span><span>And I really couldn’t find anyone besides us using</span></div><div id="t1501520704034871" t="2017-07-31 17:05:04 swizzard hm"><a href="#t1501520704034871" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-31</span> <span class="t" onclick="H(this)">17:05:04</span>         swizzard </span><span>hm</span></div><div id="t1501520727048520" t="2017-07-31 17:05:27 norman Maybe more people would use it if they understood it"><a href="#t1501520727048520" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-31</span> <span class="t" onclick="H(this)">17:05:27</span>           norman </span><span>Maybe more people would use it if they understood it</span></div><div id="t1501520729049376" t="2017-07-31 17:05:29 norman 🙂"><a href="#t1501520729049376" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-31</span> <span class="t" onclick="H(this)">17:05:29</span>           norman </span><b>🙂</b></div><div id="t1501520760066761" t="2017-07-31 17:06:00 swizzard ha, perhaps"><a href="#t1501520760066761" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-31</span> <span class="t" onclick="H(this)">17:06:00</span>         swizzard </span><span>ha, perhaps</span></div><div id="t1501520803090332" t="2017-07-31 17:06:43 norman As you’ve discovered, the reasoned schemer approach to learning core.logic isn’t great"><a href="#t1501520803090332" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-31</span> <span class="t" onclick="H(this)">17:06:43</span>           norman </span><span>As you’ve discovered, the reasoned schemer approach to learning core.logic isn’t great</span></div><div id="t1501521357396542" t="2017-07-31 17:15:57 hiredman at one point rackspace&apos;s managed security was using or planning on using core.logic, but I haven&apos;t seen them asking about it in a while so they may have changed it up"><a href="#t1501521357396542" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-31</span> <span class="t" onclick="H(this)">17:15:57</span>         hiredman </span><span>at one point rackspace&apos;s managed security was using or planning on using core.logic, but I haven&apos;t seen them asking about it in a while so they may have changed it up</span></div><div id="t1501521466456906" t="2017-07-31 17:17:46 hiredman I can&apos;t imagine any of the clojure teams I&apos;ve worked with letting something written in core.logic through code review. The first comment would be &quot;this would be clearer if you used map / filter / etc&quot;"><a href="#t1501521466456906" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-31</span> <span class="t" onclick="H(this)">17:17:46</span>         hiredman </span><span>I can&apos;t imagine any of the clojure teams I&apos;ve worked with letting something written in core.logic through code review. The first comment would be &quot;this would be clearer if you used map / filter / etc&quot;</span></div><div id="t1501521907708465" t="2017-07-31 17:25:07 norman We use core.logic because it’s the cleanest/clearest way to write complex queries."><a href="#t1501521907708465" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-31</span> <span class="t" onclick="H(this)">17:25:07</span>           norman </span><span>We use core.logic because it’s the cleanest/clearest way to write complex queries.</span></div><div id="t1501521922717111" t="2017-07-31 17:25:22 norman The abstraction you can get is really great"><a href="#t1501521922717111" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-31</span> <span class="t" onclick="H(this)">17:25:22</span>           norman </span><span>The abstraction you can get is really great</span></div><div id="t1501521945730030" t="2017-07-31 17:25:45 norman We have non-clojurists writing core.logic queries and they don’t even know it"><a href="#t1501521945730030" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-31</span> <span class="t" onclick="H(this)">17:25:45</span>           norman </span><span>We have non-clojurists writing core.logic queries and they don’t even know it</span></div><div id="t1501521969743682" t="2017-07-31 17:26:09 hiredman sure"><a href="#t1501521969743682" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-31</span> <span class="t" onclick="H(this)">17:26:09</span>         hiredman </span><span>sure</span></div><div id="t1501522006764757" t="2017-07-31 17:26:46 norman But we’ve worked really hard to give them good abstractions"><a href="#t1501522006764757" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-31</span> <span class="t" onclick="H(this)">17:26:46</span>           norman </span><span>But we’ve worked really hard to give them good abstractions</span></div><div id="t1501522012768347" t="2017-07-31 17:26:52 hiredman the initial introduction of core.logic is a tough hill to climb"><a href="#t1501522012768347" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-31</span> <span class="t" onclick="H(this)">17:26:52</span>         hiredman </span><span>the initial introduction of core.logic is a tough hill to climb</span></div><div id="t1501522044786860" t="2017-07-31 17:27:24 hiredman because at the beginning what you are doing isn&apos;t so complicated, so it seems like you could just do it with map and filter and whatever, and it would be easier for people to follow"><a href="#t1501522044786860" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-31</span> <span class="t" onclick="H(this)">17:27:24</span>         hiredman </span><span>because at the beginning what you are doing isn&apos;t so complicated, so it seems like you could just do it with map and filter and whatever, and it would be easier for people to follow</span></div><div id="t1501522068800164" t="2017-07-31 17:27:48 norman I mean, 95% of what we are using it for could honestly be done with datalog"><a href="#t1501522068800164" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-31</span> <span class="t" onclick="H(this)">17:27:48</span>           norman </span><span>I mean, 95% of what we are using it for could honestly be done with datalog</span></div><div id="t1501522074803802" t="2017-07-31 17:27:54 norman except the queries would be brutal"><a href="#t1501522074803802" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-31</span> <span class="t" onclick="H(this)">17:27:54</span>           norman </span><span>except the queries would be brutal</span></div><div id="t1501522103820379" t="2017-07-31 17:28:23 hiredman the seq library is some kind of local maxima, and it takes a bunch of energy to get to something else"><a href="#t1501522103820379" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-31</span> <span class="t" onclick="H(this)">17:28:23</span>         hiredman </span><span>the seq library is some kind of local maxima, and it takes a bunch of energy to get to something else</span></div><div id="t1501522166857822" t="2017-07-31 17:29:26 hiredman I don&apos;t think a lot of teams can do it (as I&apos;ve said none of the teams I&apos;ve been on seemed to want to spend energy in that way)"><a href="#t1501522166857822" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-31</span> <span class="t" onclick="H(this)">17:29:26</span>         hiredman </span><span>I don&apos;t think a lot of teams can do it (as I&apos;ve said none of the teams I&apos;ve been on seemed to want to spend energy in that way)</span></div><div id="t1501522183867580" t="2017-07-31 17:29:43 hiredman which is a shame (for core.logic and other things)"><a href="#t1501522183867580" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-31</span> <span class="t" onclick="H(this)">17:29:43</span>         hiredman </span><span>which is a shame (for core.logic and other things)</span></div><div id="t1501522351967370" t="2017-07-31 17:32:31 norman I’d like to think there are good use cases for core.logic besides ours…"><a href="#t1501522351967370" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-31</span> <span class="t" onclick="H(this)">17:32:31</span>           norman </span><span>I’d like to think there are good use cases for core.logic besides ours…</span></div><div id="t1501522402997376" t="2017-07-31 17:33:22 hiredman sorry, I think I am not being clear, I 100% think core.logic is a better for a lot of cases"><a href="#t1501522402997376" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-31</span> <span class="t" onclick="H(this)">17:33:22</span>         hiredman </span><span>sorry, I think I am not being clear, I 100% think core.logic is a better for a lot of cases</span></div><div id="t1501522511060010" t="2017-07-31 17:35:11 hiredman but it doesn&apos;t get used because programmers aren&apos;t willing to expend extra energy to escape the local maxima(the seq library) to get to something better"><a href="#t1501522511060010" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-31</span> <span class="t" onclick="H(this)">17:35:11</span>         hiredman </span><span>but it doesn&apos;t get used because programmers aren&apos;t willing to expend extra energy to escape the local maxima(the seq library) to get to something better</span></div><div id="t1501523198450791" t="2017-07-31 17:46:38 norman I don’t know clojure developers like that."><a href="#t1501523198450791" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-31</span> <span class="t" onclick="H(this)">17:46:38</span>           norman </span><span>I don’t know clojure developers like that.</span></div><div id="t1501523249480138" t="2017-07-31 17:47:29 norman But if I can’t tell them practical things they can do with core.logic, I can’t criticize them much for not using it"><a href="#t1501523249480138" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-31</span> <span class="t" onclick="H(this)">17:47:29</span>           norman </span><span>But if I can’t tell them practical things they can do with core.logic, I can’t criticize them much for not using it</span></div><div id="t1501523617693887" t="2017-07-31 17:53:37 mrchance I want to use it to write a type checker, maybe you can help? I saw the basic type checker example, and I am wondering how I can get type errors from my program instead of  ()  "><a href="#t1501523617693887" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-31</span> <span class="t" onclick="H(this)">17:53:37</span>         mrchance </span><span>I want to use it to write a type checker, maybe you can help? I saw the basic type checker example, and I am wondering how I can get type errors from my program instead of </span><code>()</code><span> </span></div><div id="t1501523866842561" t="2017-07-31 17:57:46 hiredman use conde"><a href="#t1501523866842561" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-31</span> <span class="t" onclick="H(this)">17:57:46</span>         hiredman </span><span>use conde</span></div><div id="t1501523886854004" t="2017-07-31 17:58:06 hiredman the type terms unify or add this error to a list of error messages"><a href="#t1501523886854004" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-31</span> <span class="t" onclick="H(this)">17:58:06</span>         hiredman </span><span>the type terms unify or add this error to a list of error messages</span></div><div id="t1501524067965700" t="2017-07-31 18:01:07 hiredman (I guess you&apos;d want conda instead maybe)"><a href="#t1501524067965700" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-31</span> <span class="t" onclick="H(this)">18:01:07</span>         hiredman </span><span>(I guess you&apos;d want conda instead maybe)</span></div><div id="t1501524174030258" t="2017-07-31 18:02:54 mrchance Ok, that goes in the direction what I thought too, gonna try that "><a href="#t1501524174030258" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-31</span> <span class="t" onclick="H(this)">18:02:54</span>         mrchance </span><span>Ok, that goes in the direction what I thought too, gonna try that </span></div><div id="t1501524245072010" t="2017-07-31 18:04:05 mrchance I read that conda is a non relational goal, what does that imply? "><a href="#t1501524245072010" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-31</span> <span class="t" onclick="H(this)">18:04:05</span>         mrchance </span><span>I read that conda is a non relational goal, what does that imply? </span></div><div id="t1501525205622570" t="2017-07-31 18:20:05 hiredman I haven&apos;t used conda much, but if I recall it is committed choice"><a href="#t1501525205622570" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-31</span> <span class="t" onclick="H(this)">18:20:05</span>         hiredman </span><span>I haven&apos;t used conda much, but if I recall it is committed choice</span></div><div id="t1501525276663939" t="2017-07-31 18:21:16 hiredman with conde all the arms are tried in &quot;parallel&quot;, but conda only the first arm with the first goal that succeeds will be tried"><a href="#t1501525276663939" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-31</span> <span class="t" onclick="H(this)">18:21:16</span>         hiredman </span><span>with conde all the arms are tried in &quot;parallel&quot;, but conda only the first arm with the first goal that succeeds will be tried</span></div><div id="t1501525318688163" t="2017-07-31 18:21:58 hiredman which would make sense here, I think, if the type terms unify you don&apos;t care about building up a list of errors"><a href="#t1501525318688163" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-31</span> <span class="t" onclick="H(this)">18:21:58</span>         hiredman </span><span>which would make sense here, I think, if the type terms unify you don&apos;t care about building up a list of errors</span></div><div id="t1501526308269241" t="2017-07-31 18:38:28 mrchance Right, also confirms my expectations, was just worried it might have a performance impact or something"><a href="#t1501526308269241" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-31</span> <span class="t" onclick="H(this)">18:38:28</span>         mrchance </span><span>Right, also confirms my expectations, was just worried it might have a performance impact or something</span></div><div id="t1501529389995408" t="2017-07-31 19:29:49 urbank Is there still a plan to completely port it to clojurescript?"><a href="#t1501529389995408" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-07-31</span> <span class="t" onclick="H(this)">19:29:49</span>           urbank </span><span>Is there still a plan to completely port it to clojurescript?</span></div><div id="t1502117799412606" t="2017-08-07 14:56:39 apeep Hi, I&apos;m new to this field, and from what I can see there&apos;s little activity towards implementing a probabilistic element to  core.logic along the lines of probKanren, is that the case? Are there any projects out there using core.logic and applying fuzzy logic or answering problems with a probability-based answer?"><a href="#t1502117799412606" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-08-07</span> <span class="t" onclick="H(this)">14:56:39</span>            apeep </span><span>Hi, I&apos;m new to this field, and from what I can see there&apos;s little activity towards implementing a probabilistic element to  core.logic along the lines of probKanren, is that the case? Are there any projects out there using core.logic and applying fuzzy logic or answering problems with a probability-based answer?</span></div><div id="t1503400767000008" t="2017-08-22 11:19:27 zilti How can I execute a  core.logic  goal repeatedly until exhausted, and use the result as a list in my logic program? I&apos;m looking for the equivalent to &quot;nesting&quot; a run expression, so to speak."><a href="#t1503400767000008" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-08-22</span> <span class="t" onclick="H(this)">11:19:27</span>            zilti </span><span>How can I execute a </span><code>core.logic</code><span> goal repeatedly until exhausted, and use the result as a list in my logic program? I&apos;m looking for the equivalent to &quot;nesting&quot; a run expression, so to speak.</span></div><div id="t1503410322000524" t="2017-08-22 13:58:42 zilti Basically what I have now is:
 (defn next-free-license [ltype]
  (run 1 [q]
       (fresh [licid tid link links license]
              (datascript= [tid :type/name ltype])
              (datascript= [licid :license/type tid])
              (datascript= [licid :license/key license])
              (datascript= [licid :license/user link])
              (membero link links)
              (== q [links licid license]))))
 

Which gets me  [(138 . _0) 6 &quot;532f16c2c9b13540eb6a&quot;]  but I need  [(138 143 151 153) 6 &quot;532f16c2c9b13540eb6a&quot;]"><a href="#t1503410322000524" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-08-22</span> <span class="t" onclick="H(this)">13:58:42</span>            zilti </span><span>Basically what I have now is:
</span><pre>(defn next-free-license [ltype]
  (run 1 [q]
       (fresh [licid tid link links license]
              (datascript= [tid :type/name ltype])
              (datascript= [licid :license/type tid])
              (datascript= [licid :license/key license])
              (datascript= [licid :license/user link])
              (membero link links)
              (== q [links licid license]))))
</pre><span>

Which gets me </span><code>[(138 . _0) 6 &quot;532f16c2c9b13540eb6a&quot;]</code><span> but I need </span><code>[(138 143 151 153) 6 &quot;532f16c2c9b13540eb6a&quot;]</code></div><div id="t1508750006000375" t="2017-10-23 09:13:26 xtreak29 How can I get all the successions in the conde elements as below I need to store the values of z as a list. Similar to  https://en.wikibooks.org/wiki/Prolog/Recursive_Rules  where all the ancestors are listed

 (defn route [x y]
  (conde
   [(c x y)]
   [(fresh [z]
      (c x z)
      (route z y))]))

(def facts
  (pldb/db
   [c &apos;a &apos;b]
   [c &apos;a &apos;x]
   [c &apos;b &apos;c]
   [c &apos;c &apos;d]
   [c &apos;d &apos;e]))

(pldb/with-db facts
                 (run* [q]
                   (fresh [x y]
                     (== x &apos;a)
                     (== y &apos;e)
                     (route x y)
                     (== q  (route x y)))))
 

I need the result as  [[a b][b c][c d][d e]]  . Is it possible with core.logic ?"><a href="#t1508750006000375" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-10-23</span> <span class="t" onclick="H(this)">09:13:26</span>         xtreak29 </span><span>How can I get all the successions in the conde elements as below I need to store the values of z as a list. Similar to </span><a href="https://en.wikibooks.org/wiki/Prolog/Recursive_Rules" target="_blank">https://en.wikibooks.org/wiki/Prolog/Recursive_Rules</a><span> where all the ancestors are listed

</span><pre>(defn route [x y]
  (conde
   [(c x y)]
   [(fresh [z]
      (c x z)
      (route z y))]))

(def facts
  (pldb/db
   [c &apos;a &apos;b]
   [c &apos;a &apos;x]
   [c &apos;b &apos;c]
   [c &apos;c &apos;d]
   [c &apos;d &apos;e]))

(pldb/with-db facts
                 (run* [q]
                   (fresh [x y]
                     (== x &apos;a)
                     (== y &apos;e)
                     (route x y)
                     (== q  (route x y)))))
</pre><span>

I need the result as </span><code>[[a b][b c][c d][d e]]</code><span> . Is it possible with core.logic ?</span></div><div id="t1508751429000328" t="2017-10-23 09:37:09 xtreak29 It seems it&apos;s not possible with core.logic :  https://stackoverflow.com/questions/12563351/listing-unique-dag-parents-with-core-logic?rq=1  . Can someone explain the answer where David Nolen points out passing it to set constructor ?"><a href="#t1508751429000328" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-10-23</span> <span class="t" onclick="H(this)">09:37:09</span>         xtreak29 </span><span>It seems it&apos;s not possible with core.logic : </span><a href="https://stackoverflow.com/questions/12563351/listing-unique-dag-parents-with-core-logic?rq=1" target="_blank">https://stackoverflow.com/questions/12563351/listing-unique-dag-parents-with-core-logic?rq=1</a><span> . Can someone explain the answer where David Nolen points out passing it to set constructor ?</span></div><div id="t1508765822000429" t="2017-10-23 13:37:02 norman I’d have to think some, but a couple notes: First, goals are not functions that return values.  (== q (route x y)) is nonsensical on core.logic."><a href="#t1508765822000429" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-10-23</span> <span class="t" onclick="H(this)">13:37:02</span>           norman </span><span>I’d have to think some, but a couple notes: First, goals are not functions that return values.  (== q (route x y)) is nonsensical on core.logic.</span></div><div id="t1508765837000528" t="2017-10-23 13:37:17 norman If this is easily double you’d need:"><a href="#t1508765837000528" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-10-23</span> <span class="t" onclick="H(this)">13:37:17</span>           norman </span><span>If this is easily double you’d need:</span></div><div id="t1508765859000376" t="2017-10-23 13:37:39 norman (route r x y) which asserts r is a route between x and y"><a href="#t1508765859000376" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-10-23</span> <span class="t" onclick="H(this)">13:37:39</span>           norman </span><span>(route r x y) which asserts r is a route between x and y</span></div><div id="t1508765875000072" t="2017-10-23 13:37:55 norman given the provided facts"><a href="#t1508765875000072" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-10-23</span> <span class="t" onclick="H(this)">13:37:55</span>           norman </span><span>given the provided facts</span></div><div id="t1508765944000113" t="2017-10-23 13:39:04 norman Then you’d assert (route q ’a ’e)"><a href="#t1508765944000113" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-10-23</span> <span class="t" onclick="H(this)">13:39:04</span>           norman </span><span>Then you’d assert (route q ’a ’e)</span></div><div id="t1508766041000136" t="2017-10-23 13:40:41 norman Otherwise you can’t generate the path, only the fact that a path exists"><a href="#t1508766041000136" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-10-23</span> <span class="t" onclick="H(this)">13:40:41</span>           norman </span><span>Otherwise you can’t generate the path, only the fact that a path exists</span></div><div id="t1508769276000548" t="2017-10-23 14:34:36 xtreak29 @norman Thanks I am currently a newbie to core.logic and still trying to grasp it. I was trying to convert the Prolog examples of recursive relations to core.logic and also found the definition of relations using functions at  https://github.com/swannodette/logic-tutorial/blob/master/src/logic_tutorial/tut1.clj#L18  and thought it&apos;s right to use functions as goals. The closest I have got to working is as below : 

 (run-db* facts [q]
                        (fresh [x]
                          (== x &apos;a)
                          (route x q))) ;; (x b c d e)
"><a href="#t1508769276000548" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-10-23</span> <span class="t" onclick="H(this)">14:34:36</span>         xtreak29 </span><span>@norman Thanks I am currently a newbie to core.logic and still trying to grasp it. I was trying to convert the Prolog examples of recursive relations to core.logic and also found the definition of relations using functions at </span><a href="https://github.com/swannodette/logic-tutorial/blob/master/src/logic_tutorial/tut1.clj#L18" target="_blank">https://github.com/swannodette/logic-tutorial/blob/master/src/logic_tutorial/tut1.clj#L18</a><span> and thought it&apos;s right to use functions as goals. The closest I have got to working is as below : 

</span><pre>(run-db* facts [q]
                        (fresh [x]
                          (== x &apos;a)
                          (route x q))) ;; (x b c d e)
</pre></div><div id="t1508770159000379" t="2017-10-23 14:49:19 norman Yes, that route is just a fact that asserts a route exists"><a href="#t1508770159000379" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-10-23</span> <span class="t" onclick="H(this)">14:49:19</span>           norman </span><span>Yes, that route is just a fact that asserts a route exists</span></div><div id="t1508993893000137" t="2017-10-26 04:58:13 bbss I&apos;m getting errors when using fd example:
 (run* [q]
  (fresh [x y]
    (fd/in x y (fd/interval 1 10))
    (fd/+ x y 10)
    (== q [x y]))) ; =&gt; ([1 9] [2 8] [3 7] [4 6] [5 5] [6 4] [7 3] [8 2] [9 1])
 

Gives 
 Exception Constrained variable &lt;lvar:q__50256&gt; without domain  clojure.core.logic/verify-all-bound/verify-all-bound*--48690 (logic.clj:2136) 
from:
 https://github.com/clojure/core.logic/wiki/Features"><a href="#t1508993893000137" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-10-26</span> <span class="t" onclick="H(this)">04:58:13</span>             bbss </span><span>I&apos;m getting errors when using fd example:
</span><pre>(run* [q]
  (fresh [x y]
    (fd/in x y (fd/interval 1 10))
    (fd/+ x y 10)
    (== q [x y]))) ; =&gt; ([1 9] [2 8] [3 7] [4 6] [5 5] [6 4] [7 3] [8 2] [9 1])
</pre><span>

Gives 
</span><pre>Exception Constrained variable &lt;lvar:q__50256&gt; without domain  clojure.core.logic/verify-all-bound/verify-all-bound*--48690 (logic.clj:2136)</pre><span>
from:
</span><a href="https://github.com/clojure/core.logic/wiki/Features" target="_blank">https://github.com/clojure/core.logic/wiki/Features</a></div><div id="t1508993925000054" t="2017-10-26 04:58:45 bbss some of the fd  examples from the test namespace also fail. using  0.8.11"><a href="#t1508993925000054" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-10-26</span> <span class="t" onclick="H(this)">04:58:45</span>             bbss </span><span>some of the fd  examples from the test namespace also fail. using </span><code>0.8.11</code></div><div id="t1508993960000104" t="2017-10-26 04:59:20 bbss it seems perfect for the problem I want to solve, finding build orders in StarCraft II  🙂"><a href="#t1508993960000104" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-10-26</span> <span class="t" onclick="H(this)">04:59:20</span>             bbss </span><span>it seems perfect for the problem I want to solve, finding build orders in StarCraft II </span><b>🙂</b></div><div id="t1508994743000090" t="2017-10-26 05:12:23 bbss I think in general core.logic would make for a useful tool in an RTS AI. What do people here think?"><a href="#t1508994743000090" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-10-26</span> <span class="t" onclick="H(this)">05:12:23</span>             bbss </span><span>I think in general core.logic would make for a useful tool in an RTS AI. What do people here think?</span></div><div id="t1508994811000153" t="2017-10-26 05:13:31 bbss Maybe generate data to help train a neural net, or help it make decisions, that could then more easily be visualized."><a href="#t1508994811000153" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-10-26</span> <span class="t" onclick="H(this)">05:13:31</span>             bbss </span><span>Maybe generate data to help train a neural net, or help it make decisions, that could then more easily be visualized.</span></div><div id="t1509003255000006" t="2017-10-26 07:34:15 bbss figured out I was importing wrong, got it working now  🙂"><a href="#t1509003255000006" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-10-26</span> <span class="t" onclick="H(this)">07:34:15</span>             bbss </span><span>figured out I was importing wrong, got it working now </span><b>🙂</b></div><div id="t1509048961000386" t="2017-10-26 20:16:01 xtreak29 Is there a way to generate the constraints in a macro. I need the following : 

 (pldb/with-db db (run 1 [q]
                     (fresh [x y z a b c]
                       (foo x y)
                       (foo a b)
                       (foo b c)
                       ;; more constraints
                       (== q [x y z a b c])))
"><a href="#t1509048961000386" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-10-26</span> <span class="t" onclick="H(this)">20:16:01</span>         xtreak29 </span><span>Is there a way to generate the constraints in a macro. I need the following : 

</span><pre>(pldb/with-db db (run 1 [q]
                     (fresh [x y z a b c]
                       (foo x y)
                       (foo a b)
                       (foo b c)
                       ;; more constraints
                       (== q [x y z a b c])))
</pre></div><div id="t1509049356000612" t="2017-10-26 20:22:36 xtreak29 I can have many number of vars to fresh and also a lot of foo constraints. I have the following macro but it&apos;s not working. 

 (defmacro my-fresh
  [db districts res]
  `(pldb/with-db ~db (run 1 [q]
                       (fresh ~districts
                         (map (fn [[x y]] (&apos;foo x y)) ~res)
                         (== q ~districts)))))
"><a href="#t1509049356000612" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-10-26</span> <span class="t" onclick="H(this)">20:22:36</span>         xtreak29 </span><span>I can have many number of vars to fresh and also a lot of foo constraints. I have the following macro but it&apos;s not working. 

</span><pre>(defmacro my-fresh
  [db districts res]
  `(pldb/with-db ~db (run 1 [q]
                       (fresh ~districts
                         (map (fn [[x y]] (&apos;foo x y)) ~res)
                         (== q ~districts)))))
</pre></div><div id="t1509050497000175" t="2017-10-26 20:41:37 hiredman you don&apos;t need a macro"><a href="#t1509050497000175" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-10-26</span> <span class="t" onclick="H(this)">20:41:37</span>         hiredman </span><span>you don&apos;t need a macro</span></div><div id="t1509050529000585" t="2017-10-26 20:42:09 hiredman there is a goal that will combine a sequence of goals in to a single goal (via conjunction)"><a href="#t1509050529000585" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-10-26</span> <span class="t" onclick="H(this)">20:42:09</span>         hiredman </span><span>there is a goal that will combine a sequence of goals in to a single goal (via conjunction)</span></div><div id="t1509050571000445" t="2017-10-26 20:42:51 hiredman https://github.com/clojure/core.logic/blob/29917372ef066c42ca362e3a94f68d620ddd1b56/src/main/clojure/clojure/core/logic.clj#L1273"><a href="#t1509050571000445" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-10-26</span> <span class="t" onclick="H(this)">20:42:51</span>         hiredman </span><a href="https://github.com/clojure/core.logic/blob/29917372ef066c42ca362e3a94f68d620ddd1b56/src/main/clojure/clojure/core/logic.clj#L1273" target="_blank">https://github.com/clojure/core.logic/blob/29917372ef066c42ca362e3a94f68d620ddd1b56/src/main/clojure/clojure/core/logic.clj#L1273</a></div><div id="t1509083642000219" t="2017-10-27 05:54:02 xtreak29 @hiredman Thanks. But how can I represent the lvars in fresh. I might have 3 lvars or 10 lvars to fresh and I might have and those lvars of the name mapped to different constraints. I am trying to solve the coloring problem using core.logic and I want to make the  state  var to be supplied as lvar to  fresh . Also I have the  neighbor  clauses which I want to generate from a map. Does using and* correctly match the lvars from fresh to the one generated. I might be doing something wrong here since I am new to core.logic and clojure macros."><a href="#t1509083642000219" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-10-27</span> <span class="t" onclick="H(this)">05:54:02</span>         xtreak29 </span><span>@hiredman Thanks. But how can I represent the lvars in fresh. I might have 3 lvars or 10 lvars to fresh and I might have and those lvars of the name mapped to different constraints. I am trying to solve the coloring problem using core.logic and I want to make the </span><code>state</code><span> var to be supplied as lvar to </span><code>fresh</code><span>. Also I have the </span><code>neighbor</code><span> clauses which I want to generate from a map. Does using and* correctly match the lvars from fresh to the one generated. I might be doing something wrong here since I am new to core.logic and clojure macros.</span></div><div id="t1509083676000159" t="2017-10-27 05:54:36 xtreak29 Here I want states to be supplied to fresh :  https://gist.github.com/tirkarthi/df7b99ad5d9d04745b67040093598984"><a href="#t1509083676000159" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-10-27</span> <span class="t" onclick="H(this)">05:54:36</span>         xtreak29 </span><span>Here I want states to be supplied to fresh : </span><a href="https://gist.github.com/tirkarthi/df7b99ad5d9d04745b67040093598984" target="_blank">https://gist.github.com/tirkarthi/df7b99ad5d9d04745b67040093598984</a></div><div id="t1509083768000203" t="2017-10-27 05:56:08 hiredman https://gist.github.com/hiredman/05befd5b39eef89b86ca#file-bench-clj-L33-L35  is an old example of generating lvars dynamiclly"><a href="#t1509083768000203" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-10-27</span> <span class="t" onclick="H(this)">05:56:08</span>         hiredman </span><a href="https://gist.github.com/hiredman/05befd5b39eef89b86ca#file-bench-clj-L33-L35" target="_blank">https://gist.github.com/hiredman/05befd5b39eef89b86ca#file-bench-clj-L33-L35</a><span> is an old example of generating lvars dynamiclly</span></div><div id="t1509083808000097" t="2017-10-27 05:56:48 hiredman fresh you can think of as a macro, (fresh [x] ...) -&gt; (let [x (lvar)] ...)"><a href="#t1509083808000097" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-10-27</span> <span class="t" onclick="H(this)">05:56:48</span>         hiredman </span><span>fresh you can think of as a macro, (fresh [x] ...) -&gt; (let [x (lvar)] ...)</span></div><div id="t1509084363000083" t="2017-10-27 06:06:03 xtreak29 Thanks. I saw the code for  solve-bench . So I can just use 
 (run 1 [q] 
(and (foo (:x bench) (:y bench)) 
        (foo (:y bench) (:x bench))) 
(== q bench))
"><a href="#t1509084363000083" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-10-27</span> <span class="t" onclick="H(this)">06:06:03</span>         xtreak29 </span><span>Thanks. I saw the code for </span><code>solve-bench</code><span>. So I can just use 
</span><pre>(run 1 [q] 
(and (foo (:x bench) (:y bench)) 
        (foo (:y bench) (:x bench))) 
(== q bench))
</pre></div><div id="t1509084407000020" t="2017-10-27 06:06:47 hiredman yes"><a href="#t1509084407000020" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-10-27</span> <span class="t" onclick="H(this)">06:06:47</span>         hiredman </span><span>yes</span></div><div id="t1509084714000005" t="2017-10-27 06:11:54 xtreak29 Is there a limit on the stack or anything in JVM for the number of lvars. I am trying to unify some 600 lvars against around 4000 goals. The prolog version segfaulted on my machine. Just wanted to know if something that big is done or possible technically."><a href="#t1509084714000005" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-10-27</span> <span class="t" onclick="H(this)">06:11:54</span>         xtreak29 </span><span>Is there a limit on the stack or anything in JVM for the number of lvars. I am trying to unify some 600 lvars against around 4000 goals. The prolog version segfaulted on my machine. Just wanted to know if something that big is done or possible technically.</span></div><div id="t1509084743000067" t="2017-10-27 06:12:23 xtreak29 Also I realize the whole unification is dependent on each other and cannot be parallelized"><a href="#t1509084743000067" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-10-27</span> <span class="t" onclick="H(this)">06:12:23</span>         xtreak29 </span><span>Also I realize the whole unification is dependent on each other and cannot be parallelized</span></div><div id="t1509084822000064" t="2017-10-27 06:13:42 hiredman I don&apos;t know"><a href="#t1509084822000064" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-10-27</span> <span class="t" onclick="H(this)">06:13:42</span>         hiredman </span><span>I don&apos;t know</span></div><div id="t1509085723000008" t="2017-10-27 06:28:43 pbaille Hi! I&apos;m a beginner with logic programing. does anyone mind to tell me how can I make this code work:"><a href="#t1509085723000008" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-10-27</span> <span class="t" onclick="H(this)">06:28:43</span>          pbaille </span><span>Hi! I&apos;m a beginner with logic programing. does anyone mind to tell me how can I make this code work:</span></div><div id="t1509085747000186" t="2017-10-27 06:29:07 pbaille (run 1 [q]
       (fresh [dom a b]
              (== dom (apply fd/domain (range 11)))
              (l/everyg #(fd/in % dom) [a b])
              (== q [a b])
              (fd/* a b 100)))
"><a href="#t1509085747000186" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-10-27</span> <span class="t" onclick="H(this)">06:29:07</span>          pbaille </span><pre>(run 1 [q]
       (fresh [dom a b]
              (== dom (apply fd/domain (range 11)))
              (l/everyg #(fd/in % dom) [a b])
              (== q [a b])
              (fd/* a b 100)))
</pre></div><div id="t1509085797000081" t="2017-10-27 06:29:57 pbaille I&apos;ve got this error:  IllegalArgumentException No implementation of method: :-lb of protocol: #&apos;clojure.core.logic.fd/IInterval found for class: clojure.core.logic.LVar  clojure.core/-cache-protocol-fn (core_deftype.clj:568)"><a href="#t1509085797000081" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-10-27</span> <span class="t" onclick="H(this)">06:29:57</span>          pbaille </span><span>I&apos;ve got this error: </span><code>IllegalArgumentException No implementation of method: :-lb of protocol: #&apos;clojure.core.logic.fd/IInterval found for class: clojure.core.logic.LVar  clojure.core/-cache-protocol-fn (core_deftype.clj:568)</code></div><div id="t1509085932000270" t="2017-10-27 06:32:12 pbaille ok I&apos;ve found"><a href="#t1509085932000270" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-10-27</span> <span class="t" onclick="H(this)">06:32:12</span>          pbaille </span><span>ok I&apos;ve found</span></div><div id="t1509085945000066" t="2017-10-27 06:32:25 pbaille I have to use interval intead of row lvars"><a href="#t1509085945000066" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-10-27</span> <span class="t" onclick="H(this)">06:32:25</span>          pbaille </span><span>I have to use interval intead of row lvars</span></div><div id="t1509085954000168" t="2017-10-27 06:32:34 pbaille sorry for the noise"><a href="#t1509085954000168" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-10-27</span> <span class="t" onclick="H(this)">06:32:34</span>          pbaille </span><span>sorry for the noise</span></div><div id="t1509090682000103" t="2017-10-27 07:51:22 pbaille what are some logic programing utils libraries built on top of core.logic?"><a href="#t1509090682000103" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-10-27</span> <span class="t" onclick="H(this)">07:51:22</span>          pbaille </span><span>what are some logic programing utils libraries built on top of core.logic?</span></div><div id="t1509265386000013" t="2017-10-29 08:23:06 pbaille anybody?"><a href="#t1509265386000013" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-10-29</span> <span class="t" onclick="H(this)">08:23:06</span>          pbaille </span><span>anybody?</span></div><div id="t1509265499000018" t="2017-10-29 08:24:59 pbaille I&apos;m struggling with this simple relation, the results are incomplete, and I don&apos;t understand why.  

I&apos;m beginning with core.logic I don&apos;t know if it is a bug or my bad understanding of it.  

 (require &apos;[clojure.core.logic :as l])
    (require &apos;[clojure.core.logic.fd :as fd])
    
    (defn zip+o [x y z]
      (l/conde
        [(l/== () x) (l/== () y) (l/== () z)]
        [(l/fresh [fx rx fy ry fz rz]
                  (l/conso fx rx x)
                  (l/conso fy ry y)
                  (l/conso fz rz z)
                  (fd/in fx fy fz (fd/interval 10))
                  (fd/+ fx fy fz)
                  (zip+o rx ry rz))]))
    
    ; the same with defne macro
    (comment
      (l/defne zip+o [x y z]
               ([() () ()])
               ([[fx . rx]
                 [fy . ry]
                 [fz . rz]]
                 (fd/in fx fy fz (fd/interval 10))
                 (fd/+ fx fy fz)
                 (zip+o rx ry rz))))
    
    (def expected-solutions
      #{{:x [0 0] :y [1 1]}
        {:x [0 1] :y [1 0]}
        {:x [1 1] :y [0 0]}
        {:x [1 0] :y [0 1]}})
    
    (l/run* [q]
            (l/fresh [x y]
                     (l/== q {:x x :y y})
                     (zip+o x y [1 1])))
    
    ;=&gt; ({:x (1 0), :y (0 1)}
    ;    {:x (0 0), :y (1 1)})
"><a href="#t1509265499000018" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-10-29</span> <span class="t" onclick="H(this)">08:24:59</span>          pbaille </span><span>I&apos;m struggling with this simple relation, the results are incomplete, and I don&apos;t understand why.  

I&apos;m beginning with core.logic I don&apos;t know if it is a bug or my bad understanding of it.  

</span><pre>(require &apos;[clojure.core.logic :as l])
    (require &apos;[clojure.core.logic.fd :as fd])
    
    (defn zip+o [x y z]
      (l/conde
        [(l/== () x) (l/== () y) (l/== () z)]
        [(l/fresh [fx rx fy ry fz rz]
                  (l/conso fx rx x)
                  (l/conso fy ry y)
                  (l/conso fz rz z)
                  (fd/in fx fy fz (fd/interval 10))
                  (fd/+ fx fy fz)
                  (zip+o rx ry rz))]))
    
    ; the same with defne macro
    (comment
      (l/defne zip+o [x y z]
               ([() () ()])
               ([[fx . rx]
                 [fy . ry]
                 [fz . rz]]
                 (fd/in fx fy fz (fd/interval 10))
                 (fd/+ fx fy fz)
                 (zip+o rx ry rz))))
    
    (def expected-solutions
      #{{:x [0 0] :y [1 1]}
        {:x [0 1] :y [1 0]}
        {:x [1 1] :y [0 0]}
        {:x [1 0] :y [0 1]}})
    
    (l/run* [q]
            (l/fresh [x y]
                     (l/== q {:x x :y y})
                     (zip+o x y [1 1])))
    
    ;=&gt; ({:x (1 0), :y (0 1)}
    ;    {:x (0 0), :y (1 1)})
</pre></div><div id="t1509377330000304" t="2017-10-30 15:28:50 norman I’m not familiar with the finite domain work."><a href="#t1509377330000304" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-10-30</span> <span class="t" onclick="H(this)">15:28:50</span>           norman </span><span>I’m not familiar with the finite domain work.</span></div><div id="t1509377339000345" t="2017-10-30 15:28:59 norman But if you change the fd/in to"><a href="#t1509377339000345" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-10-30</span> <span class="t" onclick="H(this)">15:28:59</span>           norman </span><span>But if you change the fd/in to</span></div><div id="t1509377341000047" t="2017-10-30 15:29:01 norman (l/membero fx [0 1 2 3 4 5])
                (l/membero fy [0 1 2 3 4 5])
                (l/membero fz [0 1 2 3 4 5])"><a href="#t1509377341000047" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-10-30</span> <span class="t" onclick="H(this)">15:29:01</span>           norman </span><span>(l/membero fx [0 1 2 3 4 5])
                (l/membero fy [0 1 2 3 4 5])
                (l/membero fz [0 1 2 3 4 5])</span></div><div id="t1509377341000859" t="2017-10-30 15:29:01 norman it works"><a href="#t1509377341000859" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-10-30</span> <span class="t" onclick="H(this)">15:29:01</span>           norman </span><span>it works</span></div><div id="t1509377463000515" t="2017-10-30 15:31:03 norman So I suppose either there is a bug in fd/in or you are not using correctly here."><a href="#t1509377463000515" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-10-30</span> <span class="t" onclick="H(this)">15:31:03</span>           norman </span><span>So I suppose either there is a bug in fd/in or you are not using correctly here.</span></div><div id="t1509630649000691" t="2017-11-02 13:50:49 pbaille thank you @norman, i&apos;ve found a way to obtain the correct solution, see this ticket if interested  https://dev.clojure.org/jira/browse/LOGIC-185"><a href="#t1509630649000691" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-11-02</span> <span class="t" onclick="H(this)">13:50:49</span>          pbaille </span><span>thank you @norman, i&apos;ve found a way to obtain the correct solution, see this ticket if interested </span><a href="https://dev.clojure.org/jira/browse/LOGIC-185" target="_blank">https://dev.clojure.org/jira/browse/LOGIC-185</a></div><div id="t1509630673000001" t="2017-11-02 13:51:13 pbaille I&apos;ve got another question"><a href="#t1509630673000001" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-11-02</span> <span class="t" onclick="H(this)">13:51:13</span>          pbaille </span><span>I&apos;ve got another question</span></div><div id="t1509630810000634" t="2017-11-02 13:53:30 pbaille I&apos;m going thru the reasoned schemer and i&apos;ve noticed that the order of excecution differ sometimes in core.logic. in particular &apos;conde&apos; seems to behave differently, looks like it tries all branch before doing any recursion. Any toughts on this?"><a href="#t1509630810000634" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-11-02</span> <span class="t" onclick="H(this)">13:53:30</span>          pbaille </span><span>I&apos;m going thru the reasoned schemer and i&apos;ve noticed that the order of excecution differ sometimes in core.logic. in particular &apos;conde&apos; seems to behave differently, looks like it tries all branch before doing any recursion. Any toughts on this?</span></div><div id="t1509631319000448" t="2017-11-02 14:01:59 pbaille (defn pairo [x]
  (fresh [y] (firsto x y)))

(defn unwrapo [x y]
  (conde
    [(pairo x) (fresh [a] (firsto x a) (unwrapo a y))]
    [(== x y)]))

(run* [q] (unwrapo &apos;(((pizza))) q))
; ((((pizza))) 
;  ((pizza)) 
;  (pizza) 
;  pizza
; )

;while in TRS it returns

; (pizza
;  (pizza)
;  ((pizza))
;  (((pizza)))
; )


;both:
(run 1 [q] (unwrapo q &apos;pizza))
;and
(run 1 [q] (unwrapo (list (list q)) &apos;pizza))

;returns:

;=&gt; (pizza)

;while in TRS it returns

;=&gt; ()
"><a href="#t1509631319000448" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-11-02</span> <span class="t" onclick="H(this)">14:01:59</span>          pbaille </span><pre>(defn pairo [x]
  (fresh [y] (firsto x y)))

(defn unwrapo [x y]
  (conde
    [(pairo x) (fresh [a] (firsto x a) (unwrapo a y))]
    [(== x y)]))

(run* [q] (unwrapo &apos;(((pizza))) q))
; ((((pizza))) 
;  ((pizza)) 
;  (pizza) 
;  pizza
; )

;while in TRS it returns

; (pizza
;  (pizza)
;  ((pizza))
;  (((pizza)))
; )


;both:
(run 1 [q] (unwrapo q &apos;pizza))
;and
(run 1 [q] (unwrapo (list (list q)) &apos;pizza))

;returns:

;=&gt; (pizza)

;while in TRS it returns

;=&gt; ()
</pre></div><div id="t1509645573000246" t="2017-11-02 17:59:33 pbaille the wiki actually explain this difference, i&apos;ve missed it, sorry"><a href="#t1509645573000246" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-11-02</span> <span class="t" onclick="H(this)">17:59:33</span>          pbaille </span><span>the wiki actually explain this difference, i&apos;ve missed it, sorry</span></div><div id="t1512598519000391" t="2017-12-06 22:15:19 noprompt is there a rationale for why lvars as map keys do not unify?
 (run* [q]
  (fresh [a b]
    (== {a b} {:a 2})
    (== q (list a b))))
;; =&gt; ()
"><a href="#t1512598519000391" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-06</span> <span class="t" onclick="H(this)">22:15:19</span>         noprompt </span><span>is there a rationale for why lvars as map keys do not unify?
</span><pre>(run* [q]
  (fresh [a b]
    (== {a b} {:a 2})
    (== q (list a b))))
;; =&gt; ()
</pre></div><div id="t1512598786000616" t="2017-12-06 22:19:46 noprompt in my spare time i’ve been working on a term rewriting engine and was also confronted with the problem of unifying maps. i was able to find a solution that achieves this. i was surprised to find that  core.logic  doesn’t support this, however, i wouldn’t be surprised if i may have overlooked something in my own algorithm."><a href="#t1512598786000616" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-06</span> <span class="t" onclick="H(this)">22:19:46</span>         noprompt </span><span>in my spare time i’ve been working on a term rewriting engine and was also confronted with the problem of unifying maps. i was able to find a solution that achieves this. i was surprised to find that </span><code>core.logic</code><span> doesn’t support this, however, i wouldn’t be surprised if i may have overlooked something in my own algorithm.</span></div><div id="t1512600267000219" t="2017-12-06 22:44:27 hiredman there is no one way to do it"><a href="#t1512600267000219" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-06</span> <span class="t" onclick="H(this)">22:44:27</span>         hiredman </span><span>there is no one way to do it</span></div><div id="t1512600505000038" t="2017-12-06 22:48:25 noprompt @hiredman explain."><a href="#t1512600505000038" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-06</span> <span class="t" onclick="H(this)">22:48:25</span>         noprompt </span><span>@hiredman explain.</span></div><div id="t1512600551000027" t="2017-12-06 22:49:11 hiredman (== {a b c d} {:a 1  😛  2})"><a href="#t1512600551000027" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-06</span> <span class="t" onclick="H(this)">22:49:11</span>         hiredman </span><span>(== {a b c d} {:a 1 </span><b>😛</b><span> 2})</span></div><div id="t1512600557000194" t="2017-12-06 22:49:17 hiredman (== {a b c d} {:a 1 :b 2})"><a href="#t1512600557000194" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-06</span> <span class="t" onclick="H(this)">22:49:17</span>         hiredman </span><code>(== {a b c d} {:a 1 :b 2})</code></div><div id="t1512600609000510" t="2017-12-06 22:50:09 noprompt the algorithm i wrote unifies ground entries, then entries with ground values, then entries with ground keys, then entries where both the key and value are variable."><a href="#t1512600609000510" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-06</span> <span class="t" onclick="H(this)">22:50:09</span>         noprompt </span><span>the algorithm i wrote unifies ground entries, then entries with ground values, then entries with ground keys, then entries where both the key and value are variable.</span></div><div id="t1512600635000396" t="2017-12-06 22:50:35 hiredman there is no single unification for that"><a href="#t1512600635000396" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-06</span> <span class="t" onclick="H(this)">22:50:35</span>         hiredman </span><span>there is no single unification for that</span></div><div id="t1512600642000255" t="2017-12-06 22:50:42 noprompt your example can be unified in multiple ways, the values can be streamed to a, b, c, and d in those cases."><a href="#t1512600642000255" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-06</span> <span class="t" onclick="H(this)">22:50:42</span>         noprompt </span><span>your example can be unified in multiple ways, the values can be streamed to a, b, c, and d in those cases.</span></div><div id="t1512600657000466" t="2017-12-06 22:50:57 noprompt actually, that’s not true."><a href="#t1512600657000466" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-06</span> <span class="t" onclick="H(this)">22:50:57</span>         noprompt </span><span>actually, that’s not true.</span></div><div id="t1512600674000085" t="2017-12-06 22:51:14 noprompt the fact there exists a solution refutes that argument."><a href="#t1512600674000085" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-06</span> <span class="t" onclick="H(this)">22:51:14</span>         noprompt </span><span>the fact there exists a solution refutes that argument.</span></div><div id="t1512600729000035" t="2017-12-06 22:52:09 noprompt so maybe my understanding here is misguided."><a href="#t1512600729000035" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-06</span> <span class="t" onclick="H(this)">22:52:09</span>         noprompt </span><span>so maybe my understanding here is misguided.</span></div><div id="t1512600747000448" t="2017-12-06 22:52:27 noprompt can you explain your emphasis on “single”?"><a href="#t1512600747000448" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-06</span> <span class="t" onclick="H(this)">22:52:27</span>         noprompt </span><span>can you explain your emphasis on “single”?</span></div><div id="t1512600848000213" t="2017-12-06 22:54:08 hiredman lists are defined inductively via cons, so there is a one order they can be walked for unification, and that orders arises from the definition"><a href="#t1512600848000213" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-06</span> <span class="t" onclick="H(this)">22:54:08</span>         hiredman </span><span>lists are defined inductively via cons, so there is a one order they can be walked for unification, and that orders arises from the definition</span></div><div id="t1512600920000058" t="2017-12-06 22:55:20 hiredman maps are not inductively defined, so there is no single iteration order, so there is no fixed thing to wire in to the unifier"><a href="#t1512600920000058" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-06</span> <span class="t" onclick="H(this)">22:55:20</span>         hiredman </span><span>maps are not inductively defined, so there is no single iteration order, so there is no fixed thing to wire in to the unifier</span></div><div id="t1512600969000185" t="2017-12-06 22:56:09 hiredman you can do it, but you will have to make some choices to do it that preclude being general, which is what a library like core.logic is trying to do"><a href="#t1512600969000185" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-06</span> <span class="t" onclick="H(this)">22:56:09</span>         hiredman </span><span>you can do it, but you will have to make some choices to do it that preclude being general, which is what a library like core.logic is trying to do</span></div><div id="t1512601038000055" t="2017-12-06 22:57:18 noprompt i see. can you elaborate more on why the inductive property is important?"><a href="#t1512601038000055" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-06</span> <span class="t" onclick="H(this)">22:57:18</span>         noprompt </span><span>i see. can you elaborate more on why the inductive property is important?</span></div><div id="t1512601092000111" t="2017-12-06 22:58:12 noprompt wrt core.logic?"><a href="#t1512601092000111" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-06</span> <span class="t" onclick="H(this)">22:58:12</span>         noprompt </span><span>wrt core.logic?</span></div><div id="t1512601380000094" t="2017-12-06 23:03:00 noprompt i’m guessing the solution here would be to use another goal in favor of  ==  which does stream the substitutions."><a href="#t1512601380000094" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-06</span> <span class="t" onclick="H(this)">23:03:00</span>         noprompt </span><span>i’m guessing the solution here would be to use another goal in favor of </span><code>==</code><span> which does stream the substitutions.</span></div><div id="t1512601410000068" t="2017-12-06 23:03:30 hiredman because unification has to traverse datastructures, if a datastructure is defined inductively, that is an order the structure can be traversed"><a href="#t1512601410000068" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-06</span> <span class="t" onclick="H(this)">23:03:30</span>         hiredman </span><span>because unification has to traverse datastructures, if a datastructure is defined inductively, that is an order the structure can be traversed</span></div><div id="t1512601486000255" t="2017-12-06 23:04:46 hiredman I bet you could make it work if you either only used one concrete map type, or sorted it before unifying"><a href="#t1512601486000255" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-06</span> <span class="t" onclick="H(this)">23:04:46</span>         hiredman </span><span>I bet you could make it work if you either only used one concrete map type, or sorted it before unifying</span></div><div id="t1512601565000200" t="2017-12-06 23:06:05 noprompt the strategy i mentioned above works pretty well. although, again, my setting is term rewriting which expects the left-hand side of the equation to be ground."><a href="#t1512601565000200" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-06</span> <span class="t" onclick="H(this)">23:06:05</span>         noprompt </span><span>the strategy i mentioned above works pretty well. although, again, my setting is term rewriting which expects the left-hand side of the equation to be ground.</span></div><div id="t1512601603000490" t="2017-12-06 23:06:43 hiredman sure, if your model is less general then you can do more"><a href="#t1512601603000490" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-06</span> <span class="t" onclick="H(this)">23:06:43</span>         hiredman </span><span>sure, if your model is less general then you can do more</span></div><div id="t1512602047000297" t="2017-12-06 23:14:07 noprompt so, in the context of core logic, would the solution then be two stream the solutions via a custom goal?"><a href="#t1512602047000297" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-06</span> <span class="t" onclick="H(this)">23:14:07</span>         noprompt </span><span>so, in the context of core logic, would the solution then be two stream the solutions via a custom goal?</span></div><div id="t1512602167000182" t="2017-12-06 23:16:07 noprompt i understand the rationale above now."><a href="#t1512602167000182" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-06</span> <span class="t" onclick="H(this)">23:16:07</span>         noprompt </span><span>i understand the rationale above now.</span></div><div id="t1512606023000225" t="2017-12-07 00:20:23 noprompt okay the custom goal seems to be the ticket."><a href="#t1512606023000225" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-07</span> <span class="t" onclick="H(this)">00:20:23</span>         noprompt </span><span>okay the custom goal seems to be the ticket.</span></div><div id="t1512606058000231" t="2017-12-07 00:20:58 noprompt @hiredman thanks for your answers previously. it’s clear now.  🙂"><a href="#t1512606058000231" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-07</span> <span class="t" onclick="H(this)">00:20:58</span>         noprompt </span><span>@hiredman thanks for your answers previously. it’s clear now. </span><b>🙂</b></div><div id="t1512770160000160" t="2017-12-08 21:56:00 noprompt so now i’m curious, why not have  ==  be guided by a protocol underneath that returns  Substitutions ? since goals are expected to return a stream of substitutions it seems like it doesn’t necessarily need to be limited to either the unit stream or  nil ."><a href="#t1512770160000160" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-08</span> <span class="t" onclick="H(this)">21:56:00</span>         noprompt </span><span>so now i’m curious, why not have </span><code>==</code><span> be guided by a protocol underneath that returns </span><code>Substitutions</code><span>? since goals are expected to return a stream of substitutions it seems like it doesn’t necessarily need to be limited to either the unit stream or </span><code>nil</code><span>.</span></div><div id="t1513032676000223" t="2017-12-11 22:51:16 paulocuneo but it already does something like that(kinda), see IUnifyTerms"><a href="#t1513032676000223" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-11</span> <span class="t" onclick="H(this)">22:51:16</span>            paulocuneo </span><span>but it already does something like that(kinda), see IUnifyTerms</span></div><div id="t1512770228000119" t="2017-12-08 21:57:08 noprompt iow you could have an implementation of  ==  for maps such that it returns a goal which, if possible, produces a stream all of the possible substitutions."><a href="#t1512770228000119" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-08</span> <span class="t" onclick="H(this)">21:57:08</span>         noprompt </span><span>iow you could have an implementation of </span><code>==</code><span> for maps such that it returns a goal which, if possible, produces a stream all of the possible substitutions.</span></div><div id="t1512865004000086" t="2017-12-10 00:16:44 noprompt Any takers?  ☝️ :skin-tone-4:"><a href="#t1512865004000086" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-10</span> <span class="t" onclick="H(this)">00:16:44</span>         noprompt </span><span>Any takers? </span><b>☝️</b><b>:skin-tone-4:</b></div><div id="t1513121730000157" t="2017-12-12 23:35:30 paulocuneo may I post a patch to any of the bugs from core.logic jira?
most of them are not bugs, but a few are"><a href="#t1513121730000157" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-12</span> <span class="t" onclick="H(this)">23:35:30</span>       paulocuneo </span><span>may I post a patch to any of the bugs from core.logic jira?
most of them are not bugs, but a few are</span></div><div id="t1513267111000492" t="2017-12-14 15:58:31 noprompt @paulocuneo have you signed the contributor agreement?"><a href="#t1513267111000492" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-14</span> <span class="t" onclick="H(this)">15:58:31</span>         noprompt </span><span>@paulocuneo have you signed the contributor agreement?</span></div><div id="t1513908427000110" t="2017-12-22 02:07:07 paulocuneo now I have"><a href="#t1513908427000110" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-22</span> <span class="t" onclick="H(this)">02:07:07</span>            paulocuneo </span><span>now I have</span></div><div id="t1513277076000232" t="2017-12-14 18:44:36 zignd in core.logic, considering i have a map as a logic variable, is it it possible to compare to the value of a specific keyword?
i thought about doing it like this, but it doesn&apos;t work:
 (logic/run* [q]
(logic/membero q [{:id 1 :name &quot;foo&quot;} {:id 2 :name &quot;bar&quot;} {:id 3 :name &quot;foo&quot;}])
(logic/== (:name q) &quot;foo&quot;))
=&gt; ()
 
the only solution i found was to compare the logic variable to a map and adding logic variables to the values i don&apos;t know
 (logic/run* [q x]
(logic/membero q [{:id 1 :name &quot;foo&quot;} {:id 2 :name &quot;bar&quot;} {:id 3 :name &quot;foo&quot;}])
(logic/== q {:id x :name &quot;foo&quot;}))
=&gt; ([{:id 1, :name &quot;foo&quot;} 1] [{:id 3, :name &quot;foo&quot;} 3])
"><a href="#t1513277076000232" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-14</span> <span class="t" onclick="H(this)">18:44:36</span>            zignd </span><span>in core.logic, considering i have a map as a logic variable, is it it possible to compare to the value of a specific keyword?
i thought about doing it like this, but it doesn&apos;t work:
</span><pre>(logic/run* [q]
(logic/membero q [{:id 1 :name &quot;foo&quot;} {:id 2 :name &quot;bar&quot;} {:id 3 :name &quot;foo&quot;}])
(logic/== (:name q) &quot;foo&quot;))
=&gt; ()
</pre><span>
the only solution i found was to compare the logic variable to a map and adding logic variables to the values i don&apos;t know
</span><pre>(logic/run* [q x]
(logic/membero q [{:id 1 :name &quot;foo&quot;} {:id 2 :name &quot;bar&quot;} {:id 3 :name &quot;foo&quot;}])
(logic/== q {:id x :name &quot;foo&quot;}))
=&gt; ([{:id 1, :name &quot;foo&quot;} 1] [{:id 3, :name &quot;foo&quot;} 3])
</pre></div><div id="t1513278858000186" t="2017-12-14 19:14:18 hiredman I use featurec (I think that is the name of the thing)"><a href="#t1513278858000186" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-14</span> <span class="t" onclick="H(this)">19:14:18</span>         hiredman </span><span>I use featurec (I think that is the name of the thing)</span></div><div id="t1513279035000300" t="2017-12-14 19:17:15 zignd it works! thanks @hiredman!"><a href="#t1513279035000300" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-14</span> <span class="t" onclick="H(this)">19:17:15</span>            zignd </span><span>it works! thanks @hiredman!</span></div><div id="t1513279041000393" t="2017-12-14 19:17:21 zignd (logic/run* [q]
  (logic/membero q [{:id 1 :name &quot;foo&quot;} {:id 2 :name &quot;bar&quot;} {:id 3 :name &quot;foo&quot;}])
  (logic/featurec q {:name &quot;foo&quot;}))
=&gt; ({:id 1, :name &quot;foo&quot;} {:id 3, :name &quot;foo&quot;})
"><a href="#t1513279041000393" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-14</span> <span class="t" onclick="H(this)">19:17:21</span>            zignd </span><pre>(logic/run* [q]
  (logic/membero q [{:id 1 :name &quot;foo&quot;} {:id 2 :name &quot;bar&quot;} {:id 3 :name &quot;foo&quot;}])
  (logic/featurec q {:name &quot;foo&quot;}))
=&gt; ({:id 1, :name &quot;foo&quot;} {:id 3, :name &quot;foo&quot;})
</pre></div><div id="t1513283767000593" t="2017-12-14 20:36:07 dominicm https://stackoverflow.com/a/14532781  I&apos;m trying to do something similar to this. Except, I want to potentially build the query based on other lvars. I&apos;m not certain this makes sense as a question. How can I get a list of potential candidate values for an lvar at a the point of my query?"><a href="#t1513283767000593" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-14</span> <span class="t" onclick="H(this)">20:36:07</span>         dominicm </span><a href="https://stackoverflow.com/a/14532781" target="_blank">https://stackoverflow.com/a/14532781</a><span> I&apos;m trying to do something similar to this. Except, I want to potentially build the query based on other lvars. I&apos;m not certain this makes sense as a question. How can I get a list of potential candidate values for an lvar at a the point of my query?</span></div><div id="t1513283807000650" t="2017-12-14 20:36:47 dominicm I pretty much just want to know &quot;oh, it&apos;s one of these numbers? I&apos;ll grab data for them&quot; vs &quot;Could be anything? I&apos;ll grab it all&quot; Might be nice to have some assertions in cases where I can only grab it with some constraint."><a href="#t1513283807000650" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-14</span> <span class="t" onclick="H(this)">20:36:47</span>         dominicm </span><span>I pretty much just want to know &quot;oh, it&apos;s one of these numbers? I&apos;ll grab data for them&quot; vs &quot;Could be anything? I&apos;ll grab it all&quot; Might be nice to have some assertions in cases where I can only grab it with some constraint.</span></div><div id="t1513284009000452" t="2017-12-14 20:40:09 hiredman you might look at  https://github.com/hiredman/jiralog"><a href="#t1513284009000452" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-14</span> <span class="t" onclick="H(this)">20:40:09</span>         hiredman </span><span>you might look at </span><a href="https://github.com/hiredman/jiralog" target="_blank">https://github.com/hiredman/jiralog</a></div><div id="t1513284060000093" t="2017-12-14 20:41:00 dominicm That sounds very similar to my actual end goal, so probably a perfect example."><a href="#t1513284060000093" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-14</span> <span class="t" onclick="H(this)">20:41:00</span>         dominicm </span><span>That sounds very similar to my actual end goal, so probably a perfect example.</span></div><div id="t1513284116000034" t="2017-12-14 20:41:56 hiredman I think maybe I started from  https://gist.github.com/terjesb/3181018"><a href="#t1513284116000034" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-14</span> <span class="t" onclick="H(this)">20:41:56</span>         hiredman </span><span>I think maybe I started from </span><a href="https://gist.github.com/terjesb/3181018" target="_blank">https://gist.github.com/terjesb/3181018</a></div><div id="t1513284131000443" t="2017-12-14 20:42:11 hiredman (or maybe the original that was forked from)"><a href="#t1513284131000443" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-14</span> <span class="t" onclick="H(this)">20:42:11</span>         hiredman </span><span>(or maybe the original that was forked from)</span></div><div id="t1513356871000463" t="2017-12-15 16:54:31 dominicm I&apos;m using core logic to get a list of things, and infer properties about them. No answers (`nil`) is a perfectly valid answer, but I don&apos;t want to throw away an item which doesn&apos;t have an answer for a particular question. How can I do this?"><a href="#t1513356871000463" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-15</span> <span class="t" onclick="H(this)">16:54:31</span>         dominicm </span><span>I&apos;m using core logic to get a list of things, and infer properties about them. No answers (`nil`) is a perfectly valid answer, but I don&apos;t want to throw away an item which doesn&apos;t have an answer for a particular question. How can I do this?</span></div><div id="t1513357750000187" t="2017-12-15 17:09:10 hiredman user=&gt; (l/run* [q] (l/== q nil))
(nil)
user=&gt;
"><a href="#t1513357750000187" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-15</span> <span class="t" onclick="H(this)">17:09:10</span>         hiredman </span><pre>user=&gt; (l/run* [q] (l/== q nil))
(nil)
user=&gt;
</pre></div><div id="t1513358283000002" t="2017-12-15 17:18:03 dominicm @hiredman I&apos;ve potentially already got an answer for my question though, so I can&apos;t do that."><a href="#t1513358283000002" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-15</span> <span class="t" onclick="H(this)">17:18:03</span>         dominicm </span><span>@hiredman I&apos;ve potentially already got an answer for my question though, so I can&apos;t do that.</span></div><div id="t1513358341000367" t="2017-12-15 17:19:01 hiredman user=&gt; (l/run* [q] (l/conde [(l/== q nil)] [(l/!= q nil)]))
(nil (_0 :- (!= (_0 nil))))
user=&gt;
"><a href="#t1513358341000367" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-15</span> <span class="t" onclick="H(this)">17:19:01</span>         hiredman </span><pre>user=&gt; (l/run* [q] (l/conde [(l/== q nil)] [(l/!= q nil)]))
(nil (_0 :- (!= (_0 nil))))
user=&gt;
</pre></div><div id="t1513358672000153" t="2017-12-15 17:24:32 dominicm @hiredman Thanks, that led me to my solution."><a href="#t1513358672000153" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-15</span> <span class="t" onclick="H(this)">17:24:32</span>         dominicm </span><span>@hiredman Thanks, that led me to my solution.</span></div><div id="t1513359519000363" t="2017-12-15 17:38:39 dominicm (l/run*
    [x q]
    (l/== x 10)
    (fn [a]
      (l/to-stream [])))
 

I have a case where this could happen. How can I detect that q hasn&apos;t been bound and mark it as nil, so that I still get an answer about x?"><a href="#t1513359519000363" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-15</span> <span class="t" onclick="H(this)">17:38:39</span>         dominicm </span><pre>(l/run*
    [x q]
    (l/== x 10)
    (fn [a]
      (l/to-stream [])))
</pre><span>

I have a case where this could happen. How can I detect that q hasn&apos;t been bound and mark it as nil, so that I still get an answer about x?</span></div><div id="t1513375578000125" t="2017-12-15 22:06:18 paulocuneo do you really really really really need to check if x is &quot;fresh&quot; (i guess thats what you mean with unbound)? 

;; Following code loses relational properties

(conde [(lvaro q) 
             ;; q is fresh...
             ] 
            [(nonlvaro q)
             ;; q is not fresh 
            ])"><a href="#t1513375578000125" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-15</span> <span class="t" onclick="H(this)">22:06:18</span>       paulocuneo </span><span>do you really really really really need to check if x is &quot;fresh&quot; (i guess thats what you mean with unbound)? 

;; Following code loses relational properties

(conde [(lvaro q) 
             ;; q is fresh...
             ] 
            [(nonlvaro q)
             ;; q is not fresh 
            ])</span></div><div id="t1513383525000087" t="2017-12-16 00:18:45 dominicm Maybe I need to figure out aggregates properly, and this will go away. I&apos;m using core logic as a query engine, so I&apos;m doing a sort of &quot;get this relationship or else return nothing&quot;, all centred around a main entity."><a href="#t1513383525000087" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-16</span> <span class="t" onclick="H(this)">00:18:45</span>         dominicm </span><span>Maybe I need to figure out aggregates properly, and this will go away. I&apos;m using core logic as a query engine, so I&apos;m doing a sort of &quot;get this relationship or else return nothing&quot;, all centred around a main entity.</span></div><div id="t1513384028000176" t="2017-12-16 00:27:08 hiredman you should look at the string contains constraint in jiralog"><a href="#t1513384028000176" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-16</span> <span class="t" onclick="H(this)">00:27:08</span>         hiredman </span><span>you should look at the string contains constraint in jiralog</span></div><div id="t1513384427000027" t="2017-12-16 00:33:47 hiredman when  writing a core.logic connector to some datastore, what I recommend starting with, which is the simplest thing, is to not have much of a query optimizer. just pull everything out of the datastore, feed it through  to-stream"><a href="#t1513384427000027" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-16</span> <span class="t" onclick="H(this)">00:33:47</span>         hiredman </span><span>when  writing a core.logic connector to some datastore, what I recommend starting with, which is the simplest thing, is to not have much of a query optimizer. just pull everything out of the datastore, feed it through </span><code>to-stream</code></div><div id="t1513384726000022" t="2017-12-16 00:38:46 hiredman the way to write that is as a relation like  (edge a b) , the simple implementation being something that takes a  and looks in your datastore for the edges, then does the to-stream magic to generate a stream of results where b is bound to each edge"><a href="#t1513384726000022" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-16</span> <span class="t" onclick="H(this)">00:38:46</span>         hiredman </span><span>the way to write that is as a relation like </span><code>(edge a b)</code><span>, the simple implementation being something that takes a  and looks in your datastore for the edges, then does the to-stream magic to generate a stream of results where b is bound to each edge</span></div><div id="t1513384758000039" t="2017-12-16 00:39:18 hiredman but at some point you will want to write a logic program where a is not ground at the point where the search reaches that goal"><a href="#t1513384758000039" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-16</span> <span class="t" onclick="H(this)">00:39:18</span>         hiredman </span><span>but at some point you will want to write a logic program where a is not ground at the point where the search reaches that goal</span></div><div id="t1513384786000038" t="2017-12-16 00:39:46 hiredman and you can&apos;t send a logic variable to your datastore for searching"><a href="#t1513384786000038" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-16</span> <span class="t" onclick="H(this)">00:39:46</span>         hiredman </span><span>and you can&apos;t send a logic variable to your datastore for searching</span></div><div id="t1513384920000089" t="2017-12-16 00:42:00 hiredman instead of a normal relation goal you can write a constraint, which can sort of delay its actions until a and b are both ground, constraints can&apos;t generate possible solutions in the search tree, they only prune it"><a href="#t1513384920000089" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-16</span> <span class="t" onclick="H(this)">00:42:00</span>         hiredman </span><span>instead of a normal relation goal you can write a constraint, which can sort of delay its actions until a and b are both ground, constraints can&apos;t generate possible solutions in the search tree, they only prune it</span></div><div id="t1513384951000159" t="2017-12-16 00:42:31 hiredman (I could be misremembering that, but I don&apos;t think I am)"><a href="#t1513384951000159" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-16</span> <span class="t" onclick="H(this)">00:42:31</span>         hiredman </span><span>(I could be misremembering that, but I don&apos;t think I am)</span></div><div id="t1513385216000073" t="2017-12-16 00:46:56 hiredman depending on what exactly you are doing, you may be better off writing your own datalog, which would feel similar to core.logic but give you more control over the guts"><a href="#t1513385216000073" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-16</span> <span class="t" onclick="H(this)">00:46:56</span>         hiredman </span><span>depending on what exactly you are doing, you may be better off writing your own datalog, which would feel similar to core.logic but give you more control over the guts</span></div><div id="t1513433198000029" t="2017-12-16 14:06:38 zignd is it possible to define ordering in the results of a  run*  call?"><a href="#t1513433198000029" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-16</span> <span class="t" onclick="H(this)">14:06:38</span>            zignd </span><span>is it possible to define ordering in the results of a </span><code>run*</code><span> call?</span></div><div id="t1513433253000043" t="2017-12-16 14:07:33 zignd i&apos;m using  core.logic  to query data structures that are basically vectors of maps"><a href="#t1513433253000043" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-16</span> <span class="t" onclick="H(this)">14:07:33</span>            zignd </span><span>i&apos;m using </span><code>core.logic</code><span> to query data structures that are basically vectors of maps</span></div><div id="t1513433288000016" t="2017-12-16 14:08:08 zignd and right now i&apos;m doing it from the outside, using  sort-by  for example"><a href="#t1513433288000016" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-16</span> <span class="t" onclick="H(this)">14:08:08</span>            zignd </span><span>and right now i&apos;m doing it from the outside, using </span><code>sort-by</code><span> for example</span></div><div id="t1513433386000029" t="2017-12-16 14:09:46 zignd considering  run*  accepts lvars and expressions to constrain the result it doesn&apos;t really make sense i suppose, but i&apos;d like to confirm"><a href="#t1513433386000029" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2017-12-16</span> <span class="t" onclick="H(this)">14:09:46</span>            zignd </span><span>considering </span><code>run*</code><span> accepts lvars and expressions to constrain the result it doesn&apos;t really make sense i suppose, but i&apos;d like to confirm</span></div><div id="t1515466776000145" t="2018-01-09 02:59:36 timothypratley Invalid :refer, var cljs.core.logic/permuteo does not exist    --- is this expected? (ClojureScript)"><a href="#t1515466776000145" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-01-09</span> <span class="t" onclick="H(this)">02:59:36</span>   timothypratley </span><span>Invalid :refer, var cljs.core.logic/permuteo does not exist    --- is this expected? (ClojureScript)</span></div><div id="t1515470551000029" t="2018-01-09 04:02:31 noprompt @timothypratley are you able to use  permuteo  without  :refer ? i.e.  logic/permuteo ."><a href="#t1515470551000029" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-01-09</span> <span class="t" onclick="H(this)">04:02:31</span>         noprompt </span><span>@timothypratley are you able to use </span><code>permuteo</code><span> without </span><code>:refer</code><span>? i.e. </span><code>logic/permuteo</code><span>.</span></div><div id="t1515490544000069" t="2018-01-09 09:35:44 reefersleep I’ve got a hobby project building a Dominion (  https://boardgamegeek.com/boardgame/36218/dominion  ) randomizer with a web interface. For those that don’t know Dominion, the purpose of a randomizer is to set up an initial game state by randomly picking 10 piles of cards from those piles available, with a few custom rules occasionally. That task is very simple in and of itself, but I’d like to make it possible for the end user to customize the randomization with certain parameters, like, “less than 5 piles must contain attack cards” and “1 of the piles must be a certain pile” and “more than 2 piles must be victory cards” (and probably more constraints will appear once the possibilities start unfolding  🙂  ). Is  core.logic  a good fit for something like this?"><a href="#t1515490544000069" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-01-09</span> <span class="t" onclick="H(this)">09:35:44</span>      reefersleep </span><span>I’ve got a hobby project building a Dominion ( </span><a href="https://boardgamegeek.com/boardgame/36218/dominion" target="_blank">https://boardgamegeek.com/boardgame/36218/dominion</a><span> ) randomizer with a web interface. For those that don’t know Dominion, the purpose of a randomizer is to set up an initial game state by randomly picking 10 piles of cards from those piles available, with a few custom rules occasionally. That task is very simple in and of itself, but I’d like to make it possible for the end user to customize the randomization with certain parameters, like, “less than 5 piles must contain attack cards” and “1 of the piles must be a certain pile” and “more than 2 piles must be victory cards” (and probably more constraints will appear once the possibilities start unfolding </span><b>🙂</b><span> ). Is </span><code>core.logic</code><span> a good fit for something like this?</span></div><div id="t1515512835000174" t="2018-01-09 15:47:15 timothypratley hi @noprompt  🙂  no, I am unable to use  permuteo  by qualifying it either."><a href="#t1515512835000174" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-01-09</span> <span class="t" onclick="H(this)">15:47:15</span>   timothypratley </span><span>hi @noprompt </span><b>🙂</b><span> no, I am unable to use </span><code>permuteo</code><span> by qualifying it either.</span></div><div id="t1515512909000677" t="2018-01-09 15:48:29 timothypratley @reefersleep IMO yes, perfect  🙂"><a href="#t1515512909000677" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-01-09</span> <span class="t" onclick="H(this)">15:48:29</span>   timothypratley </span><span>@reefersleep IMO yes, perfect </span><b>🙂</b></div><div id="t1515519757000585" t="2018-01-09 17:42:37 noprompt @timothypratley sounds like you’ve got a bug report to make!  😉"><a href="#t1515519757000585" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-01-09</span> <span class="t" onclick="H(this)">17:42:37</span>         noprompt </span><span>@timothypratley sounds like you’ve got a bug report to make! </span><b>😉</b></div><div id="t1515520039000602" t="2018-01-09 17:47:19 timothypratley hehehe okidoki"><a href="#t1515520039000602" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-01-09</span> <span class="t" onclick="H(this)">17:47:19</span>   timothypratley </span><span>hehehe okidoki</span></div><div id="t1515575558000157" t="2018-01-10 09:12:38 reefersleep @timothypratley thanks, I’ll give it a go then! I’ve been wanting an excuse to learn and use logic programmin anyway  😉"><a href="#t1515575558000157" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-01-10</span> <span class="t" onclick="H(this)">09:12:38</span>      reefersleep </span><span>@timothypratley thanks, I’ll give it a go then! I’ve been wanting an excuse to learn and use logic programmin anyway </span><b>😉</b></div><div id="t1515575955000111" t="2018-01-10 09:19:15 reefersleep I’ve been reading the examples  https://github.com/clojure/core.logic/wiki/Examples  and the Primer  https://github.com/clojure/core.logic/wiki/A-Core.logic-Primer , so I think I get the gist of  core.logic . But there are many functions in the namespace, and I don’t feel the docstrings  https://clojure.github.io/core.logic/  get me all the way to understanding them. There are a lot of references in all kinds of directions in the wiki, but do you know of one(s) that explains the usage of  core.logic  (and   core.logic.fd  ) beyond the Primer?"><a href="#t1515575955000111" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-01-10</span> <span class="t" onclick="H(this)">09:19:15</span>      reefersleep </span><span>I’ve been reading the examples </span><a href="https://github.com/clojure/core.logic/wiki/Examples" target="_blank">https://github.com/clojure/core.logic/wiki/Examples</a><span> and the Primer </span><a href="https://github.com/clojure/core.logic/wiki/A-Core.logic-Primer" target="_blank">https://github.com/clojure/core.logic/wiki/A-Core.logic-Primer</a><span>, so I think I get the gist of </span><code>core.logic</code><span>. But there are many functions in the namespace, and I don’t feel the docstrings </span><a href="https://clojure.github.io/core.logic/" target="_blank">https://clojure.github.io/core.logic/</a><span> get me all the way to understanding them. There are a lot of references in all kinds of directions in the wiki, but do you know of one(s) that explains the usage of </span><code>core.logic</code><span> (and  </span><code>core.logic.fd</code><span> ) beyond the Primer?</span></div><div id="t1515675418000271" t="2018-01-11 12:56:58 reefersleep A guy at work told me I should just read up on MiniKanren, since  core.logic  is an implementation of that. So maybe William Byrd’s dissertation, as linked in the  core.logic  README  http://pqdtopen.proquest.com/#abstract?dispub=3380156  , should be my go-to resource?"><a href="#t1515675418000271" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-01-11</span> <span class="t" onclick="H(this)">12:56:58</span>      reefersleep </span><span>A guy at work told me I should just read up on MiniKanren, since </span><code>core.logic</code><span> is an implementation of that. So maybe William Byrd’s dissertation, as linked in the </span><code>core.logic</code><span> README </span><a href="http://pqdtopen.proquest.com/#abstract?dispub=3380156" target="_blank">http://pqdtopen.proquest.com/#abstract?dispub=3380156</a><span> , should be my go-to resource?</span></div><div id="t1515702404000257" t="2018-01-11 20:26:44 dominicm @reefersleep Depending on your time, I understand that &quot;The Reasoned Schemer&quot; can be followed with core.logic with few exceptions."><a href="#t1515702404000257" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-01-11</span> <span class="t" onclick="H(this)">20:26:44</span>         dominicm </span><span>@reefersleep Depending on your time, I understand that &quot;The Reasoned Schemer&quot; can be followed with core.logic with few exceptions.</span></div><div id="t1515703513000161" t="2018-01-11 20:45:13 hiredman µKanren is also a thing now ( http://webyrd.net/scheme-2013/papers/HemannMuKanren2013.pdf ) which is a further reduced set of core primitives"><a href="#t1515703513000161" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-01-11</span> <span class="t" onclick="H(this)">20:45:13</span>         hiredman </span><span>µKanren is also a thing now (</span><a href="http://webyrd.net/scheme-2013/papers/HemannMuKanren2013.pdf" target="_blank">http://webyrd.net/scheme-2013/papers/HemannMuKanren2013.pdf</a><span>) which is a further reduced set of core primitives</span></div><div id="t1515854772000022" t="2018-01-13 14:46:12 reefersleep @dominicm cheers  🙂"><a href="#t1515854772000022" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-01-13</span> <span class="t" onclick="H(this)">14:46:12</span>      reefersleep </span><span>@dominicm cheers </span><b>🙂</b></div><div id="t1515854787000019" t="2018-01-13 14:46:27 reefersleep core.logic  does not seem easily approachable!"><a href="#t1515854787000019" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-01-13</span> <span class="t" onclick="H(this)">14:46:27</span>      reefersleep </span><code>core.logic</code><span> does not seem easily approachable!</span></div><div id="t1515950329000068" t="2018-01-14 17:18:49 norman #understatement  🙂"><a href="#t1515950329000068" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-01-14</span> <span class="t" onclick="H(this)">17:18:49</span>           norman </span><span>#understatement </span><b>🙂</b></div><div id="t1515950865000079" t="2018-01-14 17:27:45 reefersleep So, I want to input a number of parameters, and have  core.logic  deliver some success scenarios to me. If I want to guarantee randomness among those scenarios, I’m guessing I can’t rely on  core.logic ? That is - I have to take all of those success scenarios, and pick randomly among them, post  run ."><a href="#t1515950865000079" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-01-14</span> <span class="t" onclick="H(this)">17:27:45</span>      reefersleep </span><span>So, I want to input a number of parameters, and have </span><code>core.logic</code><span> deliver some success scenarios to me. If I want to guarantee randomness among those scenarios, I’m guessing I can’t rely on </span><code>core.logic</code><span>? That is - I have to take all of those success scenarios, and pick randomly among them, post </span><code>run</code><span>.</span></div><div id="t1515950905000005" t="2018-01-14 17:28:25 reefersleep However, if sufficiently few parameters (they are all optional) are input, I predict that the number of success scenarios will be astronomic.."><a href="#t1515950905000005" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-01-14</span> <span class="t" onclick="H(this)">17:28:25</span>      reefersleep </span><span>However, if sufficiently few parameters (they are all optional) are input, I predict that the number of success scenarios will be astronomic..</span></div><div id="t1515950921000084" t="2018-01-14 17:28:41 reefersleep Is there a smart way to solve this"><a href="#t1515950921000084" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-01-14</span> <span class="t" onclick="H(this)">17:28:41</span>      reefersleep </span><span>Is there a smart way to solve this</span></div><div id="t1515950922000056" t="2018-01-14 17:28:42 reefersleep ?"><a href="#t1515950922000056" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-01-14</span> <span class="t" onclick="H(this)">17:28:42</span>      reefersleep </span><span>?</span></div><div id="t1515967870000133" t="2018-01-14 22:11:10 reefersleep To be clear; I’m expecting  core.logic  to output an astromonomic number of solutions. Ideally, I’d like the final result to be a completely random one of these solution. Since it may be that the entire corpus of solutions cannot fit in memory, ideally, I’d like  core.logic  to ensure randomness in its resulting seq of solutions, if possible. Can it? Or do I have to puzzle out some adequate post-`run*` randomization myself?"><a href="#t1515967870000133" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-01-14</span> <span class="t" onclick="H(this)">22:11:10</span>      reefersleep </span><span>To be clear; I’m expecting </span><code>core.logic</code><span> to output an astromonomic number of solutions. Ideally, I’d like the final result to be a completely random one of these solution. Since it may be that the entire corpus of solutions cannot fit in memory, ideally, I’d like </span><code>core.logic</code><span> to ensure randomness in its resulting seq of solutions, if possible. Can it? Or do I have to puzzle out some adequate post-`run*` randomization myself?</span></div><div id="t1516078460000272" t="2018-01-16 04:54:20 norman core.logic does not guarantee (or attempt to provide) randomness"><a href="#t1516078460000272" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-01-16</span> <span class="t" onclick="H(this)">04:54:20</span>           norman </span><span>core.logic does not guarantee (or attempt to provide) randomness</span></div><div id="t1516094752000187" t="2018-01-16 09:25:52 reefersleep Cheers @norman, that confirms my suspicion"><a href="#t1516094752000187" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-01-16</span> <span class="t" onclick="H(this)">09:25:52</span>      reefersleep </span><span>Cheers @norman, that confirms my suspicion</span></div><div id="t1516094987000625" t="2018-01-16 09:29:47 reefersleep So potentially, I can use  core.logic  to know whether there is a viable solution for my set of parameters or not, and, if I slack on the randomness, what such a solution could look like. Hm. I think it may still make sense to incorporate it in my program logic, but I have to think more about how  🙂"><a href="#t1516094987000625" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-01-16</span> <span class="t" onclick="H(this)">09:29:47</span>      reefersleep </span><span>So potentially, I can use </span><code>core.logic</code><span> to know whether there is a viable solution for my set of parameters or not, and, if I slack on the randomness, what such a solution could look like. Hm. I think it may still make sense to incorporate it in my program logic, but I have to think more about how </span><b>🙂</b></div><div id="t1516121730000578" t="2018-01-16 16:55:30 reefersleep In The Reasoned Schemer, definition 54 (of membero), I don&apos;t understand how the nullo line can be left out. From my perspective, this would then cause an infinite recursive loop in the &quot;else&quot; part."><a href="#t1516121730000578" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-01-16</span> <span class="t" onclick="H(this)">16:55:30</span>      reefersleep </span><span>In The Reasoned Schemer, definition 54 (of membero), I don&apos;t understand how the nullo line can be left out. From my perspective, this would then cause an infinite recursive loop in the &quot;else&quot; part.</span></div><div id="t1516121800000652" t="2018-01-16 16:56:40 reefersleep Maybe I don&apos;t fully understand cdro - I suppose that this should fail when given an empty list and a fresh lvar."><a href="#t1516121800000652" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-01-16</span> <span class="t" onclick="H(this)">16:56:40</span>      reefersleep </span><span>Maybe I don&apos;t fully understand cdro - I suppose that this should fail when given an empty list and a fresh lvar.</span></div><div id="t1516122059000130" t="2018-01-16 17:00:59 reefersleep Ah, I see, I think... I&apos;ll end up with (== (lvar1 lvar2) ()) or something to that effect inside the cdro body."><a href="#t1516122059000130" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-01-16</span> <span class="t" onclick="H(this)">17:00:59</span>      reefersleep </span><span>Ah, I see, I think... I&apos;ll end up with (== (lvar1 lvar2) ()) or something to that effect inside the cdro body.</span></div><div id="t1516134132000714" t="2018-01-16 20:22:12 reefersleep Thanks for rubber ducking, everyone  😄"><a href="#t1516134132000714" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-01-16</span> <span class="t" onclick="H(this)">20:22:12</span>      reefersleep </span><span>Thanks for rubber ducking, everyone </span><b>😄</b></div><div id="t1516134280000103" t="2018-01-16 20:24:40 reefersleep What can one use instead of  everyg  in Clojurescript  core.logic ?"><a href="#t1516134280000103" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-01-16</span> <span class="t" onclick="H(this)">20:24:40</span>      reefersleep </span><span>What can one use instead of </span><code>everyg</code><span> in Clojurescript </span><code>core.logic</code><span>?</span></div><div id="t1518220968000135" t="2018-02-10 00:02:48 Justin hey, I am extremely-not a logical programming pro, I&apos;ve been trying to use core.logic to generate test cases with somewhat complex constraints, and it works pretty decently for the most part as far as being a nice way to specify my constraints. the problem I&apos;m facing now is that it tends to get stuck in particular branches of the search tree, when in reality I&apos;d like to do something of a uniform-ish (for some meaning of uniform) sampling of the search tree - is there a way of doing this kind of thing in core.logic or am I using the wrong tool?"><a href="#t1518220968000135" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-02-10</span> <span class="t" onclick="H(this)">00:02:48</span>           Justin </span><span>hey, I am extremely-not a logical programming pro, I&apos;ve been trying to use core.logic to generate test cases with somewhat complex constraints, and it works pretty decently for the most part as far as being a nice way to specify my constraints. the problem I&apos;m facing now is that it tends to get stuck in particular branches of the search tree, when in reality I&apos;d like to do something of a uniform-ish (for some meaning of uniform) sampling of the search tree - is there a way of doing this kind of thing in core.logic or am I using the wrong tool?</span></div><div id="t1518221415000078" t="2018-02-10 00:10:15 hiredman what do you mean by stuck?"><a href="#t1518221415000078" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-02-10</span> <span class="t" onclick="H(this)">00:10:15</span>         hiredman </span><span>what do you mean by stuck?</span></div><div id="t1518221464000075" t="2018-02-10 00:11:04 hiredman core.logic uses a sort of streaming interleaving technique to avoid getting stuck in divergent goals"><a href="#t1518221464000075" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-02-10</span> <span class="t" onclick="H(this)">00:11:04</span>         hiredman </span><span>core.logic uses a sort of streaming interleaving technique to avoid getting stuck in divergent goals</span></div><div id="t1518221641000159" t="2018-02-10 00:14:01 Justin so I guess it&apos;s possible that I don&apos;t fully understand my problem  🙂  I guess what I&apos;m seeing more concretely is like, the DFS is very observable in the output of my program"><a href="#t1518221641000159" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-02-10</span> <span class="t" onclick="H(this)">00:14:01</span>           Justin </span><span>so I guess it&apos;s possible that I don&apos;t fully understand my problem </span><b>🙂</b><span> I guess what I&apos;m seeing more concretely is like, the DFS is very observable in the output of my program</span></div><div id="t1518221673000166" t="2018-02-10 00:14:33 Justin perhaps &quot;stuck&quot; was the wrong word - it is finding plenty of solutions, I would like to somehow have a way of generating more varied solutions"><a href="#t1518221673000166" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-02-10</span> <span class="t" onclick="H(this)">00:14:33</span>           Justin </span><span>perhaps &quot;stuck&quot; was the wrong word - it is finding plenty of solutions, I would like to somehow have a way of generating more varied solutions</span></div><div id="t1518221745000244" t="2018-02-10 00:15:45 hiredman it will depend on the structure of your goals, but if you have a recursive goal that never reaches a base case for example, core.logic will still search other branches around that goal"><a href="#t1518221745000244" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-02-10</span> <span class="t" onclick="H(this)">00:15:45</span>         hiredman </span><span>it will depend on the structure of your goals, but if you have a recursive goal that never reaches a base case for example, core.logic will still search other branches around that goal</span></div><div id="t1518221774000221" t="2018-02-10 00:16:14 hiredman core.logic will generate every possible solution"><a href="#t1518221774000221" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-02-10</span> <span class="t" onclick="H(this)">00:16:14</span>         hiredman </span><span>core.logic will generate every possible solution</span></div><div id="t1518221801000307" t="2018-02-10 00:16:41 hiredman but you have little to no control of the order in which it generates them"><a href="#t1518221801000307" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-02-10</span> <span class="t" onclick="H(this)">00:16:41</span>         hiredman </span><span>but you have little to no control of the order in which it generates them</span></div><div id="t1518221982000152" t="2018-02-10 00:19:42 Justin I see, and there&apos;s no way I can say. limit the number of solutions that are reported from a particular branch?"><a href="#t1518221982000152" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-02-10</span> <span class="t" onclick="H(this)">00:19:42</span>           Justin </span><span>I see, and there&apos;s no way I can say. limit the number of solutions that are reported from a particular branch?</span></div><div id="t1518222000000251" t="2018-02-10 00:20:00 hiredman no"><a href="#t1518222000000251" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-02-10</span> <span class="t" onclick="H(this)">00:20:00</span>         hiredman </span><span>no</span></div><div id="t1518222018000313" t="2018-02-10 00:20:18 Justin i see, ok, thanks"><a href="#t1518222018000313" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-02-10</span> <span class="t" onclick="H(this)">00:20:18</span>           Justin </span><span>i see, ok, thanks</span></div><div id="t1518222067000152" t="2018-02-10 00:21:07 hiredman you may want to look at test.check or data.generators, or spec for generating test cases"><a href="#t1518222067000152" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-02-10</span> <span class="t" onclick="H(this)">00:21:07</span>         hiredman </span><span>you may want to look at test.check or data.generators, or spec for generating test cases</span></div><div id="t1518222179000295" t="2018-02-10 00:22:59 Justin I haven&apos;t looked at test.check specifically but none of the quickcheck-likes I investigated seemed to allow me to do the same kind of branching search and goal-specifying that a prolog-like would"><a href="#t1518222179000295" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-02-10</span> <span class="t" onclick="H(this)">00:22:59</span>           Justin </span><span>I haven&apos;t looked at test.check specifically but none of the quickcheck-likes I investigated seemed to allow me to do the same kind of branching search and goal-specifying that a prolog-like would</span></div><div id="t1518222186000043" t="2018-02-10 00:23:06 Justin I feel like what I really want is some hybrid of those"><a href="#t1518222186000043" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-02-10</span> <span class="t" onclick="H(this)">00:23:06</span>           Justin </span><span>I feel like what I really want is some hybrid of those</span></div><div id="t1518222304000155" t="2018-02-10 00:25:04 hiredman of course I don&apos;t know what you are generating, but I would be surprised you couldn&apos;t do it via test.check"><a href="#t1518222304000155" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-02-10</span> <span class="t" onclick="H(this)">00:25:04</span>         hiredman </span><span>of course I don&apos;t know what you are generating, but I would be surprised you couldn&apos;t do it via test.check</span></div><div id="t1518222355000133" t="2018-02-10 00:25:55 Justin ok, I will investigate that, thanks for the assistance"><a href="#t1518222355000133" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-02-10</span> <span class="t" onclick="H(this)">00:25:55</span>           Justin </span><span>ok, I will investigate that, thanks for the assistance</span></div><div id="t1519509067000167" t="2018-02-24 21:51:07 rapskalian Hi all, I&apos;m currently making my way through The Reasoned Schemer and have hit a bit of a block upon reaching chapter 4. I&apos;m noticing that &quot;the second commandment&quot; produces logic functions that don&apos;t actually result in valid solutions. Especially in the case of  rembero , e.g. frame 49. I skipped ahead a few pages to find the definition of  surpriso , in which the book does admit that something strange is going on, but it wasn&apos;t followed with any kind of explanation as to a fix to this issue. Chapter 5 seems to continue right along without an explanation either...
Anyone else encounter this?"><a href="#t1519509067000167" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-02-24</span> <span class="t" onclick="H(this)">21:51:07</span>       rapskalian </span><span>Hi all, I&apos;m currently making my way through The Reasoned Schemer and have hit a bit of a block upon reaching chapter 4. I&apos;m noticing that &quot;the second commandment&quot; produces logic functions that don&apos;t actually result in valid solutions. Especially in the case of </span><code>rembero</code><span>, e.g. frame 49. I skipped ahead a few pages to find the definition of </span><code>surpriso</code><span>, in which the book does admit that something strange is going on, but it wasn&apos;t followed with any kind of explanation as to a fix to this issue. Chapter 5 seems to continue right along without an explanation either...
Anyone else encounter this?</span></div><div id="t1519509241000061" t="2018-02-24 21:54:01 rapskalian Quick example to illustrate the point:
 (defn rembero
  [x l out]
  (conde
   [(emptyo l) (== out &apos;())]
   [(eq-firsto l x) (resto l out)]
   [s# (fresh [a d res]
         (conso a d l)
         (rembero x d res)
         (conso a res out))]))

(run* [r]
  (fresh [y z]
    (rembero y (list y &apos;d z &apos;e) (list y &apos;d &apos;e))
    (== (list y z) r)))
;; =&gt; ((d d)
;;     (d d)
;;     (_0 _0)
;;     (e e))
"><a href="#t1519509241000061" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-02-24</span> <span class="t" onclick="H(this)">21:54:01</span>       rapskalian </span><span>Quick example to illustrate the point:
</span><pre>(defn rembero
  [x l out]
  (conde
   [(emptyo l) (== out &apos;())]
   [(eq-firsto l x) (resto l out)]
   [s# (fresh [a d res]
         (conso a d l)
         (rembero x d res)
         (conso a res out))]))

(run* [r]
  (fresh [y z]
    (rembero y (list y &apos;d z &apos;e) (list y &apos;d &apos;e))
    (== (list y z) r)))
;; =&gt; ((d d)
;;     (d d)
;;     (_0 _0)
;;     (e e))
</pre></div><div id="t1519509276000022" t="2018-02-24 21:54:36 rapskalian The last two solutions  ((_0 _0) (e e))  don&apos;t satisfy the original constraint..."><a href="#t1519509276000022" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-02-24</span> <span class="t" onclick="H(this)">21:54:36</span>       rapskalian </span><span>The last two solutions </span><code>((_0 _0) (e e))</code><span> don&apos;t satisfy the original constraint...</span></div><div id="t1519509611000097" t="2018-02-24 22:00:11 rapskalian Ah, I found this thread  https://groups.google.com/forum/#!topic/clojure/_z6-ZDiPh6A 
But no satisfying reply has yet been posted. @dnolen looks like maybe you came up against this issue as well (albeit years ago). Did you ever reach a satisfying conclusion?"><a href="#t1519509611000097" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-02-24</span> <span class="t" onclick="H(this)">22:00:11</span>       rapskalian </span><span>Ah, I found this thread </span><a href="https://groups.google.com/forum/#!topic/clojure/_z6-ZDiPh6A" target="_blank">https://groups.google.com/forum/#!topic/clojure/_z6-ZDiPh6A</a><span>
But no satisfying reply has yet been posted. @dnolen looks like maybe you came up against this issue as well (albeit years ago). Did you ever reach a satisfying conclusion?</span></div><div id="t1519667175000794" t="2018-02-26 17:46:15 rapskalian Looks like the solution is to use the  !=  function, as described here:  https://groups.google.com/forum/#!topic/minikanren/JCKJV7k7lGU"><a href="#t1519667175000794" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-02-26</span> <span class="t" onclick="H(this)">17:46:15</span>       rapskalian </span><span>Looks like the solution is to use the </span><code>!=</code><span> function, as described here: </span><a href="https://groups.google.com/forum/#!topic/minikanren/JCKJV7k7lGU" target="_blank">https://groups.google.com/forum/#!topic/minikanren/JCKJV7k7lGU</a></div><div id="t1519667483000187" t="2018-02-26 17:51:23 rapskalian Turns out  rembero  is a core.logic function already as well, in case anyone is interested:
 (defne rembero
  &quot;A relation between l and o where x is removed from
   l exactly one time.&quot;
  [x l o]
  ([_ [x . xs] xs])
  ([_ [y . ys] [y . zs]]
     (!= y x)
     (rembero x ys zs)))
"><a href="#t1519667483000187" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-02-26</span> <span class="t" onclick="H(this)">17:51:23</span>       rapskalian </span><span>Turns out </span><code>rembero</code><span> is a core.logic function already as well, in case anyone is interested:
</span><pre>(defne rembero
  &quot;A relation between l and o where x is removed from
   l exactly one time.&quot;
  [x l o]
  ([_ [x . xs] xs])
  ([_ [y . ys] [y . zs]]
     (!= y x)
     (rembero x ys zs)))
</pre></div><div id="t1519785391000029" t="2018-02-28 02:36:31 devn @cjsauer out of curiosity which version of the reasoned schemer?"><a href="#t1519785391000029" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-02-28</span> <span class="t" onclick="H(this)">02:36:31</span>             devn </span><span>@cjsauer out of curiosity which version of the reasoned schemer?</span></div><div id="t1519833372000746" t="2018-02-28 15:56:12 rapskalian @devn this is the first edition text (2005). I noticed that there is a second edition being released soon here ( https://mitpress.mit.edu/books/reasoned-schemer-0 )"><a href="#t1519833372000746" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-02-28</span> <span class="t" onclick="H(this)">15:56:12</span>       rapskalian </span><span>@devn this is the first edition text (2005). I noticed that there is a second edition being released soon here (</span><a href="https://mitpress.mit.edu/books/reasoned-schemer-0" target="_blank">https://mitpress.mit.edu/books/reasoned-schemer-0</a><span>)</span></div><div id="t1519923961000449" t="2018-03-01 17:06:01 devn @cjsauer ah, i have a draft copy of that if you&apos;re looking for what it says on a particular page"><a href="#t1519923961000449" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-03-01</span> <span class="t" onclick="H(this)">17:06:01</span>             devn </span><span>@cjsauer ah, i have a draft copy of that if you&apos;re looking for what it says on a particular page</span></div><div id="t1519945049000207" t="2018-03-01 22:57:29 rapskalian @devn ooh very nice. I&apos;m most curious about the 4th chapter...does it still end in a &quot;surprise&quot; as they called it? Or have they now included the  !=  catch mentioned above?"><a href="#t1519945049000207" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-03-01</span> <span class="t" onclick="H(this)">22:57:29</span>       rapskalian </span><span>@devn ooh very nice. I&apos;m most curious about the 4th chapter...does it still end in a &quot;surprise&quot; as they called it? Or have they now included the </span><code>!=</code><span> catch mentioned above?</span></div><div id="t1519969479000114" t="2018-03-02 05:44:39 devn @cjsauer remind me to peek tomorrow? (DMs are fine)"><a href="#t1519969479000114" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-03-02</span> <span class="t" onclick="H(this)">05:44:39</span>             devn </span><span>@cjsauer remind me to peek tomorrow? (DMs are fine)</span></div><div id="t1521029294000387" t="2018-03-14 12:08:14 andrea.crotti I&apos;m trying to solve a problem which I think is a good fit for core.logic"><a href="#t1521029294000387" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-03-14</span> <span class="t" onclick="H(this)">12:08:14</span>    andrea.crotti </span><span>I&apos;m trying to solve a problem which I think is a good fit for core.logic</span></div><div id="t1521029314000172" t="2018-03-14 12:08:34 andrea.crotti in short given various groups of people and a set of tables for 10 people each"><a href="#t1521029314000172" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-03-14</span> <span class="t" onclick="H(this)">12:08:34</span>    andrea.crotti </span><span>in short given various groups of people and a set of tables for 10 people each</span></div><div id="t1521029340000147" t="2018-03-14 12:09:00 andrea.crotti place the various groups in the various tables trying to maximize the space used, not splitting groups and possibly a few other constraints"><a href="#t1521029340000147" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-03-14</span> <span class="t" onclick="H(this)">12:09:00</span>    andrea.crotti </span><span>place the various groups in the various tables trying to maximize the space used, not splitting groups and possibly a few other constraints</span></div><div id="t1521029382000457" t="2018-03-14 12:09:42 andrea.crotti but for example I don&apos;t see anything in the API to add constraints on the length of the produced vector"><a href="#t1521029382000457" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-03-14</span> <span class="t" onclick="H(this)">12:09:42</span>    andrea.crotti </span><span>but for example I don&apos;t see anything in the API to add constraints on the length of the produced vector</span></div><div id="t1521460521000390" t="2018-03-19 11:55:21 abdullahibra is it possible make core.logic works on existing data say in sql database ?"><a href="#t1521460521000390" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-03-19</span> <span class="t" onclick="H(this)">11:55:21</span>     abdullahibra </span><span>is it possible make core.logic works on existing data say in sql database ?</span></div><div id="t1521697919000186" t="2018-03-22 05:51:59 xtreak29 Came across this that might be interesting :  https://www.youtube.com/watch?v=HHZ8iqswiCw"><a href="#t1521697919000186" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-03-22</span> <span class="t" onclick="H(this)">05:51:59</span>              xtreak29 </span><span>Came across this that might be interesting : </span><a href="https://www.youtube.com/watch?v=HHZ8iqswiCw" target="_blank">https://www.youtube.com/watch?v=HHZ8iqswiCw</a></div><div id="t1521461165000459" t="2018-03-19 12:06:05 xtreak29 Some helpful links : 
 https://stackoverflow.com/questions/14529965/how-do-i-connect-clojure-core-logic-to-a-database 
 https://github.com/clojure/core.logic/wiki/Extending-core.logic-%28Datomic-example%29 
 https://groups.google.com/forum/#!topic/clojure/YUNpTSS65Pc"><a href="#t1521461165000459" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-03-19</span> <span class="t" onclick="H(this)">12:06:05</span>         xtreak29 </span><span>Some helpful links : 
</span><a href="https://stackoverflow.com/questions/14529965/how-do-i-connect-clojure-core-logic-to-a-database" target="_blank">https://stackoverflow.com/questions/14529965/how-do-i-connect-clojure-core-logic-to-a-database</a><span>
</span><a href="https://github.com/clojure/core.logic/wiki/Extending-core.logic-%28Datomic-example%29" target="_blank">https://github.com/clojure/core.logic/wiki/Extending-core.logic-%28Datomic-example%29</a><span>
</span><a href="https://groups.google.com/forum/#!topic/clojure/YUNpTSS65Pc" target="_blank">https://groups.google.com/forum/#!topic/clojure/YUNpTSS65Pc</a></div><div id="t1521461262000226" t="2018-03-19 12:07:42 abdullahibra @xtreak29 very good thanks"><a href="#t1521461262000226" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-03-19</span> <span class="t" onclick="H(this)">12:07:42</span>     abdullahibra </span><span>@xtreak29 very good thanks</span></div><div id="t1521524754000073" t="2018-03-20 05:45:54 benzap Would you recommend learning prolog before learning core.logic? What&apos;s the best course of action?"><a href="#t1521524754000073" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-03-20</span> <span class="t" onclick="H(this)">05:45:54</span>           benzap </span><span>Would you recommend learning prolog before learning core.logic? What&apos;s the best course of action?</span></div><div id="t1521525399000202" t="2018-03-20 05:56:39 xtreak29 I tried prolog initially because it had a better syntax IMO but core.logic seemed to offer the same as I looked into it. There is an online REPL to write prolog without installing anything. SWI prolog is the recommended implementation. I used &quot;learn prolog now&quot; which is introductory and good. I wrote some basic programs in prolog to find relations and so on. 

Online repl :  https://swish.swi-prolog.org/ 
Learn prolog now :  http://learnprolognow.org/ 
Solving graph coloring problem in prolog :  https://bernardopires.com/2013/10/try-logic-programming-a-gentle-introduction-to-prolog/ 
My experience with prolog and core.logic (Shameless plug) :  https://tirkarthi.github.io/clojure/2017/10/28/coloring-india.html 

In case you want a full fledged book the art of prolog is said to be a good one :  https://mitpress.mit.edu/books/art-prolog 

I am curious about others perspective on this."><a href="#t1521525399000202" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-03-20</span> <span class="t" onclick="H(this)">05:56:39</span>         xtreak29 </span><span>I tried prolog initially because it had a better syntax IMO but core.logic seemed to offer the same as I looked into it. There is an online REPL to write prolog without installing anything. SWI prolog is the recommended implementation. I used &quot;learn prolog now&quot; which is introductory and good. I wrote some basic programs in prolog to find relations and so on. 

Online repl : </span><a href="https://swish.swi-prolog.org/" target="_blank">https://swish.swi-prolog.org/</a><span>
Learn prolog now : </span><a href="http://learnprolognow.org/" target="_blank">http://learnprolognow.org/</a><span>
Solving graph coloring problem in prolog : </span><a href="https://bernardopires.com/2013/10/try-logic-programming-a-gentle-introduction-to-prolog/" target="_blank">https://bernardopires.com/2013/10/try-logic-programming-a-gentle-introduction-to-prolog/</a><span>
My experience with prolog and core.logic (Shameless plug) : </span><a href="https://tirkarthi.github.io/clojure/2017/10/28/coloring-india.html" target="_blank">https://tirkarthi.github.io/clojure/2017/10/28/coloring-india.html</a><span>

In case you want a full fledged book the art of prolog is said to be a good one : </span><a href="https://mitpress.mit.edu/books/art-prolog" target="_blank">https://mitpress.mit.edu/books/art-prolog</a><span>

I am curious about others perspective on this.</span></div><div id="t1521535705000320" t="2018-03-20 08:48:25 benzap I have a few books on logic programming that I should probably go through"><a href="#t1521535705000320" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-03-20</span> <span class="t" onclick="H(this)">08:48:25</span>           benzap </span><span>I have a few books on logic programming that I should probably go through</span></div><div id="t1521535729000222" t="2018-03-20 08:48:49 benzap I&apos;m going to check out that  http://learnprolognow.org"><a href="#t1521535729000222" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-03-20</span> <span class="t" onclick="H(this)">08:48:49</span>           benzap </span><span>I&apos;m going to check out that </span><a href="http://learnprolognow.org" target="_blank">http://learnprolognow.org</a></div><div id="t1521535851000239" t="2018-03-20 08:50:51 benzap so far i&apos;ve been able to get a swig prolog repl working in emacs, which is a godsend  🙂"><a href="#t1521535851000239" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-03-20</span> <span class="t" onclick="H(this)">08:50:51</span>           benzap </span><span>so far i&apos;ve been able to get a swig prolog repl working in emacs, which is a godsend </span><b>🙂</b></div><div id="t1521689330000148" t="2018-03-22 03:28:50 benzap So I got through  http://learnprolognow.org , and the blog post which introduces core.logic is very well done. I&apos;m thinking I might try and do the  http://learnprolognow.org  exercises in core.logic, I was able to get through quite a few of them fairly easily with only a few misunderstandings"><a href="#t1521689330000148" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-03-22</span> <span class="t" onclick="H(this)">03:28:50</span>           benzap </span><span>So I got through </span><a href="http://learnprolognow.org" target="_blank">http://learnprolognow.org</a><span>, and the blog post which introduces core.logic is very well done. I&apos;m thinking I might try and do the </span><a href="http://learnprolognow.org" target="_blank">http://learnprolognow.org</a><span> exercises in core.logic, I was able to get through quite a few of them fairly easily with only a few misunderstandings</span></div><div id="t1521831466000787" t="2018-03-23 18:57:46 ajs Where is that blog post?"><a href="#t1521831466000787" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-03-23</span> <span class="t" onclick="H(this)">18:57:46</span>                   ajs </span><span>Where is that blog post?</span></div><div id="t1521972761000049" t="2018-03-25 10:12:41 benzap Ah sorry, just caught this, here you go


 https://bernardopires.com/2013/10/try-logic-programming-a-gentle-introduction-to-prolog/"><a href="#t1521972761000049" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-03-25</span> <span class="t" onclick="H(this)">10:12:41</span>                benzap </span><span>Ah sorry, just caught this, here you go


</span><a href="https://bernardopires.com/2013/10/try-logic-programming-a-gentle-introduction-to-prolog/" target="_blank">https://bernardopires.com/2013/10/try-logic-programming-a-gentle-introduction-to-prolog/</a></div><div id="t1521972763000074" t="2018-03-25 10:12:43 benzap https://tirkarthi.github.io/clojure/2017/10/28/coloring-india.html"><a href="#t1521972763000074" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-03-25</span> <span class="t" onclick="H(this)">10:12:43</span>                benzap </span><a href="https://tirkarthi.github.io/clojure/2017/10/28/coloring-india.html" target="_blank">https://tirkarthi.github.io/clojure/2017/10/28/coloring-india.html</a></div><div id="t1521972783000004" t="2018-03-25 10:13:03 benzap The second one is the india coloring problem done in core.logic"><a href="#t1521972783000004" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-03-25</span> <span class="t" onclick="H(this)">10:13:03</span>                benzap </span><span>The second one is the india coloring problem done in core.logic</span></div><div id="t1522012880000083" t="2018-03-25 21:21:20 ajs Thanx!"><a href="#t1522012880000083" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-03-25</span> <span class="t" onclick="H(this)">21:21:20</span>                   ajs </span><span>Thanx!</span></div><div id="t1521689363000277" t="2018-03-22 03:29:23 benzap I kind of skipped the Definite Clause Grammars section of the book, is it really necessary?  http://learnprolognow.org/lpnpage.php?pagetype=html&amp;amp;pageid=lpn-htmlch7"><a href="#t1521689363000277" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-03-22</span> <span class="t" onclick="H(this)">03:29:23</span>           benzap </span><span>I kind of skipped the Definite Clause Grammars section of the book, is it really necessary? </span><a href="http://learnprolognow.org/lpnpage.php?pagetype=html&amp;amp;pageid=lpn-htmlch7" target="_blank">http://learnprolognow.org/lpnpage.php?pagetype=html&amp;amp;pageid=lpn-htmlch7</a></div><div id="t1521689455000041" t="2018-03-22 03:30:55 benzap Kindof skimmed over the Cuts, green cuts, red cuts, and negation stuff as well, but i&apos;m probably going to come back to that"><a href="#t1521689455000041" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-03-22</span> <span class="t" onclick="H(this)">03:30:55</span>           benzap </span><span>Kindof skimmed over the Cuts, green cuts, red cuts, and negation stuff as well, but i&apos;m probably going to come back to that</span></div><div id="t1521697841000047" t="2018-03-22 05:50:41 xtreak29 Thanks, I haven&apos;t read the learnprolognow completely. If you want more info and lispish content there is  https://mitpress.mit.edu/books/reasoned-schemer  and the last chapter on  SICP I think implements a logic programming DSL from scratch using Scheme."><a href="#t1521697841000047" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-03-22</span> <span class="t" onclick="H(this)">05:50:41</span>         xtreak29 </span><span>Thanks, I haven&apos;t read the learnprolognow completely. If you want more info and lispish content there is </span><a href="https://mitpress.mit.edu/books/reasoned-schemer" target="_blank">https://mitpress.mit.edu/books/reasoned-schemer</a><span> and the last chapter on  SICP I think implements a logic programming DSL from scratch using Scheme.</span></div><div id="t1528981867000147" t="2018-06-14 13:11:07 mrchance Is it possible to define a lookup relation for map keys, similar to  (geto k m v)  ? I saw that maps unify only over values, so this might be hard."><a href="#t1528981867000147" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-06-14</span> <span class="t" onclick="H(this)">13:11:07</span>         mrchance </span><span>Is it possible to define a lookup relation for map keys, similar to </span><code>(geto k m v)</code><span> ? I saw that maps unify only over values, so this might be hard.</span></div><div id="t1529012606000577" t="2018-06-14 21:43:26 mrchance Okay,
 (defn geto [m k v]
  (featurec m {k v}))
 
Seems to do the trick, at least when k really is a keyword. I don&apos;t understand why it&apos;s limited to values though"><a href="#t1529012606000577" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-06-14</span> <span class="t" onclick="H(this)">21:43:26</span>         mrchance </span><span>Okay,
</span><pre>(defn geto [m k v]
  (featurec m {k v}))
</pre><span>
Seems to do the trick, at least when k really is a keyword. I don&apos;t understand why it&apos;s limited to values though</span></div><div id="t1529013349000145" t="2018-06-14 21:55:49 hiredman it is very tricky"><a href="#t1529013349000145" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-06-14</span> <span class="t" onclick="H(this)">21:55:49</span>         hiredman </span><span>it is very tricky</span></div><div id="t1529013384000437" t="2018-06-14 21:56:24 hiredman if k is a key in m, and v is a value in m, and q unifies with m, what values does q have?"><a href="#t1529013384000437" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-06-14</span> <span class="t" onclick="H(this)">21:56:24</span>         hiredman </span><span>if k is a key in m, and v is a value in m, and q unifies with m, what values does q have?</span></div><div id="t1529013452000274" t="2018-06-14 21:57:32 hiredman (values in the sense of, what are the possible values of q)"><a href="#t1529013452000274" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-06-14</span> <span class="t" onclick="H(this)">21:57:32</span>         hiredman </span><span>(values in the sense of, what are the possible values of q)</span></div><div id="t1529013478000434" t="2018-06-14 21:57:58 mrchance Hmm, I&apos;d assume all values that  (featurec m {k v})  produces?  😉"><a href="#t1529013478000434" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-06-14</span> <span class="t" onclick="H(this)">21:57:58</span>         mrchance </span><span>Hmm, I&apos;d assume all values that </span><code>(featurec m {k v})</code><span> produces? </span><b>😉</b></div><div id="t1529013515000325" t="2018-06-14 21:58:35 hiredman it is trivial to determine the values  when keys are ground"><a href="#t1529013515000325" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-06-14</span> <span class="t" onclick="H(this)">21:58:35</span>         hiredman </span><span>it is trivial to determine the values  when keys are ground</span></div><div id="t1529013537000182" t="2018-06-14 21:58:57 mrchance What do you mean by ground?"><a href="#t1529013537000182" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-06-14</span> <span class="t" onclick="H(this)">21:58:57</span>         mrchance </span><span>What do you mean by ground?</span></div><div id="t1529013546000444" t="2018-06-14 21:59:06 hiredman a concrete value"><a href="#t1529013546000444" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-06-14</span> <span class="t" onclick="H(this)">21:59:06</span>         hiredman </span><span>a concrete value</span></div><div id="t1529013557000327" t="2018-06-14 21:59:17 hiredman a known keyword"><a href="#t1529013557000327" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-06-14</span> <span class="t" onclick="H(this)">21:59:17</span>         hiredman </span><span>a known keyword</span></div><div id="t1529013565000029" t="2018-06-14 21:59:25 mrchance Ok"><a href="#t1529013565000029" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-06-14</span> <span class="t" onclick="H(this)">21:59:25</span>         mrchance </span><span>Ok</span></div><div id="t1529013572000399" t="2018-06-14 21:59:32 hiredman (as opposed to a logic variable with an unknown value)"><a href="#t1529013572000399" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-06-14</span> <span class="t" onclick="H(this)">21:59:32</span>         hiredman </span><span>(as opposed to a logic variable with an unknown value)</span></div><div id="t1529013587000458" t="2018-06-14 21:59:47 mrchance Yeah, got it"><a href="#t1529013587000458" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-06-14</span> <span class="t" onclick="H(this)">21:59:47</span>         mrchance </span><span>Yeah, got it</span></div><div id="t1529013620000383" t="2018-06-14 22:00:20 hiredman basically you can&apos;t use just a clojure map to represent that"><a href="#t1529013620000383" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-06-14</span> <span class="t" onclick="H(this)">22:00:20</span>         hiredman </span><span>basically you can&apos;t use just a clojure map to represent that</span></div><div id="t1529013652000181" t="2018-06-14 22:00:52 hiredman you need some more complicated datastructure that understands unification and can do things like merge keys that are unified"><a href="#t1529013652000181" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-06-14</span> <span class="t" onclick="H(this)">22:00:52</span>         hiredman </span><span>you need some more complicated datastructure that understands unification and can do things like merge keys that are unified</span></div><div id="t1529013685000205" t="2018-06-14 22:01:25 hiredman like if you say (get m k v) (get m y x) (== y k)"><a href="#t1529013685000205" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-06-14</span> <span class="t" onclick="H(this)">22:01:25</span>         hiredman </span><span>like if you say (get m k v) (get m y x) (== y k)</span></div><div id="t1529013700000035" t="2018-06-14 22:01:40 hiredman uh, geto"><a href="#t1529013700000035" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-06-14</span> <span class="t" onclick="H(this)">22:01:40</span>         hiredman </span><span>uh, geto</span></div><div id="t1529013707000239" t="2018-06-14 22:01:47 mrchance Hm, so it would be possible, but only if I converted my maps to that richer datastructure before?"><a href="#t1529013707000239" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-06-14</span> <span class="t" onclick="H(this)">22:01:47</span>         mrchance </span><span>Hm, so it would be possible, but only if I converted my maps to that richer datastructure before?</span></div><div id="t1529013732000002" t="2018-06-14 22:02:12 mrchance And I&apos;d have to make it extend the unification protocol?"><a href="#t1529013732000002" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-06-14</span> <span class="t" onclick="H(this)">22:02:12</span>         mrchance </span><span>And I&apos;d have to make it extend the unification protocol?</span></div><div id="t1529013740000031" t="2018-06-14 22:02:20 hiredman I am not sure"><a href="#t1529013740000031" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-06-14</span> <span class="t" onclick="H(this)">22:02:20</span>         hiredman </span><span>I am not sure</span></div><div id="t1529013832000081" t="2018-06-14 22:03:52 hiredman I feel like I was reading a paper on unifying maps recently"><a href="#t1529013832000081" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-06-14</span> <span class="t" onclick="H(this)">22:03:52</span>         hiredman </span><span>I feel like I was reading a paper on unifying maps recently</span></div><div id="t1529013869000143" t="2018-06-14 22:04:29 mrchance Really? Nice coincidence then  🙂"><a href="#t1529013869000143" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-06-14</span> <span class="t" onclick="H(this)">22:04:29</span>         mrchance </span><span>Really? Nice coincidence then </span><b>🙂</b></div><div id="t1529013870000105" t="2018-06-14 22:04:30 hiredman oh, no, it was clp(set)"><a href="#t1529013870000105" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-06-14</span> <span class="t" onclick="H(this)">22:04:30</span>         hiredman </span><span>oh, no, it was clp(set)</span></div><div id="t1529013878000360" t="2018-06-14 22:04:38 mrchance Ah, ok"><a href="#t1529013878000360" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-06-14</span> <span class="t" onclick="H(this)">22:04:38</span>         mrchance </span><span>Ah, ok</span></div><div id="t1529013880000521" t="2018-06-14 22:04:40 hiredman but I think that would be really similar"><a href="#t1529013880000521" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-06-14</span> <span class="t" onclick="H(this)">22:04:40</span>         hiredman </span><span>but I think that would be really similar</span></div><div id="t1529013896000173" t="2018-06-14 22:04:56 hiredman e.g. you would represent the map as a set of k/v pairs"><a href="#t1529013896000173" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-06-14</span> <span class="t" onclick="H(this)">22:04:56</span>         hiredman </span><span>e.g. you would represent the map as a set of k/v pairs</span></div><div id="t1529013929000017" t="2018-06-14 22:05:29 hiredman https://github.com/clojure/core.logic/wiki/CLP(Set)"><a href="#t1529013929000017" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-06-14</span> <span class="t" onclick="H(this)">22:05:29</span>         hiredman </span><a href="https://github.com/clojure/core.logic/wiki/CLP(Set)" target="_blank">https://github.com/clojure/core.logic/wiki/CLP(Set)</a></div><div id="t1529013954000116" t="2018-06-14 22:05:54 hiredman there is a scheme implementation somewhere that needs porting"><a href="#t1529013954000116" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-06-14</span> <span class="t" onclick="H(this)">22:05:54</span>         hiredman </span><span>there is a scheme implementation somewhere that needs porting</span></div><div id="t1529013991000450" t="2018-06-14 22:06:31 mrchance Hm yeah, it looks like this would do it, if it were implemented, which it doesn&apos;t seem to be  😄"><a href="#t1529013991000450" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-06-14</span> <span class="t" onclick="H(this)">22:06:31</span>         mrchance </span><span>Hm yeah, it looks like this would do it, if it were implemented, which it doesn&apos;t seem to be </span><b>😄</b></div><div id="t1529013998000048" t="2018-06-14 22:06:38 hiredman https://github.com/namin/clpset-miniKanren"><a href="#t1529013998000048" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-06-14</span> <span class="t" onclick="H(this)">22:06:38</span>         hiredman </span><a href="https://github.com/namin/clpset-miniKanren" target="_blank">https://github.com/namin/clpset-miniKanren</a></div><div id="t1529014014000025" t="2018-06-14 22:06:54 hiredman (the link to the paper is in the readme on that repo)"><a href="#t1529014014000025" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-06-14</span> <span class="t" onclick="H(this)">22:06:54</span>         hiredman </span><span>(the link to the paper is in the readme on that repo)</span></div><div id="t1529014125000016" t="2018-06-14 22:08:45 mrchance Hm, that looks more like a weekend-y kind of thing  😉"><a href="#t1529014125000016" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-06-14</span> <span class="t" onclick="H(this)">22:08:45</span>         mrchance </span><span>Hm, that looks more like a weekend-y kind of thing </span><b>😉</b></div><div id="t1529014161000155" t="2018-06-14 22:09:21 mrchance I wouldn&apos;t mind a simpler way to achieve my goal, which is basically have an interpreter for a very simple language"><a href="#t1529014161000155" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-06-14</span> <span class="t" onclick="H(this)">22:09:21</span>         mrchance </span><span>I wouldn&apos;t mind a simpler way to achieve my goal, which is basically have an interpreter for a very simple language</span></div><div id="t1529014216000005" t="2018-06-14 22:10:16 hiredman I think the scheme guys just use a list of pairs"><a href="#t1529014216000005" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-06-14</span> <span class="t" onclick="H(this)">22:10:16</span>         hiredman </span><span>I think the scheme guys just use a list of pairs</span></div><div id="t1529014236000319" t="2018-06-14 22:10:36 mrchance Yeah, that might be the way to go for now"><a href="#t1529014236000319" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-06-14</span> <span class="t" onclick="H(this)">22:10:36</span>         mrchance </span><span>Yeah, that might be the way to go for now</span></div><div id="t1529014303000238" t="2018-06-14 22:11:43 mrchance Thanks, I&apos;ll try that"><a href="#t1529014303000238" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-06-14</span> <span class="t" onclick="H(this)">22:11:43</span>         mrchance </span><span>Thanks, I&apos;ll try that</span></div><div id="t1529014317000043" t="2018-06-14 22:11:57 mrchance Also read the paper when I have a moment, which might be a while  😉"><a href="#t1529014317000043" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-06-14</span> <span class="t" onclick="H(this)">22:11:57</span>         mrchance </span><span>Also read the paper when I have a moment, which might be a while </span><b>😉</b></div><div id="t1531410125000412" t="2018-07-12 15:42:05 bajrachar Is it possible to replace pldb in core logic with something like lmdb and if so how do I go about doing so"><a href="#t1531410125000412" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-07-12</span> <span class="t" onclick="H(this)">15:42:05</span>        bajrachar </span><span>Is it possible to replace pldb in core logic with something like lmdb and if so how do I go about doing so</span></div><div id="t1531410279000120" t="2018-07-12 15:44:39 bajrachar I did see this -  https://github.com/clojure/core.logic/wiki/Extending-core.logic-(Datomic-example)"><a href="#t1531410279000120" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-07-12</span> <span class="t" onclick="H(this)">15:44:39</span>        bajrachar </span><span>I did see this - </span><a href="https://github.com/clojure/core.logic/wiki/Extending-core.logic-(Datomic-example)" target="_blank">https://github.com/clojure/core.logic/wiki/Extending-core.logic-(Datomic-example)</a></div><div id="t1531410332000218" t="2018-07-12 15:45:32 bajrachar having trouble particularly loading a large data set in memory with pldb"><a href="#t1531410332000218" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-07-12</span> <span class="t" onclick="H(this)">15:45:32</span>        bajrachar </span><span>having trouble particularly loading a large data set in memory with pldb</span></div><div id="t1531410383000329" t="2018-07-12 15:46:23 norman how large is large? We use pldb with very large data sets"><a href="#t1531410383000329" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-07-12</span> <span class="t" onclick="H(this)">15:46:23</span>           norman </span><span>how large is large? We use pldb with very large data sets</span></div><div id="t1531410429000567" t="2018-07-12 15:47:09 norman But obviously not so large that we can’t load it in memory"><a href="#t1531410429000567" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-07-12</span> <span class="t" onclick="H(this)">15:47:09</span>           norman </span><span>But obviously not so large that we can’t load it in memory</span></div><div id="t1531410713000649" t="2018-07-12 15:51:53 bajrachar well the size of the file I am loading from is close to 6GB"><a href="#t1531410713000649" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-07-12</span> <span class="t" onclick="H(this)">15:51:53</span>        bajrachar </span><span>well the size of the file I am loading from is close to 6GB</span></div><div id="t1531410757000407" t="2018-07-12 15:52:37 bajrachar When I add in the facts - it blows up all the way up to 19GB in memory"><a href="#t1531410757000407" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-07-12</span> <span class="t" onclick="H(this)">15:52:37</span>        bajrachar </span><span>When I add in the facts - it blows up all the way up to 19GB in memory</span></div><div id="t1531410799000384" t="2018-07-12 15:53:19 bajrachar This could be due to intermediates created via clojure data structures?"><a href="#t1531410799000384" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-07-12</span> <span class="t" onclick="H(this)">15:53:19</span>        bajrachar </span><span>This could be due to intermediates created via clojure data structures?</span></div><div id="t1531411011000502" t="2018-07-12 15:56:51 norman Are you indexing a lot? There’s a lot of work to create the in memory index"><a href="#t1531411011000502" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-07-12</span> <span class="t" onclick="H(this)">15:56:51</span>           norman </span><span>Are you indexing a lot? There’s a lot of work to create the in memory index</span></div><div id="t1531411053000272" t="2018-07-12 15:57:33 norman I did not optimize that code for memory efficiency."><a href="#t1531411053000272" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-07-12</span> <span class="t" onclick="H(this)">15:57:33</span>           norman </span><span>I did not optimize that code for memory efficiency.</span></div><div id="t1531411087000389" t="2018-07-12 15:58:07 bajrachar Yes I do have few indices"><a href="#t1531411087000389" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-07-12</span> <span class="t" onclick="H(this)">15:58:07</span>        bajrachar </span><span>Yes I do have few indices</span></div><div id="t1531411092000153" t="2018-07-12 15:58:12 norman I would say our “large” is 100-1000MB, which is definitely a lot less than your “large”"><a href="#t1531411092000153" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-07-12</span> <span class="t" onclick="H(this)">15:58:12</span>           norman </span><span>I would say our “large” is 100-1000MB, which is definitely a lot less than your “large”</span></div><div id="t1531411154000207" t="2018-07-12 15:59:14 norman At some point an actual database is better. I don’t think that example is current, and if I recall it wasn’t actually a very good example"><a href="#t1531411154000207" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-07-12</span> <span class="t" onclick="H(this)">15:59:14</span>           norman </span><span>At some point an actual database is better. I don’t think that example is current, and if I recall it wasn’t actually a very good example</span></div><div id="t1531411276000347" t="2018-07-12 16:01:16 norman I probably can’t help too much though. I wrote pldb, but our use of core.logic and pldb has been stable for many years now, so it’s not code I touch on a day to day basis anymore. And since core.logic is under the clojure CA and dev process, I haven’t been terribly motivated to actively contribute"><a href="#t1531411276000347" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-07-12</span> <span class="t" onclick="H(this)">16:01:16</span>           norman </span><span>I probably can’t help too much though. I wrote pldb, but our use of core.logic and pldb has been stable for many years now, so it’s not code I touch on a day to day basis anymore. And since core.logic is under the clojure CA and dev process, I haven’t been terribly motivated to actively contribute</span></div><div id="t1531411346000067" t="2018-07-12 16:02:26 bajrachar I think the size bloat could be due to indexing as you pointed out - maybe I can play around with it and see if it reduces further"><a href="#t1531411346000067" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-07-12</span> <span class="t" onclick="H(this)">16:02:26</span>        bajrachar </span><span>I think the size bloat could be due to indexing as you pointed out - maybe I can play around with it and see if it reduces further</span></div><div id="t1531411409000240" t="2018-07-12 16:03:29 norman If you don’t need them, then remove them. But if you do, you’ll just be trading memory for CPU"><a href="#t1531411409000240" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-07-12</span> <span class="t" onclick="H(this)">16:03:29</span>           norman </span><span>If you don’t need them, then remove them. But if you do, you’ll just be trading memory for CPU</span></div><div id="t1531411467000095" t="2018-07-12 16:04:27 bajrachar Also I&apos;ve realized that clojure data structures by default occupy quite a bit of memory when operated on - unless we use transient"><a href="#t1531411467000095" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-07-12</span> <span class="t" onclick="H(this)">16:04:27</span>        bajrachar </span><span>Also I&apos;ve realized that clojure data structures by default occupy quite a bit of memory when operated on - unless we use transient</span></div><div id="t1531411496000476" t="2018-07-12 16:04:56 bajrachar so - I will also try if I serialize the db to disk and read back from it - if that reduces the size"><a href="#t1531411496000476" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-07-12</span> <span class="t" onclick="H(this)">16:04:56</span>        bajrachar </span><span>so - I will also try if I serialize the db to disk and read back from it - if that reduces the size</span></div><div id="t1531411519000505" t="2018-07-12 16:05:19 norman I’m fairly certain the pldb code does not do that, but it might. It’s been a loong time  🙂"><a href="#t1531411519000505" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-07-12</span> <span class="t" onclick="H(this)">16:05:19</span>           norman </span><span>I’m fairly certain the pldb code does not do that, but it might. It’s been a loong time </span><b>🙂</b></div><div id="t1531411543000511" t="2018-07-12 16:05:43 norman You can definitely serialize it. At one point we were saving pldbs in riak"><a href="#t1531411543000511" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-07-12</span> <span class="t" onclick="H(this)">16:05:43</span>           norman </span><span>You can definitely serialize it. At one point we were saving pldbs in riak</span></div><div id="t1531411558000068" t="2018-07-12 16:05:58 hiredman if anything, serializing it will make it larger"><a href="#t1531411558000068" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-07-12</span> <span class="t" onclick="H(this)">16:05:58</span>         hiredman </span><span>if anything, serializing it will make it larger</span></div><div id="t1531411558000122" t="2018-07-12 16:05:58 bajrachar ok"><a href="#t1531411558000122" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-07-12</span> <span class="t" onclick="H(this)">16:05:58</span>        bajrachar </span><span>ok</span></div><div id="t1531411621000397" t="2018-07-12 16:07:01 hiredman serializing will remove any structural sharing in the data"><a href="#t1531411621000397" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-07-12</span> <span class="t" onclick="H(this)">16:07:01</span>         hiredman </span><span>serializing will remove any structural sharing in the data</span></div><div id="t1531411624000401" t="2018-07-12 16:07:04 bajrachar Thank you for your help @norman"><a href="#t1531411624000401" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-07-12</span> <span class="t" onclick="H(this)">16:07:04</span>        bajrachar </span><span>Thank you for your help @norman</span></div><div id="t1531411639000287" t="2018-07-12 16:07:19 bajrachar I am pretty new to Clojure and core.logic"><a href="#t1531411639000287" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-07-12</span> <span class="t" onclick="H(this)">16:07:19</span>        bajrachar </span><span>I am pretty new to Clojure and core.logic</span></div><div id="t1531411698000539" t="2018-07-12 16:08:18 bajrachar using it for a clinical decision support tool - and as such it&apos;s knowledge base is pretty large"><a href="#t1531411698000539" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-07-12</span> <span class="t" onclick="H(this)">16:08:18</span>        bajrachar </span><span>using it for a clinical decision support tool - and as such it&apos;s knowledge base is pretty large</span></div><div id="t1531411740000352" t="2018-07-12 16:09:00 hiredman https://gist.github.com/terjesb/3181018  might be a good place to start if you want to use core.logic without storing things in memory"><a href="#t1531411740000352" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-07-12</span> <span class="t" onclick="H(this)">16:09:00</span>         hiredman </span><a href="https://gist.github.com/terjesb/3181018" target="_blank">https://gist.github.com/terjesb/3181018</a><span> might be a good place to start if you want to use core.logic without storing things in memory</span></div><div id="t1531411825000201" t="2018-07-12 16:10:25 bajrachar oh cool - thanks @hiredman -"><a href="#t1531411825000201" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-07-12</span> <span class="t" onclick="H(this)">16:10:25</span>        bajrachar </span><span>oh cool - thanks @hiredman -</span></div><div id="t1531411862000051" t="2018-07-12 16:11:02 bajrachar the dataset here being the lucene index?"><a href="#t1531411862000051" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-07-12</span> <span class="t" onclick="H(this)">16:11:02</span>        bajrachar </span><span>the dataset here being the lucene index?</span></div><div id="t1531413000000159" t="2018-07-12 16:30:00 hiredman in that code sure, but you can do something similar to extend it to other datastores, I was thinking of it more as example"><a href="#t1531413000000159" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-07-12</span> <span class="t" onclick="H(this)">16:30:00</span>         hiredman </span><span>in that code sure, but you can do something similar to extend it to other datastores, I was thinking of it more as example</span></div><div id="t1531413036000148" t="2018-07-12 16:30:36 bajrachar ok - I understand - thanks"><a href="#t1531413036000148" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-07-12</span> <span class="t" onclick="H(this)">16:30:36</span>        bajrachar </span><span>ok - I understand - thanks</span></div><div id="t1533316853000094" t="2018-08-03 17:20:53 bajrachar I am trying to understand how a tabled goal works in core.logic?"><a href="#t1533316853000094" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-08-03</span> <span class="t" onclick="H(this)">17:20:53</span>        bajrachar </span><span>I am trying to understand how a tabled goal works in core.logic?</span></div><div id="t1533316898000069" t="2018-08-03 17:21:38 bajrachar can it be used to eliminate circular references in for example a graph traversal for example"><a href="#t1533316898000069" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-08-03</span> <span class="t" onclick="H(this)">17:21:38</span>        bajrachar </span><span>can it be used to eliminate circular references in for example a graph traversal for example</span></div><div id="t1533317066000039" t="2018-08-03 17:24:26 bajrachar or is it supposed to eliminate duplicates in the result"><a href="#t1533317066000039" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-08-03</span> <span class="t" onclick="H(this)">17:24:26</span>        bajrachar </span><span>or is it supposed to eliminate duplicates in the result</span></div><div id="t1533317310000507" t="2018-08-03 17:28:30 bajrachar I have a logic expression as such - which traverses a child hierarchy. CHD stands for Child relation and RN stands for narrow relation"><a href="#t1533317310000507" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-08-03</span> <span class="t" onclick="H(this)">17:28:30</span>        bajrachar </span><span>I have a logic expression as such - which traverses a child hierarchy. CHD stands for Child relation and RN stands for narrow relation</span></div><div id="t1533317369000217" t="2018-08-03 17:29:29 bajrachar Issue is - it can go into endless loop if there are circular references"><a href="#t1533317369000217" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-08-03</span> <span class="t" onclick="H(this)">17:29:29</span>        bajrachar </span><span>Issue is - it can go into endless loop if there are circular references</span></div><div id="t1533318374000325" t="2018-08-03 17:46:14 hiredman I think it is more like a performance optimization, if you have a goal that diverges it won&apos;t stop it from diverging"><a href="#t1533318374000325" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-08-03</span> <span class="t" onclick="H(this)">17:46:14</span>         hiredman </span><span>I think it is more like a performance optimization, if you have a goal that diverges it won&apos;t stop it from diverging</span></div><div id="t1533318573000066" t="2018-08-03 17:49:33 hiredman there is a correspondence between proof by induction and recursion, they both need a base case"><a href="#t1533318573000066" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-08-03</span> <span class="t" onclick="H(this)">17:49:33</span>         hiredman </span><span>there is a correspondence between proof by induction and recursion, they both need a base case</span></div><div id="t1533318633000080" t="2018-08-03 17:50:33 hiredman you might be able to get by using one of the non-relational variants of conde"><a href="#t1533318633000080" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-08-03</span> <span class="t" onclick="H(this)">17:50:33</span>         hiredman </span><span>you might be able to get by using one of the non-relational variants of conde</span></div><div id="t1533318663000446" t="2018-08-03 17:51:03 hiredman maybe conda"><a href="#t1533318663000446" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-08-03</span> <span class="t" onclick="H(this)">17:51:03</span>         hiredman </span><span>maybe conda</span></div><div id="t1533318711000336" t="2018-08-03 17:51:51 hiredman or make the clauses in your conde mutually exclusive"><a href="#t1533318711000336" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-08-03</span> <span class="t" onclick="H(this)">17:51:51</span>         hiredman </span><span>or make the clauses in your conde mutually exclusive</span></div><div id="t1533318766000503" t="2018-08-03 17:52:46 bajrachar Thank you @hiredman - as always your responses are very helpful"><a href="#t1533318766000503" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-08-03</span> <span class="t" onclick="H(this)">17:52:46</span>        bajrachar </span><span>Thank you @hiredman - as always your responses are very helpful</span></div><div id="t1533318822000051" t="2018-08-03 17:53:42 bajrachar just so I follow what you&apos;re saying - &quot;divergence&quot; means there is a cycle right?"><a href="#t1533318822000051" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-08-03</span> <span class="t" onclick="H(this)">17:53:42</span>        bajrachar </span><span>just so I follow what you&apos;re saying - &quot;divergence&quot; means there is a cycle right?</span></div><div id="t1533318936000064" t="2018-08-03 17:55:36 hiredman it could be caused by cycle in something you are are traversing recursively, my very rough understanding of it is divergence == infinitely looping logic program"><a href="#t1533318936000064" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-08-03</span> <span class="t" onclick="H(this)">17:55:36</span>         hiredman </span><span>it could be caused by cycle in something you are are traversing recursively, my very rough understanding of it is divergence == infinitely looping logic program</span></div><div id="t1533319088000077" t="2018-08-03 17:58:08 bajrachar by making the clauses mutually exclusive - do you mean adding something like !="><a href="#t1533319088000077" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-08-03</span> <span class="t" onclick="H(this)">17:58:08</span>        bajrachar </span><span>by making the clauses mutually exclusive - do you mean adding something like !=</span></div><div id="t1533319145000008" t="2018-08-03 17:59:05 bajrachar sorry if this is a very stupid question  🙂  - still learning the ropes of core.logic"><a href="#t1533319145000008" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-08-03</span> <span class="t" onclick="H(this)">17:59:05</span>        bajrachar </span><span>sorry if this is a very stupid question </span><b>🙂</b><span> - still learning the ropes of core.logic</span></div><div id="t1533319174000260" t="2018-08-03 17:59:34 bajrachar It is very interesting - at the same time very difficult to wrap your head around"><a href="#t1533319174000260" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-08-03</span> <span class="t" onclick="H(this)">17:59:34</span>        bajrachar </span><span>It is very interesting - at the same time very difficult to wrap your head around</span></div><div id="t1533319195000524" t="2018-08-03 17:59:55 hiredman yeah, != or some other goal that will fail on the one branch if the other branch is the one you want"><a href="#t1533319195000524" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-08-03</span> <span class="t" onclick="H(this)">17:59:55</span>         hiredman </span><span>yeah, != or some other goal that will fail on the one branch if the other branch is the one you want</span></div><div id="t1533319277000221" t="2018-08-03 18:01:17 bajrachar Ah - Thank you - I will try that"><a href="#t1533319277000221" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-08-03</span> <span class="t" onclick="H(this)">18:01:17</span>        bajrachar </span><span>Ah - Thank you - I will try that</span></div><div id="t1533320341000153" t="2018-08-03 18:19:01 hiredman I was wrong about tabling:  https://github.com/clojure/core.logic/wiki/Features#tabling  the docs say it will turn a non-terminating logic program in to a terminating one"><a href="#t1533320341000153" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-08-03</span> <span class="t" onclick="H(this)">18:19:01</span>         hiredman </span><span>I was wrong about tabling: </span><a href="https://github.com/clojure/core.logic/wiki/Features#tabling" target="_blank">https://github.com/clojure/core.logic/wiki/Features#tabling</a><span> the docs say it will turn a non-terminating logic program in to a terminating one</span></div><div id="t1533320811000154" t="2018-08-03 18:26:51 bajrachar that was what I thought it was supposed to do - but still I see it is diverging - maybe I need to table only the recursive portion"><a href="#t1533320811000154" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-08-03</span> <span class="t" onclick="H(this)">18:26:51</span>        bajrachar </span><span>that was what I thought it was supposed to do - but still I see it is diverging - maybe I need to table only the recursive portion</span></div><div id="t1533955412000014" t="2018-08-11 02:43:32 bajrachar Does core.logic take advantage of concurrency/parallelization ?"><a href="#t1533955412000014" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-08-11</span> <span class="t" onclick="H(this)">02:43:32</span>        bajrachar </span><span>Does core.logic take advantage of concurrency/parallelization ?</span></div><div id="t1533955458000059" t="2018-08-11 02:44:18 bajrachar I notice that it isn&apos;t making use of all the cores when it is running"><a href="#t1533955458000059" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-08-11</span> <span class="t" onclick="H(this)">02:44:18</span>        bajrachar </span><span>I notice that it isn&apos;t making use of all the cores when it is running</span></div><div id="t1533955514000048" t="2018-08-11 02:45:14 bajrachar Also was wondering if anyone has experience with working with the parallel version of core.logic using fork/join --&gt;  http://www.clojure.net/2012/10/02/More-core.logic/"><a href="#t1533955514000048" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-08-11</span> <span class="t" onclick="H(this)">02:45:14</span>        bajrachar </span><span>Also was wondering if anyone has experience with working with the parallel version of core.logic using fork/join --&gt; </span><a href="http://www.clojure.net/2012/10/02/More-core.logic/" target="_blank">http://www.clojure.net/2012/10/02/More-core.logic/</a></div><div id="t1533956045000027" t="2018-08-11 02:54:05 bajrachar @norman - I was wondering if I could go about parallelizing query in pldb code by using reducers or pmap in the fact search portion or if this is more of a issue with unification side"><a href="#t1533956045000027" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-08-11</span> <span class="t" onclick="H(this)">02:54:05</span>        bajrachar </span><span>@norman - I was wondering if I could go about parallelizing query in pldb code by using reducers or pmap in the fact search portion or if this is more of a issue with unification side</span></div><div id="t1533956069000029" t="2018-08-11 02:54:29 bajrachar it seems more of the latter"><a href="#t1533956069000029" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-08-11</span> <span class="t" onclick="H(this)">02:54:29</span>        bajrachar </span><span>it seems more of the latter</span></div><div id="t1533956091000038" t="2018-08-11 02:54:51 norman I doubt it, given the way queries evaluate"><a href="#t1533956091000038" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-08-11</span> <span class="t" onclick="H(this)">02:54:51</span>           norman </span><span>I doubt it, given the way queries evaluate</span></div><div id="t1533956199000030" t="2018-08-11 02:56:39 bajrachar Currently I&apos;ve managed to represent a graph using pldb - and when I query for path that are two step [depth = 2] - it takes a long time"><a href="#t1533956199000030" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-08-11</span> <span class="t" onclick="H(this)">02:56:39</span>        bajrachar </span><span>Currently I&apos;ve managed to represent a graph using pldb - and when I query for path that are two step [depth = 2] - it takes a long time</span></div><div id="t1533956224000050" t="2018-08-11 02:57:04 bajrachar and I notice it isn&apos;t taking advantage of all the cores in the machine"><a href="#t1533956224000050" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-08-11</span> <span class="t" onclick="H(this)">02:57:04</span>        bajrachar </span><span>and I notice it isn&apos;t taking advantage of all the cores in the machine</span></div><div id="t1533956253000046" t="2018-08-11 02:57:33 norman Yes, I believe that"><a href="#t1533956253000046" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-08-11</span> <span class="t" onclick="H(this)">02:57:33</span>           norman </span><span>Yes, I believe that</span></div><div id="t1533956273000063" t="2018-08-11 02:57:53 norman the execution model of core.logic is probably not very amenable to parallelization"><a href="#t1533956273000063" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-08-11</span> <span class="t" onclick="H(this)">02:57:53</span>           norman </span><span>the execution model of core.logic is probably not very amenable to parallelization</span></div><div id="t1533956282000003" t="2018-08-11 02:58:02 bajrachar I also noticed a slightly older post from jim deuy on using fork/join with core.logic --&gt;  http://www.clojure.net/2012/10/02/More-core.logic/"><a href="#t1533956282000003" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-08-11</span> <span class="t" onclick="H(this)">02:58:02</span>        bajrachar </span><span>I also noticed a slightly older post from jim deuy on using fork/join with core.logic --&gt; </span><a href="http://www.clojure.net/2012/10/02/More-core.logic/" target="_blank">http://www.clojure.net/2012/10/02/More-core.logic/</a></div><div id="t1533956337000024" t="2018-08-11 02:58:57 norman Yes, you’d have to fundamentally change the execution moel"><a href="#t1533956337000024" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-08-11</span> <span class="t" onclick="H(this)">02:58:57</span>           norman </span><span>Yes, you’d have to fundamentally change the execution moel</span></div><div id="t1533956376000080" t="2018-08-11 02:59:36 bajrachar hmm ... ok ... sounds like a interesting challenge to try out over the weekend  🙂"><a href="#t1533956376000080" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-08-11</span> <span class="t" onclick="H(this)">02:59:36</span>        bajrachar </span><span>hmm ... ok ... sounds like a interesting challenge to try out over the weekend </span><b>🙂</b></div><div id="t1533956411000018" t="2018-08-11 03:00:11 bajrachar will try to use the jim duey&apos;s branch and see if it helps"><a href="#t1533956411000018" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-08-11</span> <span class="t" onclick="H(this)">03:00:11</span>        bajrachar </span><span>will try to use the jim duey&apos;s branch and see if it helps</span></div><div id="t1533956790000051" t="2018-08-11 03:06:30 bajrachar @norman - what is the current state of core.logic and it&apos;s roadmap?"><a href="#t1533956790000051" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-08-11</span> <span class="t" onclick="H(this)">03:06:30</span>        bajrachar </span><span>@norman - what is the current state of core.logic and it&apos;s roadmap?</span></div><div id="t1533957005000049" t="2018-08-11 03:10:05 norman It’s not being actively developed"><a href="#t1533957005000049" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-08-11</span> <span class="t" onclick="H(this)">03:10:05</span>           norman </span><span>It’s not being actively developed</span></div><div id="t1533957037000031" t="2018-08-11 03:10:37 norman Unless it’s spun out of clojure core, I’m not inclined to contribute further"><a href="#t1533957037000031" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-08-11</span> <span class="t" onclick="H(this)">03:10:37</span>           norman </span><span>Unless it’s spun out of clojure core, I’m not inclined to contribute further</span></div><div id="t1536145566000100" t="2018-09-05 11:06:06 rickmoynihan Are there any docs on tabling in core.logic and how it works?"><a href="#t1536145566000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-05</span> <span class="t" onclick="H(this)">11:06:06</span>     rickmoynihan </span><span>Are there any docs on tabling in core.logic and how it works?</span></div><div id="t1536146000000100" t="2018-09-05 11:13:20 rickmoynihan Backstory: I’ve implemented a SPARQL/Datalog-like query DSL for querying in memory RDF graphs with core.logic.  The DSL essentially tries to hide a lot of the minikanren/relational-programming stuff and present a simpler “SPARQL like” model, where you don’t need to  fresh  variables etc…

I use  db-rel  to get acceptable performance.  Currently I compile the Basic Graph Pattern vectors my macro receives and convert them to calls to  db-rel .  What I have works quite well, but it does of course mean that you can’t generate queries at runtime.  I’d like to explore doing the same but with functions, so I can also provide a way to build tabled queries dynamically.

Is this possible?"><a href="#t1536146000000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-05</span> <span class="t" onclick="H(this)">11:13:20</span>     rickmoynihan </span><span>Backstory: I’ve implemented a SPARQL/Datalog-like query DSL for querying in memory RDF graphs with core.logic.  The DSL essentially tries to hide a lot of the minikanren/relational-programming stuff and present a simpler “SPARQL like” model, where you don’t need to </span><code>fresh</code><span> variables etc…

I use </span><code>db-rel</code><span> to get acceptable performance.  Currently I compile the Basic Graph Pattern vectors my macro receives and convert them to calls to </span><code>db-rel</code><span>.  What I have works quite well, but it does of course mean that you can’t generate queries at runtime.  I’d like to explore doing the same but with functions, so I can also provide a way to build tabled queries dynamically.

Is this possible?</span></div><div id="t1536146019000100" t="2018-09-05 11:13:39 rickmoynihan For reference this is the project:  https://github.com/Swirrl/matcha"><a href="#t1536146019000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-05</span> <span class="t" onclick="H(this)">11:13:39</span>     rickmoynihan </span><span>For reference this is the project: </span><a href="https://github.com/Swirrl/matcha" target="_blank">https://github.com/Swirrl/matcha</a></div><div id="t1536147609000100" t="2018-09-05 11:40:09 rickmoynihan e.g. the graph pattern  [[:foo ?p ?o]]  would currently compile into something like:"><a href="#t1536147609000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-05</span> <span class="t" onclick="H(this)">11:40:09</span>     rickmoynihan </span><span>e.g. the graph pattern </span><code>[[:foo ?p ?o]]</code><span> would currently compile into something like:</span></div><div id="t1536147611000100" t="2018-09-05 11:40:11 rickmoynihan (clojure.core.logic/fresh
          [?p ?o]
          (grafter.matcha.alpha/triple ?s ?p ?o))
"><a href="#t1536147611000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-05</span> <span class="t" onclick="H(this)">11:40:11</span>     rickmoynihan </span><pre>(clojure.core.logic/fresh
          [?p ?o]
          (grafter.matcha.alpha/triple ?s ?p ?o))
</pre></div><div id="t1536147806000100" t="2018-09-05 11:43:26 rickmoynihan I can obviously define a relation that will recursively apply the  triple  relation, but won’t that eliminate the advantages of indexing?

I’m also not entirely sure of all the semantics around using clojure inside relations etc, which was my first instinct to avoid using a macro."><a href="#t1536147806000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-05</span> <span class="t" onclick="H(this)">11:43:26</span>     rickmoynihan </span><span>I can obviously define a relation that will recursively apply the </span><code>triple</code><span> relation, but won’t that eliminate the advantages of indexing?

I’m also not entirely sure of all the semantics around using clojure inside relations etc, which was my first instinct to avoid using a macro.</span></div><div id="t1536161547000100" t="2018-09-05 15:32:27 bajrachar @rickmoynihan - sounds like an interesting project - It would be great to have something to query in-memory graph - without digging into minikanren"><a href="#t1536161547000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-05</span> <span class="t" onclick="H(this)">15:32:27</span>        bajrachar </span><span>@rickmoynihan - sounds like an interesting project - It would be great to have something to query in-memory graph - without digging into minikanren</span></div><div id="t1536161565000100" t="2018-09-05 15:32:45 bajrachar I didn&apos;t quite follow what you mean by generating queries dynamically"><a href="#t1536161565000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-05</span> <span class="t" onclick="H(this)">15:32:45</span>        bajrachar </span><span>I didn&apos;t quite follow what you mean by generating queries dynamically</span></div><div id="t1536161638000100" t="2018-09-05 15:33:58 bajrachar I recently also used core.logic for graph traversal - but due to large size of the db it wasnt as efficient"><a href="#t1536161638000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-05</span> <span class="t" onclick="H(this)">15:33:58</span>        bajrachar </span><span>I recently also used core.logic for graph traversal - but due to large size of the db it wasnt as efficient</span></div><div id="t1536161692000100" t="2018-09-05 15:34:52 rickmoynihan Sometimes you want to generate queries dynamically based on inputs.

Currently in Matcha you can’t do this kinda thing:  (let [query-pattern (conj &apos;[?s ?p] &apos;?o)] ((select query-pattern) friends)"><a href="#t1536161692000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-05</span> <span class="t" onclick="H(this)">15:34:52</span>     rickmoynihan </span><span>Sometimes you want to generate queries dynamically based on inputs.

Currently in Matcha you can’t do this kinda thing: </span><code>(let [query-pattern (conj &apos;[?s ?p] &apos;?o)] ((select query-pattern) friends)</code></div><div id="t1536161754000100" t="2018-09-05 15:35:54 rickmoynihan because  select  is a macro, so  query-pattern  has to be hardcoded as a literal value at compile time"><a href="#t1536161754000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-05</span> <span class="t" onclick="H(this)">15:35:54</span>     rickmoynihan </span><span>because </span><code>select</code><span> is a macro, so </span><code>query-pattern</code><span> has to be hardcoded as a literal value at compile time</span></div><div id="t1536162352000200" t="2018-09-05 15:45:52 bajrachar ok I see what you mean - how does tabling help in this scenario?"><a href="#t1536162352000200" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-05</span> <span class="t" onclick="H(this)">15:45:52</span>        bajrachar </span><span>ok I see what you mean - how does tabling help in this scenario?</span></div><div id="t1536162372000100" t="2018-09-05 15:46:12 rickmoynihan it makes it orders of magnitude faster"><a href="#t1536162372000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-05</span> <span class="t" onclick="H(this)">15:46:12</span>     rickmoynihan </span><span>it makes it orders of magnitude faster</span></div><div id="t1536162499000100" t="2018-09-05 15:48:19 bajrachar and you want to use functions in place of macro"><a href="#t1536162499000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-05</span> <span class="t" onclick="H(this)">15:48:19</span>        bajrachar </span><span>and you want to use functions in place of macro</span></div><div id="t1536162533000100" t="2018-09-05 15:48:53 bajrachar sorry - just trying to understand the problem  🙂  -"><a href="#t1536162533000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-05</span> <span class="t" onclick="H(this)">15:48:53</span>        bajrachar </span><span>sorry - just trying to understand the problem </span><b>🙂</b><span> -</span></div><div id="t1536163508000100" t="2018-09-05 16:05:08 bajrachar I don&apos;t know if it is applicable in this particular case - but for my particular use case of making graph traversal faster on a very large in-memory db - I went about re-writing some parts of pldb and db-rel"><a href="#t1536163508000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-05</span> <span class="t" onclick="H(this)">16:05:08</span>        bajrachar </span><span>I don&apos;t know if it is applicable in this particular case - but for my particular use case of making graph traversal faster on a very large in-memory db - I went about re-writing some parts of pldb and db-rel</span></div><div id="t1536163645000100" t="2018-09-05 16:07:25 bajrachar making the matching logic parallel - which seemed to work better than tabling"><a href="#t1536163645000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-05</span> <span class="t" onclick="H(this)">16:07:25</span>        bajrachar </span><span>making the matching logic parallel - which seemed to work better than tabling</span></div><div id="t1536163672000100" t="2018-09-05 16:07:52 bajrachar as issue for me wasn&apos;t that query was diverging"><a href="#t1536163672000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-05</span> <span class="t" onclick="H(this)">16:07:52</span>        bajrachar </span><span>as issue for me wasn&apos;t that query was diverging</span></div><div id="t1536164278000100" t="2018-09-05 16:17:58 rickmoynihan &gt; and you want to use functions in place of macro

@bajrachar Yes."><a href="#t1536164278000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-05</span> <span class="t" onclick="H(this)">16:17:58</span>     rickmoynihan </span><span>&gt; and you want to use functions in place of macro

@bajrachar Yes.</span></div><div id="t1536165103000200" t="2018-09-05 16:31:43 rickmoynihan I think the problem is that without tabling I’d need to scan the database on each join, so performance becomes exponential?/quadratic?/something-really bad.

Making it parallel might help, but at best parallelisation will only make linear gains in terms of processors; rather than the orders of magnitude gains you can get through indexing/tabling/memoization/better-algorithms.

For me querying just 1000 edges was taking my naive version longer than querying millions of edges with tabling"><a href="#t1536165103000200" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-05</span> <span class="t" onclick="H(this)">16:31:43</span>     rickmoynihan </span><span>I think the problem is that without tabling I’d need to scan the database on each join, so performance becomes exponential?/quadratic?/something-really bad.

Making it parallel might help, but at best parallelisation will only make linear gains in terms of processors; rather than the orders of magnitude gains you can get through indexing/tabling/memoization/better-algorithms.

For me querying just 1000 edges was taking my naive version longer than querying millions of edges with tabling</span></div><div id="t1536166676000100" t="2018-09-05 16:57:56 bajrachar sounds interesting - definitely would like to see how you&apos;ve used tabling"><a href="#t1536166676000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-05</span> <span class="t" onclick="H(this)">16:57:56</span>        bajrachar </span><span>sounds interesting - definitely would like to see how you&apos;ve used tabling</span></div><div id="t1536166736000100" t="2018-09-05 16:58:56 bajrachar by join - I assume its traversing the graph to depth n?"><a href="#t1536166736000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-05</span> <span class="t" onclick="H(this)">16:58:56</span>        bajrachar </span><span>by join - I assume its traversing the graph to depth n?</span></div><div id="t1536171680000100" t="2018-09-05 18:21:20 rickmoynihan I mean join in the RDBMS sense.  Effectively a triple store is a single table with three columns; every time you walk from one edge (row) to another through a  ?variable  binding you’re effectively doing a self join back on that table.  But yes each traversal is effectively another join."><a href="#t1536171680000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-05</span> <span class="t" onclick="H(this)">18:21:20</span>     rickmoynihan </span><span>I mean join in the RDBMS sense.  Effectively a triple store is a single table with three columns; every time you walk from one edge (row) to another through a </span><code>?variable</code><span> binding you’re effectively doing a self join back on that table.  But yes each traversal is effectively another join.</span></div><div id="t1536172344000100" t="2018-09-05 18:32:24 rickmoynihan ahhh ha!

 https://github.com/clojure/core.logic/blob/10ee95eb2bed70af5bc29ea3bd78b380f054a8b4/src/main/clojure/clojure/core/logic.clj#L1801-L1807"><a href="#t1536172344000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-05</span> <span class="t" onclick="H(this)">18:32:24</span>     rickmoynihan </span><span>ahhh ha!

</span><a href="https://github.com/clojure/core.logic/blob/10ee95eb2bed70af5bc29ea3bd78b380f054a8b4/src/main/clojure/clojure/core/logic.clj#L1801-L1807" target="_blank">https://github.com/clojure/core.logic/blob/10ee95eb2bed70af5bc29ea3bd78b380f054a8b4/src/main/clojure/clojure/core/logic.clj#L1801-L1807</a></div><div id="t1536172368000100" t="2018-09-05 18:32:48 rickmoynihan some references:  http://scholarworks.iu.edu/dspace/bitstream/handle/2022/8777/Byrd_indiana_0093A_10344.pdf?sequence=1 

 https://code.google.com/p/iucs-relational-research/"><a href="#t1536172368000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-05</span> <span class="t" onclick="H(this)">18:32:48</span>     rickmoynihan </span><span>some references: </span><a href="http://scholarworks.iu.edu/dspace/bitstream/handle/2022/8777/Byrd_indiana_0093A_10344.pdf?sequence=1" target="_blank">http://scholarworks.iu.edu/dspace/bitstream/handle/2022/8777/Byrd_indiana_0093A_10344.pdf?sequence=1</a><span>

</span><a href="https://code.google.com/p/iucs-relational-research/" target="_blank">https://code.google.com/p/iucs-relational-research/</a></div><div id="t1536172465000100" t="2018-09-05 18:34:25 rickmoynihan I think I understand roughly how this works; but need to figure out the finer details"><a href="#t1536172465000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-05</span> <span class="t" onclick="H(this)">18:34:25</span>     rickmoynihan </span><span>I think I understand roughly how this works; but need to figure out the finer details</span></div><div id="t1536172508000100" t="2018-09-05 18:35:08 rickmoynihan the second link in the source code 404&apos;s  😞"><a href="#t1536172508000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-05</span> <span class="t" onclick="H(this)">18:35:08</span>     rickmoynihan </span><span>the second link in the source code 404&apos;s </span><b>😞</b></div><div id="t1536172575000100" t="2018-09-05 18:36:15 rickmoynihan I think the first link is Byrds thesis… I’ve skimmed this before; but can’t recall the details of tabling"><a href="#t1536172575000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-05</span> <span class="t" onclick="H(this)">18:36:15</span>     rickmoynihan </span><span>I think the first link is Byrds thesis… I’ve skimmed this before; but can’t recall the details of tabling</span></div><div id="t1536176206000100" t="2018-09-05 19:36:46 rickmoynihan hmmm… maybe I’m misunderstanding the relationship between tabling and pldb"><a href="#t1536176206000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-05</span> <span class="t" onclick="H(this)">19:36:46</span>     rickmoynihan </span><span>hmmm… maybe I’m misunderstanding the relationship between tabling and pldb</span></div><div id="t1536286433000100" t="2018-09-07 02:13:53 bajrachar @rickmoynihan - sounds interesting. I&apos;d love to take a look at matcha and play around when I have some time - perhaps this weekend."><a href="#t1536286433000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-07</span> <span class="t" onclick="H(this)">02:13:53</span>        bajrachar </span><span>@rickmoynihan - sounds interesting. I&apos;d love to take a look at matcha and play around when I have some time - perhaps this weekend.</span></div><div id="t1536286519000100" t="2018-09-07 02:15:19 bajrachar SPARQL queries are a bit verbose for my liking - but I do like the idea of query string being a function and also a representation of the relationship you&apos;re querying"><a href="#t1536286519000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-07</span> <span class="t" onclick="H(this)">02:15:19</span>        bajrachar </span><span>SPARQL queries are a bit verbose for my liking - but I do like the idea of query string being a function and also a representation of the relationship you&apos;re querying</span></div><div id="t1536286632000100" t="2018-09-07 02:17:12 bajrachar goes well with &quot;code is data&quot; mantra  🙂"><a href="#t1536286632000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-07</span> <span class="t" onclick="H(this)">02:17:12</span>        bajrachar </span><span>goes well with &quot;code is data&quot; mantra </span><b>🙂</b></div><div id="t1536308291000100" t="2018-09-07 08:18:11 rickmoynihan @bajrachar: Thanks.  What what’s there should be quite useful for us…  Being a macro it obviously makes use of “code is data”, but I’d prefer to also offer a “data is data” model, so we can generate queries directly.

Matcha is really just the BGP bit of SPARQL, so it’s hard to see how it could be made more terse…  At some point I’ll probably add property paths to Matcha, to make it even more terse i.e. things like  (construct-1 ?foafoafoaf [[:rick [:foaf/knows :foaf/knows :foaf/knows] ?foafoafoaf]])"><a href="#t1536308291000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-07</span> <span class="t" onclick="H(this)">08:18:11</span>     rickmoynihan </span><span>@bajrachar: Thanks.  What what’s there should be quite useful for us…  Being a macro it obviously makes use of “code is data”, but I’d prefer to also offer a “data is data” model, so we can generate queries directly.

Matcha is really just the BGP bit of SPARQL, so it’s hard to see how it could be made more terse…  At some point I’ll probably add property paths to Matcha, to make it even more terse i.e. things like </span><code>(construct-1 ?foafoafoaf [[:rick [:foaf/knows :foaf/knows :foaf/knows] ?foafoafoaf]])</code></div><div id="t1536308438000100" t="2018-09-07 08:20:38 rickmoynihan and also an equivalent of  VALUES  clauses:  (construct-1 ?label-or-title [[:resource #{:rdfs/label :dcterms/title} ?label-or-title]])"><a href="#t1536308438000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-07</span> <span class="t" onclick="H(this)">08:20:38</span>     rickmoynihan </span><span>and also an equivalent of </span><code>VALUES</code><span> clauses: </span><code>(construct-1 ?label-or-title [[:resource #{:rdfs/label :dcterms/title} ?label-or-title]])</code></div><div id="t1536746951000100" t="2018-09-12 10:09:11 risto hi everyone"><a href="#t1536746951000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-12</span> <span class="t" onclick="H(this)">10:09:11</span>            risto </span><span>hi everyone</span></div><div id="t1536746965000100" t="2018-09-12 10:09:25 risto i&apos;m trying to figure out what&apos;s making  appendo  terminate, from the looks of it, it seems like it should just be infinite like  anyo"><a href="#t1536746965000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-12</span> <span class="t" onclick="H(this)">10:09:25</span>            risto </span><span>i&apos;m trying to figure out what&apos;s making </span><code>appendo</code><span> terminate, from the looks of it, it seems like it should just be infinite like </span><code>anyo</code></div><div id="t1536746970000100" t="2018-09-12 10:09:30 risto does anyone have any insight into that?"><a href="#t1536746970000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-12</span> <span class="t" onclick="H(this)">10:09:30</span>            risto </span><span>does anyone have any insight into that?</span></div><div id="t1536769800000100" t="2018-09-12 16:30:00 hiredman it is a recursive goal with 3 args (x y z) and 2 cases. the first case is the base case and is only true if x unifies with the empty list and z unifies with y, the second case is only true if the first element of x and the first element of z unify, and if it is true it calls appendo again with the rest of x, y, and the rest of z"><a href="#t1536769800000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-12</span> <span class="t" onclick="H(this)">16:30:00</span>         hiredman </span><span>it is a recursive goal with 3 args (x y z) and 2 cases. the first case is the base case and is only true if x unifies with the empty list and z unifies with y, the second case is only true if the first element of x and the first element of z unify, and if it is true it calls appendo again with the rest of x, y, and the rest of z</span></div><div id="t1536770307000100" t="2018-09-12 16:38:27 hiredman so it must terminate because every step where case 2 matches causes the recursive call to be made with the rest of x, so the x argument gets smaller and smaller, until case 2 no long holds and case 1 might hold"><a href="#t1536770307000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-12</span> <span class="t" onclick="H(this)">16:38:27</span>         hiredman </span><span>so it must terminate because every step where case 2 matches causes the recursive call to be made with the rest of x, so the x argument gets smaller and smaller, until case 2 no long holds and case 1 might hold</span></div><div id="t1536776264000100" t="2018-09-12 18:17:44 risto that makes sense, but the issue for me is how  conj  and  disj  are implemented"><a href="#t1536776264000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-12</span> <span class="t" onclick="H(this)">18:17:44</span>            risto </span><span>that makes sense, but the issue for me is how </span><code>conj</code><span> and </span><code>disj</code><span> are implemented</span></div><div id="t1536776289000100" t="2018-09-12 18:18:09 risto even though it&apos;s a lazy stream,  conj  is implemented using  flatmap  and  disj  with a fair  append"><a href="#t1536776289000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-12</span> <span class="t" onclick="H(this)">18:18:09</span>            risto </span><span>even though it&apos;s a lazy stream, </span><code>conj</code><span> is implemented using </span><code>flatmap</code><span> and </span><code>disj</code><span> with a fair </span><code>append</code></div><div id="t1536776307000100" t="2018-09-12 18:18:27 risto so it seems like it would continue to recurse forever, because under the hood it&apos;s calling  flatmap  or  append"><a href="#t1536776307000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-12</span> <span class="t" onclick="H(this)">18:18:27</span>            risto </span><span>so it seems like it would continue to recurse forever, because under the hood it&apos;s calling </span><code>flatmap</code><span> or </span><code>append</code></div><div id="t1536776625000100" t="2018-09-12 18:23:45 hiredman are you actually asking about core.logic or minikanren? because flatmap isn&apos;t a string that appears in core.logic"><a href="#t1536776625000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-12</span> <span class="t" onclick="H(this)">18:23:45</span>         hiredman </span><span>are you actually asking about core.logic or minikanren? because flatmap isn&apos;t a string that appears in core.logic</span></div><div id="t1536776740000100" t="2018-09-12 18:25:40 hiredman append is not the same thing as appendo"><a href="#t1536776740000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-12</span> <span class="t" onclick="H(this)">18:25:40</span>         hiredman </span><span>append is not the same thing as appendo</span></div><div id="t1536776864000100" t="2018-09-12 18:27:44 risto isn&apos;t core.logic an implementation of minikanren?"><a href="#t1536776864000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-12</span> <span class="t" onclick="H(this)">18:27:44</span>            risto </span><span>isn&apos;t core.logic an implementation of minikanren?</span></div><div id="t1536777042000100" t="2018-09-12 18:30:42 risto (def appendo [xs ys out]
   (conde
     [(eq xs []) (eq ys out)]
     [(fresh [first rest rec]
        (conso first rest xs)
        (conso first rec out)
        (appendo rest ys out))]))
 
here  fresh  is calling  call-fresh  and  conj  under the hood, and  conj  is implemented using  flatmap  aka  bind  aka  mapcat-stream"><a href="#t1536777042000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-12</span> <span class="t" onclick="H(this)">18:30:42</span>            risto </span><pre>(def appendo [xs ys out]
   (conde
     [(eq xs []) (eq ys out)]
     [(fresh [first rest rec]
        (conso first rest xs)
        (conso first rec out)
        (appendo rest ys out))]))
</pre><span>
here </span><code>fresh</code><span> is calling </span><code>call-fresh</code><span> and </span><code>conj</code><span> under the hood, and </span><code>conj</code><span> is implemented using </span><code>flatmap</code><span> aka </span><code>bind</code><span> aka </span><code>mapcat-stream</code></div><div id="t1536777069000100" t="2018-09-12 18:31:09 risto so it would just keep going forever it seems, like  anyo"><a href="#t1536777069000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-12</span> <span class="t" onclick="H(this)">18:31:09</span>            risto </span><span>so it would just keep going forever it seems, like </span><code>anyo</code></div><div id="t1536777158000100" t="2018-09-12 18:32:38 hiredman no"><a href="#t1536777158000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-12</span> <span class="t" onclick="H(this)">18:32:38</span>         hiredman </span><span>no</span></div><div id="t1536777180000100" t="2018-09-12 18:33:00 hiredman you are confusing goals implemented in core.logic with functions implemented in clojure"><a href="#t1536777180000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-12</span> <span class="t" onclick="H(this)">18:33:00</span>         hiredman </span><span>you are confusing goals implemented in core.logic with functions implemented in clojure</span></div><div id="t1536777203000100" t="2018-09-12 18:33:23 risto why do you think i&apos;m confusing it with functions in clojure?"><a href="#t1536777203000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-12</span> <span class="t" onclick="H(this)">18:33:23</span>            risto </span><span>why do you think i&apos;m confusing it with functions in clojure?</span></div><div id="t1536777232000100" t="2018-09-12 18:33:52 hiredman actually it is hard to say, because call-fresh doesn&apos;t exist in core.logic either"><a href="#t1536777232000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-12</span> <span class="t" onclick="H(this)">18:33:52</span>         hiredman </span><span>actually it is hard to say, because call-fresh doesn&apos;t exist in core.logic either</span></div><div id="t1536777254000100" t="2018-09-12 18:34:14 hiredman because conj in clojure is the function clojure.core/conj which is definitely not implemented using flatmap"><a href="#t1536777254000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-12</span> <span class="t" onclick="H(this)">18:34:14</span>         hiredman </span><span>because conj in clojure is the function clojure.core/conj which is definitely not implemented using flatmap</span></div><div id="t1536777287000100" t="2018-09-12 18:34:47 hiredman there is a core.logic goal called conjo, which is a constraint goal, which is kind of a different kettle of fish"><a href="#t1536777287000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-12</span> <span class="t" onclick="H(this)">18:34:47</span>         hiredman </span><span>there is a core.logic goal called conjo, which is a constraint goal, which is kind of a different kettle of fish</span></div><div id="t1536777298000100" t="2018-09-12 18:34:58 risto ah i see the confusion, i&apos;m referring to the names of these things from the minikanren implementation"><a href="#t1536777298000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-12</span> <span class="t" onclick="H(this)">18:34:58</span>            risto </span><span>ah i see the confusion, i&apos;m referring to the names of these things from the minikanren implementation</span></div><div id="t1536777312000100" t="2018-09-12 18:35:12 risto maybe core.logic is using a different scheme for it, but it&apos;s implementing minikanren under the hood"><a href="#t1536777312000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-12</span> <span class="t" onclick="H(this)">18:35:12</span>            risto </span><span>maybe core.logic is using a different scheme for it, but it&apos;s implementing minikanren under the hood</span></div><div id="t1536777337000100" t="2018-09-12 18:35:37 risto yeah i meant  conjo , sorry"><a href="#t1536777337000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-12</span> <span class="t" onclick="H(this)">18:35:37</span>            risto </span><span>yeah i meant </span><code>conjo</code><span>, sorry</span></div><div id="t1536777364000200" t="2018-09-12 18:36:04 risto it has something called  conj  under the hood which isn&apos;t a goal"><a href="#t1536777364000200" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-12</span> <span class="t" onclick="H(this)">18:36:04</span>            risto </span><span>it has something called </span><code>conj</code><span> under the hood which isn&apos;t a goal</span></div><div id="t1536777372000100" t="2018-09-12 18:36:12 risto but not the same as clojure.core/conj"><a href="#t1536777372000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-12</span> <span class="t" onclick="H(this)">18:36:12</span>            risto </span><span>but not the same as clojure.core/conj</span></div><div id="t1536777372000200" t="2018-09-12 18:36:12 hiredman it is minikanren in a kind of hand wavey sense, it isn&apos;t a direct port"><a href="#t1536777372000200" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-12</span> <span class="t" onclick="H(this)">18:36:12</span>         hiredman </span><span>it is minikanren in a kind of hand wavey sense, it isn&apos;t a direct port</span></div><div id="t1536777443000100" t="2018-09-12 18:37:23 hiredman I don&apos;t think core-logic&apos;s conjo is the same as conj in minikanren"><a href="#t1536777443000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-12</span> <span class="t" onclick="H(this)">18:37:23</span>         hiredman </span><span>I don&apos;t think core-logic&apos;s conjo is the same as conj in minikanren</span></div><div id="t1536777511000100" t="2018-09-12 18:38:31 hiredman I think, and it has been a long time since I&apos;ve looked at minikanren, conj in mk is an operator on the underlying lazy stream implementation"><a href="#t1536777511000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-12</span> <span class="t" onclick="H(this)">18:38:31</span>         hiredman </span><span>I think, and it has been a long time since I&apos;ve looked at minikanren, conj in mk is an operator on the underlying lazy stream implementation</span></div><div id="t1536777588000100" t="2018-09-12 18:39:48 risto yeah, it has a minimal implementation at the end of the paper  http://webyrd.net/scheme-2013/papers/HemannMuKanren2013.pdf"><a href="#t1536777588000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-12</span> <span class="t" onclick="H(this)">18:39:48</span>            risto </span><span>yeah, it has a minimal implementation at the end of the paper </span><a href="http://webyrd.net/scheme-2013/papers/HemannMuKanren2013.pdf" target="_blank">http://webyrd.net/scheme-2013/papers/HemannMuKanren2013.pdf</a></div><div id="t1536777650000100" t="2018-09-12 18:40:50 hiredman so it is a level of abstraction problem"><a href="#t1536777650000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-12</span> <span class="t" onclick="H(this)">18:40:50</span>         hiredman </span><span>so it is a level of abstraction problem</span></div><div id="t1536777654000100" t="2018-09-12 18:40:54 risto but that&apos;s not enough to stop it from infinitely recursing  appendo  afaict. It might be because it&apos;s such a minimal implementation of kanren that they leave out the more important parts to make something like  appendo  work, not sure"><a href="#t1536777654000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-12</span> <span class="t" onclick="H(this)">18:40:54</span>            risto </span><span>but that&apos;s not enough to stop it from infinitely recursing </span><code>appendo</code><span> afaict. It might be because it&apos;s such a minimal implementation of kanren that they leave out the more important parts to make something like </span><code>appendo</code><span> work, not sure</span></div><div id="t1536777663000100" t="2018-09-12 18:41:03 hiredman mk is not implemented in mk"><a href="#t1536777663000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-12</span> <span class="t" onclick="H(this)">18:41:03</span>         hiredman </span><span>mk is not implemented in mk</span></div><div id="t1536777701000100" t="2018-09-12 18:41:41 hiredman micro kanren is another thing again"><a href="#t1536777701000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-12</span> <span class="t" onclick="H(this)">18:41:41</span>         hiredman </span><span>micro kanren is another thing again</span></div><div id="t1536777728000100" t="2018-09-12 18:42:08 risto what&apos;s the difference between minikanren and microkaren? microkanren is just an even more minimal version of kanren?"><a href="#t1536777728000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-12</span> <span class="t" onclick="H(this)">18:42:08</span>            risto </span><span>what&apos;s the difference between minikanren and microkaren? microkanren is just an even more minimal version of kanren?</span></div><div id="t1536777776000100" t="2018-09-12 18:42:56 risto its on the minikanren website, i thought it was the same thing"><a href="#t1536777776000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-12</span> <span class="t" onclick="H(this)">18:42:56</span>            risto </span><span>its on the minikanren website, i thought it was the same thing</span></div><div id="t1536778072000100" t="2018-09-12 18:47:52 hiredman yeah, it is an even more stripped down version"><a href="#t1536778072000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-12</span> <span class="t" onclick="H(this)">18:47:52</span>         hiredman </span><span>yeah, it is an even more stripped down version</span></div><div id="t1536778231000100" t="2018-09-12 18:50:31 risto yeah"><a href="#t1536778231000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-12</span> <span class="t" onclick="H(this)">18:50:31</span>            risto </span><span>yeah</span></div><div id="t1536778282000100" t="2018-09-12 18:51:22 risto anyways, it says on the minikaren website that core.logic is an implementation of it.. even if it deviates somewhat it has to have some way of making sure  appendo  doesn&apos;t just recurse forever. I guess my question is how they manage to pull that off without ending up with a neverending stream like  anyo"><a href="#t1536778282000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-12</span> <span class="t" onclick="H(this)">18:51:22</span>            risto </span><span>anyways, it says on the minikaren website that core.logic is an implementation of it.. even if it deviates somewhat it has to have some way of making sure </span><code>appendo</code><span> doesn&apos;t just recurse forever. I guess my question is how they manage to pull that off without ending up with a neverending stream like </span><code>anyo</code></div><div id="t1536842661000100" t="2018-09-13 12:44:21 rickmoynihan @risto: minikanren and microkanren are different beasts in terms of implementation.  The stream stuff is specific to microkanren and descendants of it I believe.  Minikanren as I understand it is as described/used in the reasoned schemer.  microkanren in the reasoned schemer 2nd edition.  Also Byrd’s thesis is minikanren / Hemann’s paper microkanren.

I’m only just delving into the differences here myself, but I’m not sure programs written for one are always portable to the other… e.g. microkanren skips the occurs check for infinite loops — which might be pertinent to what you’re saying."><a href="#t1536842661000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-13</span> <span class="t" onclick="H(this)">12:44:21</span>     rickmoynihan </span><span>@risto: minikanren and microkanren are different beasts in terms of implementation.  The stream stuff is specific to microkanren and descendants of it I believe.  Minikanren as I understand it is as described/used in the reasoned schemer.  microkanren in the reasoned schemer 2nd edition.  Also Byrd’s thesis is minikanren / Hemann’s paper microkanren.

I’m only just delving into the differences here myself, but I’m not sure programs written for one are always portable to the other… e.g. microkanren skips the occurs check for infinite loops — which might be pertinent to what you’re saying.</span></div><div id="t1536842830000100" t="2018-09-13 12:47:10 rickmoynihan I think it’s more or less true that minikanren semantics is what core.logic essentially implements.  So if you’re looking at a core.logic  appendo  and wondering how it works with reference to the microkanren scheme implementation… I’d first check to see if there is an important difference between how  appendo  is written for the two dialects.

It may be the same, but I wouldn’t be surprised if it wasn’t."><a href="#t1536842830000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-13</span> <span class="t" onclick="H(this)">12:47:10</span>     rickmoynihan </span><span>I think it’s more or less true that minikanren semantics is what core.logic essentially implements.  So if you’re looking at a core.logic </span><code>appendo</code><span> and wondering how it works with reference to the microkanren scheme implementation… I’d first check to see if there is an important difference between how </span><code>appendo</code><span> is written for the two dialects.

It may be the same, but I wouldn’t be surprised if it wasn’t.</span></div><div id="t1536843312000100" t="2018-09-13 12:55:12 risto ugh..."><a href="#t1536843312000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-13</span> <span class="t" onclick="H(this)">12:55:12</span>            risto </span><span>ugh...</span></div><div id="t1536843329000100" t="2018-09-13 12:55:29 risto does anyone know any paper I can read on this or something similar? I can&apos;t find anything on this"><a href="#t1536843329000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-13</span> <span class="t" onclick="H(this)">12:55:29</span>            risto </span><span>does anyone know any paper I can read on this or something similar? I can&apos;t find anything on this</span></div><div id="t1536843378000100" t="2018-09-13 12:56:18 risto i don&apos;t want to rely on reverse engineering some implementation in case they&apos;re doing something weird to make it work, which could end up breaking other abstractions in weird ways"><a href="#t1536843378000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-13</span> <span class="t" onclick="H(this)">12:56:18</span>            risto </span><span>i don&apos;t want to rely on reverse engineering some implementation in case they&apos;re doing something weird to make it work, which could end up breaking other abstractions in weird ways</span></div><div id="t1536853770000100" t="2018-09-13 15:49:30 rickmoynihan If you’re using core.logic I think you’re probably safest sticking to minikanren literature…. but I have questions about this stuff myself, because i’m not 100% sure either."><a href="#t1536853770000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-13</span> <span class="t" onclick="H(this)">15:49:30</span>     rickmoynihan </span><span>If you’re using core.logic I think you’re probably safest sticking to minikanren literature…. but I have questions about this stuff myself, because i’m not 100% sure either.</span></div><div id="t1536853818000100" t="2018-09-13 15:50:18 hiredman core.logic is a minikanren like clojure is a lisp"><a href="#t1536853818000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-13</span> <span class="t" onclick="H(this)">15:50:18</span>         hiredman </span><span>core.logic is a minikanren like clojure is a lisp</span></div><div id="t1536853886000100" t="2018-09-13 15:51:26 hiredman I still think you are likely encountering a confusion of different levels, and the things you think are calling each other are at different levels of abstraction and not actually calling each other"><a href="#t1536853886000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-13</span> <span class="t" onclick="H(this)">15:51:26</span>         hiredman </span><span>I still think you are likely encountering a confusion of different levels, and the things you think are calling each other are at different levels of abstraction and not actually calling each other</span></div><div id="t1536856763000100" t="2018-09-13 16:39:23 risto i&apos;m not confusing different levels of abstraction"><a href="#t1536856763000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-13</span> <span class="t" onclick="H(this)">16:39:23</span>            risto </span><span>i&apos;m not confusing different levels of abstraction</span></div><div id="t1536856770000100" t="2018-09-13 16:39:30 risto i&apos;m working on implementing minikanren"><a href="#t1536856770000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-13</span> <span class="t" onclick="H(this)">16:39:30</span>            risto </span><span>i&apos;m working on implementing minikanren</span></div><div id="t1536856847000100" t="2018-09-13 16:40:47 hiredman sure, I&apos;ve done that, I followed the original thesis paper describing it"><a href="#t1536856847000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-13</span> <span class="t" onclick="H(this)">16:40:47</span>         hiredman </span><span>sure, I&apos;ve done that, I followed the original thesis paper describing it</span></div><div id="t1536856943000200" t="2018-09-13 16:42:23 hiredman which seems to be a dead link now  😕"><a href="#t1536856943000200" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-13</span> <span class="t" onclick="H(this)">16:42:23</span>         hiredman </span><span>which seems to be a dead link now </span><b>😕</b></div><div id="t1536880859000100" t="2018-09-13 23:20:59 rickmoynihan I think this is the best link for that paper now btw:  https://github.com/webyrd/dissertation-single-spaced/blob/master/thesis.pdf"><a href="#t1536880859000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-13</span> <span class="t" onclick="H(this)">23:20:59</span>     rickmoynihan </span><span>I think this is the best link for that paper now btw: </span><a href="https://github.com/webyrd/dissertation-single-spaced/blob/master/thesis.pdf" target="_blank">https://github.com/webyrd/dissertation-single-spaced/blob/master/thesis.pdf</a></div><div id="t1536881013000100" t="2018-09-13 23:23:33 rickmoynihan Incidentally I can confirm there are differences in appendo between minikanren and microkanren… though they’re pretty close:

The reasoned schemer 2nd edition (microkanren) lists it as:
 (defrel (appendo l t out)
  (conde
    ((nullo l) (== t out))
    ((fresh (res)
     (fresh (d)
       (cdro l d)
       (appendo d t res))
     (fresh (a)
       (caro l a)
       (conso a res out))))))
"><a href="#t1536881013000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-13</span> <span class="t" onclick="H(this)">23:23:33</span>     rickmoynihan </span><span>Incidentally I can confirm there are differences in appendo between minikanren and microkanren… though they’re pretty close:

The reasoned schemer 2nd edition (microkanren) lists it as:
</span><pre>(defrel (appendo l t out)
  (conde
    ((nullo l) (== t out))
    ((fresh (res)
     (fresh (d)
       (cdro l d)
       (appendo d t res))
     (fresh (a)
       (caro l a)
       (conso a res out))))))
</pre></div><div id="t1536881231000100" t="2018-09-13 23:27:11 rickmoynihan 1st edition (minikanren) as:

 (define appendo
  (lambda (l s out)
  (conde
    ((nullo l) (== s out))
    (else
      (fresh (a d res)
        (caro l a)
        (cdro l d)
        (appendo d s res)
        (conso a res out))))))
"><a href="#t1536881231000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-13</span> <span class="t" onclick="H(this)">23:27:11</span>     rickmoynihan </span><span>1st edition (minikanren) as:

</span><pre>(define appendo
  (lambda (l s out)
  (conde
    ((nullo l) (== s out))
    (else
      (fresh (a d res)
        (caro l a)
        (cdro l d)
        (appendo d s res)
        (conso a res out))))))
</pre></div><div id="t1536881379000100" t="2018-09-13 23:29:39 rickmoynihan (I hand typed those — so there may be errors)"><a href="#t1536881379000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-13</span> <span class="t" onclick="H(this)">23:29:39</span>     rickmoynihan </span><span>(I hand typed those — so there may be errors)</span></div><div id="t1536881448000100" t="2018-09-13 23:30:48 rickmoynihan most differences are pretty negligible… main one here seems to be that  fresh  in microkanren doesn’t handle multiple bindings at once, and that  conde  no longer takes an  else  in microkanren"><a href="#t1536881448000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-13</span> <span class="t" onclick="H(this)">23:30:48</span>     rickmoynihan </span><span>most differences are pretty negligible… main one here seems to be that </span><code>fresh</code><span> in microkanren doesn’t handle multiple bindings at once, and that </span><code>conde</code><span> no longer takes an </span><code>else</code><span> in microkanren</span></div><div id="t1536881672000100" t="2018-09-13 23:34:32 hiredman I know you keep saying it isn&apos;t a level confusion issue, but I really still think it is, because bind, flatmap, etc are part of the little mini monadic library used for the the lazy streams of results from goals, but they are not actually used in goals themselves"><a href="#t1536881672000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-13</span> <span class="t" onclick="H(this)">23:34:32</span>         hiredman </span><span>I know you keep saying it isn&apos;t a level confusion issue, but I really still think it is, because bind, flatmap, etc are part of the little mini monadic library used for the the lazy streams of results from goals, but they are not actually used in goals themselves</span></div><div id="t1536881791000100" t="2018-09-13 23:36:31 hiredman and it has been pretty much a million years since I read the paper, and my implementation was in go, so I didn&apos;t bother with any of the list processing library and instead built stuff for using reflection to unify over go records, so I didn&apos;t implement appendo or conso"><a href="#t1536881791000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-13</span> <span class="t" onclick="H(this)">23:36:31</span>         hiredman </span><span>and it has been pretty much a million years since I read the paper, and my implementation was in go, so I didn&apos;t bother with any of the list processing library and instead built stuff for using reflection to unify over go records, so I didn&apos;t implement appendo or conso</span></div><div id="t1536881928000100" t="2018-09-13 23:38:48 hiredman conso, appendo, pretty much anything ending in o is a relation(or function returning a goal), that exists sort of within the domain of minikanren, but bind and flatmap are functions that exist outside of the domain of minikaren and are used to implement it"><a href="#t1536881928000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-13</span> <span class="t" onclick="H(this)">23:38:48</span>         hiredman </span><span>conso, appendo, pretty much anything ending in o is a relation(or function returning a goal), that exists sort of within the domain of minikanren, but bind and flatmap are functions that exist outside of the domain of minikaren and are used to implement it</span></div><div id="t1536882024000100" t="2018-09-13 23:40:24 hiredman the papers tend translate the &apos;o&apos; suffix as a ° (degree symbol) which can make it easy to miss and confuse the names"><a href="#t1536882024000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-13</span> <span class="t" onclick="H(this)">23:40:24</span>         hiredman </span><span>the papers tend translate the &apos;o&apos; suffix as a ° (degree symbol) which can make it easy to miss and confuse the names</span></div><div id="t1536929909000100" t="2018-09-14 12:58:29 rickmoynihan agreed.  I think the confusion is also perhaps because  conj  in microkanren is not clojure’s conj.  It’s  conj^2  which is conjunctive (`and`)… likewise  disj  in microkanren is disjuntive i.e.  or .  Not sure if core.logic ports these functions directly either, as they’re part of microkanren… and perhaps not minikanren… would need to look."><a href="#t1536929909000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-14</span> <span class="t" onclick="H(this)">12:58:29</span>     rickmoynihan </span><span>agreed.  I think the confusion is also perhaps because </span><code>conj</code><span> in microkanren is not clojure’s conj.  It’s </span><code>conj^2</code><span> which is conjunctive (`and`)… likewise </span><code>disj</code><span> in microkanren is disjuntive i.e. </span><code>or</code><span>.  Not sure if core.logic ports these functions directly either, as they’re part of microkanren… and perhaps not minikanren… would need to look.</span></div><div id="t1536929977000100" t="2018-09-14 12:59:37 rickmoynihan I don’t have the papers in front of me though so could also be wrong…"><a href="#t1536929977000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-14</span> <span class="t" onclick="H(this)">12:59:37</span>     rickmoynihan </span><span>I don’t have the papers in front of me though so could also be wrong…</span></div><div id="t1536957791000100" t="2018-09-14 20:43:11 risto i know -o is a relation, how those lazy streams and conj/disj are implremented key in making sure appendo doesnt recurse forever and blow the stack"><a href="#t1536957791000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-14</span> <span class="t" onclick="H(this)">20:43:11</span>            risto </span><span>i know -o is a relation, how those lazy streams and conj/disj are implremented key in making sure appendo doesnt recurse forever and blow the stack</span></div><div id="t1536958001000100" t="2018-09-14 20:46:41 hiredman thats not true, the fact that appendo does case analysis and only one of the cases can be true at a time, and induction on the first argument (the first argument is smaller on every recursvie call) is what guarantees termination"><a href="#t1536958001000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-14</span> <span class="t" onclick="H(this)">20:46:41</span>         hiredman </span><span>thats not true, the fact that appendo does case analysis and only one of the cases can be true at a time, and induction on the first argument (the first argument is smaller on every recursvie call) is what guarantees termination</span></div><div id="t1536958100000100" t="2018-09-14 20:48:20 hiredman ah, the blowing the stack"><a href="#t1536958100000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-14</span> <span class="t" onclick="H(this)">20:48:20</span>         hiredman </span><span>ah, the blowing the stack</span></div><div id="t1536958143000100" t="2018-09-14 20:49:03 hiredman that is because in your implementation you are doing the recursive call to appendo when appendo is called, not as the logic program is running"><a href="#t1536958143000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-14</span> <span class="t" onclick="H(this)">20:49:03</span>         hiredman </span><span>that is because in your implementation you are doing the recursive call to appendo when appendo is called, not as the logic program is running</span></div><div id="t1536958159000100" t="2018-09-14 20:49:19 hiredman doing that switch is tricky in a language without macros"><a href="#t1536958159000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-14</span> <span class="t" onclick="H(this)">20:49:19</span>         hiredman </span><span>doing that switch is tricky in a language without macros</span></div><div id="t1536958208000100" t="2018-09-14 20:50:08 hiredman in my go implementation I had a special goal constructor for making recursive calls to make that work"><a href="#t1536958208000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-14</span> <span class="t" onclick="H(this)">20:50:08</span>         hiredman </span><span>in my go implementation I had a special goal constructor for making recursive calls to make that work</span></div><div id="t1536958286000100" t="2018-09-14 20:51:26 hiredman https://github.com/hiredman/gologic/blob/master/gologic.go#L533-L550   https://github.com/hiredman/gologic/blob/master/gologic_test.go#L110-L116"><a href="#t1536958286000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-14</span> <span class="t" onclick="H(this)">20:51:26</span>         hiredman </span><a href="https://github.com/hiredman/gologic/blob/master/gologic.go#L533-L550" target="_blank">https://github.com/hiredman/gologic/blob/master/gologic.go#L533-L550</a><span> </span><a href="https://github.com/hiredman/gologic/blob/master/gologic_test.go#L110-L116" target="_blank">https://github.com/hiredman/gologic/blob/master/gologic_test.go#L110-L116</a></div><div id="t1536958305000100" t="2018-09-14 20:51:45 risto yeah"><a href="#t1536958305000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-14</span> <span class="t" onclick="H(this)">20:51:45</span>            risto </span><span>yeah</span></div><div id="t1536958323000100" t="2018-09-14 20:52:03 risto there&apos;s something key with that which im messing up"><a href="#t1536958323000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-14</span> <span class="t" onclick="H(this)">20:52:03</span>            risto </span><span>there&apos;s something key with that which im messing up</span></div><div id="t1536958350000100" t="2018-09-14 20:52:30 hiredman it doesn&apos;t have to do with the stream implementation"><a href="#t1536958350000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-14</span> <span class="t" onclick="H(this)">20:52:30</span>         hiredman </span><span>it doesn&apos;t have to do with the stream implementation</span></div><div id="t1536958392000100" t="2018-09-14 20:53:12 hiredman it has to do with goal construction, which without macros, you can&apos;t delay the recursive call until you know if you have to do it"><a href="#t1536958392000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-14</span> <span class="t" onclick="H(this)">20:53:12</span>         hiredman </span><span>it has to do with goal construction, which without macros, you can&apos;t delay the recursive call until you know if you have to do it</span></div><div id="t1536958458000100" t="2018-09-14 20:54:18 hiredman so if  or  or  disj  is a regular function, all of its arguments must be evaluated before it is called, and if one of those is a recursive call, boom"><a href="#t1536958458000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-14</span> <span class="t" onclick="H(this)">20:54:18</span>         hiredman </span><span>so if </span><code>or</code><span> or </span><code>disj</code><span> is a regular function, all of its arguments must be evaluated before it is called, and if one of those is a recursive call, boom</span></div><div id="t1536958498000100" t="2018-09-14 20:54:58 risto yeah, it has to delay the goal somehow"><a href="#t1536958498000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-14</span> <span class="t" onclick="H(this)">20:54:58</span>            risto </span><span>yeah, it has to delay the goal somehow</span></div><div id="t1536958601000100" t="2018-09-14 20:56:41 hiredman so my Call goal constructor in go would look something like  (fn [goal &amp; args] (fn [package] ((apply goal args) package)))  in clojure"><a href="#t1536958601000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-14</span> <span class="t" onclick="H(this)">20:56:41</span>         hiredman </span><span>so my Call goal constructor in go would look something like </span><code>(fn [goal &amp; args] (fn [package] ((apply goal args) package)))</code><span> in clojure</span></div><div id="t1536958880000100" t="2018-09-14 21:01:20 hiredman which has a similar structure to what conde in core.logic expands to  https://github.com/clojure/core.logic/blob/master/src/main/clojure/clojure/core/logic.clj#L1175-L1183"><a href="#t1536958880000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-14</span> <span class="t" onclick="H(this)">21:01:20</span>         hiredman </span><span>which has a similar structure to what conde in core.logic expands to </span><a href="https://github.com/clojure/core.logic/blob/master/src/main/clojure/clojure/core/logic.clj#L1175-L1183" target="_blank">https://github.com/clojure/core.logic/blob/master/src/main/clojure/clojure/core/logic.clj#L1175-L1183</a></div><div id="t1537017465000100" t="2018-09-15 13:17:45 andrea.crotti If there something like ntho available or any suggestions about how to implement it? "><a href="#t1537017465000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-15</span> <span class="t" onclick="H(this)">13:17:45</span>    andrea.crotti </span><span>If there something like ntho available or any suggestions about how to implement it? </span></div><div id="t1537017507000100" t="2018-09-15 13:18:27 andrea.crotti I just need a logic express to check that an element is at a certain index of a vector "><a href="#t1537017507000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-15</span> <span class="t" onclick="H(this)">13:18:27</span>    andrea.crotti </span><span>I just need a logic express to check that an element is at a certain index of a vector </span></div><div id="t1537032006000100" t="2018-09-15 17:20:06 andrea.crotti Never mind that was the wrong approach, I&apos;ll try a few more things first I might be close already "><a href="#t1537032006000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-15</span> <span class="t" onclick="H(this)">17:20:06</span>    andrea.crotti </span><span>Never mind that was the wrong approach, I&apos;ll try a few more things first I might be close already </span></div><div id="t1537032069000100" t="2018-09-15 17:21:09 andrea.crotti In short I would like to have something that given a scrabble configuration and a list of letters return all the possible valid words "><a href="#t1537032069000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-15</span> <span class="t" onclick="H(this)">17:21:09</span>    andrea.crotti </span><span>In short I would like to have something that given a scrabble configuration and a list of letters return all the possible valid words </span></div><div id="t1537032143000100" t="2018-09-15 17:22:23 andrea.crotti So given with configuration &quot;h_ll_&quot; and letters &quot;hello&quot;  it would return trivially just (&quot;hello&quot;) "><a href="#t1537032143000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-15</span> <span class="t" onclick="H(this)">17:22:23</span>    andrea.crotti </span><span>So given with configuration &quot;h_ll_&quot; and letters &quot;hello&quot;  it would return trivially just (&quot;hello&quot;) </span></div><div id="t1537032186000100" t="2018-09-15 17:23:06 andrea.crotti It can be modelled similarly to sudoku actually and I think I&apos;m close"><a href="#t1537032186000100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-09-15</span> <span class="t" onclick="H(this)">17:23:06</span>    andrea.crotti </span><span>It can be modelled similarly to sudoku actually and I think I&apos;m close</span></div><div id="t1540755810004400" t="2018-10-28 19:43:30 folcon Just kicking around core logic with one of the initial tutorials and I have this basic definition set:
 (pldb/db-rel parent x y)
(defn grandparent [x y]
  (logic/fresh [z]
      (parent x z)
      (parent z y)))
 
Now if I do this:
 (apply pldb/db
    [[parent :Bob :Mike] [parent :Mike :John]])
#_=&gt; {&quot;logic.test/parent_2&quot;
 #:cljs.core.logic.pldb{:unindexed #{(:Bob :Mike) (:Mike :John)}}}
 
I get the result I expect, but when I do this:
 (apply pldb/db
    [[grandparent :Bob :John] [parent :Mike :John]])
#_=&gt; {nil #:cljs.core.logic.pldb{:unindexed #{(:Bob :John)}},
 &quot;logic.test/parent_2&quot;
 #:cljs.core.logic.pldb{:unindexed #{(:Mike :John)}}}
 
I get the above which I don’t understand, how do I not have the  (:Bob :Mike)  relation? Have I misunderstood something?
Note: I have tried:
 (grandparent :Bob :John)  =&gt;  #object[Function] 
 ((grandparent :Bob :John))  =&gt;  #object[cljs.core.logic.Inc] 
but feeding them into the  apply pldb/db  statement just gave exceptions, so I thought I was going down the wrong track…"><a href="#t1540755810004400" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-10-28</span> <span class="t" onclick="H(this)">19:43:30</span>           folcon </span><span>Just kicking around core logic with one of the initial tutorials and I have this basic definition set:
</span><pre>(pldb/db-rel parent x y)
(defn grandparent [x y]
  (logic/fresh [z]
      (parent x z)
      (parent z y)))
</pre><span>
Now if I do this:
</span><pre>(apply pldb/db
    [[parent :Bob :Mike] [parent :Mike :John]])
#_=&gt; {&quot;logic.test/parent_2&quot;
 #:cljs.core.logic.pldb{:unindexed #{(:Bob :Mike) (:Mike :John)}}}
</pre><span>
I get the result I expect, but when I do this:
</span><pre>(apply pldb/db
    [[grandparent :Bob :John] [parent :Mike :John]])
#_=&gt; {nil #:cljs.core.logic.pldb{:unindexed #{(:Bob :John)}},
 &quot;logic.test/parent_2&quot;
 #:cljs.core.logic.pldb{:unindexed #{(:Mike :John)}}}
</pre><span>
I get the above which I don’t understand, how do I not have the </span><code>(:Bob :Mike)</code><span> relation? Have I misunderstood something?
Note: I have tried:
</span><code>(grandparent :Bob :John)</code><span> =&gt; </span><code>#object[Function]</code><span>
</span><code>((grandparent :Bob :John))</code><span> =&gt; </span><code>#object[cljs.core.logic.Inc]</code><span>
but feeding them into the </span><code>apply pldb/db</code><span> statement just gave exceptions, so I thought I was going down the wrong track…</span></div><div id="t1540762282004900" t="2018-10-28 21:31:22 hiredman you can&apos;t really call things in core.logic like that"><a href="#t1540762282004900" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-10-28</span> <span class="t" onclick="H(this)">21:31:22</span>         hiredman </span><span>you can&apos;t really call things in core.logic like that</span></div><div id="t1540762313005500" t="2018-10-28 21:31:53 hiredman the grandparent function is returning a a goal, and the goal has to be inside a call to run or run* to see what the result is"><a href="#t1540762313005500" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-10-28</span> <span class="t" onclick="H(this)">21:31:53</span>         hiredman </span><span>the grandparent function is returning a a goal, and the goal has to be inside a call to run or run* to see what the result is</span></div><div id="t1540762431006500" t="2018-10-28 21:33:51 hiredman I haven&apos;t really used pldb, but my guess is to create facts you call the name of the relation as a function"><a href="#t1540762431006500" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-10-28</span> <span class="t" onclick="H(this)">21:33:51</span>         hiredman </span><span>I haven&apos;t really used pldb, but my guess is to create facts you call the name of the relation as a function</span></div><div id="t1540762456007000" t="2018-10-28 21:34:16 hiredman (parent :Bob :Mike)  not  [parent :Bob :Mike]"><a href="#t1540762456007000" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-10-28</span> <span class="t" onclick="H(this)">21:34:16</span>         hiredman </span><code>(parent :Bob :Mike)</code><span> not </span><code>[parent :Bob :Mike]</code></div><div id="t1540762488007400" t="2018-10-28 21:34:48 hiredman but I might be wrong there"><a href="#t1540762488007400" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-10-28</span> <span class="t" onclick="H(this)">21:34:48</span>         hiredman </span><span>but I might be wrong there</span></div><div id="t1540762594007900" t="2018-10-28 21:36:34 hiredman and I am, the pldb tests show the vector thing (at least on the clojure side)  https://github.com/clojure/core.logic/blob/master/src/test/clojure/clojure/core/logic/pldb/tests.clj#L15"><a href="#t1540762594007900" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-10-28</span> <span class="t" onclick="H(this)">21:36:34</span>         hiredman </span><span>and I am, the pldb tests show the vector thing (at least on the clojure side) </span><a href="https://github.com/clojure/core.logic/blob/master/src/test/clojure/clojure/core/logic/pldb/tests.clj#L15" target="_blank">https://github.com/clojure/core.logic/blob/master/src/test/clojure/clojure/core/logic/pldb/tests.clj#L15</a></div><div id="t1540762719009500" t="2018-10-28 21:38:39 hiredman in your example, grandparent is a core.logic goal, not a pldb fact, so you cannot use it like that"><a href="#t1540762719009500" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-10-28</span> <span class="t" onclick="H(this)">21:38:39</span>         hiredman </span><span>in your example, grandparent is a core.logic goal, not a pldb fact, so you cannot use it like that</span></div><div id="t1540762801010500" t="2018-10-28 21:40:01 hiredman a core.logic goal is like a query you can run over facts, in this case grandparent is a query you can run over a database of parent relationships to derive grandparent relationships"><a href="#t1540762801010500" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-10-28</span> <span class="t" onclick="H(this)">21:40:01</span>         hiredman </span><span>a core.logic goal is like a query you can run over facts, in this case grandparent is a query you can run over a database of parent relationships to derive grandparent relationships</span></div><div id="t1540763039012000" t="2018-10-28 21:43:59 folcon Ok, but given these are relational operators, is there no way that I can take the statement  [grandparent :Bob :John]  and derive that that means =&gt;  [parent :Bob _] [parent _ :John] ?"><a href="#t1540763039012000" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-10-28</span> <span class="t" onclick="H(this)">21:43:59</span>           folcon </span><span>Ok, but given these are relational operators, is there no way that I can take the statement </span><code>[grandparent :Bob :John]</code><span> and derive that that means =&gt; </span><code>[parent :Bob _] [parent _ :John]</code><span>?</span></div><div id="t1540763072012400" t="2018-10-28 21:44:32 folcon It’s very likely that I’m formulating these incorrectly."><a href="#t1540763072012400" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-10-28</span> <span class="t" onclick="H(this)">21:44:32</span>           folcon </span><span>It’s very likely that I’m formulating these incorrectly.</span></div><div id="t1540763113013000" t="2018-10-28 21:45:13 folcon Basically I’m trying to understand how I can create new facts, from statements."><a href="#t1540763113013000" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-10-28</span> <span class="t" onclick="H(this)">21:45:13</span>           folcon </span><span>Basically I’m trying to understand how I can create new facts, from statements.</span></div><div id="t1540763133013200" t="2018-10-28 21:45:33 folcon Or is that just not possible?"><a href="#t1540763133013200" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-10-28</span> <span class="t" onclick="H(this)">21:45:33</span>           folcon </span><span>Or is that just not possible?</span></div><div id="t1540763199013700" t="2018-10-28 21:46:39 folcon Do I need to work out how to define  grandparent  as a  db-rel  perhaps?"><a href="#t1540763199013700" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-10-28</span> <span class="t" onclick="H(this)">21:46:39</span>           folcon </span><span>Do I need to work out how to define </span><code>grandparent</code><span> as a </span><code>db-rel</code><span> perhaps?</span></div><div id="t1540763663014800" t="2018-10-28 21:54:23 hiredman you are looking to infer new facts based on existing facts and definitions of relationships between facts"><a href="#t1540763663014800" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-10-28</span> <span class="t" onclick="H(this)">21:54:23</span>         hiredman </span><span>you are looking to infer new facts based on existing facts and definitions of relationships between facts</span></div><div id="t1540763817017000" t="2018-10-28 21:56:57 hiredman you have sort of half that, the missing half is you have to write something that runs the grandparents (rewritten to return some kind of inferred list of parent facts) and adds the results to the database"><a href="#t1540763817017000" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-10-28</span> <span class="t" onclick="H(this)">21:56:57</span>         hiredman </span><span>you have sort of half that, the missing half is you have to write something that runs the grandparents (rewritten to return some kind of inferred list of parent facts) and adds the results to the database</span></div><div id="t1540763841017400" t="2018-10-28 21:57:21 hiredman you might want something more like a rules engine, like clara"><a href="#t1540763841017400" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-10-28</span> <span class="t" onclick="H(this)">21:57:21</span>         hiredman </span><span>you might want something more like a rules engine, like clara</span></div><div id="t1540763863017600" t="2018-10-28 21:57:43 hiredman http://www.clara-rules.org/"><a href="#t1540763863017600" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-10-28</span> <span class="t" onclick="H(this)">21:57:43</span>         hiredman </span><a href="http://www.clara-rules.org/" target="_blank">http://www.clara-rules.org/</a></div><div id="t1540763939018300" t="2018-10-28 21:58:59 hiredman clara has a fairly active slack channel if it does look like what you want #clara"><a href="#t1540763939018300" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-10-28</span> <span class="t" onclick="H(this)">21:58:59</span>         hiredman </span><span>clara has a fairly active slack channel if it does look like what you want #clara</span></div><div id="t1540763999019700" t="2018-10-28 21:59:59 hiredman but I dunno, maybe not, because rules engines generally don&apos;t have logic variables"><a href="#t1540763999019700" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-10-28</span> <span class="t" onclick="H(this)">21:59:59</span>         hiredman </span><span>but I dunno, maybe not, because rules engines generally don&apos;t have logic variables</span></div><div id="t1540764053021000" t="2018-10-28 22:00:53 hiredman so [parent :Bob ?x] [parent ?x :John] isn&apos;t going to be directly something you can assert in to it"><a href="#t1540764053021000" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-10-28</span> <span class="t" onclick="H(this)">22:00:53</span>         hiredman </span><span>so [parent :Bob ?x] [parent ?x :John] isn&apos;t going to be directly something you can assert in to it</span></div><div id="t1540764167022400" t="2018-10-28 22:02:47 hiredman on the other hand, given the definition of grandparent, by construction if grandparent is true then we know  [parent :Bob ?x] [parent ?x :John] is already true in the database, so there is no point in asserting it"><a href="#t1540764167022400" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-10-28</span> <span class="t" onclick="H(this)">22:02:47</span>         hiredman </span><span>on the other hand, given the definition of grandparent, by construction if grandparent is true then we know  [parent :Bob ?x] [parent ?x :John] is already true in the database, so there is no point in asserting it</span></div><div id="t1540764208022800" t="2018-10-28 22:03:28 folcon Thanks for mentioning clara =)…"><a href="#t1540764208022800" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-10-28</span> <span class="t" onclick="H(this)">22:03:28</span>           folcon </span><span>Thanks for mentioning clara =)…</span></div><div id="t1540764248023400" t="2018-10-28 22:04:08 folcon I’m still going through the Reasoned Schemer at the moment, so I’m going to keep reading that and banging my head against this for at least the next week or so and see if I can get somewhere and if that completely fails I’ll give it a look. Much appreciate your help though :)…"><a href="#t1540764248023400" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-10-28</span> <span class="t" onclick="H(this)">22:04:08</span>           folcon </span><span>I’m still going through the Reasoned Schemer at the moment, so I’m going to keep reading that and banging my head against this for at least the next week or so and see if I can get somewhere and if that completely fails I’ll give it a look. Much appreciate your help though :)…</span></div><div id="t1540769977024300" t="2018-10-28 23:39:37 folcon Also just out of curiosity, is there a reason that a lot of the examples I see use symbols? Instead of say keywords?"><a href="#t1540769977024300" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-10-28</span> <span class="t" onclick="H(this)">23:39:37</span>           folcon </span><span>Also just out of curiosity, is there a reason that a lot of the examples I see use symbols? Instead of say keywords?</span></div><div id="t1540770015024800" t="2018-10-28 23:40:15 folcon I just got bitten by this:
 (l/run* [q]
  (l/== 
    &apos;((pea)  pod)
    `((pea) ~q)))
=&gt; ()
(l/run* [q]
  (l/== 
    &apos;(pea  pod)
    `(pea ~q)))
=&gt; ()
(l/run* [q]
  (l/== 
    &apos;(:pea  :pod)
    `(:pea ~q)))
=&gt; (:pod)
"><a href="#t1540770015024800" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-10-28</span> <span class="t" onclick="H(this)">23:40:15</span>           folcon </span><span>I just got bitten by this:
</span><pre>(l/run* [q]
  (l/== 
    &apos;((pea)  pod)
    `((pea) ~q)))
=&gt; ()
(l/run* [q]
  (l/== 
    &apos;(pea  pod)
    `(pea ~q)))
=&gt; ()
(l/run* [q]
  (l/== 
    &apos;(:pea  :pod)
    `(:pea ~q)))
=&gt; (:pod)
</pre></div><div id="t1540770075025800" t="2018-10-28 23:41:15 folcon Finally realised it’s because in clojure the “`” resolves the symbol to the namespace, so the two symbols aren’t equal."><a href="#t1540770075025800" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-10-28</span> <span class="t" onclick="H(this)">23:41:15</span>           folcon </span><span>Finally realised it’s because in clojure the “`” resolves the symbol to the namespace, so the two symbols aren’t equal.</span></div><div id="t1540907362032600" t="2018-10-30 13:49:22 rickmoynihan FYI the clojure syntax to unqualify a symbol during a       is to use  ~&apos;foo`"><a href="#t1540907362032600" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-10-30</span> <span class="t" onclick="H(this)">13:49:22</span>          rickmoynihan </span><span>FYI the clojure syntax to unqualify a symbol during a </span><code> </code><span> </span><code> is to use </code><span>~&apos;foo`</span></div><div id="t1540907510032900" t="2018-10-30 13:51:50 rickmoynihan I’m assuming by examples you mean minikanren/TRS examples, that you’re porting to clojure rather than  core.logic  ones"><a href="#t1540907510032900" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-10-30</span> <span class="t" onclick="H(this)">13:51:50</span>          rickmoynihan </span><span>I’m assuming by examples you mean minikanren/TRS examples, that you’re porting to clojure rather than </span><code>core.logic</code><span> ones</span></div><div id="t1540778245029100" t="2018-10-29 01:57:25 folcon I’m somewhat surprised by how different the syntax is between  core.logic  and what’s in the reasoned schemer, it’s taking me a while to find the exact matching functions. For example, I spent a while I thinking that  conj2  was  conjo  right up until this happened:
 (l/run* [q]
  (l/conjo u# (l/== &apos;corn q)))
=&gt; (_0)
 
eventually I worked out it was just:
 (l/run* [q]
  (l/and* [u# (l/== &apos;corn q)]))
=&gt; ()
 
But this stuff isn’t obvious and so far googling hasn’t shown that those two functions match. (Assuming that I’m right about that…)"><a href="#t1540778245029100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-10-29</span> <span class="t" onclick="H(this)">01:57:25</span>           folcon </span><span>I’m somewhat surprised by how different the syntax is between </span><code>core.logic</code><span> and what’s in the reasoned schemer, it’s taking me a while to find the exact matching functions. For example, I spent a while I thinking that </span><code>conj2</code><span> was </span><code>conjo</code><span> right up until this happened:
</span><pre>(l/run* [q]
  (l/conjo u# (l/== &apos;corn q)))
=&gt; (_0)
</pre><span>
eventually I worked out it was just:
</span><pre>(l/run* [q]
  (l/and* [u# (l/== &apos;corn q)]))
=&gt; ()
</pre><span>
But this stuff isn’t obvious and so far googling hasn’t shown that those two functions match. (Assuming that I’m right about that…)</span></div><div id="t1540778301029900" t="2018-10-29 01:58:21 folcon I’m recording all the gotcha’s that I’m finding, but not really sure if it’s really of interest seeing as it’s not really been written anywhere…"><a href="#t1540778301029900" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-10-29</span> <span class="t" onclick="H(this)">01:58:21</span>           folcon </span><span>I’m recording all the gotcha’s that I’m finding, but not really sure if it’s really of interest seeing as it’s not really been written anywhere…</span></div><div id="t1540894492030200" t="2018-10-30 10:14:52 deliciousowl https://github.com/clojure/core.logic/wiki/Differences-from-The-Reasoned-Schemer"><a href="#t1540894492030200" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-10-30</span> <span class="t" onclick="H(this)">10:14:52</span>     deliciousowl </span><a href="https://github.com/clojure/core.logic/wiki/Differences-from-The-Reasoned-Schemer" target="_blank">https://github.com/clojure/core.logic/wiki/Differences-from-The-Reasoned-Schemer</a></div><div id="t1540907226032400" t="2018-10-30 13:47:06 rickmoynihan @folcon: do you have 1st or 2nd edition reasoned schemer?  Because the minikanren implementation changed between those versions… and core.logic was derived from the 1st edition of the reasoned schemer not the 2nd.

I’m not sure of all the differences might be caused that, but there will certainly be some.

It might be worth mentioning this on that wiki page."><a href="#t1540907226032400" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-10-30</span> <span class="t" onclick="H(this)">13:47:06</span>     rickmoynihan </span><span>@folcon: do you have 1st or 2nd edition reasoned schemer?  Because the minikanren implementation changed between those versions… and core.logic was derived from the 1st edition of the reasoned schemer not the 2nd.

I’m not sure of all the differences might be caused that, but there will certainly be some.

It might be worth mentioning this on that wiki page.</span></div><div id="t1540912770033200" t="2018-10-30 15:19:30 folcon 2nd edition"><a href="#t1540912770033200" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-10-30</span> <span class="t" onclick="H(this)">15:19:30</span>           folcon </span><span>2nd edition</span></div><div id="t1540912786033600" t="2018-10-30 15:19:46 folcon as I’m going to it fresh so I thought I’d get the 2nd ed"><a href="#t1540912786033600" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-10-30</span> <span class="t" onclick="H(this)">15:19:46</span>           folcon </span><span>as I’m going to it fresh so I thought I’d get the 2nd ed</span></div><div id="t1540912835034300" t="2018-10-30 15:20:35 folcon I’m happy to document it somewhere, I was planning on doing a write up anyway…"><a href="#t1540912835034300" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-10-30</span> <span class="t" onclick="H(this)">15:20:35</span>           folcon </span><span>I’m happy to document it somewhere, I was planning on doing a write up anyway…</span></div><div id="t1540912852034600" t="2018-10-30 15:20:52 folcon Hopefully others don’t get stuck =)…"><a href="#t1540912852034600" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-10-30</span> <span class="t" onclick="H(this)">15:20:52</span>           folcon </span><span>Hopefully others don’t get stuck =)…</span></div><div id="t1540915604035100" t="2018-10-30 16:06:44 rickmoynihan @folcon: IIRC someone else was on here a few weeks ago who had some similar confusion."><a href="#t1540915604035100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-10-30</span> <span class="t" onclick="H(this)">16:06:44</span>     rickmoynihan </span><span>@folcon: IIRC someone else was on here a few weeks ago who had some similar confusion.</span></div><div id="t1540915716035400" t="2018-10-30 16:08:36 rickmoynihan See in the logs here:

 https://clojurians-log.clojureverse.org/core-logic/2018-09-12 

and here:

 https://clojurians-log.clojureverse.org/core-logic/2018-09-13"><a href="#t1540915716035400" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-10-30</span> <span class="t" onclick="H(this)">16:08:36</span>     rickmoynihan </span><span>See in the logs here:

</span><a href="https://clojurians-log.clojureverse.org/core-logic/2018-09-12" target="_blank">https://clojurians-log.clojureverse.org/core-logic/2018-09-12</a><span>

and here:

</span><a href="https://clojurians-log.clojureverse.org/core-logic/2018-09-13" target="_blank">https://clojurians-log.clojureverse.org/core-logic/2018-09-13</a></div><div id="t1540916031035700" t="2018-10-30 16:13:51 folcon Thanks, I’ll have a read  😃"><a href="#t1540916031035700" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-10-30</span> <span class="t" onclick="H(this)">16:13:51</span>           folcon </span><span>Thanks, I’ll have a read </span><b>😃</b></div><div id="t1543217979039400" t="2018-11-26 07:39:39 Jacob O&apos;Bryant I&apos;m trying to write a program to calculate the solution in the board game Clue. I&apos;m very new to  core.logic , so I&apos;m starting off with a really simple version: given all the cards in my hand and in my opponents&apos; hands, what are the three remaining cards? I&apos;ve written the code below, but  (do-query)  just makes the CPU max out and never returns. How should I write this? Should I take a different approach?

 (def players [:green :scarlet :peacock :mustard :white :plum])
(def rooms [:study :hall :lounge :dining-room :kitchen :ballroom
            :conservatory :billiard-room :library])
(def weapons [:candlestick :lead-pipe :revolver :wrench :rope :knife])
(def all-cards (concat players rooms weapons))

(defn do-query []
  (let [cards (repeatedly 21 logic/lvar)
        [solution remaining] (split-at 3 cards)
        [my-cards remaining] (split-at 6 remaining)
        [green-cards scarlet-cards] (split-at 6 remaining)]
    (logic/run 1 [p r w]
      (logic/== solution [p r w])
      (logic/permuteo all-cards cards)
      (logic/== my-cards [:rope :study :scarlet
                          :conservatory :mustard :wrench])
      (logic/== green-cards [:green :lead-pipe :knife :dining-room
                             :billiard-room :library])
      (logic/== scarlet-cards [:revolver :plum :hall
                               :lounge :kitchen :white])
      (logic/membero p players)
      (logic/membero r rooms)
      (logic/membero w weapons))))
"><a href="#t1543217979039400" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-11-26</span> <span class="t" onclick="H(this)">07:39:39</span>   Jacob O'Bryant </span><span>I&apos;m trying to write a program to calculate the solution in the board game Clue. I&apos;m very new to </span><code>core.logic</code><span>, so I&apos;m starting off with a really simple version: given all the cards in my hand and in my opponents&apos; hands, what are the three remaining cards? I&apos;ve written the code below, but </span><code>(do-query)</code><span> just makes the CPU max out and never returns. How should I write this? Should I take a different approach?

</span><pre>(def players [:green :scarlet :peacock :mustard :white :plum])
(def rooms [:study :hall :lounge :dining-room :kitchen :ballroom
            :conservatory :billiard-room :library])
(def weapons [:candlestick :lead-pipe :revolver :wrench :rope :knife])
(def all-cards (concat players rooms weapons))

(defn do-query []
  (let [cards (repeatedly 21 logic/lvar)
        [solution remaining] (split-at 3 cards)
        [my-cards remaining] (split-at 6 remaining)
        [green-cards scarlet-cards] (split-at 6 remaining)]
    (logic/run 1 [p r w]
      (logic/== solution [p r w])
      (logic/permuteo all-cards cards)
      (logic/== my-cards [:rope :study :scarlet
                          :conservatory :mustard :wrench])
      (logic/== green-cards [:green :lead-pipe :knife :dining-room
                             :billiard-room :library])
      (logic/== scarlet-cards [:revolver :plum :hall
                               :lounge :kitchen :white])
      (logic/membero p players)
      (logic/membero r rooms)
      (logic/membero w weapons))))
</pre></div><div id="t1543251958039700" t="2018-11-26 17:05:58 hiredman the permuteo is what does it"><a href="#t1543251958039700" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-11-26</span> <span class="t" onclick="H(this)">17:05:58</span>         hiredman </span><span>the permuteo is what does it</span></div><div id="t1543252075040300" t="2018-11-26 17:07:55 hiredman it results in a search tree with a lot of branches"><a href="#t1543252075040300" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-11-26</span> <span class="t" onclick="H(this)">17:07:55</span>         hiredman </span><span>it results in a search tree with a lot of branches</span></div><div id="t1543252192040800" t="2018-11-26 17:09:52 hiredman come to think of it, I don&apos;t think I&apos;ve ever played clue"><a href="#t1543252192040800" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-11-26</span> <span class="t" onclick="H(this)">17:09:52</span>         hiredman </span><span>come to think of it, I don&apos;t think I&apos;ve ever played clue</span></div><div id="t1543252928042300" t="2018-11-26 17:22:08 hiredman I think I would start from a map of card names to lvars, where each lvar will have a value like :mine, :opponent, or :deck (if deck is valid in clue)"><a href="#t1543252928042300" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-11-26</span> <span class="t" onclick="H(this)">17:22:08</span>         hiredman </span><span>I think I would start from a map of card names to lvars, where each lvar will have a value like :mine, :opponent, or :deck (if deck is valid in clue)</span></div><div id="t1543376034049000" t="2018-11-28 03:33:54 Jacob O&apos;Bryant thanks, I&apos;ll try going down that route"><a href="#t1543376034049000" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-11-28</span> <span class="t" onclick="H(this)">03:33:54</span>        Jacob O'Bryant </span><span>thanks, I&apos;ll try going down that route</span></div><div id="t1543267348043300" t="2018-11-26 21:22:28 schmee if I have a core.logic goal that looks like this
 (fresh [?1 ?2 ?3 ?4]
      (membero ?1 vars)
      (membero ?2 vars)
      (membero ?3 vars)
      (membero ?4 vars)
      ...)
 
will that expand into  vars × vars × vars × vars  in memory, even if I have other goals that constrain the answer set to something much smaller?"><a href="#t1543267348043300" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-11-26</span> <span class="t" onclick="H(this)">21:22:28</span>           schmee </span><span>if I have a core.logic goal that looks like this
</span><pre>(fresh [?1 ?2 ?3 ?4]
      (membero ?1 vars)
      (membero ?2 vars)
      (membero ?3 vars)
      (membero ?4 vars)
      ...)
</pre><span>
will that expand into </span><code>vars × vars × vars × vars</code><span> in memory, even if I have other goals that constrain the answer set to something much smaller?</span></div><div id="t1543267406043600" t="2018-11-26 21:23:26 hiredman it depends what you mean by expands in memory"><a href="#t1543267406043600" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-11-26</span> <span class="t" onclick="H(this)">21:23:26</span>         hiredman </span><span>it depends what you mean by expands in memory</span></div><div id="t1543267455044600" t="2018-11-26 21:24:15 hiredman you will end up with a search tree that has at least that many branches, but the search tree typically is walked in a lazy fashion so the whole thing isn&apos;t realized at once"><a href="#t1543267455044600" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-11-26</span> <span class="t" onclick="H(this)">21:24:15</span>         hiredman </span><span>you will end up with a search tree that has at least that many branches, but the search tree typically is walked in a lazy fashion so the whole thing isn&apos;t realized at once</span></div><div id="t1543301721045300" t="2018-11-27 06:55:21 schmee here’s the actual thing:
 (run* [q]
    (init vars legs)
    (with-fresh
      (membero ?1 vars)
      (membero ?2 vars)
      (membero ?3 vars)
      (membero ?4 vars)
      (== ?1 [&quot;M&quot; ?a1 ?b1])
      (== ?2 [&quot;T&quot; ?a2 ?b2])
      (== ?3 [&quot;W&quot; ?a3 ?b3])
      (== ?4 [&quot;R&quot; ?a4 ?b4])
      (== ?b1 ?a2)
      (== ?b2 ?a3)
      (== ?b3 ?a4)
      (== q [?1 ?2 ?3 ?4]))))
"><a href="#t1543301721045300" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-11-27</span> <span class="t" onclick="H(this)">06:55:21</span>           schmee </span><span>here’s the actual thing:
</span><pre>(run* [q]
    (init vars legs)
    (with-fresh
      (membero ?1 vars)
      (membero ?2 vars)
      (membero ?3 vars)
      (membero ?4 vars)
      (== ?1 [&quot;M&quot; ?a1 ?b1])
      (== ?2 [&quot;T&quot; ?a2 ?b2])
      (== ?3 [&quot;W&quot; ?a3 ?b3])
      (== ?4 [&quot;R&quot; ?a4 ?b4])
      (== ?b1 ?a2)
      (== ?b2 ?a3)
      (== ?b3 ?a4)
      (== q [?1 ?2 ?3 ?4]))))
</pre></div><div id="t1543301747045800" t="2018-11-27 06:55:47 schmee vars  is a collection of tuples like this:  [&quot;M&quot; &quot;SAN_ANTONIO&quot; &quot;HOUSTON&quot;]  (day of week, start, end)"><a href="#t1543301747045800" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-11-27</span> <span class="t" onclick="H(this)">06:55:47</span>           schmee </span><code>vars</code><span> is a collection of tuples like this: </span><code>[&quot;M&quot; &quot;SAN_ANTONIO&quot; &quot;HOUSTON&quot;]</code><span> (day of week, start, end)</span></div><div id="t1543301779046200" t="2018-11-27 06:56:19 schmee I’m messing around with a core.logic solution to  https://kevinlynagh.com/notes/shipping-puzzle/"><a href="#t1543301779046200" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-11-27</span> <span class="t" onclick="H(this)">06:56:19</span>           schmee </span><span>I’m messing around with a core.logic solution to </span><a href="https://kevinlynagh.com/notes/shipping-puzzle/" target="_blank">https://kevinlynagh.com/notes/shipping-puzzle/</a></div><div id="t1543301828047100" t="2018-11-27 06:57:08 schmee but running the above with just 100 tuples take 15 minutes to produce one result"><a href="#t1543301828047100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-11-27</span> <span class="t" onclick="H(this)">06:57:08</span>           schmee </span><span>but running the above with just 100 tuples take 15 minutes to produce one result</span></div><div id="t1543301911047900" t="2018-11-27 06:58:31 schmee (`with-fresh` just binds all  ?  variables to a fresh lvar)"><a href="#t1543301911047900" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-11-27</span> <span class="t" onclick="H(this)">06:58:31</span>           schmee </span><span>(`with-fresh` just binds all </span><code>?</code><span> variables to a fresh lvar)</span></div><div id="t1543346342048900" t="2018-11-27 19:19:02 norman How much faster does it go if you move the memberos to the end?"><a href="#t1543346342048900" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-11-27</span> <span class="t" onclick="H(this)">19:19:02</span>           norman </span><span>How much faster does it go if you move the memberos to the end?</span></div><div id="t1543449343049600" t="2018-11-28 23:55:43 arohner Are there any examples of core.logic being used with functions(rather than macros)? I have a problem where I want to build up goals from data, so the heavy-macro usage seems to get in the way"><a href="#t1543449343049600" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-11-28</span> <span class="t" onclick="H(this)">23:55:43</span>          arohner </span><span>Are there any examples of core.logic being used with functions(rather than macros)? I have a problem where I want to build up goals from data, so the heavy-macro usage seems to get in the way</span></div><div id="t1543449353049900" t="2018-11-28 23:55:53 arohner also the number of logic variables is unknown at compile time"><a href="#t1543449353049900" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-11-28</span> <span class="t" onclick="H(this)">23:55:53</span>          arohner </span><span>also the number of logic variables is unknown at compile time</span></div><div id="t1543449620051500" t="2018-11-29 00:00:20 hiredman https://gist.github.com/hiredman/05befd5b39eef89b86ca#file-bench-clj-L28-L35  isn&apos;t all that dynamic but it creates lvars via a function call,  and then uses l/composeg to constrain all the generate lvars"><a href="#t1543449620051500" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-11-29</span> <span class="t" onclick="H(this)">00:00:20</span>         hiredman </span><a href="https://gist.github.com/hiredman/05befd5b39eef89b86ca#file-bench-clj-L28-L35" target="_blank">https://gist.github.com/hiredman/05befd5b39eef89b86ca#file-bench-clj-L28-L35</a><span> isn&apos;t all that dynamic but it creates lvars via a function call,  and then uses l/composeg to constrain all the generate lvars</span></div><div id="t1543449690051700" t="2018-11-29 00:01:30 arohner thanks"><a href="#t1543449690051700" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-11-29</span> <span class="t" onclick="H(this)">00:01:30</span>          arohner </span><span>thanks</span></div><div id="t1543449760052600" t="2018-11-29 00:02:40 arohner my number of goals is also dynamic based on the data. Clearly I can read the source and call the macro expansions directly, just wondering how ‘against the grain’ that is"><a href="#t1543449760052600" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-11-29</span> <span class="t" onclick="H(this)">00:02:40</span>          arohner </span><span>my number of goals is also dynamic based on the data. Clearly I can read the source and call the macro expansions directly, just wondering how ‘against the grain’ that is</span></div><div id="t1543449802053000" t="2018-11-29 00:03:22 hiredman https://gist.github.com/terjesb/3181018  might another interesting thing to look at, particular the usage of to-stream"><a href="#t1543449802053000" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-11-29</span> <span class="t" onclick="H(this)">00:03:22</span>         hiredman </span><a href="https://gist.github.com/terjesb/3181018" target="_blank">https://gist.github.com/terjesb/3181018</a><span> might another interesting thing to look at, particular the usage of to-stream</span></div><div id="t1543449899054500" t="2018-11-29 00:04:59 hiredman I kind of doubt you actually want that, it would be similar to a clojure program with a dynamic number of functions based on the data, it is possible, but much more likely you have a fixed number of functions and you want to drive the composition via the data"><a href="#t1543449899054500" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-11-29</span> <span class="t" onclick="H(this)">00:04:59</span>         hiredman </span><span>I kind of doubt you actually want that, it would be similar to a clojure program with a dynamic number of functions based on the data, it is possible, but much more likely you have a fixed number of functions and you want to drive the composition via the data</span></div><div id="t1543449960055300" t="2018-11-29 00:06:00 hiredman but, for example, that code I linked generates a goal per items in a map, and then composes them all in to one goal"><a href="#t1543449960055300" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-11-29</span> <span class="t" onclick="H(this)">00:06:00</span>         hiredman </span><span>but, for example, that code I linked generates a goal per items in a map, and then composes them all in to one goal</span></div><div id="t1543450071056000" t="2018-11-29 00:07:51 arohner I think there are a fixed set of functions, with an unknown number of function calls"><a href="#t1543450071056000" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-11-29</span> <span class="t" onclick="H(this)">00:07:51</span>          arohner </span><span>I think there are a fixed set of functions, with an unknown number of function calls</span></div><div id="t1543450174057500" t="2018-11-29 00:09:34 hiredman I don&apos;t think that is against the grain at all"><a href="#t1543450174057500" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-11-29</span> <span class="t" onclick="H(this)">00:09:34</span>         hiredman </span><span>I don&apos;t think that is against the grain at all</span></div><div id="t1543450410058900" t="2018-11-29 00:13:30 hiredman likely you&apos;ll end up with a lot of stuff similar pos-int-vals in that first example, where you map some function over all your data generating a goal for each part of the data, then reduce it with composeg to create a single goal"><a href="#t1543450410058900" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-11-29</span> <span class="t" onclick="H(this)">00:13:30</span>         hiredman </span><span>likely you&apos;ll end up with a lot of stuff similar pos-int-vals in that first example, where you map some function over all your data generating a goal for each part of the data, then reduce it with composeg to create a single goal</span></div><div id="t1543450478059400" t="2018-11-29 00:14:38 hiredman composeg is conjuction of goals, and there is another one for disjunction"><a href="#t1543450478059400" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-11-29</span> <span class="t" onclick="H(this)">00:14:38</span>         hiredman </span><span>composeg is conjuction of goals, and there is another one for disjunction</span></div><div id="t1543934038000500" t="2018-12-04 14:33:58 rickmoynihan @arohner: I’d like to do something similar"><a href="#t1543934038000500" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2018-12-04</span> <span class="t" onclick="H(this)">14:33:58</span>     rickmoynihan </span><span>@arohner: I’d like to do something similar</span></div><div id="t1550899798000400" t="2019-02-23 05:29:58 Kelly Innes Hello!"><a href="#t1550899798000400" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-02-23</span> <span class="t" onclick="H(this)">05:29:58</span>      Kelly Innes </span><span>Hello!</span></div><div id="t1550899837001200" t="2019-02-23 05:30:37 Kelly Innes I&apos;m trying to work through latest edition of the The Reasoned Schemer in Clojure and I&apos;m encountering some Scheme syntax I don&apos;t quite know how to translate."><a href="#t1550899837001200" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-02-23</span> <span class="t" onclick="H(this)">05:30:37</span>      Kelly Innes </span><span>I&apos;m trying to work through latest edition of the The Reasoned Schemer in Clojure and I&apos;m encountering some Scheme syntax I don&apos;t quite know how to translate.</span></div><div id="t1550899975002800" t="2019-02-23 05:32:55 Kelly Innes (run* [q]
  (== `(((,q)) pod) &apos;(((pea) pod))))

(run* [q]
  (== &apos;(((pea)) pod) `(((pea)) ,q)))
 

are analogues for chapter 1, frame 33 and 34, and should associate q with  pod and  pea, respectively"><a href="#t1550899975002800" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-02-23</span> <span class="t" onclick="H(this)">05:32:55</span>      Kelly Innes </span><pre>(run* [q]
  (== `(((,q)) pod) &apos;(((pea) pod))))

(run* [q]
  (== &apos;(((pea)) pod) `(((pea)) ,q)))
</pre><span>

are analogues for chapter 1, frame 33 and 34, and should associate q with </span><code>pod and </code><span>pea, respectively</span></div><div id="t1550900003003500" t="2019-02-23 05:33:23 Kelly Innes However, I&apos;m getting  ()  for both when I eval then with CIDER. Am I doing something incorrectly?"><a href="#t1550900003003500" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-02-23</span> <span class="t" onclick="H(this)">05:33:23</span>      Kelly Innes </span><span>However, I&apos;m getting </span><code>()</code><span> for both when I eval then with CIDER. Am I doing something incorrectly?</span></div><div id="t1550900187003700" t="2019-02-23 05:36:27 hiredman , is ~"><a href="#t1550900187003700" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-02-23</span> <span class="t" onclick="H(this)">05:36:27</span>         hiredman </span><span>, is ~</span></div><div id="t1550900205004100" t="2019-02-23 05:36:45 hiredman ,  is unquote in scheme and whitespace in clojure"><a href="#t1550900205004100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-02-23</span> <span class="t" onclick="H(this)">05:36:45</span>         hiredman </span><code>,</code><span> is unquote in scheme and whitespace in clojure</span></div><div id="t1550900222004500" t="2019-02-23 05:37:02 hiredman ~  is syntax-unquote in clojure"><a href="#t1550900222004500" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-02-23</span> <span class="t" onclick="H(this)">05:37:02</span>         hiredman </span><code>~</code><span> is syntax-unquote in clojure</span></div><div id="t1550900269004700" t="2019-02-23 05:37:49 Kelly Innes Awesome, thank you~"><a href="#t1550900269004700" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-02-23</span> <span class="t" onclick="H(this)">05:37:49</span>      Kelly Innes </span><span>Awesome, thank you~</span></div><div id="t1550900395004900" t="2019-02-23 05:39:55 Kelly Innes Wonderful, that&apos;s working~"><a href="#t1550900395004900" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-02-23</span> <span class="t" onclick="H(this)">05:39:55</span>      Kelly Innes </span><span>Wonderful, that&apos;s working~</span></div><div id="t1550900401005100" t="2019-02-23 05:40:01 Kelly Innes (run* [q]
  (fresh [x]
    (== `(~x) q)))
"><a href="#t1550900401005100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-02-23</span> <span class="t" onclick="H(this)">05:40:01</span>      Kelly Innes </span><pre>(run* [q]
  (fresh [x]
    (== `(~x) q)))
</pre></div><div id="t1550901466005800" t="2019-02-23 05:57:46 Kelly Innes HM, I still must have something wrong because these two are evaluating incorrectly:"><a href="#t1550901466005800" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-02-23</span> <span class="t" onclick="H(this)">05:57:46</span>      Kelly Innes </span><span>HM, I still must have something wrong because these two are evaluating incorrectly:</span></div><div id="t1550901467006000" t="2019-02-23 05:57:47 Kelly Innes (run* [q]
  (== &apos;(((pea)) pod) `(((pea)) ~q)))

(run* [q]
  (fresh [x]
    (== `(((~q)) ~x) `(((~x)) pod))))
"><a href="#t1550901467006000" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-02-23</span> <span class="t" onclick="H(this)">05:57:47</span>      Kelly Innes </span><pre>(run* [q]
  (== &apos;(((pea)) pod) `(((pea)) ~q)))

(run* [q]
  (fresh [x]
    (== `(((~q)) ~x) `(((~x)) pod))))
</pre></div><div id="t1550903470006600" t="2019-02-23 06:31:10 yuhan that&apos;s due to the auto namespacing of symbols in syntax-quoted forms"><a href="#t1550903470006600" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-02-23</span> <span class="t" onclick="H(this)">06:31:10</span>            yuhan </span><span>that&apos;s due to the auto namespacing of symbols in syntax-quoted forms</span></div><div id="t1550903614007900" t="2019-02-23 06:33:34 yuhan ie. the first  pea  is a regular non-namespaced symbol but the second expands to  your-ns/pea"><a href="#t1550903614007900" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-02-23</span> <span class="t" onclick="H(this)">06:33:34</span>            yuhan </span><span>ie. the first </span><code>pea</code><span> is a regular non-namespaced symbol but the second expands to </span><code>your-ns/pea</code></div><div id="t1550903670008600" t="2019-02-23 06:34:30 yuhan I think a much more idomatic way of doing this in Clojure is using vectors"><a href="#t1550903670008600" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-02-23</span> <span class="t" onclick="H(this)">06:34:30</span>            yuhan </span><span>I think a much more idomatic way of doing this in Clojure is using vectors</span></div><div id="t1550903691008800" t="2019-02-23 06:34:51 yuhan (run* [q]
  (== [[[&apos;pea]] &apos;pod] [[[&apos;pea]] q]))

(run* [q]
  (fresh [x]
    (== [[[q]] x] [[[x]] &apos;pod])))
"><a href="#t1550903691008800" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-02-23</span> <span class="t" onclick="H(this)">06:34:51</span>            yuhan </span><pre>(run* [q]
  (== [[[&apos;pea]] &apos;pod] [[[&apos;pea]] q]))

(run* [q]
  (fresh [x]
    (== [[[q]] x] [[[x]] &apos;pod])))
</pre></div><div id="t1550938041009400" t="2019-02-23 16:07:21 Kelly Innes Cool, thank you -- I&apos;ll try replacing the lists with vectors when I hit a snag like this again."><a href="#t1550938041009400" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-02-23</span> <span class="t" onclick="H(this)">16:07:21</span>      Kelly Innes </span><span>Cool, thank you -- I&apos;ll try replacing the lists with vectors when I hit a snag like this again.</span></div><div id="t1550946858009700" t="2019-02-23 18:34:18 Kelly Innes Awesome, I was able to get through chapter 1!  https://github.com/kellyi/clj-lisp-sandbox/blob/master/reasoned-schemer/src/reasoned_schemer/one.clj"><a href="#t1550946858009700" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-02-23</span> <span class="t" onclick="H(this)">18:34:18</span>      Kelly Innes </span><span>Awesome, I was able to get through chapter 1! </span><a href="https://github.com/kellyi/clj-lisp-sandbox/blob/master/reasoned-schemer/src/reasoned_schemer/one.clj" target="_blank">https://github.com/kellyi/clj-lisp-sandbox/blob/master/reasoned-schemer/src/reasoned_schemer/one.clj</a></div><div id="t1551148279010100" t="2019-02-26 02:31:19 devn Yusssssssss"><a href="#t1551148279010100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-02-26</span> <span class="t" onclick="H(this)">02:31:19</span>             devn </span><span>Yusssssssss</span></div><div id="t1551646089000600" t="2019-03-03 20:48:09 Kelly Innes Completed translations of Chapters 3 and 4 of Reasoned Schemer into Clojure here, too:  https://github.com/kellyi/clj-lisp-sandbox/tree/master/reasoned-schemer/src/reasoned_schemer"><a href="#t1551646089000600" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-03-03</span> <span class="t" onclick="H(this)">20:48:09</span>      Kelly Innes </span><span>Completed translations of Chapters 3 and 4 of Reasoned Schemer into Clojure here, too: </span><a href="https://github.com/kellyi/clj-lisp-sandbox/tree/master/reasoned-schemer/src/reasoned_schemer" target="_blank">https://github.com/kellyi/clj-lisp-sandbox/tree/master/reasoned-schemer/src/reasoned_schemer</a></div><div id="t1551646120001000" t="2019-03-03 20:48:40 Kelly Innes I noticed that  https://github.com/clojure/core.logic/wiki/Differences-from-The-Reasoned-Schemer  recommends not using vectors generally but instead sticking with  list  or  llist :"><a href="#t1551646120001000" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-03-03</span> <span class="t" onclick="H(this)">20:48:40</span>      Kelly Innes </span><span>I noticed that </span><a href="https://github.com/clojure/core.logic/wiki/Differences-from-The-Reasoned-Schemer" target="_blank">https://github.com/clojure/core.logic/wiki/Differences-from-The-Reasoned-Schemer</a><span> recommends not using vectors generally but instead sticking with </span><code>list</code><span> or </span><code>llist</code><span>:</span></div><div id="t1551646137001200" t="2019-03-03 20:48:57 Kelly Innes &gt; Related, implementing list? as shown in TRS 3-1 is unnecessary. seq? is more appropriate in Clojure. This is because proper list-like things and pairs are not conflated in Clojure as they are in Scheme. In general you should not use vectors when working through TRS. Use list or a quoted list. TRS examples that use Scheme quasiquote will need to be written like so (TRS 3-7):"><a href="#t1551646137001200" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-03-03</span> <span class="t" onclick="H(this)">20:48:57</span>      Kelly Innes </span><span>&gt; Related, implementing list? as shown in TRS 3-1 is unnecessary. seq? is more appropriate in Clojure. This is because proper list-like things and pairs are not conflated in Clojure as they are in Scheme. In general you should not use vectors when working through TRS. Use list or a quoted list. TRS examples that use Scheme quasiquote will need to be written like so (TRS 3-7):</span></div><div id="t1560542804001700" t="2019-06-14 20:06:44 nblumoe Hi! Is there a way to express disequality with core.logic in CLJS?

Here is a small example what I would like to do:
 (l/run* [p]
          (l/fresh [pos-1 pos-2]
                   (l/membero pos-1 [0 1])
                   (l/membero pos-2 [0 1])
                   (l/!= pos-1 pos-2)                 ;; pos-1 must not be equal to pos-2
                   (l/== p [{:x pos-1}
                            {:x pos-2}])))
 

 https://github.com/clojure/core.logic/wiki/Using-core.logic-with-ClojureScript  says disequality constraints aren&apos;t available on CLJS. Is there a way around this?

Are finite domains available on CLJS?"><a href="#t1560542804001700" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-06-14</span> <span class="t" onclick="H(this)">20:06:44</span>          nblumoe </span><span>Hi! Is there a way to express disequality with core.logic in CLJS?

Here is a small example what I would like to do:
</span><pre>(l/run* [p]
          (l/fresh [pos-1 pos-2]
                   (l/membero pos-1 [0 1])
                   (l/membero pos-2 [0 1])
                   (l/!= pos-1 pos-2)                 ;; pos-1 must not be equal to pos-2
                   (l/== p [{:x pos-1}
                            {:x pos-2}])))
</pre><span>

</span><a href="https://github.com/clojure/core.logic/wiki/Using-core.logic-with-ClojureScript" target="_blank">https://github.com/clojure/core.logic/wiki/Using-core.logic-with-ClojureScript</a><span> says disequality constraints aren&apos;t available on CLJS. Is there a way around this?

Are finite domains available on CLJS?</span></div><div id="t1560543389001800" t="2019-06-14 20:16:29 noprompt I can’t speak to core logic but you can express this kind of thing in a forward way with Meander. If you’re interested, feel free to share your problem in #meander."><a href="#t1560543389001800" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-06-14</span> <span class="t" onclick="H(this)">20:16:29</span>              noprompt </span><span>I can’t speak to core logic but you can express this kind of thing in a forward way with Meander. If you’re interested, feel free to share your problem in #meander.</span></div><div id="t1564094472004800" t="2019-07-25 22:41:12 javazquez Hi everyone, I just started digging into core.logic and trying to wrap my brain around it.
I created a family tree that looks like the following
(def facts
  (pldb/db
   [parento :james :jerry]
   [parento :jerry :jordan]
   [parento :jerry :richard]
   [parento :jerry :harry]
   [parento :jerry :jackson]
   [parento :george :james]))
Jerry has multiple kiddos and George is the great grand father to jordan, richard, harry and jackson.
I have been struggling to write code that given one of these children, would produce all the ancestors without dups
ex.  given :jackson return
jerry, james, george

any help would be greatly appreciated  🙂"><a href="#t1564094472004800" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-07-25</span> <span class="t" onclick="H(this)">22:41:12</span>        javazquez </span><span>Hi everyone, I just started digging into core.logic and trying to wrap my brain around it.
I created a family tree that looks like the following
(def facts
  (pldb/db
   [parento :james :jerry]
   [parento :jerry :jordan]
   [parento :jerry :richard]
   [parento :jerry :harry]
   [parento :jerry :jackson]
   [parento :george :james]))
Jerry has multiple kiddos and George is the great grand father to jordan, richard, harry and jackson.
I have been struggling to write code that given one of these children, would produce all the ancestors without dups
ex.  given :jackson return
jerry, james, george

any help would be greatly appreciated </span><b>🙂</b></div><div id="t1564095355007100" t="2019-07-25 22:55:55 hiredman something of the form  (defn accesto [foo q] (l/conde [(parento q foo)][(l/fresh [x] (parento q x) (parento x foo))]))  but I haven&apos;t really used pldb and I am pretty rusty"><a href="#t1564095355007100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-07-25</span> <span class="t" onclick="H(this)">22:55:55</span>         hiredman </span><span>something of the form </span><code>(defn accesto [foo q] (l/conde [(parento q foo)][(l/fresh [x] (parento q x) (parento x foo))]))</code><span> but I haven&apos;t really used pldb and I am pretty rusty</span></div><div id="t1564095458008100" t="2019-07-25 22:57:38 hiredman but unique results can be difficult to achieve, just because of the iterative way queries run"><a href="#t1564095458008100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-07-25</span> <span class="t" onclick="H(this)">22:57:38</span>         hiredman </span><span>but unique results can be difficult to achieve, just because of the iterative way queries run</span></div><div id="t1564095566008400" t="2019-07-25 22:59:26 javazquez i see"><a href="#t1564095566008400" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-07-25</span> <span class="t" onclick="H(this)">22:59:26</span>        javazquez </span><span>i see</span></div><div id="t1564095569008600" t="2019-07-25 22:59:29 javazquez ok"><a href="#t1564095569008600" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-07-25</span> <span class="t" onclick="H(this)">22:59:29</span>        javazquez </span><span>ok</span></div><div id="t1564095574008800" t="2019-07-25 22:59:34 javazquez Thank you!"><a href="#t1564095574008800" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-07-25</span> <span class="t" onclick="H(this)">22:59:34</span>        javazquez </span><span>Thank you!</span></div><div id="t1564097318010300" t="2019-07-25 23:28:38 javazquez Out of curiosity and learning, would you model the data differently?"><a href="#t1564097318010300" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-07-25</span> <span class="t" onclick="H(this)">23:28:38</span>        javazquez </span><span>Out of curiosity and learning, would you model the data differently?</span></div><div id="t1564098265010600" t="2019-07-25 23:44:25 hiredman nope"><a href="#t1564098265010600" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-07-25</span> <span class="t" onclick="H(this)">23:44:25</span>         hiredman </span><span>nope</span></div><div id="t1564567139011700" t="2019-07-31 09:58:59 cheatex Hi. I&apos;m experimenting with the pldb module. And the only sample fails when I try it."><a href="#t1564567139011700" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-07-31</span> <span class="t" onclick="H(this)">09:58:59</span>          cheatex </span><span>Hi. I&apos;m experimenting with the pldb module. And the only sample fails when I try it.</span></div><div id="t1564567158012000" t="2019-07-31 09:59:18 cheatex ClassCastException class clojure.core.logic.LVar cannot be cast to class java.lang.Number (clojure.core.logic.LVar is in unnamed module of loader clojure.lang.DynamicClassLoader @7dffda8b; java.lang.Number is in module java.base of loader &apos;bootstrap&apos;)  clojure.lang.Numbers.equiv (Numbers.java:213)"><a href="#t1564567158012000" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-07-31</span> <span class="t" onclick="H(this)">09:59:18</span>          cheatex </span><code>ClassCastException class clojure.core.logic.LVar cannot be cast to class java.lang.Number (clojure.core.logic.LVar is in unnamed module of loader clojure.lang.DynamicClassLoader @7dffda8b; java.lang.Number is in module java.base of loader &apos;bootstrap&apos;)  clojure.lang.Numbers.equiv (Numbers.java:213)</code></div><div id="t1564568097012300" t="2019-07-31 10:14:57 cheatex Ok, i&apos;ve messed up namespaces"><a href="#t1564568097012300" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-07-31</span> <span class="t" onclick="H(this)">10:14:57</span>          cheatex </span><span>Ok, i&apos;ve messed up namespaces</span></div><div id="t1570733021006500" t="2019-10-10 18:43:41 hiredman clojure contrib projects (which basically means anything under the clojure org in github) don&apos;t take pull requests"><a href="#t1570733021006500" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-10-10</span> <span class="t" onclick="H(this)">18:43:41</span>         hiredman </span><span>clojure contrib projects (which basically means anything under the clojure org in github) don&apos;t take pull requests</span></div><div id="t1570733028006700" t="2019-10-10 18:43:48 hiredman you have to file a patch in jira"><a href="#t1570733028006700" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-10-10</span> <span class="t" onclick="H(this)">18:43:48</span>         hiredman </span><span>you have to file a patch in jira</span></div><div id="t1570733110007300" t="2019-10-10 18:45:10 hiredman it has been over two years since the last patch went in, so you may have to wait awhile"><a href="#t1570733110007300" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-10-10</span> <span class="t" onclick="H(this)">18:45:10</span>         hiredman </span><span>it has been over two years since the last patch went in, so you may have to wait awhile</span></div><div id="t1572756494008000" t="2019-11-03 04:48:14 sogaiu does lein classpath work for anyone else with the latest?"><a href="#t1572756494008000" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-11-03</span> <span class="t" onclick="H(this)">04:48:14</span>           sogaiu </span><span>does lein classpath work for anyone else with the latest?</span></div><div id="t1572756557008300" t="2019-11-03 04:49:17 sogaiu or lein deps for that matter  🙂"><a href="#t1572756557008300" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-11-03</span> <span class="t" onclick="H(this)">04:49:17</span>           sogaiu </span><span>or lein deps for that matter </span><b>🙂</b></div><div id="t1572757033009200" t="2019-11-03 04:57:13 sogaiu commenting out the [cider/cider-nrepl &quot;0.8.1&quot;] portion of project.clj alows those commands to complete..."><a href="#t1572757033009200" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-11-03</span> <span class="t" onclick="H(this)">04:57:13</span>           sogaiu </span><span>commenting out the [cider/cider-nrepl &quot;0.8.1&quot;] portion of project.clj alows those commands to complete...</span></div><div id="t1572759031009700" t="2019-11-03 05:30:31 dpsutton that&apos;s over four years old and from a time when cider wouldn&apos;t auto-inject its own dependencies. it should be removed"><a href="#t1572759031009700" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-11-03</span> <span class="t" onclick="H(this)">05:30:31</span>         dpsutton </span><span>that&apos;s over four years old and from a time when cider wouldn&apos;t auto-inject its own dependencies. it should be removed</span></div><div id="t1572759087010000" t="2019-11-03 05:31:27 sogaiu @dpsutton perhaps i should file an issue?"><a href="#t1572759087010000" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-11-03</span> <span class="t" onclick="H(this)">05:31:27</span>           sogaiu </span><span>@dpsutton perhaps i should file an issue?</span></div><div id="t1572759148010800" t="2019-11-03 05:32:28 dpsutton i can&apos;t speak for the project maintainer or who would want it but that sounds reasonable. possibly make a new question on  http://ask.clojure.com ? I think that&apos;s the way for tickets to be approved into jira"><a href="#t1572759148010800" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-11-03</span> <span class="t" onclick="H(this)">05:32:28</span>         dpsutton </span><span>i can&apos;t speak for the project maintainer or who would want it but that sounds reasonable. possibly make a new question on </span><a href="http://ask.clojure.com" target="_blank">http://ask.clojure.com</a><span>? I think that&apos;s the way for tickets to be approved into jira</span></div><div id="t1572759177011200" t="2019-11-03 05:32:57 sogaiu thanks, i&apos;ll look into ask.clojure"><a href="#t1572759177011200" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-11-03</span> <span class="t" onclick="H(this)">05:32:57</span>           sogaiu </span><span>thanks, i&apos;ll look into ask.clojure</span></div><div id="t1572989729012800" t="2019-11-05 21:35:29 sogaiu after some reconsideration and spelunking...@seancorfield i noticed you have made some commits to core.logic in the past, perhaps you would know what a good way to report about the project.clj issue mentioned above is."><a href="#t1572989729012800" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-11-05</span> <span class="t" onclick="H(this)">21:35:29</span>           sogaiu </span><span>after some reconsideration and spelunking...@seancorfield i noticed you have made some commits to core.logic in the past, perhaps you would know what a good way to report about the project.clj issue mentioned above is.</span></div><div id="t1572990063013600" t="2019-11-05 21:41:03 seancorfield My commits have been purely administrative -- I haven&apos;t touched the code and I&apos;ve never used  core.logic ."><a href="#t1572990063013600" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-11-05</span> <span class="t" onclick="H(this)">21:41:03</span>     seancorfield </span><span>My commits have been purely administrative -- I haven&apos;t touched the code and I&apos;ve never used </span><code>core.logic</code><span>.</span></div><div id="t1572990224014400" t="2019-11-05 21:43:44 seancorfield According to  https://clojure.org/community/contrib_libs   core.logic  is &quot;Stable&quot; -- meaning development is irregular at best."><a href="#t1572990224014400" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-11-05</span> <span class="t" onclick="H(this)">21:43:44</span>     seancorfield </span><span>According to </span><a href="https://clojure.org/community/contrib_libs" target="_blank">https://clojure.org/community/contrib_libs</a><span> </span><code>core.logic</code><span> is &quot;Stable&quot; -- meaning development is irregular at best.</span></div><div id="t1572990302014700" t="2019-11-05 21:45:02 seancorfield If you have a JIRA account, you can log an issue here  https://clojure.atlassian.net/projects/LOGIC/issues"><a href="#t1572990302014700" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-11-05</span> <span class="t" onclick="H(this)">21:45:02</span>     seancorfield </span><span>If you have a JIRA account, you can log an issue here </span><a href="https://clojure.atlassian.net/projects/LOGIC/issues" target="_blank">https://clojure.atlassian.net/projects/LOGIC/issues</a></div><div id="t1572990351015600" t="2019-11-05 21:45:51 seancorfield Otherwise, write up an issue on  http://ask.clojure.org  and Alex should see it and if it&apos;s just a matter of updating  project.clj  or the instructions, he may go ahead and do it @sogaiu"><a href="#t1572990351015600" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-11-05</span> <span class="t" onclick="H(this)">21:45:51</span>     seancorfield </span><span>Otherwise, write up an issue on </span><a href="http://ask.clojure.org" target="_blank">http://ask.clojure.org</a><span> and Alex should see it and if it&apos;s just a matter of updating </span><code>project.clj</code><span> or the instructions, he may go ahead and do it @sogaiu</span></div><div id="t1572990400016000" t="2019-11-05 21:46:40 sogaiu @seancorfield thanks for the help!"><a href="#t1572990400016000" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-11-05</span> <span class="t" onclick="H(this)">21:46:40</span>           sogaiu </span><span>@seancorfield thanks for the help!</span></div><div id="t1573562718016700" t="2019-11-12 12:45:18 rickmoynihan Looks like that fix was applied:  https://github.com/clojure/core.logic/commit/3b63f43097667d4686043d78a90affb967af93de"><a href="#t1573562718016700" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-11-12</span> <span class="t" onclick="H(this)">12:45:18</span>     rickmoynihan </span><span>Looks like that fix was applied: </span><a href="https://github.com/clojure/core.logic/commit/3b63f43097667d4686043d78a90affb967af93de" target="_blank">https://github.com/clojure/core.logic/commit/3b63f43097667d4686043d78a90affb967af93de</a></div><div id="t1573571548018400" t="2019-11-12 15:12:28 sogaiu yes, thanks to dpsutton and seancorfield suggesting the ask.clojure route.  alexmiller was very helpful there:  https://ask.clojure.org/index.php/8831/lein-deps-lein-classpath-fail-current-core-logic-where-report"><a href="#t1573571548018400" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-11-12</span> <span class="t" onclick="H(this)">15:12:28</span>           sogaiu </span><span>yes, thanks to dpsutton and seancorfield suggesting the ask.clojure route.  alexmiller was very helpful there: </span><a href="https://ask.clojure.org/index.php/8831/lein-deps-lein-classpath-fail-current-core-logic-where-report" target="_blank">https://ask.clojure.org/index.php/8831/lein-deps-lein-classpath-fail-current-core-logic-where-report</a></div><div id="t1573724411018700" t="2019-11-14 09:40:11 rickmoynihan cool TIL:  mvn -q dependency:build-classpath -Dmdep.outputFile=classpath.txt"><a href="#t1573724411018700" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-11-14</span> <span class="t" onclick="H(this)">09:40:11</span>     rickmoynihan </span><span>cool TIL: </span><code>mvn -q dependency:build-classpath -Dmdep.outputFile=classpath.txt</code></div><div id="t1573726293019300" t="2019-11-14 10:11:33 rickmoynihan The one thing I’d like fixed in core.logic is this warning on newer clojure versions:

 WARNING: indexed? already refers to: #&apos;clojure.core/indexed? in namespace: clojure.core.logic.pldb, being replaced by: #&apos;clojure.core.logic.pldb/indexed?
"><a href="#t1573726293019300" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-11-14</span> <span class="t" onclick="H(this)">10:11:33</span>     rickmoynihan </span><span>The one thing I’d like fixed in core.logic is this warning on newer clojure versions:

</span><pre>WARNING: indexed? already refers to: #&apos;clojure.core/indexed? in namespace: clojure.core.logic.pldb, being replaced by: #&apos;clojure.core.logic.pldb/indexed?
</pre></div><div id="t1573726323019700" t="2019-11-14 10:12:03 rickmoynihan not a major issue, but it winds me up  🙂"><a href="#t1573726323019700" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-11-14</span> <span class="t" onclick="H(this)">10:12:03</span>     rickmoynihan </span><span>not a major issue, but it winds me up </span><b>🙂</b></div><div id="t1573743611020600" t="2019-11-14 15:00:11 sogaiu @rickmoynihan the maven thing was nice indeed -- wanted to be able to send the output to stdout to pass it on to another program (without using an intermediate file), but haven&apos;t had much luck figuring that one out."><a href="#t1573743611020600" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-11-14</span> <span class="t" onclick="H(this)">15:00:11</span>           sogaiu </span><span>@rickmoynihan the maven thing was nice indeed -- wanted to be able to send the output to stdout to pass it on to another program (without using an intermediate file), but haven&apos;t had much luck figuring that one out.</span></div><div id="t1573865471022900" t="2019-11-16 00:51:11 xiongtx I’m trying to find a more natural way of destructuring maps. Basically, I want:

 (require &apos;[clojure.core.logic :as l)

(l/run* [q b d]
  (l/featurec q {:a {:b b}
                 :d d})
&lt;some other constraints&gt;
  (l/== q {:a {:b 1
               :c &quot;irrelevant&quot;}
           :d [1 2 3]
           :e &quot;whatever&quot;}))
 

To return  ([{:a {:b 1}, :d [1 2 3]} 1 [1 2 3]]) , i.e.  q  should have only the form specified in the  featurec  constraint. What’s the best way to do that?"><a href="#t1573865471022900" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-11-16</span> <span class="t" onclick="H(this)">00:51:11</span>          xiongtx </span><span>I’m trying to find a more natural way of destructuring maps. Basically, I want:

</span><pre>(require &apos;[clojure.core.logic :as l)

(l/run* [q b d]
  (l/featurec q {:a {:b b}
                 :d d})
&lt;some other constraints&gt;
  (l/== q {:a {:b 1
               :c &quot;irrelevant&quot;}
           :d [1 2 3]
           :e &quot;whatever&quot;}))
</pre><span>

To return </span><code>([{:a {:b 1}, :d [1 2 3]} 1 [1 2 3]])</code><span>, i.e. </span><code>q</code><span> should have only the form specified in the </span><code>featurec</code><span> constraint. What’s the best way to do that?</span></div><div id="t1573869575027900" t="2019-11-16 01:59:35 noprompt @U2J7JRTDX Meander’s pattern matcher is suited for this task (among others):  (m/find {:a {:b 1
             :c &quot;irrelevant&quot;}
         :d [1 2 3]
         :e &quot;whatever&quot;}
  {:a {:b ?b}
   :d ?d
   :as ?q}
  [?q ?b ?d])
;; =&gt;
[{:a {:b 1, :c &quot;irrelevant&quot;}
  :d [1 2 3]
  :e &quot;whatever&quot;}
 1
 [1 2 3]]
"><a href="#t1573869575027900" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-11-16</span> <span class="t" onclick="H(this)">01:59:35</span>              noprompt </span><span>@U2J7JRTDX Meander’s pattern matcher is suited for this task (among others): </span><pre>(m/find {:a {:b 1
             :c &quot;irrelevant&quot;}
         :d [1 2 3]
         :e &quot;whatever&quot;}
  {:a {:b ?b}
   :d ?d
   :as ?q}
  [?q ?b ?d])
;; =&gt;
[{:a {:b 1, :c &quot;irrelevant&quot;}
  :d [1 2 3]
  :e &quot;whatever&quot;}
 1
 [1 2 3]]
</pre></div><div id="t1573869593028100" t="2019-11-16 01:59:53 noprompt https://github.com/noprompt/meander"><a href="#t1573869593028100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-11-16</span> <span class="t" onclick="H(this)">01:59:53</span>              noprompt </span><a href="https://github.com/noprompt/meander" target="_blank">https://github.com/noprompt/meander</a></div><div id="t1573869806028800" t="2019-11-16 02:03:26 xiongtx Ah, I knew this had to be a solved problem! Thanks!"><a href="#t1573869806028800" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-11-16</span> <span class="t" onclick="H(this)">02:03:26</span>               xiongtx </span><span>Ah, I knew this had to be a solved problem! Thanks!</span></div><div id="t1573869828029000" t="2019-11-16 02:03:48 noprompt You can even query maps for multiple answers."><a href="#t1573869828029000" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-11-16</span> <span class="t" onclick="H(this)">02:03:48</span>              noprompt </span><span>You can even query maps for multiple answers.</span></div><div id="t1573869830029200" t="2019-11-16 02:03:50 noprompt (m/search {:a {:b 1
               :c &quot;irrelevant&quot;}
           :d [1 2 3]
           :e {:f &quot;whatever&quot;}}
  {?k {:as ?v}}
  [?k ?v])
;; =&gt;
([:e {:f &quot;whatever&quot;}] [:a {:b 1, :c &quot;irrelevant&quot;}])
"><a href="#t1573869830029200" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-11-16</span> <span class="t" onclick="H(this)">02:03:50</span>              noprompt </span><pre>(m/search {:a {:b 1
               :c &quot;irrelevant&quot;}
           :d [1 2 3]
           :e {:f &quot;whatever&quot;}}
  {?k {:as ?v}}
  [?k ?v])
;; =&gt;
([:e {:f &quot;whatever&quot;}] [:a {:b 1, :c &quot;irrelevant&quot;}])
</pre></div><div id="t1573869858029400" t="2019-11-16 02:04:18 noprompt We’re located in the #meander channel for more on the topic of pattern matching/rewriting."><a href="#t1573869858029400" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-11-16</span> <span class="t" onclick="H(this)">02:04:18</span>              noprompt </span><span>We’re located in the #meander channel for more on the topic of pattern matching/rewriting.</span></div><div id="t1573869882029600" t="2019-11-16 02:04:42 noprompt Its a work in progress but we can do some neat stuff if you have these kinds of problems  🙂"><a href="#t1573869882029600" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-11-16</span> <span class="t" onclick="H(this)">02:04:42</span>              noprompt </span><span>Its a work in progress but we can do some neat stuff if you have these kinds of problems </span><b>🙂</b></div><div id="t1573872716029800" t="2019-11-16 02:51:56 xiongtx Actually, I see that the  ?q  returned by  meander  is still contains keys that aren’t specified in the matching map, i.e.  :c  &amp;  :e ."><a href="#t1573872716029800" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-11-16</span> <span class="t" onclick="H(this)">02:51:56</span>               xiongtx </span><span>Actually, I see that the </span><code>?q</code><span> returned by </span><code>meander</code><span> is still contains keys that aren’t specified in the matching map, i.e. </span><code>:c</code><span> &amp; </span><code>:e</code><span>.</span></div><div id="t1573873035030000" t="2019-11-16 02:57:15 xiongtx Here’s more what I had in mind, based on  https://stackoverflow.com/a/40560433  (obviously not a comprehensive solution).

 (defn pathwalk [f path e]
  (let [e&apos; (f path e)]
    (cond
      (map? e&apos;)  (-&gt;&gt; e&apos;
                      (map (fn [[k x]] [k (pathwalk f (conj path k) x)]))
                      (into (empty e&apos;)))
      (coll? e&apos;) (-&gt;&gt; e&apos;
                      (map-indexed (fn [i x] (pathwalk f (conj path i) x)))
                      (into (empty e&apos;)))
      :else e&apos;)))

(defn match-only
  [match m]
  (let [bindings (atom {})
        form (atom {})]
    (pathwalk (fn [path v]
                (when (symbol? v)
                  (let [x (get-in m path)]
                    (swap! form assoc-in path x)
                    (swap! bindings assoc v x)))
                v)
              []
              match)
    [@form @bindings]))
 

 (match-only &apos;{:a {:b b}
              :d d}
            {:a {:b 1
                 :c &quot;irrelevant&quot;}
             :d [1 2 3]
             :e &quot;whatever&quot;})
;; =&gt; [{:a {:b 1}, :d [1 2 3]} {b 1, d [1 2 3]}]
"><a href="#t1573873035030000" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-11-16</span> <span class="t" onclick="H(this)">02:57:15</span>               xiongtx </span><span>Here’s more what I had in mind, based on </span><a href="https://stackoverflow.com/a/40560433" target="_blank">https://stackoverflow.com/a/40560433</a><span> (obviously not a comprehensive solution).

</span><pre>(defn pathwalk [f path e]
  (let [e&apos; (f path e)]
    (cond
      (map? e&apos;)  (-&gt;&gt; e&apos;
                      (map (fn [[k x]] [k (pathwalk f (conj path k) x)]))
                      (into (empty e&apos;)))
      (coll? e&apos;) (-&gt;&gt; e&apos;
                      (map-indexed (fn [i x] (pathwalk f (conj path i) x)))
                      (into (empty e&apos;)))
      :else e&apos;)))

(defn match-only
  [match m]
  (let [bindings (atom {})
        form (atom {})]
    (pathwalk (fn [path v]
                (when (symbol? v)
                  (let [x (get-in m path)]
                    (swap! form assoc-in path x)
                    (swap! bindings assoc v x)))
                v)
              []
              match)
    [@form @bindings]))
</pre><span>

</span><pre>(match-only &apos;{:a {:b b}
              :d d}
            {:a {:b 1
                 :c &quot;irrelevant&quot;}
             :d [1 2 3]
             :e &quot;whatever&quot;})
;; =&gt; [{:a {:b 1}, :d [1 2 3]} {b 1, d [1 2 3]}]
</pre></div><div id="t1573935103030300" t="2019-11-16 20:11:43 noprompt @U2J7JRTDX Sorry for the late reply. It is possible to return only the part of the map that matched but it requires some advanced use of the library. If you know what you’re querying for (which is usually half the battle) you could simply construct the data on the right side as so:  (m/find {:a {:b 1
             :c &quot;irrelevant&quot;}
         :d [1 2 3]
         :e &quot;whatever&quot;}
  {:a {:b ?b}
   :d ?d}
  [{:a {:b ?b} :d ?d}
   {:b ?b}
   ?d])
;; =&gt;
[{:a {:b 1}, :d [1 2 3]} {:b 1} [1 2 3]]
"><a href="#t1573935103030300" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-11-16</span> <span class="t" onclick="H(this)">20:11:43</span>              noprompt </span><span>@U2J7JRTDX Sorry for the late reply. It is possible to return only the part of the map that matched but it requires some advanced use of the library. If you know what you’re querying for (which is usually half the battle) you could simply construct the data on the right side as so: </span><pre>(m/find {:a {:b 1
             :c &quot;irrelevant&quot;}
         :d [1 2 3]
         :e &quot;whatever&quot;}
  {:a {:b ?b}
   :d ?d}
  [{:a {:b ?b} :d ?d}
   {:b ?b}
   ?d])
;; =&gt;
[{:a {:b 1}, :d [1 2 3]} {:b 1} [1 2 3]]
</pre></div><div id="t1574126862030500" t="2019-11-19 01:27:42 xiongtx Been using  meander  for value extraction in some of our tests &amp; it’s been great! E.g.

 :nauseated_face: 
 (-&gt; query
    graphql-request
    (get-in [:data :applications :edges])
    first
    (get-in [:node :app_accounts :edges])
    first
    :node
    (select-keys [:account_name]))
 

to

 😄 
 (meander/match (graphql-request query)
  {:data
   {:applications
    {:edges
     [{:node
       {:app_accounts
        {:edges
         [{:node
           {:account_name ?account-name}}]}}}]}}}
  {:account_name ?account-name})
 

Great job!"><a href="#t1574126862030500" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-11-19</span> <span class="t" onclick="H(this)">01:27:42</span>               xiongtx </span><span>Been using </span><code>meander</code><span> for value extraction in some of our tests &amp; it’s been great! E.g.

</span><b>:nauseated_face:</b><span>
</span><pre>(-&gt; query
    graphql-request
    (get-in [:data :applications :edges])
    first
    (get-in [:node :app_accounts :edges])
    first
    :node
    (select-keys [:account_name]))
</pre><span>

to

</span><b>😄</b><span>
</span><pre>(meander/match (graphql-request query)
  {:data
   {:applications
    {:edges
     [{:node
       {:app_accounts
        {:edges
         [{:node
           {:account_name ?account-name}}]}}}]}}}
  {:account_name ?account-name})
</pre><span>

Great job!</span></div><div id="t1574127293030800" t="2019-11-19 01:34:53 noprompt Sweet!  :+1:"><a href="#t1574127293030800" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-11-19</span> <span class="t" onclick="H(this)">01:34:53</span>              noprompt </span><span>Sweet! </span><b>:+1:</b></div><div id="t1573865870023500" t="2019-11-16 00:57:50 hiredman you can&apos;t really"><a href="#t1573865870023500" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-11-16</span> <span class="t" onclick="H(this)">00:57:50</span>         hiredman </span><span>you can&apos;t really</span></div><div id="t1573865931023800" t="2019-11-16 00:58:51 hiredman I take that back, you can"><a href="#t1573865931023800" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-11-16</span> <span class="t" onclick="H(this)">00:58:51</span>         hiredman </span><span>I take that back, you can</span></div><div id="t1573866044026100" t="2019-11-16 01:00:44 hiredman I am back to can&apos;t. basically the way to build structures via unification requires and exact match, and featurec does not require an exact match, and core.logic doesn&apos;t provide relational operations on maps"><a href="#t1573866044026100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-11-16</span> <span class="t" onclick="H(this)">01:00:44</span>         hiredman </span><span>I am back to can&apos;t. basically the way to build structures via unification requires and exact match, and featurec does not require an exact match, and core.logic doesn&apos;t provide relational operations on maps</span></div><div id="t1573866448026600" t="2019-11-16 01:07:28 xiongtx Hmm, so you’re saying unification can’t do a partial match?"><a href="#t1573866448026600" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-11-16</span> <span class="t" onclick="H(this)">01:07:28</span>          xiongtx </span><span>Hmm, so you’re saying unification can’t do a partial match?</span></div><div id="t1573866528026900" t="2019-11-16 01:08:48 hiredman right"><a href="#t1573866528026900" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-11-16</span> <span class="t" onclick="H(this)">01:08:48</span>         hiredman </span><span>right</span></div><div id="t1575514329031300" t="2019-12-05 02:52:09 dpsutton if i have 6 logic variables, is there a way to ensure that 5 of them are distinct?"><a href="#t1575514329031300" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-12-05</span> <span class="t" onclick="H(this)">02:52:09</span>         dpsutton </span><span>if i have 6 logic variables, is there a way to ensure that 5 of them are distinct?</span></div><div id="t1575536148031400" t="2019-12-05 08:55:48 nitaai See  distinct  under  https://github.com/clojure/core.logic/wiki/Features#clpfd 

I assume that’s what you are looking for."><a href="#t1575536148031400" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-12-05</span> <span class="t" onclick="H(this)">08:55:48</span>                nitaai </span><span>See </span><code>distinct</code><span> under </span><a href="https://github.com/clojure/core.logic/wiki/Features#clpfd" target="_blank">https://github.com/clojure/core.logic/wiki/Features#clpfd</a><span>

I assume that’s what you are looking for.</span></div><div id="t1575624216034500" t="2019-12-06 09:23:36 yuhan That&apos;s only for  fd  logic variables though, I would think the question was equivalent to &quot;at most one pair out of the 6 lvars can unify&quot;"><a href="#t1575624216034500" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-12-06</span> <span class="t" onclick="H(this)">09:23:36</span>                 yuhan </span><span>That&apos;s only for </span><code>fd</code><span> logic variables though, I would think the question was equivalent to &quot;at most one pair out of the 6 lvars can unify&quot;</span></div><div id="t1575624319034700" t="2019-12-06 09:25:19 yuhan Can&apos;t think of an easy way to express that (besides macroexpanding all the permutations by brute force)"><a href="#t1575624319034700" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-12-06</span> <span class="t" onclick="H(this)">09:25:19</span>                 yuhan </span><span>Can&apos;t think of an easy way to express that (besides macroexpanding all the permutations by brute force)</span></div><div id="t1575624474034900" t="2019-12-06 09:27:54 nitaai Oh yes, good point. I interpreted the question rather as “I know which 5 of the 6 lvars should be distinct”."><a href="#t1575624474034900" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-12-06</span> <span class="t" onclick="H(this)">09:27:54</span>                nitaai </span><span>Oh yes, good point. I interpreted the question rather as “I know which 5 of the 6 lvars should be distinct”.</span></div><div id="t1575890333035100" t="2019-12-09 11:18:53 Stefan What about defining something like this: (untested)

 (defnc 5-distinct [a b c d e f]
  (= 5 (count (set [a b c d e f])))) 
and then using that as a goal inside  run ?"><a href="#t1575890333035100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-12-09</span> <span class="t" onclick="H(this)">11:18:53</span>                Stefan </span><span>What about defining something like this: (untested)

</span><pre>(defnc 5-distinct [a b c d e f]
  (= 5 (count (set [a b c d e f]))))</pre><span>
and then using that as a goal inside </span><code>run</code><span>?</span></div><div id="t1575572321032700" t="2019-12-05 18:58:41 eoliphant hi I’m getting a weird error in the repl as I work through the core.logic getting started.  I’m on jDK 11, wondering if it’s module related
 (l/run* [q]
  (l/fresh [a]
    (l/membero a [1 2 3])
    (l/membero q [3 4 5])
    (== a q)))
Error printing return value (ClassCastException) at clojure.lang.Numbers/equiv (Numbers.java:238).
class clojure.core.logic.LVar cannot be cast to class java.lang.Number (clojure.core.logic.LVar is in unnamed module of loader clojure.lang.DynamicClassLoader @11da06db; java.lang.Number is in module java.base of loader &apos;bootstrap&apos;)"><a href="#t1575572321032700" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-12-05</span> <span class="t" onclick="H(this)">18:58:41</span>        eoliphant </span><span>hi I’m getting a weird error in the repl as I work through the core.logic getting started.  I’m on jDK 11, wondering if it’s module related
</span><pre>(l/run* [q]
  (l/fresh [a]
    (l/membero a [1 2 3])
    (l/membero q [3 4 5])
    (== a q)))
Error printing return value (ClassCastException) at clojure.lang.Numbers/equiv (Numbers.java:238).
class clojure.core.logic.LVar cannot be cast to class java.lang.Number (clojure.core.logic.LVar is in unnamed module of loader clojure.lang.DynamicClassLoader @11da06db; java.lang.Number is in module java.base of loader &apos;bootstrap&apos;)</pre></div><div id="t1575573161033000" t="2019-12-05 19:12:41 hiredman you need  l/==  not  =="><a href="#t1575573161033000" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-12-05</span> <span class="t" onclick="H(this)">19:12:41</span>         hiredman </span><span>you need </span><code>l/==</code><span> not </span><code>==</code></div><div id="t1575573210033700" t="2019-12-05 19:13:30 hiredman ==  is clojure core&apos;s numeric comparison function,  l/==  is core.logic&apos;s unification goal"><a href="#t1575573210033700" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-12-05</span> <span class="t" onclick="H(this)">19:13:30</span>         hiredman </span><code>==</code><span> is clojure core&apos;s numeric comparison function, </span><code>l/==</code><span> is core.logic&apos;s unification goal</span></div><div id="t1575573326034100" t="2019-12-05 19:15:26 dpsutton i hit that yesterday. the guide uses  use clojure.core.logic  so its easy to miss"><a href="#t1575573326034100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-12-05</span> <span class="t" onclick="H(this)">19:15:26</span>         dpsutton </span><span>i hit that yesterday. the guide uses </span><code>use clojure.core.logic</code><span> so its easy to miss</span></div><div id="t1575586535034400" t="2019-12-05 22:55:35 eoliphant ah duh lol thanks guys"><a href="#t1575586535034400" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-12-05</span> <span class="t" onclick="H(this)">22:55:35</span>        eoliphant </span><span>ah duh lol thanks guys</span></div><div id="t1577233405000400" t="2019-12-25 00:23:25 erwinrooijakkers Hi all"><a href="#t1577233405000400" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-12-25</span> <span class="t" onclick="H(this)">00:23:25</span> erwinrooijakkers </span><span>Hi all</span></div><div id="t1577233425000800" t="2019-12-25 00:23:45 erwinrooijakkers I am trying to solve Advent of Code day 14 using core.logic"><a href="#t1577233425000800" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-12-25</span> <span class="t" onclick="H(this)">00:23:45</span> erwinrooijakkers </span><span>I am trying to solve Advent of Code day 14 using core.logic</span></div><div id="t1577233466001500" t="2019-12-25 00:24:26 erwinrooijakkers Day 14 is about “Stoichemetry” and minimizing reactants. It has constraints like this:

 10 ORE =&gt; 10 A
1 ORE =&gt; 1 B
7 A, 1 B =&gt; 1 C
7 A, 1 C =&gt; 1 D
7 A, 1 D =&gt; 1 E
7 A, 1 E =&gt; 1 FUEL"><a href="#t1577233466001500" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-12-25</span> <span class="t" onclick="H(this)">00:24:26</span> erwinrooijakkers </span><span>Day 14 is about “Stoichemetry” and minimizing reactants. It has constraints like this:

</span><pre>10 ORE =&gt; 10 A
1 ORE =&gt; 1 B
7 A, 1 B =&gt; 1 C
7 A, 1 C =&gt; 1 D
7 A, 1 D =&gt; 1 E
7 A, 1 E =&gt; 1 FUEL</pre></div><div id="t1577233484001900" t="2019-12-25 00:24:44 erwinrooijakkers This means 1 FUEL can be made of 7A and 1E"><a href="#t1577233484001900" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-12-25</span> <span class="t" onclick="H(this)">00:24:44</span> erwinrooijakkers </span><span>This means 1 FUEL can be made of 7A and 1E</span></div><div id="t1577233497002300" t="2019-12-25 00:24:57 erwinrooijakkers The goal is to find how much ORE is needed for 1 FUEL"><a href="#t1577233497002300" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-12-25</span> <span class="t" onclick="H(this)">00:24:57</span> erwinrooijakkers </span><span>The goal is to find how much ORE is needed for 1 FUEL</span></div><div id="t1577233507002600" t="2019-12-25 00:25:07 erwinrooijakkers Any pointers on how to do this?"><a href="#t1577233507002600" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-12-25</span> <span class="t" onclick="H(this)">00:25:07</span> erwinrooijakkers </span><span>Any pointers on how to do this?</span></div><div id="t1577233552003000" t="2019-12-25 00:25:52 erwinrooijakkers What type of features can I use?"><a href="#t1577233552003000" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-12-25</span> <span class="t" onclick="H(this)">00:25:52</span> erwinrooijakkers </span><span>What type of features can I use?</span></div><div id="t1577233577003500" t="2019-12-25 00:26:17 erwinrooijakkers Any examples that solve a similar problem?"><a href="#t1577233577003500" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-12-25</span> <span class="t" onclick="H(this)">00:26:17</span> erwinrooijakkers </span><span>Any examples that solve a similar problem?</span></div><div id="t1577233848004100" t="2019-12-25 00:30:48 erwinrooijakkers I’ll watch these videos:

•  https://www.youtube.com/watch?v=irjP8BO1B8Y 
•  https://www.youtube.com/watch?v=lzCIyvFgUVk"><a href="#t1577233848004100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-12-25</span> <span class="t" onclick="H(this)">00:30:48</span> erwinrooijakkers </span><span>I’ll watch these videos:

• </span><a href="https://www.youtube.com/watch?v=irjP8BO1B8Y" target="_blank">https://www.youtube.com/watch?v=irjP8BO1B8Y</a><span>
• </span><a href="https://www.youtube.com/watch?v=lzCIyvFgUVk" target="_blank">https://www.youtube.com/watch?v=lzCIyvFgUVk</a></div><div id="t1577234001004800" t="2019-12-25 00:33:21 erwinrooijakkers I have the input now as a hash map from output to inputs:

 {[1 &quot;D&quot;] ([7 &quot;A&quot;] [1 &quot;C&quot;]),
 [1 &quot;FUEL&quot;] ([7 &quot;A&quot;] [1 &quot;E&quot;]),
 [10 &quot;A&quot;] ([10 &quot;ORE&quot;]),
 [1 &quot;C&quot;] ([7 &quot;A&quot;] [1 &quot;B&quot;]),
 [1 &quot;B&quot;] ([1 &quot;ORE&quot;]),
 [1 &quot;E&quot;] ([7 &quot;A&quot;] [1 &quot;D&quot;])}"><a href="#t1577234001004800" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-12-25</span> <span class="t" onclick="H(this)">00:33:21</span> erwinrooijakkers </span><span>I have the input now as a hash map from output to inputs:

</span><pre>{[1 &quot;D&quot;] ([7 &quot;A&quot;] [1 &quot;C&quot;]),
 [1 &quot;FUEL&quot;] ([7 &quot;A&quot;] [1 &quot;E&quot;]),
 [10 &quot;A&quot;] ([10 &quot;ORE&quot;]),
 [1 &quot;C&quot;] ([7 &quot;A&quot;] [1 &quot;B&quot;]),
 [1 &quot;B&quot;] ([1 &quot;ORE&quot;]),
 [1 &quot;E&quot;] ([7 &quot;A&quot;] [1 &quot;D&quot;])}</pre></div><div id="t1577234041005100" t="2019-12-25 00:34:01 erwinrooijakkers Hope someone can give me some pointers! Merry Christmas"><a href="#t1577234041005100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-12-25</span> <span class="t" onclick="H(this)">00:34:01</span> erwinrooijakkers </span><span>Hope someone can give me some pointers! Merry Christmas</span></div><div id="t1577240999008000" t="2019-12-25 02:29:59 hiredman I think key is representation, you&apos;ll want to use a map of thing to count of thing instead of those pairs of thing and count"><a href="#t1577240999008000" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-12-25</span> <span class="t" onclick="H(this)">02:29:59</span>         hiredman </span><span>I think key is representation, you&apos;ll want to use a map of thing to count of thing instead of those pairs of thing and count</span></div><div id="t1577241258014800" t="2019-12-25 02:34:18 hiredman And write a relation, call it reduco that takes an input map and an output map, and it has a bunch of conde clauses that do things like constrain the fuel count of output to be one less them the input, and the count of a to be 7 more, and the count of e to be 1 one, using the fd namespace"><a href="#t1577241258014800" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-12-25</span> <span class="t" onclick="H(this)">02:34:18</span>         hiredman </span><span>And write a relation, call it reduco that takes an input map and an output map, and it has a bunch of conde clauses that do things like constrain the fuel count of output to be one less them the input, and the count of a to be 7 more, and the count of e to be 1 one, using the fd namespace</span></div><div id="t1577242054016100" t="2019-12-25 02:47:34 hiredman so something like
 (require &apos;[clojure.core.logic :as l]
         &apos;[clojure.core.logic.fd :as fd])

(defn reduco [input output]
  (l/conde
   [(fd/&gt; (get input &quot;FUEL&quot;) 0)
    (fd/- (get input &quot;FUEL&quot;) 1 (get output &quot;FUEL&quot;))
    (fd/+ (get input &quot;A&quot;) 7 (get output &quot;A&quot;))
    (fd/+ (get input &quot;E&quot;) 1 (get output &quot;E&quot;))
    ;;
    (l/== (get input &quot;ORE&quot;) (get output &quot;ORE&quot;))
    (l/== (get input &quot;B&quot;) (get output &quot;B&quot;))
    (l/== (get input &quot;C&quot;) (get output &quot;C&quot;))
    (l/== (get input &quot;D&quot;) (get output &quot;D&quot;))
    ]))


(l/run 1 [output]
  (l/fresh [ore a b c d e fuel]
    (l/== output {&quot;FUEL&quot; fuel
                  &quot;ORE&quot; ore
                  &quot;A&quot; a
                  &quot;B&quot; b
                  &quot;C&quot; c
                  &quot;D&quot; d
                  &quot;E&quot; e})
    (reduco {&quot;FUEL&quot; 1
             &quot;ORE&quot; 0
             &quot;A&quot; 0
             &quot;B&quot; 0
             &quot;C&quot; 0
             &quot;D&quot; 0
             &quot;E&quot; 0}
            {&quot;FUEL&quot; fuel
                  &quot;ORE&quot; ore
                  &quot;A&quot; a
                  &quot;B&quot; b
                  &quot;C&quot; c
                  &quot;D&quot; d
                  &quot;E&quot; e}))) 
but with reduco fleshed out with the rest of the reduction rules and then with some driving goal that recursively calls reduco until you get back a map with nothing but ore in it"><a href="#t1577242054016100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-12-25</span> <span class="t" onclick="H(this)">02:47:34</span>         hiredman </span><span>so something like
</span><pre>(require &apos;[clojure.core.logic :as l]
         &apos;[clojure.core.logic.fd :as fd])

(defn reduco [input output]
  (l/conde
   [(fd/&gt; (get input &quot;FUEL&quot;) 0)
    (fd/- (get input &quot;FUEL&quot;) 1 (get output &quot;FUEL&quot;))
    (fd/+ (get input &quot;A&quot;) 7 (get output &quot;A&quot;))
    (fd/+ (get input &quot;E&quot;) 1 (get output &quot;E&quot;))
    ;;
    (l/== (get input &quot;ORE&quot;) (get output &quot;ORE&quot;))
    (l/== (get input &quot;B&quot;) (get output &quot;B&quot;))
    (l/== (get input &quot;C&quot;) (get output &quot;C&quot;))
    (l/== (get input &quot;D&quot;) (get output &quot;D&quot;))
    ]))


(l/run 1 [output]
  (l/fresh [ore a b c d e fuel]
    (l/== output {&quot;FUEL&quot; fuel
                  &quot;ORE&quot; ore
                  &quot;A&quot; a
                  &quot;B&quot; b
                  &quot;C&quot; c
                  &quot;D&quot; d
                  &quot;E&quot; e})
    (reduco {&quot;FUEL&quot; 1
             &quot;ORE&quot; 0
             &quot;A&quot; 0
             &quot;B&quot; 0
             &quot;C&quot; 0
             &quot;D&quot; 0
             &quot;E&quot; 0}
            {&quot;FUEL&quot; fuel
                  &quot;ORE&quot; ore
                  &quot;A&quot; a
                  &quot;B&quot; b
                  &quot;C&quot; c
                  &quot;D&quot; d
                  &quot;E&quot; e})))</pre><span>
but with reduco fleshed out with the rest of the reduction rules and then with some driving goal that recursively calls reduco until you get back a map with nothing but ore in it</span></div><div id="t1577242088016700" t="2019-12-25 02:48:08 hiredman the tricky thing with mixing maps and core.logic is map stuff will be non-relational, so just watch out for it"><a href="#t1577242088016700" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-12-25</span> <span class="t" onclick="H(this)">02:48:08</span>         hiredman </span><span>the tricky thing with mixing maps and core.logic is map stuff will be non-relational, so just watch out for it</span></div><div id="t1577268683017100" t="2019-12-25 10:11:23 erwinrooijakkers Thanks!!!"><a href="#t1577268683017100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-12-25</span> <span class="t" onclick="H(this)">10:11:23</span> erwinrooijakkers </span><span>Thanks!!!</span></div><div id="t1577276533018300" t="2019-12-25 12:22:13 erwinrooijakkers Why doesn’t this find negative values?

 (defn sqrts [n]
  (l/run 2 [x]
    (fd/in x (fd/interval (- n) n))
    (fd/* x x n)))

(sqrts 4)
;; =&gt; (2)

(sqrts 25)
;; =&gt; (5)"><a href="#t1577276533018300" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-12-25</span> <span class="t" onclick="H(this)">12:22:13</span> erwinrooijakkers </span><span>Why doesn’t this find negative values?

</span><pre>(defn sqrts [n]
  (l/run 2 [x]
    (fd/in x (fd/interval (- n) n))
    (fd/* x x n)))

(sqrts 4)
;; =&gt; (2)

(sqrts 25)
;; =&gt; (5)</pre></div><div id="t1577321426019000" t="2019-12-26 00:50:26 hiredman dunno why, but fd/interval as written turns negative bounds into 0"><a href="#t1577321426019000" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-12-26</span> <span class="t" onclick="H(this)">00:50:26</span>         hiredman </span><span>dunno why, but fd/interval as written turns negative bounds into 0</span></div><div id="t1577321502019200" t="2019-12-26 00:51:42 hiredman https://github.com/clojure/core.logic/blob/master/src/main/clojure/clojure/core/logic/fd.clj#L363-L364"><a href="#t1577321502019200" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-12-26</span> <span class="t" onclick="H(this)">00:51:42</span>         hiredman </span><a href="https://github.com/clojure/core.logic/blob/master/src/main/clojure/clojure/core/logic/fd.clj#L363-L364" target="_blank">https://github.com/clojure/core.logic/blob/master/src/main/clojure/clojure/core/logic/fd.clj#L363-L364</a></div><div id="t1577359659019700" t="2019-12-26 11:27:39 erwinrooijakkers Aha  🙂"><a href="#t1577359659019700" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-12-26</span> <span class="t" onclick="H(this)">11:27:39</span> erwinrooijakkers </span><span>Aha </span><b>🙂</b></div><div id="t1577359665020000" t="2019-12-26 11:27:45 erwinrooijakkers &gt; non negative integer or more generally discrete constraints. These last constraints, sometimes also called finite domain constraints, are generally studied in the Constraint Satisfaction Problems (CSP)"><a href="#t1577359665020000" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-12-26</span> <span class="t" onclick="H(this)">11:27:45</span> erwinrooijakkers </span><span>&gt; non negative integer or more generally discrete constraints. These last constraints, sometimes also called finite domain constraints, are generally studied in the Constraint Satisfaction Problems (CSP)</span></div><div id="t1577359669020200" t="2019-12-26 11:27:49 erwinrooijakkers Source:  https://www.sciencedirect.com/topics/computer-science/finite-domain-constraint"><a href="#t1577359669020200" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-12-26</span> <span class="t" onclick="H(this)">11:27:49</span> erwinrooijakkers </span><span>Source: </span><a href="https://www.sciencedirect.com/topics/computer-science/finite-domain-constraint" target="_blank">https://www.sciencedirect.com/topics/computer-science/finite-domain-constraint</a></div><div id="t1577359680020500" t="2019-12-26 11:28:00 erwinrooijakkers So a finite domain is nonnegative by definition"><a href="#t1577359680020500" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-12-26</span> <span class="t" onclick="H(this)">11:28:00</span> erwinrooijakkers </span><span>So a finite domain is nonnegative by definition</span></div><div id="t1577360118020700" t="2019-12-26 11:35:18 erwinrooijakkers Related question:  https://stackoverflow.com/questions/13195493/core-logic-finite-domain-with-ve-values"><a href="#t1577360118020700" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-12-26</span> <span class="t" onclick="H(this)">11:35:18</span> erwinrooijakkers </span><span>Related question: </span><a href="https://stackoverflow.com/questions/13195493/core-logic-finite-domain-with-ve-values" target="_blank">https://stackoverflow.com/questions/13195493/core-logic-finite-domain-with-ve-values</a></div><div id="t1577360556021600" t="2019-12-26 11:42:36 erwinrooijakkers There might be a reason related to increasing search space why negative numbers are excluded, but I can’t find it anywhere"><a href="#t1577360556021600" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-12-26</span> <span class="t" onclick="H(this)">11:42:36</span> erwinrooijakkers </span><span>There might be a reason related to increasing search space why negative numbers are excluded, but I can’t find it anywhere</span></div><div id="t1577360791022100" t="2019-12-26 11:46:31 erwinrooijakkers But anyway for this specific problem I don’t need negative numbers"><a href="#t1577360791022100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-12-26</span> <span class="t" onclick="H(this)">11:46:31</span> erwinrooijakkers </span><span>But anyway for this specific problem I don’t need negative numbers</span></div><div id="t1577360833022300" t="2019-12-26 11:47:13 erwinrooijakkers I don’t need to represent the input as maps"><a href="#t1577360833022300" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2019-12-26</span> <span class="t" onclick="H(this)">11:47:13</span> erwinrooijakkers </span><span>I don’t need to represent the input as maps</span></div><div id="t1580156407001600" t="2020-01-27 20:20:07 Nico hi, I&apos;m having some trouble with core.logic and function arities. I&apos;m going through the reasoned schemer to learn and I&apos;ve been trying to write some of my own relations as exercises. I wrote a simple implementation of  concat  which worked fine, and I tried to convert it to a relation:
 (defn dumb-concat [x y]
  (cond
    (empty? y) x
    (empty? x) y
    :else (recur (conj x (first y)) (rest y))))

(defn dumb-concato [x y out]
  (l/conde
    [(l/emptyo y) (l/== out x)]
    [(l/emptyo x) (l/== out y)]
    [l/succeed (l/fresh [f r c]
                   (l/conso f r y)
                   (l/conjo x f c)
                   (dumb-concato c r)
                   )]))"><a href="#t1580156407001600" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-01-27</span> <span class="t" onclick="H(this)">20:20:07</span>             Nico </span><span>hi, I&apos;m having some trouble with core.logic and function arities. I&apos;m going through the reasoned schemer to learn and I&apos;ve been trying to write some of my own relations as exercises. I wrote a simple implementation of </span><code>concat</code><span> which worked fine, and I tried to convert it to a relation:
</span><pre>(defn dumb-concat [x y]
  (cond
    (empty? y) x
    (empty? x) y
    :else (recur (conj x (first y)) (rest y))))

(defn dumb-concato [x y out]
  (l/conde
    [(l/emptyo y) (l/== out x)]
    [(l/emptyo x) (l/== out y)]
    [l/succeed (l/fresh [f r c]
                   (l/conso f r y)
                   (l/conjo x f c)
                   (dumb-concato c r)
                   )]))</pre></div><div id="t1580156483002400" t="2020-01-27 20:21:23 Nico however, when I try and test this with  (l/run 1 [q] (dumb-concato [0 1 2 3] [5 4 3] q))   it just says  Wrong number of args (2) passed to: logic-practice.core/dumb-concato"><a href="#t1580156483002400" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-01-27</span> <span class="t" onclick="H(this)">20:21:23</span>             Nico </span><span>however, when I try and test this with </span><code>(l/run 1 [q] (dumb-concato [0 1 2 3] [5 4 3] q))</code><span>  it just says </span><code>Wrong number of args (2) passed to: logic-practice.core/dumb-concato</code></div><div id="t1580156489002700" t="2020-01-27 20:21:29 Nico what am I doing wrong? Or is this a bug?"><a href="#t1580156489002700" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-01-27</span> <span class="t" onclick="H(this)">20:21:29</span>             Nico </span><span>what am I doing wrong? Or is this a bug?</span></div><div id="t1580157017003100" t="2020-01-27 20:30:17 Nico because I&apos;m certainly passing 3 arguments to it (the two vectors and the lvar)"><a href="#t1580157017003100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-01-27</span> <span class="t" onclick="H(this)">20:30:17</span>             Nico </span><span>because I&apos;m certainly passing 3 arguments to it (the two vectors and the lvar)</span></div><div id="t1580157189003500" t="2020-01-27 20:33:09 jimmy (dumb-concato c r)"><a href="#t1580157189003500" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-01-27</span> <span class="t" onclick="H(this)">20:33:09</span>            jimmy </span><code>(dumb-concato c r)</code></div><div id="t1580157235003900" t="2020-01-27 20:33:55 jimmy ^ That line looks like the error to me."><a href="#t1580157235003900" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-01-27</span> <span class="t" onclick="H(this)">20:33:55</span>            jimmy </span><span>^ That line looks like the error to me.</span></div><div id="t1580158074004900" t="2020-01-27 20:47:54 hiredman Dum-concato is just a regular function, not a core.logic relation, so you can&apos;t use it like that"><a href="#t1580158074004900" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-01-27</span> <span class="t" onclick="H(this)">20:47:54</span>         hiredman </span><span>Dum-concato is just a regular function, not a core.logic relation, so you can&apos;t use it like that</span></div><div id="t1580158092005100" t="2020-01-27 20:48:12 hiredman Err"><a href="#t1580158092005100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-01-27</span> <span class="t" onclick="H(this)">20:48:12</span>         hiredman </span><span>Err</span></div><div id="t1580158102005400" t="2020-01-27 20:48:22 hiredman Dumb-concat"><a href="#t1580158102005400" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-01-27</span> <span class="t" onclick="H(this)">20:48:22</span>         hiredman </span><span>Dumb-concat</span></div><div id="t1580158267009000" t="2020-01-27 20:51:07 hiredman What exactly a  core.logic relation is kind of complicated, but a recursive definition would be something like, a core.logic relation is a function whose body is composed of core.logic relations"><a href="#t1580158267009000" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-01-27</span> <span class="t" onclick="H(this)">20:51:07</span>         hiredman </span><span>What exactly a  core.logic relation is kind of complicated, but a recursive definition would be something like, a core.logic relation is a function whose body is composed of core.logic relations</span></div><div id="t1580158373012000" t="2020-01-27 20:52:53 hiredman So dumb-concato would be a relation if it didn&apos;t call dumb-concat, but the body of dumb-concat is all non-relations (it is all functions from clojure.core)"><a href="#t1580158373012000" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-01-27</span> <span class="t" onclick="H(this)">20:52:53</span>         hiredman </span><span>So dumb-concato would be a relation if it didn&apos;t call dumb-concat, but the body of dumb-concat is all non-relations (it is all functions from clojure.core)</span></div><div id="t1580158493013900" t="2020-01-27 20:54:53 hiredman The kind of problem you get with calling clojure.core functions in a logic program is they don&apos;t know how to deal with logic variables"><a href="#t1580158493013900" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-01-27</span> <span class="t" onclick="H(this)">20:54:53</span>         hiredman </span><span>The kind of problem you get with calling clojure.core functions in a logic program is they don&apos;t know how to deal with logic variables</span></div><div id="t1580158530014800" t="2020-01-27 20:55:30 hiredman And relations don&apos;t return values, but functions do"><a href="#t1580158530014800" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-01-27</span> <span class="t" onclick="H(this)">20:55:30</span>         hiredman </span><span>And relations don&apos;t return values, but functions do</span></div><div id="t1580158571015300" t="2020-01-27 20:56:11 hiredman Oh"><a href="#t1580158571015300" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-01-27</span> <span class="t" onclick="H(this)">20:56:11</span>         hiredman </span><span>Oh</span></div><div id="t1580158583015700" t="2020-01-27 20:56:23 hiredman I misread your code though"><a href="#t1580158583015700" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-01-27</span> <span class="t" onclick="H(this)">20:56:23</span>         hiredman </span><span>I misread your code though</span></div><div id="t1580158647017600" t="2020-01-27 20:57:27 hiredman What I read as a call to dumb-concat is actually a call to dumb-concato with the wrong number if arguments which is exactly what the error you got says"><a href="#t1580158647017600" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-01-27</span> <span class="t" onclick="H(this)">20:57:27</span>         hiredman </span><span>What I read as a call to dumb-concat is actually a call to dumb-concato with the wrong number if arguments which is exactly what the error you got says</span></div><div id="t1580161261018100" t="2020-01-27 21:41:01 Nico ...how did I miss the obvious mistake"><a href="#t1580161261018100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-01-27</span> <span class="t" onclick="H(this)">21:41:01</span>             Nico </span><span>...how did I miss the obvious mistake</span></div><div id="t1580161263018300" t="2020-01-27 21:41:03 Nico thanks guys"><a href="#t1580161263018300" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-01-27</span> <span class="t" onclick="H(this)">21:41:03</span>             Nico </span><span>thanks guys</span></div><div id="t1580161268018500" t="2020-01-27 21:41:08 Nico somehow managed to make that mistake almost every time"><a href="#t1580161268018500" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-01-27</span> <span class="t" onclick="H(this)">21:41:08</span>             Nico </span><span>somehow managed to make that mistake almost every time</span></div><div id="t1583188808002200" t="2020-03-02 22:40:08 niveauverleih I am looking for a coherent intro to core.logic and also for an up-to-date reference."><a href="#t1583188808002200" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-03-02</span> <span class="t" onclick="H(this)">22:40:08</span>    niveauverleih </span><span>I am looking for a coherent intro to core.logic and also for an up-to-date reference.</span></div><div id="t1583409632002600" t="2020-03-05 12:00:32 rickmoynihan The reasoned schemer is probably the best reference — it’s almost directly applicable to core.logic; bar a few minor mostly syntactic differences."><a href="#t1583409632002600" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-03-05</span> <span class="t" onclick="H(this)">12:00:32</span>          rickmoynihan </span><span>The reasoned schemer is probably the best reference — it’s almost directly applicable to core.logic; bar a few minor mostly syntactic differences.</span></div><div id="t1583413932002800" t="2020-03-05 13:12:12 niveauverleih Thank you, Rick! I had a look at it but found it too implicit. I&apos;m a perfect customer for the dummies series of books. Luckily Martin Trojer put the clojure code for the little schemer on github:  https://github.com/martintrojer/reasoned-schemer-core.logic/blob/master/src/reasoned-schemer/ch1.clj"><a href="#t1583413932002800" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-03-05</span> <span class="t" onclick="H(this)">13:12:12</span>         niveauverleih </span><span>Thank you, Rick! I had a look at it but found it too implicit. I&apos;m a perfect customer for the dummies series of books. Luckily Martin Trojer put the clojure code for the little schemer on github: </span><a href="https://github.com/martintrojer/reasoned-schemer-core.logic/blob/master/src/reasoned-schemer/ch1.clj" target="_blank">https://github.com/martintrojer/reasoned-schemer-core.logic/blob/master/src/reasoned-schemer/ch1.clj</a></div><div id="t1583518881004000" t="2020-03-06 18:21:21 niveauverleih Lars Hupel has presented core.logic on ClojureD 2020  https://twitter.com/larsr_h/status/1233729156980072453?s=20"><a href="#t1583518881004000" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-03-06</span> <span class="t" onclick="H(this)">18:21:21</span>    niveauverleih </span><span>Lars Hupel has presented core.logic on ClojureD 2020 </span><a href="https://twitter.com/larsr_h/status/1233729156980072453?s=20" target="_blank">https://twitter.com/larsr_h/status/1233729156980072453?s=20</a></div><div id="t1583933471006700" t="2020-03-11 13:31:11 niveauverleih In the reasoned Schemer and core logic primer succeed and fail are called constants, whereas the source code defines them as functions. I&apos;m confused."><a href="#t1583933471006700" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-03-11</span> <span class="t" onclick="H(this)">13:31:11</span>    niveauverleih </span><span>In the reasoned Schemer and core logic primer succeed and fail are called constants, whereas the source code defines them as functions. I&apos;m confused.</span></div><div id="t1583941242008300" t="2020-03-11 15:40:42 hiredman They are goals that don&apos;t depend on any passed in values, so constant in that sense"><a href="#t1583941242008300" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-03-11</span> <span class="t" onclick="H(this)">15:40:42</span>         hiredman </span><span>They are goals that don&apos;t depend on any passed in values, so constant in that sense</span></div><div id="t1583944798008500" t="2020-03-11 16:39:58 rickmoynihan @nick.romer all goals are functions iirc"><a href="#t1583944798008500" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-03-11</span> <span class="t" onclick="H(this)">16:39:58</span>     rickmoynihan </span><span>@nick.romer all goals are functions iirc</span></div><div id="t1583944989009900" t="2020-03-11 16:43:09 rickmoynihan You just use them as if they were constants at the minikanren/core.logic language level; but underneath they’re implemented as functions."><a href="#t1583944989009900" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-03-11</span> <span class="t" onclick="H(this)">16:43:09</span>     rickmoynihan </span><span>You just use them as if they were constants at the minikanren/core.logic language level; but underneath they’re implemented as functions.</span></div><div id="t1583945027010400" t="2020-03-11 16:43:47 rickmoynihan internally core logic will apply values to them as with any other goal.  They’ll just always succeed or fail."><a href="#t1583945027010400" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-03-11</span> <span class="t" onclick="H(this)">16:43:47</span>     rickmoynihan </span><span>internally core logic will apply values to them as with any other goal.  They’ll just always succeed or fail.</span></div><div id="t1583948487011200" t="2020-03-11 17:41:27 niveauverleih I see. Thank you both!"><a href="#t1583948487011200" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-03-11</span> <span class="t" onclick="H(this)">17:41:27</span>    niveauverleih </span><span>I see. Thank you both!</span></div><div id="t1585173770003800" t="2020-03-25 22:02:50 niveauverleih Could someone explain the term &quot;list with an improper tail&quot; to me, please? I am trying to understand dotted pairs, lcons and llist, while reading the reasoned schemer."><a href="#t1585173770003800" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-03-25</span> <span class="t" onclick="H(this)">22:02:50</span>    niveauverleih </span><span>Could someone explain the term &quot;list with an improper tail&quot; to me, please? I am trying to understand dotted pairs, lcons and llist, while reading the reasoned schemer.</span></div><div id="t1585176122004300" t="2020-03-25 22:42:02 hiredman in scheme a cons cell is basically a 2 element array"><a href="#t1585176122004300" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-03-25</span> <span class="t" onclick="H(this)">22:42:02</span>         hiredman </span><span>in scheme a cons cell is basically a 2 element array</span></div><div id="t1585176138004700" t="2020-03-25 22:42:18 hiredman and you can put anything in either slot"><a href="#t1585176138004700" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-03-25</span> <span class="t" onclick="H(this)">22:42:18</span>         hiredman </span><span>and you can put anything in either slot</span></div><div id="t1585176182005600" t="2020-03-25 22:43:02 hiredman a list is a cons cell or series of cons cells where the second element (the cdr) is a cons cell or nil"><a href="#t1585176182005600" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-03-25</span> <span class="t" onclick="H(this)">22:43:02</span>         hiredman </span><span>a list is a cons cell or series of cons cells where the second element (the cdr) is a cons cell or nil</span></div><div id="t1585176230006400" t="2020-03-25 22:43:50 hiredman an improper list is a series of cons cells where the lest cons cell doesn&apos;t have nil as the cdr"><a href="#t1585176230006400" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-03-25</span> <span class="t" onclick="H(this)">22:43:50</span>         hiredman </span><span>an improper list is a series of cons cells where the lest cons cell doesn&apos;t have nil as the cdr</span></div><div id="t1585241338017000" t="2020-03-26 16:48:58 niveauverleih Thank you, @hiredman! So in Clojure, cons doesn&apos;t allow me to explicitly set the right hand side of a cell, because it expects a list as 2nd argument. In Clojure, a list is made up of cons cells, but I cannot manipulate the cells directly, right?"><a href="#t1585241338017000" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-03-26</span> <span class="t" onclick="H(this)">16:48:58</span>    niveauverleih </span><span>Thank you, @hiredman! So in Clojure, cons doesn&apos;t allow me to explicitly set the right hand side of a cell, because it expects a list as 2nd argument. In Clojure, a list is made up of cons cells, but I cannot manipulate the cells directly, right?</span></div><div id="t1585241474017800" t="2020-03-26 16:51:14 hiredman it is complicated, clojure tends to be more concerned with seqs, which are not a concrete data type"><a href="#t1585241474017800" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-03-26</span> <span class="t" onclick="H(this)">16:51:14</span>         hiredman </span><span>it is complicated, clojure tends to be more concerned with seqs, which are not a concrete data type</span></div><div id="t1585241515018700" t="2020-03-26 16:51:55 hiredman clojure has an explicit list type, but it isn&apos;t used nearly as often, most of the time when you think something is a list it is actually some species of seq"><a href="#t1585241515018700" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-03-26</span> <span class="t" onclick="H(this)">16:51:55</span>         hiredman </span><span>clojure has an explicit list type, but it isn&apos;t used nearly as often, most of the time when you think something is a list it is actually some species of seq</span></div><div id="t1585241540019200" t="2020-03-26 16:52:20 hiredman and clojure.core/cons builds a seq, not a list"><a href="#t1585241540019200" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-03-26</span> <span class="t" onclick="H(this)">16:52:20</span>         hiredman </span><span>and clojure.core/cons builds a seq, not a list</span></div><div id="t1585241569019600" t="2020-03-26 16:52:49 hiredman but it is true that neither seqs nor lists can be improper in clojure"><a href="#t1585241569019600" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-03-26</span> <span class="t" onclick="H(this)">16:52:49</span>         hiredman </span><span>but it is true that neither seqs nor lists can be improper in clojure</span></div><div id="t1585302216021600" t="2020-03-27 09:43:36 yuhan core.logic has a function  lcons  to model these improper-tail cons cells, I&apos;ve only used it when translating the Reasoned Schemer exercises."><a href="#t1585302216021600" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-03-27</span> <span class="t" onclick="H(this)">09:43:36</span>            yuhan </span><span>core.logic has a function </span><code>lcons</code><span> to model these improper-tail cons cells, I&apos;ve only used it when translating the Reasoned Schemer exercises.</span></div><div id="t1585302244021800" t="2020-03-27 09:44:04 yuhan also  llist"><a href="#t1585302244021800" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-03-27</span> <span class="t" onclick="H(this)">09:44:04</span>            yuhan </span><span>also </span><code>llist</code></div><div id="t1585560120022700" t="2020-03-30 09:22:00 dmarjenburgh Wat is the benefit of using finite domains instead of just constraining a var to a set of values with membero?"><a href="#t1585560120022700" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-03-30</span> <span class="t" onclick="H(this)">09:22:00</span>     dmarjenburgh </span><span>Wat is the benefit of using finite domains instead of just constraining a var to a set of values with membero?</span></div><div id="t1585570647025400" t="2020-03-30 12:17:27 rickmoynihan It has optimisations that mean not all values need to be specified up front; e.g. you can specify a lower and upper bound on a constraint, and it can operate and propagate constraints on the intervals directly.

Also it gives you relational versions of operators like  &lt;   &gt;   +   -  etc that  leverage the above."><a href="#t1585570647025400" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-03-30</span> <span class="t" onclick="H(this)">12:17:27</span>     rickmoynihan </span><span>It has optimisations that mean not all values need to be specified up front; e.g. you can specify a lower and upper bound on a constraint, and it can operate and propagate constraints on the intervals directly.

Also it gives you relational versions of operators like </span><code>&lt;</code><span> </span><code>&gt;</code><span> </span><code>+</code><span> </span><code>-</code><span> etc that  leverage the above.</span></div><div id="t1586762085027900" t="2020-04-13 07:14:45 dmarjenburgh Hi, I&apos;m interested in symbolic equation solvers. Does anyone know a good source to read about the &apos;state-of-things&apos; regarding research in this area? I&apos;m familiar with PRESS (PRolog Equation Solving System) and am looking to implement something similar in core.logic, but need a good place to start reading up."><a href="#t1586762085027900" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-04-13</span> <span class="t" onclick="H(this)">07:14:45</span>     dmarjenburgh </span><span>Hi, I&apos;m interested in symbolic equation solvers. Does anyone know a good source to read about the &apos;state-of-things&apos; regarding research in this area? I&apos;m familiar with PRESS (PRolog Equation Solving System) and am looking to implement something similar in core.logic, but need a good place to start reading up.</span></div><div id="t1586954759028100" t="2020-04-15 12:45:59 Joe Lane Hi @U05469DKJ Does this fit the bill?

 https://github.com/clojure-numerics/expresso 

 https://github.com/mschuene/expresso-tutorial"><a href="#t1586954759028100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-04-15</span> <span class="t" onclick="H(this)">12:45:59</span>              Joe Lane </span><span>Hi @U05469DKJ Does this fit the bill?

</span><a href="https://github.com/clojure-numerics/expresso" target="_blank">https://github.com/clojure-numerics/expresso</a><span>

</span><a href="https://github.com/mschuene/expresso-tutorial" target="_blank">https://github.com/mschuene/expresso-tutorial</a></div><div id="t1586955822028500" t="2020-04-15 13:03:42 dmarjenburgh Thanks, have seen it. Doesn&apos;t appear active anymore and couldn&apos;t find reference to research in the code. I might learn something from diving into the codebase though."><a href="#t1586955822028500" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-04-15</span> <span class="t" onclick="H(this)">13:03:42</span>          dmarjenburgh </span><span>Thanks, have seen it. Doesn&apos;t appear active anymore and couldn&apos;t find reference to research in the code. I might learn something from diving into the codebase though.</span></div><div id="t1587010436028700" t="2020-04-16 04:13:56 EmmanuelOga have you seen these books by any chance?"><a href="#t1587010436028700" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-04-16</span> <span class="t" onclick="H(this)">04:13:56</span>           EmmanuelOga </span><span>have you seen these books by any chance?</span></div><div id="t1587010437028900" t="2020-04-16 04:13:57 EmmanuelOga https://www.amazon.com/Joel-S-Cohen/e/B001K8MI06"><a href="#t1587010437028900" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-04-16</span> <span class="t" onclick="H(this)">04:13:57</span>           EmmanuelOga </span><a href="https://www.amazon.com/Joel-S-Cohen/e/B001K8MI06" target="_blank">https://www.amazon.com/Joel-S-Cohen/e/B001K8MI06</a></div><div id="t1587010475029200" t="2020-04-16 04:14:35 EmmanuelOga disclaimer: I know nothing about the subject, I just always have on the back burner to relearn some math, and I found the books when I was looking for computer algebra books"><a href="#t1587010475029200" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-04-16</span> <span class="t" onclick="H(this)">04:14:35</span>           EmmanuelOga </span><span>disclaimer: I know nothing about the subject, I just always have on the back burner to relearn some math, and I found the books when I was looking for computer algebra books</span></div><div id="t1587010509029400" t="2020-04-16 04:15:09 EmmanuelOga also, they are ~20 year old books so maybe not precisely state of the art haha"><a href="#t1587010509029400" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-04-16</span> <span class="t" onclick="H(this)">04:15:09</span>           EmmanuelOga </span><span>also, they are ~20 year old books so maybe not precisely state of the art haha</span></div><div id="t1587010810029600" t="2020-04-16 04:20:10 EmmanuelOga the source of sympy seems like a good resource too"><a href="#t1587010810029600" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-04-16</span> <span class="t" onclick="H(this)">04:20:10</span>           EmmanuelOga </span><span>the source of sympy seems like a good resource too</span></div><div id="t1587010811029800" t="2020-04-16 04:20:11 EmmanuelOga say:"><a href="#t1587010811029800" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-04-16</span> <span class="t" onclick="H(this)">04:20:11</span>           EmmanuelOga </span><span>say:</span></div><div id="t1587010813030000" t="2020-04-16 04:20:13 EmmanuelOga https://github.com/sympy/sympy/blob/09565e28d2373ba4e130a7bacff6c7a1c01a4a64/sympy/calculus/finite_diff.py"><a href="#t1587010813030000" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-04-16</span> <span class="t" onclick="H(this)">04:20:13</span>           EmmanuelOga </span><a href="https://github.com/sympy/sympy/blob/09565e28d2373ba4e130a7bacff6c7a1c01a4a64/sympy/calculus/finite_diff.py" target="_blank">https://github.com/sympy/sympy/blob/09565e28d2373ba4e130a7bacff6c7a1c01a4a64/sympy/calculus/finite_diff.py</a></div><div id="t1587012904030300" t="2020-04-16 04:55:04 dmarjenburgh I had not seen those books. Thanks!"><a href="#t1587012904030300" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-04-16</span> <span class="t" onclick="H(this)">04:55:04</span>          dmarjenburgh </span><span>I had not seen those books. Thanks!</span></div><div id="t1588523155032700" t="2020-05-03 16:25:55 skykanin Are there any good resources for learning core logic? I&apos;m looking to translate a prolog sudoku CLP rule to clojure."><a href="#t1588523155032700" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-05-03</span> <span class="t" onclick="H(this)">16:25:55</span>         skykanin </span><span>Are there any good resources for learning core logic? I&apos;m looking to translate a prolog sudoku CLP rule to clojure.</span></div><div id="t1588578489033000" t="2020-05-04 07:48:09 rickmoynihan The reasoned schemer is probably the main one.

There are some minor differences to core logic, but they’re mainly just syntactic ones."><a href="#t1588578489033000" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-05-04</span> <span class="t" onclick="H(this)">07:48:09</span>          rickmoynihan </span><span>The reasoned schemer is probably the main one.

There are some minor differences to core logic, but they’re mainly just syntactic ones.</span></div><div id="t1588578563033300" t="2020-05-04 07:49:23 rickmoynihan Also the core.logic unit tests…  iirc there is a sudoku solver as an example in there"><a href="#t1588578563033300" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-05-04</span> <span class="t" onclick="H(this)">07:49:23</span>          rickmoynihan </span><span>Also the core.logic unit tests…  iirc there is a sudoku solver as an example in there</span></div><div id="t1588743199033500" t="2020-05-06 05:33:19 EmmanuelOga I don&apos;t really understand the reasoner schemer and the rest of the books on that series"><a href="#t1588743199033500" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-05-06</span> <span class="t" onclick="H(this)">05:33:19</span>           EmmanuelOga </span><span>I don&apos;t really understand the reasoner schemer and the rest of the books on that series</span></div><div id="t1588743263033700" t="2020-05-06 05:34:23 EmmanuelOga I thought it was supposed to be a way to teach difficult concepts in a way that &quot;anybody could understand them&quot;, starting &quot;from the beginning&quot; and just putting some effort behind..."><a href="#t1588743263033700" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-05-06</span> <span class="t" onclick="H(this)">05:34:23</span>           EmmanuelOga </span><span>I thought it was supposed to be a way to teach difficult concepts in a way that &quot;anybody could understand them&quot;, starting &quot;from the beginning&quot; and just putting some effort behind...</span></div><div id="t1588743280033900" t="2020-05-06 05:34:40 EmmanuelOga I find those books assume a HUGE amount of pre-existent knowledge"><a href="#t1588743280033900" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-05-06</span> <span class="t" onclick="H(this)">05:34:40</span>           EmmanuelOga </span><span>I find those books assume a HUGE amount of pre-existent knowledge</span></div><div id="t1588743343034100" t="2020-05-06 05:35:43 EmmanuelOga I determined that the best way to learn core.logic will probably have to be to learn prolog first, since there seems to be at least a couple of... normal books to learn from  🙂"><a href="#t1588743343034100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-05-06</span> <span class="t" onclick="H(this)">05:35:43</span>           EmmanuelOga </span><span>I determined that the best way to learn core.logic will probably have to be to learn prolog first, since there seems to be at least a couple of... normal books to learn from </span><b>🙂</b></div><div id="t1588743421034300" t="2020-05-06 05:37:01 EmmanuelOga maybe some other resource on  http://minikanren.org/  could be useful but I haven&apos;t gone through the avalanche of links yet."><a href="#t1588743421034300" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-05-06</span> <span class="t" onclick="H(this)">05:37:01</span>           EmmanuelOga </span><span>maybe some other resource on </span><a href="http://minikanren.org/" target="_blank">http://minikanren.org/</a><span> could be useful but I haven&apos;t gone through the avalanche of links yet.</span></div><div id="t1588743474034500" t="2020-05-06 05:37:54 EmmanuelOga https://mitpress.mit.edu/books/art-prolog-second-edition  looks promising"><a href="#t1588743474034500" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-05-06</span> <span class="t" onclick="H(this)">05:37:54</span>           EmmanuelOga </span><a href="https://mitpress.mit.edu/books/art-prolog-second-edition" target="_blank">https://mitpress.mit.edu/books/art-prolog-second-edition</a><span> looks promising</span></div><div id="t1588761429035000" t="2020-05-06 10:37:09 rickmoynihan I personally really like the reasoned schemer and the other books in the series.  Each panel builds on the last, and I don’t think they require much prior knowledge (beyond perhaps some of the little schemer, or a rough familiarity with a lisp e.g. clojure).

I think the problem with those books isn’t so much that they assume any pre existing knowledge about logic programming; you can and should I think really read them without a computer…  It’s more that they don’t tell you anything about why you should care, or how to apply it in practice… or even really what each chapter is teaching you.

However, I also happened to have learned prolog 20 years ago, so  :man-shrugging: 

Regardless the art of prolog is a great book; though you’ll probably want to learn minikanren as its own thing too.  Many examples won’t translate directly."><a href="#t1588761429035000" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-05-06</span> <span class="t" onclick="H(this)">10:37:09</span>          rickmoynihan </span><span>I personally really like the reasoned schemer and the other books in the series.  Each panel builds on the last, and I don’t think they require much prior knowledge (beyond perhaps some of the little schemer, or a rough familiarity with a lisp e.g. clojure).

I think the problem with those books isn’t so much that they assume any pre existing knowledge about logic programming; you can and should I think really read them without a computer…  It’s more that they don’t tell you anything about why you should care, or how to apply it in practice… or even really what each chapter is teaching you.

However, I also happened to have learned prolog 20 years ago, so </span><b>:man-shrugging:</b><span>

Regardless the art of prolog is a great book; though you’ll probably want to learn minikanren as its own thing too.  Many examples won’t translate directly.</span></div><div id="t1588544028032800" t="2020-05-03 22:13:48 porkostomus This looks like it might help:  https://github.com/daveray/logic-99"><a href="#t1588544028032800" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-05-03</span> <span class="t" onclick="H(this)">22:13:48</span>      porkostomus </span><span>This looks like it might help: </span><a href="https://github.com/daveray/logic-99" target="_blank">https://github.com/daveray/logic-99</a></div><div id="t1591378706039800" t="2020-06-05 17:38:26 niveauverleih Can anybody explain the difference  between miniKanren and STRIPS? they seem to be used ti solve tbe same kind if problems; cf  https://www.youtube.com/watch?v=jzLSnadyYso"><a href="#t1591378706039800" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-06-05</span> <span class="t" onclick="H(this)">17:38:26</span>    niveauverleih </span><span>Can anybody explain the difference  between miniKanren and STRIPS? they seem to be used ti solve tbe same kind if problems; cf </span><a href="https://www.youtube.com/watch?v=jzLSnadyYso" target="_blank">https://www.youtube.com/watch?v=jzLSnadyYso</a></div><div id="t1591615906047300" t="2020-06-08 11:31:46 rickmoynihan Not seen STRIPS before; and I’m no expert here but it looks like it’s essentially a planner; which is roughly speaking a programming system designed to find the right sequence of actions to achieve a goal.

It’s probably similar to minikanren in that it’s essentially  a search strategy over some solution space; where the program in the language defines what those solutions/constraints look like…

But I think the flavour of expression will be different.  A planner will more typically be oriented around finding sequences of actions that get you from where you are into a particular goal state.

Whilst minikanren aims to be more general purpose…  You should be able to implement a planner in minikanren (or a logic language like prolog), but I’m not sure the reverse would typically be desirable…

Having said that it looks like STRIPS smells a bit like horn clauses Preconditions being the antecedents and Postconditions being the consequents.

Also minikanren has goals of being purely relational, and is as much about having a simple implementation for research/educational purposes as anything else."><a href="#t1591615906047300" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-06-08</span> <span class="t" onclick="H(this)">11:31:46</span>     rickmoynihan </span><span>Not seen STRIPS before; and I’m no expert here but it looks like it’s essentially a planner; which is roughly speaking a programming system designed to find the right sequence of actions to achieve a goal.

It’s probably similar to minikanren in that it’s essentially  a search strategy over some solution space; where the program in the language defines what those solutions/constraints look like…

But I think the flavour of expression will be different.  A planner will more typically be oriented around finding sequences of actions that get you from where you are into a particular goal state.

Whilst minikanren aims to be more general purpose…  You should be able to implement a planner in minikanren (or a logic language like prolog), but I’m not sure the reverse would typically be desirable…

Having said that it looks like STRIPS smells a bit like horn clauses Preconditions being the antecedents and Postconditions being the consequents.

Also minikanren has goals of being purely relational, and is as much about having a simple implementation for research/educational purposes as anything else.</span></div><div id="t1601410498000500" t="2020-09-29 20:14:58 nathanmarz what&apos;s the purpose of  clojure.core.logic.protocols/IUninitialized ?"><a href="#t1601410498000500" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-09-29</span> <span class="t" onclick="H(this)">20:14:58</span>       nathanmarz </span><span>what&apos;s the purpose of </span><code>clojure.core.logic.protocols/IUninitialized</code><span>?</span></div><div id="t1601410545001400" t="2020-09-29 20:15:45 nathanmarz I found I&apos;m unable to write constraints on values of custom records without that record implementing that protocol, but I&apos;m unclear what  -uninitialized  is supposed to do"><a href="#t1601410545001400" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-09-29</span> <span class="t" onclick="H(this)">20:15:45</span>       nathanmarz </span><span>I found I&apos;m unable to write constraints on values of custom records without that record implementing that protocol, but I&apos;m unclear what </span><code>-uninitialized</code><span> is supposed to do</span></div><div id="t1601877157002500" t="2020-10-05 05:52:37 devn @nathanmarz  https://groups.google.com/g/clojure/c/0bM3nLj18SM/m/RMumUuy4IZ4J  might be of some help in understanding the history there."><a href="#t1601877157002500" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-10-05</span> <span class="t" onclick="H(this)">05:52:37</span>             devn </span><span>@nathanmarz </span><a href="https://groups.google.com/g/clojure/c/0bM3nLj18SM/m/RMumUuy4IZ4J" target="_blank">https://groups.google.com/g/clojure/c/0bM3nLj18SM/m/RMumUuy4IZ4J</a><span> might be of some help in understanding the history there.</span></div><div id="t1604587581005200" t="2020-11-05 14:46:21 nitaai hi. i have ported one prolog example to core.logic:
 % P07 (**) Flatten a nested list structure.
my_flatten(X,[X]) :- \+ is_list(X).
my_flatten([],[]).
my_flatten([X|Xs],Zs) :- my_flatten(X,Y), my_flatten(Xs,Ys), append(Y,Ys,Zs).

(defne flatteno [l1 l2]
  ([x [x]] (pred x (comp not seq?)))
  ([[] []])
  ([[x . xs] zs]
   (fresh [y ys]
     (flatteno x y)
     (flatteno xs ys)
     (appendo y ys zs)))) 
can someone tell me why the clojure version produces multiple results:
 ([[1 [2]]] (1 [2]) (1 2)) 
and the prolog version only one:
 [1 2] 
?"><a href="#t1604587581005200" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-11-05</span> <span class="t" onclick="H(this)">14:46:21</span>           nitaai </span><span>hi. i have ported one prolog example to core.logic:
</span><pre>% P07 (**) Flatten a nested list structure.
my_flatten(X,[X]) :- \+ is_list(X).
my_flatten([],[]).
my_flatten([X|Xs],Zs) :- my_flatten(X,Y), my_flatten(Xs,Ys), append(Y,Ys,Zs).

(defne flatteno [l1 l2]
  ([x [x]] (pred x (comp not seq?)))
  ([[] []])
  ([[x . xs] zs]
   (fresh [y ys]
     (flatteno x y)
     (flatteno xs ys)
     (appendo y ys zs))))</pre><span>
can someone tell me why the clojure version produces multiple results:
</span><code>([[1 [2]]] (1 [2]) (1 2))</code><span>
and the prolog version only one:
</span><code>[1 2]</code><span>
?</span></div><div id="t1604588115005300" t="2020-11-05 14:55:15 nitaai I assume some rearrangement of the clauses and use of  defna  or  defnu .."><a href="#t1604588115005300" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-11-05</span> <span class="t" onclick="H(this)">14:55:15</span>                nitaai </span><span>I assume some rearrangement of the clauses and use of </span><code>defna</code><span> or </span><code>defnu</code><span>..</span></div><div id="t1604588418005500" t="2020-11-05 15:00:18 nitaai yes, my assumption was right:
 (defna flatteno [l1 l2]
  ([[x . xs] zs]
   (fresh [y ys]
     (flatteno x y)
     (flatteno xs ys)
     (appendo y ys zs)))
  ([x [x]] (pred x (comp not seq?)))
  ([[] []])) 
both  defna  and  defnu  do the job and clauses have to be rearranged.

Someone who knows prolog can tell me why this kind of cut is necessary in clojure and not in prolog?"><a href="#t1604588418005500" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-11-05</span> <span class="t" onclick="H(this)">15:00:18</span>                nitaai </span><span>yes, my assumption was right:
</span><pre>(defna flatteno [l1 l2]
  ([[x . xs] zs]
   (fresh [y ys]
     (flatteno x y)
     (flatteno xs ys)
     (appendo y ys zs)))
  ([x [x]] (pred x (comp not seq?)))
  ([[] []]))</pre><span>
both </span><code>defna</code><span> and </span><code>defnu</code><span> do the job and clauses have to be rearranged.

Someone who knows prolog can tell me why this kind of cut is necessary in clojure and not in prolog?</span></div><div id="t1604601521005800" t="2020-11-05 18:38:41 Jan K the \+ negation in prolog also does a cut:
 http://cs.union.edu/~striegnk/learn-prolog-now/html/node90.html#sec.l10.negation.as.failure"><a href="#t1604601521005800" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-11-05</span> <span class="t" onclick="H(this)">18:38:41</span>                 Jan K </span><span>the \+ negation in prolog also does a cut:
</span><a href="http://cs.union.edu/~striegnk/learn-prolog-now/html/node90.html#sec.l10.negation.as.failure" target="_blank">http://cs.union.edu/~striegnk/learn-prolog-now/html/node90.html#sec.l10.negation.as.failure</a></div><div id="t1604601681006000" t="2020-11-05 18:41:21 hiredman I would strongly recommend against using pred, and seq? is likely the wrong predicate there"><a href="#t1604601681006000" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-11-05</span> <span class="t" onclick="H(this)">18:41:21</span>              hiredman </span><span>I would strongly recommend against using pred, and seq? is likely the wrong predicate there</span></div><div id="t1604601779006200" t="2020-11-05 18:42:59 hiredman the re-arrangement of the clauses and using defna or defna are both consequences of seq? being the wrong predicate"><a href="#t1604601779006200" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-11-05</span> <span class="t" onclick="H(this)">18:42:59</span>              hiredman </span><span>the re-arrangement of the clauses and using defna or defna are both consequences of seq? being the wrong predicate</span></div><div id="t1604601799006400" t="2020-11-05 18:43:19 hiredman user=&gt; (seq? [])
false
user=&gt; 
"><a href="#t1604601799006400" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-11-05</span> <span class="t" onclick="H(this)">18:43:19</span>              hiredman </span><pre>user=&gt; (seq? [])
false
user=&gt;</pre><span>
</span></div><div id="t1604601839006600" t="2020-11-05 18:43:59 hiredman but using defna you should be able to get rid of the pred usage altogether"><a href="#t1604601839006600" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-11-05</span> <span class="t" onclick="H(this)">18:43:59</span>              hiredman </span><span>but using defna you should be able to get rid of the pred usage altogether</span></div><div id="t1604602763006800" t="2020-11-05 18:59:23 nitaai Great and interesting hints. Thanks @UCPGSBNQ4 and @U0NCTKEV8. Will look into that…"><a href="#t1604602763006800" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-11-05</span> <span class="t" onclick="H(this)">18:59:23</span>                nitaai </span><span>Great and interesting hints. Thanks @UCPGSBNQ4 and @U0NCTKEV8. Will look into that…</span></div><div id="t1604650933007000" t="2020-11-06 08:22:13 nitaai (defna flatteno [l1 l2]
  ([[] []])
  ([[x . xs] zs]
   (fresh [y ys]
     (flatteno x y)
     (flatteno xs ys)
     (appendo y ys zs)))
  ([x [x]])) 
i think this is the best solution. it got rid of  pred as @U0NCTKEV8 suggested and uses  defna . the arrangement of the clauses still matters, but it makes sense."><a href="#t1604650933007000" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-11-06</span> <span class="t" onclick="H(this)">08:22:13</span>                nitaai </span><pre>(defna flatteno [l1 l2]
  ([[] []])
  ([[x . xs] zs]
   (fresh [y ys]
     (flatteno x y)
     (flatteno xs ys)
     (appendo y ys zs)))
  ([x [x]]))</pre><span>
i think this is the best solution. it got rid of </span><code>pred</code><span>as @U0NCTKEV8 suggested and uses </span><code>defna</code><span>. the arrangement of the clauses still matters, but it makes sense.</span></div><div id="t1604655278008000" t="2020-11-06 09:34:38 nitaai another question. are recursive anonymous goals possible in  core.logic ? i can’t get it working analogous to the regular  fn ."><a href="#t1604655278008000" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-11-06</span> <span class="t" onclick="H(this)">09:34:38</span>           nitaai </span><span>another question. are recursive anonymous goals possible in </span><code>core.logic</code><span>? i can’t get it working analogous to the regular </span><code>fn</code><span>.</span></div><div id="t1604663848008100" t="2020-11-06 11:57:28 nitaai this workaround seems to work:
 (defn packo [l1 l2]
  (letfn [(transfero [a b c d]
            (matche [a b c d]
              ([x [] [] [x]])
              ([x [y . ys] [y . ys] [x]] (!= x y))
              ([x [x . xs] ys [x . zs]] (transfero x xs ys zs))))]
    (matche [l1 l2]
      ([[] []])
      ([[x . xs] [z . zs]]
       (fresh [ys]
         (transfero x xs ys z)
         (packo ys zs)))))) 
"><a href="#t1604663848008100" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-11-06</span> <span class="t" onclick="H(this)">11:57:28</span>                nitaai </span><span>this workaround seems to work:
</span><pre>(defn packo [l1 l2]
  (letfn [(transfero [a b c d]
            (matche [a b c d]
              ([x [] [] [x]])
              ([x [y . ys] [y . ys] [x]] (!= x y))
              ([x [x . xs] ys [x . zs]] (transfero x xs ys zs))))]
    (matche [l1 l2]
      ([[] []])
      ([[x . xs] [z . zs]]
       (fresh [ys]
         (transfero x xs ys z)
         (packo ys zs))))))</pre><span>
</span></div><div id="t1604663952008300" t="2020-11-06 11:59:12 nitaai may be even more readable than  fne  etc on the other hand i think it should support naming the anonymous function and thus enable recursion, like the ordinary  fn  does. but maybe there is a reason why it doesn’t."><a href="#t1604663952008300" onclick="S(this)">#</a><span class="u"><span class="t" onclick="D(this)">2020-11-06</span> <span class="t" onclick="H(this)">11:59:12</span>                nitaai </span><span>may be even more readable than </span><code>fne</code><span> etc on the other hand i think it should support naming the anonymous function and thus enable recursion, like the ordinary </span><code>fn</code><span> does. but maybe there is a reason why it doesn’t.</span></div></div></body>