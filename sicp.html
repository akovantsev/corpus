<!DOCTYPE html>
<head><title>SICP</title><meta charset="UTF-8" /><style type="text/css">body {
    margin: 0;
    font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", "Lucida Grande", sans-serif;
    font-weight: 200;
    background-color: floralwhite;
    color: black;
}
label, input[type='checkbox'] {
    cursor: pointer;
}
#page {
    padding: 0;
    min-height: 100vh;
    max-height: 100vh;
    display: flex;
    flex-direction: row;
    flex: 1;
}
#leftcol {
    /*margin: 10px;*/
    margin-right:  10px;
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    flex: 0;
    min-width: 480px;
    width: 480px;
}
#videos {
    min-width: 480px;
    min-height: 320px;
}
#rightcol {
    /*margin: 10px 0 10px 10px;*/
    overflow-y: hidden;
    display: flex;
    flex-direction: column;
    flex: 3;
}
#sections {
    margin: 0;
}
#sections,
#events {
    overflow-y: auto;
    display: flex;
    flex-direction: column;
}
#filter {
    text-align: center;
    font-size: 1.3em;
    position: sticky;
}
code {
    margin-right: 10px;
    background-color: aliceblue;
    cursor: pointer;
    font-style: italic;
    font-family: "Courier New", Courier, monospace;
}
code:hover {
    text-decoration: underline;
}
h5 {
    margin-block-start: 10px;
    margin-block-end: 0;
    background-color: floralwhite;
}
iframe {
    display: none;
}
li {
    cursor: pointer;
}
li:hover {
    text-decoration: underline;
}
.eventlist {
    display: flex;
    flex-direction: column;
    -webkit-flex: 0;
    flex-shrink: 0;
}
/*for save-as-html*/
li, span {
    background-color: floralwhite;
}
span {
    display: inline;
}




/* spinner https://loading.io/css/ */

#spinner {
    display: inline-block;
    position: absolute;
    width: 80px;
    height: 80px;
    margin-top: -40px;
    margin-left: -40px;
    top: 50%;
    left: 50%;
}
#spinner div {
    position: absolute;
    top: 33px;
    width: 13px;
    height: 13px;
    border-radius: 50%;
    background: black;
    animation-timing-function: cubic-bezier(0, 1, 1, 0);
}
#spinner div:nth-child(1) {
    left: 8px;
    animation: lds-ellipsis1 0.6s infinite;
}
#spinner div:nth-child(2) {
    left: 8px;
    animation: lds-ellipsis2 0.6s infinite;
}
#spinner div:nth-child(3) {
    left: 32px;
    animation: lds-ellipsis2 0.6s infinite;
}
#spinner div:nth-child(4) {
    left: 56px;
    animation: lds-ellipsis3 0.6s infinite;
}
@keyframes lds-ellipsis1 {
    0% {
        transform: scale(0);
    }
    100% {
        transform: scale(1);
    }
}
@keyframes lds-ellipsis3 {
    0% {
        transform: scale(1);
    }
    100% {
        transform: scale(0);
    }
}
@keyframes lds-ellipsis2 {
    0% {
        transform: translate(0, 0);
    }
    100% {
        transform: translate(24px, 0);
    }
}
</style><style id="css-filter" type="text/css"></style><style id="player-filter" type="text/css"></style><style id="li-highlight" type="text/css"></style><style id="darkmode" type="text/css"></style><script async="true" src="https://www.googletagmanager.com/gtag/js?id=foo"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());gtag('config', 'foo');</script></head>
<body><div id="spinner"><div></div><div></div><div></div><div></div></div><div id="page"><div id="leftcol"><div id="videos"></div><ol id="sections"><li onclick="showSection(&apos;2Op3QLzMgSY&apos;)" side="L" vid="2Op3QLzMgSY">Lecture 1A | MIT 6.001 Structure and Interpretation, 1986</li><li onclick="showSection(&apos;dlbMuv-jix8&apos;)" side="L" vid="dlbMuv-jix8">Lecture 1B | MIT 6.001 Structure and Interpretation, 1986</li><li onclick="showSection(&apos;erHp3r6PbJk&apos;)" side="L" vid="erHp3r6PbJk">Lecture 2A | MIT 6.001 Structure and Interpretation, 1986</li><li onclick="showSection(&apos;ymsbTVLbyN4&apos;)" side="L" vid="ymsbTVLbyN4">Lecture 2B | MIT 6.001 Structure and Interpretation, 1986</li><li onclick="showSection(&apos;2QgZVYI3tDs&apos;)" side="L" vid="2QgZVYI3tDs">Lecture 3A | MIT 6.001 Structure and Interpretation, 1986</li><li onclick="showSection(&apos;X21cKVtGvYk&apos;)" side="L" vid="X21cKVtGvYk">Lecture 3B | MIT 6.001 Structure and Interpretation, 1986</li><li onclick="showSection(&apos;amf5lTZ0UTc&apos;)" side="L" vid="amf5lTZ0UTc">Lecture 4A | MIT 6.001 Structure and Interpretation, 1986</li><li onclick="showSection(&apos;h6Z7vx9iUB8&apos;)" side="L" vid="h6Z7vx9iUB8">Lecture 4B | MIT 6.001 Structure and Interpretation, 1986</li><li onclick="showSection(&apos;jl8EHP1WrWY&apos;)" side="L" vid="jl8EHP1WrWY">Lecture 5A | MIT 6.001 Structure and Interpretation, 1986</li><li onclick="showSection(&apos;SsBxcpkyMMw&apos;)" side="L" vid="SsBxcpkyMMw">Lecture 5B | MIT 6.001 Structure and Interpretation, 1986</li><li onclick="showSection(&apos;a2Qt9uxhNSM&apos;)" side="L" vid="a2Qt9uxhNSM">Lecture 6A | MIT 6.001 Structure and Interpretation, 1986</li><li onclick="showSection(&apos;DCub3iqteuI&apos;)" side="L" vid="DCub3iqteuI">Lecture 6B | MIT 6.001 Structure and Interpretation, 1986</li><li onclick="showSection(&apos;0m6hoOelZH8&apos;)" side="L" vid="0m6hoOelZH8">Lecture 7A | MIT 6.001 Structure and Interpretation, 1986</li><li onclick="showSection(&apos;t5EI5fXX8K0&apos;)" side="L" vid="t5EI5fXX8K0">Lecture 7B | MIT 6.001 Structure and Interpretation, 1986</li><li onclick="showSection(&apos;cyVXjnFL2Ps&apos;)" side="L" vid="cyVXjnFL2Ps">Lecture 8A | MIT 6.001 Structure and Interpretation, 1986</li><li onclick="showSection(&apos;R3uRidfSpc4&apos;)" side="L" vid="R3uRidfSpc4">Lecture 8B | MIT 6.001 Structure and Interpretation, 1986</li><li onclick="showSection(&apos;jPDAPmx4pXE&apos;)" side="L" vid="jPDAPmx4pXE">Lecture 9A | MIT 6.001 Structure and Interpretation, 1986</li><li onclick="showSection(&apos;SLcZXbyGC3E&apos;)" side="L" vid="SLcZXbyGC3E">Lecture 9B | MIT 6.001 Structure and Interpretation, 1986</li><li onclick="showSection(&apos;kNmiTTKiYd4&apos;)" side="L" vid="kNmiTTKiYd4">Lecture 10A | MIT 6.001 Structure and Interpretation, 1986</li><li onclick="showSection(&apos;2s2_FAf-yQs&apos;)" side="L" vid="2s2_FAf-yQs">Lecture 10B | MIT 6.001 Structure and Interpretation, 1986</li></ol></div><div id="rightcol"><input id="filter" onkeyup="debfilter(this.value)" placeholder="filter" type="text" /><div id="events"><div class="eventlist" side="R" vid="2Op3QLzMgSY"><h5><code onclick="Z(this)">0:00:00</code>Lecture 1A | MIT 6.001 Structure and Interpretation, 1986</h5><span s="0" t=" [MUSIC PLAYING]"><code onclick="Z(this)">0:00:00</code> [MUSIC PLAYING]</span><span s="14" t="PROFESSOR: I&apos;d like to welcome you to this course on computer science."><code onclick="Z(this)">0:00:14</code>PROFESSOR: I'd like to welcome you to this course on computer science.</span><span s="28" t="Actually, that&apos;s a terrible way to start. Computer science is a terrible name for this business. First of all, it&apos;s not a science. It might be engineering or it might be art, but we&apos;ll"><code onclick="Z(this)">0:00:28</code>Actually, that's a terrible way to start. Computer science is a terrible name for this business. First of all, it's not a science. It might be engineering or it might be art, but we'll</span><span s="40" t="actually see that computer so-called science actually has a lot in common with magic, and we&apos;ll see that in this course. So it&apos;s not a science. It&apos;s also not really very much about computers."><code onclick="Z(this)">0:00:40</code>actually see that computer so-called science actually has a lot in common with magic, and we'll see that in this course. So it's not a science. It's also not really very much about computers.</span><span s="53" t="And it&apos;s not about computers in the same sense that physics is not really about particle accelerators, and biology is"><code onclick="Z(this)">0:00:53</code>And it's not about computers in the same sense that physics is not really about particle accelerators, and biology is</span><span s="62" t="not really about microscopes and petri dishes. And it&apos;s not about computers in the same sense that geometry is not really about using surveying instruments."><code onclick="Z(this)">0:01:02</code>not really about microscopes and petri dishes. And it's not about computers in the same sense that geometry is not really about using surveying instruments.</span><span s="76" t="In fact, there&apos;s a lot of commonality between computer science and geometry. Geometry, first of all, is another subject with a lousy name."><code onclick="Z(this)">0:01:16</code>In fact, there's a lot of commonality between computer science and geometry. Geometry, first of all, is another subject with a lousy name.</span><span s="85" t="The name comes from Gaia, meaning the Earth, and metron, meaning to measure. Geometry originally meant measuring the Earth or surveying."><code onclick="Z(this)">0:01:25</code>The name comes from Gaia, meaning the Earth, and metron, meaning to measure. Geometry originally meant measuring the Earth or surveying.</span><span s="94" t="And the reason for that was that, thousands of years ago, the Egyptian priesthood developed the rudiments of geometry in order to figure out how to restore the"><code onclick="Z(this)">0:01:34</code>And the reason for that was that, thousands of years ago, the Egyptian priesthood developed the rudiments of geometry in order to figure out how to restore the</span><span s="105" t="boundaries of fields that were destroyed in the annual flooding of the Nile. And to the Egyptians who did that, geometry really was the use of surveying instruments."><code onclick="Z(this)">0:01:45</code>boundaries of fields that were destroyed in the annual flooding of the Nile. And to the Egyptians who did that, geometry really was the use of surveying instruments.</span><span s="115" t="Now, the reason that we think computer science is about computers is pretty much the same reason that the Egyptians thought geometry was about surveying instruments."><code onclick="Z(this)">0:01:55</code>Now, the reason that we think computer science is about computers is pretty much the same reason that the Egyptians thought geometry was about surveying instruments.</span><span s="124" t="And that is, when some field is just getting started and you don&apos;t really understand it very well, it&apos;s very easy to confuse the essence of what you&apos;re doing with the tools"><code onclick="Z(this)">0:02:04</code>And that is, when some field is just getting started and you don't really understand it very well, it's very easy to confuse the essence of what you're doing with the tools</span><span s="135" t="that you use. And indeed, on some absolute scale of things, we probably know less about the essence of computer science than the"><code onclick="Z(this)">0:02:15</code>that you use. And indeed, on some absolute scale of things, we probably know less about the essence of computer science than the</span><span s="145" t="ancient Egyptians really knew about geometry. Well, what do I mean by the essence of computer science? What do I mean by the essence of geometry?"><code onclick="Z(this)">0:02:25</code>ancient Egyptians really knew about geometry. Well, what do I mean by the essence of computer science? What do I mean by the essence of geometry?</span><span s="154" t="See, it&apos;s certainly true that these Egyptians went off and used surveying instruments, but when we look back on them after a couple of thousand years, we say, gee, what they were doing, the important stuff they were doing, was to"><code onclick="Z(this)">0:02:34</code>See, it's certainly true that these Egyptians went off and used surveying instruments, but when we look back on them after a couple of thousand years, we say, gee, what they were doing, the important stuff they were doing, was to</span><span s="165" t="begin to formalize notions about space and time, to start a way of talking about mathematical truths formally."><code onclick="Z(this)">0:02:45</code>begin to formalize notions about space and time, to start a way of talking about mathematical truths formally.</span><span s="177" t="That led to the axiomatic method. That led to sort of all of modern mathematics, figuring out a way to talk precisely about so-called declarative"><code onclick="Z(this)">0:02:57</code>That led to the axiomatic method. That led to sort of all of modern mathematics, figuring out a way to talk precisely about so-called declarative</span><span s="188" t="knowledge, what is true. Well, similarly, I think in the future people will look back and say, yes, those primitives in the 20th century"><code onclick="Z(this)">0:03:08</code>knowledge, what is true. Well, similarly, I think in the future people will look back and say, yes, those primitives in the 20th century</span><span s="198" t="were fiddling around with these gadgets called computers, but really what they were doing is starting to learn how to formalize intuitions about process, how"><code onclick="Z(this)">0:03:18</code>were fiddling around with these gadgets called computers, but really what they were doing is starting to learn how to formalize intuitions about process, how</span><span s="212" t="to do things, starting to develop a way to talk"><code onclick="Z(this)">0:03:32</code>to do things, starting to develop a way to talk</span><span s="227" t="precisely about how-to knowledge, as opposed to geometry that talks about what is true."><code onclick="Z(this)">0:03:47</code>precisely about how-to knowledge, as opposed to geometry that talks about what is true.</span><span s="236" t="Let me give you an example of that. Let&apos;s take a look. Here is a piece of mathematics that says what"><code onclick="Z(this)">0:03:56</code>Let me give you an example of that. Let's take a look. Here is a piece of mathematics that says what</span><span s="248" t="a square root is. The square root of X is the number Y, such that Y squared"><code onclick="Z(this)">0:04:08</code>a square root is. The square root of X is the number Y, such that Y squared</span><span s="257" t="is equal to X and Y is greater than 0. Now, that&apos;s a fine piece of mathematics, but just telling you what a square root is doesn&apos;t really say anything"><code onclick="Z(this)">0:04:17</code>is equal to X and Y is greater than 0. Now, that's a fine piece of mathematics, but just telling you what a square root is doesn't really say anything</span><span s="266" t="about how you might go out and find one. So let&apos;s contrast that with a piece of imperative knowledge,"><code onclick="Z(this)">0:04:26</code>about how you might go out and find one. So let's contrast that with a piece of imperative knowledge,</span><span s="277" t="how you might go out and find a square root. This, in fact, also comes from Egypt, not ancient, ancient Egypt. This is an algorithm due to Heron of Alexandria, called"><code onclick="Z(this)">0:04:37</code>how you might go out and find a square root. This, in fact, also comes from Egypt, not ancient, ancient Egypt. This is an algorithm due to Heron of Alexandria, called</span><span s="290" t="how to find a square root by successive averaging. And what it says is that, in order to find a square root,"><code onclick="Z(this)">0:04:50</code>how to find a square root by successive averaging. And what it says is that, in order to find a square root,</span><span s="303" t="you make a guess, you improve that guess-- and the way you improve the guess is to average the guess"><code onclick="Z(this)">0:05:03</code>you make a guess, you improve that guess-- and the way you improve the guess is to average the guess</span><span s="312" t="and X over the guess, and we&apos;ll talk a little bit later about why that&apos;s a reasonable thing-- and you keep improving the guess until it&apos;s good enough. That&apos;s a method. That&apos;s how to do something as opposed to declarative"><code onclick="Z(this)">0:05:12</code>and X over the guess, and we'll talk a little bit later about why that's a reasonable thing-- and you keep improving the guess until it's good enough. That's a method. That's how to do something as opposed to declarative</span><span s="325" t="knowledge that says what you&apos;re looking for. That&apos;s a process."><code onclick="Z(this)">0:05:25</code>knowledge that says what you're looking for. That's a process.</span><span s="334" t="Well, what&apos;s a process in general? It&apos;s kind of hard to say. You can think of it as like a magical spirit that sort of"><code onclick="Z(this)">0:05:34</code>Well, what's a process in general? It's kind of hard to say. You can think of it as like a magical spirit that sort of</span><span s="345" t="lives in the computer and does something. And the thing that directs a process is a pattern of rules"><code onclick="Z(this)">0:05:45</code>lives in the computer and does something. And the thing that directs a process is a pattern of rules</span><span s="356" t="called a procedure. So procedures are the spells, if you like, that control"><code onclick="Z(this)">0:05:56</code>called a procedure. So procedures are the spells, if you like, that control</span><span s="365" t="these magical spirits that are the processes. I guess you know everyone needs a magical language, and sorcerers, real sorcerers, use ancient Arcadian or Sumerian"><code onclick="Z(this)">0:06:05</code>these magical spirits that are the processes. I guess you know everyone needs a magical language, and sorcerers, real sorcerers, use ancient Arcadian or Sumerian</span><span s="377" t="or Babylonian or whatever. We&apos;re going to conjure our spirits in a magical language called Lisp, which is a language designed for talking"><code onclick="Z(this)">0:06:17</code>or Babylonian or whatever. We're going to conjure our spirits in a magical language called Lisp, which is a language designed for talking</span><span s="386" t="about, for casting the spells that are procedures to direct the processes. Now, it&apos;s very easy to learn Lisp. In fact, in a few minutes, I&apos;m going to teach you,"><code onclick="Z(this)">0:06:26</code>about, for casting the spells that are procedures to direct the processes. Now, it's very easy to learn Lisp. In fact, in a few minutes, I'm going to teach you,</span><span s="395" t="essentially, all of Lisp. I&apos;m going to teach you, essentially, all of the rules. And you shouldn&apos;t find that particularly surprising. That&apos;s sort of like saying it&apos;s very easy to learn the"><code onclick="Z(this)">0:06:35</code>essentially, all of Lisp. I'm going to teach you, essentially, all of the rules. And you shouldn't find that particularly surprising. That's sort of like saying it's very easy to learn the</span><span s="406" t="rules of chess. And indeed, in a few minutes, you can tell somebody the rules of chess. But of course, that&apos;s very different from saying you understand the implications of those rules and how to use"><code onclick="Z(this)">0:06:46</code>rules of chess. And indeed, in a few minutes, you can tell somebody the rules of chess. But of course, that's very different from saying you understand the implications of those rules and how to use</span><span s="415" t="those rules to become a masterful chess player. Well, Lisp is the same way. We&apos;re going to state the rules in a few minutes, and it&apos;ll be very easy to see. But what&apos;s really hard is going to be the implications"><code onclick="Z(this)">0:06:55</code>those rules to become a masterful chess player. Well, Lisp is the same way. We're going to state the rules in a few minutes, and it'll be very easy to see. But what's really hard is going to be the implications</span><span s="426" t="of those rules, how you exploit those rules to be a master programmer. And the implications of those rules are going to take us"><code onclick="Z(this)">0:07:06</code>of those rules, how you exploit those rules to be a master programmer. And the implications of those rules are going to take us</span><span s="435" t="the, well, the whole rest of the subject and, of course, way beyond. OK, so in computer science, we&apos;re in the business of"><code onclick="Z(this)">0:07:15</code>the, well, the whole rest of the subject and, of course, way beyond. OK, so in computer science, we're in the business of</span><span s="446" t="formalizing this sort of how-to imperative knowledge, how to do stuff. And the real issues of computer science are, of"><code onclick="Z(this)">0:07:26</code>formalizing this sort of how-to imperative knowledge, how to do stuff. And the real issues of computer science are, of</span><span s="455" t="course, not telling people how to do square roots. Because if that was all it was, there wouldn&apos;t be no big deal. The real problems come when we try to build very, very large"><code onclick="Z(this)">0:07:35</code>course, not telling people how to do square roots. Because if that was all it was, there wouldn't be no big deal. The real problems come when we try to build very, very large</span><span s="465" t="systems, computer programs that are thousands of pages long, so long that nobody can really hold them in their heads all at once."><code onclick="Z(this)">0:07:45</code>systems, computer programs that are thousands of pages long, so long that nobody can really hold them in their heads all at once.</span><span s="474" t="And the only reason that that&apos;s possible is because there are techniques for controlling the complexity of"><code onclick="Z(this)">0:07:54</code>And the only reason that that's possible is because there are techniques for controlling the complexity of</span><span s="497" t="these large systems. And these techniques that are controlling complexity are what this course is really about. And in some sense, that&apos;s really what"><code onclick="Z(this)">0:08:17</code>these large systems. And these techniques that are controlling complexity are what this course is really about. And in some sense, that's really what</span><span s="506" t="computer science is about. Now, that may seem like a very strange thing to say. Because after all, a lot of people besides computer scientists deal with controlling complexity."><code onclick="Z(this)">0:08:26</code>computer science is about. Now, that may seem like a very strange thing to say. Because after all, a lot of people besides computer scientists deal with controlling complexity.</span><span s="517" t="A large airliner is an extremely complex system, and the aeronautical engineers who design that are dealing with immense complexity."><code onclick="Z(this)">0:08:37</code>A large airliner is an extremely complex system, and the aeronautical engineers who design that are dealing with immense complexity.</span><span s="527" t="But there&apos;s a difference between that kind of complexity and what we deal with in computer science. And that is that computer science, in some"><code onclick="Z(this)">0:08:47</code>But there's a difference between that kind of complexity and what we deal with in computer science. And that is that computer science, in some</span><span s="537" t="sense, isn&apos;t real. You see, when an engineer is designing a physical system,"><code onclick="Z(this)">0:08:57</code>sense, isn't real. You see, when an engineer is designing a physical system,</span><span s="547" t="that&apos;s made out of real parts. The engineers who worry about that have to address problems of tolerance and approximation and noise in the system."><code onclick="Z(this)">0:09:07</code>that's made out of real parts. The engineers who worry about that have to address problems of tolerance and approximation and noise in the system.</span><span s="556" t="So for example, as an electrical engineer, I can go off and easily build a one-stage amplifier or a two-stage amplifier, and I can imagine cascading a lot of"><code onclick="Z(this)">0:09:16</code>So for example, as an electrical engineer, I can go off and easily build a one-stage amplifier or a two-stage amplifier, and I can imagine cascading a lot of</span><span s="565" t="them to build a million-stage amplifier. But it&apos;s ridiculous to build such a thing, because long before the millionth stage, the thermal noise in those components way at the beginning is going to get"><code onclick="Z(this)">0:09:25</code>them to build a million-stage amplifier. But it's ridiculous to build such a thing, because long before the millionth stage, the thermal noise in those components way at the beginning is going to get</span><span s="574" t="amplified and make the whole thing meaningless. Computer science deals with idealized components."><code onclick="Z(this)">0:09:34</code>amplified and make the whole thing meaningless. Computer science deals with idealized components.</span><span s="584" t="We know as much as we want about these little program and data pieces that we&apos;re fitting things together. We don&apos;t have to worry about tolerance."><code onclick="Z(this)">0:09:44</code>We know as much as we want about these little program and data pieces that we're fitting things together. We don't have to worry about tolerance.</span><span s="593" t="And that means that, in building a large program, there&apos;s not all that much difference between what I can build and what I can imagine, because the parts are these"><code onclick="Z(this)">0:09:53</code>And that means that, in building a large program, there's not all that much difference between what I can build and what I can imagine, because the parts are these</span><span s="606" t="abstract entities that I know as much as I want. I know about them as precisely as I&apos;d like. So as opposed to other kinds of engineering, where the"><code onclick="Z(this)">0:10:06</code>abstract entities that I know as much as I want. I know about them as precisely as I'd like. So as opposed to other kinds of engineering, where the</span><span s="615" t="constraints on what you can build are the constraints of physical systems, the constraints of physics and noise and approximation, the constraints imposed in"><code onclick="Z(this)">0:10:15</code>constraints on what you can build are the constraints of physical systems, the constraints of physics and noise and approximation, the constraints imposed in</span><span s="624" t="building large software systems are the limitations of our own minds. So in that sense, computer science is like an abstract form of engineering."><code onclick="Z(this)">0:10:24</code>building large software systems are the limitations of our own minds. So in that sense, computer science is like an abstract form of engineering.</span><span s="633" t="It&apos;s the kind of engineering where you ignore the constraints that are imposed by reality."><code onclick="Z(this)">0:10:33</code>It's the kind of engineering where you ignore the constraints that are imposed by reality.</span><span s="642" t="Well, what are some of these techniques? They&apos;re not special to computer science. First technique, which is used in all of engineering, is a"><code onclick="Z(this)">0:10:42</code>Well, what are some of these techniques? They're not special to computer science. First technique, which is used in all of engineering, is a</span><span s="654" t="kind of abstraction called black-box abstraction."><code onclick="Z(this)">0:10:54</code>kind of abstraction called black-box abstraction.</span><span s="667" t="Take something and build a box about it. Let&apos;s see, for example, if we looked at that square root"><code onclick="Z(this)">0:11:07</code>Take something and build a box about it. Let's see, for example, if we looked at that square root</span><span s="679" t="method, I might want to take that and build a box."><code onclick="Z(this)">0:11:19</code>method, I might want to take that and build a box.</span><span s="689" t="That sort of says, to find the square root of X. And that"><code onclick="Z(this)">0:11:29</code>That sort of says, to find the square root of X. And that</span><span s="698" t="might be a whole complicated set of rules. And that might end up being a kind of thing where I can put in, say, 36 and say, what&apos;s the square root of 36?"><code onclick="Z(this)">0:11:38</code>might be a whole complicated set of rules. And that might end up being a kind of thing where I can put in, say, 36 and say, what's the square root of 36?</span><span s="710" t="And out comes six. And the important thing is that I&apos;d like to design that"><code onclick="Z(this)">0:11:50</code>And out comes six. And the important thing is that I'd like to design that</span><span s="719" t="so that if George comes along and would like to compute, say, the square root of A plus the square root of B, he can"><code onclick="Z(this)">0:11:59</code>so that if George comes along and would like to compute, say, the square root of A plus the square root of B, he can</span><span s="731" t="take this thing and use it as a module without having to look inside and build something that looks like this, like an A and a B and a square root box and another"><code onclick="Z(this)">0:12:11</code>take this thing and use it as a module without having to look inside and build something that looks like this, like an A and a B and a square root box and another</span><span s="744" t="square root box and then something that adds that would put out the answer."><code onclick="Z(this)">0:12:24</code>square root box and then something that adds that would put out the answer.</span><span s="753" t="And you can see, just from the fact that I want to do that, is from George&apos;s point of view, the internals of what&apos;s in here should not be important."><code onclick="Z(this)">0:12:33</code>And you can see, just from the fact that I want to do that, is from George's point of view, the internals of what's in here should not be important.</span><span s="764" t="So for instance, it shouldn&apos;t matter that, when I wrote this, I said I want to find the square root of X. I could have said the square root of Y, or the square root of A, or"><code onclick="Z(this)">0:12:44</code>So for instance, it shouldn't matter that, when I wrote this, I said I want to find the square root of X. I could have said the square root of Y, or the square root of A, or</span><span s="774" t="anything at all. That&apos;s the fundamental notion of putting something in a box"><code onclick="Z(this)">0:12:54</code>anything at all. That's the fundamental notion of putting something in a box</span><span s="783" t="using black-box abstraction to suppress detail. And the reason for that is you want to go off and build bigger boxes. Now, there&apos;s another reason for doing black-box"><code onclick="Z(this)">0:13:03</code>using black-box abstraction to suppress detail. And the reason for that is you want to go off and build bigger boxes. Now, there's another reason for doing black-box</span><span s="793" t="abstraction other than you want to suppress detail for building bigger boxes. Sometimes you want to say that your way of doing something,"><code onclick="Z(this)">0:13:13</code>abstraction other than you want to suppress detail for building bigger boxes. Sometimes you want to say that your way of doing something,</span><span s="804" t="your how-to method, is an instance of a more general thing, and you&apos;d like your language to be able to express"><code onclick="Z(this)">0:13:24</code>your how-to method, is an instance of a more general thing, and you'd like your language to be able to express</span><span s="813" t="that generality. Let me show you another example sticking with square roots. Let&apos;s go back and take another look at that slide with the"><code onclick="Z(this)">0:13:33</code>that generality. Let me show you another example sticking with square roots. Let's go back and take another look at that slide with the</span><span s="822" t="square root algorithm on it. Remember what that says. That says, in order to do something, I make a guess, and I improve that guess, and I sort of keep"><code onclick="Z(this)">0:13:42</code>square root algorithm on it. Remember what that says. That says, in order to do something, I make a guess, and I improve that guess, and I sort of keep</span><span s="833" t="improving that guess. So there&apos;s the general strategy of, I&apos;m looking for something, and the way I find it is that I"><code onclick="Z(this)">0:13:53</code>improving that guess. So there's the general strategy of, I'm looking for something, and the way I find it is that I</span><span s="842" t="keep improving it. Now, that&apos;s a particular case of another kind of strategy for finding a fixed point of something."><code onclick="Z(this)">0:14:02</code>keep improving it. Now, that's a particular case of another kind of strategy for finding a fixed point of something.</span><span s="854" t="So you have a fixed point of a function. A fixed point of a function is something, is a value."><code onclick="Z(this)">0:14:14</code>So you have a fixed point of a function. A fixed point of a function is something, is a value.</span><span s="866" t="A fixed point of a function F is a value Y, such that F of Y equals Y. And the way I might do that is start with a guess."><code onclick="Z(this)">0:14:26</code>A fixed point of a function F is a value Y, such that F of Y equals Y. And the way I might do that is start with a guess.</span><span s="881" t="And then if I want something that doesn&apos;t change when I keep applying F, is I&apos;ll keep applying F over and over until that result doesn&apos;t change very much."><code onclick="Z(this)">0:14:41</code>And then if I want something that doesn't change when I keep applying F, is I'll keep applying F over and over until that result doesn't change very much.</span><span s="890" t="So there&apos;s a general strategy. And then, for example, to compute the square root of X, I can try and find a fixed point of the function which"><code onclick="Z(this)">0:14:50</code>So there's a general strategy. And then, for example, to compute the square root of X, I can try and find a fixed point of the function which</span><span s="900" t="takes Y to the average of X/Y. And the idea that is that if I really had Y equal to the square root of X, then Y and"><code onclick="Z(this)">0:15:00</code>takes Y to the average of X/Y. And the idea that is that if I really had Y equal to the square root of X, then Y and</span><span s="909" t="X/Y would be the same value. They&apos;d both be the square root of X, because X over the square root of X is the square root of X."><code onclick="Z(this)">0:15:09</code>X/Y would be the same value. They'd both be the square root of X, because X over the square root of X is the square root of X.</span><span s="919" t="And so the average if Y were equal to the square of X, then the average wouldn&apos;t change. So the square root of X is a fixed point of that particular function."><code onclick="Z(this)">0:15:19</code>And so the average if Y were equal to the square of X, then the average wouldn't change. So the square root of X is a fixed point of that particular function.</span><span s="930" t="Now, what I&apos;d like to have, I&apos;d like to express the general strategy for finding fixed points. So what I might imagine doing, is to find, is to be able to use my language to define a box that says &quot;fixed point,&quot; just like I could make a box that says &quot;square root.&quot; And I&apos;d like to be able to express this in my language."><code onclick="Z(this)">0:15:30</code>Now, what I'd like to have, I'd like to express the general strategy for finding fixed points. So what I might imagine doing, is to find, is to be able to use my language to define a box that says "fixed point," just like I could make a box that says "square root." And I'd like to be able to express this in my language.</span><span s="956" t="So I&apos;d like to express not only the imperative how-to knowledge of a particular thing like square root, but I&apos;d like to be able to express the imperative knowledge of"><code onclick="Z(this)">0:15:56</code>So I'd like to express not only the imperative how-to knowledge of a particular thing like square root, but I'd like to be able to express the imperative knowledge of</span><span s="965" t="how to do a general thing like how to find fixed point. And in fact, let&apos;s go back and look at that slide again."><code onclick="Z(this)">0:16:05</code>how to do a general thing like how to find fixed point. And in fact, let's go back and look at that slide again.</span><span s="975" t="See, not only is this a piece of imperative knowledge, how to find a fixed point, but over here on the bottom,"><code onclick="Z(this)">0:16:15</code>See, not only is this a piece of imperative knowledge, how to find a fixed point, but over here on the bottom,</span><span s="987" t="there&apos;s another piece of imperative knowledge which says, one way to compute square root is to apply this general fixed point method."><code onclick="Z(this)">0:16:27</code>there's another piece of imperative knowledge which says, one way to compute square root is to apply this general fixed point method.</span><span s="996" t="So I&apos;d like to also be able to express that imperative knowledge. What would that look like? That would say, this fixed point box is such that if I"><code onclick="Z(this)">0:16:36</code>So I'd like to also be able to express that imperative knowledge. What would that look like? That would say, this fixed point box is such that if I</span><span s="1006" t="input to it the function that takes Y to the average of Y"><code onclick="Z(this)">0:16:46</code>input to it the function that takes Y to the average of Y</span><span s="1016" t="and X/Y, then what should come out of that fixed point box is a method for finding square roots."><code onclick="Z(this)">0:16:56</code>and X/Y, then what should come out of that fixed point box is a method for finding square roots.</span><span s="1028" t="So in these boxes we&apos;re building, we&apos;re not only building boxes that you input numbers and output numbers, we&apos;re going to be building in boxes that, in effect, compute"><code onclick="Z(this)">0:17:08</code>So in these boxes we're building, we're not only building boxes that you input numbers and output numbers, we're going to be building in boxes that, in effect, compute</span><span s="1039" t="methods like finding square root. And my take is their inputs functions, like Y goes to the average of Y and X/Y. The reason we want to do that, the"><code onclick="Z(this)">0:17:19</code>methods like finding square root. And my take is their inputs functions, like Y goes to the average of Y and X/Y. The reason we want to do that, the</span><span s="1052" t="reason this is a procedure, will end up being a procedure, as we&apos;ll see, whose value is another procedure, the reason we want to do that is because procedures are going to be our"><code onclick="Z(this)">0:17:32</code>reason this is a procedure, will end up being a procedure, as we'll see, whose value is another procedure, the reason we want to do that is because procedures are going to be our</span><span s="1062" t="ways of talking about imperative knowledge. And the way to make that very powerful is to be able to talk about other kinds of knowledge."><code onclick="Z(this)">0:17:42</code>ways of talking about imperative knowledge. And the way to make that very powerful is to be able to talk about other kinds of knowledge.</span><span s="1073" t="So here is a procedure that, in effect, talks about another procedure, a general strategy that itself talks about general strategies."><code onclick="Z(this)">0:17:53</code>So here is a procedure that, in effect, talks about another procedure, a general strategy that itself talks about general strategies.</span><span s="1084" t="Well, our first topic in this course-- there&apos;ll be three major topics-- will be black-box abstraction. Let&apos;s look at that in a little bit more detail."><code onclick="Z(this)">0:18:04</code>Well, our first topic in this course-- there'll be three major topics-- will be black-box abstraction. Let's look at that in a little bit more detail.</span><span s="1095" t="What we&apos;re going to do is we will start out talking about how Lisp is built up out of primitive objects."><code onclick="Z(this)">0:18:15</code>What we're going to do is we will start out talking about how Lisp is built up out of primitive objects.</span><span s="1107" t="What does the language supply with us? And we&apos;ll see that there are primitive procedures and primitive data. Then we&apos;re going to see, how do you take those primitives"><code onclick="Z(this)">0:18:27</code>What does the language supply with us? And we'll see that there are primitive procedures and primitive data. Then we're going to see, how do you take those primitives</span><span s="1118" t="and combine them to make more complicated things, means of combination? And what we&apos;ll see is that there are ways of putting things together, putting primitive procedures together"><code onclick="Z(this)">0:18:38</code>and combine them to make more complicated things, means of combination? And what we'll see is that there are ways of putting things together, putting primitive procedures together</span><span s="1127" t="to make more complicated procedures. And we&apos;ll see how to put primitive data together to make compound data. Then we&apos;ll say, well, having made those compounds things,"><code onclick="Z(this)">0:18:47</code>to make more complicated procedures. And we'll see how to put primitive data together to make compound data. Then we'll say, well, having made those compounds things,</span><span s="1139" t="how do you abstract them? How do you put those black boxes around them so you can use them as components in more complex things?"><code onclick="Z(this)">0:18:59</code>how do you abstract them? How do you put those black boxes around them so you can use them as components in more complex things?</span><span s="1148" t="And we&apos;ll see that&apos;s done by defining procedures and a technique for dealing with compound data called data abstraction. And then, what&apos;s maybe the most important thing, is going"><code onclick="Z(this)">0:19:08</code>And we'll see that's done by defining procedures and a technique for dealing with compound data called data abstraction. And then, what's maybe the most important thing, is going</span><span s="1159" t="from just the rules to how does an expert work? How do you express common patterns of doing things, like saying, well, there&apos;s a general method of fixed point"><code onclick="Z(this)">0:19:19</code>from just the rules to how does an expert work? How do you express common patterns of doing things, like saying, well, there's a general method of fixed point</span><span s="1168" t="and square root is a particular case of that? And we&apos;re going to use-- I&apos;ve already hinted at it-- something called higher-order procedures, namely procedures whose inputs and outputs are"><code onclick="Z(this)">0:19:28</code>and square root is a particular case of that? And we're going to use-- I've already hinted at it-- something called higher-order procedures, namely procedures whose inputs and outputs are</span><span s="1180" t="themselves procedures. And then we&apos;ll also see something very interesting. We&apos;ll see, as we go further and further on and become more abstract, there&apos;ll be very--"><code onclick="Z(this)">0:19:40</code>themselves procedures. And then we'll also see something very interesting. We'll see, as we go further and further on and become more abstract, there'll be very--</span><span s="1190" t="well, the line between what we consider to be data and what we consider to be procedures is going to blur at an incredible rate."><code onclick="Z(this)">0:19:50</code>well, the line between what we consider to be data and what we consider to be procedures is going to blur at an incredible rate.</span><span s="1203" t="Well, that&apos;s our first subject, black-box abstraction. Let&apos;s look at the second topic. I can introduce it like this."><code onclick="Z(this)">0:20:03</code>Well, that's our first subject, black-box abstraction. Let's look at the second topic. I can introduce it like this.</span><span s="1213" t="See, suppose I want to express the idea-- remember, we&apos;re talking about ideas--"><code onclick="Z(this)">0:20:13</code>See, suppose I want to express the idea-- remember, we're talking about ideas--</span><span s="1222" t="suppose I want to express the idea that I can take something and multiply it by the sum of two other things."><code onclick="Z(this)">0:20:22</code>suppose I want to express the idea that I can take something and multiply it by the sum of two other things.</span><span s="1236" t="So for example, I might say, if I had one and three and multiply that by two, I get eight. But I&apos;m talking about the general idea of what&apos;s called linear combination, that you can add two things and"><code onclick="Z(this)">0:20:36</code>So for example, I might say, if I had one and three and multiply that by two, I get eight. But I'm talking about the general idea of what's called linear combination, that you can add two things and</span><span s="1246" t="multiply them by something else. It&apos;s very easy when I think about it for numbers, but suppose I also want to use that same idea to think about,"><code onclick="Z(this)">0:20:46</code>multiply them by something else. It's very easy when I think about it for numbers, but suppose I also want to use that same idea to think about,</span><span s="1256" t="I could add two vectors, a1 and a2, and then scale them by some factor x and get another vector. Or I might say, I want to think about a1 and a2 as being"><code onclick="Z(this)">0:20:56</code>I could add two vectors, a1 and a2, and then scale them by some factor x and get another vector. Or I might say, I want to think about a1 and a2 as being</span><span s="1268" t="polynomials, and I might want to add those two polynomials and then multiply them by two to get a more complicated one."><code onclick="Z(this)">0:21:08</code>polynomials, and I might want to add those two polynomials and then multiply them by two to get a more complicated one.</span><span s="1280" t="Or a1 and a2 might be electrical signals, and I might want to think about summing those two electrical signals and then putting the whole thing through an"><code onclick="Z(this)">0:21:20</code>Or a1 and a2 might be electrical signals, and I might want to think about summing those two electrical signals and then putting the whole thing through an</span><span s="1289" t="amplifier, multiplying it by some factor of two or something. The idea is I want to think about the general notion of that."><code onclick="Z(this)">0:21:29</code>amplifier, multiplying it by some factor of two or something. The idea is I want to think about the general notion of that.</span><span s="1298" t="Now, if our language is going to be good language for expressing those kind of general ideas, if I really,"><code onclick="Z(this)">0:21:38</code>Now, if our language is going to be good language for expressing those kind of general ideas, if I really,</span><span s="1307" t="really can do that, I&apos;d like to be able to say I&apos;m going to multiply by x the sum of a1 and a2, and I&apos;d like that to"><code onclick="Z(this)">0:21:47</code>really can do that, I'd like to be able to say I'm going to multiply by x the sum of a1 and a2, and I'd like that to</span><span s="1323" t="express the general idea of all different kinds of things that a1 and a2 could be. Now, if you think about that, there&apos;s a problem, because after all, the actual primitive operations that go"><code onclick="Z(this)">0:22:03</code>express the general idea of all different kinds of things that a1 and a2 could be. Now, if you think about that, there's a problem, because after all, the actual primitive operations that go</span><span s="1336" t="on in the machine are obviously going to be different if I&apos;m adding two numbers than if I&apos;m adding two polynomials, or if I&apos;m adding the representation of two"><code onclick="Z(this)">0:22:16</code>on in the machine are obviously going to be different if I'm adding two numbers than if I'm adding two polynomials, or if I'm adding the representation of two</span><span s="1345" t="electrical signals or wave forms. Somewhere, there has to be the knowledge of the kinds of various things that you can add and the ways of adding them."><code onclick="Z(this)">0:22:25</code>electrical signals or wave forms. Somewhere, there has to be the knowledge of the kinds of various things that you can add and the ways of adding them.</span><span s="1357" t="Now, to construct such a system, the question is, where do I put that knowledge? How do I think about the different kinds of choices I have? And if tomorrow George comes up with a new kind of object"><code onclick="Z(this)">0:22:37</code>Now, to construct such a system, the question is, where do I put that knowledge? How do I think about the different kinds of choices I have? And if tomorrow George comes up with a new kind of object</span><span s="1368" t="that might be added and multiplied, how do I add George&apos;s new object to the system without screwing up everything that was already there?"><code onclick="Z(this)">0:22:48</code>that might be added and multiplied, how do I add George's new object to the system without screwing up everything that was already there?</span><span s="1377" t="Well, that&apos;s going to be the second big topic, the way of controlling that kind of complexity. And the way you do that is by establishing conventional"><code onclick="Z(this)">0:22:57</code>Well, that's going to be the second big topic, the way of controlling that kind of complexity. And the way you do that is by establishing conventional</span><span s="1387" t="interfaces, agreed upon ways of plugging things together."><code onclick="Z(this)">0:23:07</code>interfaces, agreed upon ways of plugging things together.</span><span s="1400" t="Just like in electrical engineering, people have standard impedances for connectors, and then you know if you build something with one of those standard impedances, you can plug it together with something else."><code onclick="Z(this)">0:23:20</code>Just like in electrical engineering, people have standard impedances for connectors, and then you know if you build something with one of those standard impedances, you can plug it together with something else.</span><span s="1412" t="So that&apos;s going to be our second large topic, conventional interfaces. What we&apos;re going to see is, first, we&apos;re going to talk about the problem of generic operations, which is the one I"><code onclick="Z(this)">0:23:32</code>So that's going to be our second large topic, conventional interfaces. What we're going to see is, first, we're going to talk about the problem of generic operations, which is the one I</span><span s="1421" t="alluded to, things like &quot;plus&quot; that have to work with all different kinds of data."><code onclick="Z(this)">0:23:41</code>alluded to, things like "plus" that have to work with all different kinds of data.</span><span s="1432" t="So we talk about generic operations. Then we&apos;re going to talk about really large-scale structures. How do you put together very large programs that model the"><code onclick="Z(this)">0:23:52</code>So we talk about generic operations. Then we're going to talk about really large-scale structures. How do you put together very large programs that model the</span><span s="1441" t="kinds of complex systems in the real world that you&apos;d like to model? And what we&apos;re going to see is that there are two very important metaphors for putting together such systems."><code onclick="Z(this)">0:24:01</code>kinds of complex systems in the real world that you'd like to model? And what we're going to see is that there are two very important metaphors for putting together such systems.</span><span s="1451" t="One is called object-oriented programming, where you sort of think of your system as a kind of society full of little things that interact by sending"><code onclick="Z(this)">0:24:11</code>One is called object-oriented programming, where you sort of think of your system as a kind of society full of little things that interact by sending</span><span s="1461" t="information between them. And then the second one is operations on aggregates, called streams, where you think of a large system put together kind of like a signal processing engineer puts"><code onclick="Z(this)">0:24:21</code>information between them. And then the second one is operations on aggregates, called streams, where you think of a large system put together kind of like a signal processing engineer puts</span><span s="1473" t="together a large electrical system. That&apos;s going to be our second topic."><code onclick="Z(this)">0:24:33</code>together a large electrical system. That's going to be our second topic.</span><span s="1483" t="Now, the third thing we&apos;re going to come to, the third basic technique for controlling complexity, is making new languages. Because sometimes, when you&apos;re sort of overwhelmed by the"><code onclick="Z(this)">0:24:43</code>Now, the third thing we're going to come to, the third basic technique for controlling complexity, is making new languages. Because sometimes, when you're sort of overwhelmed by the</span><span s="1494" t="complexity of a design, the way that you control that complexity is to pick a new design language. And the purpose of the new design language will be to"><code onclick="Z(this)">0:24:54</code>complexity of a design, the way that you control that complexity is to pick a new design language. And the purpose of the new design language will be to</span><span s="1503" t="highlight different aspects of the system. It will suppress some kinds of details and emphasize other kinds of details."><code onclick="Z(this)">0:25:03</code>highlight different aspects of the system. It will suppress some kinds of details and emphasize other kinds of details.</span><span s="1512" t="This is going to be the most magical part of the course. We&apos;re going to start out by actually looking at the technology for building new computer languages."><code onclick="Z(this)">0:25:12</code>This is going to be the most magical part of the course. We're going to start out by actually looking at the technology for building new computer languages.</span><span s="1521" t="The first thing we&apos;re going to do is actually build in Lisp. We&apos;re going to express in Lisp the process of interpreting"><code onclick="Z(this)">0:25:21</code>The first thing we're going to do is actually build in Lisp. We're going to express in Lisp the process of interpreting</span><span s="1532" t="Lisp itself. And that&apos;s going to be a very sort of self-circular thing. There&apos;s a little mystical symbol that has to do with that. The process of interpreting Lisp is sort of a giant wheel"><code onclick="Z(this)">0:25:32</code>Lisp itself. And that's going to be a very sort of self-circular thing. There's a little mystical symbol that has to do with that. The process of interpreting Lisp is sort of a giant wheel</span><span s="1545" t="of two processes, apply and eval, which sort of constantly reduce expressions to each other. Then we&apos;re going to see all sorts of other magical things."><code onclick="Z(this)">0:25:45</code>of two processes, apply and eval, which sort of constantly reduce expressions to each other. Then we're going to see all sorts of other magical things.</span><span s="1554" t="Here&apos;s another magical symbol. This is sort of the Y operator, which is, in some sense, the expression of infinity inside"><code onclick="Z(this)">0:25:54</code>Here's another magical symbol. This is sort of the Y operator, which is, in some sense, the expression of infinity inside</span><span s="1564" t="our procedural language. We&apos;ll take a look at that. In any case, this section of the course is called Metalinguistic Abstraction, abstracting by talking about"><code onclick="Z(this)">0:26:04</code>our procedural language. We'll take a look at that. In any case, this section of the course is called Metalinguistic Abstraction, abstracting by talking about</span><span s="1584" t="how you construct new languages. As I said, we&apos;re going to start out by looking at the"><code onclick="Z(this)">0:26:24</code>how you construct new languages. As I said, we're going to start out by looking at the</span><span s="1594" t="process of interpretation. We&apos;re going to look at this apply-eval loop, and build Lisp. Then, just to show you that this is very general, we&apos;re"><code onclick="Z(this)">0:26:34</code>process of interpretation. We're going to look at this apply-eval loop, and build Lisp. Then, just to show you that this is very general, we're</span><span s="1604" t="going to use exactly the same technology to build a very different kind of language, a so-called logic programming language, where you don&apos;t really talk about procedures at all that have inputs and outputs."><code onclick="Z(this)">0:26:44</code>going to use exactly the same technology to build a very different kind of language, a so-called logic programming language, where you don't really talk about procedures at all that have inputs and outputs.</span><span s="1614" t="What you do is talk about relations between things. And then finally, we&apos;re going to talk about how you implement these things very concretely on the very"><code onclick="Z(this)">0:26:54</code>What you do is talk about relations between things. And then finally, we're going to talk about how you implement these things very concretely on the very</span><span s="1624" t="simplest kind of machines. We&apos;ll see something like this. This is a picture of a chip, which is the Lisp interpreter"><code onclick="Z(this)">0:27:04</code>simplest kind of machines. We'll see something like this. This is a picture of a chip, which is the Lisp interpreter</span><span s="1634" t="that we will be talking about then in hardware. Well, there&apos;s an outline of the course, three big topics."><code onclick="Z(this)">0:27:14</code>that we will be talking about then in hardware. Well, there's an outline of the course, three big topics.</span><span s="1644" t="Black-box abstraction, conventional interfaces, metalinguistic abstraction. Now, let&apos;s take a break now and then we&apos;ll get started."><code onclick="Z(this)">0:27:24</code>Black-box abstraction, conventional interfaces, metalinguistic abstraction. Now, let's take a break now and then we'll get started.</span><span s="1653" t="[MUSIC PLAYING]"><code onclick="Z(this)">0:27:33</code>[MUSIC PLAYING]</span><span s="1684" t="Let&apos;s actually start in learning Lisp now. Actually, we&apos;ll start out by learning something much more important, maybe the very most important thing in this course, which is not Lisp, in particular, of course, but"><code onclick="Z(this)">0:28:04</code>Let's actually start in learning Lisp now. Actually, we'll start out by learning something much more important, maybe the very most important thing in this course, which is not Lisp, in particular, of course, but</span><span s="1696" t="rather a general framework for thinking about languages that I already alluded to. When somebody tells you they&apos;re going to show you a language, what you should say is, what I&apos;d like you to tell"><code onclick="Z(this)">0:28:16</code>rather a general framework for thinking about languages that I already alluded to. When somebody tells you they're going to show you a language, what you should say is, what I'd like you to tell</span><span s="1707" t="me is what are the primitive elements?"><code onclick="Z(this)">0:28:27</code>me is what are the primitive elements?</span><span s="1717" t="What does the language come with? Then, what are the ways you put those together? What are the means of combination?"><code onclick="Z(this)">0:28:37</code>What does the language come with? Then, what are the ways you put those together? What are the means of combination?</span><span s="1730" t="What are the things that allow you to take these primitive elements and build bigger things out of them? What are the ways of putting things together?"><code onclick="Z(this)">0:28:50</code>What are the things that allow you to take these primitive elements and build bigger things out of them? What are the ways of putting things together?</span><span s="1741" t="And then, what are the means of abstraction? How do we take those complicated things and draw"><code onclick="Z(this)">0:29:01</code>And then, what are the means of abstraction? How do we take those complicated things and draw</span><span s="1755" t="those boxes around them? How do we name them so that we can now use them as if they were primitive elements in making still more complex things? And so on, and so on, and so on."><code onclick="Z(this)">0:29:15</code>those boxes around them? How do we name them so that we can now use them as if they were primitive elements in making still more complex things? And so on, and so on, and so on.</span><span s="1766" t="So when someone says to you, gee, I have a great new computer language, you don&apos;t say, how many characters does it take to invert a matrix?"><code onclick="Z(this)">0:29:26</code>So when someone says to you, gee, I have a great new computer language, you don't say, how many characters does it take to invert a matrix?</span><span s="1775" t="It&apos;s irrelevant. What you say is, if the language did not come with matrices built in or with something else built in, how could I then build that thing?"><code onclick="Z(this)">0:29:35</code>It's irrelevant. What you say is, if the language did not come with matrices built in or with something else built in, how could I then build that thing?</span><span s="1785" t="What are the means of combination which would allow me to do that? And then, what are the means of abstraction which allow me then to use those as elements in making more complicated"><code onclick="Z(this)">0:29:45</code>What are the means of combination which would allow me to do that? And then, what are the means of abstraction which allow me then to use those as elements in making more complicated</span><span s="1795" t="things yet? Well, we&apos;re going to see that Lisp has some primitive data and some primitive procedures."><code onclick="Z(this)">0:29:55</code>things yet? Well, we're going to see that Lisp has some primitive data and some primitive procedures.</span><span s="1805" t="In fact, let&apos;s really start. And here&apos;s a piece of primitive data in Lisp, number three."><code onclick="Z(this)">0:30:05</code>In fact, let's really start. And here's a piece of primitive data in Lisp, number three.</span><span s="1816" t="Actually, if I&apos;m being very pedantic, that&apos;s not the number three. That&apos;s some symbol that represents Plato&apos;s concept of the number three."><code onclick="Z(this)">0:30:16</code>Actually, if I'm being very pedantic, that's not the number three. That's some symbol that represents Plato's concept of the number three.</span><span s="1827" t="And here&apos;s another. Here&apos;s some more primitive data in Lisp, 17.4. Or actually, some representation of 17.4."><code onclick="Z(this)">0:30:27</code>And here's another. Here's some more primitive data in Lisp, 17.4. Or actually, some representation of 17.4.</span><span s="1840" t="And here&apos;s another one, five. Here&apos;s another primitive object that&apos;s built in Lisp, addition."><code onclick="Z(this)">0:30:40</code>And here's another one, five. Here's another primitive object that's built in Lisp, addition.</span><span s="1852" t="Actually, to use the same kind of pedantic-- this is a name for the primitive method of adding things. Just like this is a name for Plato&apos;s number three, this is"><code onclick="Z(this)">0:30:52</code>Actually, to use the same kind of pedantic-- this is a name for the primitive method of adding things. Just like this is a name for Plato's number three, this is</span><span s="1862" t="a name for Plato&apos;s concept of how you add things. So those are some primitive elements."><code onclick="Z(this)">0:31:02</code>a name for Plato's concept of how you add things. So those are some primitive elements.</span><span s="1872" t="I can put them together. I can say, gee, what&apos;s the sum of three and 17.4 and five? And the way I do that is to say, let&apos;s apply the sum"><code onclick="Z(this)">0:31:12</code>I can put them together. I can say, gee, what's the sum of three and 17.4 and five? And the way I do that is to say, let's apply the sum</span><span s="1885" t="operator to these three numbers. And I should get, what? eight, 17. 25.4."><code onclick="Z(this)">0:31:25</code>operator to these three numbers. And I should get, what? eight, 17. 25.4.</span><span s="1894" t="So I should be able to ask Lisp what the value of this is, and it will return 25.4."><code onclick="Z(this)">0:31:34</code>So I should be able to ask Lisp what the value of this is, and it will return 25.4.</span><span s="1903" t="Let&apos;s introduce some names. This thing that I typed is called a combination."><code onclick="Z(this)">0:31:43</code>Let's introduce some names. This thing that I typed is called a combination.</span><span s="1916" t="And a combination consists, in general, of applying an operator-- so this is an operator--"><code onclick="Z(this)">0:31:56</code>And a combination consists, in general, of applying an operator-- so this is an operator--</span><span s="1929" t="to some operands. These are the operands."><code onclick="Z(this)">0:32:09</code>to some operands. These are the operands.</span><span s="1941" t="And of course, I can make more complex things. The reason I can get complexity out of this is because the operands themselves, in general, can be"><code onclick="Z(this)">0:32:21</code>And of course, I can make more complex things. The reason I can get complexity out of this is because the operands themselves, in general, can be</span><span s="1950" t="combinations. So for instance, I could say, what is the sum of three and the product of five and six and eight and two?"><code onclick="Z(this)">0:32:30</code>combinations. So for instance, I could say, what is the sum of three and the product of five and six and eight and two?</span><span s="1965" t="And I should get-- let&apos;s see-- 30, 40, 43. So Lisp should tell me that that&apos;s 43."><code onclick="Z(this)">0:32:45</code>And I should get-- let's see-- 30, 40, 43. So Lisp should tell me that that's 43.</span><span s="1976" t="Forming combinations is the basic needs of combination that we&apos;ll be looking at. And then, well, you see some syntax here."><code onclick="Z(this)">0:32:56</code>Forming combinations is the basic needs of combination that we'll be looking at. And then, well, you see some syntax here.</span><span s="1990" t="Lisp uses what&apos;s called prefix notation, which means that the operator is written to the left of the operands."><code onclick="Z(this)">0:33:10</code>Lisp uses what's called prefix notation, which means that the operator is written to the left of the operands.</span><span s="2005" t="It&apos;s just a convention. And notice, it&apos;s fully parenthesized. And the parentheses make it completely unambiguous. So by looking at this, I can see that there&apos;s the operator,"><code onclick="Z(this)">0:33:25</code>It's just a convention. And notice, it's fully parenthesized. And the parentheses make it completely unambiguous. So by looking at this, I can see that there's the operator,</span><span s="2016" t="and there are one, two, three, four operands. And I can see that the second operand here is itself some"><code onclick="Z(this)">0:33:36</code>and there are one, two, three, four operands. And I can see that the second operand here is itself some</span><span s="2026" t="combination that has one operator and two operands. Parentheses in Lisp are a little bit, or are very unlike"><code onclick="Z(this)">0:33:46</code>combination that has one operator and two operands. Parentheses in Lisp are a little bit, or are very unlike</span><span s="2035" t="parentheses in conventional mathematics. In mathematics, we sort of use them to mean grouping, and it sort of doesn&apos;t hurt if sometimes you leave out parentheses if people understand"><code onclick="Z(this)">0:33:55</code>parentheses in conventional mathematics. In mathematics, we sort of use them to mean grouping, and it sort of doesn't hurt if sometimes you leave out parentheses if people understand</span><span s="2044" t="that that&apos;s a group. And in general, it doesn&apos;t hurt if you put in extra parentheses, because that maybe makes the grouping more distinct. Lisp is not like that."><code onclick="Z(this)">0:34:04</code>that that's a group. And in general, it doesn't hurt if you put in extra parentheses, because that maybe makes the grouping more distinct. Lisp is not like that.</span><span s="2053" t="In Lisp, you cannot leave out parentheses, and you cannot put in extra parentheses, because putting in parentheses always means, exactly and precisely, this is a"><code onclick="Z(this)">0:34:13</code>In Lisp, you cannot leave out parentheses, and you cannot put in extra parentheses, because putting in parentheses always means, exactly and precisely, this is a</span><span s="2063" t="combination which has meaning, applying operators to operands. And if I left this out, if I left those parentheses out, it"><code onclick="Z(this)">0:34:23</code>combination which has meaning, applying operators to operands. And if I left this out, if I left those parentheses out, it</span><span s="2072" t="would mean something else. In fact, the way to think about this, is really what I&apos;m doing when I write something like this is writing a tree."><code onclick="Z(this)">0:34:32</code>would mean something else. In fact, the way to think about this, is really what I'm doing when I write something like this is writing a tree.</span><span s="2082" t="So this combination is a tree that has a plus and then a thee and then a something else and an eight and a two."><code onclick="Z(this)">0:34:42</code>So this combination is a tree that has a plus and then a thee and then a something else and an eight and a two.</span><span s="2094" t="And then this something else here is itself a little subtree that has a star and a five and a six."><code onclick="Z(this)">0:34:54</code>And then this something else here is itself a little subtree that has a star and a five and a six.</span><span s="2103" t="And the way to think of that is, really, what&apos;s going on are we&apos;re writing these trees, and parentheses are just a way"><code onclick="Z(this)">0:35:03</code>And the way to think of that is, really, what's going on are we're writing these trees, and parentheses are just a way</span><span s="2113" t="to write this two-dimensional structure as a linear character string. Because at least when Lisp first started and people had"><code onclick="Z(this)">0:35:13</code>to write this two-dimensional structure as a linear character string. Because at least when Lisp first started and people had</span><span s="2122" t="teletypes or punch cards or whatever, this was more convenient. Maybe if Lisp started today, the syntax of Lisp would look like that."><code onclick="Z(this)">0:35:22</code>teletypes or punch cards or whatever, this was more convenient. Maybe if Lisp started today, the syntax of Lisp would look like that.</span><span s="2131" t="Well, let&apos;s look at what that actually looks like on the computer. Here I have a Lisp interaction set up. There&apos;s a editor."><code onclick="Z(this)">0:35:31</code>Well, let's look at what that actually looks like on the computer. Here I have a Lisp interaction set up. There's a editor.</span><span s="2141" t="And on the top, I&apos;m going to type some values and ask Lisp what they are. So for instance, I can say to Lisp, what&apos;s the value of that symbol? That&apos;s three."><code onclick="Z(this)">0:35:41</code>And on the top, I'm going to type some values and ask Lisp what they are. So for instance, I can say to Lisp, what's the value of that symbol? That's three.</span><span s="2150" t="And I ask Lisp to evaluate it. And there you see Lisp has returned on the bottom, and said, oh yeah, that&apos;s three. Or I can say, what&apos;s the sum of three and four and eight?"><code onclick="Z(this)">0:35:50</code>And I ask Lisp to evaluate it. And there you see Lisp has returned on the bottom, and said, oh yeah, that's three. Or I can say, what's the sum of three and four and eight?</span><span s="2166" t="What&apos;s that combination? And ask Lisp to evaluate it. That&apos;s 15."><code onclick="Z(this)">0:36:06</code>What's that combination? And ask Lisp to evaluate it. That's 15.</span><span s="2176" t="Or I can type in something more complicated. I can say, what&apos;s the sum of the product of three and the"><code onclick="Z(this)">0:36:16</code>Or I can type in something more complicated. I can say, what's the sum of the product of three and the</span><span s="2187" t="sum of seven and 19.5? And you&apos;ll notice here that Lisp has something built in"><code onclick="Z(this)">0:36:27</code>sum of seven and 19.5? And you'll notice here that Lisp has something built in</span><span s="2197" t="that helps me keep track of all these parentheses. Watch as I type the next closed parentheses, which is going to close the combination starting with the star. The opening one will flash."><code onclick="Z(this)">0:36:37</code>that helps me keep track of all these parentheses. Watch as I type the next closed parentheses, which is going to close the combination starting with the star. The opening one will flash.</span><span s="2208" t="Here, I&apos;ll rub those out and do it again. Type close, and you see that closes the plus. Close again, that closes the star."><code onclick="Z(this)">0:36:48</code>Here, I'll rub those out and do it again. Type close, and you see that closes the plus. Close again, that closes the star.</span><span s="2217" t="Now I&apos;m back to the sum, and maybe I&apos;m going to add that all to four. That closes the plus. Now I have a complete combination, and I can ask Lisp for the value of that."><code onclick="Z(this)">0:36:57</code>Now I'm back to the sum, and maybe I'm going to add that all to four. That closes the plus. Now I have a complete combination, and I can ask Lisp for the value of that.</span><span s="2227" t="That kind of paren balancing is something that&apos;s built into a lot of Lisp systems to help you keep track, because it is kind of hard just by hand doing all these parentheses."><code onclick="Z(this)">0:37:07</code>That kind of paren balancing is something that's built into a lot of Lisp systems to help you keep track, because it is kind of hard just by hand doing all these parentheses.</span><span s="2236" t="There&apos;s another kind of convention for keeping track of parentheses. Let me write another complicated combination. Let&apos;s take the sum of the product of three and five and"><code onclick="Z(this)">0:37:16</code>There's another kind of convention for keeping track of parentheses. Let me write another complicated combination. Let's take the sum of the product of three and five and</span><span s="2253" t="add that to something. And now what I&apos;m going to do is I&apos;m going to indent so that the operands are written vertically. Which the sum of that and the product of 47 and--"><code onclick="Z(this)">0:37:33</code>add that to something. And now what I'm going to do is I'm going to indent so that the operands are written vertically. Which the sum of that and the product of 47 and--</span><span s="2267" t="let&apos;s say the product of 47 with a difference of 20 and 6.8. That means subtract 6.8 from 20."><code onclick="Z(this)">0:37:47</code>let's say the product of 47 with a difference of 20 and 6.8. That means subtract 6.8 from 20.</span><span s="2278" t="And then you see the parentheses close. Close the minus. Close the star. And now let&apos;s get another operator. You see the Lisp editor here is indenting to the right"><code onclick="Z(this)">0:37:58</code>And then you see the parentheses close. Close the minus. Close the star. And now let's get another operator. You see the Lisp editor here is indenting to the right</span><span s="2288" t="position automatically to help me keep track. I&apos;ll do that again. I&apos;ll close that last parentheses again. You see it balances the plus."><code onclick="Z(this)">0:38:08</code>position automatically to help me keep track. I'll do that again. I'll close that last parentheses again. You see it balances the plus.</span><span s="2300" t="Now I can say, what&apos;s the value of that? So those two things, indenting to the right level, which is"><code onclick="Z(this)">0:38:20</code>Now I can say, what's the value of that? So those two things, indenting to the right level, which is</span><span s="2309" t="called pretty printing, and flashing parentheses, are two things that a lot of Lisp systems have built in to help you keep track. And you should learn how to use them."><code onclick="Z(this)">0:38:29</code>called pretty printing, and flashing parentheses, are two things that a lot of Lisp systems have built in to help you keep track. And you should learn how to use them.</span><span s="2322" t="Well, those are the primitives. There&apos;s a means of combination. Now let&apos;s go up to the means of abstraction. I&apos;d like to be able to take the idea that I do some"><code onclick="Z(this)">0:38:42</code>Well, those are the primitives. There's a means of combination. Now let's go up to the means of abstraction. I'd like to be able to take the idea that I do some</span><span s="2332" t="combination like this, and abstract it and give it a simple name, so I can use that as an element. And I do that in Lisp with &quot;define.&quot; So I can say, for"><code onclick="Z(this)">0:38:52</code>combination like this, and abstract it and give it a simple name, so I can use that as an element. And I do that in Lisp with "define." So I can say, for</span><span s="2341" t="example, define A to be the product of five and five."><code onclick="Z(this)">0:39:01</code>example, define A to be the product of five and five.</span><span s="2357" t="And now I could say, for example, to Lisp, what is the product of A and A?"><code onclick="Z(this)">0:39:17</code>And now I could say, for example, to Lisp, what is the product of A and A?</span><span s="2366" t="And this should be 25, and this should be 625. And then, crucial thing, I can now use A--"><code onclick="Z(this)">0:39:26</code>And this should be 25, and this should be 625. And then, crucial thing, I can now use A--</span><span s="2376" t="here I&apos;ve used it in a combination-- but I could use that in other more complicated things that I name in turn. So I could say, define B to be the sum of, we&apos;ll say, A and"><code onclick="Z(this)">0:39:36</code>here I've used it in a combination-- but I could use that in other more complicated things that I name in turn. So I could say, define B to be the sum of, we'll say, A and</span><span s="2393" t="the product of five and A. And then close the plus."><code onclick="Z(this)">0:39:53</code>the product of five and A. And then close the plus.</span><span s="2403" t="Let&apos;s take a look at that on the computer and see how that looks. So I&apos;ll just type what I wrote on the board. I could say, define A to be the product of five and five."><code onclick="Z(this)">0:40:03</code>Let's take a look at that on the computer and see how that looks. So I'll just type what I wrote on the board. I could say, define A to be the product of five and five.</span><span s="2423" t="And I&apos;ll tell that to Lisp. And notice what Lisp responded there with was an A in the bottom. In general, when you type in a definition in Lisp, it responds with the symbol being defined."><code onclick="Z(this)">0:40:23</code>And I'll tell that to Lisp. And notice what Lisp responded there with was an A in the bottom. In general, when you type in a definition in Lisp, it responds with the symbol being defined.</span><span s="2435" t="Now I could say to Lisp, what is the product of A and A? And it says that&apos;s 625."><code onclick="Z(this)">0:40:35</code>Now I could say to Lisp, what is the product of A and A? And it says that's 625.</span><span s="2446" t="I can define B to be the sum of A and the product of five"><code onclick="Z(this)">0:40:46</code>I can define B to be the sum of A and the product of five</span><span s="2459" t="and A. Close a paren closes the star. Close the plus. Close the &quot;define.&quot; Lisp says, OK, B, there on the bottom."><code onclick="Z(this)">0:40:59</code>and A. Close a paren closes the star. Close the plus. Close the "define." Lisp says, OK, B, there on the bottom.</span><span s="2471" t="And now I can say to Lisp, what&apos;s the value of B? And I can say something more complicated, like what&apos;s the sum of A and the quotient of B and five?"><code onclick="Z(this)">0:41:11</code>And now I can say to Lisp, what's the value of B? And I can say something more complicated, like what's the sum of A and the quotient of B and five?</span><span s="2486" t="That slash is divide, another primitive operator. I&apos;ve divided B by five, added it to A. Lisp says, OK, that&apos;s 55."><code onclick="Z(this)">0:41:26</code>That slash is divide, another primitive operator. I've divided B by five, added it to A. Lisp says, OK, that's 55.</span><span s="2496" t="So there&apos;s what it looks like. There&apos;s the basic means of defining something. It&apos;s the simplest kind of naming, but it&apos;s not really"><code onclick="Z(this)">0:41:36</code>So there's what it looks like. There's the basic means of defining something. It's the simplest kind of naming, but it's not really</span><span s="2507" t="very powerful. See, what I&apos;d really like to name-- remember, we&apos;re talking about general methods-- I&apos;d like to name, oh, the general idea that, for"><code onclick="Z(this)">0:41:47</code>very powerful. See, what I'd really like to name-- remember, we're talking about general methods-- I'd like to name, oh, the general idea that, for</span><span s="2516" t="example, I could multiply five by five, or six by six, or"><code onclick="Z(this)">0:41:56</code>example, I could multiply five by five, or six by six, or</span><span s="2530" t="1,001 by 1,001, 1,001.7 by 1,001.7. I&apos;d like to be able to name the general idea of"><code onclick="Z(this)">0:42:10</code>1,001 by 1,001, 1,001.7 by 1,001.7. I'd like to be able to name the general idea of</span><span s="2542" t="multiplying something by itself. Well, you know what that is. That&apos;s called squaring."><code onclick="Z(this)">0:42:22</code>multiplying something by itself. Well, you know what that is. That's called squaring.</span><span s="2551" t="And the way I can do that in Lisp is I can say, define to"><code onclick="Z(this)">0:42:31</code>And the way I can do that in Lisp is I can say, define to</span><span s="2563" t="square something x, multiply x by itself."><code onclick="Z(this)">0:42:43</code>square something x, multiply x by itself.</span><span s="2577" t="And then having done that, I could say to Lisp, for example, what&apos;s the square of 10?"><code onclick="Z(this)">0:42:57</code>And then having done that, I could say to Lisp, for example, what's the square of 10?</span><span s="2586" t="And Lisp will say 100. So now let&apos;s actually look at that a little more closely. Right, there&apos;s the definition of square."><code onclick="Z(this)">0:43:06</code>And Lisp will say 100. So now let's actually look at that a little more closely. Right, there's the definition of square.</span><span s="2597" t="To square something, multiply it by itself. You see this x here."><code onclick="Z(this)">0:43:17</code>To square something, multiply it by itself. You see this x here.</span><span s="2606" t="That x is kind of a pronoun, which is the something that I&apos;m going to square. And what I do with it is I multiply x, I"><code onclick="Z(this)">0:43:26</code>That x is kind of a pronoun, which is the something that I'm going to square. And what I do with it is I multiply x, I</span><span s="2615" t="multiply it by itself."><code onclick="Z(this)">0:43:35</code>multiply it by itself.</span><span s="2624" t="OK. So there&apos;s the notation for defining a procedure. Actually, this is a little bit confusing, because this is sort of how I might use square."><code onclick="Z(this)">0:43:44</code>OK. So there's the notation for defining a procedure. Actually, this is a little bit confusing, because this is sort of how I might use square.</span><span s="2633" t="And I say square root of x or square root of 10, but it&apos;s not making it very clear that I&apos;m actually naming something."><code onclick="Z(this)">0:43:53</code>And I say square root of x or square root of 10, but it's not making it very clear that I'm actually naming something.</span><span s="2642" t="So let me write this definition in another way that makes it a little bit more clear that I&apos;m naming something. I&apos;ll say, &quot;define&quot; square to be lambda of x times xx."><code onclick="Z(this)">0:44:02</code>So let me write this definition in another way that makes it a little bit more clear that I'm naming something. I'll say, "define" square to be lambda of x times xx.</span><span s="2676" t="Here, I&apos;m naming something square, just like over here, I&apos;m naming something A. The thing that I&apos;m naming square-- here, the thing I named A was the value of this combination."><code onclick="Z(this)">0:44:36</code>Here, I'm naming something square, just like over here, I'm naming something A. The thing that I'm naming square-- here, the thing I named A was the value of this combination.</span><span s="2689" t="Here, the thing that I&apos;m naming square is this thing that begins with lambda, and lambda is Lisp&apos;s way of saying make a procedure."><code onclick="Z(this)">0:44:49</code>Here, the thing that I'm naming square is this thing that begins with lambda, and lambda is Lisp's way of saying make a procedure.</span><span s="2700" t="Let&apos;s look at that more closely on the slide. The way I read that definition is to say, I define square to be make a procedure--"><code onclick="Z(this)">0:45:00</code>Let's look at that more closely on the slide. The way I read that definition is to say, I define square to be make a procedure--</span><span s="2712" t="that&apos;s what the lambda is-- make a procedure with an argument named x. And what it does is return the results of"><code onclick="Z(this)">0:45:12</code>that's what the lambda is-- make a procedure with an argument named x. And what it does is return the results of</span><span s="2722" t="multiplying x by itself. Now, in general, we&apos;re going to be using this top form of"><code onclick="Z(this)">0:45:22</code>multiplying x by itself. Now, in general, we're going to be using this top form of</span><span s="2732" t="defining, just because it&apos;s a little bit more convenient. But don&apos;t lose sight of the fact that it&apos;s really this. In fact, as far as the Lisp interpreter&apos;s concerned,"><code onclick="Z(this)">0:45:32</code>defining, just because it's a little bit more convenient. But don't lose sight of the fact that it's really this. In fact, as far as the Lisp interpreter's concerned,</span><span s="2741" t="there&apos;s no difference between typing this to it and typing this to it. And there&apos;s a word for that, sort of syntactic sugar."><code onclick="Z(this)">0:45:41</code>there's no difference between typing this to it and typing this to it. And there's a word for that, sort of syntactic sugar.</span><span s="2754" t="What syntactic sugar means, it&apos;s having somewhat more convenient surface forms for typing something. So this is just really syntactic sugar for this"><code onclick="Z(this)">0:45:54</code>What syntactic sugar means, it's having somewhat more convenient surface forms for typing something. So this is just really syntactic sugar for this</span><span s="2764" t="underlying Greek thing with the lambda. And the reason you should remember that is don&apos;t forget that, when I write something like this, I&apos;m really naming something."><code onclick="Z(this)">0:46:04</code>underlying Greek thing with the lambda. And the reason you should remember that is don't forget that, when I write something like this, I'm really naming something.</span><span s="2774" t="I&apos;m naming something square, and the something that I&apos;m naming square is a procedure that&apos;s getting constructed. Well, let&apos;s look at that on the computer, too."><code onclick="Z(this)">0:46:14</code>I'm naming something square, and the something that I'm naming square is a procedure that's getting constructed. Well, let's look at that on the computer, too.</span><span s="2784" t="So I&apos;ll come and I&apos;ll say, define square of x to be times xx."><code onclick="Z(this)">0:46:24</code>So I'll come and I'll say, define square of x to be times xx.</span><span s="2809" t="Now I&apos;ll tell Lisp that. It says &quot;square.&quot; See, I&apos;ve named something &quot;square.&quot; Now, having done that, I can ask Lisp for, what&apos;s"><code onclick="Z(this)">0:46:49</code>Now I'll tell Lisp that. It says "square." See, I've named something "square." Now, having done that, I can ask Lisp for, what's</span><span s="2820" t="the square of 1,001? Or in general, I could say, what&apos;s the square of the sum"><code onclick="Z(this)">0:47:00</code>the square of 1,001? Or in general, I could say, what's the square of the sum</span><span s="2834" t="of five and seven? The square of 12&apos;s 144."><code onclick="Z(this)">0:47:14</code>of five and seven? The square of 12's 144.</span><span s="2845" t="Or I can use square itself as an element in some combination. I can say, what&apos;s the sum of the square of three and the"><code onclick="Z(this)">0:47:25</code>Or I can use square itself as an element in some combination. I can say, what's the sum of the square of three and the</span><span s="2856" t="square of four? nine and 16 is 25. Or I can use square as an element in some much more"><code onclick="Z(this)">0:47:36</code>square of four? nine and 16 is 25. Or I can use square as an element in some much more</span><span s="2869" t="complicated thing. I can say, what&apos;s the square of, the sqare of, the square of 1,001?"><code onclick="Z(this)">0:47:49</code>complicated thing. I can say, what's the square of, the sqare of, the square of 1,001?</span><span s="2887" t="And there&apos;s the square of the square of the square of 1,001. Or I can say to Lisp, what is square itself? What&apos;s the value of that?"><code onclick="Z(this)">0:48:07</code>And there's the square of the square of the square of 1,001. Or I can say to Lisp, what is square itself? What's the value of that?</span><span s="2897" t="And Lisp returns some conventional way of telling me that that&apos;s a procedure. It says, &quot;compound procedure square.&quot; Remember, the value of square is this procedure, and the thing with the stars"><code onclick="Z(this)">0:48:17</code>And Lisp returns some conventional way of telling me that that's a procedure. It says, "compound procedure square." Remember, the value of square is this procedure, and the thing with the stars</span><span s="2910" t="and the brackets are just Lisp&apos;s conventional way of describing that. Let&apos;s look at two more examples of defining."><code onclick="Z(this)">0:48:30</code>and the brackets are just Lisp's conventional way of describing that. Let's look at two more examples of defining.</span><span s="2925" t="Here are two more procedures. I can define the average of x and y to be the sum of x and y divided by two."><code onclick="Z(this)">0:48:45</code>Here are two more procedures. I can define the average of x and y to be the sum of x and y divided by two.</span><span s="2934" t="Or having had average and mean square, having had average and square, I can use that to talk about the mean square of"><code onclick="Z(this)">0:48:54</code>Or having had average and mean square, having had average and square, I can use that to talk about the mean square of</span><span s="2943" t="something, which is the average of the square of x and the square of y. So for example, having done that, I could say, what&apos;s the"><code onclick="Z(this)">0:49:03</code>something, which is the average of the square of x and the square of y. So for example, having done that, I could say, what's the</span><span s="2953" t="mean square of two and three?"><code onclick="Z(this)">0:49:13</code>mean square of two and three?</span><span s="2964" t="And I should get the average of four and nine, which is 6.5. The key thing here is that, having defined square, I can"><code onclick="Z(this)">0:49:24</code>And I should get the average of four and nine, which is 6.5. The key thing here is that, having defined square, I can</span><span s="2977" t="use it as if it were primitive. So if we look here on the slide, if I look at mean square, the person defining mean square doesn&apos;t have to"><code onclick="Z(this)">0:49:37</code>use it as if it were primitive. So if we look here on the slide, if I look at mean square, the person defining mean square doesn't have to</span><span s="2990" t="know, at this point, whether square was something built into the language or whether it was a procedure that was defined."><code onclick="Z(this)">0:49:50</code>know, at this point, whether square was something built into the language or whether it was a procedure that was defined.</span><span s="2999" t="And that&apos;s a key thing in Lisp, that you do not make arbitrary distinctions between things that happen to be"><code onclick="Z(this)">0:49:59</code>And that's a key thing in Lisp, that you do not make arbitrary distinctions between things that happen to be</span><span s="3008" t="primitive in the language and things that happen to be built in. A person using that shouldn&apos;t even have to know. So the things you construct get used with all the power"><code onclick="Z(this)">0:50:08</code>primitive in the language and things that happen to be built in. A person using that shouldn't even have to know. So the things you construct get used with all the power</span><span s="3017" t="and flexibility as if they were primitives. In fact, you can drive that home by looking on the computer one more time. We talked about plus."><code onclick="Z(this)">0:50:17</code>and flexibility as if they were primitives. In fact, you can drive that home by looking on the computer one more time. We talked about plus.</span><span s="3026" t="And in fact, if I come here on the computer screen and say, what is the value of plus? Notice what Lisp types out."><code onclick="Z(this)">0:50:26</code>And in fact, if I come here on the computer screen and say, what is the value of plus? Notice what Lisp types out.</span><span s="3036" t="On the bottom there, it typed out, &quot;compound procedure plus.&quot; Because, in this system, it turns out that the addition operator is itself a compound procedure."><code onclick="Z(this)">0:50:36</code>On the bottom there, it typed out, "compound procedure plus." Because, in this system, it turns out that the addition operator is itself a compound procedure.</span><span s="3045" t="And if I didn&apos;t just type that in, you&apos;d never know that, and it wouldn&apos;t make any difference anyway. We don&apos;t care. It&apos;s below the level of the abstraction that we&apos;re dealing with."><code onclick="Z(this)">0:50:45</code>And if I didn't just type that in, you'd never know that, and it wouldn't make any difference anyway. We don't care. It's below the level of the abstraction that we're dealing with.</span><span s="3054" t="So the key thing is you cannot tell, should not be able to tell, in general, the difference between things that are built in and things that are compound."><code onclick="Z(this)">0:50:54</code>So the key thing is you cannot tell, should not be able to tell, in general, the difference between things that are built in and things that are compound.</span><span s="3063" t="Why is that? Because the things that are compound have an abstraction wrapper wrapped around them. We&apos;ve seen almost all the elements of Lisp now."><code onclick="Z(this)">0:51:03</code>Why is that? Because the things that are compound have an abstraction wrapper wrapped around them. We've seen almost all the elements of Lisp now.</span><span s="3072" t="There&apos;s only one more we have to look at, and that is how to make a case analysis. Let me show you what I mean. We might want to think about the mathematical definition of"><code onclick="Z(this)">0:51:12</code>There's only one more we have to look at, and that is how to make a case analysis. Let me show you what I mean. We might want to think about the mathematical definition of</span><span s="3082" t="the absolute value functions. I might say the absolute value of x is the function which has the property that it&apos;s negative of x."><code onclick="Z(this)">0:51:22</code>the absolute value functions. I might say the absolute value of x is the function which has the property that it's negative of x.</span><span s="3095" t="For x less than zero, it&apos;s zero for x equal to zero. And it&apos;s x for x greater than zero."><code onclick="Z(this)">0:51:35</code>For x less than zero, it's zero for x equal to zero. And it's x for x greater than zero.</span><span s="3109" t="And Lisp has a way of making case analyses. Let me define for you absolute value. Say define the absolute value of x is conditional."><code onclick="Z(this)">0:51:49</code>And Lisp has a way of making case analyses. Let me define for you absolute value. Say define the absolute value of x is conditional.</span><span s="3123" t="This means case analysis, COND. If x is less than zero, the answer is negate x."><code onclick="Z(this)">0:52:03</code>This means case analysis, COND. If x is less than zero, the answer is negate x.</span><span s="3142" t="What I&apos;ve written here is a clause. This whole thing is a conditional clause,"><code onclick="Z(this)">0:52:22</code>What I've written here is a clause. This whole thing is a conditional clause,</span><span s="3153" t="and it has two parts. This part here is a predicate or a condition."><code onclick="Z(this)">0:52:33</code>and it has two parts. This part here is a predicate or a condition.</span><span s="3164" t="That&apos;s a condition. And the condition is expressed by something called a predicate, and a predicate in Lisp is some sort of thing that returns either true or false."><code onclick="Z(this)">0:52:44</code>That's a condition. And the condition is expressed by something called a predicate, and a predicate in Lisp is some sort of thing that returns either true or false.</span><span s="3173" t="And you see Lisp has a primitive procedure, less-than, that tests whether something is true or false. And the other part of a clause is an action or a thing to do,"><code onclick="Z(this)">0:52:53</code>And you see Lisp has a primitive procedure, less-than, that tests whether something is true or false. And the other part of a clause is an action or a thing to do,</span><span s="3186" t="in the case where that&apos;s true. And here, what I&apos;m doing is negating x. The negation operator, the minus sign in Lisp is a little bit funny."><code onclick="Z(this)">0:53:06</code>in the case where that's true. And here, what I'm doing is negating x. The negation operator, the minus sign in Lisp is a little bit funny.</span><span s="3197" t="If there&apos;s two or more arguments, if there&apos;s two arguments it subtracts the second one from the first, and we saw that. And if there&apos;s one argument, it negates it. So this corresponds to that."><code onclick="Z(this)">0:53:17</code>If there's two or more arguments, if there's two arguments it subtracts the second one from the first, and we saw that. And if there's one argument, it negates it. So this corresponds to that.</span><span s="3207" t="And then there&apos;s another COND clause. It says, in the case where x is equal to zero, the answer is zero."><code onclick="Z(this)">0:53:27</code>And then there's another COND clause. It says, in the case where x is equal to zero, the answer is zero.</span><span s="3217" t="And in the case where x is greater than zero, the answer is x. Close that clause."><code onclick="Z(this)">0:53:37</code>And in the case where x is greater than zero, the answer is x. Close that clause.</span><span s="3226" t="Close the COND. Close the definition. And there&apos;s the definition of absolute value. And you see it&apos;s the case analysis that looks very much like the case analysis you use in mathematics."><code onclick="Z(this)">0:53:46</code>Close the COND. Close the definition. And there's the definition of absolute value. And you see it's the case analysis that looks very much like the case analysis you use in mathematics.</span><span s="3238" t="There&apos;s a somewhat different way of writing a restricted case analysis. Often, you have a case analysis where you only have one case, where you test something, and then depending"><code onclick="Z(this)">0:53:58</code>There's a somewhat different way of writing a restricted case analysis. Often, you have a case analysis where you only have one case, where you test something, and then depending</span><span s="3248" t="on whether it&apos;s true or false, you do something. And here&apos;s another definition of absolute value which looks almost the same, which says, if x is less than zero, the"><code onclick="Z(this)">0:54:08</code>on whether it's true or false, you do something. And here's another definition of absolute value which looks almost the same, which says, if x is less than zero, the</span><span s="3261" t="result is negate x. Otherwise, the answer is x. And we&apos;ll be using &quot;if&quot; a lot. But again, the thing to remember is that this form of"><code onclick="Z(this)">0:54:21</code>result is negate x. Otherwise, the answer is x. And we'll be using "if" a lot. But again, the thing to remember is that this form of</span><span s="3270" t="absolute value that you&apos;re looking at here, and then this one over here that I wrote on the board, are essentially the same."><code onclick="Z(this)">0:54:30</code>absolute value that you're looking at here, and then this one over here that I wrote on the board, are essentially the same.</span><span s="3279" t="And &quot;if&quot; and COND are-- well, whichever way you like it. You can think of COND as syntactic sugar for &quot;if,&quot; or you can think of &quot;if&quot; as syntactic sugar for COND, and it doesn&apos;t make any difference."><code onclick="Z(this)">0:54:39</code>And "if" and COND are-- well, whichever way you like it. You can think of COND as syntactic sugar for "if," or you can think of "if" as syntactic sugar for COND, and it doesn't make any difference.</span><span s="3288" t="The person implementing a Lisp system will pick one and implement the other in terms of that. And it doesn&apos;t matter which one you pick."><code onclick="Z(this)">0:54:48</code>The person implementing a Lisp system will pick one and implement the other in terms of that. And it doesn't matter which one you pick.</span><span s="3302" t="Why don&apos;t we break now, and then take some questions. How come sometimes when I write define, I put an open"><code onclick="Z(this)">0:55:02</code>Why don't we break now, and then take some questions. How come sometimes when I write define, I put an open</span><span s="3311" t="paren here and say, define open paren something or other, and sometimes when I write this, I don&apos;t put an open paren?"><code onclick="Z(this)">0:55:11</code>paren here and say, define open paren something or other, and sometimes when I write this, I don't put an open paren?</span><span s="3322" t="The answer is, this particular form of &quot;define,&quot; where you say define some expression, is this very special thing for defining procedures."><code onclick="Z(this)">0:55:22</code>The answer is, this particular form of "define," where you say define some expression, is this very special thing for defining procedures.</span><span s="3333" t="But again, what it really means is I&apos;m defining this symbol, square, to be that. So the way you should think about it is what &quot;define&quot; does"><code onclick="Z(this)">0:55:33</code>But again, what it really means is I'm defining this symbol, square, to be that. So the way you should think about it is what "define" does</span><span s="3344" t="is you write &quot;define,&quot; and the second thing you write is the symbol here-- no open paren-- the symbol you&apos;re defining and what you&apos;re defining it to be."><code onclick="Z(this)">0:55:44</code>is you write "define," and the second thing you write is the symbol here-- no open paren-- the symbol you're defining and what you're defining it to be.</span><span s="3354" t="That&apos;s like here and like here. That&apos;s sort of the basic way you use &quot;define.&quot; And then, there&apos;s this special syntactic trick which allows you to"><code onclick="Z(this)">0:55:54</code>That's like here and like here. That's sort of the basic way you use "define." And then, there's this special syntactic trick which allows you to</span><span s="3365" t="define procedures that look like this. So the difference is, it&apos;s whether or not you&apos;re defining a procedure. [MUSIC PLAYING]"><code onclick="Z(this)">0:56:05</code>define procedures that look like this. So the difference is, it's whether or not you're defining a procedure. [MUSIC PLAYING]</span><span s="3398" t="Well, believe it or not, you actually now know enough Lisp to write essentially any numerical procedure that you&apos;d write in a language like FORTRAN or Basic or whatever,"><code onclick="Z(this)">0:56:38</code>Well, believe it or not, you actually now know enough Lisp to write essentially any numerical procedure that you'd write in a language like FORTRAN or Basic or whatever,</span><span s="3409" t="or, essentially, any other language. And you&apos;re probably saying, that&apos;s not believable, because you know that these languages have things like &quot;for statements,&quot; and &quot;do until while&quot; or something."><code onclick="Z(this)">0:56:49</code>or, essentially, any other language. And you're probably saying, that's not believable, because you know that these languages have things like "for statements," and "do until while" or something.</span><span s="3420" t="But we don&apos;t really need any of that. In fact, we&apos;re not going to use any of that in this course. Let me show you."><code onclick="Z(this)">0:57:00</code>But we don't really need any of that. In fact, we're not going to use any of that in this course. Let me show you.</span><span s="3430" t="Again, looking back at square root, let&apos;s go back to this square root algorithm of Heron of Alexandria. Remember what that said."><code onclick="Z(this)">0:57:10</code>Again, looking back at square root, let's go back to this square root algorithm of Heron of Alexandria. Remember what that said.</span><span s="3440" t="It said, to find an approximation to the square root of X, you make a guess, you improve that guess by averaging the guess and X over the guess."><code onclick="Z(this)">0:57:20</code>It said, to find an approximation to the square root of X, you make a guess, you improve that guess by averaging the guess and X over the guess.</span><span s="3452" t="You keep improving that until the guess is good enough. I already alluded to the idea. The idea is that, if the initial guess that you took"><code onclick="Z(this)">0:57:32</code>You keep improving that until the guess is good enough. I already alluded to the idea. The idea is that, if the initial guess that you took</span><span s="3464" t="was actually equal to the square root of X, then G here would be equal to X/G. So if you hit the square root, averaging them"><code onclick="Z(this)">0:57:44</code>was actually equal to the square root of X, then G here would be equal to X/G. So if you hit the square root, averaging them</span><span s="3474" t="wouldn&apos;t change it. If the G that you picked was larger than the square root of X, then X/G will be smaller than the square root of X, so"><code onclick="Z(this)">0:57:54</code>wouldn't change it. If the G that you picked was larger than the square root of X, then X/G will be smaller than the square root of X, so</span><span s="3483" t="that when you average G and X/G, you get something in between. So if you pick a G that&apos;s too small, your answer will be too large."><code onclick="Z(this)">0:58:03</code>that when you average G and X/G, you get something in between. So if you pick a G that's too small, your answer will be too large.</span><span s="3493" t="If you pick a G that&apos;s too large, if your G is larger than the square root of X and X/G will be smaller than the square root of X. So averaging always gives you something in between."><code onclick="Z(this)">0:58:13</code>If you pick a G that's too large, if your G is larger than the square root of X and X/G will be smaller than the square root of X. So averaging always gives you something in between.</span><span s="3504" t="And then, it&apos;s not quite trivial, but it&apos;s possible to show that, in fact, if G misses the square root of X by a little bit, the average of G and X/G will actually keep"><code onclick="Z(this)">0:58:24</code>And then, it's not quite trivial, but it's possible to show that, in fact, if G misses the square root of X by a little bit, the average of G and X/G will actually keep</span><span s="3514" t="getting closer to the square root of X. So if you keep doing this enough, you&apos;ll eventually get as close as you want. And then there&apos;s another fact, that you can always start out"><code onclick="Z(this)">0:58:34</code>getting closer to the square root of X. So if you keep doing this enough, you'll eventually get as close as you want. And then there's another fact, that you can always start out</span><span s="3524" t="this process by using 1 as an initial guess. And it&apos;ll always converge to the square root of X. So that&apos;s this method of successive averaging due to"><code onclick="Z(this)">0:58:44</code>this process by using 1 as an initial guess. And it'll always converge to the square root of X. So that's this method of successive averaging due to</span><span s="3535" t="Heron of Alexandria. Let&apos;s write it in Lisp. Well, the central idea is, what does it mean to try a"><code onclick="Z(this)">0:58:55</code>Heron of Alexandria. Let's write it in Lisp. Well, the central idea is, what does it mean to try a</span><span s="3545" t="guess for the square root of X? Let&apos;s write that. So we&apos;ll say, define to try a guess for the square root of"><code onclick="Z(this)">0:59:05</code>guess for the square root of X? Let's write that. So we'll say, define to try a guess for the square root of</span><span s="3564" t="X, what do we do? We&apos;ll say, if the guess is good enough to be a guess for"><code onclick="Z(this)">0:59:24</code>X, what do we do? We'll say, if the guess is good enough to be a guess for</span><span s="3584" t="the square root of X, then, as an answer, we&apos;ll take the guess. Otherwise, we will try the improved guess."><code onclick="Z(this)">0:59:44</code>the square root of X, then, as an answer, we'll take the guess. Otherwise, we will try the improved guess.</span><span s="3598" t="We&apos;ll improve that guess for the square root of X, and we&apos;ll try that as a guess for the square root of X. Close"><code onclick="Z(this)">0:59:58</code>We'll improve that guess for the square root of X, and we'll try that as a guess for the square root of X. Close</span><span s="3609" t="the &quot;try.&quot; Close the &quot;if.&quot; Close the &quot;define.&quot; So that&apos;s how we try a guess. And then, the next part of the process said, in order to"><code onclick="Z(this)">1:00:09</code>the "try." Close the "if." Close the "define." So that's how we try a guess. And then, the next part of the process said, in order to</span><span s="3618" t="compute square roots, we&apos;ll say, define to compute the"><code onclick="Z(this)">1:00:18</code>compute square roots, we'll say, define to compute the</span><span s="3628" t="square root of X, we will try one as a guess for the square root of X. Well, we have to define a couple more things."><code onclick="Z(this)">1:00:28</code>square root of X, we will try one as a guess for the square root of X. Well, we have to define a couple more things.</span><span s="3640" t="We have to say, how is a guess good enough? And how do we improve a guess? So let&apos;s look at that. The algorithm to improve a guess for the square root of"><code onclick="Z(this)">1:00:40</code>We have to say, how is a guess good enough? And how do we improve a guess? So let's look at that. The algorithm to improve a guess for the square root of</span><span s="3653" t="X, we average-- that was the algorithm-- we average the guess with the quotient of dividing X by the guess."><code onclick="Z(this)">1:00:53</code>X, we average-- that was the algorithm-- we average the guess with the quotient of dividing X by the guess.</span><span s="3663" t="That&apos;s how we improve a guess. And to tell whether a guess is good enough, well, we have to decide something. This is supposed to be a guess for the square root of X, so one possible thing you can do is say, when you take that"><code onclick="Z(this)">1:01:03</code>That's how we improve a guess. And to tell whether a guess is good enough, well, we have to decide something. This is supposed to be a guess for the square root of X, so one possible thing you can do is say, when you take that</span><span s="3674" t="guess and square it, do you get something very close to X? So one way to say that is to say, I square the guess, subtract X from that, and see if the absolute value of that"><code onclick="Z(this)">1:01:14</code>guess and square it, do you get something very close to X? So one way to say that is to say, I square the guess, subtract X from that, and see if the absolute value of that</span><span s="3686" t="whole thing is less than some small number, which depends on my purposes."><code onclick="Z(this)">1:01:26</code>whole thing is less than some small number, which depends on my purposes.</span><span s="3695" t="So there&apos;s a complete procedure for how to compute the square root of X. Let&apos;s look at the structure of that a little bit."><code onclick="Z(this)">1:01:35</code>So there's a complete procedure for how to compute the square root of X. Let's look at the structure of that a little bit.</span><span s="3707" t="I have the whole thing. I have the notion of how to compute a square root. That&apos;s some kind of module."><code onclick="Z(this)">1:01:47</code>I have the whole thing. I have the notion of how to compute a square root. That's some kind of module.</span><span s="3716" t="That&apos;s some kind of black box. It&apos;s defined in terms of how to try a guess for the square"><code onclick="Z(this)">1:01:56</code>That's some kind of black box. It's defined in terms of how to try a guess for the square</span><span s="3727" t="root of X. &quot;Try&quot; is defined in terms of, well, telling whether something is good enough and telling"><code onclick="Z(this)">1:02:07</code>root of X. "Try" is defined in terms of, well, telling whether something is good enough and telling</span><span s="3736" t="how to improve something. So good enough. &quot;Try&quot; is defined in terms of &quot;good enough&quot; and &quot;improve.&quot;"><code onclick="Z(this)">1:02:16</code>how to improve something. So good enough. "Try" is defined in terms of "good enough" and "improve."</span><span s="3750" t="And let&apos;s see what else I fill in. Well, I&apos;ll go down this tree. &quot;Good enough&quot; was defined in terms of absolute value, and square."><code onclick="Z(this)">1:02:30</code>And let's see what else I fill in. Well, I'll go down this tree. "Good enough" was defined in terms of absolute value, and square.</span><span s="3760" t="And improve was defined in terms of something called averaging and then some other primitive operator. Square root&apos;s defined in terms of &quot;try.&quot; &quot;Try&quot; is defined in"><code onclick="Z(this)">1:02:40</code>And improve was defined in terms of something called averaging and then some other primitive operator. Square root's defined in terms of "try." "Try" is defined in</span><span s="3769" t="terms of &quot;good enough&quot; and &quot;improve,&quot; but also &quot;try&quot; itself. So &quot;try&quot; is also defined in terms of how to try itself."><code onclick="Z(this)">1:02:49</code>terms of "good enough" and "improve," but also "try" itself. So "try" is also defined in terms of how to try itself.</span><span s="3782" t="Well, that may give you some problems. Your high school geometry teacher probably told you that it&apos;s naughty to try and define things in terms of themselves, because it doesn&apos;t"><code onclick="Z(this)">1:03:02</code>Well, that may give you some problems. Your high school geometry teacher probably told you that it's naughty to try and define things in terms of themselves, because it doesn't</span><span s="3793" t="make sense. But that&apos;s false. Sometimes it makes perfect sense to define things in terms of themselves. And this is the case."><code onclick="Z(this)">1:03:13</code>make sense. But that's false. Sometimes it makes perfect sense to define things in terms of themselves. And this is the case.</span><span s="3802" t="And we can look at that. We could write down what this means, and say, suppose I asked Lisp what the square root of two is."><code onclick="Z(this)">1:03:22</code>And we can look at that. We could write down what this means, and say, suppose I asked Lisp what the square root of two is.</span><span s="3812" t="What&apos;s the square root of two mean? Well, that means I try one as a guess for the"><code onclick="Z(this)">1:03:32</code>What's the square root of two mean? Well, that means I try one as a guess for the</span><span s="3822" t="square root of two. Now I look. I say, gee, is one a good enough guess for the square root of two?"><code onclick="Z(this)">1:03:42</code>square root of two. Now I look. I say, gee, is one a good enough guess for the square root of two?</span><span s="3831" t="And that depends on the test that &quot;good enough&quot; does. And in this case, &quot;good enough&quot; will say, no, one is not a good enough guess for the square root of two. So that will reduce to saying, I have to try an improved--"><code onclick="Z(this)">1:03:51</code>And that depends on the test that "good enough" does. And in this case, "good enough" will say, no, one is not a good enough guess for the square root of two. So that will reduce to saying, I have to try an improved--</span><span s="3850" t="improve one as a guess for the square root of two, and try that as a guess for the square root of two."><code onclick="Z(this)">1:04:10</code>improve one as a guess for the square root of two, and try that as a guess for the square root of two.</span><span s="3859" t="Improving one as a guess for the square root of two means I average one and two divided by one. So this is going to be average."><code onclick="Z(this)">1:04:19</code>Improving one as a guess for the square root of two means I average one and two divided by one. So this is going to be average.</span><span s="3869" t="This piece here will be the average of one and the quotient of two by one."><code onclick="Z(this)">1:04:29</code>This piece here will be the average of one and the quotient of two by one.</span><span s="3880" t="That&apos;s this piece here. And this is 1.5."><code onclick="Z(this)">1:04:40</code>That's this piece here. And this is 1.5.</span><span s="3889" t="So this square root of two reduces to trying one for the square root of two, which reduces to trying 1.5 as a"><code onclick="Z(this)">1:04:49</code>So this square root of two reduces to trying one for the square root of two, which reduces to trying 1.5 as a</span><span s="3903" t="guess for the square root of two. So that makes sense. Let&apos;s look at the rest of the process. If I try 1.5, that reduces."><code onclick="Z(this)">1:05:03</code>guess for the square root of two. So that makes sense. Let's look at the rest of the process. If I try 1.5, that reduces.</span><span s="3914" t="1.5 turns out to be not good enough as a guess for the square root of two. So that reduces to trying the average of 1.5 and two divided"><code onclick="Z(this)">1:05:14</code>1.5 turns out to be not good enough as a guess for the square root of two. So that reduces to trying the average of 1.5 and two divided</span><span s="3923" t="by 1.5 as a guess for the square root of two. That average turns out to be 1.333. So this whole thing reduces to trying 1.333 as a guess for"><code onclick="Z(this)">1:05:23</code>by 1.5 as a guess for the square root of two. That average turns out to be 1.333. So this whole thing reduces to trying 1.333 as a guess for</span><span s="3934" t="the square root of two. And then so on. That reduces to another called a &quot;good enough,&quot; 1.4 something or other. And then it keeps going until the process finally stops with"><code onclick="Z(this)">1:05:34</code>the square root of two. And then so on. That reduces to another called a "good enough," 1.4 something or other. And then it keeps going until the process finally stops with</span><span s="3945" t="something that &quot;good enough&quot; thinks is good enough, which, in this case, is 1.4142 something or other. So the process makes perfect sense."><code onclick="Z(this)">1:05:45</code>something that "good enough" thinks is good enough, which, in this case, is 1.4142 something or other. So the process makes perfect sense.</span><span s="3959" t="This, by the way, is called a recursive definition."><code onclick="Z(this)">1:05:59</code>This, by the way, is called a recursive definition.</span><span s="3974" t="And the ability to make recursive definitions is a source of incredible power. And as you can already see I&apos;ve hinted at, it&apos;s the thing"><code onclick="Z(this)">1:06:14</code>And the ability to make recursive definitions is a source of incredible power. And as you can already see I've hinted at, it's the thing</span><span s="3984" t="that effectively allows you to do these infinite computations that go on until something is true, without having any other constricts other than the ability to call a procedure."><code onclick="Z(this)">1:06:24</code>that effectively allows you to do these infinite computations that go on until something is true, without having any other constricts other than the ability to call a procedure.</span><span s="3995" t="Well, let&apos;s see, there&apos;s one more thing. Let me show you a variant of this definition of square root here on the slide."><code onclick="Z(this)">1:06:35</code>Well, let's see, there's one more thing. Let me show you a variant of this definition of square root here on the slide.</span><span s="4006" t="Here&apos;s sort of the same thing. What I&apos;ve done here is packaged the definitions of &quot;improve&quot; and &quot;good enough&quot; and &quot;try&quot; inside &quot;square"><code onclick="Z(this)">1:06:46</code>Here's sort of the same thing. What I've done here is packaged the definitions of "improve" and "good enough" and "try" inside "square</span><span s="4015" t="root.&quot; So, in effect, what I&apos;ve done is I&apos;ve built a square root box. So I&apos;ve built a box that&apos;s the square root procedure that"><code onclick="Z(this)">1:06:55</code>root." So, in effect, what I've done is I've built a square root box. So I've built a box that's the square root procedure that</span><span s="4027" t="someone can use. They might put in 36 and get out six. And then, packaged inside this box are the definitions of &quot;try&quot; and &quot;good enough&quot; and &quot;improve.&quot;"><code onclick="Z(this)">1:07:07</code>someone can use. They might put in 36 and get out six. And then, packaged inside this box are the definitions of "try" and "good enough" and "improve."</span><span s="4046" t="So they&apos;re hidden inside this box. And the reason for doing that is that, if someone&apos;s using this square root, if George is using this square root, George probably doesn&apos;t care very much that, when I implemented"><code onclick="Z(this)">1:07:26</code>So they're hidden inside this box. And the reason for doing that is that, if someone's using this square root, if George is using this square root, George probably doesn't care very much that, when I implemented</span><span s="4059" t="square root, I had things inside there called &quot;try&quot; and &quot;good enough&quot; and &quot;improve.&quot; And in fact, Harry might have"><code onclick="Z(this)">1:07:39</code>square root, I had things inside there called "try" and "good enough" and "improve." And in fact, Harry might have</span><span s="4068" t="a cube root procedure that has &quot;try&quot; and &quot;good enough&quot; and &quot;improve.&quot; And in order to not get the whole system confused, it&apos;d be good for Harry to package his internal procedures inside his cube root procedure."><code onclick="Z(this)">1:07:48</code>a cube root procedure that has "try" and "good enough" and "improve." And in order to not get the whole system confused, it'd be good for Harry to package his internal procedures inside his cube root procedure.</span><span s="4078" t="Well, this is called block structure, this particular way of packaging internals inside of a definition."><code onclick="Z(this)">1:07:58</code>Well, this is called block structure, this particular way of packaging internals inside of a definition.</span><span s="4089" t="And let&apos;s go back and look at the slide again. The way to read this kind of procedure is to say, to define &quot;square root,&quot; well, inside that definition, I&apos;ll have the"><code onclick="Z(this)">1:08:09</code>And let's go back and look at the slide again. The way to read this kind of procedure is to say, to define "square root," well, inside that definition, I'll have the</span><span s="4103" t="definition of an &quot;improve&quot; and the definition of &quot;good enough&quot; and the definition of &quot;try.&quot; And then, subject to those definitions, the way I do square root is to try one."><code onclick="Z(this)">1:08:23</code>definition of an "improve" and the definition of "good enough" and the definition of "try." And then, subject to those definitions, the way I do square root is to try one.</span><span s="4116" t="And notice here, I don&apos;t have to say one as a guess for the square root of X, because since it&apos;s all inside the square root, it sort of has this X known."><code onclick="Z(this)">1:08:36</code>And notice here, I don't have to say one as a guess for the square root of X, because since it's all inside the square root, it sort of has this X known.</span><span s="4134" t="Let me summarize. We started out with the idea that what we&apos;re going to be doing is expressing imperative knowledge."><code onclick="Z(this)">1:08:54</code>Let me summarize. We started out with the idea that what we're going to be doing is expressing imperative knowledge.</span><span s="4144" t="And in fact, here&apos;s a slide that summarizes the way we looked at Lisp. We started out by looking at some primitive elements in"><code onclick="Z(this)">1:09:04</code>And in fact, here's a slide that summarizes the way we looked at Lisp. We started out by looking at some primitive elements in</span><span s="4153" t="addition and multiplication, some predicates for testing whether something is less-than or something&apos;s equal. And in fact, we saw really sneakily in the system we&apos;re"><code onclick="Z(this)">1:09:13</code>addition and multiplication, some predicates for testing whether something is less-than or something's equal. And in fact, we saw really sneakily in the system we're</span><span s="4162" t="actually using, these aren&apos;t actually primitives, but it doesn&apos;t matter. What matters is we&apos;re going to use them as if they&apos;re primitives. We&apos;re not going to look inside. We also have some primitive data and some numbers."><code onclick="Z(this)">1:09:22</code>actually using, these aren't actually primitives, but it doesn't matter. What matters is we're going to use them as if they're primitives. We're not going to look inside. We also have some primitive data and some numbers.</span><span s="4174" t="We saw some means of composition, means of combination, the basic one being composing functions and building combinations with operators and operands."><code onclick="Z(this)">1:09:34</code>We saw some means of composition, means of combination, the basic one being composing functions and building combinations with operators and operands.</span><span s="4184" t="And there were some other things, like COND and &quot;if&quot; and &quot;define.&quot; But the main thing about &quot;define,&quot; in particular,"><code onclick="Z(this)">1:09:44</code>And there were some other things, like COND and "if" and "define." But the main thing about "define," in particular,</span><span s="4193" t="was that it was the means of abstraction. It was the way that we name things. You can also see from this slide not only where we&apos;ve been, but holes we have to fill in. At some point, we&apos;ll have to talk about how you combine"><code onclick="Z(this)">1:09:53</code>was that it was the means of abstraction. It was the way that we name things. You can also see from this slide not only where we've been, but holes we have to fill in. At some point, we'll have to talk about how you combine</span><span s="4203" t="primitive data to get compound data, and how you abstract data so you can use large globs of data as if they were primitive."><code onclick="Z(this)">1:10:03</code>primitive data to get compound data, and how you abstract data so you can use large globs of data as if they were primitive.</span><span s="4213" t="So that&apos;s where we&apos;re going. But before we do that, for the next couple of lectures we&apos;re going to be talking about, first of all, how it is that"><code onclick="Z(this)">1:10:13</code>So that's where we're going. But before we do that, for the next couple of lectures we're going to be talking about, first of all, how it is that</span><span s="4225" t="you make a link between these procedures we write and the processes that happen in the machine. And then, how it is that you start using the power of Lisp"><code onclick="Z(this)">1:10:25</code>you make a link between these procedures we write and the processes that happen in the machine. And then, how it is that you start using the power of Lisp</span><span s="4236" t="to talk not only about these individual little computations, but about general conventional methods of doing things."><code onclick="Z(this)">1:10:36</code>to talk not only about these individual little computations, but about general conventional methods of doing things.</span><span s="4245" t="OK, are there any questions? AUDIENCE: Yes. If we defined A using parentheses instead of as we did, what would be the difference? PROFESSOR: If I wrote this, if I wrote that, what I would be"><code onclick="Z(this)">1:10:45</code>OK, are there any questions? AUDIENCE: Yes. If we defined A using parentheses instead of as we did, what would be the difference? PROFESSOR: If I wrote this, if I wrote that, what I would be</span><span s="4258" t="doing is defining a procedure named A. In this case, a procedure of no arguments, which, when I ran it, would"><code onclick="Z(this)">1:10:58</code>doing is defining a procedure named A. In this case, a procedure of no arguments, which, when I ran it, would</span><span s="4267" t="give me back five times five. AUDIENCE: Right. I mean, you come up with the same thing, except for you really got a different-- PROFESSOR: Right. And the difference would be, in the old one--"><code onclick="Z(this)">1:11:07</code>give me back five times five. AUDIENCE: Right. I mean, you come up with the same thing, except for you really got a different-- PROFESSOR: Right. And the difference would be, in the old one--</span><span s="4276" t="Let me be a little bit clearer here. Let&apos;s call this A, like here. And pretend here, just for contrast, I wrote, define D to"><code onclick="Z(this)">1:11:16</code>Let me be a little bit clearer here. Let's call this A, like here. And pretend here, just for contrast, I wrote, define D to</span><span s="4295" t="be the product of five and five. And the difference between those, let&apos;s think about interactions with the Lisp interpreter."><code onclick="Z(this)">1:11:35</code>be the product of five and five. And the difference between those, let's think about interactions with the Lisp interpreter.</span><span s="4305" t="I could type in A and Lisp would return 25. I could type in D, if I just typed in D, Lisp would return"><code onclick="Z(this)">1:11:45</code>I could type in A and Lisp would return 25. I could type in D, if I just typed in D, Lisp would return</span><span s="4321" t="compound procedure D, because that&apos;s what it is. It&apos;s a procedure. I could run D. I could say, what&apos;s the value of running D?"><code onclick="Z(this)">1:12:01</code>compound procedure D, because that's what it is. It's a procedure. I could run D. I could say, what's the value of running D?</span><span s="4332" t="Here is a combination with no operands. I see there are no operands. I didn&apos;t put any after D. And it would say, oh, that&apos;s 25."><code onclick="Z(this)">1:12:12</code>Here is a combination with no operands. I see there are no operands. I didn't put any after D. And it would say, oh, that's 25.</span><span s="4342" t="Or I could say, just for completeness, if I typed in, what&apos;s the value of running A? I get an error."><code onclick="Z(this)">1:12:22</code>Or I could say, just for completeness, if I typed in, what's the value of running A? I get an error.</span><span s="4351" t="The error would be the same one as over there. It&apos;d be the error would say, sorry, 25, which is the value"><code onclick="Z(this)">1:12:31</code>The error would be the same one as over there. It'd be the error would say, sorry, 25, which is the value</span><span s="4360" t="of A, is not an operator that I can apply to something."><code onclick="Z(this)">1:12:40</code>of A, is not an operator that I can apply to something.</span></div><div class="eventlist" side="R" vid="dlbMuv-jix8"><h5><code onclick="Z(this)">0:00:00</code>Lecture 1B | MIT 6.001 Structure and Interpretation, 1986</h5><span s="0" t=" [MUSIC PLAYING BY J.S. BACH]"><code onclick="Z(this)">0:00:00</code> [MUSIC PLAYING BY J.S. BACH]</span><span s="14" t="PROFESSOR: Hi. You&apos;ve seen that the job of a programmer is to design processes that accomplish particular goals, such as"><code onclick="Z(this)">0:00:14</code>PROFESSOR: Hi. You've seen that the job of a programmer is to design processes that accomplish particular goals, such as</span><span s="24" t="finding the square roots of numbers or other sorts of things you might want to do. We haven&apos;t introduced anything else yet. Of course, the way in which a programmer does this is by"><code onclick="Z(this)">0:00:24</code>finding the square roots of numbers or other sorts of things you might want to do. We haven't introduced anything else yet. Of course, the way in which a programmer does this is by</span><span s="34" t="constructing spells, which are constructed out of procedures and expressions. And that these spells are somehow direct a process to"><code onclick="Z(this)">0:00:34</code>constructing spells, which are constructed out of procedures and expressions. And that these spells are somehow direct a process to</span><span s="46" t="accomplish the goal that was intended by the programmer. In order for the programmer to do this effectively, he has to understand the relationship between the particular things that he writes, these particular spells, and the"><code onclick="Z(this)">0:00:46</code>accomplish the goal that was intended by the programmer. In order for the programmer to do this effectively, he has to understand the relationship between the particular things that he writes, these particular spells, and the</span><span s="56" t="behavior of the process that he&apos;s attempting to control. So what we&apos;re doing this lecture is attempt to establish that connection in as clear a way as possible."><code onclick="Z(this)">0:00:56</code>behavior of the process that he's attempting to control. So what we're doing this lecture is attempt to establish that connection in as clear a way as possible.</span><span s="67" t="What we will particularly do is understand how particular patterns of procedures and expressions cause particular patterns of execution, particular"><code onclick="Z(this)">0:01:07</code>What we will particularly do is understand how particular patterns of procedures and expressions cause particular patterns of execution, particular</span><span s="77" t="behaviors from the processes. Let&apos;s get down to that. I&apos;m going to start with a very simple program."><code onclick="Z(this)">0:01:17</code>behaviors from the processes. Let's get down to that. I'm going to start with a very simple program.</span><span s="88" t="This is a program to compute the sum of the squares of two numbers. And we&apos;ll define the sum of the squares of x and y to be"><code onclick="Z(this)">0:01:28</code>This is a program to compute the sum of the squares of two numbers. And we'll define the sum of the squares of x and y to be</span><span s="105" t="the sum of the square of x-- I&apos;m going to write it that way-- and the square of y where the square of x is the"><code onclick="Z(this)">0:01:45</code>the sum of the square of x-- I'm going to write it that way-- and the square of y where the square of x is the</span><span s="128" t="product of x and x. Now, supposing I were to say something to this, like, to"><code onclick="Z(this)">0:02:08</code>product of x and x. Now, supposing I were to say something to this, like, to</span><span s="137" t="the system after having defined these things, of the form, the sum of the squares of three and four, I am hoping"><code onclick="Z(this)">0:02:17</code>the system after having defined these things, of the form, the sum of the squares of three and four, I am hoping</span><span s="146" t="that I will get out a 25. Because the square of three is nine, and the square of four is 16, and 25 is the sum of those. But how does that happen?"><code onclick="Z(this)">0:02:26</code>that I will get out a 25. Because the square of three is nine, and the square of four is 16, and 25 is the sum of those. But how does that happen?</span><span s="156" t="If we&apos;re going to understand processes and how we control them, then we have to have a mapping from the mechanisms of this procedure into the way in which these processes behave."><code onclick="Z(this)">0:02:36</code>If we're going to understand processes and how we control them, then we have to have a mapping from the mechanisms of this procedure into the way in which these processes behave.</span><span s="169" t="What we&apos;re going to have is a formal, or semi-formal, mechanical model whereby you understand how a machine could, in fact, in principle, do this. Whether or not the actual machine really does what I&apos;m"><code onclick="Z(this)">0:02:49</code>What we're going to have is a formal, or semi-formal, mechanical model whereby you understand how a machine could, in fact, in principle, do this. Whether or not the actual machine really does what I'm</span><span s="180" t="about to tell you is completely irrelevant at this moment. In fact, this is an engineering model in the same way that, electrical resistor, we write down a model v equals"><code onclick="Z(this)">0:03:00</code>about to tell you is completely irrelevant at this moment. In fact, this is an engineering model in the same way that, electrical resistor, we write down a model v equals</span><span s="189" t="i r, it&apos;s approximately true. It&apos;s not really true. If I put up current through the resistor it goes boom. So the voltage is not always proportional to the current,"><code onclick="Z(this)">0:03:09</code>i r, it's approximately true. It's not really true. If I put up current through the resistor it goes boom. So the voltage is not always proportional to the current,</span><span s="200" t="but for some purposes the model is appropriate. In particular, the model we&apos;re going to describe right now, which I call the substitution model, is the simplest model"><code onclick="Z(this)">0:03:20</code>but for some purposes the model is appropriate. In particular, the model we're going to describe right now, which I call the substitution model, is the simplest model</span><span s="209" t="that we have for understanding how procedures work and how processes work. How procedures yield processes. And that substitution model will be accurate for most of"><code onclick="Z(this)">0:03:29</code>that we have for understanding how procedures work and how processes work. How procedures yield processes. And that substitution model will be accurate for most of</span><span s="219" t="the things we&apos;ll be dealing with in the next few days. But eventually, it will become impossible to sustain the illusion that that&apos;s the way the machine works, and we&apos;ll go to other more specific and particular models that will"><code onclick="Z(this)">0:03:39</code>the things we'll be dealing with in the next few days. But eventually, it will become impossible to sustain the illusion that that's the way the machine works, and we'll go to other more specific and particular models that will</span><span s="230" t="show more detail. OK, well, the first thing, of course, is we say, what are the things we have here?"><code onclick="Z(this)">0:03:50</code>show more detail. OK, well, the first thing, of course, is we say, what are the things we have here?</span><span s="239" t="We have some cryptic symbols. And these cryptic symbols are made out of pieces. There are kinds of expressions. So let&apos;s write down here the kinds of expressions there are."><code onclick="Z(this)">0:03:59</code>We have some cryptic symbols. And these cryptic symbols are made out of pieces. There are kinds of expressions. So let's write down here the kinds of expressions there are.</span><span s="257" t="And we have-- and so far I see things like numbers. I see things like symbols like that."><code onclick="Z(this)">0:04:17</code>And we have-- and so far I see things like numbers. I see things like symbols like that.</span><span s="272" t="We have seen things before like lambda expressions, but they&apos;re not here. I&apos;m going to leave them out. Lambda expressions, we&apos;ll worry about them later."><code onclick="Z(this)">0:04:32</code>We have seen things before like lambda expressions, but they're not here. I'm going to leave them out. Lambda expressions, we'll worry about them later.</span><span s="284" t="Things like definitions. Things like conditionals."><code onclick="Z(this)">0:04:44</code>Things like definitions. Things like conditionals.</span><span s="298" t="And finally, things like combinations."><code onclick="Z(this)">0:04:58</code>And finally, things like combinations.</span><span s="307" t="These kinds of expressions are-- I&apos;ll worry about later-- these are special forms. There are particular rules for each of these."><code onclick="Z(this)">0:05:07</code>These kinds of expressions are-- I'll worry about later-- these are special forms. There are particular rules for each of these.</span><span s="317" t="I&apos;m going to tell you, however, the rules for doing a general case. How does one evaluate a combination? Because, in fact, over here, all I really have are combinations and some symbols and numbers."><code onclick="Z(this)">0:05:17</code>I'm going to tell you, however, the rules for doing a general case. How does one evaluate a combination? Because, in fact, over here, all I really have are combinations and some symbols and numbers.</span><span s="329" t="And the simple things like a number, well, it will evaluate to itself. In the model I will have for you, the symbols will disappear. They won&apos;t be there at the time when you need them, when"><code onclick="Z(this)">0:05:29</code>And the simple things like a number, well, it will evaluate to itself. In the model I will have for you, the symbols will disappear. They won't be there at the time when you need them, when</span><span s="340" t="you need to get at them. So the only thing I really have to explain to you is, how do we evaluate combinations? OK, let&apos;s see."><code onclick="Z(this)">0:05:40</code>you need to get at them. So the only thing I really have to explain to you is, how do we evaluate combinations? OK, let's see.</span><span s="350" t="So first I want to get the first slide. Here is the rule for evaluating an application."><code onclick="Z(this)">0:05:50</code>So first I want to get the first slide. Here is the rule for evaluating an application.</span><span s="361" t="What we have is a rule that says, to evaluate a combination, there are two parts, three parts to the rule. The combination has several parts."><code onclick="Z(this)">0:06:01</code>What we have is a rule that says, to evaluate a combination, there are two parts, three parts to the rule. The combination has several parts.</span><span s="372" t="It has operators and it has operands. The operator returns into a procedure. If we evaluate the operator, we will get a procedure."><code onclick="Z(this)">0:06:12</code>It has operators and it has operands. The operator returns into a procedure. If we evaluate the operator, we will get a procedure.</span><span s="382" t="And you saw, for example, how I&apos;ll type at the machine and out came compound procedure something or other. And the operands produce arguments."><code onclick="Z(this)">0:06:22</code>And you saw, for example, how I'll type at the machine and out came compound procedure something or other. And the operands produce arguments.</span><span s="391" t="Once we&apos;ve gotten the operator evaluated to get a procedure, and the argument is evaluated to get argument-- the operand&apos;s value to get arguments-- we apply the procedure to these arguments by copying the"><code onclick="Z(this)">0:06:31</code>Once we've gotten the operator evaluated to get a procedure, and the argument is evaluated to get argument-- the operand's value to get arguments-- we apply the procedure to these arguments by copying the</span><span s="403" t="body of the procedure, which is the expression that the procedure is defined in terms of. What is it supposed to do? Substituting the argument supplied for the formal"><code onclick="Z(this)">0:06:43</code>body of the procedure, which is the expression that the procedure is defined in terms of. What is it supposed to do? Substituting the argument supplied for the formal</span><span s="413" t="parameters of the procedure, the formal parameters being the names defined by the declaration of the procedure. Then we evaluate the resulting new body, the body resulting"><code onclick="Z(this)">0:06:53</code>parameters of the procedure, the formal parameters being the names defined by the declaration of the procedure. Then we evaluate the resulting new body, the body resulting</span><span s="422" t="from copying the old body with the substitutions made. It&apos;s a very simple rule, and we&apos;re going to do it very formally for a little while."><code onclick="Z(this)">0:07:02</code>from copying the old body with the substitutions made. It's a very simple rule, and we're going to do it very formally for a little while.</span><span s="432" t="Because for the next few lectures, what I want you to do is to say, if I don&apos;t understand something, if I don&apos;t understand something, be very mechanical and do this."><code onclick="Z(this)">0:07:12</code>Because for the next few lectures, what I want you to do is to say, if I don't understand something, if I don't understand something, be very mechanical and do this.</span><span s="443" t="So let&apos;s see. Let&apos;s consider a particular evaluation, the one we were talking about before. The sum of the squares of three and three."><code onclick="Z(this)">0:07:23</code>So let's see. Let's consider a particular evaluation, the one we were talking about before. The sum of the squares of three and three.</span><span s="455" t="What does that mean? It says, take-- well, I could find out what&apos;s on the square-- it&apos;s some procedure, and I&apos;m not going to worry about the representation, and I&apos;m not going to write it on the"><code onclick="Z(this)">0:07:35</code>What does that mean? It says, take-- well, I could find out what's on the square-- it's some procedure, and I'm not going to worry about the representation, and I'm not going to write it on the</span><span s="464" t="blackboard for you. And I have that three represents some number, but if I have to repeat that number, I can&apos;t tell you the number. The number itself is some abstract thing."><code onclick="Z(this)">0:07:44</code>blackboard for you. And I have that three represents some number, but if I have to repeat that number, I can't tell you the number. The number itself is some abstract thing.</span><span s="474" t="There&apos;s a numeral which represents it, which I&apos;ll call three, and I&apos;ll use that in my substitution. And four is also a number. I&apos;m going to substitute three for x and four for y in the"><code onclick="Z(this)">0:07:54</code>There's a numeral which represents it, which I'll call three, and I'll use that in my substitution. And four is also a number. I'm going to substitute three for x and four for y in the</span><span s="486" t="body of this procedure that you see over here. Here&apos;s the body of the procedure. It corresponds to this combination, which is an addition."><code onclick="Z(this)">0:08:06</code>body of this procedure that you see over here. Here's the body of the procedure. It corresponds to this combination, which is an addition.</span><span s="497" t="So what that reduces to, as a reduction step, we call it, is the sum of the square of three and the square of four."><code onclick="Z(this)">0:08:17</code>So what that reduces to, as a reduction step, we call it, is the sum of the square of three and the square of four.</span><span s="510" t="Now, what&apos;s the next step I have to do here? I say, well, I have to evaluate this. According to my rule, which you just saw on that overhead"><code onclick="Z(this)">0:08:30</code>Now, what's the next step I have to do here? I say, well, I have to evaluate this. According to my rule, which you just saw on that overhead</span><span s="520" t="or slide, what we had was that we have to evaluate the operands-- and here are the operands, here&apos;s one and here&apos;s the next operand--"><code onclick="Z(this)">0:08:40</code>or slide, what we had was that we have to evaluate the operands-- and here are the operands, here's one and here's the next operand--</span><span s="529" t="and how we have to evaluate procedure. The order doesn&apos;t matter. And then we&apos;re going to apply the procedure, which is plus, and magically somehow that&apos;s going to produce the answer."><code onclick="Z(this)">0:08:49</code>and how we have to evaluate procedure. The order doesn't matter. And then we're going to apply the procedure, which is plus, and magically somehow that's going to produce the answer.</span><span s="539" t="I&apos;m not to open up plus and look inside of it. However, in order to evaluate the operand, let&apos;s pick some arbitrary order and do them. I&apos;m going to go from right to left."><code onclick="Z(this)">0:08:59</code>I'm not to open up plus and look inside of it. However, in order to evaluate the operand, let's pick some arbitrary order and do them. I'm going to go from right to left.</span><span s="548" t="Well, in order to evaluate this operand, I have to evaluate the parts of it by the same rule. And the parts are I have to find out what square is-- it&apos;s some procedure, which has a formal parameter x."><code onclick="Z(this)">0:09:08</code>Well, in order to evaluate this operand, I have to evaluate the parts of it by the same rule. And the parts are I have to find out what square is-- it's some procedure, which has a formal parameter x.</span><span s="559" t="And also, I have an operand which is four, which I have to substitute for x in the body of square."><code onclick="Z(this)">0:09:19</code>And also, I have an operand which is four, which I have to substitute for x in the body of square.</span><span s="568" t="So the next step is basically to say that this is the sum of the square of three and the product of four and four."><code onclick="Z(this)">0:09:28</code>So the next step is basically to say that this is the sum of the square of three and the product of four and four.</span><span s="580" t="Of course, I could open up asterisk if I liked-- the multiplication operation-- but I&apos;m not going to do that. I&apos;m going to consider that primitive."><code onclick="Z(this)">0:09:40</code>Of course, I could open up asterisk if I liked-- the multiplication operation-- but I'm not going to do that. I'm going to consider that primitive.</span><span s="590" t="And, of course, at any level of detail, if you look inside this machine, you&apos;re going to find that there&apos;s multiple levels below that that you don&apos;t know about. But one of the things we have to learn how to"><code onclick="Z(this)">0:09:50</code>And, of course, at any level of detail, if you look inside this machine, you're going to find that there's multiple levels below that that you don't know about. But one of the things we have to learn how to</span><span s="599" t="do is ignore details. The key to understanding complicated things is to know what not to look at and what not compute and what not to think."><code onclick="Z(this)">0:09:59</code>do is ignore details. The key to understanding complicated things is to know what not to look at and what not compute and what not to think.</span><span s="609" t="So we&apos;re going to stop this one here and say, oh, yes, this is the product of two things. We&apos;re going to do it now. So this is nothing more than the sum of the square"><code onclick="Z(this)">0:10:09</code>So we're going to stop this one here and say, oh, yes, this is the product of two things. We're going to do it now. So this is nothing more than the sum of the square</span><span s="619" t="of three and 16. And now I have another thing I have to evaluate, but that square of three, well, it&apos;s the same thing."><code onclick="Z(this)">0:10:19</code>of three and 16. And now I have another thing I have to evaluate, but that square of three, well, it's the same thing.</span><span s="629" t="That&apos;s the sum of the product of three and three and 16, which is the sum of nine and 16, which is 25."><code onclick="Z(this)">0:10:29</code>That's the sum of the product of three and three and 16, which is the sum of nine and 16, which is 25.</span><span s="644" t="So now you see the basic method of doing substitutions. And I warn you that this is not a perfect description of"><code onclick="Z(this)">0:10:44</code>So now you see the basic method of doing substitutions. And I warn you that this is not a perfect description of</span><span s="654" t="what the computer does. But it&apos;s a good enough description for the problems that we&apos;re going to have in the next few lectures that you"><code onclick="Z(this)">0:10:54</code>what the computer does. But it's a good enough description for the problems that we're going to have in the next few lectures that you</span><span s="663" t="should think about this religiously. And this is how the machine works for now. Later we&apos;ll get more detailed."><code onclick="Z(this)">0:11:03</code>should think about this religiously. And this is how the machine works for now. Later we'll get more detailed.</span><span s="672" t="Now, of course, I made a specific choice of the order of evaluation here. There are other possibilities. If we go back to the telestrator here and look at"><code onclick="Z(this)">0:11:12</code>Now, of course, I made a specific choice of the order of evaluation here. There are other possibilities. If we go back to the telestrator here and look at</span><span s="681" t="the substitution rule, we see that I evaluated the operator to get the procedures, and I evaluated the operands to get the arguments first, before I do the application."><code onclick="Z(this)">0:11:21</code>the substitution rule, we see that I evaluated the operator to get the procedures, and I evaluated the operands to get the arguments first, before I do the application.</span><span s="691" t="It&apos;s entirely possible, and there are alternate rules called normal order evaluation whereby you can do the substitution of the expressions which are the"><code onclick="Z(this)">0:11:31</code>It's entirely possible, and there are alternate rules called normal order evaluation whereby you can do the substitution of the expressions which are the</span><span s="701" t="operands for the formal parameters inside the body first. And you&apos;ll get also the same answer. But right now, for concreteness, and because this"><code onclick="Z(this)">0:11:41</code>operands for the formal parameters inside the body first. And you'll get also the same answer. But right now, for concreteness, and because this</span><span s="710" t="is the way our machine really does it, I&apos;m going to give you this rule, which has a particular order. But that order is to some extent arbitrary, too."><code onclick="Z(this)">0:11:50</code>is the way our machine really does it, I'm going to give you this rule, which has a particular order. But that order is to some extent arbitrary, too.</span><span s="721" t="In the long run, there are some reasons why you might pick one order or another, and we&apos;ll get to that later in the subject."><code onclick="Z(this)">0:12:01</code>In the long run, there are some reasons why you might pick one order or another, and we'll get to that later in the subject.</span><span s="732" t="OK, well now the only other thing I have to tell you about just to understand what&apos;s going on is let&apos;s look at the rule for conditionals. Conditionals are very simple, and I&apos;d like to examine this."><code onclick="Z(this)">0:12:12</code>OK, well now the only other thing I have to tell you about just to understand what's going on is let's look at the rule for conditionals. Conditionals are very simple, and I'd like to examine this.</span><span s="747" t="A conditional is something that is if-- there&apos;s also cond, of course-- but I&apos;m going to give names to the parts of the expression. There&apos;s a predicate, which is a thing that is"><code onclick="Z(this)">0:12:27</code>A conditional is something that is if-- there's also cond, of course-- but I'm going to give names to the parts of the expression. There's a predicate, which is a thing that is</span><span s="759" t="either true or false. And there&apos;s a consequent, which is the thing you do if the predicate is true."><code onclick="Z(this)">0:12:39</code>either true or false. And there's a consequent, which is the thing you do if the predicate is true.</span><span s="768" t="And there&apos;s an alternative, which is the thing you do if the predicate is false. It&apos;s important, by the way, to get names for, to get names"><code onclick="Z(this)">0:12:48</code>And there's an alternative, which is the thing you do if the predicate is false. It's important, by the way, to get names for, to get names</span><span s="780" t="for, the parts of things, or the parts of expressions. One of the things that every sorcerer will tell you is if you have the name of a spirit, you have power over it."><code onclick="Z(this)">0:13:00</code>for, the parts of things, or the parts of expressions. One of the things that every sorcerer will tell you is if you have the name of a spirit, you have power over it.</span><span s="790" t="So you have to learn these names so that we can discuss these things. So here we have a predicate, a consequent, and an alternative. And, using such words, we see that an if expression, the"><code onclick="Z(this)">0:13:10</code>So you have to learn these names so that we can discuss these things. So here we have a predicate, a consequent, and an alternative. And, using such words, we see that an if expression, the</span><span s="801" t="problems you evaluate to the predicate expression, if that yields true, then you then go on to evaluate the consequent. Otherwise, you evaluate the alternative expression."><code onclick="Z(this)">0:13:21</code>problems you evaluate to the predicate expression, if that yields true, then you then go on to evaluate the consequent. Otherwise, you evaluate the alternative expression.</span><span s="814" t="So I&apos;d like to illustrate that now in the context of a particular little program."><code onclick="Z(this)">0:13:34</code>So I'd like to illustrate that now in the context of a particular little program.</span><span s="823" t="Going to write down a program which we&apos;re going to see many times. This is the sum of x and y done by what&apos;s called Peano"><code onclick="Z(this)">0:13:43</code>Going to write down a program which we're going to see many times. This is the sum of x and y done by what's called Peano</span><span s="838" t="arithmetic, which is all we&apos;re doing is incrementing and decrementing. And we&apos;re going to see this for a little bit. It&apos;s a very important program. If x equals zero, then the result is y."><code onclick="Z(this)">0:13:58</code>arithmetic, which is all we're doing is incrementing and decrementing. And we're going to see this for a little bit. It's a very important program. If x equals zero, then the result is y.</span><span s="852" t="Otherwise, this is the sum of the decrement of x and the increment of y."><code onclick="Z(this)">0:14:12</code>Otherwise, this is the sum of the decrement of x and the increment of y.</span><span s="863" t="We&apos;re going to look at this a lot more in the future. Let&apos;s look at the overhead. So here we have this procedure, and we&apos;re going to look at how we do the substitutions, the sequence of"><code onclick="Z(this)">0:14:23</code>We're going to look at this a lot more in the future. Let's look at the overhead. So here we have this procedure, and we're going to look at how we do the substitutions, the sequence of</span><span s="873" t="substitutions. Well, I&apos;m going to try and add together three and four. Well, using the first rule that I showed you, we substitute three for x and four four y in the body of"><code onclick="Z(this)">0:14:33</code>substitutions. Well, I'm going to try and add together three and four. Well, using the first rule that I showed you, we substitute three for x and four four y in the body of</span><span s="885" t="this procedure. The body of the procedure is the thing that begins with if and finishes over here. So what we get is, of course, if three is zero, then the"><code onclick="Z(this)">0:14:45</code>this procedure. The body of the procedure is the thing that begins with if and finishes over here. So what we get is, of course, if three is zero, then the</span><span s="894" t="result is four. Otherwise, it&apos;s the sum of the decrement of three and the increment of four. But I&apos;m not going to worry about these yet because three"><code onclick="Z(this)">0:14:54</code>result is four. Otherwise, it's the sum of the decrement of three and the increment of four. But I'm not going to worry about these yet because three</span><span s="904" t="is not zero. So the answer is not four. Therefore, this if reduces to an evaluation of the expression, the sum to the decrement of three and the"><code onclick="Z(this)">0:15:04</code>is not zero. So the answer is not four. Therefore, this if reduces to an evaluation of the expression, the sum to the decrement of three and the</span><span s="914" t="increment of four. Continuing with my evaluation, the increment I presume to be primitive, and so I get a five there."><code onclick="Z(this)">0:15:14</code>increment of four. Continuing with my evaluation, the increment I presume to be primitive, and so I get a five there.</span><span s="923" t="OK, and then the decrement is also primitive, and I get a two. And so I change the problem into a simpler problem. Instead of adding three to four, I&apos;m adding two to five."><code onclick="Z(this)">0:15:23</code>OK, and then the decrement is also primitive, and I get a two. And so I change the problem into a simpler problem. Instead of adding three to four, I'm adding two to five.</span><span s="933" t="The reason why this is a simpler problem is because I&apos;m counting down on x, and eventually, then, x will be zero."><code onclick="Z(this)">0:15:33</code>The reason why this is a simpler problem is because I'm counting down on x, and eventually, then, x will be zero.</span><span s="943" t="So, so much for the substitution rule. In general, I&apos;m not going to write down intermediate steps when using substitutions having to do with ifs, because"><code onclick="Z(this)">0:15:43</code>So, so much for the substitution rule. In general, I'm not going to write down intermediate steps when using substitutions having to do with ifs, because</span><span s="952" t="they just expand things to become complicated. What we will be doing is saying, oh, yes, the sum of three and four results in the sum of two and five and"><code onclick="Z(this)">0:15:52</code>they just expand things to become complicated. What we will be doing is saying, oh, yes, the sum of three and four results in the sum of two and five and</span><span s="961" t="reduces to the sum of two and five, which, in fact, reduces to the sum of one and six, which reduces to the sum of zero and seven over here, which reduces to a seven."><code onclick="Z(this)">0:16:01</code>reduces to the sum of two and five, which, in fact, reduces to the sum of one and six, which reduces to the sum of zero and seven over here, which reduces to a seven.</span><span s="974" t="That&apos;s what we&apos;re going to be seeing. Are there any questions for the first segment yet? Yes? STUDENT: You&apos;re using one plus and minus one plus."><code onclick="Z(this)">0:16:14</code>That's what we're going to be seeing. Are there any questions for the first segment yet? Yes? STUDENT: You're using one plus and minus one plus.</span><span s="984" t="Are those primitive operations? PROFESSOR: Yes. One of the things you&apos;re going to be seeing in this subject is I&apos;m going to, without thinking about it, introduce"><code onclick="Z(this)">0:16:24</code>Are those primitive operations? PROFESSOR: Yes. One of the things you're going to be seeing in this subject is I'm going to, without thinking about it, introduce</span><span s="993" t="more and more primitive operations. There&apos;s presumably some large library of primitive operations somewhere. But it doesn&apos;t matter that they&apos;re primitive-- there may be some manual that lists them all."><code onclick="Z(this)">0:16:33</code>more and more primitive operations. There's presumably some large library of primitive operations somewhere. But it doesn't matter that they're primitive-- there may be some manual that lists them all.</span><span s="1003" t="If I tell you what they do, you say, oh, yes, I know what they do. So one of them is the decrementor-- minus one plus-- and the other operation is increment, which is one plus."><code onclick="Z(this)">0:16:43</code>If I tell you what they do, you say, oh, yes, I know what they do. So one of them is the decrementor-- minus one plus-- and the other operation is increment, which is one plus.</span><span s="1013" t="Thank you. That&apos;s the end of the first segment. [MUSIC PLAYING BY J.S. BACH]"><code onclick="Z(this)">0:16:53</code>Thank you. That's the end of the first segment. [MUSIC PLAYING BY J.S. BACH]</span><span s="1039" t="PROFESSOR: Now that we have a reasonably mechanical way of understanding how a program made out of procedures and"><code onclick="Z(this)">0:17:19</code>PROFESSOR: Now that we have a reasonably mechanical way of understanding how a program made out of procedures and</span><span s="1048" t="expressions evolves a process, I&apos;d like to develop some intuition about how particular programs evolve particular processes, what the shapes of programs have to be in order"><code onclick="Z(this)">0:17:28</code>expressions evolves a process, I'd like to develop some intuition about how particular programs evolve particular processes, what the shapes of programs have to be in order</span><span s="1059" t="to get particular shaped processes. This is a question about, really, pre-visualizing. That&apos;s a word from photography."><code onclick="Z(this)">0:17:39</code>to get particular shaped processes. This is a question about, really, pre-visualizing. That's a word from photography.</span><span s="1069" t="I used to be interested in photography a lot, and one of the things you discover when you start trying to learn about photography is that you say, gee, I&apos;d like to be a creative photographer."><code onclick="Z(this)">0:17:49</code>I used to be interested in photography a lot, and one of the things you discover when you start trying to learn about photography is that you say, gee, I'd like to be a creative photographer.</span><span s="1078" t="Now, I know the rules, I push buttons, and I adjust the aperture and things like that. But the key to being a creative person, partly, is to be able to do analysis at some level."><code onclick="Z(this)">0:17:58</code>Now, I know the rules, I push buttons, and I adjust the aperture and things like that. But the key to being a creative person, partly, is to be able to do analysis at some level.</span><span s="1089" t="To say, how do I know what it is that I&apos;m going to get on the film before I push the button. Can I imagine in my mind the resulting image very precisely"><code onclick="Z(this)">0:18:09</code>To say, how do I know what it is that I'm going to get on the film before I push the button. Can I imagine in my mind the resulting image very precisely</span><span s="1103" t="and clearly as a consequence of the particular framing, of the aperture I choose, of the focus, and things like that?"><code onclick="Z(this)">0:18:23</code>and clearly as a consequence of the particular framing, of the aperture I choose, of the focus, and things like that?</span><span s="1112" t="That&apos;s part of the art of doing this sort of thing. And learning a lot of that involves things like test strips. You take very simple images that have varying degrees of"><code onclick="Z(this)">0:18:32</code>That's part of the art of doing this sort of thing. And learning a lot of that involves things like test strips. You take very simple images that have varying degrees of</span><span s="1124" t="density in them, for example, and examine what those look like on a piece of paper when you print them out. You find out what is the range of contrasts that you can"><code onclick="Z(this)">0:18:44</code>density in them, for example, and examine what those look like on a piece of paper when you print them out. You find out what is the range of contrasts that you can</span><span s="1134" t="actually see. And what, in a real scene, would correspond to the various levels and zones that you have of density in an image."><code onclick="Z(this)">0:18:54</code>actually see. And what, in a real scene, would correspond to the various levels and zones that you have of density in an image.</span><span s="1145" t="Well, today I want to look at some very particular test strips, and I suppose one of them I see here is up on the telestrator, so we should switch to that."><code onclick="Z(this)">0:19:05</code>Well, today I want to look at some very particular test strips, and I suppose one of them I see here is up on the telestrator, so we should switch to that.</span><span s="1154" t="There&apos;s a very important, very important pair of programs for understanding what&apos;s going on in the evolution of a process"><code onclick="Z(this)">0:19:14</code>There's a very important, very important pair of programs for understanding what's going on in the evolution of a process</span><span s="1164" t="by the execution of a program. What we have here are two procedures that are almost identical. Almost no difference between them at all."><code onclick="Z(this)">0:19:24</code>by the execution of a program. What we have here are two procedures that are almost identical. Almost no difference between them at all.</span><span s="1175" t="It&apos;s a few characters that distinguish them. These are two ways of adding numbers together. The first one, which you see here, the first one is the sum"><code onclick="Z(this)">0:19:35</code>It's a few characters that distinguish them. These are two ways of adding numbers together. The first one, which you see here, the first one is the sum</span><span s="1188" t="of two numbers-- just what we did before-- is, if the first one is zero, it&apos;s the answer of the second one. Otherwise, it&apos;s the sum of the decrement of the first and the increment of the second."><code onclick="Z(this)">0:19:48</code>of two numbers-- just what we did before-- is, if the first one is zero, it's the answer of the second one. Otherwise, it's the sum of the decrement of the first and the increment of the second.</span><span s="1197" t="And you may think of that as having two piles. And the way I&apos;m adding these numbers together to make a"><code onclick="Z(this)">0:19:57</code>And you may think of that as having two piles. And the way I'm adding these numbers together to make a</span><span s="1206" t="third pile is by moving marbles from one to the other. Nothing more than that. And eventually, when I run out of one, then the other is the sum."><code onclick="Z(this)">0:20:06</code>third pile is by moving marbles from one to the other. Nothing more than that. And eventually, when I run out of one, then the other is the sum.</span><span s="1215" t="However, the second procedure here doesn&apos;t do it that way. It says if the first number is zero, then the answer is the second."><code onclick="Z(this)">0:20:15</code>However, the second procedure here doesn't do it that way. It says if the first number is zero, then the answer is the second.</span><span s="1224" t="Otherwise, it&apos;s the increment of the sum of the decrement of the first number and the second. So what this says is add together the decrement of the"><code onclick="Z(this)">0:20:24</code>Otherwise, it's the increment of the sum of the decrement of the first number and the second. So what this says is add together the decrement of the</span><span s="1235" t="first number and the second-- a simpler problem, no doubt-- and then change that result to increment it. And so this means that if you think about this in terms of"><code onclick="Z(this)">0:20:35</code>first number and the second-- a simpler problem, no doubt-- and then change that result to increment it. And so this means that if you think about this in terms of</span><span s="1245" t="piles, it means I&apos;m holding in my hand the things to be added later. And then I&apos;m going to add them in. As I slowly decrease one pile to zero, I&apos;ve got what&apos;s left"><code onclick="Z(this)">0:20:45</code>piles, it means I'm holding in my hand the things to be added later. And then I'm going to add them in. As I slowly decrease one pile to zero, I've got what's left</span><span s="1257" t="here, and then I&apos;m going to add them back. Two different ways of adding. The nice thing about these two programs is that they&apos;re almost identical."><code onclick="Z(this)">0:20:57</code>here, and then I'm going to add them back. Two different ways of adding. The nice thing about these two programs is that they're almost identical.</span><span s="1266" t="The only thing is where I put the increment. A couple of characters moved around. Now I want to understand the kind of behavior we&apos;re going"><code onclick="Z(this)">0:21:06</code>The only thing is where I put the increment. A couple of characters moved around. Now I want to understand the kind of behavior we're going</span><span s="1275" t="to get from each of these programs. Just to get them firmly in your mind-- I usually don&apos;t want to be this careful-- but just to get them firmly in your mind, I&apos;m going to write"><code onclick="Z(this)">0:21:15</code>to get from each of these programs. Just to get them firmly in your mind-- I usually don't want to be this careful-- but just to get them firmly in your mind, I'm going to write</span><span s="1284" t="the programs again on the blackboard, and then I&apos;m going to evolve a process. And you&apos;re going to see what happens. We&apos;re going to look at the shape of the process as a consequence of the program."><code onclick="Z(this)">0:21:24</code>the programs again on the blackboard, and then I'm going to evolve a process. And you're going to see what happens. We're going to look at the shape of the process as a consequence of the program.</span><span s="1294" t="So the program we started with is this: the sum of x and y"><code onclick="Z(this)">0:21:34</code>So the program we started with is this: the sum of x and y</span><span s="1304" t="says if x is zero, then the result is y. Otherwise, it&apos;s the sum of the decrement of x and the"><code onclick="Z(this)">0:21:44</code>says if x is zero, then the result is y. Otherwise, it's the sum of the decrement of x and the</span><span s="1316" t="increment of y. Now, supposing we wish to do this addition of three and"><code onclick="Z(this)">0:21:56</code>increment of y. Now, supposing we wish to do this addition of three and</span><span s="1325" t="four, the sum of three and four, well, what is that? It says that I have to substitute the arguments for"><code onclick="Z(this)">0:22:05</code>four, the sum of three and four, well, what is that? It says that I have to substitute the arguments for</span><span s="1334" t="the formal parameters in the body. I&apos;m doing that in my mind. And I say, oh, yes, three is substituted for x, but three is not zero, so I&apos;m going to go directly to this part and"><code onclick="Z(this)">0:22:14</code>the formal parameters in the body. I'm doing that in my mind. And I say, oh, yes, three is substituted for x, but three is not zero, so I'm going to go directly to this part and</span><span s="1348" t="write down the simplified consequent here. Because I&apos;m really interested in the behavior of addition. Well, what is that? That therefore turns into the sum of two and five."><code onclick="Z(this)">0:22:28</code>write down the simplified consequent here. Because I'm really interested in the behavior of addition. Well, what is that? That therefore turns into the sum of two and five.</span><span s="1358" t="In other words, I&apos;ve reduced this problem to this problem. Then I reduce this problem to the sum of one and six, and"><code onclick="Z(this)">0:22:38</code>In other words, I've reduced this problem to this problem. Then I reduce this problem to the sum of one and six, and</span><span s="1367" t="then, going around again once, I get the sum of zero and seven. And that&apos;s one where x equals zero so the result is y, and"><code onclick="Z(this)">0:22:47</code>then, going around again once, I get the sum of zero and seven. And that's one where x equals zero so the result is y, and</span><span s="1376" t="so I write down here a seven. So this is the behavior of the process evolved by trying to add together three and four with this program."><code onclick="Z(this)">0:22:56</code>so I write down here a seven. So this is the behavior of the process evolved by trying to add together three and four with this program.</span><span s="1387" t="For the other program, which is over here, I will define"><code onclick="Z(this)">0:23:07</code>For the other program, which is over here, I will define</span><span s="1400" t="the sum of x and y. And what is it? If x is zero, then the result is y-- almost the same--"><code onclick="Z(this)">0:23:20</code>the sum of x and y. And what is it? If x is zero, then the result is y-- almost the same--</span><span s="1412" t="otherwise the increment of the sum of the decrement of x and y."><code onclick="Z(this)">0:23:32</code>otherwise the increment of the sum of the decrement of x and y.</span><span s="1427" t="No. I don&apos;t have my balancer in front of me."><code onclick="Z(this)">0:23:47</code>No. I don't have my balancer in front of me.</span><span s="1436" t="OK, well, let&apos;s do it now. The sum of three and four. Well, this is actually a little more interesting. Of course, three is not zero as before, so that results in"><code onclick="Z(this)">0:23:56</code>OK, well, let's do it now. The sum of three and four. Well, this is actually a little more interesting. Of course, three is not zero as before, so that results in</span><span s="1447" t="the increment of the sum of the decrement of x, which is two and four, which is the increment of"><code onclick="Z(this)">0:24:07</code>the increment of the sum of the decrement of x, which is two and four, which is the increment of</span><span s="1459" t="the sum of one and-- whoops: the increment of the increment. What I have to do now is compute what this means."><code onclick="Z(this)">0:24:19</code>the sum of one and-- whoops: the increment of the increment. What I have to do now is compute what this means.</span><span s="1470" t="I have to evaluate this. Or what that is, the result of substituting two and four for x and y here. But that is the increment of the sum of one"><code onclick="Z(this)">0:24:30</code>I have to evaluate this. Or what that is, the result of substituting two and four for x and y here. But that is the increment of the sum of one</span><span s="1480" t="and four, which is-- well, now I have to expand this. Ah, but that&apos;s the increment of the increment of the"><code onclick="Z(this)">0:24:40</code>and four, which is-- well, now I have to expand this. Ah, but that's the increment of the increment of the</span><span s="1492" t="increment of the sum of zero and four. Ah, but now I&apos;m beginning to find things I can do."><code onclick="Z(this)">0:24:52</code>increment of the sum of zero and four. Ah, but now I'm beginning to find things I can do.</span><span s="1503" t="The increment of the increment of the increment of-- well, the sum of zero and four is four."><code onclick="Z(this)">0:25:03</code>The increment of the increment of the increment of-- well, the sum of zero and four is four.</span><span s="1512" t="The increment of four is five. So this is the increment of the increment of five, which is the increment of six, which is seven."><code onclick="Z(this)">0:25:12</code>The increment of four is five. So this is the increment of the increment of five, which is the increment of six, which is seven.</span><span s="1526" t="Two different ways of computing sums. Now, let&apos;s see. These processes have very different shapes. I want you to feel these shapes."><code onclick="Z(this)">0:25:26</code>Two different ways of computing sums. Now, let's see. These processes have very different shapes. I want you to feel these shapes.</span><span s="1536" t="It&apos;s the feeling for the shapes that matters. What&apos;s some things we can see about this? Well, somehow this is sort of straight."><code onclick="Z(this)">0:25:36</code>It's the feeling for the shapes that matters. What's some things we can see about this? Well, somehow this is sort of straight.</span><span s="1545" t="It goes this way-- straight. This right edge doesn&apos;t vary particularly in size."><code onclick="Z(this)">0:25:45</code>It goes this way-- straight. This right edge doesn't vary particularly in size.</span><span s="1554" t="Whereas this one, I see that this thing gets bigger and then it gets smaller. So I don&apos;t know what that means yet,"><code onclick="Z(this)">0:25:54</code>Whereas this one, I see that this thing gets bigger and then it gets smaller. So I don't know what that means yet,</span><span s="1563" t="but what are we seeing? We&apos;re seeing here that somehow these increments are expanding out and then contracting back."><code onclick="Z(this)">0:26:03</code>but what are we seeing? We're seeing here that somehow these increments are expanding out and then contracting back.</span><span s="1573" t="I&apos;m building up a bunch of them to do later. I can&apos;t do them now. There&apos;s things to be deferred. Well, let&apos;s see."><code onclick="Z(this)">0:26:13</code>I'm building up a bunch of them to do later. I can't do them now. There's things to be deferred. Well, let's see.</span><span s="1583" t="I can imagine an abstract machine. There&apos;s some physical machine, perhaps, that could be built to do it, which, in fact, executes these programs exactly as I tell you, substituting character strings in like this."><code onclick="Z(this)">0:26:23</code>I can imagine an abstract machine. There's some physical machine, perhaps, that could be built to do it, which, in fact, executes these programs exactly as I tell you, substituting character strings in like this.</span><span s="1594" t="Such a machine, the number of such steps is an approximation of the amount of time it takes. So this way is time."><code onclick="Z(this)">0:26:34</code>Such a machine, the number of such steps is an approximation of the amount of time it takes. So this way is time.</span><span s="1605" t="And the width of the thing is how much I have to remember in order to continue the process. And this much is space. And what we see here is a process that takes a time"><code onclick="Z(this)">0:26:45</code>And the width of the thing is how much I have to remember in order to continue the process. And this much is space. And what we see here is a process that takes a time</span><span s="1618" t="which is proportional to the argument x. Because if I made x larger by one, then I&apos;d had an extra line."><code onclick="Z(this)">0:26:58</code>which is proportional to the argument x. Because if I made x larger by one, then I'd had an extra line.</span><span s="1628" t="So this is a process which is space-- sorry-- time. The time of this process is what we say order of x."><code onclick="Z(this)">0:27:08</code>So this is a process which is space-- sorry-- time. The time of this process is what we say order of x.</span><span s="1640" t="That means it is proportional to x by some constant of proportionality, and I&apos;m not particularly interested in what the constant is. The other thing we see here is that the amount of space this"><code onclick="Z(this)">0:27:20</code>That means it is proportional to x by some constant of proportionality, and I'm not particularly interested in what the constant is. The other thing we see here is that the amount of space this</span><span s="1651" t="takes up is constant, it&apos;s proportional to one. So the space complexity of this is order of one."><code onclick="Z(this)">0:27:31</code>takes up is constant, it's proportional to one. So the space complexity of this is order of one.</span><span s="1662" t="We have a name for such a process. Such a process is called an iteration."><code onclick="Z(this)">0:27:42</code>We have a name for such a process. Such a process is called an iteration.</span><span s="1671" t="And what matters here is not that some particular machine I designed here and talked to you about and called a substitution machine or whatever--"><code onclick="Z(this)">0:27:51</code>And what matters here is not that some particular machine I designed here and talked to you about and called a substitution machine or whatever--</span><span s="1680" t="substitution model-- managed to do this in constant space. What really matters is this tells us a bound. Any machine could do this in constant space."><code onclick="Z(this)">0:28:00</code>substitution model-- managed to do this in constant space. What really matters is this tells us a bound. Any machine could do this in constant space.</span><span s="1689" t="This algorithm represented by this procedure is executable in constant space. Now, of course, the model is ignoring some things, standard"><code onclick="Z(this)">0:28:09</code>This algorithm represented by this procedure is executable in constant space. Now, of course, the model is ignoring some things, standard</span><span s="1698" t="sorts of things. Like numbers that are bigger take up more space and so on. But that&apos;s a level of abstraction at which I&apos;m cutting off. How do you represent numbers? I&apos;m considering every number to be the same size."><code onclick="Z(this)">0:28:18</code>sorts of things. Like numbers that are bigger take up more space and so on. But that's a level of abstraction at which I'm cutting off. How do you represent numbers? I'm considering every number to be the same size.</span><span s="1708" t="And numbers grow slowly for the amount of space they take up and their size. Now, this algorithm is different in its complexity."><code onclick="Z(this)">0:28:28</code>And numbers grow slowly for the amount of space they take up and their size. Now, this algorithm is different in its complexity.</span><span s="1718" t="As we can see here, this algorithm has a time complexity which is also proportional to the input"><code onclick="Z(this)">0:28:38</code>As we can see here, this algorithm has a time complexity which is also proportional to the input</span><span s="1728" t="argument x. That&apos;s because if I were to add one to three, if I made a larger problem, which is larger by one here, then I&apos;d add a line at the top and I&apos;d add a line at the bottom."><code onclick="Z(this)">0:28:48</code>argument x. That's because if I were to add one to three, if I made a larger problem, which is larger by one here, then I'd add a line at the top and I'd add a line at the bottom.</span><span s="1740" t="And the fact that it&apos;s a constant amount, like this is twice as many lines as that, is not interesting at the level of detail I&apos;m talking about right now. So this is a time complexity order of the input argument x."><code onclick="Z(this)">0:29:00</code>And the fact that it's a constant amount, like this is twice as many lines as that, is not interesting at the level of detail I'm talking about right now. So this is a time complexity order of the input argument x.</span><span s="1753" t="And space complexity, well, this is more interesting. I happen to have some overhead, which you see over here, which is constant approximately."><code onclick="Z(this)">0:29:13</code>And space complexity, well, this is more interesting. I happen to have some overhead, which you see over here, which is constant approximately.</span><span s="1763" t="Constant overhead. But then I have something which increases and decreases and is proportional to the input argument x. The input argument x is three. That&apos;s why there are three deferred increments sitting"><code onclick="Z(this)">0:29:23</code>Constant overhead. But then I have something which increases and decreases and is proportional to the input argument x. The input argument x is three. That's why there are three deferred increments sitting</span><span s="1774" t="around here. See? So the space complexity here is also order x. And this kind of process, named for the kind of process,"><code onclick="Z(this)">0:29:34</code>around here. See? So the space complexity here is also order x. And this kind of process, named for the kind of process,</span><span s="1784" t="this is a recursion. A linear recursion, I will call it, because of the fact"><code onclick="Z(this)">0:29:44</code>this is a recursion. A linear recursion, I will call it, because of the fact</span><span s="1796" t="that it&apos;s proportional to the input argument in both time and space. This could have been a linear iteration."><code onclick="Z(this)">0:29:56</code>that it's proportional to the input argument in both time and space. This could have been a linear iteration.</span><span s="1813" t="So then what&apos;s the essence of this matter? This matter isn&apos;t so obvious. Maybe there are other models by which we can describe the differences between iterative and recursive processes."><code onclick="Z(this)">0:30:13</code>So then what's the essence of this matter? This matter isn't so obvious. Maybe there are other models by which we can describe the differences between iterative and recursive processes.</span><span s="1823" t="Because this is hard now. Remember, we have-- those are both recursive definitions. What we&apos;re seeing there are both recursive definitions,"><code onclick="Z(this)">0:30:23</code>Because this is hard now. Remember, we have-- those are both recursive definitions. What we're seeing there are both recursive definitions,</span><span s="1832" t="definitions that refer to the thing being defined in the definition. But they lead to different shape processes. There&apos;s nothing special about the fact that the definition"><code onclick="Z(this)">0:30:32</code>definitions that refer to the thing being defined in the definition. But they lead to different shape processes. There's nothing special about the fact that the definition</span><span s="1842" t="is recursive that leads to a recursive process. OK. Let&apos;s think of another model. I&apos;m going to talk to you about bureaucracy."><code onclick="Z(this)">0:30:42</code>is recursive that leads to a recursive process. OK. Let's think of another model. I'm going to talk to you about bureaucracy.</span><span s="1852" t="Bureaucracy is sort of interesting. Here we see on a slide an iteration. An iteration is sort of a fun kind of process."><code onclick="Z(this)">0:30:52</code>Bureaucracy is sort of interesting. Here we see on a slide an iteration. An iteration is sort of a fun kind of process.</span><span s="1864" t="Imagine that there&apos;s a fellow called GJS-- that stands for me-- and he&apos;s got a problem: he wants to add together three and four."><code onclick="Z(this)">0:31:04</code>Imagine that there's a fellow called GJS-- that stands for me-- and he's got a problem: he wants to add together three and four.</span><span s="1873" t="This fella here wants to add together three and four. Well, the way he&apos;s going to do it-- he&apos;s lazy-- is he&apos;s going to find somebody else to help him do it. They way he finds someone else to--"><code onclick="Z(this)">0:31:13</code>This fella here wants to add together three and four. Well, the way he's going to do it-- he's lazy-- is he's going to find somebody else to help him do it. They way he finds someone else to--</span><span s="1882" t="he finds someone else to help him do it and says, well, give me the answer to three and four and return the result to me. He makes a little piece of paper and says, here, here&apos;s a"><code onclick="Z(this)">0:31:22</code>he finds someone else to help him do it and says, well, give me the answer to three and four and return the result to me. He makes a little piece of paper and says, here, here's a</span><span s="1892" t="piece of paper-- you go ahead and solve this problem and give the result back to me. And this guy, of course, is lazy, too. He doesn&apos;t want to see this piece of paper again."><code onclick="Z(this)">0:31:32</code>piece of paper-- you go ahead and solve this problem and give the result back to me. And this guy, of course, is lazy, too. He doesn't want to see this piece of paper again.</span><span s="1901" t="He says, oh, yes, produce a new problem, which is the sum of two ad five, and return the result back to GJS."><code onclick="Z(this)">0:31:41</code>He says, oh, yes, produce a new problem, which is the sum of two ad five, and return the result back to GJS.</span><span s="1910" t="I don&apos;t want to see it again. This guy does not want to see this piece of paper. And then this fellow makes a new problem, which is the"><code onclick="Z(this)">0:31:50</code>I don't want to see it again. This guy does not want to see this piece of paper. And then this fellow makes a new problem, which is the</span><span s="1921" t="addition of the sum of one and six, and he give it to this fella and says, produce that answer and returned it to GJS. And that produces a problem, which is to add together zero"><code onclick="Z(this)">0:32:01</code>addition of the sum of one and six, and he give it to this fella and says, produce that answer and returned it to GJS. And that produces a problem, which is to add together zero</span><span s="1931" t="and seven, and give the result to GJS. This fella finally just says, oh, yeah, the answer is seven, and sends it back to GJS. That&apos;s what an iteration is."><code onclick="Z(this)">0:32:11</code>and seven, and give the result to GJS. This fella finally just says, oh, yeah, the answer is seven, and sends it back to GJS. That's what an iteration is.</span><span s="1940" t="By contrast, a recursion is a slightly different kind of process. This one involves more bureaucracy. It keeps more people busy."><code onclick="Z(this)">0:32:20</code>By contrast, a recursion is a slightly different kind of process. This one involves more bureaucracy. It keeps more people busy.</span><span s="1950" t="It keeps more people employed. Perhaps it&apos;s better for that reason. But here it is: I want the answer to the problem three and four. So I make a piece of paper that says, give the result"><code onclick="Z(this)">0:32:30</code>It keeps more people employed. Perhaps it's better for that reason. But here it is: I want the answer to the problem three and four. So I make a piece of paper that says, give the result</span><span s="1960" t="back to me. Give it to this fella. This fellow says, oh, yes, I will remember that I have to add later, and I want to get the answer the problem two"><code onclick="Z(this)">0:32:40</code>back to me. Give it to this fella. This fellow says, oh, yes, I will remember that I have to add later, and I want to get the answer the problem two</span><span s="1971" t="plus four, give that one to Harry, and have the results sent back to me-- I&apos;m Joe. When the answer comes back from Harry, which is a six, I"><code onclick="Z(this)">0:32:51</code>plus four, give that one to Harry, and have the results sent back to me-- I'm Joe. When the answer comes back from Harry, which is a six, I</span><span s="1981" t="will then do the increment and give that seven back to GJS. So there are more pieces of paper outstanding in the"><code onclick="Z(this)">0:33:01</code>will then do the increment and give that seven back to GJS. So there are more pieces of paper outstanding in the</span><span s="1990" t="recursive process than the iteration. There&apos;s another way to think about what an iteration is and"><code onclick="Z(this)">0:33:10</code>recursive process than the iteration. There's another way to think about what an iteration is and</span><span s="1999" t="the difference between an iteration and a recursion. You see, the question is, how much stuff is under the table? If I were to stop--"><code onclick="Z(this)">0:33:19</code>the difference between an iteration and a recursion. You see, the question is, how much stuff is under the table? If I were to stop--</span><span s="2008" t="supposing I were to kill this computer right now, OK? And at this point I lose the state of affairs, well, I"><code onclick="Z(this)">0:33:28</code>supposing I were to kill this computer right now, OK? And at this point I lose the state of affairs, well, I</span><span s="2017" t="could continue the computation from this point but everything I need to continue the computation is in the valuables that were defined in the procedure that the"><code onclick="Z(this)">0:33:37</code>could continue the computation from this point but everything I need to continue the computation is in the valuables that were defined in the procedure that the</span><span s="2028" t="programmer wrote for me. An iteration is a system that has all of its state in explicit variables. Whereas the recursion is not quite the same."><code onclick="Z(this)">0:33:48</code>programmer wrote for me. An iteration is a system that has all of its state in explicit variables. Whereas the recursion is not quite the same.</span><span s="2041" t="If I were to lose this pile of junk over here, and all I was left with was the sum of one and four, that&apos;s not enough information to continue the process of computing out the"><code onclick="Z(this)">0:34:01</code>If I were to lose this pile of junk over here, and all I was left with was the sum of one and four, that's not enough information to continue the process of computing out the</span><span s="2050" t="seven from the original problem of adding together three of four. Besides the information that&apos;s in the variables of the formal"><code onclick="Z(this)">0:34:10</code>seven from the original problem of adding together three of four. Besides the information that's in the variables of the formal</span><span s="2060" t="parameters of the program, there is also information under the table belonging to the computer, which is what things have been deferred for later."><code onclick="Z(this)">0:34:20</code>parameters of the program, there is also information under the table belonging to the computer, which is what things have been deferred for later.</span><span s="2070" t="And, of course, there&apos;s a physical analogy to this, which is in differential equations, for example, when we talk about something like drawing a circle."><code onclick="Z(this)">0:34:30</code>And, of course, there's a physical analogy to this, which is in differential equations, for example, when we talk about something like drawing a circle.</span><span s="2082" t="Try to draw a circle, you make that out of a differential equation which says the change in my state as a function of"><code onclick="Z(this)">0:34:42</code>Try to draw a circle, you make that out of a differential equation which says the change in my state as a function of</span><span s="2091" t="my current state. So if my current state corresponds to particular values of y and x, then I can compute from them a derivative"><code onclick="Z(this)">0:34:51</code>my current state. So if my current state corresponds to particular values of y and x, then I can compute from them a derivative</span><span s="2100" t="which says how the state must change. And, in fact, you can see this was a circle because if I"><code onclick="Z(this)">0:35:00</code>which says how the state must change. And, in fact, you can see this was a circle because if I</span><span s="2109" t="happen to be, say, at this place over here, at one, zero, for example, on this graph, then it means that the"><code onclick="Z(this)">0:35:09</code>happen to be, say, at this place over here, at one, zero, for example, on this graph, then it means that the</span><span s="2120" t="derivative of y is x, which we see over here. That&apos;s one, so I&apos;m going up. And the derivative of x is minus y, which"><code onclick="Z(this)">0:35:20</code>derivative of y is x, which we see over here. That's one, so I'm going up. And the derivative of x is minus y, which</span><span s="2129" t="means I&apos;m going backwards. I&apos;m actually doing nothing at this point, then I start going backwards as y increases. So that&apos;s how you make a circle."><code onclick="Z(this)">0:35:29</code>means I'm going backwards. I'm actually doing nothing at this point, then I start going backwards as y increases. So that's how you make a circle.</span><span s="2140" t="And the interesting thing to see is a little program that will draw a circle by this method. Actually, this won&apos;t draw a circle because it&apos;s a forward oil or integrator and will eventually"><code onclick="Z(this)">0:35:40</code>And the interesting thing to see is a little program that will draw a circle by this method. Actually, this won't draw a circle because it's a forward oil or integrator and will eventually</span><span s="2149" t="spiral out and all that. But it&apos;ll draw a circle for a while before it starts spiraling. However, what we see here is two state variables, x and y."><code onclick="Z(this)">0:35:49</code>spiral out and all that. But it'll draw a circle for a while before it starts spiraling. However, what we see here is two state variables, x and y.</span><span s="2158" t="And there&apos;s an iteration that says, in order to circle, given an x and y, what I want is to circle with the next values of x and y being the old value of x decrement by y"><code onclick="Z(this)">0:35:58</code>And there's an iteration that says, in order to circle, given an x and y, what I want is to circle with the next values of x and y being the old value of x decrement by y</span><span s="2168" t="times dt where dt is the time step and the old value of y being implemented by x times dt, giving me the new values"><code onclick="Z(this)">0:36:08</code>times dt where dt is the time step and the old value of y being implemented by x times dt, giving me the new values</span><span s="2177" t="of x and y. So now you have a feeling for at least two different kinds of processes that can be evolved by"><code onclick="Z(this)">0:36:17</code>of x and y. So now you have a feeling for at least two different kinds of processes that can be evolved by</span><span s="2188" t="almost the same program. And with a little bit of perturbation analysis like this, how you change a program a little bit and see how the"><code onclick="Z(this)">0:36:28</code>almost the same program. And with a little bit of perturbation analysis like this, how you change a program a little bit and see how the</span><span s="2197" t="process changes, that&apos;s how we get some intuition. Pretty soon we&apos;re going to use that intuition to build big, hairy, complicated systems."><code onclick="Z(this)">0:36:37</code>process changes, that's how we get some intuition. Pretty soon we're going to use that intuition to build big, hairy, complicated systems.</span><span s="2206" t="Thank you. [MUSIC PLAYING BY J.S. BACH]"><code onclick="Z(this)">0:36:46</code>Thank you. [MUSIC PLAYING BY J.S. BACH]</span><span s="2226" t="PROFESSOR: Well, you&apos;ve just seen a simple perturbational analysis of some programs. I took a program that was very similar to another program and looked at them both and saw how they evolved processes."><code onclick="Z(this)">0:37:06</code>PROFESSOR: Well, you've just seen a simple perturbational analysis of some programs. I took a program that was very similar to another program and looked at them both and saw how they evolved processes.</span><span s="2238" t="I want to show you some variety by showing you some other processes and shapes they may have. Again, we&apos;re going to take very simple things, programs that you wouldn&apos;t want to ever write."><code onclick="Z(this)">0:37:18</code>I want to show you some variety by showing you some other processes and shapes they may have. Again, we're going to take very simple things, programs that you wouldn't want to ever write.</span><span s="2249" t="They would be probably the worst way of computing some of the things we&apos;re going to compute. But I&apos;m just going to show you these things for the purpose of feeling out how to program represents itself as the rule"><code onclick="Z(this)">0:37:29</code>They would be probably the worst way of computing some of the things we're going to compute. But I'm just going to show you these things for the purpose of feeling out how to program represents itself as the rule</span><span s="2262" t="for the evolution of a process. So let&apos;s consider a fun thing, the Fibonacci numbers. You probably know about the Fibonacci numbers."><code onclick="Z(this)">0:37:42</code>for the evolution of a process. So let's consider a fun thing, the Fibonacci numbers. You probably know about the Fibonacci numbers.</span><span s="2273" t="Somebody, I can&apos;t remember who, was interested in the growth of piles of rabbits. And for some reason or other, the piles of rabbits tend to"><code onclick="Z(this)">0:37:53</code>Somebody, I can't remember who, was interested in the growth of piles of rabbits. And for some reason or other, the piles of rabbits tend to</span><span s="2283" t="grow exponentially, as we know. And we have a nice model for this process, is that we start with two numbers, zero and one."><code onclick="Z(this)">0:38:03</code>grow exponentially, as we know. And we have a nice model for this process, is that we start with two numbers, zero and one.</span><span s="2293" t="And then every number after this is the sum of the two previous. So we have here a one. Then the sum of these two is two."><code onclick="Z(this)">0:38:13</code>And then every number after this is the sum of the two previous. So we have here a one. Then the sum of these two is two.</span><span s="2302" t="The sum of those two is three. The sum of those two is five. The sum of those two is eight. The sum of those two is 13."><code onclick="Z(this)">0:38:22</code>The sum of those two is three. The sum of those two is five. The sum of those two is eight. The sum of those two is 13.</span><span s="2311" t="This is 21. 34. 55. Et cetera."><code onclick="Z(this)">0:38:31</code>This is 21. 34. 55. Et cetera.</span><span s="2320" t="If we start numbering these numbers, say this is the zeroth one, the first one, the second one, the third one, the fourth one, et cetera. This is the 10th one, the 10th Fibonacci number."><code onclick="Z(this)">0:38:40</code>If we start numbering these numbers, say this is the zeroth one, the first one, the second one, the third one, the fourth one, et cetera. This is the 10th one, the 10th Fibonacci number.</span><span s="2331" t="These numbers grow very fast. Just like rabbits. Why rabbits grow this way I&apos;m not going to hazard a guess. Now, I&apos;m going to try to write for you the very simplest"><code onclick="Z(this)">0:38:51</code>These numbers grow very fast. Just like rabbits. Why rabbits grow this way I'm not going to hazard a guess. Now, I'm going to try to write for you the very simplest</span><span s="2342" t="program that computes Fibonacci numbers. What I want is a program that, given an n, will produce for"><code onclick="Z(this)">0:39:02</code>program that computes Fibonacci numbers. What I want is a program that, given an n, will produce for</span><span s="2353" t="me Fibonacci event. OK? I&apos;ll write it right here."><code onclick="Z(this)">0:39:13</code>me Fibonacci event. OK? I'll write it right here.</span><span s="2368" t="I want the Fibonacci of n, which means the-- this is the n, and this is Fibonacci of n. And here&apos;s the story."><code onclick="Z(this)">0:39:28</code>I want the Fibonacci of n, which means the-- this is the n, and this is Fibonacci of n. And here's the story.</span><span s="2378" t="If n is less than two, then the result is n. Because that&apos;s what these are."><code onclick="Z(this)">0:39:38</code>If n is less than two, then the result is n. Because that's what these are.</span><span s="2387" t="That&apos;s how you start it up. Otherwise, the result is the sum of Fib of n minus one and"><code onclick="Z(this)">0:39:47</code>That's how you start it up. Otherwise, the result is the sum of Fib of n minus one and</span><span s="2398" t="the Fibonacci number, n minus two."><code onclick="Z(this)">0:39:58</code>the Fibonacci number, n minus two.</span><span s="2410" t="So this is a very simple, direct specification of the description of Fibonacci numbers that I gave you when I introduced those numbers. It represents the recurrence relation in the simplest"><code onclick="Z(this)">0:40:10</code>So this is a very simple, direct specification of the description of Fibonacci numbers that I gave you when I introduced those numbers. It represents the recurrence relation in the simplest</span><span s="2421" t="possible way. Now, how do we use such a thing? Let&apos;s draw this process. Let&apos;s figure out what this does. Let&apos;s consider something very simple by computing"><code onclick="Z(this)">0:40:21</code>possible way. Now, how do we use such a thing? Let's draw this process. Let's figure out what this does. Let's consider something very simple by computing</span><span s="2431" t="Fibonacci of four. To compute Fibonacci of four, what do I do? Well, it says I have--"><code onclick="Z(this)">0:40:31</code>Fibonacci of four. To compute Fibonacci of four, what do I do? Well, it says I have--</span><span s="2441" t="it&apos;s not less than two. Therefore it&apos;s the sum of two things. Well, in order to compute that I have to compute, then, Fibonacci of three and Fibonacci of two."><code onclick="Z(this)">0:40:41</code>it's not less than two. Therefore it's the sum of two things. Well, in order to compute that I have to compute, then, Fibonacci of three and Fibonacci of two.</span><span s="2457" t="In order to compute Fibonacci of three, I have to compute Fibonacci of two and Fibonacci of one."><code onclick="Z(this)">0:40:57</code>In order to compute Fibonacci of three, I have to compute Fibonacci of two and Fibonacci of one.</span><span s="2468" t="In order to compute Fibonacci of two, I have to compute Fibonacci of one and Fibonacci of zero. In order to compute Fibonacci of one, well,"><code onclick="Z(this)">0:41:08</code>In order to compute Fibonacci of two, I have to compute Fibonacci of one and Fibonacci of zero. In order to compute Fibonacci of one, well,</span><span s="2478" t="the answer is one. That&apos;s from the base case of this recursion. And in order to compute Fibonacci of one, well, that"><code onclick="Z(this)">0:41:18</code>the answer is one. That's from the base case of this recursion. And in order to compute Fibonacci of one, well, that</span><span s="2488" t="answer is zero, from the same base. And here is a one. And Fibonacci of two is really the sum of Fibonacci of one."><code onclick="Z(this)">0:41:28</code>answer is zero, from the same base. And here is a one. And Fibonacci of two is really the sum of Fibonacci of one.</span><span s="2498" t="And Fib of zero, in order to compute that, I get a one, and here I&apos;ve got a zero."><code onclick="Z(this)">0:41:38</code>And Fib of zero, in order to compute that, I get a one, and here I've got a zero.</span><span s="2507" t="I&apos;ve built a tree. Now, we can observe some things about this tree. We can see why this is an extremely bad way to compute"><code onclick="Z(this)">0:41:47</code>I've built a tree. Now, we can observe some things about this tree. We can see why this is an extremely bad way to compute</span><span s="2516" t="Fibonacci numbers. Because in order to compute Fibonacci of four, I had to compute Fibonacci of two&apos;s sub-tree twice."><code onclick="Z(this)">0:41:56</code>Fibonacci numbers. Because in order to compute Fibonacci of four, I had to compute Fibonacci of two's sub-tree twice.</span><span s="2527" t="In fact, in order way to add one more, supposing I want to do Fibonacci of five, what I really have to do then is compute Fibonacci of four plus Fibonacci of three."><code onclick="Z(this)">0:42:07</code>In fact, in order way to add one more, supposing I want to do Fibonacci of five, what I really have to do then is compute Fibonacci of four plus Fibonacci of three.</span><span s="2538" t="But Fibonacci of three&apos;s sub-tree has already been built. This is a prescription for a process that&apos;s"><code onclick="Z(this)">0:42:18</code>But Fibonacci of three's sub-tree has already been built. This is a prescription for a process that's</span><span s="2547" t="exponential in time. To add one, I have to multiply by something because I take a proportion of the existing thing and add it to itself to"><code onclick="Z(this)">0:42:27</code>exponential in time. To add one, I have to multiply by something because I take a proportion of the existing thing and add it to itself to</span><span s="2558" t="add one more step. So this is a thing whose time complexity is order of--"><code onclick="Z(this)">0:42:38</code>add one more step. So this is a thing whose time complexity is order of--</span><span s="2568" t="actually, it turns out to be Fibonacci-- of n. There&apos;s a thing that grows exactly at Fibonacci numbers."><code onclick="Z(this)">0:42:48</code>actually, it turns out to be Fibonacci-- of n. There's a thing that grows exactly at Fibonacci numbers.</span><span s="2581" t="It&apos;s a horrible thing. You wouldn&apos;t want to do it. The reason why the time has to grow that way is because we&apos;re presuming in the model-- the substitution model that I gave you, which I&apos;m not doing formally here, I sort of now spit it out in a simple way--"><code onclick="Z(this)">0:43:01</code>It's a horrible thing. You wouldn't want to do it. The reason why the time has to grow that way is because we're presuming in the model-- the substitution model that I gave you, which I'm not doing formally here, I sort of now spit it out in a simple way--</span><span s="2594" t="but presuming that everything is done sequentially. That every one of these nodes in this tree has to be examined."><code onclick="Z(this)">0:43:14</code>but presuming that everything is done sequentially. That every one of these nodes in this tree has to be examined.</span><span s="2604" t="And so since the number of nodes in this tree grows exponentially, because I add a proportion of the existing nodes to the nodes I already have to add one, then I know"><code onclick="Z(this)">0:43:24</code>And so since the number of nodes in this tree grows exponentially, because I add a proportion of the existing nodes to the nodes I already have to add one, then I know</span><span s="2615" t="I&apos;ve got an exponential explosion here. Now, let&apos;s see if we can think of how much space this takes up."><code onclick="Z(this)">0:43:35</code>I've got an exponential explosion here. Now, let's see if we can think of how much space this takes up.</span><span s="2624" t="Well, it&apos;s not so bad. It depends on how much we have to remember in order to continue this thing running. Well, that&apos;s not so hard. It says, gee, in order to know where I am in this tree, I"><code onclick="Z(this)">0:43:44</code>Well, it's not so bad. It depends on how much we have to remember in order to continue this thing running. Well, that's not so hard. It says, gee, in order to know where I am in this tree, I</span><span s="2634" t="have to have a path back to the root. In other words, in order to-- let&apos;s consider the path I would have to execute this. I&apos;d say, oh, yes, I&apos;m going to go down here."><code onclick="Z(this)">0:43:54</code>have to have a path back to the root. In other words, in order to-- let's consider the path I would have to execute this. I'd say, oh, yes, I'm going to go down here.</span><span s="2643" t="I don&apos;t care which direction I go. I have to do this. I have to then do this. I have to traverse this tree in a sort of funny way."><code onclick="Z(this)">0:44:03</code>I don't care which direction I go. I have to do this. I have to then do this. I have to traverse this tree in a sort of funny way.</span><span s="2652" t="I&apos;m going to walk this nice little path. I come back to here. Well, I&apos;ve got to remember where I&apos;m going to be next. I&apos;ve got to keep that in mind. So I have to know what I&apos;ve done."><code onclick="Z(this)">0:44:12</code>I'm going to walk this nice little path. I come back to here. Well, I've got to remember where I'm going to be next. I've got to keep that in mind. So I have to know what I've done.</span><span s="2661" t="I have to know what&apos;s left. In order to compute Fibonacci of four, at some point I&apos;m going to have to be down here. And I have to remember that I have to go back and then go"><code onclick="Z(this)">0:44:21</code>I have to know what's left. In order to compute Fibonacci of four, at some point I'm going to have to be down here. And I have to remember that I have to go back and then go</span><span s="2672" t="back to here to do an addition. And then go back to here to do an addition to something I haven&apos;t touched yet. The amount of space that takes up is the path, the longest path."><code onclick="Z(this)">0:44:32</code>back to here to do an addition. And then go back to here to do an addition to something I haven't touched yet. The amount of space that takes up is the path, the longest path.</span><span s="2682" t="How long it is. And that grows as n. So the space-- because that&apos;s the length of the deepest"><code onclick="Z(this)">0:44:42</code>How long it is. And that grows as n. So the space-- because that's the length of the deepest</span><span s="2693" t="line through the tree-- the space is order of n. It&apos;s a pretty bad process."><code onclick="Z(this)">0:44:53</code>line through the tree-- the space is order of n. It's a pretty bad process.</span><span s="2709" t="Now, one thing I want to see from this is a feeling of what&apos;s going on here. Why are there-- how is this program related to this process?"><code onclick="Z(this)">0:45:09</code>Now, one thing I want to see from this is a feeling of what's going on here. Why are there-- how is this program related to this process?</span><span s="2720" t="Well, what are we seeing here? There really are only two sorts of things this program does. This program consists of two rules, if you will."><code onclick="Z(this)">0:45:20</code>Well, what are we seeing here? There really are only two sorts of things this program does. This program consists of two rules, if you will.</span><span s="2729" t="One rule that says Fibonacci of n is this sum that you see over here, which is a node that&apos;s shaped like this."><code onclick="Z(this)">0:45:29</code>One rule that says Fibonacci of n is this sum that you see over here, which is a node that's shaped like this.</span><span s="2742" t="It says that I break up something into two parts. Under some condition over here that n is greater than two,"><code onclick="Z(this)">0:45:42</code>It says that I break up something into two parts. Under some condition over here that n is greater than two,</span><span s="2752" t="then the node breaks up into two parts. Less than two. No. Greater than two. Yes."><code onclick="Z(this)">0:45:52</code>then the node breaks up into two parts. Less than two. No. Greater than two. Yes.</span><span s="2761" t="The other possibility is that I have a reduction that looks like this. And that&apos;s this case."><code onclick="Z(this)">0:46:01</code>The other possibility is that I have a reduction that looks like this. And that's this case.</span><span s="2770" t="If it&apos;s less than two, the answer is n itself. So what we&apos;re seeing here is that the process that got built locally at every place is an instance of this rule."><code onclick="Z(this)">0:46:10</code>If it's less than two, the answer is n itself. So what we're seeing here is that the process that got built locally at every place is an instance of this rule.</span><span s="2782" t="Here&apos;s one instance of the rule. Here is another instance of the rule. And the reason why people think of programming as being hard, of course, is because you&apos;re writing down a general"><code onclick="Z(this)">0:46:22</code>Here's one instance of the rule. Here is another instance of the rule. And the reason why people think of programming as being hard, of course, is because you're writing down a general</span><span s="2792" t="rule, which is going to be used for lots of instances, that a particular instance-- it&apos;s going to control each particular instance for you."><code onclick="Z(this)">0:46:32</code>rule, which is going to be used for lots of instances, that a particular instance-- it's going to control each particular instance for you.</span><span s="2803" t="You&apos;ve got to write down something that&apos;s a general in terms of variables, and you have to think of all the things that could possibly fit in those variables, and all those have to lead to the process you want to work."><code onclick="Z(this)">0:46:43</code>You've got to write down something that's a general in terms of variables, and you have to think of all the things that could possibly fit in those variables, and all those have to lead to the process you want to work.</span><span s="2813" t="Locally, you have to break up your process into things that can be represented in terms of these very specific local rules."><code onclick="Z(this)">0:46:53</code>Locally, you have to break up your process into things that can be represented in terms of these very specific local rules.</span><span s="2823" t="Well, let&apos;s see. Fibonaccis are, of course, not much fun. Yes, they are. You get something called the golden ratio, and we may even"><code onclick="Z(this)">0:47:03</code>Well, let's see. Fibonaccis are, of course, not much fun. Yes, they are. You get something called the golden ratio, and we may even</span><span s="2832" t="see a lot of that some time. Well, let&apos;s talk about another thing. There&apos;s a famous game called the Towers of Hanoi, because I want to teach you how to think about these recursively."><code onclick="Z(this)">0:47:12</code>see a lot of that some time. Well, let's talk about another thing. There's a famous game called the Towers of Hanoi, because I want to teach you how to think about these recursively.</span><span s="2844" t="The problem is this one: I have a bunch of disks, I have a bunch of spikes, and it&apos;s rumored that somewhere in the"><code onclick="Z(this)">0:47:24</code>The problem is this one: I have a bunch of disks, I have a bunch of spikes, and it's rumored that somewhere in the</span><span s="2854" t="Orient there is a 64-high tower, and the job of various monks or something is to move these spikes in some complicated pattern so eventually--"><code onclick="Z(this)">0:47:34</code>Orient there is a 64-high tower, and the job of various monks or something is to move these spikes in some complicated pattern so eventually--</span><span s="2863" t="these disks-- so eventually I moved all of the disks from one spike to the other. And if it&apos;s 64 high, and it&apos;s going to take two to the 64th"><code onclick="Z(this)">0:47:43</code>these disks-- so eventually I moved all of the disks from one spike to the other. And if it's 64 high, and it's going to take two to the 64th</span><span s="2874" t="moves, then it&apos;s a long time. They claim that the universe ends when this is done."><code onclick="Z(this)">0:47:54</code>moves, then it's a long time. They claim that the universe ends when this is done.</span><span s="2883" t="Well, let&apos;s see. The way in which you would construct a recursive process is by wishful thinking. You have to believe."><code onclick="Z(this)">0:48:03</code>Well, let's see. The way in which you would construct a recursive process is by wishful thinking. You have to believe.</span><span s="2894" t="So, the idea. Supposing I want to move this pile from here to here, from spike one to spike two, well, that&apos;s not so hard."><code onclick="Z(this)">0:48:14</code>So, the idea. Supposing I want to move this pile from here to here, from spike one to spike two, well, that's not so hard.</span><span s="2905" t="See, supposing somehow, by some magic-- because I&apos;ve got a simpler problem-- I move a three-high pile to here-- I can only move one disk at a time, so identifying how I did it. But supposing I could do that, well, then I could just pick"><code onclick="Z(this)">0:48:25</code>See, supposing somehow, by some magic-- because I've got a simpler problem-- I move a three-high pile to here-- I can only move one disk at a time, so identifying how I did it. But supposing I could do that, well, then I could just pick</span><span s="2917" t="up this disk and move it here. And now I have a simple problem. I have to move a three-high tower to here, which is no problem."><code onclick="Z(this)">0:48:37</code>up this disk and move it here. And now I have a simple problem. I have to move a three-high tower to here, which is no problem.</span><span s="2926" t="So by two moves of a three high tower plus one move of a single object, I can move the tower from here to here."><code onclick="Z(this)">0:48:46</code>So by two moves of a three high tower plus one move of a single object, I can move the tower from here to here.</span><span s="2935" t="Now, whether or not-- this is not obvious in any deep way that this works. And why?"><code onclick="Z(this)">0:48:55</code>Now, whether or not-- this is not obvious in any deep way that this works. And why?</span><span s="2944" t="Now, why is it the case that I can presume, maybe, that I can move the three-high tower? Well, the answer is because I&apos;m always counting down, and"><code onclick="Z(this)">0:49:04</code>Now, why is it the case that I can presume, maybe, that I can move the three-high tower? Well, the answer is because I'm always counting down, and</span><span s="2954" t="eventually I get down to zero-high tower, and a zero-high tower requires no moves. So let&apos;s write the algorithm for that."><code onclick="Z(this)">0:49:14</code>eventually I get down to zero-high tower, and a zero-high tower requires no moves. So let's write the algorithm for that.</span><span s="2964" t="Very easy. I&apos;m going to label these towers with numbers, but it doesn&apos;t matter what they&apos;re labelled with. And the problem is to move an n-high tower from a spike"><code onclick="Z(this)">0:49:24</code>Very easy. I'm going to label these towers with numbers, but it doesn't matter what they're labelled with. And the problem is to move an n-high tower from a spike</span><span s="2975" t="called From to a spike called To with a particular spike called Spare. That&apos;s what we&apos;re going to do."><code onclick="Z(this)">0:49:35</code>called From to a spike called To with a particular spike called Spare. That's what we're going to do.</span><span s="2990" t="Using the algorithm I informally described to you, move of a n-high tower from From to To with a Spare."><code onclick="Z(this)">0:49:50</code>Using the algorithm I informally described to you, move of a n-high tower from From to To with a Spare.</span><span s="3006" t="Well, I&apos;ve got two cases, and this is a case analysis, just like it is in all the other things we&apos;ve done."><code onclick="Z(this)">0:50:06</code>Well, I've got two cases, and this is a case analysis, just like it is in all the other things we've done.</span><span s="3020" t="If n is zero, then-- I&apos;m going to put out some answers-- Done, we&apos;ll say. I don&apos;t know what that means."><code onclick="Z(this)">0:50:20</code>If n is zero, then-- I'm going to put out some answers-- Done, we'll say. I don't know what that means.</span><span s="3029" t="Because we&apos;ll never use that answer for anything. We&apos;re going to do these moves. Else. I&apos;m going to do a move."><code onclick="Z(this)">0:50:29</code>Because we'll never use that answer for anything. We're going to do these moves. Else. I'm going to do a move.</span><span s="3040" t="Move a tower of height less than n, the decrement of n height. Now, I&apos;m going to move it to the Spare tower."><code onclick="Z(this)">0:50:40</code>Move a tower of height less than n, the decrement of n height. Now, I'm going to move it to the Spare tower.</span><span s="3051" t="The whole idea now is to move this from here to here, to the Spare tower-- so from From to Spare--"><code onclick="Z(this)">0:50:51</code>The whole idea now is to move this from here to here, to the Spare tower-- so from From to Spare--</span><span s="3063" t="using To as a spare tower. Later, somewhere later, I&apos;m going to move that same n-high"><code onclick="Z(this)">0:51:03</code>using To as a spare tower. Later, somewhere later, I'm going to move that same n-high</span><span s="3074" t="tower, after I&apos;ve done this. Going to move that same n minus one-high tower from the Spare tower to the To tower using the"><code onclick="Z(this)">0:51:14</code>tower, after I've done this. Going to move that same n minus one-high tower from the Spare tower to the To tower using the</span><span s="3084" t="From tower as my spare. So the Spare tower to the To tower using"><code onclick="Z(this)">0:51:24</code>From tower as my spare. So the Spare tower to the To tower using</span><span s="3100" t="the From as the spare. All I have to do now is when I&apos;ve gotten it in this"><code onclick="Z(this)">0:51:40</code>the From as the spare. All I have to do now is when I've gotten it in this</span><span s="3111" t="condition, between these two moves of a whole tower-- I&apos;ve got it into that condition-- now I just have to move one disk."><code onclick="Z(this)">0:51:51</code>condition, between these two moves of a whole tower-- I've got it into that condition-- now I just have to move one disk.</span><span s="3123" t="So I&apos;m going to say that some things are printing a move and I don&apos;t care how it works. From the To."><code onclick="Z(this)">0:52:03</code>So I'm going to say that some things are printing a move and I don't care how it works. From the To.</span><span s="3137" t="Now, you see the reason why I&apos;m bringing this up at this moment is this is an almost identical program to this one in some sense."><code onclick="Z(this)">0:52:17</code>Now, you see the reason why I'm bringing this up at this moment is this is an almost identical program to this one in some sense.</span><span s="3146" t="It&apos;s not computing the same mathematical quantity, it&apos;s not exactly the same tree, but it&apos;s going to produce a tree. The general way of making these moves is going to lead"><code onclick="Z(this)">0:52:26</code>It's not computing the same mathematical quantity, it's not exactly the same tree, but it's going to produce a tree. The general way of making these moves is going to lead</span><span s="3158" t="to an exponential tree. Well, let&apos;s do this four-high. I have my little crib sheet here otherwise I get confused."><code onclick="Z(this)">0:52:38</code>to an exponential tree. Well, let's do this four-high. I have my little crib sheet here otherwise I get confused.</span><span s="3174" t="Well, what I&apos;m going to put in is the question of move a tower of height four from one to spike two using spike three"><code onclick="Z(this)">0:52:54</code>Well, what I'm going to put in is the question of move a tower of height four from one to spike two using spike three</span><span s="3190" t="as a spare. That&apos;s all I&apos;m really going to do. You know, let&apos;s just do it. I&apos;m not going to worry about writing out the traits of this. You can do that yourself because it&apos;s very simple."><code onclick="Z(this)">0:53:10</code>as a spare. That's all I'm really going to do. You know, let's just do it. I'm not going to worry about writing out the traits of this. You can do that yourself because it's very simple.</span><span s="3201" t="I&apos;m going to move disk one to disk three. And how do I get to move disk one to disk three? How do I know that? Well, I suppose I have to look at the trace a little bit."><code onclick="Z(this)">0:53:21</code>I'm going to move disk one to disk three. And how do I get to move disk one to disk three? How do I know that? Well, I suppose I have to look at the trace a little bit.</span><span s="3212" t="What am I doing here? Well, and this is not-- n is not zero. So I&apos;m going to look down here. This is going to require doing two moves."><code onclick="Z(this)">0:53:32</code>What am I doing here? Well, and this is not-- n is not zero. So I'm going to look down here. This is going to require doing two moves.</span><span s="3221" t="I&apos;m only going to look at the first one. It&apos;s going to require moving-- why do I have move tower? It makes it harder for me to move."><code onclick="Z(this)">0:53:41</code>I'm only going to look at the first one. It's going to require moving-- why do I have move tower? It makes it harder for me to move.</span><span s="3232" t="I&apos;m going to move a three-high tower from the from place, which is four, to the spare, which is two,"><code onclick="Z(this)">0:53:52</code>I'm going to move a three-high tower from the from place, which is four, to the spare, which is two,</span><span s="3244" t="using three as my-- no, using from--"><code onclick="Z(this)">0:54:04</code>using three as my-- no, using from--</span><span s="3255" t="STUDENT: [INAUDIBLE PHRASE]. PROFESSOR: Yes. I&apos;m sorry. From two-- from one to three using two as my spare."><code onclick="Z(this)">0:54:15</code>STUDENT: [INAUDIBLE PHRASE]. PROFESSOR: Yes. I'm sorry. From two-- from one to three using two as my spare.</span><span s="3266" t="That&apos;s right. And then there&apos;s another move over here afterwards. So now I say, oh, yes, that requires me moving a two-high"><code onclick="Z(this)">0:54:26</code>That's right. And then there's another move over here afterwards. So now I say, oh, yes, that requires me moving a two-high</span><span s="3277" t="tower from one to two using three as a spare. And so, are the same, and that&apos;s going to require me moving and one-high tower from one to three"><code onclick="Z(this)">0:54:37</code>tower from one to two using three as a spare. And so, are the same, and that's going to require me moving and one-high tower from one to three</span><span s="3292" t="using two as a spare. Well, and then there&apos;s lots of other things to be done."><code onclick="Z(this)">0:54:52</code>using two as a spare. Well, and then there's lots of other things to be done.</span><span s="3303" t="So I move my one-high tower from one to three using two as a spare, which I didn&apos;t do anything with. Well, this thing just proceeds very simply."><code onclick="Z(this)">0:55:03</code>So I move my one-high tower from one to three using two as a spare, which I didn't do anything with. Well, this thing just proceeds very simply.</span><span s="3315" t="I move this from one to two. And I move this disk from three to two. And I don&apos;t really want to do it, but I move from one to three."><code onclick="Z(this)">0:55:15</code>I move this from one to two. And I move this disk from three to two. And I don't really want to do it, but I move from one to three.</span><span s="3324" t="Then I move two to one. Then I move two to three. Then one to three."><code onclick="Z(this)">0:55:24</code>Then I move two to one. Then I move two to three. Then one to three.</span><span s="3336" t="One to two. Three to two. Three to one. This all got worked out beforehand, of course."><code onclick="Z(this)">0:55:36</code>One to two. Three to two. Three to one. This all got worked out beforehand, of course.</span><span s="3346" t="Two to one. Three to two. One to three. STUDENT: [INAUDIBLE PHRASE]. PROFESSOR: Oh, one to three."><code onclick="Z(this)">0:55:46</code>Two to one. Three to two. One to three. STUDENT: [INAUDIBLE PHRASE]. PROFESSOR: Oh, one to three.</span><span s="3355" t="Excuse me. Thank you. One to two. And then three to two. Whew."><code onclick="Z(this)">0:55:55</code>Excuse me. Thank you. One to two. And then three to two. Whew.</span><span s="3364" t="Now what I&apos;d like you to think about, you just saw a recursive algorithm for doing this, and it takes exponential time, of course. Now, I don&apos;t know if there&apos;s any algorithm that doesn&apos;t take exponential time-- it has to."><code onclick="Z(this)">0:56:04</code>Now what I'd like you to think about, you just saw a recursive algorithm for doing this, and it takes exponential time, of course. Now, I don't know if there's any algorithm that doesn't take exponential time-- it has to.</span><span s="3374" t="As I&apos;m doing one operation-- I can only move one thing at a time-- there&apos;s no algorithm that&apos;s not going to take exponential time. But can you write an iterative algorithm rather than a"><code onclick="Z(this)">0:56:14</code>As I'm doing one operation-- I can only move one thing at a time-- there's no algorithm that's not going to take exponential time. But can you write an iterative algorithm rather than a</span><span s="3384" t="recursive algorithm for doing this? One of the sort of little things I like to think about."><code onclick="Z(this)">0:56:24</code>recursive algorithm for doing this? One of the sort of little things I like to think about.</span><span s="3393" t="Can you write one that, in fact, doesn&apos;t break this problem into two sub-problems the way I described, but rather proceeds a step at a time using a more local rule?"><code onclick="Z(this)">0:56:33</code>Can you write one that, in fact, doesn't break this problem into two sub-problems the way I described, but rather proceeds a step at a time using a more local rule?</span><span s="3408" t="That might be fun. Thank you so much for the third segment. Are there questions?"><code onclick="Z(this)">0:56:48</code>That might be fun. Thank you so much for the third segment. Are there questions?</span><span s="3417" t="STUDENT: [INAUDIBLE] a way to reduce a tree or recursion problem, how do you save the immediate work you have done"><code onclick="Z(this)">0:56:57</code>STUDENT: [INAUDIBLE] a way to reduce a tree or recursion problem, how do you save the immediate work you have done</span><span s="3426" t="in computing the Fibonacci number? PROFESSOR: Oh, well, in fact, one of the ways to do is what you just said. You said, I save the intermediate work."><code onclick="Z(this)">0:57:06</code>in computing the Fibonacci number? PROFESSOR: Oh, well, in fact, one of the ways to do is what you just said. You said, I save the intermediate work.</span><span s="3436" t="OK? Well, let me tell you-- this, again, we&apos;ll see later-- but suppose it&apos;s the case that anytime I compute anything, any one of these Fibonacci numbers, I remember the table"><code onclick="Z(this)">0:57:16</code>OK? Well, let me tell you-- this, again, we'll see later-- but suppose it's the case that anytime I compute anything, any one of these Fibonacci numbers, I remember the table</span><span s="3448" t="that takes only linear time to look up the answer. Then if I ever see it again, instead of doing the expansional tree, I look it up."><code onclick="Z(this)">0:57:28</code>that takes only linear time to look up the answer. Then if I ever see it again, instead of doing the expansional tree, I look it up.</span><span s="3457" t="I&apos;ve just transformed my problem into a problem that&apos;s much simpler. Now, of course, there are the way to do this, as well. That one&apos;s called memoization, and you&apos;ll see it sometime"><code onclick="Z(this)">0:57:37</code>I've just transformed my problem into a problem that's much simpler. Now, of course, there are the way to do this, as well. That one's called memoization, and you'll see it sometime</span><span s="3467" t="later in this term. But I suppose there&apos;s a very simple linear time, and, in fact, iterative model for computing Fibonaccis, and"><code onclick="Z(this)">0:57:47</code>later in this term. But I suppose there's a very simple linear time, and, in fact, iterative model for computing Fibonaccis, and</span><span s="3477" t="that&apos;s another thing you should sit down and work out. That&apos;s important. It&apos;s important to see how to do this. I want you to practice."><code onclick="Z(this)">0:57:57</code>that's another thing you should sit down and work out. That's important. It's important to see how to do this. I want you to practice.</span></div><div class="eventlist" side="R" vid="erHp3r6PbJk"><h5><code onclick="Z(this)">0:00:00</code>Lecture 2A | MIT 6.001 Structure and Interpretation, 1986</h5><span s="0" t=""><code onclick="Z(this)">0:00:00</code></span><span s="25" t="PROFESSOR: Well, yesterday was easy. You learned all of the rules of programming and lived. Almost all of them."><code onclick="Z(this)">0:00:25</code>PROFESSOR: Well, yesterday was easy. You learned all of the rules of programming and lived. Almost all of them.</span><span s="34" t="And so at this point, you&apos;re now certified programmers-- it says. However, I suppose what we did is we, aah, sort of got you a"><code onclick="Z(this)">0:00:34</code>And so at this point, you're now certified programmers-- it says. However, I suppose what we did is we, aah, sort of got you a</span><span s="48" t="little bit of into an easy state. Here, you still believe it&apos;s possible that this might be programming in BASIC or Pascal with just a funny syntax."><code onclick="Z(this)">0:00:48</code>little bit of into an easy state. Here, you still believe it's possible that this might be programming in BASIC or Pascal with just a funny syntax.</span><span s="59" t="Today, that illusion-- or you can no longer support that belief. What we&apos;re going to do today is going to completely smash that."><code onclick="Z(this)">0:00:59</code>Today, that illusion-- or you can no longer support that belief. What we're going to do today is going to completely smash that.</span><span s="68" t="So let&apos;s start out by writing a few programs on the blackboard that have a lot in common with each other. What we&apos;re going to do is try to make them abstractions that"><code onclick="Z(this)">0:01:08</code>So let's start out by writing a few programs on the blackboard that have a lot in common with each other. What we're going to do is try to make them abstractions that</span><span s="79" t="are not ones that are easy to make in most languages. Let&apos;s start with some very simple ones that you can make in most languages."><code onclick="Z(this)">0:01:19</code>are not ones that are easy to make in most languages. Let's start with some very simple ones that you can make in most languages.</span><span s="88" t="Supposing I want to write the mathematical expression which adds up a bunch of integers. So if I wanted to write down and say the sum from i"><code onclick="Z(this)">0:01:28</code>Supposing I want to write the mathematical expression which adds up a bunch of integers. So if I wanted to write down and say the sum from i</span><span s="98" t="equal a to b on i. Now, you know that that&apos;s an easy thing to compute in a closed form for it, and I&apos;m not interested in that. But I&apos;m going to write a program that"><code onclick="Z(this)">0:01:38</code>equal a to b on i. Now, you know that that's an easy thing to compute in a closed form for it, and I'm not interested in that. But I'm going to write a program that</span><span s="107" t="adds up those integers. Well, that&apos;s rather easy to do to say I want to define the"><code onclick="Z(this)">0:01:47</code>adds up those integers. Well, that's rather easy to do to say I want to define the</span><span s="117" t="sum of the integers from a to b to be--"><code onclick="Z(this)">0:01:57</code>sum of the integers from a to b to be--</span><span s="128" t="well, it&apos;s the following two possibilities. If a is greater than b, well, then there&apos;s nothing to be"><code onclick="Z(this)">0:02:08</code>well, it's the following two possibilities. If a is greater than b, well, then there's nothing to be</span><span s="137" t="done and the answer is zero. This is how you&apos;re going to have to think recursively. You&apos;re going to say if I have an easy case that I know the answer to, just write it down."><code onclick="Z(this)">0:02:17</code>done and the answer is zero. This is how you're going to have to think recursively. You're going to say if I have an easy case that I know the answer to, just write it down.</span><span s="146" t="Otherwise, I&apos;m going to try to reduce this problem to a simpler problem. And maybe in this case, I&apos;m going to make a subproblem of the simpler problem and then do something to the result."><code onclick="Z(this)">0:02:26</code>Otherwise, I'm going to try to reduce this problem to a simpler problem. And maybe in this case, I'm going to make a subproblem of the simpler problem and then do something to the result.</span><span s="155" t="So the easiest way to do this is say that I&apos;m going to add the index, which in this case is a, to the result of adding"><code onclick="Z(this)">0:02:35</code>So the easiest way to do this is say that I'm going to add the index, which in this case is a, to the result of adding</span><span s="166" t="up the integers from a plus 1 to b."><code onclick="Z(this)">0:02:46</code>up the integers from a plus 1 to b.</span><span s="182" t="Now, at this point, you should have no trouble looking at such a definition. Indeed, coming up with such a thing might be a little hard in synthesis, but being able to read it at this point"><code onclick="Z(this)">0:03:02</code>Now, at this point, you should have no trouble looking at such a definition. Indeed, coming up with such a thing might be a little hard in synthesis, but being able to read it at this point</span><span s="192" t="should be easy. And what it says to you is, well, here is the subproblem I&apos;m going to solve. I&apos;m going to try to add up the integers, one fewer integer"><code onclick="Z(this)">0:03:12</code>should be easy. And what it says to you is, well, here is the subproblem I'm going to solve. I'm going to try to add up the integers, one fewer integer</span><span s="204" t="than I added up for the the whole problem. I&apos;m adding up the one fewer one, and that subproblem, once I&apos;ve solved it, I&apos;m going to add a to that, and that will"><code onclick="Z(this)">0:03:24</code>than I added up for the the whole problem. I'm adding up the one fewer one, and that subproblem, once I've solved it, I'm going to add a to that, and that will</span><span s="215" t="be the answer to this problem. And the simplest case, I don&apos;t have to do any work. Now, I&apos;m also going to write down another simple one just"><code onclick="Z(this)">0:03:35</code>be the answer to this problem. And the simplest case, I don't have to do any work. Now, I'm also going to write down another simple one just</span><span s="224" t="like this, which is the mathematical expression, the sum of the square from i equal a to b."><code onclick="Z(this)">0:03:44</code>like this, which is the mathematical expression, the sum of the square from i equal a to b.</span><span s="235" t="And again, it&apos;s a very simple program."><code onclick="Z(this)">0:03:55</code>And again, it's a very simple program.</span><span s="251" t="And indeed, it starts the same way. If a is greater than b, then the answer is zero."><code onclick="Z(this)">0:04:11</code>And indeed, it starts the same way. If a is greater than b, then the answer is zero.</span><span s="261" t="And, of course, we&apos;re beginning to see that there&apos;s something wrong with me writing this down again. It&apos;s the same program. It&apos;s the sum of the square of a and the sum of the square of"><code onclick="Z(this)">0:04:21</code>And, of course, we're beginning to see that there's something wrong with me writing this down again. It's the same program. It's the sum of the square of a and the sum of the square of</span><span s="282" t="the increment and b. Now, if you look at these things, these programs are"><code onclick="Z(this)">0:04:42</code>the increment and b. Now, if you look at these things, these programs are</span><span s="294" t="almost identical. There&apos;s not much to distinguish them. They have the same first clause of the conditional and"><code onclick="Z(this)">0:04:54</code>almost identical. There's not much to distinguish them. They have the same first clause of the conditional and</span><span s="303" t="the same predicate and the same consequence, and the alternatives are very similar, too. They only differ by the fact that where here I have a,"><code onclick="Z(this)">0:05:03</code>the same predicate and the same consequence, and the alternatives are very similar, too. They only differ by the fact that where here I have a,</span><span s="315" t="here, I have the square of a. The only other difference, but this one&apos;s sort of unessential is in the name of this procedure is sum int, whereas"><code onclick="Z(this)">0:05:15</code>here, I have the square of a. The only other difference, but this one's sort of unessential is in the name of this procedure is sum int, whereas</span><span s="325" t="the name of the procedure is sum square. So the things that vary between these two are very small. Now, wherever you see yourself writing the same thing down"><code onclick="Z(this)">0:05:25</code>the name of the procedure is sum square. So the things that vary between these two are very small. Now, wherever you see yourself writing the same thing down</span><span s="336" t="more than once, there&apos;s something wrong, and you shouldn&apos;t be doing it. And the reason is not because it&apos;s a waste of time to write something down more than once."><code onclick="Z(this)">0:05:36</code>more than once, there's something wrong, and you shouldn't be doing it. And the reason is not because it's a waste of time to write something down more than once.</span><span s="345" t="It&apos;s because there&apos;s some idea here, a very simple idea, which has to do with the sigma notation--"><code onclick="Z(this)">0:05:45</code>It's because there's some idea here, a very simple idea, which has to do with the sigma notation--</span><span s="354" t="this much-- not depending upon what it is I&apos;m adding up. And I would like to be able to--"><code onclick="Z(this)">0:05:54</code>this much-- not depending upon what it is I'm adding up. And I would like to be able to--</span><span s="363" t="always, whenever trying to make complicated systems and understand them, it&apos;s crucial to divide the things up into as many pieces as I can, each of which I understand separately."><code onclick="Z(this)">0:06:03</code>always, whenever trying to make complicated systems and understand them, it's crucial to divide the things up into as many pieces as I can, each of which I understand separately.</span><span s="373" t="I would like to understand the way of adding things up independently of what it is I&apos;m adding up so I can do that having debugged it once and understood it once and having"><code onclick="Z(this)">0:06:13</code>I would like to understand the way of adding things up independently of what it is I'm adding up so I can do that having debugged it once and understood it once and having</span><span s="384" t="been able to share that among many different uses of it. Here, we have another example. This is Leibnitz&apos;s formula for finding pi over 8."><code onclick="Z(this)">0:06:24</code>been able to share that among many different uses of it. Here, we have another example. This is Leibnitz's formula for finding pi over 8.</span><span s="400" t="It&apos;s a funny, ugly mess. What is it? It&apos;s something like 1 over 1 times 3 plus 1 over 5 times 7"><code onclick="Z(this)">0:06:40</code>It's a funny, ugly mess. What is it? It's something like 1 over 1 times 3 plus 1 over 5 times 7</span><span s="410" t="plus 1 over 9 times 11 plus-- and for some reason, things like this tend to have"><code onclick="Z(this)">0:06:50</code>plus 1 over 9 times 11 plus-- and for some reason, things like this tend to have</span><span s="419" t="interesting values like pi over 8. But what do we see here? It&apos;s the same program or almost the same program. It&apos;s a sum."><code onclick="Z(this)">0:06:59</code>interesting values like pi over 8. But what do we see here? It's the same program or almost the same program. It's a sum.</span><span s="429" t="So we&apos;re seeing the figure notation, although over here, we&apos;re dealing with incrementing by 4, so it&apos;s a slightly different problem, which means that over here, I"><code onclick="Z(this)">0:07:09</code>So we're seeing the figure notation, although over here, we're dealing with incrementing by 4, so it's a slightly different problem, which means that over here, I</span><span s="440" t="have to change a by 4, as you see right over here. It&apos;s not by 1. The other thing, of course, is that the thing that&apos;s"><code onclick="Z(this)">0:07:20</code>have to change a by 4, as you see right over here. It's not by 1. The other thing, of course, is that the thing that's</span><span s="451" t="represented by square in the previous sum of squares, or a when adding up the integers. Well, here, I have a different thing I&apos;m adding up, a different term, which is 1 over a times a plus 2."><code onclick="Z(this)">0:07:31</code>represented by square in the previous sum of squares, or a when adding up the integers. Well, here, I have a different thing I'm adding up, a different term, which is 1 over a times a plus 2.</span><span s="464" t="But the rest of this program is identical. Well, any time we have a bunch of things like this that are identical, we&apos;re going to have to come up with some sort of"><code onclick="Z(this)">0:07:44</code>But the rest of this program is identical. Well, any time we have a bunch of things like this that are identical, we're going to have to come up with some sort of</span><span s="473" t="abstraction to cover them. If you think about this, what you&apos;ve learned so far is the rules of some language, some primitive, some means of"><code onclick="Z(this)">0:07:53</code>abstraction to cover them. If you think about this, what you've learned so far is the rules of some language, some primitive, some means of</span><span s="483" t="combination, almost all of them, the means of abstraction, almost all of them. But what you haven&apos;t learned is common patterns of usage."><code onclick="Z(this)">0:08:03</code>combination, almost all of them, the means of abstraction, almost all of them. But what you haven't learned is common patterns of usage.</span><span s="493" t="Now, most of the time, you learn idioms when learning a language, which is a common pattern that mean things that are useful to know in a flash. And if you build a great number of them, if you&apos;re a"><code onclick="Z(this)">0:08:13</code>Now, most of the time, you learn idioms when learning a language, which is a common pattern that mean things that are useful to know in a flash. And if you build a great number of them, if you're a</span><span s="502" t="FORTRAN programmer, of course, everybody knows how to-- what do you do, for example, to get an integer which is the biggest integer in something."><code onclick="Z(this)">0:08:22</code>FORTRAN programmer, of course, everybody knows how to-- what do you do, for example, to get an integer which is the biggest integer in something.</span><span s="511" t="It&apos;s a classic thing. Every FORTRAN programmer knows how to do that. And if you don&apos;t know that, you&apos;re in real hot water because it takes a long time to think it out. However, one of the things you can do in this language that"><code onclick="Z(this)">0:08:31</code>It's a classic thing. Every FORTRAN programmer knows how to do that. And if you don't know that, you're in real hot water because it takes a long time to think it out. However, one of the things you can do in this language that</span><span s="521" t="we&apos;re showing you is not only do you know something like that, but you give the knowledge of that a name. And so that&apos;s what we&apos;re going to be going after right now."><code onclick="Z(this)">0:08:41</code>we're showing you is not only do you know something like that, but you give the knowledge of that a name. And so that's what we're going to be going after right now.</span><span s="533" t="OK, well, let&apos;s see what these things have in common. Right over here we have what appears to be a general"><code onclick="Z(this)">0:08:53</code>OK, well, let's see what these things have in common. Right over here we have what appears to be a general</span><span s="542" t="pattern, a general pattern which covers all of the cases we&apos;ve seen so far. There is a sum procedure, which is being defined."><code onclick="Z(this)">0:09:02</code>pattern, a general pattern which covers all of the cases we've seen so far. There is a sum procedure, which is being defined.</span><span s="555" t="It has two arguments, which are a lower bound and an upper bound. The lower bound is tested to be greater than the upper bound, and if it is greater, then the result is zero."><code onclick="Z(this)">0:09:15</code>It has two arguments, which are a lower bound and an upper bound. The lower bound is tested to be greater than the upper bound, and if it is greater, then the result is zero.</span><span s="567" t="Otherwise, we&apos;re going to do something to the lower bound, which is the index of the conversation, and add that result to the result of following the procedure"><code onclick="Z(this)">0:09:27</code>Otherwise, we're going to do something to the lower bound, which is the index of the conversation, and add that result to the result of following the procedure</span><span s="580" t="recursively on our lower bound incremented by some next operation with the same upper bound as I had before."><code onclick="Z(this)">0:09:40</code>recursively on our lower bound incremented by some next operation with the same upper bound as I had before.</span><span s="593" t="So this is a general pattern, and what I&apos;d like to do is be able to name this general pattern a bit."><code onclick="Z(this)">0:09:53</code>So this is a general pattern, and what I'd like to do is be able to name this general pattern a bit.</span><span s="603" t="Well, that&apos;s sort of easy, because one of the things I&apos;m going to do right now is-- there&apos;s nothing very special about numbers. Numbers are just one kind of data."><code onclick="Z(this)">0:10:03</code>Well, that's sort of easy, because one of the things I'm going to do right now is-- there's nothing very special about numbers. Numbers are just one kind of data.</span><span s="614" t="It seems to me perfectly reasonable to give all sorts of names to all kinds of data, for example, procedures."><code onclick="Z(this)">0:10:14</code>It seems to me perfectly reasonable to give all sorts of names to all kinds of data, for example, procedures.</span><span s="623" t="And now many languages allow you have procedural arguments, and right now, we&apos;re going to talk about procedural arguments. They&apos;re very easy to deal with. And shortly, we&apos;ll do some remarkable things that are not"><code onclick="Z(this)">0:10:23</code>And now many languages allow you have procedural arguments, and right now, we're going to talk about procedural arguments. They're very easy to deal with. And shortly, we'll do some remarkable things that are not</span><span s="633" t="like procedural arguments. So here, we&apos;ll define our sigma notation."><code onclick="Z(this)">0:10:33</code>like procedural arguments. So here, we'll define our sigma notation.</span><span s="643" t="This is called sum and it takes a term, an A, a next"><code onclick="Z(this)">0:10:43</code>This is called sum and it takes a term, an A, a next</span><span s="655" t="term, and B as arguments. So it takes four arguments, and there was nothing particularly special about me writing this in lowercase."><code onclick="Z(this)">0:10:55</code>term, and B as arguments. So it takes four arguments, and there was nothing particularly special about me writing this in lowercase.</span><span s="666" t="I hope that it doesn&apos;t confuse you, so I&apos;ll write it in uppercase right now. The machine doesn&apos;t care. But these two arguments are different."><code onclick="Z(this)">0:11:06</code>I hope that it doesn't confuse you, so I'll write it in uppercase right now. The machine doesn't care. But these two arguments are different.</span><span s="677" t="These are not numbers. These are going to be procedures for computing something given a number. Term will be a procedure which, when given an index,"><code onclick="Z(this)">0:11:17</code>These are not numbers. These are going to be procedures for computing something given a number. Term will be a procedure which, when given an index,</span><span s="686" t="will produce the value of the term for that index. Next will be given an index, which will produce the next index. This will be for counting."><code onclick="Z(this)">0:11:26</code>will produce the value of the term for that index. Next will be given an index, which will produce the next index. This will be for counting.</span><span s="696" t="And it&apos;s very simple. It&apos;s exactly what you see. If A is greater than B, then the result is 0."><code onclick="Z(this)">0:11:36</code>And it's very simple. It's exactly what you see. If A is greater than B, then the result is 0.</span><span s="712" t="Otherwise, it&apos;s the sum of term applied to A and the sum"><code onclick="Z(this)">0:11:52</code>Otherwise, it's the sum of term applied to A and the sum</span><span s="724" t="of term, next index."><code onclick="Z(this)">0:12:04</code>of term, next index.</span><span s="734" t="Let me write it this way."><code onclick="Z(this)">0:12:14</code>Let me write it this way.</span><span s="749" t="Now, I&apos;d like you to see something, first of all. I was writing here, and I ran out of space. What I did is I start indenting according to the"><code onclick="Z(this)">0:12:29</code>Now, I'd like you to see something, first of all. I was writing here, and I ran out of space. What I did is I start indenting according to the</span><span s="758" t="Pretty-printing rule, which says that I align all of the arguments of the procedure so I can see which ones go together."><code onclick="Z(this)">0:12:38</code>Pretty-printing rule, which says that I align all of the arguments of the procedure so I can see which ones go together.</span><span s="767" t="And this is just something I do automatically, and I want you to learn how to do that, too, so your programs can be read and understood. However, what do we have here?"><code onclick="Z(this)">0:12:47</code>And this is just something I do automatically, and I want you to learn how to do that, too, so your programs can be read and understood. However, what do we have here?</span><span s="777" t="We have four arguments: the procedure, the lower index-- lower bound index-- the way to get the next index, and the upper bound."><code onclick="Z(this)">0:12:57</code>We have four arguments: the procedure, the lower index-- lower bound index-- the way to get the next index, and the upper bound.</span><span s="789" t="What&apos;s passed along on the recursive call is indeed the same procedure because I&apos;m going to need it again, the"><code onclick="Z(this)">0:13:09</code>What's passed along on the recursive call is indeed the same procedure because I'm going to need it again, the</span><span s="798" t="next index, which is using the next procedure to compute it, the procedure for computing next, which I also have to have separately, and that&apos;s different. The procedure for computing next is different from the"><code onclick="Z(this)">0:13:18</code>next index, which is using the next procedure to compute it, the procedure for computing next, which I also have to have separately, and that's different. The procedure for computing next is different from the</span><span s="807" t="next index, which is the result of using next on the last index. And I also have to pass along the upper bound."><code onclick="Z(this)">0:13:27</code>next index, which is the result of using next on the last index. And I also have to pass along the upper bound.</span><span s="817" t="So this captures both of these and the other nice program that we are playing with."><code onclick="Z(this)">0:13:37</code>So this captures both of these and the other nice program that we are playing with.</span><span s="827" t="So using this, we can write down the original program as instances of sum very simply."><code onclick="Z(this)">0:13:47</code>So using this, we can write down the original program as instances of sum very simply.</span><span s="848" t="A and B. Well, I&apos;m going to need an identity procedure"><code onclick="Z(this)">0:14:08</code>A and B. Well, I'm going to need an identity procedure</span><span s="857" t="here because ,ahh, the sum of the integers requires me to in"><code onclick="Z(this)">0:14:17</code>here because ,ahh, the sum of the integers requires me to in</span><span s="869" t="this case compute a term for every integer, but the term procedure doesn&apos;t want to do anything to that integer. So the identity procedure on A is A or X or whatever, and I"><code onclick="Z(this)">0:14:29</code>this case compute a term for every integer, but the term procedure doesn't want to do anything to that integer. So the identity procedure on A is A or X or whatever, and I</span><span s="881" t="want to say the sum of using identity of the term procedure"><code onclick="Z(this)">0:14:41</code>want to say the sum of using identity of the term procedure</span><span s="892" t="and using A as the initial index and the incrementer being the way to get the next index and B being the high"><code onclick="Z(this)">0:14:52</code>and using A as the initial index and the incrementer being the way to get the next index and B being the high</span><span s="905" t="bound, the upper bound. This procedure does exactly the same as the sum of the integers over here, computes the same answer."><code onclick="Z(this)">0:15:05</code>bound, the upper bound. This procedure does exactly the same as the sum of the integers over here, computes the same answer.</span><span s="917" t="Now, one thing you should see, of course, is that there&apos;s nothing very special over here about what I used as the formal parameter. I could have, for example, written this"><code onclick="Z(this)">0:15:17</code>Now, one thing you should see, of course, is that there's nothing very special over here about what I used as the formal parameter. I could have, for example, written this</span><span s="927" t="X. It doesn&apos;t matter. I just wanted you to see that this name does not conflict with this one at all. It&apos;s an internal name."><code onclick="Z(this)">0:15:27</code>X. It doesn't matter. I just wanted you to see that this name does not conflict with this one at all. It's an internal name.</span><span s="937" t="For the second procedure here, the sum of the squares, it&apos;s even a little bit easier."><code onclick="Z(this)">0:15:37</code>For the second procedure here, the sum of the squares, it's even a little bit easier.</span><span s="953" t="And what do we have to do? Nothing more than add up the squares, this is the procedure"><code onclick="Z(this)">0:15:53</code>And what do we have to do? Nothing more than add up the squares, this is the procedure</span><span s="962" t="that each index will be given, will be given each-- yes. Each index will have this done to it to get the term. That&apos;s the thing that maps against term over here."><code onclick="Z(this)">0:16:02</code>that each index will be given, will be given each-- yes. Each index will have this done to it to get the term. That's the thing that maps against term over here.</span><span s="973" t="Then I have A as the lower bound, the incrementer as the next term method, and B as the upper bound."><code onclick="Z(this)">0:16:13</code>Then I have A as the lower bound, the incrementer as the next term method, and B as the upper bound.</span><span s="986" t="And finally, just for the thing that we did about pi sums, pi sums are sort of-- well, it&apos;s even easier to think about them this way"><code onclick="Z(this)">0:16:26</code>And finally, just for the thing that we did about pi sums, pi sums are sort of-- well, it's even easier to think about them this way</span><span s="995" t="because I don&apos;t have to think. What I&apos;m doing is separating the thing I&apos;m adding up from the method of doing the addition. And so we have here, for example, pi sum A B"><code onclick="Z(this)">0:16:35</code>because I don't have to think. What I'm doing is separating the thing I'm adding up from the method of doing the addition. And so we have here, for example, pi sum A B</span><span s="1017" t="of the sum of things. I&apos;m going to write the terms procedure here explicitly without giving it a name. This is done anonymously."><code onclick="Z(this)">0:16:57</code>of the sum of things. I'm going to write the terms procedure here explicitly without giving it a name. This is done anonymously.</span><span s="1027" t="I don&apos;t necessarily have to give a name to something if I just want to use it once. And, of course, I can write sort of a expression that"><code onclick="Z(this)">0:17:07</code>I don't necessarily have to give a name to something if I just want to use it once. And, of course, I can write sort of a expression that</span><span s="1038" t="produces a procedure. I&apos;m going to write the Greek lambda letter here instead of L-A-M-B-D-A in general to avoid taking up a lot of space on blackboards."><code onclick="Z(this)">0:17:18</code>produces a procedure. I'm going to write the Greek lambda letter here instead of L-A-M-B-D-A in general to avoid taking up a lot of space on blackboards.</span><span s="1047" t="But unfortunately, we don&apos;t have lambda keys on our keyboards. Maybe we can convince our friends in the computer industry that this is an important. Lambda of i is the quotient of 1 and the product of i and the"><code onclick="Z(this)">0:17:27</code>But unfortunately, we don't have lambda keys on our keyboards. Maybe we can convince our friends in the computer industry that this is an important. Lambda of i is the quotient of 1 and the product of i and the</span><span s="1063" t="sum of i 2, starting at a with the way of incrementing being"><code onclick="Z(this)">0:17:43</code>sum of i 2, starting at a with the way of incrementing being</span><span s="1078" t="that procedure of an index i, which adds i to 4, and b being"><code onclick="Z(this)">0:17:58</code>that procedure of an index i, which adds i to 4, and b being</span><span s="1088" t="the upper bound. So you can see that this notation, the invention of the"><code onclick="Z(this)">0:18:08</code>the upper bound. So you can see that this notation, the invention of the</span><span s="1097" t="procedure that takes a procedural argument, allows us to compress a lot of these procedures into one thing."><code onclick="Z(this)">0:18:17</code>procedure that takes a procedural argument, allows us to compress a lot of these procedures into one thing.</span><span s="1106" t="This procedure, sums, covers a whole bunch of ideas. Now, just why is this important? I tried to say before that it helps us divide a problem into"><code onclick="Z(this)">0:18:26</code>This procedure, sums, covers a whole bunch of ideas. Now, just why is this important? I tried to say before that it helps us divide a problem into</span><span s="1117" t="two pieces, and indeed, it does, for example, if someone came up with a different way of implementing this, which,"><code onclick="Z(this)">0:18:37</code>two pieces, and indeed, it does, for example, if someone came up with a different way of implementing this, which,</span><span s="1126" t="of course, one might. Here, for example, an iterative implementation of sum."><code onclick="Z(this)">0:18:46</code>of course, one might. Here, for example, an iterative implementation of sum.</span><span s="1135" t="Iterative implementation for some reason might be better than the recursive implementation. But the important thing is that it&apos;s different."><code onclick="Z(this)">0:18:55</code>Iterative implementation for some reason might be better than the recursive implementation. But the important thing is that it's different.</span><span s="1146" t="Now, supposing I had written my program this way that you see on the blackboard on the left. That&apos;s correct, the left."><code onclick="Z(this)">0:19:06</code>Now, supposing I had written my program this way that you see on the blackboard on the left. That's correct, the left.</span><span s="1157" t="Well, then if I want to change the method of addition, then I&apos;d have to change each of these. Whereas if I write them like this that you see here, then"><code onclick="Z(this)">0:19:17</code>Well, then if I want to change the method of addition, then I'd have to change each of these. Whereas if I write them like this that you see here, then</span><span s="1170" t="the method by which I did the addition is encapsulated in the procedure sum. That decomposition allows me to independently change one part of the program and prove it perhaps without changing"><code onclick="Z(this)">0:19:30</code>the method by which I did the addition is encapsulated in the procedure sum. That decomposition allows me to independently change one part of the program and prove it perhaps without changing</span><span s="1183" t="the other part that was written for some of the other cases. Thank you. Are there any questions?"><code onclick="Z(this)">0:19:43</code>the other part that was written for some of the other cases. Thank you. Are there any questions?</span><span s="1192" t="Yes, sir. AUDIENCE: Would you go over next A and next again on-- PROFESSOR: Yes. It&apos;s the same problem. I&apos;m sure you&apos;re going to-- you&apos;re going to have to work on this. This is hard the first time you&apos;ve ever seen"><code onclick="Z(this)">0:19:52</code>Yes, sir. AUDIENCE: Would you go over next A and next again on-- PROFESSOR: Yes. It's the same problem. I'm sure you're going to-- you're going to have to work on this. This is hard the first time you've ever seen</span><span s="1201" t="something like this. What I have here is a-- procedures can be named by variables."><code onclick="Z(this)">0:20:01</code>something like this. What I have here is a-- procedures can be named by variables.</span><span s="1210" t="Procedures are not special. Actually, sum square is a variable, which has gotten a value, which is a procedure. This is define sum square to be"><code onclick="Z(this)">0:20:10</code>Procedures are not special. Actually, sum square is a variable, which has gotten a value, which is a procedure. This is define sum square to be</span><span s="1220" t="lambda of A and B something. So the procedure can be named. Therefore, they can be passed from one to another, one procedure to another, as arguments."><code onclick="Z(this)">0:20:20</code>lambda of A and B something. So the procedure can be named. Therefore, they can be passed from one to another, one procedure to another, as arguments.</span><span s="1231" t="Well, what we&apos;re doing here is we&apos;re passing the procedure term as an argument to sum just when we get it around in the next recursive."><code onclick="Z(this)">0:20:31</code>Well, what we're doing here is we're passing the procedure term as an argument to sum just when we get it around in the next recursive.</span><span s="1241" t="Here, we&apos;re passing the procedure next as an argument also. However, here we&apos;re using the procedure next."><code onclick="Z(this)">0:20:41</code>Here, we're passing the procedure next as an argument also. However, here we're using the procedure next.</span><span s="1250" t="That&apos;s what the parentheses mean. We&apos;re applying next to A to get the next value of A. If you look at what next is mapped against, remember that"><code onclick="Z(this)">0:20:50</code>That's what the parentheses mean. We're applying next to A to get the next value of A. If you look at what next is mapped against, remember that</span><span s="1259" t="the way you think about this is that you substitute the arguments for the formal parameters in the body. If you&apos;re ever confused, think of the thing that way."><code onclick="Z(this)">0:20:59</code>the way you think about this is that you substitute the arguments for the formal parameters in the body. If you're ever confused, think of the thing that way.</span><span s="1270" t="Well, over here, with sum of the integers. I substitute identity for a term and 1 plus the"><code onclick="Z(this)">0:21:10</code>Well, over here, with sum of the integers. I substitute identity for a term and 1 plus the</span><span s="1281" t="incrementer for next in the body. Well, the identity procedure on A is what I get here."><code onclick="Z(this)">0:21:21</code>incrementer for next in the body. Well, the identity procedure on A is what I get here.</span><span s="1290" t="Identity is being passed along, and here, I have increment 1 plus being applied to A and 1 plus is being"><code onclick="Z(this)">0:21:30</code>Identity is being passed along, and here, I have increment 1 plus being applied to A and 1 plus is being</span><span s="1301" t="passed along. Does that clarify the situation? AUDIENCE: We could also define explicitly those two functions, then pass them."><code onclick="Z(this)">0:21:41</code>passed along. Does that clarify the situation? AUDIENCE: We could also define explicitly those two functions, then pass them.</span><span s="1311" t="PROFESSOR: Sure. What we can do is we could have given names to them, just like I did here. In fact, I gave you various ways so you could see it, a variety. Here, I define the thing which I passed the name of."><code onclick="Z(this)">0:21:51</code>PROFESSOR: Sure. What we can do is we could have given names to them, just like I did here. In fact, I gave you various ways so you could see it, a variety. Here, I define the thing which I passed the name of.</span><span s="1325" t="I referenced it by its name. But the thing is, in fact, that procedure, one argument X, which is X. And the identity procedure is just"><code onclick="Z(this)">0:22:05</code>I referenced it by its name. But the thing is, in fact, that procedure, one argument X, which is X. And the identity procedure is just</span><span s="1334" t="lambda of X X. And that&apos;s what you&apos;re seeing here. Here, I happened to just write its canonical name there for"><code onclick="Z(this)">0:22:14</code>lambda of X X. And that's what you're seeing here. Here, I happened to just write its canonical name there for</span><span s="1346" t="you to see. Is it OK if we take our five-minute break?"><code onclick="Z(this)">0:22:26</code>you to see. Is it OK if we take our five-minute break?</span><span s="1395" t="As I said, computers to make people happy, not people to make computers happy. And for the most part, the reason why we introduce all this abstraction stuff is to make it so that programs can"><code onclick="Z(this)">0:23:15</code>As I said, computers to make people happy, not people to make computers happy. And for the most part, the reason why we introduce all this abstraction stuff is to make it so that programs can</span><span s="1406" t="be more easily written and more easily read. Let&apos;s try to understand what&apos;s the most complicated program we&apos;ve seen so far using a little bit of"><code onclick="Z(this)">0:23:26</code>be more easily written and more easily read. Let's try to understand what's the most complicated program we've seen so far using a little bit of</span><span s="1416" t="this abstraction stuff. If you look at the slide, this is the Heron of Alexandria&apos;s method of computing square roots that we saw yesterday."><code onclick="Z(this)">0:23:36</code>this abstraction stuff. If you look at the slide, this is the Heron of Alexandria's method of computing square roots that we saw yesterday.</span><span s="1431" t="And let&apos;s see. Well, in any case, this program is a little"><code onclick="Z(this)">0:23:51</code>And let's see. Well, in any case, this program is a little</span><span s="1440" t="complicated. And at the current state of your thinking, you just can&apos;t look at that and say, oh, this obviously means something very clear."><code onclick="Z(this)">0:24:00</code>complicated. And at the current state of your thinking, you just can't look at that and say, oh, this obviously means something very clear.</span><span s="1450" t="It&apos;s not obvious from looking at the program what it&apos;s computing. There&apos;s some loop here inside try, and a loop does something"><code onclick="Z(this)">0:24:10</code>It's not obvious from looking at the program what it's computing. There's some loop here inside try, and a loop does something</span><span s="1461" t="about trying the improvement of y. There&apos;s something called improve, which does some"><code onclick="Z(this)">0:24:21</code>about trying the improvement of y. There's something called improve, which does some</span><span s="1470" t="averaging and quotienting and things like that. But what&apos;s the real idea? Can we make it clear what the idea is? Well, I think we can."><code onclick="Z(this)">0:24:30</code>averaging and quotienting and things like that. But what's the real idea? Can we make it clear what the idea is? Well, I think we can.</span><span s="1481" t="I think we can use abstraction that we have learned about so far to clarify what&apos;s going on. Now, what we have mathematically is a procedure"><code onclick="Z(this)">0:24:41</code>I think we can use abstraction that we have learned about so far to clarify what's going on. Now, what we have mathematically is a procedure</span><span s="1494" t="for improving a guess for square roots. And if y is a guess for a square root, then what we want to get we&apos;ll call a function f."><code onclick="Z(this)">0:24:54</code>for improving a guess for square roots. And if y is a guess for a square root, then what we want to get we'll call a function f.</span><span s="1504" t="This is the means of improvement. I want to get y plus x/y over 2, so the average of y and x"><code onclick="Z(this)">0:25:04</code>This is the means of improvement. I want to get y plus x/y over 2, so the average of y and x</span><span s="1517" t="divided by y as the improved value for the square root of x such that-- one thing you can notice about this function f"><code onclick="Z(this)">0:25:17</code>divided by y as the improved value for the square root of x such that-- one thing you can notice about this function f</span><span s="1527" t="is that f of the square root of f is in fact the"><code onclick="Z(this)">0:25:27</code>is that f of the square root of f is in fact the</span><span s="1536" t="square root of x. In other words, if I take the square root of x and substitute it for y here, I see the square root of x plus x divided by the square of x, which is the square root of x."><code onclick="Z(this)">0:25:36</code>square root of x. In other words, if I take the square root of x and substitute it for y here, I see the square root of x plus x divided by the square of x, which is the square root of x.</span><span s="1547" t="That&apos;s 2 times the square root of x divided by 2, is the square root of x. So, in fact, what we&apos;re really looking for is we&apos;re looking for a fixed point, a fixed point of the function f."><code onclick="Z(this)">0:25:47</code>That's 2 times the square root of x divided by 2, is the square root of x. So, in fact, what we're really looking for is we're looking for a fixed point, a fixed point of the function f.</span><span s="1577" t="A fixed point is a place which has the property that if you put it into the function, you get the same value out."><code onclick="Z(this)">0:26:17</code>A fixed point is a place which has the property that if you put it into the function, you get the same value out.</span><span s="1587" t="Now, I suppose if I were giving some nice, boring lecture, and you happened to have in front of you an HP-35 desk calculator like I used to have when I"><code onclick="Z(this)">0:26:27</code>Now, I suppose if I were giving some nice, boring lecture, and you happened to have in front of you an HP-35 desk calculator like I used to have when I</span><span s="1596" t="went to boring lectures. And if you think it was really boring, you put it into radians mode, and you hit cosine, and you hit cosine, and you hit cosine."><code onclick="Z(this)">0:26:36</code>went to boring lectures. And if you think it was really boring, you put it into radians mode, and you hit cosine, and you hit cosine, and you hit cosine.</span><span s="1605" t="And eventually, you end up with 0.734 or something like that. 0.743, I don&apos;t remember what exactly, and it gets closer and closer to that."><code onclick="Z(this)">0:26:45</code>And eventually, you end up with 0.734 or something like that. 0.743, I don't remember what exactly, and it gets closer and closer to that.</span><span s="1614" t="Some functions have the property that you can find their fixed point by iterating the function, and that&apos;s"><code onclick="Z(this)">0:26:54</code>Some functions have the property that you can find their fixed point by iterating the function, and that's</span><span s="1623" t="essentially what&apos;s happening in the square root program by Heron&apos;s method. So let&apos;s see if we can write that down, that idea."><code onclick="Z(this)">0:27:03</code>essentially what's happening in the square root program by Heron's method. So let's see if we can write that down, that idea.</span><span s="1634" t="Now, I&apos;m not going to say how I compute fixed points yet. There might be more than one way. But the first thing to do is I&apos;m going to say what I just said."><code onclick="Z(this)">0:27:14</code>Now, I'm not going to say how I compute fixed points yet. There might be more than one way. But the first thing to do is I'm going to say what I just said.</span><span s="1644" t="I&apos;m going to say it specifically, the square root. The square root of x is the fixed point of that procedure"><code onclick="Z(this)">0:27:24</code>I'm going to say it specifically, the square root. The square root of x is the fixed point of that procedure</span><span s="1668" t="which takes an argument y and averages of x"><code onclick="Z(this)">0:27:48</code>which takes an argument y and averages of x</span><span s="1679" t="divided by y with y. And we&apos;re going to start up with the initial guess for the"><code onclick="Z(this)">0:27:59</code>divided by y with y. And we're going to start up with the initial guess for the</span><span s="1688" t="fixed point of 1. It doesn&apos;t matter where it starts. A theorem having to do with square roots."><code onclick="Z(this)">0:28:08</code>fixed point of 1. It doesn't matter where it starts. A theorem having to do with square roots.</span><span s="1698" t="So what you&apos;re seeing here is I&apos;m just trying to write out by wishful thinking. I don&apos;t know how I&apos;m going to make fixed point happen. We&apos;ll worry about that later. But if somehow I had a way of finding the fixed point of the"><code onclick="Z(this)">0:28:18</code>So what you're seeing here is I'm just trying to write out by wishful thinking. I don't know how I'm going to make fixed point happen. We'll worry about that later. But if somehow I had a way of finding the fixed point of the</span><span s="1709" t="function computed by this procedure, then I would have-- that would be the square root that I&apos;m looking for."><code onclick="Z(this)">0:28:29</code>function computed by this procedure, then I would have-- that would be the square root that I'm looking for.</span><span s="1719" t="OK, well, now let&apos;s see how we&apos;re going to write-- how we&apos;re going to come up with fixed points. Well, it&apos;s very simple, actually. I&apos;m going to write an abbreviated version here just so we understand it."><code onclick="Z(this)">0:28:39</code>OK, well, now let's see how we're going to write-- how we're going to come up with fixed points. Well, it's very simple, actually. I'm going to write an abbreviated version here just so we understand it.</span><span s="1740" t="I&apos;m going to find the fixed point of a function f-- actually, the fixed point of the function computed by the procedure whose name will be f in this procedure."><code onclick="Z(this)">0:29:00</code>I'm going to find the fixed point of a function f-- actually, the fixed point of the function computed by the procedure whose name will be f in this procedure.</span><span s="1749" t="How&apos;s that? A long sentence-- starting with a particular starting value."><code onclick="Z(this)">0:29:09</code>How's that? A long sentence-- starting with a particular starting value.</span><span s="1759" t="Well, I&apos;m going to have a little loop inside here, which is going to push the button on the calculator repeatedly, hoping that it will eventually converge."><code onclick="Z(this)">0:29:19</code>Well, I'm going to have a little loop inside here, which is going to push the button on the calculator repeatedly, hoping that it will eventually converge.</span><span s="1768" t="And we will say here internal loops are written by defining internal procedures."><code onclick="Z(this)">0:29:28</code>And we will say here internal loops are written by defining internal procedures.</span><span s="1779" t="Well, one thing I&apos;m going to have to do is I&apos;m going to have to say whether I&apos;m done. And the way I&apos;m going to decide when I&apos;m done is when the old value and the new value are close enough so I can&apos;t distinguish them anymore."><code onclick="Z(this)">0:29:39</code>Well, one thing I'm going to have to do is I'm going to have to say whether I'm done. And the way I'm going to decide when I'm done is when the old value and the new value are close enough so I can't distinguish them anymore.</span><span s="1790" t="That&apos;s the standard thing you do on the calculator unless you look at more precision, and eventually, you run out of precision. So the old value and new value, and I&apos;m going to stay"><code onclick="Z(this)">0:29:50</code>That's the standard thing you do on the calculator unless you look at more precision, and eventually, you run out of precision. So the old value and new value, and I'm going to stay</span><span s="1806" t="here if I can&apos;t distinguish them if they&apos;re close enough, and we&apos;ll have to worry about what that is soon."><code onclick="Z(this)">0:30:06</code>here if I can't distinguish them if they're close enough, and we'll have to worry about what that is soon.</span><span s="1820" t="The old value and the new value are close enough to each other and let&apos;s pick the new value as the answer. Otherwise, I&apos;m going to iterate around again with the"><code onclick="Z(this)">0:30:20</code>The old value and the new value are close enough to each other and let's pick the new value as the answer. Otherwise, I'm going to iterate around again with the</span><span s="1833" t="next value of old being the current value of new and the next value of new being the result of calling f on new."><code onclick="Z(this)">0:30:33</code>next value of old being the current value of new and the next value of new being the result of calling f on new.</span><span s="1854" t="And so this is my iteration loop that pushes the button on the calculator. I basically think of it as having two registers on the calculator: old and new. And in each step, new becomes old, and new gets F of new."><code onclick="Z(this)">0:30:54</code>And so this is my iteration loop that pushes the button on the calculator. I basically think of it as having two registers on the calculator: old and new. And in each step, new becomes old, and new gets F of new.</span><span s="1869" t="So this is the thing where I&apos;m getting the next value. And now, I&apos;m going to start this thing up"><code onclick="Z(this)">0:31:09</code>So this is the thing where I'm getting the next value. And now, I'm going to start this thing up</span><span s="1880" t="by giving two values. I wrote down on the blackboard to be slow"><code onclick="Z(this)">0:31:20</code>by giving two values. I wrote down on the blackboard to be slow</span><span s="1890" t="so you can see this. This is the first time you&apos;ve seen something quite this complicated, I think. However, we might want to see the whole thing over here in"><code onclick="Z(this)">0:31:30</code>so you can see this. This is the first time you've seen something quite this complicated, I think. However, we might want to see the whole thing over here in</span><span s="1904" t="this transparency or slide or whatever. What we have is all of the details that are required to"><code onclick="Z(this)">0:31:44</code>this transparency or slide or whatever. What we have is all of the details that are required to</span><span s="1917" t="make this thing work. I have a way of getting a tolerance for a close enough procedure, which we see here. The close enough procedure, it tests whether u and v are"><code onclick="Z(this)">0:31:57</code>make this thing work. I have a way of getting a tolerance for a close enough procedure, which we see here. The close enough procedure, it tests whether u and v are</span><span s="1926" t="close enough by seeing if the absolute value of the difference in u and v is less than the given tolerance, OK? And here is the iteration loop that I just wrote on the blackboard and the initialization for it, which"><code onclick="Z(this)">0:32:06</code>close enough by seeing if the absolute value of the difference in u and v is less than the given tolerance, OK? And here is the iteration loop that I just wrote on the blackboard and the initialization for it, which</span><span s="1937" t="is right there. It&apos;s very simple."><code onclick="Z(this)">0:32:17</code>is right there. It's very simple.</span><span s="1954" t="But let&apos;s see. I haven&apos;t told you enough. It&apos;s actually easier than this. There is more structure to this problem than I&apos;ve already told you."><code onclick="Z(this)">0:32:34</code>But let's see. I haven't told you enough. It's actually easier than this. There is more structure to this problem than I've already told you.</span><span s="1963" t="Like why should this work? Why should it converge? There&apos;s a hairy theorem in mathematics tied up in what I&apos;ve written here."><code onclick="Z(this)">0:32:43</code>Like why should this work? Why should it converge? There's a hairy theorem in mathematics tied up in what I've written here.</span><span s="1972" t="Why is it that I should assume that by iterating averaging the quotient of x and y and y that I should get the right answer? It isn&apos;t so obvious."><code onclick="Z(this)">0:32:52</code>Why is it that I should assume that by iterating averaging the quotient of x and y and y that I should get the right answer? It isn't so obvious.</span><span s="1983" t="Surely there are other things, other procedures, which compute functions whose fixed points would also be the square root."><code onclick="Z(this)">0:33:03</code>Surely there are other things, other procedures, which compute functions whose fixed points would also be the square root.</span><span s="1992" t="For example, the obvious one will be a new function g, which maps y to x/y."><code onclick="Z(this)">0:33:12</code>For example, the obvious one will be a new function g, which maps y to x/y.</span><span s="2007" t="That&apos;s even simpler. The fixed point of g is surely the square root also, and it&apos;s a simpler procedure."><code onclick="Z(this)">0:33:27</code>That's even simpler. The fixed point of g is surely the square root also, and it's a simpler procedure.</span><span s="2017" t="Why am I not using it? Well, I suppose you know. Supposing x is 2 and I start out with 1, and if I divide 1 into 2, I get 2."><code onclick="Z(this)">0:33:37</code>Why am I not using it? Well, I suppose you know. Supposing x is 2 and I start out with 1, and if I divide 1 into 2, I get 2.</span><span s="2027" t="And then if I divide 2 into 2, I get 1. If I divide 1 into 2, I get 2, and 2 into 2, I get 1, and I never get any closer to the square root. It just oscillates."><code onclick="Z(this)">0:33:47</code>And then if I divide 2 into 2, I get 1. If I divide 1 into 2, I get 2, and 2 into 2, I get 1, and I never get any closer to the square root. It just oscillates.</span><span s="2039" t="So what we have is a signal processing system, an electrical circuit which is oscillating, and I want to damp out these oscillations."><code onclick="Z(this)">0:33:59</code>So what we have is a signal processing system, an electrical circuit which is oscillating, and I want to damp out these oscillations.</span><span s="2050" t="Well, I can do that. See, what I&apos;m really doing here when I&apos;m taking my average, the average is averaging the last two values of something which oscillates, getting something in between."><code onclick="Z(this)">0:34:10</code>Well, I can do that. See, what I'm really doing here when I'm taking my average, the average is averaging the last two values of something which oscillates, getting something in between.</span><span s="2061" t="The classic way is damping out oscillations in a signal processing system. So why don&apos;t we write down the strategy that I just said in a"><code onclick="Z(this)">0:34:21</code>The classic way is damping out oscillations in a signal processing system. So why don't we write down the strategy that I just said in a</span><span s="2071" t="more clear way? Well, that&apos;s easy enough. I&apos;m going to define the square root of x to be a fixed point"><code onclick="Z(this)">0:34:31</code>more clear way? Well, that's easy enough. I'm going to define the square root of x to be a fixed point</span><span s="2093" t="of the procedure resulting from average damping. So I have a procedure resulting from average damp of"><code onclick="Z(this)">0:34:53</code>of the procedure resulting from average damping. So I have a procedure resulting from average damp of</span><span s="2110" t="the procedure, that procedure of y, which divides x by y"><code onclick="Z(this)">0:35:10</code>the procedure, that procedure of y, which divides x by y</span><span s="2124" t="starting out at 1. Ah, but average damp is a special procedure that&apos;s going"><code onclick="Z(this)">0:35:24</code>starting out at 1. Ah, but average damp is a special procedure that's going</span><span s="2133" t="to take a procedure as its argument and return a procedure as its value. It&apos;s a generalization that says given a procedure, it&apos;s"><code onclick="Z(this)">0:35:33</code>to take a procedure as its argument and return a procedure as its value. It's a generalization that says given a procedure, it's</span><span s="2142" t="the thing which produces a procedure which averages the last value and the value before and after running the procedure."><code onclick="Z(this)">0:35:42</code>the thing which produces a procedure which averages the last value and the value before and after running the procedure.</span><span s="2151" t="You can use it for anything if you want to damp out oscillations. So let&apos;s write that down. It&apos;s very easy."><code onclick="Z(this)">0:35:51</code>You can use it for anything if you want to damp out oscillations. So let's write that down. It's very easy.</span><span s="2160" t="And stylistically here, I&apos;m going to use lambda notation because it&apos;s much easier to think when you&apos;re dealing with procedure, the mid-line procedures, to understand that the procedures are the objects I&apos;m dealing with, so I&apos;m going"><code onclick="Z(this)">0:36:00</code>And stylistically here, I'm going to use lambda notation because it's much easier to think when you're dealing with procedure, the mid-line procedures, to understand that the procedures are the objects I'm dealing with, so I'm going</span><span s="2171" t="to use lambda notation here. Not always. I don&apos;t always use it, but very specifically here to expand on that idea, to elucidate it."><code onclick="Z(this)">0:36:11</code>to use lambda notation here. Not always. I don't always use it, but very specifically here to expand on that idea, to elucidate it.</span><span s="2188" t="Well, average damp is a procedure, which takes a procedure as its argument, which we will call f."><code onclick="Z(this)">0:36:28</code>Well, average damp is a procedure, which takes a procedure as its argument, which we will call f.</span><span s="2197" t="And what does it produce? It produces as its value-- the body of this procedure is a thing which produces a procedure, the construct of the procedures right here, of"><code onclick="Z(this)">0:36:37</code>And what does it produce? It produces as its value-- the body of this procedure is a thing which produces a procedure, the construct of the procedures right here, of</span><span s="2207" t="one argument x, which averages f of x with x."><code onclick="Z(this)">0:36:47</code>one argument x, which averages f of x with x.</span><span s="2230" t="This is a very special thing. I think for the first time you&apos;re seeing a procedure which produces a procedure as its value."><code onclick="Z(this)">0:37:10</code>This is a very special thing. I think for the first time you're seeing a procedure which produces a procedure as its value.</span><span s="2241" t="This procedure takes the procedure f and does something to it to produce a new procedure of one argument x, which averages f--"><code onclick="Z(this)">0:37:21</code>This procedure takes the procedure f and does something to it to produce a new procedure of one argument x, which averages f--</span><span s="2251" t="this f-- applied to x and x itself. Using the context here, I apply average damping to the"><code onclick="Z(this)">0:37:31</code>this f-- applied to x and x itself. Using the context here, I apply average damping to the</span><span s="2260" t="procedure, which just divides x by y. It&apos;s a division. And I&apos;m finding to fixed point of that, and that&apos;s a clearer"><code onclick="Z(this)">0:37:40</code>procedure, which just divides x by y. It's a division. And I'm finding to fixed point of that, and that's a clearer</span><span s="2271" t="way of writing down what I wrote down over here, wherever it was. Here, because it tells why I am writing this down."><code onclick="Z(this)">0:37:51</code>way of writing down what I wrote down over here, wherever it was. Here, because it tells why I am writing this down.</span><span s="2287" t="I suppose this to some extent really clarifies what Heron of Alexandria was up to. I suppose I&apos;ll stop now. Are there any questions?"><code onclick="Z(this)">0:38:07</code>I suppose this to some extent really clarifies what Heron of Alexandria was up to. I suppose I'll stop now. Are there any questions?</span><span s="2298" t="AUDIENCE: So when you define average damp, don&apos;t you need to have a variable on f? PROFESSOR: Ah, the question was, and here we&apos;re having--"><code onclick="Z(this)">0:38:18</code>AUDIENCE: So when you define average damp, don't you need to have a variable on f? PROFESSOR: Ah, the question was, and here we're having--</span><span s="2308" t="again, you&apos;ve got to learn about the syntax. The question was when defining average damp, don&apos;t you have to have a variable defined with f?"><code onclick="Z(this)">0:38:28</code>again, you've got to learn about the syntax. The question was when defining average damp, don't you have to have a variable defined with f?</span><span s="2318" t="What you are asking about is the formal parameter of f? AUDIENCE: Yeah. PROFESSOR: OK. The formal parameter of f is here. The formal parameter of f--"><code onclick="Z(this)">0:38:38</code>What you are asking about is the formal parameter of f? AUDIENCE: Yeah. PROFESSOR: OK. The formal parameter of f is here. The formal parameter of f--</span><span s="2327" t="AUDIENCE: The formal parameter of average damp. PROFESSOR: F is being used to apply it to an argument, right? It&apos;s indeed true that f must have a formal parameter."><code onclick="Z(this)">0:38:47</code>AUDIENCE: The formal parameter of average damp. PROFESSOR: F is being used to apply it to an argument, right? It's indeed true that f must have a formal parameter.</span><span s="2337" t="Let&apos;s find out what f&apos;s formal parameter is. AUDIENCE: The formal parameter of average damp. PROFESSOR: Oh, f is the formal parameter of average damp. I&apos;m sorry. You&apos;re just confusing a syntactic thing."><code onclick="Z(this)">0:38:57</code>Let's find out what f's formal parameter is. AUDIENCE: The formal parameter of average damp. PROFESSOR: Oh, f is the formal parameter of average damp. I'm sorry. You're just confusing a syntactic thing.</span><span s="2347" t="I could have written this the other way. Actually, I didn&apos;t understand your question. Of course, I could have written it this other way."><code onclick="Z(this)">0:39:07</code>I could have written this the other way. Actually, I didn't understand your question. Of course, I could have written it this other way.</span><span s="2359" t="Those are identical notations. This is a different way of writing this."><code onclick="Z(this)">0:39:19</code>Those are identical notations. This is a different way of writing this.</span><span s="2371" t="You&apos;re going to have to get used to lambda notation because I&apos;m going to use it. What it says here, I&apos;m defining the name average damp"><code onclick="Z(this)">0:39:31</code>You're going to have to get used to lambda notation because I'm going to use it. What it says here, I'm defining the name average damp</span><span s="2380" t="to name the procedure whose of one argument f. That&apos;s the formal parameter of the procedure average damp."><code onclick="Z(this)">0:39:40</code>to name the procedure whose of one argument f. That's the formal parameter of the procedure average damp.</span><span s="2389" t="What define does is it says give this name a value. Here is the value of for it."><code onclick="Z(this)">0:39:49</code>What define does is it says give this name a value. Here is the value of for it.</span><span s="2401" t="That there happens to be a funny syntax to make that easier in some cases is purely convenience."><code onclick="Z(this)">0:40:01</code>That there happens to be a funny syntax to make that easier in some cases is purely convenience.</span><span s="2410" t="But the reason why I wrote it this way here is to emphasize that I&apos;m dealing with a procedure that takes a procedure as its argument and produces a procedure as its value."><code onclick="Z(this)">0:40:10</code>But the reason why I wrote it this way here is to emphasize that I'm dealing with a procedure that takes a procedure as its argument and produces a procedure as its value.</span><span s="2423" t="AUDIENCE: I don&apos;t understand why you use lambda twice. Can you just use one lambda and take two arguments f and x? PROFESSOR: No. AUDIENCE: You can&apos;t? PROFESSOR: No, that would be a different thing."><code onclick="Z(this)">0:40:23</code>AUDIENCE: I don't understand why you use lambda twice. Can you just use one lambda and take two arguments f and x? PROFESSOR: No. AUDIENCE: You can't? PROFESSOR: No, that would be a different thing.</span><span s="2432" t="If I were to write the procedure lambda of f and x, the average of f of x and x, that would not be something which would be allowed to take a procedure as an argument and"><code onclick="Z(this)">0:40:32</code>If I were to write the procedure lambda of f and x, the average of f of x and x, that would not be something which would be allowed to take a procedure as an argument and</span><span s="2442" t="produce a procedure as its value. That would be a thing that takes a procedure as its argument and numbers its argument and produces a new number. But what I&apos;m producing here is a procedure to fit in the"><code onclick="Z(this)">0:40:42</code>produce a procedure as its value. That would be a thing that takes a procedure as its argument and numbers its argument and produces a new number. But what I'm producing here is a procedure to fit in the</span><span s="2453" t="procedure slot over here, which is going to be used over here. So the number has to come from here. This is the thing that&apos;s going to eventually end up in the x."><code onclick="Z(this)">0:40:53</code>procedure slot over here, which is going to be used over here. So the number has to come from here. This is the thing that's going to eventually end up in the x.</span><span s="2464" t="And if you&apos;re confused, you should do some substitution and see for yourself. Yes? AUDIENCE: Will you please show the definition for average"><code onclick="Z(this)">0:41:04</code>And if you're confused, you should do some substitution and see for yourself. Yes? AUDIENCE: Will you please show the definition for average</span><span s="2475" t="damp without using lambda notation in both cases. PROFESSOR: I can&apos;t make a very simple one like that. Let me do it for you, though. I can get rid of this lambda easily."><code onclick="Z(this)">0:41:15</code>damp without using lambda notation in both cases. PROFESSOR: I can't make a very simple one like that. Let me do it for you, though. I can get rid of this lambda easily.</span><span s="2486" t="I don&apos;t want to be-- actually, I&apos;m lying to you. I don&apos;t want to do what you want because I think it&apos;s more"><code onclick="Z(this)">0:41:26</code>I don't want to be-- actually, I'm lying to you. I don't want to do what you want because I think it's more</span><span s="2497" t="confusing than you think. I&apos;m not going to write what you want."><code onclick="Z(this)">0:41:37</code>confusing than you think. I'm not going to write what you want.</span><span s="2515" t="So we&apos;ll have to get a name. FOO of x to be of F of x and x and return as a value FOO."><code onclick="Z(this)">0:41:55</code>So we'll have to get a name. FOO of x to be of F of x and x and return as a value FOO.</span><span s="2537" t="This is equivalent, but I&apos;ve had to make an arbitrary name up. This is equivalent to this without any lambdas."><code onclick="Z(this)">0:42:17</code>This is equivalent, but I've had to make an arbitrary name up. This is equivalent to this without any lambdas.</span><span s="2546" t="Lambda is very convenient for naming anonymous procedures. It&apos;s the anonymous name of something. Now, if you really want to know a cute way of doing this,"><code onclick="Z(this)">0:42:26</code>Lambda is very convenient for naming anonymous procedures. It's the anonymous name of something. Now, if you really want to know a cute way of doing this,</span><span s="2559" t="we&apos;ll talk about it later. We&apos;re going to have to define the anonymous procedure. Any other questions?"><code onclick="Z(this)">0:42:39</code>we'll talk about it later. We're going to have to define the anonymous procedure. Any other questions?</span><span s="2569" t="And so we go for our break again."><code onclick="Z(this)">0:42:49</code>And so we go for our break again.</span><span s="2611" t="So now we&apos;ve seen how to use high-order procedures, they&apos;re called. That&apos;s procedures that take procedural arguments and produce procedural values to help us clarify and abstract"><code onclick="Z(this)">0:43:31</code>So now we've seen how to use high-order procedures, they're called. That's procedures that take procedural arguments and produce procedural values to help us clarify and abstract</span><span s="2623" t="some otherwise complicated processes. I suppose what I&apos;d like to do now is have a bit of fun with that and sort of a little practice as well."><code onclick="Z(this)">0:43:43</code>some otherwise complicated processes. I suppose what I'd like to do now is have a bit of fun with that and sort of a little practice as well.</span><span s="2634" t="So let&apos;s play with this square root thing even more. Let&apos;s elaborate it and understand what&apos;s going on and make use of this kind of programming style."><code onclick="Z(this)">0:43:54</code>So let's play with this square root thing even more. Let's elaborate it and understand what's going on and make use of this kind of programming style.</span><span s="2644" t="One thing that you might know is that there is a general method called Newton&apos;s method the purpose of which is to find the roots--"><code onclick="Z(this)">0:44:04</code>One thing that you might know is that there is a general method called Newton's method the purpose of which is to find the roots--</span><span s="2655" t="that&apos;s the zeroes-- of functions. So, for example, to find a y such that f of y equals 0, we"><code onclick="Z(this)">0:44:15</code>that's the zeroes-- of functions. So, for example, to find a y such that f of y equals 0, we</span><span s="2678" t="start with some guess. This is Newton&apos;s method."><code onclick="Z(this)">0:44:38</code>start with some guess. This is Newton's method.</span><span s="2691" t="And the guess we start with we&apos;ll call y0, and then we will iterate the following expression."><code onclick="Z(this)">0:44:51</code>And the guess we start with we'll call y0, and then we will iterate the following expression.</span><span s="2701" t="y n plus 1-- this is a difference equation-- is yn minus f of yn over the derivative with respect to y"><code onclick="Z(this)">0:45:01</code>y n plus 1-- this is a difference equation-- is yn minus f of yn over the derivative with respect to y</span><span s="2717" t="of f evaluated at y equal yn. Very strange notation."><code onclick="Z(this)">0:45:17</code>of f evaluated at y equal yn. Very strange notation.</span><span s="2726" t="I must say ugh. The derivative of f with respect to y is a function."><code onclick="Z(this)">0:45:26</code>I must say ugh. The derivative of f with respect to y is a function.</span><span s="2735" t="I&apos;m having a little bit of unhappiness with that, but that&apos;s all right. It turns out in the programming language world, the notation is much clearer. Now, what is this?"><code onclick="Z(this)">0:45:35</code>I'm having a little bit of unhappiness with that, but that's all right. It turns out in the programming language world, the notation is much clearer. Now, what is this?</span><span s="2745" t="People call it Newton&apos;s method. It&apos;s a method for finding the roots of the function f."><code onclick="Z(this)">0:45:45</code>People call it Newton's method. It's a method for finding the roots of the function f.</span><span s="2754" t="And it, of course, sometimes converges, and when it does, it does so very fast. And sometimes, it doesn&apos;t converge, and, oh well, we have to do something else."><code onclick="Z(this)">0:45:54</code>And it, of course, sometimes converges, and when it does, it does so very fast. And sometimes, it doesn't converge, and, oh well, we have to do something else.</span><span s="2763" t="But let&apos;s talk about square root by Newton&apos;s method. Well, that&apos;s rather interesting. Let&apos;s do exactly the same thing we did last time: a bit of wishful thinking."><code onclick="Z(this)">0:46:03</code>But let's talk about square root by Newton's method. Well, that's rather interesting. Let's do exactly the same thing we did last time: a bit of wishful thinking.</span><span s="2773" t="We will apply Newton&apos;s method, assuming we knew how to do it. You don&apos;t know how to do it yet. Well, let&apos;s go."><code onclick="Z(this)">0:46:13</code>We will apply Newton's method, assuming we knew how to do it. You don't know how to do it yet. Well, let's go.</span><span s="2785" t="What do I have here? The square root of x. It&apos;s Newton&apos;s method applied to a procedure which will"><code onclick="Z(this)">0:46:25</code>What do I have here? The square root of x. It's Newton's method applied to a procedure which will</span><span s="2797" t="represent that function of y, which computes that function of y. Well, that procedure is that procedure of y, which is the"><code onclick="Z(this)">0:46:37</code>represent that function of y, which computes that function of y. Well, that procedure is that procedure of y, which is the</span><span s="2808" t="difference between x and the square of y."><code onclick="Z(this)">0:46:48</code>difference between x and the square of y.</span><span s="2820" t="Indeed, if I had a value of y for which this was zero, then y would be the square root of x."><code onclick="Z(this)">0:47:00</code>Indeed, if I had a value of y for which this was zero, then y would be the square root of x.</span><span s="2833" t="See that? OK, I&apos;m going to start this out searching at 1. Again, completely arbitrary property of square roots that"><code onclick="Z(this)">0:47:13</code>See that? OK, I'm going to start this out searching at 1. Again, completely arbitrary property of square roots that</span><span s="2843" t="I can do that. Now, how am I going to compute Newton&apos;s method? Well, this is the method."><code onclick="Z(this)">0:47:23</code>I can do that. Now, how am I going to compute Newton's method? Well, this is the method.</span><span s="2852" t="I have it right here. In fact, what I&apos;m doing is looking for a fixed point of some procedure."><code onclick="Z(this)">0:47:32</code>I have it right here. In fact, what I'm doing is looking for a fixed point of some procedure.</span><span s="2861" t="This procedure involves some complicated expressions in terms of other complicated things. Well, I&apos;m trying to find the fixed point of this. I want to find the values of y, which if I put y in here, I"><code onclick="Z(this)">0:47:41</code>This procedure involves some complicated expressions in terms of other complicated things. Well, I'm trying to find the fixed point of this. I want to find the values of y, which if I put y in here, I</span><span s="2874" t="get the same value out here up to some degree of accuracy. Well, I already have a fixed point process around to do that."><code onclick="Z(this)">0:47:54</code>get the same value out here up to some degree of accuracy. Well, I already have a fixed point process around to do that.</span><span s="2885" t="And so, let&apos;s just define Newton&apos;s method over here."><code onclick="Z(this)">0:48:05</code>And so, let's just define Newton's method over here.</span><span s="2899" t="A procedure which computes a function and a guess, initial guess. Now, I&apos;m going to have to do something here."><code onclick="Z(this)">0:48:19</code>A procedure which computes a function and a guess, initial guess. Now, I'm going to have to do something here.</span><span s="2908" t="I&apos;m going to need the derivative of the function. I&apos;m going to need a procedure which computes the derivative of the function computed by the given a procedure f."><code onclick="Z(this)">0:48:28</code>I'm going to need the derivative of the function. I'm going to need a procedure which computes the derivative of the function computed by the given a procedure f.</span><span s="2922" t="I&apos;m trying to be very careful about what I&apos;m saying. I don&apos;t want to mix up the word procedure and function. Function is a mathematical word. It says I&apos;m mapping from values to other values, a set"><code onclick="Z(this)">0:48:42</code>I'm trying to be very careful about what I'm saying. I don't want to mix up the word procedure and function. Function is a mathematical word. It says I'm mapping from values to other values, a set</span><span s="2932" t="of ordered pairs. But sometimes, I&apos;ll accidentally mix those up. Procedures compute functions."><code onclick="Z(this)">0:48:52</code>of ordered pairs. But sometimes, I'll accidentally mix those up. Procedures compute functions.</span><span s="2947" t="So I&apos;m going to define the derivative of f to be by wishful thinking again. I don&apos;t know how I&apos;m going to do it. Let&apos;s worry about that later--"><code onclick="Z(this)">0:49:07</code>So I'm going to define the derivative of f to be by wishful thinking again. I don't know how I'm going to do it. Let's worry about that later--</span><span s="2958" t="of F. So if F is a procedure, which happens to be this one over here for a square root, then DF will be the derivative"><code onclick="Z(this)">0:49:18</code>of F. So if F is a procedure, which happens to be this one over here for a square root, then DF will be the derivative</span><span s="2971" t="of it, which is also the derivative of the function computed by that procedure. DF will be a procedure that computes the derivative of the function computed by the procedure F. And then given"><code onclick="Z(this)">0:49:31</code>of it, which is also the derivative of the function computed by that procedure. DF will be a procedure that computes the derivative of the function computed by the procedure F. And then given</span><span s="2982" t="that, I will just go looking for a fixed point."><code onclick="Z(this)">0:49:42</code>that, I will just go looking for a fixed point.</span><span s="2991" t="What is the fixed point I&apos;m looking for? It&apos;s the one for that procedure of one argument x, which I compute by subtracting x."><code onclick="Z(this)">0:49:51</code>What is the fixed point I'm looking for? It's the one for that procedure of one argument x, which I compute by subtracting x.</span><span s="3000" t="That&apos;s the old-- that&apos;s the yn here. The quotient of f of x and df of x, starting out with the"><code onclick="Z(this)">0:50:00</code>That's the old-- that's the yn here. The quotient of f of x and df of x, starting out with the</span><span s="3021" t="original guess. That&apos;s all very simple."><code onclick="Z(this)">0:50:21</code>original guess. That's all very simple.</span><span s="3032" t="Now, I have one part left that I haven&apos;t written, and I want you to see the process by which I write these things, because this is really true. I start out with some mathematical idea, perhaps."><code onclick="Z(this)">0:50:32</code>Now, I have one part left that I haven't written, and I want you to see the process by which I write these things, because this is really true. I start out with some mathematical idea, perhaps.</span><span s="3043" t="By wishful thinking, I assume that by some magic I can do something that I have a name for. I&apos;m not going to worry about how I do it yet."><code onclick="Z(this)">0:50:43</code>By wishful thinking, I assume that by some magic I can do something that I have a name for. I'm not going to worry about how I do it yet.</span><span s="3054" t="Then I go walking down here and say, well, by some magic, I&apos;m somehow going to figure how to do that, but I&apos;m going to write my program anyway."><code onclick="Z(this)">0:50:54</code>Then I go walking down here and say, well, by some magic, I'm somehow going to figure how to do that, but I'm going to write my program anyway.</span><span s="3064" t="Wishful thinking, essential to good engineering, and certainly essential to a good computer science. So anyway, how many of you wished that your"><code onclick="Z(this)">0:51:04</code>Wishful thinking, essential to good engineering, and certainly essential to a good computer science. So anyway, how many of you wished that your</span><span s="3075" t="computer ran faster? Well, the derivative isn&apos;t so bad either. Sort of like average damping."><code onclick="Z(this)">0:51:15</code>computer ran faster? Well, the derivative isn't so bad either. Sort of like average damping.</span><span s="3088" t="The derivative is a procedure that takes a procedure that computes a function as its argument, and it produces a"><code onclick="Z(this)">0:51:28</code>The derivative is a procedure that takes a procedure that computes a function as its argument, and it produces a</span><span s="3098" t="procedure that computes a function, which needs one argument x. Well, you all know this definition. It&apos;s f of x plus delta x minus f of x over delta x, right?"><code onclick="Z(this)">0:51:38</code>procedure that computes a function, which needs one argument x. Well, you all know this definition. It's f of x plus delta x minus f of x over delta x, right?</span><span s="3109" t="For some small delta x. So that&apos;s the quotient of the difference of f of the sum of"><code onclick="Z(this)">0:51:49</code>For some small delta x. So that's the quotient of the difference of f of the sum of</span><span s="3119" t="x and dx minus f point x divided by dx."><code onclick="Z(this)">0:51:59</code>x and dx minus f point x divided by dx.</span><span s="3138" t="I think the thing was lining up correctly when I balanced the parentheses. Now, I want you to look at this."><code onclick="Z(this)">0:52:18</code>I think the thing was lining up correctly when I balanced the parentheses. Now, I want you to look at this.</span><span s="3147" t="Just look. I suppose I haven&apos;t told you what dx is. Somewhere in the world I&apos;m going to have to write down"><code onclick="Z(this)">0:52:27</code>Just look. I suppose I haven't told you what dx is. Somewhere in the world I'm going to have to write down</span><span s="3164" t="something like that. I&apos;m not interested. This is a procedure which takes a procedure and produces an approximation, a procedure that computes an approximation"><code onclick="Z(this)">0:52:44</code>something like that. I'm not interested. This is a procedure which takes a procedure and produces an approximation, a procedure that computes an approximation</span><span s="3175" t="of the derivative of the function computed by the procedure given by the standard methods that you all know and love."><code onclick="Z(this)">0:52:55</code>of the derivative of the function computed by the procedure given by the standard methods that you all know and love.</span><span s="3184" t="Now, it may not be the case that doing this operation is such a good way of approximating a derivative. Numerical analysts here should jump on me and"><code onclick="Z(this)">0:53:04</code>Now, it may not be the case that doing this operation is such a good way of approximating a derivative. Numerical analysts here should jump on me and</span><span s="3194" t="say don&apos;t do that. Computing derivatives produces noisy answers, which is true. However, this again is for the sake of understanding."><code onclick="Z(this)">0:53:14</code>say don't do that. Computing derivatives produces noisy answers, which is true. However, this again is for the sake of understanding.</span><span s="3204" t="Look what we&apos;ve got. We started out with what is apparently a mathematically complex thing. and. In a few blackboards full, we managed to decompose the"><code onclick="Z(this)">0:53:24</code>Look what we've got. We started out with what is apparently a mathematically complex thing. and. In a few blackboards full, we managed to decompose the</span><span s="3215" t="problem of computing square roots by the way you were taught in your college calculus class-- Newton&apos;s method-- so that it can be understood."><code onclick="Z(this)">0:53:35</code>problem of computing square roots by the way you were taught in your college calculus class-- Newton's method-- so that it can be understood.</span><span s="3225" t="It&apos;s clear. Let&apos;s look at the structure of what it is we&apos;ve got. Let&apos;s look at this slide."><code onclick="Z(this)">0:53:45</code>It's clear. Let's look at the structure of what it is we've got. Let's look at this slide.</span><span s="3234" t="This is a diagram of the machine described by the"><code onclick="Z(this)">0:53:54</code>This is a diagram of the machine described by the</span><span s="3243" t="program on the blackboard. There&apos;s a machine described here. And what have I got? Over here is the Newton&apos;s method function f that we have"><code onclick="Z(this)">0:54:03</code>program on the blackboard. There's a machine described here. And what have I got? Over here is the Newton's method function f that we have</span><span s="3257" t="on the left-most blackboard. It&apos;s the thing that takes an argument called y and puts out the difference between x and the square of y, where x is"><code onclick="Z(this)">0:54:17</code>on the left-most blackboard. It's the thing that takes an argument called y and puts out the difference between x and the square of y, where x is</span><span s="3272" t="some sort of free variable that comes in from the outside by some magic. So the square root routine picks up an x, and builds this"><code onclick="Z(this)">0:54:32</code>some sort of free variable that comes in from the outside by some magic. So the square root routine picks up an x, and builds this</span><span s="3283" t="procedure, which I have the x rolled up in it by substitution. Now, this procedure in the cloud is fed in as the f into"><code onclick="Z(this)">0:54:43</code>procedure, which I have the x rolled up in it by substitution. Now, this procedure in the cloud is fed in as the f into</span><span s="3298" t="the Newton&apos;s method which is here, this box. The f is fanned out."><code onclick="Z(this)">0:54:58</code>the Newton's method which is here, this box. The f is fanned out.</span><span s="3308" t="Part of it goes into something else, and the other part of it goes through a derivative process into something else to produce a procedure, which computes the function which is"><code onclick="Z(this)">0:55:08</code>Part of it goes into something else, and the other part of it goes through a derivative process into something else to produce a procedure, which computes the function which is</span><span s="3320" t="the iteration function of Newton&apos;s method when we use the fixed point method. So this procedure, which contains it by substitution--"><code onclick="Z(this)">0:55:20</code>the iteration function of Newton's method when we use the fixed point method. So this procedure, which contains it by substitution--</span><span s="3333" t="remember, Newton&apos;s method over here, Newton&apos;s method builds this procedure, and Newton&apos;s method has in it defined f and"><code onclick="Z(this)">0:55:33</code>remember, Newton's method over here, Newton's method builds this procedure, and Newton's method has in it defined f and</span><span s="3343" t="df, so those are captured over here: f and df. Starting with this procedure, I can now feed this to the fixed point process within an initial guess coming out from"><code onclick="Z(this)">0:55:43</code>df, so those are captured over here: f and df. Starting with this procedure, I can now feed this to the fixed point process within an initial guess coming out from</span><span s="3355" t="the outside from square root to produce the square root of x. So what we&apos;ve built is a very powerful engine, which allows"><code onclick="Z(this)">0:55:55</code>the outside from square root to produce the square root of x. So what we've built is a very powerful engine, which allows</span><span s="3367" t="us to make nice things like this. Now, I want to end this with basically an idea of Chris"><code onclick="Z(this)">0:56:07</code>us to make nice things like this. Now, I want to end this with basically an idea of Chris</span><span s="3379" t="Strachey, one of the grandfathers of computer science. He&apos;s a logician who lived in the-- I suppose about 10 years ago or 15 years ago, he died."><code onclick="Z(this)">0:56:19</code>Strachey, one of the grandfathers of computer science. He's a logician who lived in the-- I suppose about 10 years ago or 15 years ago, he died.</span><span s="3390" t="I don&apos;t remember exactly when. He&apos;s one of the inventors of something called denotational semantics. He was a great advocate of making procedures or functions"><code onclick="Z(this)">0:56:30</code>I don't remember exactly when. He's one of the inventors of something called denotational semantics. He was a great advocate of making procedures or functions</span><span s="3400" t="first-class citizens in a programming language. So here&apos;s the rights and privileges of first-class citizens in a programming language."><code onclick="Z(this)">0:56:40</code>first-class citizens in a programming language. So here's the rights and privileges of first-class citizens in a programming language.</span><span s="3410" t="It allows you to make any abstraction you like if you have functions as first-class citizens. The first-class citizens must be able"><code onclick="Z(this)">0:56:50</code>It allows you to make any abstraction you like if you have functions as first-class citizens. The first-class citizens must be able</span><span s="3419" t="to be named by variables. And you&apos;re seeing me doing that all the time. Here&apos;s a nice variable which names a procedure which computes something."><code onclick="Z(this)">0:56:59</code>to be named by variables. And you're seeing me doing that all the time. Here's a nice variable which names a procedure which computes something.</span><span s="3433" t="They have to be passed as arguments to procedures. We&apos;ve certainly seen that. We have to be able to return them as values from procedures."><code onclick="Z(this)">0:57:13</code>They have to be passed as arguments to procedures. We've certainly seen that. We have to be able to return them as values from procedures.</span><span s="3443" t="And I suppose we&apos;ve seen that. We haven&apos;t yet seen anything about data structures. We will soon, but it&apos;s also the case that in order to have a first-class citizen in a programming language, the"><code onclick="Z(this)">0:57:23</code>And I suppose we've seen that. We haven't yet seen anything about data structures. We will soon, but it's also the case that in order to have a first-class citizen in a programming language, the</span><span s="3453" t="object has to be allowed to be part of a data structure. We&apos;re going to see that soon. So I just want to close with this and say having things"><code onclick="Z(this)">0:57:33</code>object has to be allowed to be part of a data structure. We're going to see that soon. So I just want to close with this and say having things</span><span s="3463" t="like procedures as first-class data structures, first-class data, allows one to make powerful abstractions, which encode general methods like Newton&apos;s method"><code onclick="Z(this)">0:57:43</code>like procedures as first-class data structures, first-class data, allows one to make powerful abstractions, which encode general methods like Newton's method</span><span s="3473" t="in very clear way. Are there any questions? Yes. AUDIENCE: Could you put derivative instead of df directly in the fixed point?"><code onclick="Z(this)">0:57:53</code>in very clear way. Are there any questions? Yes. AUDIENCE: Could you put derivative instead of df directly in the fixed point?</span><span s="3482" t="PROFESSOR: Oh, sure. Yes, I could have put deriv of f right here, no question."><code onclick="Z(this)">0:58:02</code>PROFESSOR: Oh, sure. Yes, I could have put deriv of f right here, no question.</span><span s="3491" t="Any time you see something defined, you can put the thing that the definition is there because you get the same result."><code onclick="Z(this)">0:58:11</code>Any time you see something defined, you can put the thing that the definition is there because you get the same result.</span><span s="3501" t="In fact, what that would look like, it&apos;s interesting. AUDIENCE: Lambda. PROFESSOR: Huh? AUDIENCE: You could put the lambda expression in there. PROFESSOR: I could also put derivative of f here. It would look interesting because of the open paren,"><code onclick="Z(this)">0:58:21</code>In fact, what that would look like, it's interesting. AUDIENCE: Lambda. PROFESSOR: Huh? AUDIENCE: You could put the lambda expression in there. PROFESSOR: I could also put derivative of f here. It would look interesting because of the open paren,</span><span s="3512" t="open paren, deriv of f, closed paren on an x. Now, that would have the bad property of computing the derivative many times, because every time I would run this"><code onclick="Z(this)">0:58:32</code>open paren, deriv of f, closed paren on an x. Now, that would have the bad property of computing the derivative many times, because every time I would run this</span><span s="3523" t="procedure, I would compute the derivative again. However, the two open parens here both would be meaningful."><code onclick="Z(this)">0:58:43</code>procedure, I would compute the derivative again. However, the two open parens here both would be meaningful.</span><span s="3532" t="I want you to understand syntactically that that&apos;s a sensible thing. Because if was to rewrite this program-- and I should do it right here just so you see because that&apos;s a good question--"><code onclick="Z(this)">0:58:52</code>I want you to understand syntactically that that's a sensible thing. Because if was to rewrite this program-- and I should do it right here just so you see because that's a good question--</span><span s="3551" t="of F and guess to be fixed point of that procedure of one"><code onclick="Z(this)">0:59:11</code>of F and guess to be fixed point of that procedure of one</span><span s="3565" t="argument x, which subtracts from x the quotient of F"><code onclick="Z(this)">0:59:25</code>argument x, which subtracts from x the quotient of F</span><span s="3574" t="applied to x and the deriv of F applied to x."><code onclick="Z(this)">0:59:34</code>applied to x and the deriv of F applied to x.</span><span s="3593" t="This is guess. This is a perfectly legitimate program,"><code onclick="Z(this)">0:59:53</code>This is guess. This is a perfectly legitimate program,</span><span s="3602" t="because what I have here-- remember the evaluation rule. The evaluation rule is evaluate all of the parts of the combination: the operator and the operands."><code onclick="Z(this)">1:00:02</code>because what I have here-- remember the evaluation rule. The evaluation rule is evaluate all of the parts of the combination: the operator and the operands.</span><span s="3612" t="This is the operator of this combination. Evaluating this operator will, of course, produce the"><code onclick="Z(this)">1:00:12</code>This is the operator of this combination. Evaluating this operator will, of course, produce the</span><span s="3621" t="derivative of F. AUDIENCE: To get it one step further, you could put the"><code onclick="Z(this)">1:00:21</code>derivative of F. AUDIENCE: To get it one step further, you could put the</span><span s="3630" t="lambda expression there, too. PROFESSOR: Oh, of course. Any time I take something which is define, I can put the thing it&apos;s defined to be in the place where the thing"><code onclick="Z(this)">1:00:30</code>lambda expression there, too. PROFESSOR: Oh, of course. Any time I take something which is define, I can put the thing it's defined to be in the place where the thing</span><span s="3640" t="defined is. I can&apos;t remember which is definiens and which is definiendum. When I&apos;m trying to figure out how to do a lecture about this"><code onclick="Z(this)">1:00:40</code>defined is. I can't remember which is definiens and which is definiendum. When I'm trying to figure out how to do a lecture about this</span><span s="3650" t="in a freshman class, I use such words and tell everybody it&apos;s fun to tell their friends."><code onclick="Z(this)">1:00:50</code>in a freshman class, I use such words and tell everybody it's fun to tell their friends.</span><span s="3659" t="OK, I think that&apos;s it."><code onclick="Z(this)">1:00:59</code>OK, I think that's it.</span></div><div class="eventlist" side="R" vid="ymsbTVLbyN4"><h5><code onclick="Z(this)">0:00:00</code>Lecture 2B | MIT 6.001 Structure and Interpretation, 1986</h5><span s="0" t=" [MUSIC PLAYING]"><code onclick="Z(this)">0:00:00</code> [MUSIC PLAYING]</span><span s="21" t="PROFESSOR: Well, so far in this course we&apos;ve been talking about procedures, and then just to remind you of this framework that we introduced for talking about languages,"><code onclick="Z(this)">0:00:21</code>PROFESSOR: Well, so far in this course we've been talking about procedures, and then just to remind you of this framework that we introduced for talking about languages,</span><span s="31" t="we talked about the primitive things that are built into the system. We mentioned some means of combination by which you take the primitive things"><code onclick="Z(this)">0:00:31</code>we talked about the primitive things that are built into the system. We mentioned some means of combination by which you take the primitive things</span><span s="40" t="and you make more complicated things. And then we talked about the means of abstraction, how you can take those complicated things and name them so you can use them as simple building blocks."><code onclick="Z(this)">0:00:40</code>and you make more complicated things. And then we talked about the means of abstraction, how you can take those complicated things and name them so you can use them as simple building blocks.</span><span s="49" t="And then last time you saw we went even beyond that. We saw that by using higher order procedures, you can actually express general methods for computing things."><code onclick="Z(this)">0:00:49</code>And then last time you saw we went even beyond that. We saw that by using higher order procedures, you can actually express general methods for computing things.</span><span s="58" t="Like the method of doing something by fixed points, or Newton&apos;s method, and so the incredible expressive power you can get just by combining these means of abstraction."><code onclick="Z(this)">0:00:58</code>Like the method of doing something by fixed points, or Newton's method, and so the incredible expressive power you can get just by combining these means of abstraction.</span><span s="68" t="And the crucial idea in all of this is the one that we build a layered system. So for instance, if we&apos;re writing the square root"><code onclick="Z(this)">0:01:08</code>And the crucial idea in all of this is the one that we build a layered system. So for instance, if we're writing the square root</span><span s="77" t="procedure, somewhere the square root procedure uses a procedure called good-enough,"><code onclick="Z(this)">0:01:17</code>procedure, somewhere the square root procedure uses a procedure called good-enough,</span><span s="91" t="and between those there is some sort of abstraction boundary. It&apos;s almost as if we go out and in writing square root,"><code onclick="Z(this)">0:01:31</code>and between those there is some sort of abstraction boundary. It's almost as if we go out and in writing square root,</span><span s="101" t="we go and make a contract with George, and tell George that his job is to write good-enough, and so long as good-enough works,"><code onclick="Z(this)">0:01:41</code>we go and make a contract with George, and tell George that his job is to write good-enough, and so long as good-enough works,</span><span s="110" t="we don&apos;t care what it does. We don&apos;t care exactly how it&apos;s implemented. There are levels of detail here that are George&apos;s concern and not ours."><code onclick="Z(this)">0:01:50</code>we don't care what it does. We don't care exactly how it's implemented. There are levels of detail here that are George's concern and not ours.</span><span s="120" t="So for instance, George might use an absolute value procedure that&apos;s written by Harry, and we don&apos;t much care about that or even know that, maybe, Harry exists."><code onclick="Z(this)">0:02:00</code>So for instance, George might use an absolute value procedure that's written by Harry, and we don't much care about that or even know that, maybe, Harry exists.</span><span s="133" t="So the crucial idea is that when we&apos;re building things, we divorce the task of building things from the task of implementing the parts."><code onclick="Z(this)">0:02:13</code>So the crucial idea is that when we're building things, we divorce the task of building things from the task of implementing the parts.</span><span s="147" t="And in a large system, of course, we have abstraction barriers like this at lots, and lots, and lots of levels. And that&apos;s the idea that we&apos;ve been using so far over and over"><code onclick="Z(this)">0:02:27</code>And in a large system, of course, we have abstraction barriers like this at lots, and lots, and lots of levels. And that's the idea that we've been using so far over and over</span><span s="156" t="in implementing procedures. Well, now what we&apos;re going to do is look at the same issues for data. We&apos;re going to see that the system has primitive data."><code onclick="Z(this)">0:02:36</code>in implementing procedures. Well, now what we're going to do is look at the same issues for data. We're going to see that the system has primitive data.</span><span s="166" t="In fact, we&apos;ve already seen that. We&apos;ve talked about numbers as primitive data. And then we&apos;re going to see their means of combination for data. There&apos;s glue that allows you to put primitive data together"><code onclick="Z(this)">0:02:46</code>In fact, we've already seen that. We've talked about numbers as primitive data. And then we're going to see their means of combination for data. There's glue that allows you to put primitive data together</span><span s="175" t="to make more complicated, kind of compound data. And then we&apos;re going to see a methodology for abstraction"><code onclick="Z(this)">0:02:55</code>to make more complicated, kind of compound data. And then we're going to see a methodology for abstraction</span><span s="184" t="that&apos;s a very good thing to use when you start building up data in terms of simpler data. And again, the key idea is that you&apos;re going to build the system in layers"><code onclick="Z(this)">0:03:04</code>that's a very good thing to use when you start building up data in terms of simpler data. And again, the key idea is that you're going to build the system in layers</span><span s="193" t="and set up abstraction barriers that isolate the details at the lower layers from the thing that&apos;s going on at the upper layers. The details at the lower layers, the ideas, they won&apos;t matter."><code onclick="Z(this)">0:03:13</code>and set up abstraction barriers that isolate the details at the lower layers from the thing that's going on at the upper layers. The details at the lower layers, the ideas, they won't matter.</span><span s="205" t="They&apos;re going to be George&apos;s concern because he signed this contract with us for how the stuff that he implements behaves, and how he implements the thing is his problem."><code onclick="Z(this)">0:03:25</code>They're going to be George's concern because he signed this contract with us for how the stuff that he implements behaves, and how he implements the thing is his problem.</span><span s="216" t="All right, well let&apos;s look at an example. And the example I&apos;m going to talk about is a system that does arithmetic on rational numbers. And what I have in mind is that we should have something"><code onclick="Z(this)">0:03:36</code>All right, well let's look at an example. And the example I'm going to talk about is a system that does arithmetic on rational numbers. And what I have in mind is that we should have something</span><span s="226" t="in the computer that allows us to ask it, like, what&apos;s the sum of 1/2 and 1/4, and somehow the system"><code onclick="Z(this)">0:03:46</code>in the computer that allows us to ask it, like, what's the sum of 1/2 and 1/4, and somehow the system</span><span s="236" t="should say, yeah, that&apos;s 3/4. Or we should be able to say what&apos;s 3/4 times 2/3,"><code onclick="Z(this)">0:03:56</code>should say, yeah, that's 3/4. Or we should be able to say what's 3/4 times 2/3,</span><span s="251" t="and the system should be able to say, yeah, that&apos;s 1/2. Right? And you know what I have in mind. And you also know how to do this from, I don&apos;t know,"><code onclick="Z(this)">0:04:11</code>and the system should be able to say, yeah, that's 1/2. Right? And you know what I have in mind. And you also know how to do this from, I don't know,</span><span s="260" t="fifth grade or sixth grade. There are these formulas that say if I have some fraction which is a numerator over a denominator, and I want to add that to some other fraction which"><code onclick="Z(this)">0:04:20</code>fifth grade or sixth grade. There are these formulas that say if I have some fraction which is a numerator over a denominator, and I want to add that to some other fraction which</span><span s="271" t="is another numerator over another denominator, then the answer is the numerator of the first times the denominator of the second, plus the numerator"><code onclick="Z(this)">0:04:31</code>is another numerator over another denominator, then the answer is the numerator of the first times the denominator of the second, plus the numerator</span><span s="283" t="of the second times the denominator of the first. That&apos;s the numerator of the answer, and the denominator is the product"><code onclick="Z(this)">0:04:43</code>of the second times the denominator of the first. That's the numerator of the answer, and the denominator is the product</span><span s="292" t="of the two denominators. Right? So there&apos;s something from fifth or sixth grade fraction arithmetic. And then similarly, if I want to multiply two things, n1 over d1 multiplied by n2 over d2"><code onclick="Z(this)">0:04:52</code>of the two denominators. Right? So there's something from fifth or sixth grade fraction arithmetic. And then similarly, if I want to multiply two things, n1 over d1 multiplied by n2 over d2</span><span s="305" t="is the product of the numerators over the product of the denominators."><code onclick="Z(this)">0:05:05</code>is the product of the numerators over the product of the denominators.</span><span s="314" t="So it&apos;s no problem at all, but it&apos;s absolutely no problem to think about what computation you want to make in adding and multiplying these fractions."><code onclick="Z(this)">0:05:14</code>So it's no problem at all, but it's absolutely no problem to think about what computation you want to make in adding and multiplying these fractions.</span><span s="323" t="But as soon as we go to implement it, we run up across something. We don&apos;t have what a rational number is."><code onclick="Z(this)">0:05:23</code>But as soon as we go to implement it, we run up across something. We don't have what a rational number is.</span><span s="333" t="So we said that the system gives us individual numbers, so we can have 5 and 3, but somehow we"><code onclick="Z(this)">0:05:33</code>So we said that the system gives us individual numbers, so we can have 5 and 3, but somehow we</span><span s="342" t="don&apos;t have a way of saying there&apos;s a thing that has both a 3 and a 4 in it, or both a 2 and a 3. It&apos;s almost as if we&apos;d like to imagine that somehow there"><code onclick="Z(this)">0:05:42</code>don't have a way of saying there's a thing that has both a 3 and a 4 in it, or both a 2 and a 3. It's almost as if we'd like to imagine that somehow there</span><span s="354" t="are these clouds, and a cloud somehow has both a numerator and a denominator in it, and that&apos;s what we&apos;d like to work in terms of."><code onclick="Z(this)">0:05:54</code>are these clouds, and a cloud somehow has both a numerator and a denominator in it, and that's what we'd like to work in terms of.</span><span s="366" t="Well, how are we going to solve that problem? We&apos;re going to solve that problem by using this incredibly powerful design strategy that you&apos;ve already seen us use over and over."><code onclick="Z(this)">0:06:06</code>Well, how are we going to solve that problem? We're going to solve that problem by using this incredibly powerful design strategy that you've already seen us use over and over.</span><span s="376" t="And that&apos;s the strategy of wishful thinking."><code onclick="Z(this)">0:06:16</code>And that's the strategy of wishful thinking.</span><span s="385" t="Just like before when we didn&apos;t have a procedure, we said, well, let&apos;s imagine that that procedure already exists. We&apos;ll say, well, let&apos;s imagine that we have these clouds."><code onclick="Z(this)">0:06:25</code>Just like before when we didn't have a procedure, we said, well, let's imagine that that procedure already exists. We'll say, well, let's imagine that we have these clouds.</span><span s="396" t="Now more precisely what I mean is let&apos;s imagine that we have three procedures, one called make-RAT."><code onclick="Z(this)">0:06:36</code>Now more precisely what I mean is let's imagine that we have three procedures, one called make-RAT.</span><span s="407" t="make-RAT is going to take as arguments two numbers, so I&apos;ll call them numerator and denominator,"><code onclick="Z(this)">0:06:47</code>make-RAT is going to take as arguments two numbers, so I'll call them numerator and denominator,</span><span s="417" t="and it&apos;ll return for us a cloud-- one of these clouds. I don&apos;t really know what a cloud is."><code onclick="Z(this)">0:06:57</code>and it'll return for us a cloud-- one of these clouds. I don't really know what a cloud is.</span><span s="427" t="It&apos;s whatever make-RAT returns, that&apos;s its business. And then we&apos;re going to say, suppose we&apos;ve got one of these clouds, we have a procedure called numer, which takes in a cloud that has an n and a d in it,"><code onclick="Z(this)">0:07:07</code>It's whatever make-RAT returns, that's its business. And then we're going to say, suppose we've got one of these clouds, we have a procedure called numer, which takes in a cloud that has an n and a d in it,</span><span s="440" t="whatever a cloud is, and I don&apos;t know what it is, and returns for us the numerator part. And then we&apos;ll assume we have a procedure denom,"><code onclick="Z(this)">0:07:20</code>whatever a cloud is, and I don't know what it is, and returns for us the numerator part. And then we'll assume we have a procedure denom,</span><span s="451" t="which again takes in a cloud, whatever a cloud is, and returns for us the denominator [? required. ?] This is just like before, when if we&apos;re"><code onclick="Z(this)">0:07:31</code>which again takes in a cloud, whatever a cloud is, and returns for us the denominator [? required. ?] This is just like before, when if we're</span><span s="460" t="building a square root, we assume that we have good enough. Right? And what we&apos;ll say is, we&apos;ll go find George, and we&apos;ll say to George, well, it&apos;s your business"><code onclick="Z(this)">0:07:40</code>building a square root, we assume that we have good enough. Right? And what we'll say is, we'll go find George, and we'll say to George, well, it's your business</span><span s="469" t="to make us these procedures. And how you choose to implement these clouds, that&apos;s your problem. We don&apos;t want to know."><code onclick="Z(this)">0:07:49</code>to make us these procedures. And how you choose to implement these clouds, that's your problem. We don't want to know.</span><span s="478" t="Well, having pushed this task off onto George, then it&apos;s pretty easy to do the other part. Once we&apos;ve got the clouds, it&apos;s pretty easy"><code onclick="Z(this)">0:07:58</code>Well, having pushed this task off onto George, then it's pretty easy to do the other part. Once we've got the clouds, it's pretty easy</span><span s="487" t="to write the thing that does say addition of rational numbers. You can just say define, well, let&apos;s say +RAT."><code onclick="Z(this)">0:08:07</code>to write the thing that does say addition of rational numbers. You can just say define, well, let's say +RAT.</span><span s="501" t="Define +RAT, which will take in two rational numbers, x and y. x and y are each these clouds."><code onclick="Z(this)">0:08:21</code>Define +RAT, which will take in two rational numbers, x and y. x and y are each these clouds.</span><span s="511" t="And what does it do? Well, it&apos;s going to return for us a rational number."><code onclick="Z(this)">0:08:31</code>And what does it do? Well, it's going to return for us a rational number.</span><span s="520" t="What rational number is it? Well, we&apos;ve got the formulas there. The numerator of it is the sum of the product of the numerator"><code onclick="Z(this)">0:08:40</code>What rational number is it? Well, we've got the formulas there. The numerator of it is the sum of the product of the numerator</span><span s="532" t="of x and the denominator of y."><code onclick="Z(this)">0:08:52</code>of x and the denominator of y.</span><span s="542" t="It&apos;s one thing in the sum. And the other thing in the numerator is the product of the numerator of y and the denominator of x."><code onclick="Z(this)">0:09:02</code>It's one thing in the sum. And the other thing in the numerator is the product of the numerator of y and the denominator of x.</span><span s="559" t="The star, close the plus. Right, that&apos;s the first argument to make-RAT, which is the numerator of the thing I&apos;m constructing. And then the rest of the thing goes"><code onclick="Z(this)">0:09:19</code>The star, close the plus. Right, that's the first argument to make-RAT, which is the numerator of the thing I'm constructing. And then the rest of the thing goes</span><span s="568" t="into make-RAT is the denominator of the answer, which is the product of the denominator of x"><code onclick="Z(this)">0:09:28</code>into make-RAT is the denominator of the answer, which is the product of the denominator of x</span><span s="577" t="and the denominator of y. Like that."><code onclick="Z(this)">0:09:37</code>and the denominator of y. Like that.</span><span s="586" t="OK? So there is the analog of doing rational number addition. And it&apos;s no problem at all, assuming that we have these clouds."><code onclick="Z(this)">0:09:46</code>OK? So there is the analog of doing rational number addition. And it's no problem at all, assuming that we have these clouds.</span><span s="599" t="And of course, we can do multiplication in the same way. Define how to get the product of two rational numbers,"><code onclick="Z(this)">0:09:59</code>And of course, we can do multiplication in the same way. Define how to get the product of two rational numbers,</span><span s="611" t="call it *RAT. Takes in two of these clouds, x and y, it returns"><code onclick="Z(this)">0:10:11</code>call it *RAT. Takes in two of these clouds, x and y, it returns</span><span s="620" t="a rational number, make-RAT, whose numerator is the product of the numerators-- numerator of x"><code onclick="Z(this)">0:10:20</code>a rational number, make-RAT, whose numerator is the product of the numerators-- numerator of x</span><span s="632" t="times the numerator of y. And the denominator of the thing it&apos;s going to return"><code onclick="Z(this)">0:10:32</code>times the numerator of y. And the denominator of the thing it's going to return</span><span s="641" t="is the product of the denominators."><code onclick="Z(this)">0:10:41</code>is the product of the denominators.</span><span s="657" t="Well, except that I haven&apos;t told you what these clouds are, that&apos;s all there is to it. See, what did I do? I assumed by wishful thinking that I"><code onclick="Z(this)">0:10:57</code>Well, except that I haven't told you what these clouds are, that's all there is to it. See, what did I do? I assumed by wishful thinking that I</span><span s="668" t="had a new kind of data object. And in particular, I assumed I had ways of creating these data objects. Make-RAT creates one of these things."><code onclick="Z(this)">0:11:08</code>had a new kind of data object. And in particular, I assumed I had ways of creating these data objects. Make-RAT creates one of these things.</span><span s="678" t="This is called a constructor. All right, I have a thing that constructs such data objects."><code onclick="Z(this)">0:11:18</code>This is called a constructor. All right, I have a thing that constructs such data objects.</span><span s="689" t="And then I assume I have things that, having made these things, I have ways of getting the parts out. Those are called selectors."><code onclick="Z(this)">0:11:29</code>And then I assume I have things that, having made these things, I have ways of getting the parts out. Those are called selectors.</span><span s="702" t="And so formally, what I said is I assumed I had procedures that are constructors and selectors for these data objects, and then I went off and used them."><code onclick="Z(this)">0:11:42</code>And so formally, what I said is I assumed I had procedures that are constructors and selectors for these data objects, and then I went off and used them.</span><span s="712" t="That&apos;s no different in kind from saying I assume I have a procedure good-enough, and I go use it to implement square root. OK, well before we go on, let&apos;s ask"><code onclick="Z(this)">0:11:52</code>That's no different in kind from saying I assume I have a procedure good-enough, and I go use it to implement square root. OK, well before we go on, let's ask</span><span s="725" t="the question of why do we want to do this in the first place? See, why do we want a procedure like +RAT that takes in two"><code onclick="Z(this)">0:12:05</code>the question of why do we want to do this in the first place? See, why do we want a procedure like +RAT that takes in two</span><span s="736" t="rational numbers and returns a rational number? See, another way to think about this is, well, here&apos;s this formula."><code onclick="Z(this)">0:12:16</code>rational numbers and returns a rational number? See, another way to think about this is, well, here's this formula.</span><span s="745" t="And I&apos;ve also got to implement something that adds rational numbers. One other way to think about is, well, there&apos;s this thing, and I type in four numbers, an n1, and a d1,"><code onclick="Z(this)">0:12:25</code>And I've also got to implement something that adds rational numbers. One other way to think about is, well, there's this thing, and I type in four numbers, an n1, and a d1,</span><span s="754" t="and an n2, and a d2. And it sets some registers in the machine to this numerator and this denominator. So I might say, well, why don&apos;t I"><code onclick="Z(this)">0:12:34</code>and an n2, and a d2. And it sets some registers in the machine to this numerator and this denominator. So I might say, well, why don't I</span><span s="763" t="just add rational numbers by I type in four numbers, numerators and denominators, and get out two numbers, which is a numerator and a denominator. Why are we worrying about building things"><code onclick="Z(this)">0:12:43</code>just add rational numbers by I type in four numbers, numerators and denominators, and get out two numbers, which is a numerator and a denominator. Why are we worrying about building things</span><span s="774" t="like this anyway? Well, the answer is, suppose you want to think about expressing something like this,"><code onclick="Z(this)">0:12:54</code>like this anyway? Well, the answer is, suppose you want to think about expressing something like this,</span><span s="786" t="suppose I&apos;d like to express the idea of taking two rational numbers, x plus y, say,"><code onclick="Z(this)">0:13:06</code>suppose I'd like to express the idea of taking two rational numbers, x plus y, say,</span><span s="795" t="and multiplying that by the sum of two other rational numbers. Well, the way I do it, having things like +RAT and *RAT,"><code onclick="Z(this)">0:13:15</code>and multiplying that by the sum of two other rational numbers. Well, the way I do it, having things like +RAT and *RAT,</span><span s="808" t="is I&apos;d say, oh yeah, what that is is just the product. That&apos;s *RAT of the sum of x and y and the sum of s and t."><code onclick="Z(this)">0:13:28</code>is I'd say, oh yeah, what that is is just the product. That's *RAT of the sum of x and y and the sum of s and t.</span><span s="831" t="So except for syntax, I get an expression that looks like the way I want to think about it mathematically. I want to say there are two numbers."><code onclick="Z(this)">0:13:51</code>So except for syntax, I get an expression that looks like the way I want to think about it mathematically. I want to say there are two numbers.</span><span s="842" t="There&apos;s a thing which is the sum of them, and there&apos;s a thing which is the sum of these two. That&apos;s this and this. And then I multiply them."><code onclick="Z(this)">0:14:02</code>There's a thing which is the sum of them, and there's a thing which is the sum of these two. That's this and this. And then I multiply them.</span><span s="852" t="So I get an expression that matches this expression. If I did the other thing, if I said, well, the way I want to think about this is I type into my machine four numbers, which are the numerators and the denominators of x and y,"><code onclick="Z(this)">0:14:12</code>So I get an expression that matches this expression. If I did the other thing, if I said, well, the way I want to think about this is I type into my machine four numbers, which are the numerators and the denominators of x and y,</span><span s="864" t="and then four more numbers, which are the numerators and denominators of s and t. And then what I&apos;d be sitting with is, well, what would I do? I&apos;d add these, and somehow I&apos;d have"><code onclick="Z(this)">0:14:24</code>and then four more numbers, which are the numerators and denominators of s and t. And then what I'd be sitting with is, well, what would I do? I'd add these, and somehow I'd have</span><span s="873" t="to have two temporary variables, which are the numerators and denominators of this sum, and I&apos;d go off and store them someplace."><code onclick="Z(this)">0:14:33</code>to have two temporary variables, which are the numerators and denominators of this sum, and I'd go off and store them someplace.</span><span s="882" t="And then I&apos;d go over here, I&apos;d type in four more numbers, I&apos;d get two more temporary variables, which are the numerators and denominators of s and t. And then finally, I put those together by multiplying them."><code onclick="Z(this)">0:14:42</code>And then I'd go over here, I'd type in four more numbers, I'd get two more temporary variables, which are the numerators and denominators of s and t. And then finally, I put those together by multiplying them.</span><span s="894" t="You see, what&apos;s starting to happen, there are all these temporary variables, which are sort of the guts of the internals of these rational numbers that start hanging"><code onclick="Z(this)">0:14:54</code>You see, what's starting to happen, there are all these temporary variables, which are sort of the guts of the internals of these rational numbers that start hanging</span><span s="904" t="out all over the system. And of course, if I had more and more complicated expressions, there&apos;d be more and more guts hanging out that confuse my programming."><code onclick="Z(this)">0:15:04</code>out all over the system. And of course, if I had more and more complicated expressions, there'd be more and more guts hanging out that confuse my programming.</span><span s="913" t="And those of you who sort of programmed things like that, where you&apos;re just adding numbers in assembly language, you sort of see you have to suddenly be concerned with these temporary variables."><code onclick="Z(this)">0:15:13</code>And those of you who sort of programmed things like that, where you're just adding numbers in assembly language, you sort of see you have to suddenly be concerned with these temporary variables.</span><span s="923" t="But more importantly than confusing my programming, they&apos;re going to confuse my mind. Because the whole name of this game"><code onclick="Z(this)">0:15:23</code>But more importantly than confusing my programming, they're going to confuse my mind. Because the whole name of this game</span><span s="933" t="is that we&apos;d like the programming language to express the concepts that we have in our heads, like rational numbers are things that you can add and then take"><code onclick="Z(this)">0:15:33</code>is that we'd like the programming language to express the concepts that we have in our heads, like rational numbers are things that you can add and then take</span><span s="943" t="that result and multiply them. Let&apos;s break for questions."><code onclick="Z(this)">0:15:43</code>that result and multiply them. Let's break for questions.</span><span s="959" t="Yeah? AUDIENCE: I don&apos;t quite see the need- when we had make-RAT with the numerator and denominator, we had to have the numerator and denominator to pass as parameters to create the cloud,"><code onclick="Z(this)">0:15:59</code>Yeah? AUDIENCE: I don't quite see the need- when we had make-RAT with the numerator and denominator, we had to have the numerator and denominator to pass as parameters to create the cloud,</span><span s="968" t="and then we extracted to get back what we had to have originally. PROFESSOR: That&apos;s right. So the question is, I sort of have the numerator and the denominator,"><code onclick="Z(this)">0:16:08</code>and then we extracted to get back what we had to have originally. PROFESSOR: That's right. So the question is, I sort of have the numerator and the denominator,</span><span s="977" t="why am I worrying about having the cloud given that I have to get the pieces out? That&apos;s sort of what I tried to say at the end, but let me try and say it again, because that&apos;s really"><code onclick="Z(this)">0:16:17</code>why am I worrying about having the cloud given that I have to get the pieces out? That's sort of what I tried to say at the end, but let me try and say it again, because that's really</span><span s="987" t="the crucial question. The point is, I want to carry this numerator and denominator around together all the time."><code onclick="Z(this)">0:16:27</code>the crucial question. The point is, I want to carry this numerator and denominator around together all the time.</span><span s="996" t="And it&apos;s almost as if I want to know, yeah, there&apos;s a numerator and denominator in there, but also, I would like to say, fine, but from another point"><code onclick="Z(this)">0:16:36</code>And it's almost as if I want to know, yeah, there's a numerator and denominator in there, but also, I would like to say, fine, but from another point</span><span s="1007" t="of view, that&apos;s x. And I carry x around, and I name it as x, and I hold it. And I can say things like, the sum of x and y, rather than just have-- see, it&apos;s not so bad when I only"><code onclick="Z(this)">0:16:47</code>of view, that's x. And I carry x around, and I name it as x, and I hold it. And I can say things like, the sum of x and y, rather than just have-- see, it's not so bad when I only</span><span s="1018" t="think about x, but if I have a system with 10 rational numbers, suddenly I have 20 numerators and denominators, which are not necessarily-- if I don&apos;t link them, then it&apos;s just 20 arbitrary numbers that are not"><code onclick="Z(this)">0:16:58</code>think about x, but if I have a system with 10 rational numbers, suddenly I have 20 numerators and denominators, which are not necessarily-- if I don't link them, then it's just 20 arbitrary numbers that are not</span><span s="1029" t="linked in any particular way. It&apos;s a lot like saying, well, I have these instructions that are the body of the procedures, why do I want to package them and say it&apos;s the procedure? It&apos;s exactly the same idea."><code onclick="Z(this)">0:17:09</code>linked in any particular way. It's a lot like saying, well, I have these instructions that are the body of the procedures, why do I want to package them and say it's the procedure? It's exactly the same idea.</span><span s="1051" t="No? OK. Let&apos;s break, let&apos;s just stretch and get somebody-- [INAUDIBLE] [MUSIC PLAYING]"><code onclick="Z(this)">0:17:31</code>No? OK. Let's break, let's just stretch and get somebody-- [INAUDIBLE] [MUSIC PLAYING]</span><span s="1107" t="OK, well, we&apos;ve been working on this rational number arithmetic system, and then what we did, the important thing about what we did, is we thought about the problem"><code onclick="Z(this)">0:18:27</code>OK, well, we've been working on this rational number arithmetic system, and then what we did, the important thing about what we did, is we thought about the problem</span><span s="1117" t="by breaking it into two pieces. We said, assume there is this contract with George, and George has figured out the way to how to construct these clouds,"><code onclick="Z(this)">0:18:37</code>by breaking it into two pieces. We said, assume there is this contract with George, and George has figured out the way to how to construct these clouds,</span><span s="1127" t="provided us procedures make-RAT, which was a constructor, and selectors, which are numerator and denominator. And then in terms of that, we went off"><code onclick="Z(this)">0:18:47</code>provided us procedures make-RAT, which was a constructor, and selectors, which are numerator and denominator. And then in terms of that, we went off</span><span s="1136" t="and implemented addition and multiplication of rational numbers. Well, now let&apos;s go look at George&apos;s problem. How can we go and package together"><code onclick="Z(this)">0:18:56</code>and implemented addition and multiplication of rational numbers. Well, now let's go look at George's problem. How can we go and package together</span><span s="1145" t="a numerator and a denominator and actually make one of these clouds? See, what we need is a kind of glue, a glue for data objects"><code onclick="Z(this)">0:19:05</code>a numerator and a denominator and actually make one of these clouds? See, what we need is a kind of glue, a glue for data objects</span><span s="1155" t="that allows us to put things together. And Lisp provides such a glue, and that glue is called list structure."><code onclick="Z(this)">0:19:15</code>that allows us to put things together. And Lisp provides such a glue, and that glue is called list structure.</span><span s="1170" t="List structure is a way of gluing things together, and more precisely, Lisp provides a way of constructing things called pairs."><code onclick="Z(this)">0:19:30</code>List structure is a way of gluing things together, and more precisely, Lisp provides a way of constructing things called pairs.</span><span s="1184" t="There&apos;s a primitive operator in Lisp called cons. We can take a look at it."><code onclick="Z(this)">0:19:44</code>There's a primitive operator in Lisp called cons. We can take a look at it.</span><span s="1194" t="There&apos;s a thing called cons. Cons is an operator which takes in two arguments called"><code onclick="Z(this)">0:19:54</code>There's a thing called cons. Cons is an operator which takes in two arguments called</span><span s="1203" t="x and y, and it returns for us a thing called a pair. All right, so a thing called a pair that has a first part"><code onclick="Z(this)">0:20:03</code>x and y, and it returns for us a thing called a pair. All right, so a thing called a pair that has a first part</span><span s="1217" t="a second part. So cons takes two objects. There&apos;s a thing called a pair."><code onclick="Z(this)">0:20:17</code>a second part. So cons takes two objects. There's a thing called a pair.</span><span s="1226" t="The first part of the cons is x, and the second part of the cons is y. And that&apos;s what it builds. And then we also assume we have ways of getting things out."><code onclick="Z(this)">0:20:26</code>The first part of the cons is x, and the second part of the cons is y. And that's what it builds. And then we also assume we have ways of getting things out.</span><span s="1236" t="If you&apos;re given a pair, there&apos;s a thing called car, and car of a pair, p, gives you out the first part of the pair, p."><code onclick="Z(this)">0:20:36</code>If you're given a pair, there's a thing called car, and car of a pair, p, gives you out the first part of the pair, p.</span><span s="1246" t="And there&apos;s a thing called cdr, and cdr of the pair, p, gives you the second part of the pair, p. OK, so that&apos;s how we construct things."><code onclick="Z(this)">0:20:46</code>And there's a thing called cdr, and cdr of the pair, p, gives you the second part of the pair, p. OK, so that's how we construct things.</span><span s="1256" t="There&apos;s also a conventional way of drawing pictures of these things. Just like we write down that as the conventional way of writing"><code onclick="Z(this)">0:20:56</code>There's also a conventional way of drawing pictures of these things. Just like we write down that as the conventional way of writing</span><span s="1270" t="Plato&apos;s idea of two, the way we could draw a diagram to represent cons of two and three is like this."><code onclick="Z(this)">0:21:10</code>Plato's idea of two, the way we could draw a diagram to represent cons of two and three is like this.</span><span s="1281" t="We draw a little box. And so here&apos;s the box we&apos;re talking about, and this box has two arrows coming out of it."><code onclick="Z(this)">0:21:21</code>We draw a little box. And so here's the box we're talking about, and this box has two arrows coming out of it.</span><span s="1290" t="And say the first part of this pair is 2, and the second part of this pair is 3. And this notation has a name, it&apos;s"><code onclick="Z(this)">0:21:30</code>And say the first part of this pair is 2, and the second part of this pair is 3. And this notation has a name, it's</span><span s="1300" t="called box and pointer notation."><code onclick="Z(this)">0:21:40</code>called box and pointer notation.</span><span s="1315" t="By the way, let me say right now that a lot of people get confused that there&apos;s some significance to the geometric way I drew these pointers, the directions. Like some people think it&apos;d be different"><code onclick="Z(this)">0:21:55</code>By the way, let me say right now that a lot of people get confused that there's some significance to the geometric way I drew these pointers, the directions. Like some people think it'd be different</span><span s="1325" t="if I took this pointer and turned it up here, and put the 3 out here. That has no significance. All right? It&apos;s merely you have a bunch of arrows, these pointers, and the boxes."><code onclick="Z(this)">0:22:05</code>if I took this pointer and turned it up here, and put the 3 out here. That has no significance. All right? It's merely you have a bunch of arrows, these pointers, and the boxes.</span><span s="1335" t="The only issue is how they&apos;re connected, not the geometric arrangement of whether I write the pointer across, or up, or down. Now it&apos;s completely un-obvious, probably,"><code onclick="Z(this)">0:22:15</code>The only issue is how they're connected, not the geometric arrangement of whether I write the pointer across, or up, or down. Now it's completely un-obvious, probably,</span><span s="1346" t="why that&apos;s called list structure. We&apos;re not actually going to talk about that today. We&apos;ll see that next time."><code onclick="Z(this)">0:22:26</code>why that's called list structure. We're not actually going to talk about that today. We'll see that next time.</span><span s="1357" t="So those are pairs, there&apos;s cons that constructs them. And what I&apos;m going to know about cons, and car, and cdr, is precisely that if I have any x and y, all right,"><code onclick="Z(this)">0:22:37</code>So those are pairs, there's cons that constructs them. And what I'm going to know about cons, and car, and cdr, is precisely that if I have any x and y, all right,</span><span s="1371" t="if I have any things x and y, and I use cons to construct a pair, then the car of that pair"><code onclick="Z(this)">0:22:51</code>if I have any things x and y, and I use cons to construct a pair, then the car of that pair</span><span s="1381" t="is going to be x, the thing I put in, and the cdr of that pair is going to be y. That&apos;s the behavior of these operators, cons, car, and cdr."><code onclick="Z(this)">0:23:01</code>is going to be x, the thing I put in, and the cdr of that pair is going to be y. That's the behavior of these operators, cons, car, and cdr.</span><span s="1392" t="Given them, it&apos;s pretty clear how George can go off and construct his rational numbers. After all, all he has to do-- remember George&apos;s problem was to implement make-RAT, numerator,"><code onclick="Z(this)">0:23:12</code>Given them, it's pretty clear how George can go off and construct his rational numbers. After all, all he has to do-- remember George's problem was to implement make-RAT, numerator,</span><span s="1402" t="and denom. So all George has to do is say define make-RAT of some n and a d-- so all I have to do is cons them."><code onclick="Z(this)">0:23:22</code>and denom. So all George has to do is say define make-RAT of some n and a d-- so all I have to do is cons them.</span><span s="1420" t="That&apos;s cons of n and d. And then if I want to get the numerator out, I would say define the numerator, numer,"><code onclick="Z(this)">0:23:40</code>That's cons of n and d. And then if I want to get the numerator out, I would say define the numerator, numer,</span><span s="1437" t="of some rational number, x. If the rational number&apos;s implemented as a pair, then all I have to do is get out the car of x."><code onclick="Z(this)">0:23:57</code>of some rational number, x. If the rational number's implemented as a pair, then all I have to do is get out the car of x.</span><span s="1446" t="And then similarly, define the denom is going to be the cdr,"><code onclick="Z(this)">0:24:06</code>And then similarly, define the denom is going to be the cdr,</span><span s="1459" t="the other thing I put into the pair. Well, now we&apos;re in business."><code onclick="Z(this)">0:24:19</code>the other thing I put into the pair. Well, now we're in business.</span><span s="1468" t="That&apos;s a complete implementation of rational numbers. Let&apos;s use it. Suppose I want to say, so I want to think about how to add 1/2 plus 1/4 and watch the system work."><code onclick="Z(this)">0:24:28</code>That's a complete implementation of rational numbers. Let's use it. Suppose I want to say, so I want to think about how to add 1/2 plus 1/4 and watch the system work.</span><span s="1483" t="Well, the way I&apos;d use that is I&apos;d say, well, maybe define a. I have to make a 1/2."><code onclick="Z(this)">0:24:43</code>Well, the way I'd use that is I'd say, well, maybe define a. I have to make a 1/2.</span><span s="1493" t="Well, that&apos;s a rational number with numerator 1 and denominator 2, so a will be make-RAT of 1 and 2."><code onclick="Z(this)">0:24:53</code>Well, that's a rational number with numerator 1 and denominator 2, so a will be make-RAT of 1 and 2.</span><span s="1505" t="And then I&apos;ll construct the 1/4. I&apos;ll say define d to be make-RAT of 1 and 4."><code onclick="Z(this)">0:25:05</code>And then I'll construct the 1/4. I'll say define d to be make-RAT of 1 and 4.</span><span s="1523" t="And if I&apos;d like to look at the answer-- well, assuming I don&apos;t have a special thing that prints rational numbers, or I could make one-- I could say, for instance, define the answer to be +RAT of a and b, and now I can say,"><code onclick="Z(this)">0:25:23</code>And if I'd like to look at the answer-- well, assuming I don't have a special thing that prints rational numbers, or I could make one-- I could say, for instance, define the answer to be +RAT of a and b, and now I can say,</span><span s="1546" t="what&apos;s the answer? What are the numerators and denominators of the answer? So if I&apos;m adding 1/2 and 1/4, I&apos;ll say, what is the numerator of the answer?"><code onclick="Z(this)">0:25:46</code>what's the answer? What are the numerators and denominators of the answer? So if I'm adding 1/2 and 1/4, I'll say, what is the numerator of the answer?</span><span s="1564" t="And the system is going to type out, well, 6. Bad news."><code onclick="Z(this)">0:26:04</code>And the system is going to type out, well, 6. Bad news.</span><span s="1573" t="And if I say what&apos;s the denominator of the answer,"><code onclick="Z(this)">0:26:13</code>And if I say what's the denominator of the answer,</span><span s="1582" t="the system&apos;s going to type out 8. So instead of what I would really like, which is for it to say that 1/2 and 1/4 is 3/4,"><code onclick="Z(this)">0:26:22</code>the system's going to type out 8. So instead of what I would really like, which is for it to say that 1/2 and 1/4 is 3/4,</span><span s="1595" t="this foolish machine is going to say, no, it&apos;s 6/8. Well, that&apos;s sort of bad news. Where&apos;s the bug?"><code onclick="Z(this)">0:26:35</code>this foolish machine is going to say, no, it's 6/8. Well, that's sort of bad news. Where's the bug?</span><span s="1607" t="Why does it do that, after all? Well, it&apos;s the way that we just had +RAT. +RAT just took the-- it said you add the numerator times"><code onclick="Z(this)">0:26:47</code>Why does it do that, after all? Well, it's the way that we just had +RAT. +RAT just took the-- it said you add the numerator times</span><span s="1616" t="the denominator, you add that to the numerator times the denominator, and put that over the product of the two denominators, and that&apos;s why you get 6/8."><code onclick="Z(this)">0:26:56</code>the denominator, you add that to the numerator times the denominator, and put that over the product of the two denominators, and that's why you get 6/8.</span><span s="1625" t="So what was wrong with our implementation of +RAT? What&apos;s wrong with that rational number arithmetic stuff that we did before the break?"><code onclick="Z(this)">0:27:05</code>So what was wrong with our implementation of +RAT? What's wrong with that rational number arithmetic stuff that we did before the break?</span><span s="1635" t="Well, the answer is one way to look at it is absolutely nothing&apos;s wrong. That&apos;s perfectly good implementation. It follows the sixth grade, fifth grade mathematic"><code onclick="Z(this)">0:27:15</code>Well, the answer is one way to look at it is absolutely nothing's wrong. That's perfectly good implementation. It follows the sixth grade, fifth grade mathematic</span><span s="1645" t="for adding fractions. One thing we can say is, well, that&apos;s George&apos;s problem. Like, boy, wasn&apos;t George dumb to say"><code onclick="Z(this)">0:27:25</code>for adding fractions. One thing we can say is, well, that's George's problem. Like, boy, wasn't George dumb to say</span><span s="1656" t="that he can make a rational number simply by sticking together the numerator and the denominator? Wouldn&apos;t it be better for George,"><code onclick="Z(this)">0:27:36</code>that he can make a rational number simply by sticking together the numerator and the denominator? Wouldn't it be better for George,</span><span s="1665" t="when he made a rational number, to reduce the stuff to lowest terms? And what I mean is, wouldn&apos;t it be better for George,"><code onclick="Z(this)">0:27:45</code>when he made a rational number, to reduce the stuff to lowest terms? And what I mean is, wouldn't it be better for George,</span><span s="1675" t="instead of using this version of make-RAT, to use this one on the slide? Or instead of just saying cons together n and d, what you do"><code onclick="Z(this)">0:27:55</code>instead of using this version of make-RAT, to use this one on the slide? Or instead of just saying cons together n and d, what you do</span><span s="1689" t="is compute the greatest common divisor of n and d, and gcd is the procedure which, well, for all we care is a primitive, which computes the greatest common divisor of two numbers."><code onclick="Z(this)">0:28:09</code>is compute the greatest common divisor of n and d, and gcd is the procedure which, well, for all we care is a primitive, which computes the greatest common divisor of two numbers.</span><span s="1700" t="So the way I can construct a rational number is get the greatest common divisor of the two numbers, and I&apos;m going to call that g, and then"><code onclick="Z(this)">0:28:20</code>So the way I can construct a rational number is get the greatest common divisor of the two numbers, and I'm going to call that g, and then</span><span s="1710" t="instead of consing together n and d, I&apos;ll divide them through. I&apos;ll cons together the quotient of n by the the gcd and the quotient of d by the gcd."><code onclick="Z(this)">0:28:30</code>instead of consing together n and d, I'll divide them through. I'll cons together the quotient of n by the the gcd and the quotient of d by the gcd.</span><span s="1720" t="And that will reduce the rational number to lowest terms. So when I do this addition, when +RAT calls make-RAT--"><code onclick="Z(this)">0:28:40</code>And that will reduce the rational number to lowest terms. So when I do this addition, when +RAT calls make-RAT--</span><span s="1734" t="and for the definition of +RAT it had a make-RAT in there-- just by the fact that it&apos;s constructing that, the thing will get reduced to lowest terms automatically."><code onclick="Z(this)">0:28:54</code>and for the definition of +RAT it had a make-RAT in there-- just by the fact that it's constructing that, the thing will get reduced to lowest terms automatically.</span><span s="1749" t="OK, that is a complete system. For rational number arithmetic, let&apos;s look at what we&apos;ve done."><code onclick="Z(this)">0:29:09</code>OK, that is a complete system. For rational number arithmetic, let's look at what we've done.</span><span s="1759" t="All right, we said we want to build rational number arithmetic, and we had a thing called +RAT. We implemented that."><code onclick="Z(this)">0:29:19</code>All right, we said we want to build rational number arithmetic, and we had a thing called +RAT. We implemented that.</span><span s="1769" t="And I showed you multiplying rational numbers, and although I didn&apos;t put them up there, presumably we&apos;d like to have something that subtracts rational numbers, and I don&apos;t know,"><code onclick="Z(this)">0:29:29</code>And I showed you multiplying rational numbers, and although I didn't put them up there, presumably we'd like to have something that subtracts rational numbers, and I don't know,</span><span s="1779" t="all sorts of things. Things that test equality in division, and maybe things that print rational numbers in some particular way. And we implemented those in terms of pairs."><code onclick="Z(this)">0:29:39</code>all sorts of things. Things that test equality in division, and maybe things that print rational numbers in some particular way. And we implemented those in terms of pairs.</span><span s="1792" t="These pairs, cons, car, and cdr that are built into Lisp. But the important thing is that between these and these,"><code onclick="Z(this)">0:29:52</code>These pairs, cons, car, and cdr that are built into Lisp. But the important thing is that between these and these,</span><span s="1805" t="we set up an abstraction barrier. We set up a layer of abstraction."><code onclick="Z(this)">0:30:05</code>we set up an abstraction barrier. We set up a layer of abstraction.</span><span s="1817" t="And what was that layer of abstraction? That layer of abstraction was precisely the constructor and the selectors. This layer was make-RAT, and numer, and denom."><code onclick="Z(this)">0:30:17</code>And what was that layer of abstraction? That layer of abstraction was precisely the constructor and the selectors. This layer was make-RAT, and numer, and denom.</span><span s="1838" t="This methodology, another way to say what it&apos;s doing, is that we are separating the way something is used,"><code onclick="Z(this)">0:30:38</code>This methodology, another way to say what it's doing, is that we are separating the way something is used,</span><span s="1853" t="separating the use of data objects, from the representation of data objects."><code onclick="Z(this)">0:30:53</code>separating the use of data objects, from the representation of data objects.</span><span s="1867" t="So up here, we have the way that rational numbers are used, do arithmetic on them. Down here, we have the way that they&apos;re represented, and they&apos;re separated by this boundary."><code onclick="Z(this)">0:31:07</code>So up here, we have the way that rational numbers are used, do arithmetic on them. Down here, we have the way that they're represented, and they're separated by this boundary.</span><span s="1877" t="The boundary is the constructors and selectors. And this methodology has a name. This is called data abstraction."><code onclick="Z(this)">0:31:17</code>The boundary is the constructors and selectors. And this methodology has a name. This is called data abstraction.</span><span s="1895" t="Data abstraction is sort of the programming methodology of setting up data objects by postulating constructors and selectors to isolate use from representation."><code onclick="Z(this)">0:31:35</code>Data abstraction is sort of the programming methodology of setting up data objects by postulating constructors and selectors to isolate use from representation.</span><span s="1907" t="Well, so why? I mean, after all, we didn&apos;t have to do it this way. It&apos;s perfectly possible to do rational number addition without having any compound data objects, and here on the slide"><code onclick="Z(this)">0:31:47</code>Well, so why? I mean, after all, we didn't have to do it this way. It's perfectly possible to do rational number addition without having any compound data objects, and here on the slide</span><span s="1918" t="is one example. We certainly could have defined +RAT, which takes in things x and y, and we&apos;ll say, well what are these rational numbers really?"><code onclick="Z(this)">0:31:58</code>is one example. We certainly could have defined +RAT, which takes in things x and y, and we'll say, well what are these rational numbers really?</span><span s="1930" t="So really, they&apos;re just pairs, and the numerator&apos;s the car and the denominator&apos;s the cdr. So what we&apos;ll do is we&apos;ll take the car of x times the cdr of y, multiply them."><code onclick="Z(this)">0:32:10</code>So really, they're just pairs, and the numerator's the car and the denominator's the cdr. So what we'll do is we'll take the car of x times the cdr of y, multiply them.</span><span s="1943" t="Take the car of y times the cdr of x, multiply them. Add them. Take the cdr of x and the cdr of y, multiply them, and then constitute together."><code onclick="Z(this)">0:32:23</code>Take the car of y times the cdr of x, multiply them. Add them. Take the cdr of x and the cdr of y, multiply them, and then constitute together.</span><span s="1955" t="Well, that sort of does the same thing. But this ignores the problem of reducing things to lowest terms, but let&apos;s not worry about that for a minute."><code onclick="Z(this)">0:32:35</code>Well, that sort of does the same thing. But this ignores the problem of reducing things to lowest terms, but let's not worry about that for a minute.</span><span s="1967" t="But so what? Why don&apos;t we do it that way? Right? After all, there are sort of fewer procedures to define, and it&apos;s a lot more straightforward."><code onclick="Z(this)">0:32:47</code>But so what? Why don't we do it that way? Right? After all, there are sort of fewer procedures to define, and it's a lot more straightforward.</span><span s="1977" t="It saves all this self-righteous BS about talking about data abstraction. We just sort of do it. I mean, who knows, maybe it&apos;s even marginally more efficient depending on whatever compiler were using for this."><code onclick="Z(this)">0:32:57</code>It saves all this self-righteous BS about talking about data abstraction. We just sort of do it. I mean, who knows, maybe it's even marginally more efficient depending on whatever compiler were using for this.</span><span s="1987" t="What&apos;s the point of isolating the use from the representation? Well, it goes back to this notion of naming."><code onclick="Z(this)">0:33:07</code>What's the point of isolating the use from the representation? Well, it goes back to this notion of naming.</span><span s="1997" t="Remember, one of the most important principles in programming is the same as one of the most important principles in sorcery, all right? That&apos;s if you have the name of the spirit,"><code onclick="Z(this)">0:33:17</code>Remember, one of the most important principles in programming is the same as one of the most important principles in sorcery, all right? That's if you have the name of the spirit,</span><span s="2007" t="you get control over it. And if you go back and look at the slide, you see what&apos;s in there is we have this thing +RAT,"><code onclick="Z(this)">0:33:27</code>you get control over it. And if you go back and look at the slide, you see what's in there is we have this thing +RAT,</span><span s="2016" t="but nowhere in the system, if I have a +RAT and a -RAT and a *RAT, and things that look like that, nowhere in the system do I have a thing that I can point"><code onclick="Z(this)">0:33:36</code>but nowhere in the system, if I have a +RAT and a -RAT and a *RAT, and things that look like that, nowhere in the system do I have a thing that I can point</span><span s="2026" t="at which is a rational number. I don&apos;t have, in a system like that,"><code onclick="Z(this)">0:33:46</code>at which is a rational number. I don't have, in a system like that,</span><span s="2037" t="the idea of rational number as a conceptual entity. Well, what&apos;s the advantage of that? What&apos;s the advantage of isolating the idea of rational numbers as a conceptual entity,"><code onclick="Z(this)">0:33:57</code>the idea of rational number as a conceptual entity. Well, what's the advantage of that? What's the advantage of isolating the idea of rational numbers as a conceptual entity,</span><span s="2048" t="and really naming it with make-RAT, numerator, and denominator. Well, one advantage is you might want to have"><code onclick="Z(this)">0:34:08</code>and really naming it with make-RAT, numerator, and denominator. Well, one advantage is you might want to have</span><span s="2058" t="alternative representations. See, before I showed you that one way George can solve this things not reduced to lowest terms problem, is when you build a rational number,"><code onclick="Z(this)">0:34:18</code>alternative representations. See, before I showed you that one way George can solve this things not reduced to lowest terms problem, is when you build a rational number,</span><span s="2069" t="you divide up by the greatest common denominator. Another way to do that is shown over here. I can have an alternative representation"><code onclick="Z(this)">0:34:29</code>you divide up by the greatest common denominator. Another way to do that is shown over here. I can have an alternative representation</span><span s="2078" t="for rational numbers where when you make a rational number, you just cons them. However, when you go to select out the numerator, at that point you compute the gcd of the stuff"><code onclick="Z(this)">0:34:38</code>for rational numbers where when you make a rational number, you just cons them. However, when you go to select out the numerator, at that point you compute the gcd of the stuff</span><span s="2090" t="that&apos;s sitting in that pair, and divide out by the gcd. And similarly, when I get the denominator,"><code onclick="Z(this)">0:34:50</code>that's sitting in that pair, and divide out by the gcd. And similarly, when I get the denominator,</span><span s="2101" t="at that point when I go to get the denominator, I&apos;ll divide out by the gcd. So the difference would be in the old representation, when ans was constructed here, say what&apos;s 6 and 8,"><code onclick="Z(this)">0:35:01</code>at that point when I go to get the denominator, I'll divide out by the gcd. So the difference would be in the old representation, when ans was constructed here, say what's 6 and 8,</span><span s="2113" t="in the first way, the 6 and 8 would have got reduced when they got stuck into that pair, numerator would select out 3. And in the way I just showed you, well, ans would get 6 and 8 put in,"><code onclick="Z(this)">0:35:13</code>in the first way, the 6 and 8 would have got reduced when they got stuck into that pair, numerator would select out 3. And in the way I just showed you, well, ans would get 6 and 8 put in,</span><span s="2125" t="and then at the point where I said numerator, some computation would get done to put out 3 instead of 6. So those are two different ways I might do it."><code onclick="Z(this)">0:35:25</code>and then at the point where I said numerator, some computation would get done to put out 3 instead of 6. So those are two different ways I might do it.</span><span s="2134" t="Which one&apos;s better? Well, it depends, right? If I&apos;m making a system where I am mostly constructing rational numbers and hardly ever looking at them, then it&apos;s probably better"><code onclick="Z(this)">0:35:34</code>Which one's better? Well, it depends, right? If I'm making a system where I am mostly constructing rational numbers and hardly ever looking at them, then it's probably better</span><span s="2144" t="not to do that gcd computation when I construct them. If I&apos;m doing a system where I look at things a lot more than I construct them, then it&apos;s probably better"><code onclick="Z(this)">0:35:44</code>not to do that gcd computation when I construct them. If I'm doing a system where I look at things a lot more than I construct them, then it's probably better</span><span s="2153" t="to do the work when I construct them. So there&apos;s a choice there. But the real issue is that you might not be able to decide at the moment you&apos;re worrying"><code onclick="Z(this)">0:35:53</code>to do the work when I construct them. So there's a choice there. But the real issue is that you might not be able to decide at the moment you're worrying</span><span s="2165" t="about these rational numbers. See, in general, as systems designers, you&apos;re forced with the necessity to make decisions"><code onclick="Z(this)">0:36:05</code>about these rational numbers. See, in general, as systems designers, you're forced with the necessity to make decisions</span><span s="2175" t="about how you&apos;re going to do things, and in general, the way you&apos;d like to retain flexibility is to never make up your mind about anything until you&apos;re forced to do it."><code onclick="Z(this)">0:36:15</code>about how you're going to do things, and in general, the way you'd like to retain flexibility is to never make up your mind about anything until you're forced to do it.</span><span s="2186" t="The problem is, there&apos;s a very, very narrow line between deferring decisions and outright procrastination."><code onclick="Z(this)">0:36:26</code>The problem is, there's a very, very narrow line between deferring decisions and outright procrastination.</span><span s="2198" t="So you&apos;d like to make progress, but also at the same time, never be bound by the consequences of your decisions."><code onclick="Z(this)">0:36:38</code>So you'd like to make progress, but also at the same time, never be bound by the consequences of your decisions.</span><span s="2208" t="Data abstraction&apos;s one way of doing this. What we did is we used wishful thinking. See, we gave a name to the decision."><code onclick="Z(this)">0:36:48</code>Data abstraction's one way of doing this. What we did is we used wishful thinking. See, we gave a name to the decision.</span><span s="2217" t="We said, make-RAT, numerator, and denominator will stand for however it&apos;s going to be done, and however it&apos;s going to be done is George&apos;s problem. But really, what that was doing is giving a name"><code onclick="Z(this)">0:36:57</code>We said, make-RAT, numerator, and denominator will stand for however it's going to be done, and however it's going to be done is George's problem. But really, what that was doing is giving a name</span><span s="2226" t="to the decision of how we&apos;re going to do it, and then continuing as if we made the decision. And then eventually, when we really wanted it to work,"><code onclick="Z(this)">0:37:06</code>to the decision of how we're going to do it, and then continuing as if we made the decision. And then eventually, when we really wanted it to work,</span><span s="2237" t="coming back and facing what we really had to do. And in fact, we&apos;ll see a couple times from now that you may never have to choose any particular representation, ever, ever."><code onclick="Z(this)">0:37:17</code>coming back and facing what we really had to do. And in fact, we'll see a couple times from now that you may never have to choose any particular representation, ever, ever.</span><span s="2247" t="Anyway, that&apos;s a very powerful design technique. It&apos;s the key to the reason people use data abstraction. And we&apos;re going to see that idea again and again."><code onclick="Z(this)">0:37:27</code>Anyway, that's a very powerful design technique. It's the key to the reason people use data abstraction. And we're going to see that idea again and again.</span><span s="2257" t="Let&apos;s stop for questions. AUDIENCE: What does this decision making through abstraction layers do to the axiom of do all your design"><code onclick="Z(this)">0:37:37</code>Let's stop for questions. AUDIENCE: What does this decision making through abstraction layers do to the axiom of do all your design</span><span s="2267" t="before any of your code? PROFESSOR: Well, that&apos;s someone&apos;s axiom, and I bet that&apos;s the axiom of someone who hasn&apos;t implemented very large computer systems very much."><code onclick="Z(this)">0:37:47</code>before any of your code? PROFESSOR: Well, that's someone's axiom, and I bet that's the axiom of someone who hasn't implemented very large computer systems very much.</span><span s="2281" t="I said that computer science is a lot like magic, and it&apos;s sort of good that it&apos;s like magic. There&apos;s a bad part of computer science that&apos;s a lot like religion. And in general, I think people who"><code onclick="Z(this)">0:38:01</code>I said that computer science is a lot like magic, and it's sort of good that it's like magic. There's a bad part of computer science that's a lot like religion. And in general, I think people who</span><span s="2292" t="really believe that you design everything before you implement it basically are people who haven&apos;t designed very many things."><code onclick="Z(this)">0:38:12</code>really believe that you design everything before you implement it basically are people who haven't designed very many things.</span><span s="2301" t="The real power is that you can pretend that you&apos;ve made the decision and then later on figure out which one is right, which decision you ought to have made."><code onclick="Z(this)">0:38:21</code>The real power is that you can pretend that you've made the decision and then later on figure out which one is right, which decision you ought to have made.</span><span s="2310" t="And when you can do that, you have the best of both worlds. AUDIENCE: Can you explain the difference between let and define?"><code onclick="Z(this)">0:38:30</code>And when you can do that, you have the best of both worlds. AUDIENCE: Can you explain the difference between let and define?</span><span s="2320" t="PROFESSOR: Oh, OK. Let is a way to establish local names."><code onclick="Z(this)">0:38:40</code>PROFESSOR: Oh, OK. Let is a way to establish local names.</span><span s="2335" t="Let me give you sort of the half answer. And I&apos;ll say, later on we can talk about the whole very complicated thing. But the big difference for now is that, see,"><code onclick="Z(this)">0:38:55</code>Let me give you sort of the half answer. And I'll say, later on we can talk about the whole very complicated thing. But the big difference for now is that, see,</span><span s="2345" t="when you&apos;re typing at Lisp, you&apos;re typing in this environment where you&apos;re making definitions. And when you say define a to be 5, if I say define a to be 5,"><code onclick="Z(this)">0:39:05</code>when you're typing at Lisp, you're typing in this environment where you're making definitions. And when you say define a to be 5, if I say define a to be 5,</span><span s="2360" t="then from then on the thing will remember that a is 5. Let is a way to set up a local context where"><code onclick="Z(this)">0:39:20</code>then from then on the thing will remember that a is 5. Let is a way to set up a local context where</span><span s="2369" t="there&apos;s a definition. So if I type something like, saying let a-- no, I shouldn&apos;t say a-- if I said let z"><code onclick="Z(this)">0:39:29</code>there's a definition. So if I type something like, saying let a-- no, I shouldn't say a-- if I said let z</span><span s="2383" t="be 10, and within that context, tell me what the sum of z and z"><code onclick="Z(this)">0:39:43</code>be 10, and within that context, tell me what the sum of z and z</span><span s="2393" t="is. So if I typed in this expression to Lisp, and then this would put out 20."><code onclick="Z(this)">0:39:53</code>is. So if I typed in this expression to Lisp, and then this would put out 20.</span><span s="2402" t="However, then if I said what&apos;s z, the computer would say that&apos;s an unbound variable. So let is a way of setting up a context where"><code onclick="Z(this)">0:40:02</code>However, then if I said what's z, the computer would say that's an unbound variable. So let is a way of setting up a context where</span><span s="2413" t="you can make definitions. But those definitions are local to this context. And of course, if I&apos;d said a in here, I&apos;d still get 20."><code onclick="Z(this)">0:40:13</code>you can make definitions. But those definitions are local to this context. And of course, if I'd said a in here, I'd still get 20.</span><span s="2427" t="But this a would not interfere at all with this one. So if I type this, and then type this, and then say what&apos;s a?"><code onclick="Z(this)">0:40:27</code>But this a would not interfere at all with this one. So if I type this, and then type this, and then say what's a?</span><span s="2436" t="a will still be 5. So there&apos;s some other subtle differences between let and define, but that&apos;s the most important one."><code onclick="Z(this)">0:40:36</code>a will still be 5. So there's some other subtle differences between let and define, but that's the most important one.</span><span s="2480" t="All right, well, we&apos;ve looked at implementing this little system for doing arithmetic on rational numbers as an example of this methodology of data abstraction."><code onclick="Z(this)">0:41:20</code>All right, well, we've looked at implementing this little system for doing arithmetic on rational numbers as an example of this methodology of data abstraction.</span><span s="2491" t="And that&apos;s a way of controlling complexity in large systems. But, see, like procedure definition, and like all the ways we&apos;re going"><code onclick="Z(this)">0:41:31</code>And that's a way of controlling complexity in large systems. But, see, like procedure definition, and like all the ways we're going</span><span s="2500" t="to talk about for controlling complexity, the real power of these things show up not when you sort of do these things in themselves, like it&apos;s not such a great thing"><code onclick="Z(this)">0:41:40</code>to talk about for controlling complexity, the real power of these things show up not when you sort of do these things in themselves, like it's not such a great thing</span><span s="2509" t="that we&apos;ve done rational number arithmetic, it&apos;s that you can use these as building blocks for making more complicated things."><code onclick="Z(this)">0:41:49</code>that we've done rational number arithmetic, it's that you can use these as building blocks for making more complicated things.</span><span s="2520" t="So it&apos;s no wonderful idea that you can just put two numbers together to form a pair. If that&apos;s all you ever wanted to do, there are tons of ways that you can do that. The real issue is can you do that in such a way"><code onclick="Z(this)">0:42:00</code>So it's no wonderful idea that you can just put two numbers together to form a pair. If that's all you ever wanted to do, there are tons of ways that you can do that. The real issue is can you do that in such a way</span><span s="2531" t="so that the things that you build become building blocks for doing something even more complex? So whenever someone shows you a method for controlling complexity, you should say, yeah, that&apos;s great,"><code onclick="Z(this)">0:42:11</code>so that the things that you build become building blocks for doing something even more complex? So whenever someone shows you a method for controlling complexity, you should say, yeah, that's great,</span><span s="2540" t="but what can I build with it? So for example, let me just run through another thing that&apos;s"><code onclick="Z(this)">0:42:20</code>but what can I build with it? So for example, let me just run through another thing that's</span><span s="2550" t="a lot like the rational number one. Suppose we would like to represent points in the plane. You sort of say, well, there&apos;s a point, and we&apos;re going to call that point p."><code onclick="Z(this)">0:42:30</code>a lot like the rational number one. Suppose we would like to represent points in the plane. You sort of say, well, there's a point, and we're going to call that point p.</span><span s="2560" t="And that point might have coordinates, like this might be the point 1 comma 2."><code onclick="Z(this)">0:42:40</code>And that point might have coordinates, like this might be the point 1 comma 2.</span><span s="2570" t="The x-coordinate might be 1, and it&apos;s y-coordinate might be 2. And we&apos;ll make a little system for manipulating points in the plane."><code onclick="Z(this)">0:42:50</code>The x-coordinate might be 1, and it's y-coordinate might be 2. And we'll make a little system for manipulating points in the plane.</span><span s="2580" t="And again, we can do that-- here&apos;s a little example of that. It can represent vectors, the same as points in the plane,"><code onclick="Z(this)">0:43:00</code>And again, we can do that-- here's a little example of that. It can represent vectors, the same as points in the plane,</span><span s="2590" t="and we&apos;ll say, yep, there&apos;s a constructor called make-vector, make-vector&apos;s going to take two coordinates,"><code onclick="Z(this)">0:43:10</code>and we'll say, yep, there's a constructor called make-vector, make-vector's going to take two coordinates,</span><span s="2601" t="and here we can implement them if we like as pairs, but the important thing is that there&apos;s a constructor. And then given some vector, p, we can find its x-coordinate,"><code onclick="Z(this)">0:43:21</code>and here we can implement them if we like as pairs, but the important thing is that there's a constructor. And then given some vector, p, we can find its x-coordinate,</span><span s="2611" t="or we can get its y-coordinate. So there&apos;s a constructor and selectors for points in the plane. Well, given points in the plane, we"><code onclick="Z(this)">0:43:31</code>or we can get its y-coordinate. So there's a constructor and selectors for points in the plane. Well, given points in the plane, we</span><span s="2620" t="might want to use them to build something. So for instance, we might want to talk about, we might have a point, p, and a point, q, and p might be the point 1, 2, and q might be the point 2, 3."><code onclick="Z(this)">0:43:40</code>might want to use them to build something. So for instance, we might want to talk about, we might have a point, p, and a point, q, and p might be the point 1, 2, and q might be the point 2, 3.</span><span s="2634" t="And we might want to talk about the line segment that starts at p and ends at q. And that might be the segment s."><code onclick="Z(this)">0:43:54</code>And we might want to talk about the line segment that starts at p and ends at q. And that might be the segment s.</span><span s="2645" t="So we might want to build points for vectors in terms of numbers, and segments in terms of vectors."><code onclick="Z(this)">0:44:05</code>So we might want to build points for vectors in terms of numbers, and segments in terms of vectors.</span><span s="2656" t="So we can represent line segments in exactly the same way. All right, so the line segment from p to q, we&apos;ll say there&apos;s a constructor, make-segment."><code onclick="Z(this)">0:44:16</code>So we can represent line segments in exactly the same way. All right, so the line segment from p to q, we'll say there's a constructor, make-segment.</span><span s="2667" t="And make up names for the selectors, the starting point of the segment and the ending point of the segment. And again, we can implement a segment using cons as a pair of points, and car and cdr get out the two points"><code onclick="Z(this)">0:44:27</code>And make up names for the selectors, the starting point of the segment and the ending point of the segment. And again, we can implement a segment using cons as a pair of points, and car and cdr get out the two points</span><span s="2678" t="that we put together to get the segment. Well, now having done that, we can"><code onclick="Z(this)">0:44:38</code>that we put together to get the segment. Well, now having done that, we can</span><span s="2688" t="have some operations on them. Like we could say, what&apos;s the midpoint of a line segment?"><code onclick="Z(this)">0:44:48</code>have some operations on them. Like we could say, what's the midpoint of a line segment?</span><span s="2697" t="So here&apos;s the midpoint of a line segment, that&apos;s going to be the points whose coordinates are the averages of the coordinates of the endpoints."><code onclick="Z(this)">0:44:57</code>So here's the midpoint of a line segment, that's going to be the points whose coordinates are the averages of the coordinates of the endpoints.</span><span s="2707" t="OK, there&apos;s the midpoint. So to get the midpoint of a line segment, s, we&apos;ll just say grab the starting point to the segment,"><code onclick="Z(this)">0:45:07</code>OK, there's the midpoint. So to get the midpoint of a line segment, s, we'll just say grab the starting point to the segment,</span><span s="2717" t="grab the ending point of the segment, and now make a vector-- make a point whose coordinates are the average of the x-coordinate of the first point"><code onclick="Z(this)">0:45:17</code>grab the ending point of the segment, and now make a vector-- make a point whose coordinates are the average of the x-coordinate of the first point</span><span s="2727" t="and the x-coordinate of the second point, and whose y-coordinate is the average of the y-coordinates. So there&apos;s an implementation of midpoint."><code onclick="Z(this)">0:45:27</code>and the x-coordinate of the second point, and whose y-coordinate is the average of the y-coordinates. So there's an implementation of midpoint.</span><span s="2737" t="And then similarly, we can build something like the length of the segment. The length of the segment is a thing"><code onclick="Z(this)">0:45:37</code>And then similarly, we can build something like the length of the segment. The length of the segment is a thing</span><span s="2746" t="whose-- use Pythagoras&apos;s rule, the length of the segment is the square root of the d x squared plus d y squared."><code onclick="Z(this)">0:45:46</code>whose-- use Pythagoras's rule, the length of the segment is the square root of the d x squared plus d y squared.</span><span s="2757" t="We&apos;ll say to get the length of a line segment, we&apos;ll let dx be the difference of the x-coordinate of one"><code onclick="Z(this)">0:45:57</code>We'll say to get the length of a line segment, we'll let dx be the difference of the x-coordinate of one</span><span s="2766" t="endpoint and the x-coordinate of the other endpoint, and we&apos;ll let dy be the difference of the y-coordinates."><code onclick="Z(this)">0:46:06</code>endpoint and the x-coordinate of the other endpoint, and we'll let dy be the difference of the y-coordinates.</span><span s="2776" t="And then we&apos;ll take the square root of the sum of the squares of dx and dy, that&apos;s what this says. All right, so there&apos;s an implementation of length."><code onclick="Z(this)">0:46:16</code>And then we'll take the square root of the sum of the squares of dx and dy, that's what this says. All right, so there's an implementation of length.</span><span s="2786" t="And again, what we built is a layered system."><code onclick="Z(this)">0:46:26</code>And again, what we built is a layered system.</span><span s="2795" t="We built a system which has, well, say up here there&apos;s segments."><code onclick="Z(this)">0:46:35</code>We built a system which has, well, say up here there's segments.</span><span s="2807" t="And then there&apos;s an abstraction barrier. The abstraction barrier separates the implementation"><code onclick="Z(this)">0:46:47</code>And then there's an abstraction barrier. The abstraction barrier separates the implementation</span><span s="2816" t="of segments from the implementation of vectors and points, and what that abstraction barrier is are the constructors and selectors. It&apos;s make-segment, and segment-start, and segment-end."><code onclick="Z(this)">0:46:56</code>of segments from the implementation of vectors and points, and what that abstraction barrier is are the constructors and selectors. It's make-segment, and segment-start, and segment-end.</span><span s="2838" t="And then there are vectors. And vectors in turn are built on top of pairs and numbers. So I&apos;ll say pairs and numbers."><code onclick="Z(this)">0:47:18</code>And then there are vectors. And vectors in turn are built on top of pairs and numbers. So I'll say pairs and numbers.</span><span s="2849" t="And that has its own abstraction barrier, which is make-vector, and x-coordinate, and y-coordinate."><code onclick="Z(this)">0:47:29</code>And that has its own abstraction barrier, which is make-vector, and x-coordinate, and y-coordinate.</span><span s="2866" t="So we have, again, a layered system. You&apos;re starting to see that there are layers here. I ought to mention, there is a very important thing"><code onclick="Z(this)">0:47:46</code>So we have, again, a layered system. You're starting to see that there are layers here. I ought to mention, there is a very important thing</span><span s="2877" t="that I kind of took for granted. And it&apos;s sort of so natural, but on the other hand it&apos;s a very important thing."><code onclick="Z(this)">0:47:57</code>that I kind of took for granted. And it's sort of so natural, but on the other hand it's a very important thing.</span><span s="2887" t="Notice that in order to represent this segment s, I said this segment is a pair of points."><code onclick="Z(this)">0:48:07</code>Notice that in order to represent this segment s, I said this segment is a pair of points.</span><span s="2896" t="And a point is a pair of numbers. And if I were going to draw the box and pointers structure for that, I would say, oh, the segment"><code onclick="Z(this)">0:48:16</code>And a point is a pair of numbers. And if I were going to draw the box and pointers structure for that, I would say, oh, the segment</span><span s="2905" t="is, given those particular representations that I showed you, I&apos;d say this segment s is a pair,"><code onclick="Z(this)">0:48:25</code>is, given those particular representations that I showed you, I'd say this segment s is a pair,</span><span s="2914" t="and the first thing in the pair is a vector, and the vector is a pair of numbers."><code onclick="Z(this)">0:48:34</code>and the first thing in the pair is a vector, and the vector is a pair of numbers.</span><span s="2925" t="And that&apos;s this, that&apos;s p. And the other thing in the segment is q, which is itself a pair of numbers."><code onclick="Z(this)">0:48:45</code>And that's this, that's p. And the other thing in the segment is q, which is itself a pair of numbers.</span><span s="2940" t="So I almost took it for granted when I said that cons allows you to put things together. But it&apos;s very easy to not appreciate"><code onclick="Z(this)">0:49:00</code>So I almost took it for granted when I said that cons allows you to put things together. But it's very easy to not appreciate</span><span s="2952" t="that, because notice, some of the things I can put together can themselves be pairs. And let me introduce a word that I&apos;ll talk about more next time,"><code onclick="Z(this)">0:49:12</code>that, because notice, some of the things I can put together can themselves be pairs. And let me introduce a word that I'll talk about more next time,</span><span s="2964" t="it&apos;s one of my favorite words, called closure. And by closure I mean that the means of combination"><code onclick="Z(this)">0:49:24</code>it's one of my favorite words, called closure. And by closure I mean that the means of combination</span><span s="2974" t="in your system are such that when you put things together using them, like we make a pair, you can then put those together"><code onclick="Z(this)">0:49:34</code>in your system are such that when you put things together using them, like we make a pair, you can then put those together</span><span s="2983" t="with the same means of combination. So I can have not only a pair of numbers, but I can have a pair of pairs. So for instance, making arrays in a language like Fortran"><code onclick="Z(this)">0:49:43</code>with the same means of combination. So I can have not only a pair of numbers, but I can have a pair of pairs. So for instance, making arrays in a language like Fortran</span><span s="2997" t="is not a closed means of combination, because I can make an array of numbers, but I can&apos;t make an array of arrays. And one of the things that you should ask, one of your tests"><code onclick="Z(this)">0:49:57</code>is not a closed means of combination, because I can make an array of numbers, but I can't make an array of arrays. And one of the things that you should ask, one of your tests</span><span s="3009" t="of quality for a means of combination that someone shows you, is gee, are the things you make closed under that means of combination?"><code onclick="Z(this)">0:50:09</code>of quality for a means of combination that someone shows you, is gee, are the things you make closed under that means of combination?</span><span s="3018" t="So pairs would not be nearly so interesting if all I could do was make a pair of numbers. I couldn&apos;t build very much structure at all. OK, well, we&apos;ll come back to that."><code onclick="Z(this)">0:50:18</code>So pairs would not be nearly so interesting if all I could do was make a pair of numbers. I couldn't build very much structure at all. OK, well, we'll come back to that.</span><span s="3028" t="I just wanted to mention it now. You&apos;ll hear a lot about closure later on. You can also see the potential for losing control"><code onclick="Z(this)">0:50:28</code>I just wanted to mention it now. You'll hear a lot about closure later on. You can also see the potential for losing control</span><span s="3038" t="of complexity as you have a layered system if you don&apos;t use data abstraction. Let&apos;s go back and look at this slide for length."><code onclick="Z(this)">0:50:38</code>of complexity as you have a layered system if you don't use data abstraction. Let's go back and look at this slide for length.</span><span s="3048" t="Length works and is a simple thing because I can say, when I want to get this value, I can say, oh, that is the x-coordinate of the first endpoint of the segment."><code onclick="Z(this)">0:50:48</code>Length works and is a simple thing because I can say, when I want to get this value, I can say, oh, that is the x-coordinate of the first endpoint of the segment.</span><span s="3062" t="And each of these things, each of these selectors, x-coordinate and endpoint, stand for a decision choice whose details I don&apos;t have to look at."><code onclick="Z(this)">0:51:02</code>And each of these things, each of these selectors, x-coordinate and endpoint, stand for a decision choice whose details I don't have to look at.</span><span s="3072" t="So I could perfectly well, again, just like rational numbers I did before, I could say, oh well, gee, a segment really is a pair of pairs."><code onclick="Z(this)">0:51:12</code>So I could perfectly well, again, just like rational numbers I did before, I could say, oh well, gee, a segment really is a pair of pairs.</span><span s="3081" t="And the x-coordinate of the first endpoint or the segment really is the-- well, what is it? It&apos;s the car of the car of the segment."><code onclick="Z(this)">0:51:21</code>And the x-coordinate of the first endpoint or the segment really is the-- well, what is it? It's the car of the car of the segment.</span><span s="3093" t="So I could perfectly well go and redefine length. I could say, define the length of some segment s."><code onclick="Z(this)">0:51:33</code>So I could perfectly well go and redefine length. I could say, define the length of some segment s.</span><span s="3108" t="And I could start off writing something like, well, we&apos;ll let dx be-- well, what&apos;s it have to be? It&apos;s got to be the difference of the two coordinates,"><code onclick="Z(this)">0:51:48</code>And I could start off writing something like, well, we'll let dx be-- well, what's it have to be? It's got to be the difference of the two coordinates,</span><span s="3118" t="so that&apos;s the difference of, the first one is the car of the car of s, subtracted"><code onclick="Z(this)">0:51:58</code>so that's the difference of, the first one is the car of the car of s, subtracted</span><span s="3128" t="from the first one, the car of the other half of it, the cdr of s."><code onclick="Z(this)">0:52:08</code>from the first one, the car of the other half of it, the cdr of s.</span><span s="3141" t="All right, and then dy would be-- well, let&apos;s see, I&apos;d get the y-coordinate, so it&apos;d be the difference of the cdr of the car of s,"><code onclick="Z(this)">0:52:21</code>All right, and then dy would be-- well, let's see, I'd get the y-coordinate, so it'd be the difference of the cdr of the car of s,</span><span s="3153" t="and the cdr of the cdr of s, sort of go on."><code onclick="Z(this)">0:52:33</code>and the cdr of the cdr of s, sort of go on.</span><span s="3164" t="You can see that&apos;s much harder to read than the program I had before. But worse than that, suppose you&apos;d gone and implemented length?"><code onclick="Z(this)">0:52:44</code>You can see that's much harder to read than the program I had before. But worse than that, suppose you'd gone and implemented length?</span><span s="3176" t="And then the next day, George comes to you and says, I&apos;m sorry, I changed my mind. I want to write points with the x-coordinate first. So you come back you stare at this code"><code onclick="Z(this)">0:52:56</code>And then the next day, George comes to you and says, I'm sorry, I changed my mind. I want to write points with the x-coordinate first. So you come back you stare at this code</span><span s="3186" t="and say, oh gee, what was that? That was the car, so I have to change this to cdr, and this is cdr, and this now has to be car."><code onclick="Z(this)">0:53:06</code>and say, oh gee, what was that? That was the car, so I have to change this to cdr, and this is cdr, and this now has to be car.</span><span s="3200" t="And this has to be car. And you sort of do that, and then the next day George comes back and says, sorry, the guys designing the display"><code onclick="Z(this)">0:53:20</code>And this has to be car. And you sort of do that, and then the next day George comes back and says, sorry, the guys designing the display</span><span s="3211" t="would like lines to be painted in the opposite direction, so I have to write the endpoint first in the order. And then you come back and you stare at this code, and say,"><code onclick="Z(this)">0:53:31</code>would like lines to be painted in the opposite direction, so I have to write the endpoint first in the order. And then you come back and you stare at this code, and say,</span><span s="3220" t="gee, what was it talking about? Oh yeah, well I&apos;ve got to change this one to cdr, and this one becomes car, this one comes car,"><code onclick="Z(this)">0:53:40</code>gee, what was it talking about? Oh yeah, well I've got to change this one to cdr, and this one becomes car, this one comes car,</span><span s="3229" t="and this becomes cdr. And you go up and do that, and then the next day, George comes back and says, I&apos;m sorry, what I really meant is that the segments always have to be painted from left to right on the screen."><code onclick="Z(this)">0:53:49</code>and this becomes cdr. And you go up and do that, and then the next day, George comes back and says, I'm sorry, what I really meant is that the segments always have to be painted from left to right on the screen.</span><span s="3239" t="And then you sort of, it&apos;s clear, you just go and punch George in the mouth at that point. But you see, as soon as we have a 10 layer system,"><code onclick="Z(this)">0:53:59</code>And then you sort of, it's clear, you just go and punch George in the mouth at that point. But you see, as soon as we have a 10 layer system,</span><span s="3249" t="you see how that complexity immediately builds up to the point where even something like this gets out of control. So again, the way we&apos;ve gotten out of that"><code onclick="Z(this)">0:54:09</code>you see how that complexity immediately builds up to the point where even something like this gets out of control. So again, the way we've gotten out of that</span><span s="3259" t="is we&apos;ve named that spirit. We built a system where there is a thing, which is the representation choice for how you&apos;re"><code onclick="Z(this)">0:54:19</code>is we've named that spirit. We built a system where there is a thing, which is the representation choice for how you're</span><span s="3269" t="going to talk about vectors. And choices about that representation are localized right there. They don&apos;t have their guts spilling over into things like how you compute the length"><code onclick="Z(this)">0:54:29</code>going to talk about vectors. And choices about that representation are localized right there. They don't have their guts spilling over into things like how you compute the length</span><span s="3278" t="and how you compute the midpoint. And that&apos;s the real power of this system. OK, we&apos;re explicit about them, so"><code onclick="Z(this)">0:54:38</code>and how you compute the midpoint. And that's the real power of this system. OK, we're explicit about them, so</span><span s="3288" t="that we have control over them. All right, questions? AUDIENCE: What happens in the case where you don&apos;t want to be treating objects in terms of pairs? For instance, in three-dimensional space,"><code onclick="Z(this)">0:54:48</code>that we have control over them. All right, questions? AUDIENCE: What happens in the case where you don't want to be treating objects in terms of pairs? For instance, in three-dimensional space,</span><span s="3300" t="you&apos;d have three coordinates. Or even in the case where you have n-dimensional space, what happens? PROFESSOR: Right, OK. Well, this is a preview of what I&apos;ll say tomorrow. But the point is, once you have two things,"><code onclick="Z(this)">0:55:00</code>you'd have three coordinates. Or even in the case where you have n-dimensional space, what happens? PROFESSOR: Right, OK. Well, this is a preview of what I'll say tomorrow. But the point is, once you have two things,</span><span s="3314" t="you have as many things as you want. All right? Because if I want to make three things, I could start making things like a pair whose first thing is"><code onclick="Z(this)">0:55:14</code>you have as many things as you want. All right? Because if I want to make three things, I could start making things like a pair whose first thing is</span><span s="3325" t="1, and whose second thing is another pair that, say, has 2 and 3 in it."><code onclick="Z(this)">0:55:25</code>1, and whose second thing is another pair that, say, has 2 and 3 in it.</span><span s="3334" t="And so on, a hundred things. I can nest them out of pairs. I made a pretty arbitrary decision about how to do it, and you can immediately see there are lots of ways to do that. What we&apos;ll start talking about next time"><code onclick="Z(this)">0:55:34</code>And so on, a hundred things. I can nest them out of pairs. I made a pretty arbitrary decision about how to do it, and you can immediately see there are lots of ways to do that. What we'll start talking about next time</span><span s="3344" t="are conventions for how to do things like that. But notice that what this really depends on is I can make pairs of pairs. If all I could do was make pairs of numbers, I&apos;d be stuck."><code onclick="Z(this)">0:55:44</code>are conventions for how to do things like that. But notice that what this really depends on is I can make pairs of pairs. If all I could do was make pairs of numbers, I'd be stuck.</span><span s="3367" t="OK. Let&apos;s break. [MUSIC PLAYING]"><code onclick="Z(this)">0:56:07</code>OK. Let's break. [MUSIC PLAYING]</span><span s="3415" t="All right, well, we&apos;ve just gone off and done a couple of simple examples of data abstraction. Now I want to do something more complicated."><code onclick="Z(this)">0:56:55</code>All right, well, we've just gone off and done a couple of simple examples of data abstraction. Now I want to do something more complicated.</span><span s="3425" t="We&apos;re going to talk about what it means. And this will be harder, because it&apos;s always much harder in computer programming to talk about what something means than to go off and do it."><code onclick="Z(this)">0:57:05</code>We're going to talk about what it means. And this will be harder, because it's always much harder in computer programming to talk about what something means than to go off and do it.</span><span s="3436" t="But let&apos;s go back to almost the very beginning. Let&apos;s go back to the point where I said,"><code onclick="Z(this)">0:57:16</code>But let's go back to almost the very beginning. Let's go back to the point where I said,</span><span s="3445" t="we just assumed that there were procedures, make-RAT, and numer, and denom."><code onclick="Z(this)">0:57:25</code>we just assumed that there were procedures, make-RAT, and numer, and denom.</span><span s="3458" t="Let&apos;s go back to where we had this, at the very beginning, constructors and selectors, and went off and defined the rational number arithmetic."><code onclick="Z(this)">0:57:38</code>Let's go back to where we had this, at the very beginning, constructors and selectors, and went off and defined the rational number arithmetic.</span><span s="3467" t="And remember, I said at that point we were sort of done, except for George. Well, what is it that we&apos;d actually done at that point? What was it that was done?"><code onclick="Z(this)">0:57:47</code>And remember, I said at that point we were sort of done, except for George. Well, what is it that we'd actually done at that point? What was it that was done?</span><span s="3479" t="Well, what I want to say is, what was done after we&apos;d implemented the operations and terms of these, was that we had defined a rational number"><code onclick="Z(this)">0:57:59</code>Well, what I want to say is, what was done after we'd implemented the operations and terms of these, was that we had defined a rational number</span><span s="3488" t="representation in terms of abstract data."><code onclick="Z(this)">0:58:08</code>representation in terms of abstract data.</span><span s="3497" t="What do I mean by abstract data? Well, the idea is that at that point, when we had our +RAT and our *RAT,"><code onclick="Z(this)">0:58:17</code>What do I mean by abstract data? Well, the idea is that at that point, when we had our +RAT and our *RAT,</span><span s="3508" t="that any implementation of make-RAT, and numerator, and denominator that George supplied us with,"><code onclick="Z(this)">0:58:28</code>that any implementation of make-RAT, and numerator, and denominator that George supplied us with,</span><span s="3518" t="could be the basis for a rational number representation. Like, it wasn&apos;t our concern where you divided through to get the greatest common denominator, or any of that."><code onclick="Z(this)">0:58:38</code>could be the basis for a rational number representation. Like, it wasn't our concern where you divided through to get the greatest common denominator, or any of that.</span><span s="3528" t="So the idea is that what we built is a rational arithmetic system that would sit on top of any representation."><code onclick="Z(this)">0:58:48</code>So the idea is that what we built is a rational arithmetic system that would sit on top of any representation.</span><span s="3537" t="What do I mean by any representation? I mean, certainly it can&apos;t be the case that all I mean is George can reach in a bag and pull out three arbitrary procedures and say, well, fine,"><code onclick="Z(this)">0:58:57</code>What do I mean by any representation? I mean, certainly it can't be the case that all I mean is George can reach in a bag and pull out three arbitrary procedures and say, well, fine,</span><span s="3549" t="now that&apos;s the implementation. That can&apos;t be what I mean. What I&apos;ve got to mean is that there&apos;s"><code onclick="Z(this)">0:59:09</code>now that's the implementation. That can't be what I mean. What I've got to mean is that there's</span><span s="3558" t="some way of saying whether three procedures are going to be suitable as a basis for rational number representation. If we think about it, what suitable"><code onclick="Z(this)">0:59:18</code>some way of saying whether three procedures are going to be suitable as a basis for rational number representation. If we think about it, what suitable</span><span s="3569" t="might mean is if I have to assume something like this, I have to say that if x is the result of say,"><code onclick="Z(this)">0:59:29</code>might mean is if I have to assume something like this, I have to say that if x is the result of say,</span><span s="3579" t="doing make-RAT of n and d, then the numerator of x divided"><code onclick="Z(this)">0:59:39</code>doing make-RAT of n and d, then the numerator of x divided</span><span s="3599" t="by the denominator of x is equal to n over d."><code onclick="Z(this)">0:59:59</code>by the denominator of x is equal to n over d.</span><span s="3609" t="See, what that is is that&apos;s George&apos;s contract. What we mean by writing a contract for rational numbers, if you think about it, this is the right thing."><code onclick="Z(this)">1:00:09</code>See, what that is is that's George's contract. What we mean by writing a contract for rational numbers, if you think about it, this is the right thing.</span><span s="3618" t="And the two ones we showed do the right thing. See, if I&apos;m taking out greatest common divisors, it doesn&apos;t matter whether I take them out or not,"><code onclick="Z(this)">1:00:18</code>And the two ones we showed do the right thing. See, if I'm taking out greatest common divisors, it doesn't matter whether I take them out or not,</span><span s="3627" t="or the place where I take them, because the idea is I&apos;m going to divide through. But see, this is George&apos;s contract. So what we really say to George is your business is to go off and find us"><code onclick="Z(this)">1:00:27</code>or the place where I take them, because the idea is I'm going to divide through. But see, this is George's contract. So what we really say to George is your business is to go off and find us</span><span s="3639" t="three procedures, make-RAT, and numerator, and denominator, that fulfill this contract for any choice of n and d. And that&apos;s what we mean by we can use that"><code onclick="Z(this)">1:00:39</code>three procedures, make-RAT, and numerator, and denominator, that fulfill this contract for any choice of n and d. And that's what we mean by we can use that</span><span s="3650" t="as the basis for a rational number representation. And other than that, it fulfills this contract. We don&apos;t care how he does it."><code onclick="Z(this)">1:00:50</code>as the basis for a rational number representation. And other than that, it fulfills this contract. We don't care how he does it.</span><span s="3659" t="It&apos;s not our business. It&apos;s below the layer of abstraction. In fact, if we want to say, what is a rational number really?"><code onclick="Z(this)">1:00:59</code>It's not our business. It's below the layer of abstraction. In fact, if we want to say, what is a rational number really?</span><span s="3673" t="See, what&apos;s it really, without having to talk about going below the layer of abstraction, what we&apos;re forced into saying is a rational number really is sort of this axiom, is three procedures,"><code onclick="Z(this)">1:01:13</code>See, what's it really, without having to talk about going below the layer of abstraction, what we're forced into saying is a rational number really is sort of this axiom, is three procedures,</span><span s="3687" t="make-RAT, numerator, and denominator, that satisfy this axiom. In some sense, abstractly, that&apos;s what a rational number is really."><code onclick="Z(this)">1:01:27</code>make-RAT, numerator, and denominator, that satisfy this axiom. In some sense, abstractly, that's what a rational number is really.</span><span s="3701" t="That&apos;s sort of easy words to listen to, because what you have in your head, of course, is well, for all this thing about saying that&apos;s what a rational number is really,"><code onclick="Z(this)">1:01:41</code>That's sort of easy words to listen to, because what you have in your head, of course, is well, for all this thing about saying that's what a rational number is really,</span><span s="3710" t="you actually just saw that we built rational numbers. See, what we really did is we built rational numbers"><code onclick="Z(this)">1:01:50</code>you actually just saw that we built rational numbers. See, what we really did is we built rational numbers</span><span s="3723" t="on top of pairs. So for all I&apos;m saying abstractly, we can say a rational number really is just this axiom."><code onclick="Z(this)">1:02:03</code>on top of pairs. So for all I'm saying abstractly, we can say a rational number really is just this axiom.</span><span s="3735" t="You can listen to that comfortably, because you&apos;re saying, well, yeah, but really it&apos;s actually pairs, and I&apos;m just annoying you by trying to be abstract."><code onclick="Z(this)">1:02:15</code>You can listen to that comfortably, because you're saying, well, yeah, but really it's actually pairs, and I'm just annoying you by trying to be abstract.</span><span s="3744" t="Well, let me, as an antidote for that, let me do something that I think is really going to terrify you. I mean, it&apos;s really going to bring"><code onclick="Z(this)">1:02:24</code>Well, let me, as an antidote for that, let me do something that I think is really going to terrify you. I mean, it's really going to bring</span><span s="3753" t="you face to face with the sort of existential reality of this abstraction that we&apos;re talking about. And what I&apos;m going to talk about is, what are pairs really?"><code onclick="Z(this)">1:02:33</code>you face to face with the sort of existential reality of this abstraction that we're talking about. And what I'm going to talk about is, what are pairs really?</span><span s="3765" t="See, what did I tell you about pairs? I tricked you, right? I said that Lisp has this primitive called cons that builds pairs. But what did I really tell you about?"><code onclick="Z(this)">1:02:45</code>See, what did I tell you about pairs? I tricked you, right? I said that Lisp has this primitive called cons that builds pairs. But what did I really tell you about?</span><span s="3776" t="If you go back and said, let&apos;s look on this slide, all I really told you about pairs is that there happens to be this property, these properties"><code onclick="Z(this)">1:02:56</code>If you go back and said, let's look on this slide, all I really told you about pairs is that there happens to be this property, these properties</span><span s="3785" t="of cons, car, and cdr. And all I really said about pairs is that there&apos;s a thing called cons, and a thing called car, and a thing called cdr."><code onclick="Z(this)">1:03:05</code>of cons, car, and cdr. And all I really said about pairs is that there's a thing called cons, and a thing called car, and a thing called cdr.</span><span s="3794" t="And it is the case that if I build cons of x, y and take car of it, I get x. And if I build cons of x, y and get cdr of it, I get y."><code onclick="Z(this)">1:03:14</code>And it is the case that if I build cons of x, y and take car of it, I get x. And if I build cons of x, y and get cdr of it, I get y.</span><span s="3805" t="And even though I lulled you into thinking that there&apos;s something in Lisp that does that, so you pretended you knew"><code onclick="Z(this)">1:03:25</code>And even though I lulled you into thinking that there's something in Lisp that does that, so you pretended you knew</span><span s="3814" t="what it was, in fact, I didn&apos;t tell you any more about pairs than this tells you about rational numbers. It&apos;s just some axiom for pairs."><code onclick="Z(this)">1:03:34</code>what it was, in fact, I didn't tell you any more about pairs than this tells you about rational numbers. It's just some axiom for pairs.</span><span s="3824" t="Well, to drive that home, let me really scare you, and show you what we might build pairs in terms of."><code onclick="Z(this)">1:03:44</code>Well, to drive that home, let me really scare you, and show you what we might build pairs in terms of.</span><span s="3836" t="And what you&apos;re going to see is that we can build rational numbers, and line segments, and vectors, and all of this stuff in terms of pairs, and we&apos;re going to see below here that pairs can"><code onclick="Z(this)">1:03:56</code>And what you're going to see is that we can build rational numbers, and line segments, and vectors, and all of this stuff in terms of pairs, and we're going to see below here that pairs can</span><span s="3846" t="be built out of nothing at all. Pure abstraction. So let me show you on this slide an implementation"><code onclick="Z(this)">1:04:06</code>be built out of nothing at all. Pure abstraction. So let me show you on this slide an implementation</span><span s="3857" t="of cons, car, and cdr. And we&apos;ll look at it again in a second, but notice that their procedure definitions of cons, car,"><code onclick="Z(this)">1:04:17</code>of cons, car, and cdr. And we'll look at it again in a second, but notice that their procedure definitions of cons, car,</span><span s="3866" t="and cdr, you don&apos;t see any data in there, what you see is a lambda. So cons here is going to return--"><code onclick="Z(this)">1:04:26</code>and cdr, you don't see any data in there, what you see is a lambda. So cons here is going to return--</span><span s="3878" t="is a procedure that returns a procedure, just like AVERAGE DAMP. Cons of a and b returns a procedure of an argument"><code onclick="Z(this)">1:04:38</code>is a procedure that returns a procedure, just like AVERAGE DAMP. Cons of a and b returns a procedure of an argument</span><span s="3889" t="called pick, and it says, if pick is equal to 1, I&apos;m going to return a, and if pick is equal to 2,"><code onclick="Z(this)">1:04:49</code>called pick, and it says, if pick is equal to 1, I'm going to return a, and if pick is equal to 2,</span><span s="3898" t="I&apos;m going to return b, and that&apos;s what cons is going to be. Car of a thing x, car of a pair x,"><code onclick="Z(this)">1:04:58</code>I'm going to return b, and that's what cons is going to be. Car of a thing x, car of a pair x,</span><span s="3910" t="is going to be x applied to 1. And notice that makes sense. You might not understand why or how I&apos;m doing such a thing, but at least it makes sense, because the thing constructed"><code onclick="Z(this)">1:05:10</code>is going to be x applied to 1. And notice that makes sense. You might not understand why or how I'm doing such a thing, but at least it makes sense, because the thing constructed</span><span s="3919" t="by cons is a procedure, and car applies that to 1. And similarly, cdr applies that thing to 2."><code onclick="Z(this)">1:05:19</code>by cons is a procedure, and car applies that to 1. And similarly, cdr applies that thing to 2.</span><span s="3929" t="OK, now I claimed that this is a representation of cons, car, and cdr, and notice there&apos;s no data in it. All right, it&apos;s built out of air. It&apos;s just procedures."><code onclick="Z(this)">1:05:29</code>OK, now I claimed that this is a representation of cons, car, and cdr, and notice there's no data in it. All right, it's built out of air. It's just procedures.</span><span s="3939" t="There&apos;s no data objects at all in that representation. Well, what could that possibly mean?"><code onclick="Z(this)">1:05:39</code>There's no data objects at all in that representation. Well, what could that possibly mean?</span><span s="3949" t="Well, if you really believe this stuff, then you have to believe that in order to show that that&apos;s a representation for cons, car,"><code onclick="Z(this)">1:05:49</code>Well, if you really believe this stuff, then you have to believe that in order to show that that's a representation for cons, car,</span><span s="3959" t="and cdr, all I have to do is show that it satisfies the axiom. See, all I should have to convince you of is, for example, that gee, that car of cons of 37 and 49"><code onclick="Z(this)">1:05:59</code>and cdr, all I have to do is show that it satisfies the axiom. See, all I should have to convince you of is, for example, that gee, that car of cons of 37 and 49</span><span s="3982" t="is 37 for arbitrary values of 37 and 49. And cdr the same way."><code onclick="Z(this)">1:06:22</code>is 37 for arbitrary values of 37 and 49. And cdr the same way.</span><span s="3992" t="See, if I really can demonstrate to you that that weird procedure definition, in terms of [? air ?], has the property that it satisfies this,"><code onclick="Z(this)">1:06:32</code>See, if I really can demonstrate to you that that weird procedure definition, in terms of [? air ?], has the property that it satisfies this,</span><span s="4001" t="then you just have to grant me that that is a possible implementation of cons, car, and cdr, on which I can build everything else. Well, let&apos;s look at that."><code onclick="Z(this)">1:06:41</code>then you just have to grant me that that is a possible implementation of cons, car, and cdr, on which I can build everything else. Well, let's look at that.</span><span s="4010" t="And this will be practice in the substitution model."><code onclick="Z(this)">1:06:50</code>And this will be practice in the substitution model.</span><span s="4019" t="How could we check this? We sort of know how to do that. It&apos;s just the same substitution model. Let&apos;s look. We start out, and we say, what&apos;s car of cons of 37 and 49?"><code onclick="Z(this)">1:06:59</code>How could we check this? We sort of know how to do that. It's just the same substitution model. Let's look. We start out, and we say, what's car of cons of 37 and 49?</span><span s="4031" t="What do we do? Cons is some procedure. Its value is cons was a procedure of a and b. The thing returned by cons is its procedure body"><code onclick="Z(this)">1:07:11</code>What do we do? Cons is some procedure. Its value is cons was a procedure of a and b. The thing returned by cons is its procedure body</span><span s="4043" t="with 37 and 49 substituted for the parameters. It&apos;ll be 37 substituted for a and 49 substituted for b."><code onclick="Z(this)">1:07:23</code>with 37 and 49 substituted for the parameters. It'll be 37 substituted for a and 49 substituted for b.</span><span s="4052" t="So this expression has the same meaning as this expression. Its car of, and the body of cons was this thing that started with lambda."><code onclick="Z(this)">1:07:32</code>So this expression has the same meaning as this expression. Its car of, and the body of cons was this thing that started with lambda.</span><span s="4063" t="And it says, so if pick is equal to 1, where pick is this other argument, if pick is equal to 1, it&apos;s 37, that&apos;s where a was, and if pick is equal to 2, it&apos;s 49."><code onclick="Z(this)">1:07:43</code>And it says, so if pick is equal to 1, where pick is this other argument, if pick is equal to 1, it's 37, that's where a was, and if pick is equal to 2, it's 49.</span><span s="4075" t="So that&apos;s the first step. I&apos;m just going through mechanical substitution. And remember, at this point in the course, if you&apos;re confused about what things mean, go mechanically through the substitution model."><code onclick="Z(this)">1:07:55</code>So that's the first step. I'm just going through mechanical substitution. And remember, at this point in the course, if you're confused about what things mean, go mechanically through the substitution model.</span><span s="4085" t="Well, what is this reduced to? Car said, take your argument, which in this case is this,"><code onclick="Z(this)">1:08:05</code>Well, what is this reduced to? Car said, take your argument, which in this case is this,</span><span s="4095" t="and apply it to 1. That was the definition of car. So if I look at car, if I do that, the answer is, well, it&apos;s that argument, this was the argument to car,"><code onclick="Z(this)">1:08:15</code>and apply it to 1. That was the definition of car. So if I look at car, if I do that, the answer is, well, it's that argument, this was the argument to car,</span><span s="4105" t="applied to 1. Well, what does that mean? I take 1, and I substitute it in the body here for this value of pick, which"><code onclick="Z(this)">1:08:25</code>applied to 1. Well, what does that mean? I take 1, and I substitute it in the body here for this value of pick, which</span><span s="4116" t="is the name of the argument, what do I get? Well, I get the thing that says if 1 equals 1 it&apos;s 37, and if 1 equals 2 it&apos;s 49, so the answer&apos;s 37."><code onclick="Z(this)">1:08:36</code>is the name of the argument, what do I get? Well, I get the thing that says if 1 equals 1 it's 37, and if 1 equals 2 it's 49, so the answer's 37.</span><span s="4126" t="And similarly, if I&apos;d taken cdr, that would apply it to 2, and I&apos;d get 49. So you see, what I&apos;ve demonstrated is that that completely weird implementation of cons, car,"><code onclick="Z(this)">1:08:46</code>And similarly, if I'd taken cdr, that would apply it to 2, and I'd get 49. So you see, what I've demonstrated is that that completely weird implementation of cons, car,</span><span s="4137" t="and cdr, satisfies the axioms. So it&apos;s a perfectly valid way of building, in fact, all of the data objects we&apos;re going to see in Lisp. So they all, if you like, can be built"><code onclick="Z(this)">1:08:57</code>and cdr, satisfies the axioms. So it's a perfectly valid way of building, in fact, all of the data objects we're going to see in Lisp. So they all, if you like, can be built</span><span s="4147" t="on sort of existential nothing. And as far as you know, that&apos;s how it works. You couldn&apos;t tell. If all you&apos;re ever going to do with pairs"><code onclick="Z(this)">1:09:07</code>on sort of existential nothing. And as far as you know, that's how it works. You couldn't tell. If all you're ever going to do with pairs</span><span s="4157" t="is construct them with cons and look at them with car and cdr, you couldn&apos;t possibly tell how this thing works. Now, it might give you a sort of warm feeling inside if I say,"><code onclick="Z(this)">1:09:17</code>is construct them with cons and look at them with car and cdr, you couldn't possibly tell how this thing works. Now, it might give you a sort of warm feeling inside if I say,</span><span s="4166" t="well, yeah, in fact, for various reasons there happens to be a primitive called cons, car, and cdr, and if it&apos;s too scary, if this kind of stuff is too scary, you don&apos;t have to look inside of it."><code onclick="Z(this)">1:09:26</code>well, yeah, in fact, for various reasons there happens to be a primitive called cons, car, and cdr, and if it's too scary, if this kind of stuff is too scary, you don't have to look inside of it.</span><span s="4176" t="So that might make you feel better, but the point is, it really could work this way, and it wouldn&apos;t make any difference to the system at all."><code onclick="Z(this)">1:09:36</code>So that might make you feel better, but the point is, it really could work this way, and it wouldn't make any difference to the system at all.</span><span s="4186" t="So in some sense, we don&apos;t need data at all to build these data abstractions. We can do everything in terms of procedures. OK, well, why did I terrify you in this way?"><code onclick="Z(this)">1:09:46</code>So in some sense, we don't need data at all to build these data abstractions. We can do everything in terms of procedures. OK, well, why did I terrify you in this way?</span><span s="4197" t="First, I really want to reinforce this idea of abstraction, that you really can do these things abstractly."><code onclick="Z(this)">1:09:57</code>First, I really want to reinforce this idea of abstraction, that you really can do these things abstractly.</span><span s="4206" t="Secondly, I want to introduce an idea we&apos;re going to see more and more of in this course, which is we&apos;re going to blur the line between what&apos;s data"><code onclick="Z(this)">1:10:06</code>Secondly, I want to introduce an idea we're going to see more and more of in this course, which is we're going to blur the line between what's data</span><span s="4217" t="and what&apos;s a procedure. See, in this funny implementation it turned out that cons of something happened to be represented in terms of a procedure,"><code onclick="Z(this)">1:10:17</code>and what's a procedure. See, in this funny implementation it turned out that cons of something happened to be represented in terms of a procedure,</span><span s="4227" t="even though we think of it as data. While here that&apos;s sort of a mathematical trick, but one of the things we&apos;ll see is"><code onclick="Z(this)">1:10:27</code>even though we think of it as data. While here that's sort of a mathematical trick, but one of the things we'll see is</span><span s="4236" t="that a lot of the very important programming techniques that we&apos;re going to get to sort of depend very crucially on blurring this traditional line between what you consider a procedure"><code onclick="Z(this)">1:10:36</code>that a lot of the very important programming techniques that we're going to get to sort of depend very crucially on blurring this traditional line between what you consider a procedure</span><span s="4247" t="and what you consider data. We&apos;re going to see more and more of that, especially next time. OK, questions? AUDIENCE: If you asked the system"><code onclick="Z(this)">1:10:47</code>and what you consider data. We're going to see more and more of that, especially next time. OK, questions? AUDIENCE: If you asked the system</span><span s="4256" t="to print a, what would happen? PROFESSOR: The question is, what would happen if I asked the system to print a."><code onclick="Z(this)">1:10:56</code>to print a, what would happen? PROFESSOR: The question is, what would happen if I asked the system to print a.</span><span s="4265" t="Given this representation, you already know the answer. The answer is compound procedure a, just like last time."><code onclick="Z(this)">1:11:05</code>Given this representation, you already know the answer. The answer is compound procedure a, just like last time.</span><span s="4281" t="It&apos;d say compound procedure. It might say a little bit more. It might say compound procedure lambda or something or other, depending on details of how I named it."><code onclick="Z(this)">1:11:21</code>It'd say compound procedure. It might say a little bit more. It might say compound procedure lambda or something or other, depending on details of how I named it.</span><span s="4291" t="But it&apos;s a procedure. And the only reason for that is I haven&apos;t told the system anything special about how to print such things."><code onclick="Z(this)">1:11:31</code>But it's a procedure. And the only reason for that is I haven't told the system anything special about how to print such things.</span><span s="4300" t="Now, it&apos;s in fact true that with the actual implementation of cons that to be built in the system, it would print something else. It would print, say, this is a pair."><code onclick="Z(this)">1:11:40</code>Now, it's in fact true that with the actual implementation of cons that to be built in the system, it would print something else. It would print, say, this is a pair.</span><span s="4313" t="AUDIENCE: When you define cons, and then you pass it into values, how does it know where to look for the cons, because you can use cons"><code onclick="Z(this)">1:11:53</code>AUDIENCE: When you define cons, and then you pass it into values, how does it know where to look for the cons, because you can use cons</span><span s="4325" t="over and over again? How does it know where to look to know which a and b it&apos;s supposed to pull back out? I don&apos;t know if I&apos;m expressing that quite right."><code onclick="Z(this)">1:12:05</code>over and over again? How does it know where to look to know which a and b it's supposed to pull back out? I don't know if I'm expressing that quite right.</span><span s="4337" t="Where is it stored? PROFESSOR: OK, the question is, I sort of have a cons with a 37 and a 49, and I might make another cons"><code onclick="Z(this)">1:12:17</code>Where is it stored? PROFESSOR: OK, the question is, I sort of have a cons with a 37 and a 49, and I might make another cons</span><span s="4347" t="with a 1 and a 2, and I might have one called a, and I might have one called b. And the question is, how does it know? And why don&apos;t they get confused? And that&apos;s a very good question."><code onclick="Z(this)">1:12:27</code>with a 1 and a 2, and I might have one called a, and I might have one called b. And the question is, how does it know? And why don't they get confused? And that's a very good question.</span><span s="4360" t="See, you have to really believe that the procedures are objects. It&apos;s sort of like saying-- let&apos;s try another simpler example."><code onclick="Z(this)">1:12:40</code>See, you have to really believe that the procedures are objects. It's sort of like saying-- let's try another simpler example.</span><span s="4369" t="Suppose I ask for the square root of 3. So I asked for the square root of 5,"><code onclick="Z(this)">1:12:49</code>Suppose I ask for the square root of 3. So I asked for the square root of 5,</span><span s="4378" t="and then I ask for the square of 20. You&apos;re probably not the least bit"><code onclick="Z(this)">1:12:58</code>and then I ask for the square of 20. You're probably not the least bit</span><span s="4387" t="bothered that I can take square root and apply it to 5, and then I can take square root and apply it to 20. And there&apos;s sort of no issue, gee,"><code onclick="Z(this)">1:13:07</code>bothered that I can take square root and apply it to 5, and then I can take square root and apply it to 20. And there's sort of no issue, gee,</span><span s="4396" t="doesn&apos;t it get confused about whether it&apos;s working on 5 or 20? There&apos;s no issue about that because you&apos;re thinking of a procedure which goes off and does something."><code onclick="Z(this)">1:13:16</code>doesn't it get confused about whether it's working on 5 or 20? There's no issue about that because you're thinking of a procedure which goes off and does something.</span><span s="4406" t="Now, in some sense you&apos;re asking me the same question. But it&apos;s really bothering you, and it&apos;s bothering you for a really good reason. Because when I write that, you&apos;re saying gee, this is,"><code onclick="Z(this)">1:13:26</code>Now, in some sense you're asking me the same question. But it's really bothering you, and it's bothering you for a really good reason. Because when I write that, you're saying gee, this is,</span><span s="4416" t="I know, sort of a procedure. But it&apos;s not a procedure that&apos;s just running. It&apos;s just sort of a procedure sitting there. And how can it be that sometimes this procedure has 37 and 49,"><code onclick="Z(this)">1:13:36</code>I know, sort of a procedure. But it's not a procedure that's just running. It's just sort of a procedure sitting there. And how can it be that sometimes this procedure has 37 and 49,</span><span s="4426" t="and there might be another one which has 5 and 6 in there, and why don&apos;t they get confused? So there&apos;s something very, very important that&apos;s bothering you."><code onclick="Z(this)">1:13:46</code>and there might be another one which has 5 and 6 in there, and why don't they get confused? So there's something very, very important that's bothering you.</span><span s="4438" t="And it&apos;s really crucial to what&apos;s going on. We&apos;re suddenly saying that procedures are not just the act of doing something."><code onclick="Z(this)">1:13:58</code>And it's really crucial to what's going on. We're suddenly saying that procedures are not just the act of doing something.</span><span s="4448" t="Procedures are conceptual entities, objects, and if I built cons of 37 and 49, that&apos;s a particular procedure that sits there."><code onclick="Z(this)">1:14:08</code>Procedures are conceptual entities, objects, and if I built cons of 37 and 49, that's a particular procedure that sits there.</span><span s="4458" t="And it&apos;s different from cons of 3 and 4. That&apos;s another procedure that sits there. AUDIENCE: Both of them exist independently. PROFESSOR: And exists independently. AUDIENCE: And they both can be referenced by car and cdr."><code onclick="Z(this)">1:14:18</code>And it's different from cons of 3 and 4. That's another procedure that sits there. AUDIENCE: Both of them exist independently. PROFESSOR: And exists independently. AUDIENCE: And they both can be referenced by car and cdr.</span><span s="4468" t="PROFESSOR: And they both would be referenced by car and cdr. Just like I could increment this, and I could increment that."><code onclick="Z(this)">1:14:28</code>PROFESSOR: And they both would be referenced by car and cdr. Just like I could increment this, and I could increment that.</span><span s="4478" t="They&apos;re objects. And that&apos;s sort of where we&apos;re going. See, the fact that you&apos;re asking the question shows that you&apos;re really starting to think about the implications of what&apos;s going on."><code onclick="Z(this)">1:14:38</code>They're objects. And that's sort of where we're going. See, the fact that you're asking the question shows that you're really starting to think about the implications of what's going on.</span><span s="4487" t="It&apos;s the difference between saying a procedure is just the act of doing something. And a procedure is a real object that has existence."><code onclick="Z(this)">1:14:47</code>It's the difference between saying a procedure is just the act of doing something. And a procedure is a real object that has existence.</span><span s="4496" t="AUDIENCE: So when the procedure gets built, the actual values are now substituted for a and b-- PROFESSOR: That&apos;s right. AUDIENCE: And then that procedure exists as lambda, and pick is what&apos;s actually passed in."><code onclick="Z(this)">1:14:56</code>AUDIENCE: So when the procedure gets built, the actual values are now substituted for a and b-- PROFESSOR: That's right. AUDIENCE: And then that procedure exists as lambda, and pick is what's actually passed in.</span><span s="4507" t="PROFESSOR: Yes, when cons gets called, and the result of cons is a new procedure that&apos;s constructed, that new procedure has an argument that&apos;s called pick."><code onclick="Z(this)">1:15:07</code>PROFESSOR: Yes, when cons gets called, and the result of cons is a new procedure that's constructed, that new procedure has an argument that's called pick.</span><span s="4517" t="AUDIENCE: But it no longer has an a and b. The a and b are the actual values that are passed through. PROFESSOR: And it has-- right, according to the substitution model, what it now has is not those arbitrary names a and b,"><code onclick="Z(this)">1:15:17</code>AUDIENCE: But it no longer has an a and b. The a and b are the actual values that are passed through. PROFESSOR: And it has-- right, according to the substitution model, what it now has is not those arbitrary names a and b,</span><span s="4526" t="it somehow has that 37 and 49 in there. But you&apos;re right, that&apos;s a hard thing to think about it, and it&apos;s different from the way you&apos;ve"><code onclick="Z(this)">1:15:26</code>it somehow has that 37 and 49 in there. But you're right, that's a hard thing to think about it, and it's different from the way you've</span><span s="4535" t="been thinking about procedures. AUDIENCE: And if I have again cons of 37 and 49, it&apos;s a different object? PROFESSOR: And if you make another cons of 37 and 49,"><code onclick="Z(this)">1:15:35</code>been thinking about procedures. AUDIENCE: And if I have again cons of 37 and 49, it's a different object? PROFESSOR: And if you make another cons of 37 and 49,</span><span s="4551" t="you&apos;re into a wonderful philosophical problem, which is going to be what the lecture about halfway through this course is about."><code onclick="Z(this)">1:15:51</code>you're into a wonderful philosophical problem, which is going to be what the lecture about halfway through this course is about.</span><span s="4560" t="Which is, if I cons 37 and 49, and I do it again, is that the same thing, or is it a different thing? And how could you tell? And when could it possibly matter?"><code onclick="Z(this)">1:16:00</code>Which is, if I cons 37 and 49, and I do it again, is that the same thing, or is it a different thing? And how could you tell? And when could it possibly matter?</span><span s="4570" t="And that&apos;s sort of like saying, is that the same thing as this?"><code onclick="Z(this)">1:16:10</code>And that's sort of like saying, is that the same thing as this?</span><span s="4581" t="Or is this the same thing as that? It&apos;s the same kind of question. And that&apos;s a very, very deep question. And I can&apos;t answer in less than an hour."><code onclick="Z(this)">1:16:21</code>Or is this the same thing as that? It's the same kind of question. And that's a very, very deep question. And I can't answer in less than an hour.</span><span s="4590" t="But we will."><code onclick="Z(this)">1:16:30</code>But we will.</span></div><div class="eventlist" side="R" vid="2QgZVYI3tDs"><h5><code onclick="Z(this)">0:00:00</code>Lecture 3A | MIT 6.001 Structure and Interpretation, 1986</h5><span s="0" t=" [MUSIC PLAYING]"><code onclick="Z(this)">0:00:00</code> [MUSIC PLAYING]</span><span s="21" t="PROFESSOR: Well, last time we talked about compound data, and there were two main points to that business. First of all, there was a methodology of data"><code onclick="Z(this)">0:00:21</code>PROFESSOR: Well, last time we talked about compound data, and there were two main points to that business. First of all, there was a methodology of data</span><span s="31" t="abstraction, and the point of that was that you could isolate the way that data objects are used from the way"><code onclick="Z(this)">0:00:31</code>abstraction, and the point of that was that you could isolate the way that data objects are used from the way</span><span s="40" t="that they&apos;re represented: this idea that there&apos;s this guy, George, and you go out make a contract with him; and it&apos;s his business to represent the data objects; and at the moment you are using them, you don&apos;t think"><code onclick="Z(this)">0:00:40</code>that they're represented: this idea that there's this guy, George, and you go out make a contract with him; and it's his business to represent the data objects; and at the moment you are using them, you don't think</span><span s="49" t="about George&apos;s problem. And then secondly, there was this particular way that Lisp has of gluing together things to form objects called pairs,"><code onclick="Z(this)">0:00:49</code>about George's problem. And then secondly, there was this particular way that Lisp has of gluing together things to form objects called pairs,</span><span s="60" t="and that&apos;s done with cons, car and cdr. And the way that cons, car and cdr are implemented is basically irrelevant. That&apos;s sort of George&apos;s problem of how"><code onclick="Z(this)">0:01:00</code>and that's done with cons, car and cdr. And the way that cons, car and cdr are implemented is basically irrelevant. That's sort of George's problem of how</span><span s="69" t="to build those things. It could be done as primitives. It could be done using procedures in some weird way, but we&apos;re not going to worry about that. And as an example, we looked at rational number arithmetic."><code onclick="Z(this)">0:01:09</code>to build those things. It could be done as primitives. It could be done using procedures in some weird way, but we're not going to worry about that. And as an example, we looked at rational number arithmetic.</span><span s="80" t="We looked at vectors, and here&apos;s just a review of vectors. Here&apos;s an operation that takes the sum of of two vectors, so we want to add this vector, v1, and this vector, v2, and"><code onclick="Z(this)">0:01:20</code>We looked at vectors, and here's just a review of vectors. Here's an operation that takes the sum of of two vectors, so we want to add this vector, v1, and this vector, v2, and</span><span s="92" t="we get the sum. And the sum is the vector whose coordinates are the sum of the coordinates of the pieces you&apos;re adding."><code onclick="Z(this)">0:01:32</code>we get the sum. And the sum is the vector whose coordinates are the sum of the coordinates of the pieces you're adding.</span><span s="101" t="So I can say, to define make-vect, right, to add two vectors I make a vector, whose x coordinate is the sum of the"><code onclick="Z(this)">0:01:41</code>So I can say, to define make-vect, right, to add two vectors I make a vector, whose x coordinate is the sum of the</span><span s="110" t="two x coordinates, and whose y coordinate is the sum of the two y coordinates. And then similarly, we could have an operation that scales"><code onclick="Z(this)">0:01:50</code>two x coordinates, and whose y coordinate is the sum of the two y coordinates. And then similarly, we could have an operation that scales</span><span s="123" t="vectors, so here&apos;s a procedure scale that multiplies a vector, v, by some number, s."><code onclick="Z(this)">0:02:03</code>vectors, so here's a procedure scale that multiplies a vector, v, by some number, s.</span><span s="133" t="So here&apos;s v, v goes from there to there and I scale v, and I get a vector in the same direction that&apos;s longer. And again, to scale a vector, I multiply the successive"><code onclick="Z(this)">0:02:13</code>So here's v, v goes from there to there and I scale v, and I get a vector in the same direction that's longer. And again, to scale a vector, I multiply the successive</span><span s="143" t="coordinates. So I make a vector, whose x coordinate is the scale factor times the x coordinate and whose y coordinate is the scale factor times the y coordinate."><code onclick="Z(this)">0:02:23</code>coordinates. So I make a vector, whose x coordinate is the scale factor times the x coordinate and whose y coordinate is the scale factor times the y coordinate.</span><span s="154" t="So those are two operations that are implemented using the representation of vectors. And the representation of vectors, for instance, is something that we can build in terms of pairs."><code onclick="Z(this)">0:02:34</code>So those are two operations that are implemented using the representation of vectors. And the representation of vectors, for instance, is something that we can build in terms of pairs.</span><span s="165" t="So George has gone out and implemented for us make-vector and x coordinate and y coordinate, and this could be done, for instance, using cons, car and cdr; and notice"><code onclick="Z(this)">0:02:45</code>So George has gone out and implemented for us make-vector and x coordinate and y coordinate, and this could be done, for instance, using cons, car and cdr; and notice</span><span s="184" t="here, I wrote this in a slightly different way. The procedures we&apos;ve seen before, I&apos;ve said something like say, make-vector of x and y: cons of x and y."><code onclick="Z(this)">0:03:04</code>here, I wrote this in a slightly different way. The procedures we've seen before, I've said something like say, make-vector of x and y: cons of x and y.</span><span s="196" t="And here I just wrote make-vector cons. And that means something slightly different. Previously we&apos;d say, define make-vector to be a procedure that takes two arguments, x and y, and does"><code onclick="Z(this)">0:03:16</code>And here I just wrote make-vector cons. And that means something slightly different. Previously we'd say, define make-vector to be a procedure that takes two arguments, x and y, and does</span><span s="206" t="cons of x and y. And here I am saying define make-vector to be the thing that cons is, and that&apos;s almost the same as the other"><code onclick="Z(this)">0:03:26</code>cons of x and y. And here I am saying define make-vector to be the thing that cons is, and that's almost the same as the other</span><span s="218" t="way we&apos;ve been writing things. And I just want you to get used to the idea that procedures can be objects, and that you can name them."><code onclick="Z(this)">0:03:38</code>way we've been writing things. And I just want you to get used to the idea that procedures can be objects, and that you can name them.</span><span s="228" t="OK, well there&apos;s vector representation, and again, if that was all there was to it, this would all be pretty boring. And the point is, remember, that you can use cons to glue"><code onclick="Z(this)">0:03:48</code>OK, well there's vector representation, and again, if that was all there was to it, this would all be pretty boring. And the point is, remember, that you can use cons to glue</span><span s="240" t="together not just numbers to form pairs, but to glue together arbitrary things. So for instance, if we&apos;d like to represent a line segment,"><code onclick="Z(this)">0:04:00</code>together not just numbers to form pairs, but to glue together arbitrary things. So for instance, if we'd like to represent a line segment,</span><span s="251" t="say the line segment that goes from a certain vector: say, the segment from the vector 2,3 to the point represented"><code onclick="Z(this)">0:04:11</code>say the line segment that goes from a certain vector: say, the segment from the vector 2,3 to the point represented</span><span s="267" t="by the vector 5,1. If we want to represent that line segment, then we can build that as a pair of pairs."><code onclick="Z(this)">0:04:27</code>by the vector 5,1. If we want to represent that line segment, then we can build that as a pair of pairs.</span><span s="281" t="So again, we can represent line segments. We can make a constructor that makes a segment using cons, selects out the start of a segment, selects out the end"><code onclick="Z(this)">0:04:41</code>So again, we can represent line segments. We can make a constructor that makes a segment using cons, selects out the start of a segment, selects out the end</span><span s="290" t="point of the segment; and then if we actually look at that, if we peel away the abstraction layers, and say"><code onclick="Z(this)">0:04:50</code>point of the segment; and then if we actually look at that, if we peel away the abstraction layers, and say</span><span s="300" t="what&apos;s that really is a pair of pairs, we&apos;d say well that&apos;s a pair. Here&apos;s the segment."><code onclick="Z(this)">0:05:00</code>what's that really is a pair of pairs, we'd say well that's a pair. Here's the segment.</span><span s="310" t="It&apos;s car, right, it&apos;s car pointer is a pair, and it&apos;s cdr is also a pair, and then what the car is-- here&apos;s the"><code onclick="Z(this)">0:05:10</code>It's car, right, it's car pointer is a pair, and it's cdr is also a pair, and then what the car is-- here's the</span><span s="321" t="car, that itself is a pair of 2 and 3. And similarly the cdr is a pair of 2 and 3. And let me remind you again, that a lot of people have some"><code onclick="Z(this)">0:05:21</code>car, that itself is a pair of 2 and 3. And similarly the cdr is a pair of 2 and 3. And let me remind you again, that a lot of people have some</span><span s="330" t="idea that if I&apos;d taken this arrow and somehow written it to point down, that would mean something else. That&apos;s irrelevant. It&apos;s only how these are connected and not whether this"><code onclick="Z(this)">0:05:30</code>idea that if I'd taken this arrow and somehow written it to point down, that would mean something else. That's irrelevant. It's only how these are connected and not whether this</span><span s="340" t="arrow happens to go vertically or horizontally. And again just to remind you, there was"><code onclick="Z(this)">0:05:40</code>arrow happens to go vertically or horizontally. And again just to remind you, there was</span><span s="349" t="this notion of closure. See, closure was the thing that allowed us to start"><code onclick="Z(this)">0:05:49</code>this notion of closure. See, closure was the thing that allowed us to start</span><span s="362" t="building up complexity, that didn&apos;t trap us in pairs. Particularly what I mean is the things that we make,"><code onclick="Z(this)">0:06:02</code>building up complexity, that didn't trap us in pairs. Particularly what I mean is the things that we make,</span><span s="372" t="having combined things using cons to get a pair, those things themselves can be combined using cons to make"><code onclick="Z(this)">0:06:12</code>having combined things using cons to get a pair, those things themselves can be combined using cons to make</span><span s="381" t="more complicated things. Or as a mathematician might say, the set of data objects in List is closed under the operation of forming pairs."><code onclick="Z(this)">0:06:21</code>more complicated things. Or as a mathematician might say, the set of data objects in List is closed under the operation of forming pairs.</span><span s="394" t="That&apos;s the thing that allows us to build complexity. And that seems obvious, but remember, a lot of the things in the computer languages that people use are not closed. So for example, forming arrays in basic and Fortran is not a"><code onclick="Z(this)">0:06:34</code>That's the thing that allows us to build complexity. And that seems obvious, but remember, a lot of the things in the computer languages that people use are not closed. So for example, forming arrays in basic and Fortran is not a</span><span s="407" t="closed operation, because you can make an array of numbers or character strings or something, but you can&apos;t make an array of arrays. And when you look at means of combination, you should be"><code onclick="Z(this)">0:06:47</code>closed operation, because you can make an array of numbers or character strings or something, but you can't make an array of arrays. And when you look at means of combination, you should be</span><span s="419" t="should be asking yourself whether things are closed under that means of combination. Well in any case, because we can form pairs of pairs, we"><code onclick="Z(this)">0:06:59</code>should be asking yourself whether things are closed under that means of combination. Well in any case, because we can form pairs of pairs, we</span><span s="429" t="can start using pairs to glue things together in all sorts of different ways. So for instance if I&apos;d like to glue together the four things, 1, 2, 3 and 4, there are a lot of ways I can do it."><code onclick="Z(this)">0:07:09</code>can start using pairs to glue things together in all sorts of different ways. So for instance if I'd like to glue together the four things, 1, 2, 3 and 4, there are a lot of ways I can do it.</span><span s="440" t="I could, for example, like we did with that line segment, I could make a pair that had a 1 and a 2 and"><code onclick="Z(this)">0:07:20</code>I could, for example, like we did with that line segment, I could make a pair that had a 1 and a 2 and</span><span s="452" t="a 3 and a 4, right? Or if I liked, I could do something like this. I could make a pair, whose first thing is a pair, whose"><code onclick="Z(this)">0:07:32</code>a 3 and a 4, right? Or if I liked, I could do something like this. I could make a pair, whose first thing is a pair, whose</span><span s="466" t="car is 1, and his cdr is itself a pair that has the 2 and the 3, and then I could put the 4 up here."><code onclick="Z(this)">0:07:46</code>car is 1, and his cdr is itself a pair that has the 2 and the 3, and then I could put the 4 up here.</span><span s="476" t="So you see, there are a lot of different ways that I can start using pairs to glue things together, and so it&apos;ll be a good idea to establish some kind of conventions,"><code onclick="Z(this)">0:07:56</code>So you see, there are a lot of different ways that I can start using pairs to glue things together, and so it'll be a good idea to establish some kind of conventions,</span><span s="487" t="right, that allow us to deal with this thing in some conventional way, so we&apos;re not constantly making an ad hoc choice."><code onclick="Z(this)">0:08:07</code>right, that allow us to deal with this thing in some conventional way, so we're not constantly making an ad hoc choice.</span><span s="496" t="And List has a particular convention for representing a sequence of things as, essentially, a chain of pairs,"><code onclick="Z(this)">0:08:16</code>And List has a particular convention for representing a sequence of things as, essentially, a chain of pairs,</span><span s="506" t="and that&apos;s called a List. And what a List is is essentially just a convention"><code onclick="Z(this)">0:08:26</code>and that's called a List. And what a List is is essentially just a convention</span><span s="519" t="for representing a sequence. I would represent the sequence 1, 2, 3 and 4 by a sequence of pairs."><code onclick="Z(this)">0:08:39</code>for representing a sequence. I would represent the sequence 1, 2, 3 and 4 by a sequence of pairs.</span><span s="528" t="I&apos;d put 1 here and then the cdr of this would point to another pair whose car was the next thing in the sequence,"><code onclick="Z(this)">0:08:48</code>I'd put 1 here and then the cdr of this would point to another pair whose car was the next thing in the sequence,</span><span s="541" t="and the cdr would point to another pair whose car was the next thing in the sequence-- so there&apos;s 3-- and then another one. So for each item in the sequence, I&apos;ll get a pair."><code onclick="Z(this)">0:09:01</code>and the cdr would point to another pair whose car was the next thing in the sequence-- so there's 3-- and then another one. So for each item in the sequence, I'll get a pair.</span><span s="555" t="And now there are no more, so I put a special marker that means there&apos;s nothing more in the List. OK, so that&apos;s a"><code onclick="Z(this)">0:09:15</code>And now there are no more, so I put a special marker that means there's nothing more in the List. OK, so that's a</span><span s="568" t="conventional way to glue things together if you want to represent a sequence, right. And what it is is a bunch of pairs, the successive cars of"><code onclick="Z(this)">0:09:28</code>conventional way to glue things together if you want to represent a sequence, right. And what it is is a bunch of pairs, the successive cars of</span><span s="582" t="each pair are the items that you want to glue together, and the cdr pointer points to the next pair. Now if I actually wanted to construct that, what I would"><code onclick="Z(this)">0:09:42</code>each pair are the items that you want to glue together, and the cdr pointer points to the next pair. Now if I actually wanted to construct that, what I would</span><span s="592" t="type into List is this: I&apos;d actually construct that as saying, well this thing is the cons of 1 onto the cons of 2"><code onclick="Z(this)">0:09:52</code>type into List is this: I'd actually construct that as saying, well this thing is the cons of 1 onto the cons of 2</span><span s="607" t="onto the cons of 3 onto the cons of 4 onto, well, this thing nil. And what nil is is a name for the end of List marker."><code onclick="Z(this)">0:10:07</code>onto the cons of 3 onto the cons of 4 onto, well, this thing nil. And what nil is is a name for the end of List marker.</span><span s="621" t="It&apos;s a special name, which means this is the end of the List. OK, so that&apos;s how I would actually construct that."><code onclick="Z(this)">0:10:21</code>It's a special name, which means this is the end of the List. OK, so that's how I would actually construct that.</span><span s="637" t="Of course, it&apos;s a terrible drag to constantly have to write something like the cons of 1 onto the cons of 2 onto the cons of 3, whenever you want to make this thing. So List has an operation that&apos;s called List, and List"><code onclick="Z(this)">0:10:37</code>Of course, it's a terrible drag to constantly have to write something like the cons of 1 onto the cons of 2 onto the cons of 3, whenever you want to make this thing. So List has an operation that's called List, and List</span><span s="654" t="is just an abbreviation for this nest of conses. So I could say, I could construct that by saying that is the List of 1, 2, 3 and 4."><code onclick="Z(this)">0:10:54</code>is just an abbreviation for this nest of conses. So I could say, I could construct that by saying that is the List of 1, 2, 3 and 4.</span><span s="668" t="And all this is is another way, a piece of syntactic sugar, a more convenient way for writing that chain of conses-- cons of cons of cons of cons of cons of cons onto nil."><code onclick="Z(this)">0:11:08</code>And all this is is another way, a piece of syntactic sugar, a more convenient way for writing that chain of conses-- cons of cons of cons of cons of cons of cons onto nil.</span><span s="678" t="So for example, I could build this thing and say, I&apos;ll define 1-TO-4 to be the List of 1, 2, 3 and 4."><code onclick="Z(this)">0:11:18</code>So for example, I could build this thing and say, I'll define 1-TO-4 to be the List of 1, 2, 3 and 4.</span><span s="708" t="OK, well notice some of the consequences of using this convention. First of all if I have this List, this 1, 2, 3 and 4, the"><code onclick="Z(this)">0:11:48</code>OK, well notice some of the consequences of using this convention. First of all if I have this List, this 1, 2, 3 and 4, the</span><span s="717" t="car of the whole thing is the first element in the List, right. How do I get 2? Well, 2 would be the car of the cdr of this thing 1-TO-4,"><code onclick="Z(this)">0:11:57</code>car of the whole thing is the first element in the List, right. How do I get 2? Well, 2 would be the car of the cdr of this thing 1-TO-4,</span><span s="741" t="it would be 2, right. I take this thing, I take the cdr of it, which is this much,"><code onclick="Z(this)">0:12:21</code>it would be 2, right. I take this thing, I take the cdr of it, which is this much,</span><span s="750" t="and the car of that is 2, and then similarly, the car of the cdr of the cdr of 1-TO-4, cdr, cdr, car--"><code onclick="Z(this)">0:12:30</code>and the car of that is 2, and then similarly, the car of the cdr of the cdr of 1-TO-4, cdr, cdr, car--</span><span s="768" t="would give me 3, and so on. Let&apos;s take a look at that on the computer screen for a second."><code onclick="Z(this)">0:12:48</code>would give me 3, and so on. Let's take a look at that on the computer screen for a second.</span><span s="777" t="I could come up to List, and I could type define 1-TO-4 to be"><code onclick="Z(this)">0:12:57</code>I could come up to List, and I could type define 1-TO-4 to be</span><span s="787" t="the List of 1, 2, 3 and 4, right. And I&apos;ll tell that to List, and it says, fine, that&apos;s the"><code onclick="Z(this)">0:13:07</code>the List of 1, 2, 3 and 4, right. And I'll tell that to List, and it says, fine, that's the</span><span s="799" t="definition of 1-TO-4. And I could say, for instance, what&apos;s the car of the cdr of"><code onclick="Z(this)">0:13:19</code>definition of 1-TO-4. And I could say, for instance, what's the car of the cdr of</span><span s="808" t="the cdr of 1-TO-4, close paren, close paren."><code onclick="Z(this)">0:13:28</code>the cdr of 1-TO-4, close paren, close paren.</span><span s="818" t="Right, so the car of the cdr of the cdr would be 3. Right, or I could say, what&apos;s 1-TO-4 itself."><code onclick="Z(this)">0:13:38</code>Right, so the car of the cdr of the cdr would be 3. Right, or I could say, what's 1-TO-4 itself.</span><span s="831" t="And you see what List typed out is 1, 2, 3, 4, enclosed in parentheses, and this notation, typing the elements of the List enclosed in parentheses is List&apos;s"><code onclick="Z(this)">0:13:51</code>And you see what List typed out is 1, 2, 3, 4, enclosed in parentheses, and this notation, typing the elements of the List enclosed in parentheses is List's</span><span s="842" t="conventional way for printing back this chain of pairs that represents a sequence. So for example, if I said, what&apos;s the cdr of 1-TO-4,"><code onclick="Z(this)">0:14:02</code>conventional way for printing back this chain of pairs that represents a sequence. So for example, if I said, what's the cdr of 1-TO-4,</span><span s="859" t="that&apos;s going to be the rest of the List. That&apos;s the thing pointed to by the first pair, which is, again, a sequence that starts off with 2."><code onclick="Z(this)">0:14:19</code>that's going to be the rest of the List. That's the thing pointed to by the first pair, which is, again, a sequence that starts off with 2.</span><span s="868" t="Or for example, I go off and say, what&apos;s the cdr of the cdr of 1-TO-4; then that&apos;s 3,4."><code onclick="Z(this)">0:14:28</code>Or for example, I go off and say, what's the cdr of the cdr of 1-TO-4; then that's 3,4.</span><span s="884" t="Or if I say, what&apos;s the cdr of the cdr of the cdr of the cdr"><code onclick="Z(this)">0:14:44</code>Or if I say, what's the cdr of the cdr of the cdr of the cdr</span><span s="898" t="of 1-TO-4, and I&apos;m down there looking at the end of List"><code onclick="Z(this)">0:14:58</code>of 1-TO-4, and I'm down there looking at the end of List</span><span s="907" t="pointer itself, and List prints that as just open paren, close paren. You can think of that as a List with nothing in there. All right, see at the end what I did there was I looked at"><code onclick="Z(this)">0:15:07</code>pointer itself, and List prints that as just open paren, close paren. You can think of that as a List with nothing in there. All right, see at the end what I did there was I looked at</span><span s="916" t="the cdr of the cdr of the cdr of 1-TO-4, and I&apos;m just left with the end of List pointer itself. And that gets printed as open close."><code onclick="Z(this)">0:15:16</code>the cdr of the cdr of the cdr of 1-TO-4, and I'm just left with the end of List pointer itself. And that gets printed as open close.</span><span s="934" t="All right, well that&apos;s a conventional way you can see for working down a List by taking successive cdrs of things."><code onclick="Z(this)">0:15:34</code>All right, well that's a conventional way you can see for working down a List by taking successive cdrs of things.</span><span s="943" t="It&apos;s called cdring down a List. And of course it&apos;s pretty much of a drag to type all those cdrs by hand. You don&apos;t do that. You write procedures that do that."><code onclick="Z(this)">0:15:43</code>It's called cdring down a List. And of course it's pretty much of a drag to type all those cdrs by hand. You don't do that. You write procedures that do that.</span><span s="953" t="And in fact one very, very common thing to do in List is to write procedures that, sort of, take a List of things and"><code onclick="Z(this)">0:15:53</code>And in fact one very, very common thing to do in List is to write procedures that, sort of, take a List of things and</span><span s="962" t="do something to every element in List, and return you a List of the results. So what I mean for example, is I might write a procedure called Scale-List, and Scale-List I might say I want"><code onclick="Z(this)">0:16:02</code>do something to every element in List, and return you a List of the results. So what I mean for example, is I might write a procedure called Scale-List, and Scale-List I might say I want</span><span s="978" t="to scale by 10 the entire List 1-TO-4, and that would return"><code onclick="Z(this)">0:16:18</code>to scale by 10 the entire List 1-TO-4, and that would return</span><span s="987" t="for me the List 10, 20, 30, 40."><code onclick="Z(this)">0:16:27</code>for me the List 10, 20, 30, 40.</span><span s="996" t="[UNINTELLIGIBLE PHRASE] Right, it returns List, and well you can see that there&apos;s"><code onclick="Z(this)">0:16:36</code>[UNINTELLIGIBLE PHRASE] Right, it returns List, and well you can see that there's</span><span s="1006" t="going to be some kind of recursive strategy for doing it. How would I actually write that procedure? The idea would be, well if you&apos;d like to build up a List"><code onclick="Z(this)">0:16:46</code>going to be some kind of recursive strategy for doing it. How would I actually write that procedure? The idea would be, well if you'd like to build up a List</span><span s="1016" t="where you&apos;ve multiplied every element by 10, what you&apos;d say is well you imagine that you&apos;d taken the rest of the List--"><code onclick="Z(this)">0:16:56</code>where you've multiplied every element by 10, what you'd say is well you imagine that you'd taken the rest of the List--</span><span s="1026" t="right, the thing represented by the cdr of the List, and suppose I&apos;d already built a List where each of these was multiplied by 10--"><code onclick="Z(this)">0:17:06</code>right, the thing represented by the cdr of the List, and suppose I'd already built a List where each of these was multiplied by 10--</span><span s="1036" t="that would be Scale-List of the cdr of the List. And then all I have to do is multiply the car of the List by 10, and"><code onclick="Z(this)">0:17:16</code>that would be Scale-List of the cdr of the List. And then all I have to do is multiply the car of the List by 10, and</span><span s="1045" t="then cons that onto the rest, and I&apos;ll get a List. Right and then similarly, to have scaled the cdr of the List, I&apos;ll scale the cdr of that and cons onto that 2"><code onclick="Z(this)">0:17:25</code>then cons that onto the rest, and I'll get a List. Right and then similarly, to have scaled the cdr of the List, I'll scale the cdr of that and cons onto that 2</span><span s="1055" t="multiplied by 10. And finally when I get all the way down to the end, and I only have this end of List pointer. All right, this thing whose name is nil-- well I just returned an end of List pointer."><code onclick="Z(this)">0:17:35</code>multiplied by 10. And finally when I get all the way down to the end, and I only have this end of List pointer. All right, this thing whose name is nil-- well I just returned an end of List pointer.</span><span s="1065" t="So there&apos;s a recursive strategy for doing that. Here&apos;s the actual procedure that does that. Right, this is an example of the general strategy of cdr-ing down a List and so called cons-ing"><code onclick="Z(this)">0:17:45</code>So there's a recursive strategy for doing that. Here's the actual procedure that does that. Right, this is an example of the general strategy of cdr-ing down a List and so called cons-ing</span><span s="1076" t="up the result, right. So to Scale a List l by some scale factor s, what do I do?"><code onclick="Z(this)">0:17:56</code>up the result, right. So to Scale a List l by some scale factor s, what do I do?</span><span s="1086" t="Well there&apos;s a test, and List has the predicate called null. Null means is this thing the end of List pointer, or another way to think of that is are there any elements in"><code onclick="Z(this)">0:18:06</code>Well there's a test, and List has the predicate called null. Null means is this thing the end of List pointer, or another way to think of that is are there any elements in</span><span s="1096" t="this List, right. But in any case if I&apos;m looking at the end of List pointer, then I just return the end of List pointer. I just return nil, otherwise I cons together the result of"><code onclick="Z(this)">0:18:16</code>this List, right. But in any case if I'm looking at the end of List pointer, then I just return the end of List pointer. I just return nil, otherwise I cons together the result of</span><span s="1112" t="doing what I&apos;m going to do to the first element in the List, namely taking the car of l and multiplying it by s, and I cons that onto recursively scaling the rest of the List."><code onclick="Z(this)">0:18:32</code>doing what I'm going to do to the first element in the List, namely taking the car of l and multiplying it by s, and I cons that onto recursively scaling the rest of the List.</span><span s="1130" t="OK, so again, the general idea is that you recursively do something to the rest of the List, to the cdr of the List, and then you cons that onto actually doing something to"><code onclick="Z(this)">0:18:50</code>OK, so again, the general idea is that you recursively do something to the rest of the List, to the cdr of the List, and then you cons that onto actually doing something to</span><span s="1139" t="the first element of the List. When you get down to the end here, you return the end of List pointer, and that&apos;s a general pattern for doing something to a List. Well of"><code onclick="Z(this)">0:18:59</code>the first element of the List. When you get down to the end here, you return the end of List pointer, and that's a general pattern for doing something to a List. Well of</span><span s="1156" t="course you should know by now that the very fact that there&apos;s a general pattern there means I shouldn&apos;t be writing this procedure at all. What I should do is write a procedure that&apos;s the general"><code onclick="Z(this)">0:19:16</code>course you should know by now that the very fact that there's a general pattern there means I shouldn't be writing this procedure at all. What I should do is write a procedure that's the general</span><span s="1165" t="pattern itself that says, do something to everything in the List and define this thing in terms of that. Right, make some higher order procedure, and here&apos;s the higher order procedure that does that."><code onclick="Z(this)">0:19:25</code>pattern itself that says, do something to everything in the List and define this thing in terms of that. Right, make some higher order procedure, and here's the higher order procedure that does that.</span><span s="1174" t="It&apos;s called MAP, and what MAP does is it takes a List, takes a List l, and it takes a procedure p, and it returns"><code onclick="Z(this)">0:19:34</code>It's called MAP, and what MAP does is it takes a List, takes a List l, and it takes a procedure p, and it returns</span><span s="1185" t="the List of the elements gotten by applying p to each successive element in the List. All right, so p to v1, p to v2, p of en."><code onclick="Z(this)">0:19:45</code>the List of the elements gotten by applying p to each successive element in the List. All right, so p to v1, p to v2, p of en.</span><span s="1196" t="Right, so I think of taking this List and transforming it by applying p to each element. And you see all this procedure is is exactly the general"><code onclick="Z(this)">0:19:56</code>Right, so I think of taking this List and transforming it by applying p to each element. And you see all this procedure is is exactly the general</span><span s="1206" t="strategy I said. Instead of multiply by 10, it&apos;s do the procedure. If the List is empty, return nil. Otherwise, apply p to the first element of the List."><code onclick="Z(this)">0:20:06</code>strategy I said. Instead of multiply by 10, it's do the procedure. If the List is empty, return nil. Otherwise, apply p to the first element of the List.</span><span s="1217" t="Right, apply p to car of l, and cons that onto the result of applying p to everything in the cdr of the List, so that&apos;s"><code onclick="Z(this)">0:20:17</code>Right, apply p to car of l, and cons that onto the result of applying p to everything in the cdr of the List, so that's</span><span s="1226" t="a general procedure called MAP. And I could define Scale-List in terms of MAP."><code onclick="Z(this)">0:20:26</code>a general procedure called MAP. And I could define Scale-List in terms of MAP.</span><span s="1239" t="Let me show you that first. But I could say Scale-List is another way to define it is just MAP along the List by the procedure, which takes an item"><code onclick="Z(this)">0:20:39</code>Let me show you that first. But I could say Scale-List is another way to define it is just MAP along the List by the procedure, which takes an item</span><span s="1253" t="and multiplies it by s. Right, so this is really the way I should think about scaling the List, build that actual recursion into the"><code onclick="Z(this)">0:20:53</code>and multiplies it by s. Right, so this is really the way I should think about scaling the List, build that actual recursion into the</span><span s="1264" t="general strategy, not to every particular procedure I write. And of course, one of the values of doing this is that you start to see commonality. Right, again you&apos;re capturing general patterns of usage."><code onclick="Z(this)">0:21:04</code>general strategy, not to every particular procedure I write. And of course, one of the values of doing this is that you start to see commonality. Right, again you're capturing general patterns of usage.</span><span s="1276" t="For instance, if I said MAP, the square procedure, down this List 1-TO-4, then I&apos;d end up with 1, 4, 9 and 16."><code onclick="Z(this)">0:21:16</code>For instance, if I said MAP, the square procedure, down this List 1-TO-4, then I'd end up with 1, 4, 9 and 16.</span><span s="1292" t="Right, or if I said MAP down this List, lambda of x plus"><code onclick="Z(this)">0:21:32</code>Right, or if I said MAP down this List, lambda of x plus</span><span s="1302" t="x10, if I MAP that down 1-TO-4, then I&apos;d get the List"><code onclick="Z(this)">0:21:42</code>x10, if I MAP that down 1-TO-4, then I'd get the List</span><span s="1311" t="where everything had 10 added to it: right, so I&apos;d get 11, 12, 13, 14."><code onclick="Z(this)">0:21:51</code>where everything had 10 added to it: right, so I'd get 11, 12, 13, 14.</span><span s="1320" t="And you can see that&apos;s going to be a very, very common idea: doing something to every element in the List. One thing you might think about is writing MAP in an"><code onclick="Z(this)">0:22:00</code>And you can see that's going to be a very, very common idea: doing something to every element in the List. One thing you might think about is writing MAP in an</span><span s="1331" t="iterative style. The one I wrote happens to evolve a recursive process, but we could just as easily have made one that evolves an iterative process. But see the interesting thing about it is that once you"><code onclick="Z(this)">0:22:11</code>iterative style. The one I wrote happens to evolve a recursive process, but we could just as easily have made one that evolves an iterative process. But see the interesting thing about it is that once you</span><span s="1341" t="start thinking in terms of MAP-- see, once you say scale is just MAP, you stop thinking about whether it&apos;s iterative or recursive, and you just say, well there&apos;s this aggregate, there&apos;s this List,"><code onclick="Z(this)">0:22:21</code>start thinking in terms of MAP-- see, once you say scale is just MAP, you stop thinking about whether it's iterative or recursive, and you just say, well there's this aggregate, there's this List,</span><span s="1352" t="and what I do is transform every item in the List, and I stop thinking about the particular control structure in order. That&apos;s a very, very important idea, and it, I guess it"><code onclick="Z(this)">0:22:32</code>and what I do is transform every item in the List, and I stop thinking about the particular control structure in order. That's a very, very important idea, and it, I guess it</span><span s="1365" t="really comes out of APL. It&apos;s, sort of, the really important idea in APL that you stop thinking about control structures, and you start thinking about operations on aggregates, and then about"><code onclick="Z(this)">0:22:45</code>really comes out of APL. It's, sort of, the really important idea in APL that you stop thinking about control structures, and you start thinking about operations on aggregates, and then about</span><span s="1375" t="halfway through this course, we&apos;ll see when we talk about something called stream processing, how that view of the world really comes into its glory. This is just us a, sort of, cute idea."><code onclick="Z(this)">0:22:55</code>halfway through this course, we'll see when we talk about something called stream processing, how that view of the world really comes into its glory. This is just us a, sort of, cute idea.</span><span s="1385" t="But we&apos;ll see much more applications of that later on. Well let me mention that there&apos;s something that&apos;s very similar to MAP that&apos;s also a useful idea, and that&apos;s--"><code onclick="Z(this)">0:23:05</code>But we'll see much more applications of that later on. Well let me mention that there's something that's very similar to MAP that's also a useful idea, and that's--</span><span s="1397" t="see, MAP says I take a List, I apply something to each item, and I return a List of the successive values."><code onclick="Z(this)">0:23:17</code>see, MAP says I take a List, I apply something to each item, and I return a List of the successive values.</span><span s="1406" t="There&apos;s another thing I might do, which is very, very similar, which is take a List and some action you want to do and then do it to each item in the List in sequence."><code onclick="Z(this)">0:23:26</code>There's another thing I might do, which is very, very similar, which is take a List and some action you want to do and then do it to each item in the List in sequence.</span><span s="1416" t="Don&apos;t make a List of the values, just do this particular action, and that&apos;s something that&apos;s very much like MAP."><code onclick="Z(this)">0:23:36</code>Don't make a List of the values, just do this particular action, and that's something that's very much like MAP.</span><span s="1425" t="It&apos;s called for-each, and for-each takes a procedure and a List, and what it&apos;s going to do is do something to every item in the List. So basically what it does: it says if the"><code onclick="Z(this)">0:23:45</code>It's called for-each, and for-each takes a procedure and a List, and what it's going to do is do something to every item in the List. So basically what it does: it says if the</span><span s="1436" t="List is not empty, right, if the List is not null, then what I do is, I apply my procedure to the first item in"><code onclick="Z(this)">0:23:56</code>List is not empty, right, if the List is not null, then what I do is, I apply my procedure to the first item in</span><span s="1445" t="the List, and then I do this thing to the rest of the List. I apply for-each to the cdr of the List."><code onclick="Z(this)">0:24:05</code>the List, and then I do this thing to the rest of the List. I apply for-each to the cdr of the List.</span><span s="1455" t="All right, so I do it to the first of the List, do it to the rest of the List, and of course, when I call it recursively, that&apos;s going to do it to the rest of the rest of the List and so on."><code onclick="Z(this)">0:24:15</code>All right, so I do it to the first of the List, do it to the rest of the List, and of course, when I call it recursively, that's going to do it to the rest of the rest of the List and so on.</span><span s="1464" t="And finally, when I get done, I have to just do something to say I&apos;m done, so we&apos;ll return the message &quot;done.&quot; So that&apos;s very, very similar to MAP. It&apos;s mostly different in what it returns."><code onclick="Z(this)">0:24:24</code>And finally, when I get done, I have to just do something to say I'm done, so we'll return the message "done." So that's very, very similar to MAP. It's mostly different in what it returns.</span><span s="1475" t="And so for example, if I had some procedure that printed things on the screen, if I wanted to print everything in the List, I could say for-each, print this List. Or"><code onclick="Z(this)">0:24:35</code>And so for example, if I had some procedure that printed things on the screen, if I wanted to print everything in the List, I could say for-each, print this List. Or</span><span s="1487" t="if I had a List of figures, and I wanted to draw them on the display, I could say for-each, display on the screen this figure."><code onclick="Z(this)">0:24:47</code>if I had a List of figures, and I wanted to draw them on the display, I could say for-each, display on the screen this figure.</span><span s="1497" t="Let&apos;s take questions. AUDIENCE: Does it create a new copy with something done to it, unless you explicitly tell it to do that?"><code onclick="Z(this)">0:24:57</code>Let's take questions. AUDIENCE: Does it create a new copy with something done to it, unless you explicitly tell it to do that?</span><span s="1506" t="Is that correct? PROFESSOR: Right. Yeah, that&apos;s right. For-each does not create a List. It just sort of does something."><code onclick="Z(this)">0:25:06</code>Is that correct? PROFESSOR: Right. Yeah, that's right. For-each does not create a List. It just sort of does something.</span><span s="1515" t="So if you have a bunch of things you want to do and you&apos;re not worried about values like printing something, or drawing something on the screen, or ringing the bell on the terminal, or for something,"><code onclick="Z(this)">0:25:15</code>So if you have a bunch of things you want to do and you're not worried about values like printing something, or drawing something on the screen, or ringing the bell on the terminal, or for something,</span><span s="1524" t="you can say for-each, you know, do this for-each of those things in the List, whereas MAP actually builds you this new collection of values that you might want to use. It&apos;s just a subtle difference between them."><code onclick="Z(this)">0:25:24</code>you can say for-each, you know, do this for-each of those things in the List, whereas MAP actually builds you this new collection of values that you might want to use. It's just a subtle difference between them.</span><span s="1534" t="AUDIENCE: Could you write MAP using for-each, so that you did some sort of cons or something to build the List back up? PROFESSOR: Well, sort of. I mean, I probably could."><code onclick="Z(this)">0:25:34</code>AUDIENCE: Could you write MAP using for-each, so that you did some sort of cons or something to build the List back up? PROFESSOR: Well, sort of. I mean, I probably could.</span><span s="1544" t="I can&apos;t think of how to do it right offhand, but yeah, I could arrange something. AUDIENCE: The vital difference between MAP and for-each is one is recursive and the other is not in the sense you"><code onclick="Z(this)">0:25:44</code>I can't think of how to do it right offhand, but yeah, I could arrange something. AUDIENCE: The vital difference between MAP and for-each is one is recursive and the other is not in the sense you</span><span s="1557" t="defined early yesterday, I believe. PROFESSOR: Yeah, about MAP and for-each and recursion. Yeah, that&apos;s a good point."><code onclick="Z(this)">0:25:57</code>defined early yesterday, I believe. PROFESSOR: Yeah, about MAP and for-each and recursion. Yeah, that's a good point.</span><span s="1569" t="For the MAP procedure I wrote, that happens to be a recursive process. And the reason for that is that when you&apos;ve done this thing to the rest of the List, you&apos;re waiting for that value"><code onclick="Z(this)">0:26:09</code>For the MAP procedure I wrote, that happens to be a recursive process. And the reason for that is that when you've done this thing to the rest of the List, you're waiting for that value</span><span s="1579" t="so that you can stick it on to the beginning of the List, whereas for-each doesn&apos;t really have any values to wait for. So that turns out to be an iterative process. That&apos;s not fundamental. I could have defined MAP so that it&apos;s evolved by an"><code onclick="Z(this)">0:26:19</code>so that you can stick it on to the beginning of the List, whereas for-each doesn't really have any values to wait for. So that turns out to be an iterative process. That's not fundamental. I could have defined MAP so that it's evolved by an</span><span s="1590" t="iterative process. I just didn&apos;t happen to. AUDIENCE: If you were to cons for each with a List that had embedded Lists, I imagine it would work, right?"><code onclick="Z(this)">0:26:30</code>iterative process. I just didn't happen to. AUDIENCE: If you were to cons for each with a List that had embedded Lists, I imagine it would work, right?</span><span s="1603" t="It would give you the internal elements of each of those internal Lists? PROFESSOR: OK, the question is if I [UNINTELLIGIBLE] for each or MAP, for that matter, with a List that had"><code onclick="Z(this)">0:26:43</code>It would give you the internal elements of each of those internal Lists? PROFESSOR: OK, the question is if I [UNINTELLIGIBLE] for each or MAP, for that matter, with a List that had</span><span s="1614" t="Lists in it-- although we haven&apos;t really looked at that yet-- would that work. The answer is yes in the sense I mean work and no in the"><code onclick="Z(this)">0:26:54</code>Lists in it-- although we haven't really looked at that yet-- would that work. The answer is yes in the sense I mean work and no in the</span><span s="1624" t="sense that you mean work, because all that-- see if I give you a List, where hanging off here is, you"><code onclick="Z(this)">0:27:04</code>sense that you mean work, because all that-- see if I give you a List, where hanging off here is, you</span><span s="1636" t="know, is something that&apos;s not a number, maybe another List or you know, another cons or something, for-each just says do something to each item in this List. It goes down"><code onclick="Z(this)">0:27:16</code>know, is something that's not a number, maybe another List or you know, another cons or something, for-each just says do something to each item in this List. It goes down</span><span s="1645" t="successively looking at the cdrs. AUDIENCE: OK. PROFESSOR: And as far as it&apos;s concerned, the first item in this List is whatever is hanging off here. AUDIENCE: Mhm. PROFESSOR: That might or might not be the right thing. AUDIENCE: So it wouldn&apos;t go down into the--"><code onclick="Z(this)">0:27:25</code>successively looking at the cdrs. AUDIENCE: OK. PROFESSOR: And as far as it's concerned, the first item in this List is whatever is hanging off here. AUDIENCE: Mhm. PROFESSOR: That might or might not be the right thing. AUDIENCE: So it wouldn't go down into the--</span><span s="1655" t="PROFESSOR: Absolutely not. I could certainly write something else. There&apos;s another, what you&apos;re looking for is a common pattern of usage called tree recursion, where you take a List, and you actually go all the way down to the what&apos;s"><code onclick="Z(this)">0:27:35</code>PROFESSOR: Absolutely not. I could certainly write something else. There's another, what you're looking for is a common pattern of usage called tree recursion, where you take a List, and you actually go all the way down to the what's</span><span s="1666" t="called the leaves of the tree. And you could write such a thing, but that&apos;s not for-each and it&apos;s not MAP. Remember, these things are really being very simple minded."><code onclick="Z(this)">0:27:46</code>called the leaves of the tree. And you could write such a thing, but that's not for-each and it's not MAP. Remember, these things are really being very simple minded.</span><span s="1675" t="OK, no more questions? All right, let&apos;s break. [MUSIC PLAYING]"><code onclick="Z(this)">0:27:55</code>OK, no more questions? All right, let's break. [MUSIC PLAYING]</span><span s="1722" t="PROFESSOR: What I&apos;d like to do now is spend the rest of this time talking about one example, and this example, I think, pretty much summarizes everything that we&apos;ve done up"><code onclick="Z(this)">0:28:42</code>PROFESSOR: What I'd like to do now is spend the rest of this time talking about one example, and this example, I think, pretty much summarizes everything that we've done up</span><span s="1733" t="until now: all right, and that&apos;s List structure and issues of abstraction, and representation and capturing"><code onclick="Z(this)">0:28:53</code>until now: all right, and that's List structure and issues of abstraction, and representation and capturing</span><span s="1742" t="commonality with higher order procedures, and also is going to introduce something we haven&apos;t really talked about a lot yet-- what I said is the major third theme in this"><code onclick="Z(this)">0:29:02</code>commonality with higher order procedures, and also is going to introduce something we haven't really talked about a lot yet-- what I said is the major third theme in this</span><span s="1753" t="course: meta-linguistic abstraction, which is the idea that one of the ways of tackling complexity in engineering design is to build a suitable powerful language."><code onclick="Z(this)">0:29:13</code>course: meta-linguistic abstraction, which is the idea that one of the ways of tackling complexity in engineering design is to build a suitable powerful language.</span><span s="1767" t="You might recall what I said was pretty much the very most important thing that we&apos;re going to tell you in this course is that when you think about a language, you think"><code onclick="Z(this)">0:29:27</code>You might recall what I said was pretty much the very most important thing that we're going to tell you in this course is that when you think about a language, you think</span><span s="1779" t="about it in terms of what are the primitives; what are the means of combination--"><code onclick="Z(this)">0:29:39</code>about it in terms of what are the primitives; what are the means of combination--</span><span s="1789" t="right, what are the things that allow you to build bigger things; and then what are the means of abstraction."><code onclick="Z(this)">0:29:49</code>right, what are the things that allow you to build bigger things; and then what are the means of abstraction.</span><span s="1801" t="How do you take those bigger things that you&apos;ve built and put black boxes around them and use them as elements in making something even more complicated?"><code onclick="Z(this)">0:30:01</code>How do you take those bigger things that you've built and put black boxes around them and use them as elements in making something even more complicated?</span><span s="1812" t="Now the particular language I&apos;m going to talk about is an example that was made up by a friend of ours"><code onclick="Z(this)">0:30:12</code>Now the particular language I'm going to talk about is an example that was made up by a friend of ours</span><span s="1821" t="called Peter Henderson. Peter Henderson is at the University of Stirling in Scotland."><code onclick="Z(this)">0:30:21</code>called Peter Henderson. Peter Henderson is at the University of Stirling in Scotland.</span><span s="1832" t="And what this language is about is making figures that sort of look like this."><code onclick="Z(this)">0:30:32</code>And what this language is about is making figures that sort of look like this.</span><span s="1842" t="This is this is a woodcut by Escher called &quot;Square Limit.&quot; You, sort of, see it has this complicated, kind of,"><code onclick="Z(this)">0:30:42</code>This is this is a woodcut by Escher called "Square Limit." You, sort of, see it has this complicated, kind of,</span><span s="1852" t="recursive, sort of, recursive kind of figure, where there&apos;s this fish pattern in the middle and things sort of"><code onclick="Z(this)">0:30:52</code>recursive, sort of, recursive kind of figure, where there's this fish pattern in the middle and things sort of</span><span s="1862" t="bleed out smaller and smaller in self similar ways. Anyway, Peter Henderson&apos;s language was for describing"><code onclick="Z(this)">0:31:02</code>bleed out smaller and smaller in self similar ways. Anyway, Peter Henderson's language was for describing</span><span s="1871" t="figures that look like that and designing new ones that look like that and drawing them on a display screen."><code onclick="Z(this)">0:31:11</code>figures that look like that and designing new ones that look like that and drawing them on a display screen.</span><span s="1880" t="There&apos;s another theme that we&apos;ll see illustrated by this example, and that&apos;s the issue of what Gerry and I have"><code onclick="Z(this)">0:31:20</code>There's another theme that we'll see illustrated by this example, and that's the issue of what Gerry and I have</span><span s="1891" t="already mentioned a lot: that there&apos;s no real difference, in some sense, between procedures and data. And anyway I hope by the end of this morning, if you&apos;re not"><code onclick="Z(this)">0:31:31</code>already mentioned a lot: that there's no real difference, in some sense, between procedures and data. And anyway I hope by the end of this morning, if you're not</span><span s="1901" t="already, you will be completely confused about what the difference between procedures and data are, if you&apos;re not confused about that already."><code onclick="Z(this)">0:31:41</code>already, you will be completely confused about what the difference between procedures and data are, if you're not confused about that already.</span><span s="1911" t="Well in any case, let&apos;s start describing Peter&apos;s language. I should start by telling you what the primitives are. This language is very simple because there&apos;s only one primitive."><code onclick="Z(this)">0:31:51</code>Well in any case, let's start describing Peter's language. I should start by telling you what the primitives are. This language is very simple because there's only one primitive.</span><span s="1923" t="A primitive is not quite what you think it is. There&apos;s only one primitive called a picture, and a picture is not quite what you think it is."><code onclick="Z(this)">0:32:03</code>A primitive is not quite what you think it is. There's only one primitive called a picture, and a picture is not quite what you think it is.</span><span s="1932" t="Here&apos;s an example. This is a picture of George. The idea is that a picture in this language is going to be"><code onclick="Z(this)">0:32:12</code>Here's an example. This is a picture of George. The idea is that a picture in this language is going to be</span><span s="1943" t="something that draws a figure scaled to fit a rectangle that you specify."><code onclick="Z(this)">0:32:23</code>something that draws a figure scaled to fit a rectangle that you specify.</span><span s="1953" t="So here you see in [? Saint ?] [? Lawrence&apos;s ?] outline of a rectangle, that&apos;s not really part of the picture, but the picture--"><code onclick="Z(this)">0:32:33</code>So here you see in [? Saint ?] [? Lawrence's ?] outline of a rectangle, that's not really part of the picture, but the picture--</span><span s="1963" t="you&apos;ll give it a rectangle, and it will draw this figure scaled to fit the rectangle. So for example, there&apos;s George, and here, this is also George."><code onclick="Z(this)">0:32:43</code>you'll give it a rectangle, and it will draw this figure scaled to fit the rectangle. So for example, there's George, and here, this is also George.</span><span s="1972" t="It&apos;s the same picture, right, just scaled to fit a different rectangle. Here&apos;s George as a fat kid."><code onclick="Z(this)">0:32:52</code>It's the same picture, right, just scaled to fit a different rectangle. Here's George as a fat kid.</span><span s="1982" t="That&apos;s the same George. It&apos;s all the same figure. All of these three things are the same picture in this language. I&apos;m just giving it different rectangles to scale itself in."><code onclick="Z(this)">0:33:02</code>That's the same George. It's all the same figure. All of these three things are the same picture in this language. I'm just giving it different rectangles to scale itself in.</span><span s="1996" t="OK, those are the primitives. That is the primitive. Now let&apos;s start talking about the means of combination and the operations."><code onclick="Z(this)">0:33:16</code>OK, those are the primitives. That is the primitive. Now let's start talking about the means of combination and the operations.</span><span s="2005" t="There is, for example, an operation called Rotate. And what Rotate does is, if I have a picture, say a picture"><code onclick="Z(this)">0:33:25</code>There is, for example, an operation called Rotate. And what Rotate does is, if I have a picture, say a picture</span><span s="2015" t="that draws an &quot;A&quot; in some rectangle that I give it, the Rotate of that-- say the Rotate by 90 degrees would, if I give it a"><code onclick="Z(this)">0:33:35</code>that draws an "A" in some rectangle that I give it, the Rotate of that-- say the Rotate by 90 degrees would, if I give it a</span><span s="2027" t="rectangle, draw the same image, but again, scaled to fit that rectangle."><code onclick="Z(this)">0:33:47</code>rectangle, draw the same image, but again, scaled to fit that rectangle.</span><span s="2036" t="So that&apos;s Rotate by 90 degrees. There&apos;s another operation called Flip that can flip something, either horizontally or vertically. All right, so those are, sort of, operations, or you can"><code onclick="Z(this)">0:33:56</code>So that's Rotate by 90 degrees. There's another operation called Flip that can flip something, either horizontally or vertically. All right, so those are, sort of, operations, or you can</span><span s="2046" t="think of those as means of combination of one element. I can put things together. There&apos;s a means of combination called Beside, and what Beside"><code onclick="Z(this)">0:34:06</code>think of those as means of combination of one element. I can put things together. There's a means of combination called Beside, and what Beside</span><span s="2057" t="does: it&apos;ll take two pictures, let&apos;s say A and B--"><code onclick="Z(this)">0:34:17</code>does: it'll take two pictures, let's say A and B--</span><span s="2069" t="and by picture I mean something that&apos;s going to draw an image in a specified rectangle-- and what Beside will do--"><code onclick="Z(this)">0:34:29</code>and by picture I mean something that's going to draw an image in a specified rectangle-- and what Beside will do--</span><span s="2078" t="I have to say, Beside of A and B, the side of two pictures and some number, s. And s will be a number between zero and one."><code onclick="Z(this)">0:34:38</code>I have to say, Beside of A and B, the side of two pictures and some number, s. And s will be a number between zero and one.</span><span s="2090" t="And Beside will draw a picture that looks like this. It will take the rectangle you give it and scale its base by s. Say s is 0.5."><code onclick="Z(this)">0:34:50</code>And Beside will draw a picture that looks like this. It will take the rectangle you give it and scale its base by s. Say s is 0.5.</span><span s="2100" t="And then over here it will draw-- it&apos;ll put the first picture, and over here it&apos;ll put the"><code onclick="Z(this)">0:35:00</code>And then over here it will draw-- it'll put the first picture, and over here it'll put the</span><span s="2112" t="second picture. Or for instance if I gave it a different value of s, if I said Beside with a 0.25, it would do the same thing,"><code onclick="Z(this)">0:35:12</code>second picture. Or for instance if I gave it a different value of s, if I said Beside with a 0.25, it would do the same thing,</span><span s="2127" t="except the A would be much skinnier. So it would draw something like that."><code onclick="Z(this)">0:35:27</code>except the A would be much skinnier. So it would draw something like that.</span><span s="2138" t="So there&apos;s a means of combination Beside, and similarly there&apos;s an Above, which does the same thing except it puts them vertically instead of horizontally."><code onclick="Z(this)">0:35:38</code>So there's a means of combination Beside, and similarly there's an Above, which does the same thing except it puts them vertically instead of horizontally.</span><span s="2147" t="Well let&apos;s look at that. All right, there&apos;s George and his kid brother, which is,"><code onclick="Z(this)">0:35:47</code>Well let's look at that. All right, there's George and his kid brother, which is,</span><span s="2158" t="right, constructed by taking George and putting him Beside"><code onclick="Z(this)">0:35:58</code>right, constructed by taking George and putting him Beside</span><span s="2170" t="the Above-- taking the empty picture, and there&apos;s a thing called the empty picture, which does the obvious thing-- putting the empty picture above a copy of George, and"><code onclick="Z(this)">0:36:10</code>the Above-- taking the empty picture, and there's a thing called the empty picture, which does the obvious thing-- putting the empty picture above a copy of George, and</span><span s="2179" t="then putting that whole thing Beside George."><code onclick="Z(this)">0:36:19</code>then putting that whole thing Beside George.</span><span s="2188" t="Here&apos;s something called P which is, again, George Beside"><code onclick="Z(this)">0:36:28</code>Here's something called P which is, again, George Beside</span><span s="2198" t="Flipping George, I think, horizontally in this case, and then Rotating the whole result 180 degrees and putting them Beside one another with the basic rectangle divided at"><code onclick="Z(this)">0:36:38</code>Flipping George, I think, horizontally in this case, and then Rotating the whole result 180 degrees and putting them Beside one another with the basic rectangle divided at</span><span s="2210" t="0.5, right, and I can call that P. And then I can take P,"><code onclick="Z(this)">0:36:50</code>0.5, right, and I can call that P. And then I can take P,</span><span s="2219" t="and put it above the Flipped copy of itself, and I can call that Q."><code onclick="Z(this)">0:36:59</code>and put it above the Flipped copy of itself, and I can call that Q.</span><span s="2229" t="Notice how rapidly that we&apos;ve built up complexity, just in, you know, 15 seconds, you&apos;ve gotten from George to that"><code onclick="Z(this)">0:37:09</code>Notice how rapidly that we've built up complexity, just in, you know, 15 seconds, you've gotten from George to that</span><span s="2238" t="thing Q. Why is that? How are how we able to do that so fast? The answer is the closure property."><code onclick="Z(this)">0:37:18</code>thing Q. Why is that? How are how we able to do that so fast? The answer is the closure property.</span><span s="2248" t="See, it&apos;s the fact that when I take a picture and put it Beside another picture, that&apos;s then, again, a picture that I can go and Rotate and Flip or put Above something else."><code onclick="Z(this)">0:37:28</code>See, it's the fact that when I take a picture and put it Beside another picture, that's then, again, a picture that I can go and Rotate and Flip or put Above something else.</span><span s="2259" t="Right, and when I take that element P, which is the Beside or the Flip or the Rotate of something, that&apos;s, again, a picture. Right, the world of pictures is closed under those means of"><code onclick="Z(this)">0:37:39</code>Right, and when I take that element P, which is the Beside or the Flip or the Rotate of something, that's, again, a picture. Right, the world of pictures is closed under those means of</span><span s="2269" t="combination. So whenever I have something, I can turn right around and use that as an element in something else. So maybe better than List and segments, that just gives you"><code onclick="Z(this)">0:37:49</code>combination. So whenever I have something, I can turn right around and use that as an element in something else. So maybe better than List and segments, that just gives you</span><span s="2279" t="an image for how fast you can build up complexity, because operations are closed. OK, well before we go on with building more things, let&apos;s"><code onclick="Z(this)">0:37:59</code>an image for how fast you can build up complexity, because operations are closed. OK, well before we go on with building more things, let's</span><span s="2292" t="talk about how this language is actually implemented. The basic element that sits under the table here is a"><code onclick="Z(this)">0:38:12</code>talk about how this language is actually implemented. The basic element that sits under the table here is a</span><span s="2303" t="thing called a rectangle, and what a rectangle is going to be, it&apos;s a thing that specified by an origin that&apos;s"><code onclick="Z(this)">0:38:23</code>thing called a rectangle, and what a rectangle is going to be, it's a thing that specified by an origin that's</span><span s="2316" t="going to be some vector that says where the rectangle starts. And then there&apos;s going to be some other vector that I&apos;m going to call the horizontal part of the rectangle, and"><code onclick="Z(this)">0:38:36</code>going to be some vector that says where the rectangle starts. And then there's going to be some other vector that I'm going to call the horizontal part of the rectangle, and</span><span s="2329" t="another picture called the vertical part of the rectangle."><code onclick="Z(this)">0:38:49</code>another picture called the vertical part of the rectangle.</span><span s="2340" t="And those three pieces are the elements: where the lower vertex is, how you get to the next vertex over here, and how you get to the vertex over there."><code onclick="Z(this)">0:39:00</code>And those three pieces are the elements: where the lower vertex is, how you get to the next vertex over here, and how you get to the vertex over there.</span><span s="2349" t="The three vectors specify a rectangle. Now to actually build rectangles, what I&apos;ll assume"><code onclick="Z(this)">0:39:09</code>The three vectors specify a rectangle. Now to actually build rectangles, what I'll assume</span><span s="2358" t="is that we have a constructor called &quot;make rectangle,&quot; or &quot;make-rect,&quot; and selectors for horiz and vert and origin that"><code onclick="Z(this)">0:39:18</code>is that we have a constructor called "make rectangle," or "make-rect," and selectors for horiz and vert and origin that</span><span s="2377" t="get out the pieces of that rectangle. And well, you know a lot of ways you can do this now. You can do it by using pairs in some way or other standard"><code onclick="Z(this)">0:39:37</code>get out the pieces of that rectangle. And well, you know a lot of ways you can do this now. You can do it by using pairs in some way or other standard</span><span s="2387" t="List or not. But in any case, the implementation of these things, that&apos;s George&apos;s problem. It&apos;s just a data representation problem. So let&apos;s assume we have these rectangles to work with."><code onclick="Z(this)">0:39:47</code>List or not. But in any case, the implementation of these things, that's George's problem. It's just a data representation problem. So let's assume we have these rectangles to work with.</span><span s="2398" t="OK. Now the idea of this, remember what&apos;s got to happen. Somehow we have to worry about taking the figure and scaling"><code onclick="Z(this)">0:39:58</code>OK. Now the idea of this, remember what's got to happen. Somehow we have to worry about taking the figure and scaling</span><span s="2410" t="it to fit some rectangle that you give it, that&apos;s the basic thing you have to arrange, that these pictures can do."><code onclick="Z(this)">0:40:10</code>it to fit some rectangle that you give it, that's the basic thing you have to arrange, that these pictures can do.</span><span s="2422" t="How do we think about that? Well, one way to think about that is that any time I give you a rectangle, that defines, in some sense, a"><code onclick="Z(this)">0:40:22</code>How do we think about that? Well, one way to think about that is that any time I give you a rectangle, that defines, in some sense, a</span><span s="2440" t="transformation from the standard square into that rectangle. Let me say what I mean. By the standard square, I&apos;ll mean something, which is a"><code onclick="Z(this)">0:40:40</code>transformation from the standard square into that rectangle. Let me say what I mean. By the standard square, I'll mean something, which is a</span><span s="2449" t="square whose coordinates are 0,0, and 1,0, and 0,1 and 1,1."><code onclick="Z(this)">0:40:49</code>square whose coordinates are 0,0, and 1,0, and 0,1 and 1,1.</span><span s="2461" t="And there&apos;s some sort of the obvious scaling transformation, which maps this to that and this to that,"><code onclick="Z(this)">0:41:01</code>And there's some sort of the obvious scaling transformation, which maps this to that and this to that,</span><span s="2470" t="and sort of, stretches everything uniformly. So we take a line segment like this and end up mapping it to"><code onclick="Z(this)">0:41:10</code>and sort of, stretches everything uniformly. So we take a line segment like this and end up mapping it to</span><span s="2482" t="a line segment like that, so some point xy goes to some"><code onclick="Z(this)">0:41:22</code>a line segment like that, so some point xy goes to some</span><span s="2491" t="other point up there. And although it&apos;s not important, with a little vector algebra, you could write that formula. The thing that xy goes to, the point that xy goes to is"><code onclick="Z(this)">0:41:31</code>other point up there. And although it's not important, with a little vector algebra, you could write that formula. The thing that xy goes to, the point that xy goes to is</span><span s="2503" t="gotten by taking the origin of the rectangle and then adding that as a vector to-- well, take x, the x coordinate, which is something"><code onclick="Z(this)">0:41:43</code>gotten by taking the origin of the rectangle and then adding that as a vector to-- well, take x, the x coordinate, which is something</span><span s="2514" t="between zero and one, multiply that by the horizontal vector of the rectangle; and take the y coordinate, which is also"><code onclick="Z(this)">0:41:54</code>between zero and one, multiply that by the horizontal vector of the rectangle; and take the y coordinate, which is also</span><span s="2529" t="something between zero and one and multiply that by the vertical vector of the rectangle. That&apos;s just a little linear algebra."><code onclick="Z(this)">0:42:09</code>something between zero and one and multiply that by the vertical vector of the rectangle. That's just a little linear algebra.</span><span s="2539" t="Anyway, that&apos;s the formula, which is the right obvious transformation that takes things into the unit square, into the interior of that rectangle."><code onclick="Z(this)">0:42:19</code>Anyway, that's the formula, which is the right obvious transformation that takes things into the unit square, into the interior of that rectangle.</span><span s="2551" t="OK well, let&apos;s actually look at that as a procedure. So what we want is the thing which tells us that particular transformation that a rectangle defines."><code onclick="Z(this)">0:42:31</code>OK well, let's actually look at that as a procedure. So what we want is the thing which tells us that particular transformation that a rectangle defines.</span><span s="2564" t="So here&apos;s the procedure. I&apos;ll call it coordinate-map. Coordinate-map is the thing that takes as its argument a rectangle and returns for you a procedure on points."><code onclick="Z(this)">0:42:44</code>So here's the procedure. I'll call it coordinate-map. Coordinate-map is the thing that takes as its argument a rectangle and returns for you a procedure on points.</span><span s="2580" t="Right, so for each rectangle you get a way of transforming a point xy into that rectangle. And how do you get it? Well I just-- writing in List what I wrote there on the blackboard--"><code onclick="Z(this)">0:43:00</code>Right, so for each rectangle you get a way of transforming a point xy into that rectangle. And how do you get it? Well I just-- writing in List what I wrote there on the blackboard--</span><span s="2590" t="I add to the origin of the rectangle the result of adding--"><code onclick="Z(this)">0:43:10</code>I add to the origin of the rectangle the result of adding--</span><span s="2600" t="I take the horizontal part of the rectangle; I scale that by the x coordinate of the point."><code onclick="Z(this)">0:43:20</code>I take the horizontal part of the rectangle; I scale that by the x coordinate of the point.</span><span s="2609" t="I take the vertical vector of the rectangle. I scale that by the y coordinate of the point, and then add all those three things up."><code onclick="Z(this)">0:43:29</code>I take the vertical vector of the rectangle. I scale that by the y coordinate of the point, and then add all those three things up.</span><span s="2620" t="That&apos;s the procedure. That is the procedure that I&apos;m going to apply to a point. And this whole thing is generated for each rectangle."><code onclick="Z(this)">0:43:40</code>That's the procedure. That is the procedure that I'm going to apply to a point. And this whole thing is generated for each rectangle.</span><span s="2633" t="So any rectangle defines a coordinate MAP, which is a procedure on points. OK."><code onclick="Z(this)">0:43:53</code>So any rectangle defines a coordinate MAP, which is a procedure on points. OK.</span><span s="2646" t="All right, so for example, George here, my original George, might have been something that I specified by segments in the unit square, and then for each rectangle I"><code onclick="Z(this)">0:44:06</code>All right, so for example, George here, my original George, might have been something that I specified by segments in the unit square, and then for each rectangle I</span><span s="2660" t="give this thing, I&apos;m going to draw those segments inside that rectangle. How actually do I do that?"><code onclick="Z(this)">0:44:20</code>give this thing, I'm going to draw those segments inside that rectangle. How actually do I do that?</span><span s="2670" t="Well I take each segment in my original reference George that was specified, and to each of the end points of those"><code onclick="Z(this)">0:44:30</code>Well I take each segment in my original reference George that was specified, and to each of the end points of those</span><span s="2680" t="segments, I applied the coordinate MAP of the particular rectangle I want to draw it in. So for example, this lower rectangle, this George as a fat kid rectangle, has its coordinate MAP."><code onclick="Z(this)">0:44:40</code>segments, I applied the coordinate MAP of the particular rectangle I want to draw it in. So for example, this lower rectangle, this George as a fat kid rectangle, has its coordinate MAP.</span><span s="2691" t="And if I want to draw this image, what I do is for each segment here, say for this segment, I transformed that"><code onclick="Z(this)">0:44:51</code>And if I want to draw this image, what I do is for each segment here, say for this segment, I transformed that</span><span s="2701" t="point by the coordinate MAP, transform that point by the coordinate MAP. That will give me this point and that point and draw the segment between them."><code onclick="Z(this)">0:45:01</code>point by the coordinate MAP, transform that point by the coordinate MAP. That will give me this point and that point and draw the segment between them.</span><span s="2710" t="Right, that&apos;s the idea. Right, and if I give it a different rectangle like this one, that&apos;s a different coordinate MAP, so I get a different image of those line segments."><code onclick="Z(this)">0:45:10</code>Right, that's the idea. Right, and if I give it a different rectangle like this one, that's a different coordinate MAP, so I get a different image of those line segments.</span><span s="2719" t="Well how do we actually get a picture to start with? I can build a picture to start with out of a List of line segments initially. Here&apos;s a procedure that builds what I&apos;ll call a primitive"><code onclick="Z(this)">0:45:19</code>Well how do we actually get a picture to start with? I can build a picture to start with out of a List of line segments initially. Here's a procedure that builds what I'll call a primitive</span><span s="2731" t="picture, meaning one I, sort of, got that didn&apos;t come out of Beside or Rotate or something. It starts with a List of line segments, and now"><code onclick="Z(this)">0:45:31</code>picture, meaning one I, sort of, got that didn't come out of Beside or Rotate or something. It starts with a List of line segments, and now</span><span s="2743" t="it does what I said. What&apos;s a picture have to be? First of all it&apos;s a procedure that&apos;s defined on rectangles."><code onclick="Z(this)">0:45:43</code>it does what I said. What's a picture have to be? First of all it's a procedure that's defined on rectangles.</span><span s="2752" t="What does it do? It says for each-- this is going to be a List of line segments-- for each segment, for each s, which is a segment in this"><code onclick="Z(this)">0:45:52</code>What does it do? It says for each-- this is going to be a List of line segments-- for each segment, for each s, which is a segment in this</span><span s="2762" t="List of segments, well it draws a line. What line does it draw? It gets the start point of that segment, transforms that"><code onclick="Z(this)">0:46:02</code>List of segments, well it draws a line. What line does it draw? It gets the start point of that segment, transforms that</span><span s="2776" t="by the coordinate MAP of the rectangle. That&apos;s the first new point it wants to do. Then it takes the endpoint of the segment, transforms that by the coordinate MAP of the rectangle, and then draws a"><code onclick="Z(this)">0:46:16</code>by the coordinate MAP of the rectangle. That's the first new point it wants to do. Then it takes the endpoint of the segment, transforms that by the coordinate MAP of the rectangle, and then draws a</span><span s="2787" t="line between. Let&apos;s assume drawline is some primitive that&apos;s built into the system that actually draws a line on the display. All right, so it transforms the endpoints by the coordinate MAP of the rectangle, draws a line"><code onclick="Z(this)">0:46:27</code>line between. Let's assume drawline is some primitive that's built into the system that actually draws a line on the display. All right, so it transforms the endpoints by the coordinate MAP of the rectangle, draws a line</span><span s="2797" t="between them, does that for each s in this List of segments."><code onclick="Z(this)">0:46:37</code>between them, does that for each s in this List of segments.</span><span s="2806" t="And now remember again, a picture is a procedure that takes a rectangle as argument. So when you hand it a rectangle, this is what it does: draws those lines."><code onclick="Z(this)">0:46:46</code>And now remember again, a picture is a procedure that takes a rectangle as argument. So when you hand it a rectangle, this is what it does: draws those lines.</span><span s="2817" t="All right, so there&apos;s-- how would I actually use this thing? Let&apos;s make it a little bit more concrete. Right, I would say for instance, define R to be"><code onclick="Z(this)">0:46:57</code>All right, so there's-- how would I actually use this thing? Let's make it a little bit more concrete. Right, I would say for instance, define R to be</span><span s="2841" t="make-rectangle of some stuff, and I&apos;d have to specify some vectors here using make-vector."><code onclick="Z(this)">0:47:21</code>make-rectangle of some stuff, and I'd have to specify some vectors here using make-vector.</span><span s="2850" t="And then I could say, define say, G to be make-picture, and"><code onclick="Z(this)">0:47:30</code>And then I could say, define say, G to be make-picture, and</span><span s="2865" t="then some stuff. And what I&apos;d have to specify here is a List of line segments, right, using make segment."><code onclick="Z(this)">0:47:45</code>then some stuff. And what I'd have to specify here is a List of line segments, right, using make segment.</span><span s="2875" t="Make-segment might be made out of vectors, and vectors might be made out of points. And then if I actually wanted to see the image of G inside a rectangle, well a picture is a procedure that takes a"><code onclick="Z(this)">0:47:55</code>Make-segment might be made out of vectors, and vectors might be made out of points. And then if I actually wanted to see the image of G inside a rectangle, well a picture is a procedure that takes a</span><span s="2890" t="rectangle as argument. So if I then called G with an input of R, that would cause whatever image G is worrying about to be drawn inside the"><code onclick="Z(this)">0:48:10</code>rectangle as argument. So if I then called G with an input of R, that would cause whatever image G is worrying about to be drawn inside the</span><span s="2902" t="rectangle R. Right, so that&apos;s how you&apos;d use that. [MUSIC PLAYING]"><code onclick="Z(this)">0:48:22</code>rectangle R. Right, so that's how you'd use that. [MUSIC PLAYING]</span><span s="2948" t="PROFESSOR: Well why is it that I say this example is nice? You probably don&apos;t think it&apos;s nice. You probably think it&apos;s more weird than nice. Right, representing these pictures as procedures, which"><code onclick="Z(this)">0:49:08</code>PROFESSOR: Well why is it that I say this example is nice? You probably don't think it's nice. You probably think it's more weird than nice. Right, representing these pictures as procedures, which</span><span s="2958" t="do complicated things with rectangles. So why is it nice? The reason it&apos;s nice is that once you&apos;ve implemented the"><code onclick="Z(this)">0:49:18</code>do complicated things with rectangles. So why is it nice? The reason it's nice is that once you've implemented the</span><span s="2969" t="primitives in this way, the means of combination just fall out by implementing procedures. Let me show you what I mean. Suppose we want to implement Beside."><code onclick="Z(this)">0:49:29</code>primitives in this way, the means of combination just fall out by implementing procedures. Let me show you what I mean. Suppose we want to implement Beside.</span><span s="2981" t="So I&apos;d like to-- suppose I&apos;ve got a picture. Let&apos;s call it P1. P1 is going to be-- and now remember what a picture really is."><code onclick="Z(this)">0:49:41</code>So I'd like to-- suppose I've got a picture. Let's call it P1. P1 is going to be-- and now remember what a picture really is.</span><span s="2990" t="It&apos;s a thing that if you can hand it some rectangle, it will cause an image to be drawn in whatever rectangle"><code onclick="Z(this)">0:49:50</code>It's a thing that if you can hand it some rectangle, it will cause an image to be drawn in whatever rectangle</span><span s="3000" t="you hand it. And suppose P2 two is some other picture, and you hand that a rectangle."><code onclick="Z(this)">0:50:00</code>you hand it. And suppose P2 two is some other picture, and you hand that a rectangle.</span><span s="3009" t="And whatever rectangle you hand it, it draws some picture. And now if I&apos;d like to implement Beside of P1 and P2"><code onclick="Z(this)">0:50:09</code>And whatever rectangle you hand it, it draws some picture. And now if I'd like to implement Beside of P1 and P2</span><span s="3025" t="with a scale factor A, well what does that have to be? That&apos;s got to be picture. It&apos;s got to be a thing that you hand it a rectangle, and it draws something in that rectangle."><code onclick="Z(this)">0:50:25</code>with a scale factor A, well what does that have to be? That's got to be picture. It's got to be a thing that you hand it a rectangle, and it draws something in that rectangle.</span><span s="3034" t="So if hand Beside this rectangle-- let&apos;s hand it a rectangle. Well what&apos;s it going to do? it&apos;s going to take this rectangle and split it into"><code onclick="Z(this)">0:50:34</code>So if hand Beside this rectangle-- let's hand it a rectangle. Well what's it going to do? it's going to take this rectangle and split it into</span><span s="3045" t="two at a ratio of A and one minus A. And it will say, oh sure, now I&apos;ve got two rectangles."><code onclick="Z(this)">0:50:45</code>two at a ratio of A and one minus A. And it will say, oh sure, now I've got two rectangles.</span><span s="3062" t="And now it goes off to P1 and says P1, well draw yourself in this rectangle, and goes off to P2, and says, P2, fine, draw yourself in this rectangle."><code onclick="Z(this)">0:51:02</code>And now it goes off to P1 and says P1, well draw yourself in this rectangle, and goes off to P2, and says, P2, fine, draw yourself in this rectangle.</span><span s="3073" t="The only computation it has to do is figure out what these rectangles are. Remember a rectangle is specified by an origin and a horizontal vector and a vertical vector, so it&apos;s got"><code onclick="Z(this)">0:51:13</code>The only computation it has to do is figure out what these rectangles are. Remember a rectangle is specified by an origin and a horizontal vector and a vertical vector, so it's got</span><span s="3084" t="to figure out what these things are. So for this first rectangle, the origin turns out to be the origin of the original rectangle, and the vertical"><code onclick="Z(this)">0:51:24</code>to figure out what these things are. So for this first rectangle, the origin turns out to be the origin of the original rectangle, and the vertical</span><span s="3094" t="vector is the same as the vertical vector of the original rectangle. The horizontal vector is the horizontal vector of the"><code onclick="Z(this)">0:51:34</code>vector is the same as the vertical vector of the original rectangle. The horizontal vector is the horizontal vector of the</span><span s="3103" t="original rectangle scaled by A. And that&apos;s the first rectangle. The second rectangle, the origin is the original origin"><code onclick="Z(this)">0:51:43</code>original rectangle scaled by A. And that's the first rectangle. The second rectangle, the origin is the original origin</span><span s="3115" t="plus that horizontal vector scaled by A. The horizontal vector of the second rectangle is the rest of the horizontal"><code onclick="Z(this)">0:51:55</code>plus that horizontal vector scaled by A. The horizontal vector of the second rectangle is the rest of the horizontal</span><span s="3125" t="vector of the first one, which is 1 minus A times the original H, and the vertical vector is still v. But"><code onclick="Z(this)">0:52:05</code>vector of the first one, which is 1 minus A times the original H, and the vertical vector is still v. But</span><span s="3135" t="basically it goes and constructs these two rectangles, and the important point is having constructed the rectangles, it says OK, p1, you draw yourself in there, and p2, you draw yourself in there, and that&apos;s"><code onclick="Z(this)">0:52:15</code>basically it goes and constructs these two rectangles, and the important point is having constructed the rectangles, it says OK, p1, you draw yourself in there, and p2, you draw yourself in there, and that's</span><span s="3145" t="all Beside has to do. All right, let&apos;s look at that piece of code."><code onclick="Z(this)">0:52:25</code>all Beside has to do. All right, let's look at that piece of code.</span><span s="3154" t="Beside of a picture and another picture with some"><code onclick="Z(this)">0:52:34</code>Beside of a picture and another picture with some</span><span s="3165" t="scaling ratio is first of all, since it&apos;s a picture, a procedure that&apos;s going to take a rectangle as argument."><code onclick="Z(this)">0:52:45</code>scaling ratio is first of all, since it's a picture, a procedure that's going to take a rectangle as argument.</span><span s="3175" t="What&apos;s it going to do? It says, p1 draw yourself in some rectangle and p2 draw yourself in some other rectangle. And now what are those rectangles?"><code onclick="Z(this)">0:52:55</code>What's it going to do? It says, p1 draw yourself in some rectangle and p2 draw yourself in some other rectangle. And now what are those rectangles?</span><span s="3184" t="Well here&apos;s the computation. It makes a rectangle, and this is the algebra I just did on the board: the origin, something; the horizontal vector, something; and the vertical vector, something."><code onclick="Z(this)">0:53:04</code>Well here's the computation. It makes a rectangle, and this is the algebra I just did on the board: the origin, something; the horizontal vector, something; and the vertical vector, something.</span><span s="3193" t="And for p2, the rectangle it wants has some other origin and horizontal vector and vertical vector. But the important point is that all it&apos;s saying is, p1,"><code onclick="Z(this)">0:53:13</code>And for p2, the rectangle it wants has some other origin and horizontal vector and vertical vector. But the important point is that all it's saying is, p1,</span><span s="3203" t="go do your thing in one rectangle, and p2, go do your thing in another rectangle. That&apos;s all the Beside has to do. OK, similarly Rotate--"><code onclick="Z(this)">0:53:23</code>go do your thing in one rectangle, and p2, go do your thing in another rectangle. That's all the Beside has to do. OK, similarly Rotate--</span><span s="3217" t="see if I have this picture A, and I want to look at say rotating A by 90 degrees, what that should mean is, well take"><code onclick="Z(this)">0:53:37</code>see if I have this picture A, and I want to look at say rotating A by 90 degrees, what that should mean is, well take</span><span s="3231" t="this rectangle, which is origin and horizontal vector and vertical vector, and now pretend that it&apos;s really the"><code onclick="Z(this)">0:53:51</code>this rectangle, which is origin and horizontal vector and vertical vector, and now pretend that it's really the</span><span s="3241" t="rectangle that looks like this, which has an origin and a horizontal vector up here, and a vertical vector there, and now draw yourself with respect to that rectangle."><code onclick="Z(this)">0:54:01</code>rectangle that looks like this, which has an origin and a horizontal vector up here, and a vertical vector there, and now draw yourself with respect to that rectangle.</span><span s="3253" t="Let me show you that as a procedure. All right, so we&apos;ll Rotate 90 of the picture, because again, a procedure for rectangle, which says, OK picture, draw"><code onclick="Z(this)">0:54:13</code>Let me show you that as a procedure. All right, so we'll Rotate 90 of the picture, because again, a procedure for rectangle, which says, OK picture, draw</span><span s="3264" t="yourself in some rectangle; and then this algebra is the transformation on the rectangle. It&apos;s the one which makes it look like the rectangle is"><code onclick="Z(this)">0:54:24</code>yourself in some rectangle; and then this algebra is the transformation on the rectangle. It's the one which makes it look like the rectangle is</span><span s="3273" t="sideways, the origin is someplace else and the vertical vector is someplace else, and the horizontal vector is someplace else, and vertical vector is someplace else. OK?"><code onclick="Z(this)">0:54:33</code>sideways, the origin is someplace else and the vertical vector is someplace else, and the horizontal vector is someplace else, and vertical vector is someplace else. OK?</span><span s="3283" t="OK. OK, again notice, the crucial thing that&apos;s going on here is you&apos;re using the representation of pictures as"><code onclick="Z(this)">0:54:43</code>OK. OK, again notice, the crucial thing that's going on here is you're using the representation of pictures as</span><span s="3297" t="procedures to automatically get the closure property, because what happens is, Beside just has this thing p1. Beside doesn&apos;t care if that&apos;s a primitive picture or it&apos;s"><code onclick="Z(this)">0:54:57</code>procedures to automatically get the closure property, because what happens is, Beside just has this thing p1. Beside doesn't care if that's a primitive picture or it's</span><span s="3308" t="line segments or if p1 is, itself, the result of doing Aboves or Besides or Rotates. All Beside has to know about, say, p1 is that if you hand p1"><code onclick="Z(this)">0:55:08</code>line segments or if p1 is, itself, the result of doing Aboves or Besides or Rotates. All Beside has to know about, say, p1 is that if you hand p1</span><span s="3317" t="a rectangle, it will cause something to be drawn. And above that level, Beside just doesn&apos;t-- it&apos;s none of its business how p1 accomplishes that drawing."><code onclick="Z(this)">0:55:17</code>a rectangle, it will cause something to be drawn. And above that level, Beside just doesn't-- it's none of its business how p1 accomplishes that drawing.</span><span s="3327" t="All right, so you&apos;re using the procedural representation to ensure this closure. OK. So implementing pictures as procedures makes these means"><code onclick="Z(this)">0:55:27</code>All right, so you're using the procedural representation to ensure this closure. OK. So implementing pictures as procedures makes these means</span><span s="3340" t="of combination, you know, both pretty simple and also, I think, elegant. But that&apos;s not the real punchline."><code onclick="Z(this)">0:55:40</code>of combination, you know, both pretty simple and also, I think, elegant. But that's not the real punchline.</span><span s="3349" t="The real punchline comes when you look at the means of abstraction in this language. Because what have we done? We&apos;ve implemented the means of combination themselves as"><code onclick="Z(this)">0:55:49</code>The real punchline comes when you look at the means of abstraction in this language. Because what have we done? We've implemented the means of combination themselves as</span><span s="3362" t="procedures. And what that means is that when we go to abstract in this language, everything that List supplies us for manipulating"><code onclick="Z(this)">0:56:02</code>procedures. And what that means is that when we go to abstract in this language, everything that List supplies us for manipulating</span><span s="3374" t="procedures is automatically available to do things in this picture language. The technical term I want to say is not only is this"><code onclick="Z(this)">0:56:14</code>procedures is automatically available to do things in this picture language. The technical term I want to say is not only is this</span><span s="3385" t="language implemented in List, obviously it is, but the language is nicely embedded in List. What I mean is by"><code onclick="Z(this)">0:56:25</code>language implemented in List, obviously it is, but the language is nicely embedded in List. What I mean is by</span><span s="3399" t="embedding the language in this way, all the power of List is automatically available as an extension to whatever you want to do."><code onclick="Z(this)">0:56:39</code>embedding the language in this way, all the power of List is automatically available as an extension to whatever you want to do.</span><span s="3409" t="And what do I mean by that? Example: say, suppose I want to make a thing that takes four pictures A, B, C and D, and makes a configuration that"><code onclick="Z(this)">0:56:49</code>And what do I mean by that? Example: say, suppose I want to make a thing that takes four pictures A, B, C and D, and makes a configuration that</span><span s="3426" t="looks like this. Well you might call that, you know, four pictures or something, four-pict configuration."><code onclick="Z(this)">0:57:06</code>looks like this. Well you might call that, you know, four pictures or something, four-pict configuration.</span><span s="3437" t="How do I do that? Well I can obviously do that. I just write a procedure that takes B above D and A above C"><code onclick="Z(this)">0:57:17</code>How do I do that? Well I can obviously do that. I just write a procedure that takes B above D and A above C</span><span s="3446" t="and puts those things beside each other. So I automatically have List&apos;s ability to do procedure composition. And I didn&apos;t have to make that specifically in the picture language."><code onclick="Z(this)">0:57:26</code>and puts those things beside each other. So I automatically have List's ability to do procedure composition. And I didn't have to make that specifically in the picture language.</span><span s="3455" t="It&apos;s automatic from the fact that the means of combination are themselves procedures. Or suppose I wanted to do something a little bit more complicated."><code onclick="Z(this)">0:57:35</code>It's automatic from the fact that the means of combination are themselves procedures. Or suppose I wanted to do something a little bit more complicated.</span><span s="3464" t="I wanted to put in a parameter so that for each of these, I could independently specify a rotation by 90 degrees. That&apos;s just putting a parameter in the procedure."><code onclick="Z(this)">0:57:44</code>I wanted to put in a parameter so that for each of these, I could independently specify a rotation by 90 degrees. That's just putting a parameter in the procedure.</span><span s="3473" t="It&apos;s automatically there. Right, it automatically comes from the embedding. Or even more, suppose I wanted to, you know, use recursion."><code onclick="Z(this)">0:57:53</code>It's automatically there. Right, it automatically comes from the embedding. Or even more, suppose I wanted to, you know, use recursion.</span><span s="3484" t="Let&apos;s look at a recursive means of combination on pictures. I could say define-- let&apos;s see if you can figure out what this one is-- suppose"><code onclick="Z(this)">0:58:04</code>Let's look at a recursive means of combination on pictures. I could say define-- let's see if you can figure out what this one is-- suppose</span><span s="3494" t="I say define what it means to right-push a picture, right-push a picture and some integer N and some scale"><code onclick="Z(this)">0:58:14</code>I say define what it means to right-push a picture, right-push a picture and some integer N and some scale</span><span s="3508" t="factor A. I&apos;ll define this to say if N equals 0, then the"><code onclick="Z(this)">0:58:28</code>factor A. I'll define this to say if N equals 0, then the</span><span s="3520" t="answer is the picture. Otherwise I&apos;m going to put--"><code onclick="Z(this)">0:58:40</code>answer is the picture. Otherwise I'm going to put--</span><span s="3529" t="oops, name change: P. Otherwise, I&apos;m going to take P"><code onclick="Z(this)">0:58:49</code>oops, name change: P. Otherwise, I'm going to take P</span><span s="3539" t="and put it beside the results of recursively right-pushing P"><code onclick="Z(this)">0:58:59</code>and put it beside the results of recursively right-pushing P</span><span s="3549" t="with N minus 1 and A and use a scale factor of A. OK, so if"><code onclick="Z(this)">0:59:09</code>with N minus 1 and A and use a scale factor of A. OK, so if</span><span s="3565" t="N0 , it&apos;s P. Otherwise I put P with a scale factor of A-- I&apos;m sorry I didn&apos;t align this right-- recursively beside the result of right-pushing P, N minus 1"><code onclick="Z(this)">0:59:25</code>N0 , it's P. Otherwise I put P with a scale factor of A-- I'm sorry I didn't align this right-- recursively beside the result of right-pushing P, N minus 1</span><span s="3577" t="times with a scale factor of A. There&apos;s a recursive means of combination. What&apos;s that look like? Well, here&apos;s what it looks like."><code onclick="Z(this)">0:59:37</code>times with a scale factor of A. There's a recursive means of combination. What's that look like? Well, here's what it looks like.</span><span s="3586" t="There&apos;s George right-pushed against himself twice with a scale factor of 0.75."><code onclick="Z(this)">0:59:46</code>There's George right-pushed against himself twice with a scale factor of 0.75.</span><span s="3599" t="OK. Where&apos;d that come from? How did I get all this fancy recursion? And the answer is just automatic, absolutely automatic. Since these are procedures, the embedding says, well sure,"><code onclick="Z(this)">0:59:59</code>OK. Where'd that come from? How did I get all this fancy recursion? And the answer is just automatic, absolutely automatic. Since these are procedures, the embedding says, well sure,</span><span s="3608" t="I can define recursive procedures. I didn&apos;t have to arrange that. And of course, we can do more complicated things of the same sort. I could make something that does an up-push."><code onclick="Z(this)">1:00:08</code>I can define recursive procedures. I didn't have to arrange that. And of course, we can do more complicated things of the same sort. I could make something that does an up-push.</span><span s="3618" t="Right, that sort of goes like this, by recursively putting something above. Or I could make something that, sort of, was this scheme. I might start out with a picture and then, sort of,"><code onclick="Z(this)">1:00:18</code>Right, that sort of goes like this, by recursively putting something above. Or I could make something that, sort of, was this scheme. I might start out with a picture and then, sort of,</span><span s="3633" t="recursively both push it aside and above, and that might put something there. And then up here I put the same recursive thing, and I"><code onclick="Z(this)">1:00:33</code>recursively both push it aside and above, and that might put something there. And then up here I put the same recursive thing, and I</span><span s="3642" t="might end up with something like this. Right, so there&apos;s a procedure that&apos;s a little bit more complicated than right-push but not much."><code onclick="Z(this)">1:00:42</code>might end up with something like this. Right, so there's a procedure that's a little bit more complicated than right-push but not much.</span><span s="3653" t="I just do an Above and a Beside, rather than just a Beside. Now if I take that and apply that with the idea of putting"><code onclick="Z(this)">1:00:53</code>I just do an Above and a Beside, rather than just a Beside. Now if I take that and apply that with the idea of putting</span><span s="3665" t="four pictures together, which I can surely do; and I go and I apply that to Q, which we defined before, right, what I"><code onclick="Z(this)">1:01:05</code>four pictures together, which I can surely do; and I go and I apply that to Q, which we defined before, right, what I</span><span s="3676" t="end up with this is this thing, which is, sort of, the square limit of Q, done twice."><code onclick="Z(this)">1:01:16</code>end up with this is this thing, which is, sort of, the square limit of Q, done twice.</span><span s="3687" t="Right, and then we can compare that with Escher&apos;s &quot;Square Limit.&quot; And you see, it&apos;s sort of the same idea. Escher&apos;s is, of course, much, much prettier."><code onclick="Z(this)">1:01:27</code>Right, and then we can compare that with Escher's "Square Limit." And you see, it's sort of the same idea. Escher's is, of course, much, much prettier.</span><span s="3697" t="If we go back and look at George, right, if we go look at George here-- see, I started with a fairly arbitrary design, this picture"><code onclick="Z(this)">1:01:37</code>If we go back and look at George, right, if we go look at George here-- see, I started with a fairly arbitrary design, this picture</span><span s="3707" t="of George and did things with it. Right, whereas if we go look at the Escher picture, right, the Escher picture is not an arbitrary design."><code onclick="Z(this)">1:01:47</code>of George and did things with it. Right, whereas if we go look at the Escher picture, right, the Escher picture is not an arbitrary design.</span><span s="3716" t="It&apos;s this very, very clever thing, so that when you take this fish body and Rotate it and shrink it down, it bleeds into the next one really nicely."><code onclick="Z(this)">1:01:56</code>It's this very, very clever thing, so that when you take this fish body and Rotate it and shrink it down, it bleeds into the next one really nicely.</span><span s="3727" t="And of course with George, I didn&apos;t really do anything like that. So if we look at George, right, there&apos;s a little bit of"><code onclick="Z(this)">1:02:07</code>And of course with George, I didn't really do anything like that. So if we look at George, right, there's a little bit of</span><span s="3736" t="match up, but not very nice, and it&apos;s pretty arbitrary. One very nice project, by the way, would be to write a procedure that could take some basic figure like this George"><code onclick="Z(this)">1:02:16</code>match up, but not very nice, and it's pretty arbitrary. One very nice project, by the way, would be to write a procedure that could take some basic figure like this George</span><span s="3747" t="thing and start moving the ends of the lines around, so you got a really nice one when you went and did that &quot;Square Limit&quot; process. That&apos;d be a really nice thing to think about."><code onclick="Z(this)">1:02:27</code>thing and start moving the ends of the lines around, so you got a really nice one when you went and did that "Square Limit" process. That'd be a really nice thing to think about.</span><span s="3758" t="Well so, we can combine things. We can recursive procedures. We can do all kinds of things, and that&apos;s all automatic. Right, the important point, the difference between merely"><code onclick="Z(this)">1:02:38</code>Well so, we can combine things. We can recursive procedures. We can do all kinds of things, and that's all automatic. Right, the important point, the difference between merely</span><span s="3767" t="implementing something in a language and embedding something in the language, so that you don&apos;t lose the original power of the language, and what List is great at, see List is a lousy language for doing any"><code onclick="Z(this)">1:02:47</code>implementing something in a language and embedding something in the language, so that you don't lose the original power of the language, and what List is great at, see List is a lousy language for doing any</span><span s="3776" t="particular problem. What it&apos;s good for is figuring out the right language that you want and embedding that in List. That&apos;s the real power of this approach to design."><code onclick="Z(this)">1:02:56</code>particular problem. What it's good for is figuring out the right language that you want and embedding that in List. That's the real power of this approach to design.</span><span s="3785" t="Of course, we can go further. See, you saw the other thing that we can do in List is capture general methods of doing things as higher order"><code onclick="Z(this)">1:03:05</code>Of course, we can go further. See, you saw the other thing that we can do in List is capture general methods of doing things as higher order</span><span s="3796" t="procedures. And you probably just from me drawing it got the idea that right-push and the analogous thing where you push something"><code onclick="Z(this)">1:03:16</code>procedures. And you probably just from me drawing it got the idea that right-push and the analogous thing where you push something</span><span s="3805" t="up and up and up and up and this corner push thing are all generalizations of a common kind of idea."><code onclick="Z(this)">1:03:25</code>up and up and up and up and this corner push thing are all generalizations of a common kind of idea.</span><span s="3814" t="So just to illustrate and give you practice in looking at a fairly convoluted use of higher order procedures, let me show you the general idea of pushing some means of"><code onclick="Z(this)">1:03:34</code>So just to illustrate and give you practice in looking at a fairly convoluted use of higher order procedures, let me show you the general idea of pushing some means of</span><span s="3825" t="combination to recursively repeat it. So here&apos;s a good one to puzzle out. We&apos;ll define it what it means to push using a means of"><code onclick="Z(this)">1:03:45</code>combination to recursively repeat it. So here's a good one to puzzle out. We'll define it what it means to push using a means of</span><span s="3839" t="combination. Comb is going to be something like the Beside or Above. Well what&apos;s that going to be. That&apos;s going to be a procedure, remember what"><code onclick="Z(this)">1:03:59</code>combination. Comb is going to be something like the Beside or Above. Well what's that going to be. That's going to be a procedure, remember what</span><span s="3850" t="Beside actually was, right. It took a picture, took two pictures and a scale factor. Using that I produced something that took a level"><code onclick="Z(this)">1:04:10</code>Beside actually was, right. It took a picture, took two pictures and a scale factor. Using that I produced something that took a level</span><span s="3861" t="number and a picture and a scale factor, that I called right-push. So this is going to be something that takes a picture, a level number and a scale factor, and"><code onclick="Z(this)">1:04:21</code>number and a picture and a scale factor, that I called right-push. So this is going to be something that takes a picture, a level number and a scale factor, and</span><span s="3872" t="it&apos;s going to say-- I&apos;m going to do some repeated operation. I&apos;m going to repeatedly apply the procedure which takes a"><code onclick="Z(this)">1:04:32</code>it's going to say-- I'm going to do some repeated operation. I'm going to repeatedly apply the procedure which takes a</span><span s="3886" t="picture and applies the means of combination to the picture and the original picture and the one I took in here and the"><code onclick="Z(this)">1:04:46</code>picture and applies the means of combination to the picture and the original picture and the one I took in here and the</span><span s="3898" t="scale factor, and I do the thing which repeats this procedure N times, and I apply that whole thing to my"><code onclick="Z(this)">1:04:58</code>scale factor, and I do the thing which repeats this procedure N times, and I apply that whole thing to my</span><span s="3915" t="original picture. Repeated here, in case you haven&apos;t seen it, is another higher order procedure that takes a procedure and a number"><code onclick="Z(this)">1:05:15</code>original picture. Repeated here, in case you haven't seen it, is another higher order procedure that takes a procedure and a number</span><span s="3929" t="and returns for you another procedure that applies this procedure N times. And I think some of you have already written repeated as an"><code onclick="Z(this)">1:05:29</code>and returns for you another procedure that applies this procedure N times. And I think some of you have already written repeated as an</span><span s="3938" t="exercise, but if you haven&apos;t, it&apos;s a very good exercise in thinking about higher order procedures. But in any case, the result of this repeated is what I apply to picture."><code onclick="Z(this)">1:05:38</code>exercise, but if you haven't, it's a very good exercise in thinking about higher order procedures. But in any case, the result of this repeated is what I apply to picture.</span><span s="3949" t="And having done that, that&apos;s going to capture-- that is the thing, the way I got from the idea of Beside to the idea of right-push So having done that, I could say"><code onclick="Z(this)">1:05:49</code>And having done that, that's going to capture-- that is the thing, the way I got from the idea of Beside to the idea of right-push So having done that, I could say</span><span s="3960" t="define right-push to be push of Beside."><code onclick="Z(this)">1:06:00</code>define right-push to be push of Beside.</span><span s="3977" t="Or if I say, define up-push to be push of Beside, I&apos;d get the analogous thing or define corner-push to be push of some appropriate thing that did both the Beside and Above, or I could push anything."><code onclick="Z(this)">1:06:17</code>Or if I say, define up-push to be push of Beside, I'd get the analogous thing or define corner-push to be push of some appropriate thing that did both the Beside and Above, or I could push anything.</span><span s="3988" t="Anyway this is, if you&apos;re having trouble with lambdas, this is an excellent exercise in figuring out what this means. OK, well there&apos;s a lot to learn from this example."><code onclick="Z(this)">1:06:28</code>Anyway this is, if you're having trouble with lambdas, this is an excellent exercise in figuring out what this means. OK, well there's a lot to learn from this example.</span><span s="4002" t="The main point I&apos;ve been dwelling on is the notion of nicely embedding a language inside another language. Right, so that all the power of this language like List of"><code onclick="Z(this)">1:06:42</code>The main point I've been dwelling on is the notion of nicely embedding a language inside another language. Right, so that all the power of this language like List of</span><span s="4014" t="the surrounding language is still accessible to you and appears as a natural extension of the language that you built. That&apos;s one thing that this example shows very well."><code onclick="Z(this)">1:06:54</code>the surrounding language is still accessible to you and appears as a natural extension of the language that you built. That's one thing that this example shows very well.</span><span s="4026" t="OK. Another thing is, if you go back and think about that, what&apos;s procedures and what&apos;s data. You know, by the time we get up to here, my God,"><code onclick="Z(this)">1:07:06</code>OK. Another thing is, if you go back and think about that, what's procedures and what's data. You know, by the time we get up to here, my God,</span><span s="4035" t="what&apos;s going on. I mean, this is some procedure, and it takes a picture and an argument, and what&apos;s a picture. Well, a picture itself, as you remember, was a procedure, and that took a rectangle. And a rectangle is some abstraction."><code onclick="Z(this)">1:07:15</code>what's going on. I mean, this is some procedure, and it takes a picture and an argument, and what's a picture. Well, a picture itself, as you remember, was a procedure, and that took a rectangle. And a rectangle is some abstraction.</span><span s="4046" t="And I hope now that by now you&apos;re completely lost as to the question of what in the system is procedure and what&apos;s data. You see, there isn&apos;t any difference."><code onclick="Z(this)">1:07:26</code>And I hope now that by now you're completely lost as to the question of what in the system is procedure and what's data. You see, there isn't any difference.</span><span s="4055" t="There really isn&apos;t. And you might think of a picture sometimes as a procedure and sometimes as data, but that&apos;s just, sort of, you know, making you feel comfortable."><code onclick="Z(this)">1:07:35</code>There really isn't. And you might think of a picture sometimes as a procedure and sometimes as data, but that's just, sort of, you know, making you feel comfortable.</span><span s="4064" t="It&apos;s really both in some sense or neither in some sense. OK, there&apos;s a more general point about the structure of"><code onclick="Z(this)">1:07:44</code>It's really both in some sense or neither in some sense. OK, there's a more general point about the structure of</span><span s="4076" t="the system as creating a language, viewing the engineering design process as one of creating language or"><code onclick="Z(this)">1:07:56</code>the system as creating a language, viewing the engineering design process as one of creating language or</span><span s="4088" t="rather one of creating a sort of sequence of layers of language. You see, there&apos;s this methodology, or maybe I should"><code onclick="Z(this)">1:08:08</code>rather one of creating a sort of sequence of layers of language. You see, there's this methodology, or maybe I should</span><span s="4098" t="say mythology, that&apos;s, sort of, charitably called software, quote, engineering. All right, and what does it say, it&apos;s says well, you go"><code onclick="Z(this)">1:08:18</code>say mythology, that's, sort of, charitably called software, quote, engineering. All right, and what does it say, it's says well, you go</span><span s="4107" t="and you figure out your task, and you figure out exactly what you want to do. And once you figure out exactly what you want to do, you find out that it breaks out into three sub-tasks, and you go and you start working on-- and you work on this"><code onclick="Z(this)">1:08:27</code>and you figure out your task, and you figure out exactly what you want to do. And once you figure out exactly what you want to do, you find out that it breaks out into three sub-tasks, and you go and you start working on-- and you work on this</span><span s="4116" t="sub-task, and you figure out exactly what that is. And you find out that that breaks down into three sub-tasks, and you specify them completely, and you go and you work on those two, and you work on this sub-one, and"><code onclick="Z(this)">1:08:36</code>sub-task, and you figure out exactly what that is. And you find out that that breaks down into three sub-tasks, and you specify them completely, and you go and you work on those two, and you work on this sub-one, and</span><span s="4125" t="you specify that exactly. And then finally when you&apos;re done, you come back way up here, and you work on your second sub-task, and specify that out and work it out. And then you end up with--"><code onclick="Z(this)">1:08:45</code>you specify that exactly. And then finally when you're done, you come back way up here, and you work on your second sub-task, and specify that out and work it out. And then you end up with--</span><span s="4135" t="you end up at the end with this beautiful edifice. Right, you end up with a marvelous tree, where you&apos;ve broken your task into sub-tasks and broken each of"><code onclick="Z(this)">1:08:55</code>you end up at the end with this beautiful edifice. Right, you end up with a marvelous tree, where you've broken your task into sub-tasks and broken each of</span><span s="4145" t="these into sub-tasks and broken those into sub-tasks, right. And each of these nodes is exactly and precisely defined"><code onclick="Z(this)">1:09:05</code>these into sub-tasks and broken those into sub-tasks, right. And each of these nodes is exactly and precisely defined</span><span s="4155" t="to do the wonderful, beautiful task to make it fit into the whole edifice, right. That&apos;s this mythology. See only a computer scientist could possibly believe that you build a complex system like that, right."><code onclick="Z(this)">1:09:15</code>to do the wonderful, beautiful task to make it fit into the whole edifice, right. That's this mythology. See only a computer scientist could possibly believe that you build a complex system like that, right.</span><span s="4168" t="Contrast that with this Henderson example. It didn&apos;t work like that. What happened was that there was a sequence"><code onclick="Z(this)">1:09:28</code>Contrast that with this Henderson example. It didn't work like that. What happened was that there was a sequence</span><span s="4177" t="of layers of language. What happened? There was a layer of a thing that allowed us to build"><code onclick="Z(this)">1:09:37</code>of layers of language. What happened? There was a layer of a thing that allowed us to build</span><span s="4187" t="primitive pictures. There&apos;s primitive pictures and that was a language."><code onclick="Z(this)">1:09:47</code>primitive pictures. There's primitive pictures and that was a language.</span><span s="4196" t="I didn&apos;t say much about it. We talked about how to construct George, but that was a language where you talked about vectors and line segments and points and where they sat in the unit square."><code onclick="Z(this)">1:09:56</code>I didn't say much about it. We talked about how to construct George, but that was a language where you talked about vectors and line segments and points and where they sat in the unit square.</span><span s="4206" t="And then on top of that, right, on top of that-- so this is the language of primitive pictures."><code onclick="Z(this)">1:10:06</code>And then on top of that, right, on top of that-- so this is the language of primitive pictures.</span><span s="4217" t="Right, talking about line segments in particular pictures in the unit square. On top of that was a whole language. There was a language of geometric combinators, a"><code onclick="Z(this)">1:10:17</code>Right, talking about line segments in particular pictures in the unit square. On top of that was a whole language. There was a language of geometric combinators, a</span><span s="4233" t="language of geometric positions, which talks about things like Above and Beside and right-push and Rotate."><code onclick="Z(this)">1:10:33</code>language of geometric positions, which talks about things like Above and Beside and right-push and Rotate.</span><span s="4248" t="And those things, sort of, happened with reference to the things that are talked about in this language."><code onclick="Z(this)">1:10:48</code>And those things, sort of, happened with reference to the things that are talked about in this language.</span><span s="4258" t="And then if we like, we saw that above that there was sort of a language of schemes of combination."><code onclick="Z(this)">1:10:58</code>And then if we like, we saw that above that there was sort of a language of schemes of combination.</span><span s="4281" t="For example, push, which talked about repeatedly doing something over with a scale factor. And the things that were being discussed in that language"><code onclick="Z(this)">1:11:21</code>For example, push, which talked about repeatedly doing something over with a scale factor. And the things that were being discussed in that language</span><span s="4291" t="were, sort of, the things that happened down here. So what you have is, at each level, the objects that are"><code onclick="Z(this)">1:11:31</code>were, sort of, the things that happened down here. So what you have is, at each level, the objects that are</span><span s="4301" t="being talked about are the things that were erected at the previous level. What&apos;s the difference between this thing and this thing?"><code onclick="Z(this)">1:11:41</code>being talked about are the things that were erected at the previous level. What's the difference between this thing and this thing?</span><span s="4313" t="The answer is that over here in the tree, each node, and in fact, each decomposition down here, is being designed to do"><code onclick="Z(this)">1:11:53</code>The answer is that over here in the tree, each node, and in fact, each decomposition down here, is being designed to do</span><span s="4323" t="a specific task, whereas in the other scheme, what you have is a full range of linguistic"><code onclick="Z(this)">1:12:03</code>a specific task, whereas in the other scheme, what you have is a full range of linguistic</span><span s="4333" t="power at each level. See what&apos;s happening there, at any level, it&apos;s not being set up to do a particular task."><code onclick="Z(this)">1:12:13</code>power at each level. See what's happening there, at any level, it's not being set up to do a particular task.</span><span s="4343" t="It&apos;s being set up to talk about a whole range of things. The consequence of that for design is that something that&apos;s designed in that method is likely to be more robust,"><code onclick="Z(this)">1:12:23</code>It's being set up to talk about a whole range of things. The consequence of that for design is that something that's designed in that method is likely to be more robust,</span><span s="4356" t="where by robust, I mean that if you go and make some change in your description, it&apos;s more likely to be captured by a"><code onclick="Z(this)">1:12:36</code>where by robust, I mean that if you go and make some change in your description, it's more likely to be captured by a</span><span s="4366" t="corresponding change, in the way that the language is implemented at the next level up, right, because you&apos;ve made"><code onclick="Z(this)">1:12:46</code>corresponding change, in the way that the language is implemented at the next level up, right, because you've made</span><span s="4375" t="these levels full. So you&apos;re not talking about a particular thing like Beside. You&apos;ve given yourself a whole vocabulary to express things of that sort, so if you go and change your specifications a"><code onclick="Z(this)">1:12:55</code>these levels full. So you're not talking about a particular thing like Beside. You've given yourself a whole vocabulary to express things of that sort, so if you go and change your specifications a</span><span s="4386" t="little bit, it&apos;s more likely that your methodology will able to adapt to capture that change, whereas a design like this is not going to be robust, because if I go and"><code onclick="Z(this)">1:13:06</code>little bit, it's more likely that your methodology will able to adapt to capture that change, whereas a design like this is not going to be robust, because if I go and</span><span s="4395" t="change something that&apos;s in here, that might affect the entire way that I decomposed everything down, further down the tree. Right, so very big difference in outlook in decomposition,"><code onclick="Z(this)">1:13:15</code>change something that's in here, that might affect the entire way that I decomposed everything down, further down the tree. Right, so very big difference in outlook in decomposition,</span><span s="4406" t="levels of language rather than, sort of, a strict hierarchy. Not only that, but when you have levels of language you&apos;ve given yourself a different vocabularies for talking about"><code onclick="Z(this)">1:13:26</code>levels of language rather than, sort of, a strict hierarchy. Not only that, but when you have levels of language you've given yourself a different vocabularies for talking about</span><span s="4417" t="the design at different levels. So if we go back and look at George one last time, if I wanted to change this picture George, see suddenly I have a"><code onclick="Z(this)">1:13:37</code>the design at different levels. So if we go back and look at George one last time, if I wanted to change this picture George, see suddenly I have a</span><span s="4426" t="whole different ways of describing the change. Like for example, I may want to go to the basic primitive design and move the endpoint of some vector."><code onclick="Z(this)">1:13:46</code>whole different ways of describing the change. Like for example, I may want to go to the basic primitive design and move the endpoint of some vector.</span><span s="4437" t="That&apos;s a change that I would discuss at the lowest level. I would say the endpoint is somewhere else. Or I might come up and say, well the next thing I wanted to do, this little replicated element, I might want to do by"><code onclick="Z(this)">1:13:57</code>That's a change that I would discuss at the lowest level. I would say the endpoint is somewhere else. Or I might come up and say, well the next thing I wanted to do, this little replicated element, I might want to do by</span><span s="4450" t="something else. I might want to put a scale factor in that Beside. That&apos;s a change that I would discuss at the next level of design, the level of combinators."><code onclick="Z(this)">1:14:10</code>something else. I might want to put a scale factor in that Beside. That's a change that I would discuss at the next level of design, the level of combinators.</span><span s="4459" t="Or I might want to say, I might want to change the basic way that I took this pattern and made some recursive decomposition, maybe not bleeding out toward the"><code onclick="Z(this)">1:14:19</code>Or I might want to say, I might want to change the basic way that I took this pattern and made some recursive decomposition, maybe not bleeding out toward the</span><span s="4469" t="corners or something else. That would be a change that I would discuss at the highest level. And because I&apos;ve structured the system to be this way, I have all these vocabularies for talking about change in"><code onclick="Z(this)">1:14:29</code>corners or something else. That would be a change that I would discuss at the highest level. And because I've structured the system to be this way, I have all these vocabularies for talking about change in</span><span s="4479" t="different ways and a lot of flexibility to decide which one&apos;s appropriate. OK, well that&apos;s sort of a big point about the difference in"><code onclick="Z(this)">1:14:39</code>different ways and a lot of flexibility to decide which one's appropriate. OK, well that's sort of a big point about the difference in</span><span s="4488" t="software methodology that comes out from List, and it all comes, again, out of the notion that really, the design process is not so much implementing programs as"><code onclick="Z(this)">1:14:48</code>software methodology that comes out from List, and it all comes, again, out of the notion that really, the design process is not so much implementing programs as</span><span s="4498" t="implementing languages. And that&apos;s really the powerful of List. OK, thank you. Let&apos;s take a break."><code onclick="Z(this)">1:14:58</code>implementing languages. And that's really the powerful of List. OK, thank you. Let's take a break.</span></div><div class="eventlist" side="R" vid="X21cKVtGvYk"><h5><code onclick="Z(this)">0:00:00</code>Lecture 3B | MIT 6.001 Structure and Interpretation, 1986</h5><span s="0" t=" [MUSIC PLAYING]"><code onclick="Z(this)">0:00:00</code> [MUSIC PLAYING]</span><span s="19" t="PROFESSOR: Well, Hal just told us how you build robust systems. The key idea was-- I&apos;m sure that many of you don&apos;t really assimilate that"><code onclick="Z(this)">0:00:19</code>PROFESSOR: Well, Hal just told us how you build robust systems. The key idea was-- I'm sure that many of you don't really assimilate that</span><span s="30" t="yet-- but the key idea is that in order to make a system that&apos;s robust, it has to be insensitive to small changes, that is, a small change in the problem should lead to only a"><code onclick="Z(this)">0:00:30</code>yet-- but the key idea is that in order to make a system that's robust, it has to be insensitive to small changes, that is, a small change in the problem should lead to only a</span><span s="39" t="small change in the solution. There ought to be a continuity. The space of solutions ought to be continuous in this space of problems. The way he was explaining how to do that was instead of"><code onclick="Z(this)">0:00:39</code>small change in the solution. There ought to be a continuity. The space of solutions ought to be continuous in this space of problems. The way he was explaining how to do that was instead of</span><span s="50" t="solving a particular problem at every level of decomposition of the problem at the subproblems, where you solve the class of problems, which are a neighborhood of the particular problem that you&apos;re trying to solve."><code onclick="Z(this)">0:00:50</code>solving a particular problem at every level of decomposition of the problem at the subproblems, where you solve the class of problems, which are a neighborhood of the particular problem that you're trying to solve.</span><span s="61" t="The way you do that is by producing a language at that level of detail in which the solutions to that class of problems is representable in that language."><code onclick="Z(this)">0:01:01</code>The way you do that is by producing a language at that level of detail in which the solutions to that class of problems is representable in that language.</span><span s="71" t="Therefore when you makes more changes to the problem you&apos;re trying to solve, you generally have to make only small local changes to the solution you&apos;ve constructed, because at the"><code onclick="Z(this)">0:01:11</code>Therefore when you makes more changes to the problem you're trying to solve, you generally have to make only small local changes to the solution you've constructed, because at the</span><span s="80" t="level of detail you&apos;re working, there&apos;s a language where you can express the various solutions to alternate problems of the same type."><code onclick="Z(this)">0:01:20</code>level of detail you're working, there's a language where you can express the various solutions to alternate problems of the same type.</span><span s="90" t="Well that&apos;s the beginning of a very important idea, the most important perhaps idea that makes computer science more powerful than most of the other kinds of engineering"><code onclick="Z(this)">0:01:30</code>Well that's the beginning of a very important idea, the most important perhaps idea that makes computer science more powerful than most of the other kinds of engineering</span><span s="100" t="disciplines we know about. What we&apos;ve seen so far is sort of how to use embedding of languages."><code onclick="Z(this)">0:01:40</code>disciplines we know about. What we've seen so far is sort of how to use embedding of languages.</span><span s="109" t="And, of course, the power of embedding languages partly comes from procedures like this one that I showed you yesterday. What you see here is the derivative program that we"><code onclick="Z(this)">0:01:49</code>And, of course, the power of embedding languages partly comes from procedures like this one that I showed you yesterday. What you see here is the derivative program that we</span><span s="121" t="described yesterday. It&apos;s a procedure that takes a procedure as an argument and returns a procedure as a value. And using such things is very nice."><code onclick="Z(this)">0:02:01</code>described yesterday. It's a procedure that takes a procedure as an argument and returns a procedure as a value. And using such things is very nice.</span><span s="132" t="You can make things like push combinators and all that sort of wonderful thing that you saw last time. However, now I&apos;m going to really muddy the waters."><code onclick="Z(this)">0:02:12</code>You can make things like push combinators and all that sort of wonderful thing that you saw last time. However, now I'm going to really muddy the waters.</span><span s="141" t="See this confuses the issue of what&apos;s the procedure and what is data, but not very badly. What we really want to do is confuse it very badly."><code onclick="Z(this)">0:02:21</code>See this confuses the issue of what's the procedure and what is data, but not very badly. What we really want to do is confuse it very badly.</span><span s="151" t="And the best way to do that is to get involved with the manipulation of the algebraic expressions that the procedures themselves are expressed in. So at this point, I want to talk about instead of things"><code onclick="Z(this)">0:02:31</code>And the best way to do that is to get involved with the manipulation of the algebraic expressions that the procedures themselves are expressed in. So at this point, I want to talk about instead of things</span><span s="163" t="like on this slide, the derivative procedure being a thing that manipulates a procedure-- this is a numerical method you see here. And what you&apos;re seeing is a representation of the"><code onclick="Z(this)">0:02:43</code>like on this slide, the derivative procedure being a thing that manipulates a procedure-- this is a numerical method you see here. And what you're seeing is a representation of the</span><span s="176" t="numerical approximation to the derivative. That&apos;s what&apos;s here. In fact what I&apos;d like to talk about is instead things that look like this."><code onclick="Z(this)">0:02:56</code>numerical approximation to the derivative. That's what's here. In fact what I'd like to talk about is instead things that look like this.</span><span s="186" t="And what we have here are rules from a calculus book. These are rules for finding the derivatives of the"><code onclick="Z(this)">0:03:06</code>And what we have here are rules from a calculus book. These are rules for finding the derivatives of the</span><span s="195" t="expressions that one might write in some algebraic language. It says things like a derivative of a constant is 0."><code onclick="Z(this)">0:03:15</code>expressions that one might write in some algebraic language. It says things like a derivative of a constant is 0.</span><span s="204" t="The derivative of the valuable with respect to which you are taking the derivative is 1. The derivative of a constant times the function is the constant times the derivative of the function,"><code onclick="Z(this)">0:03:24</code>The derivative of the valuable with respect to which you are taking the derivative is 1. The derivative of a constant times the function is the constant times the derivative of the function,</span><span s="214" t="and things like that. These are exact expressions. These are not numerical approximations."><code onclick="Z(this)">0:03:34</code>and things like that. These are exact expressions. These are not numerical approximations.</span><span s="223" t="Can we make programs? And, in fact, it&apos;s very easy to make programs that manipulate these expressions."><code onclick="Z(this)">0:03:43</code>Can we make programs? And, in fact, it's very easy to make programs that manipulate these expressions.</span><span s="236" t="Well let&apos;s see. Let&apos;s look at these rules in some detail. You all have seen these rules in your elementary calculus class at one time or another."><code onclick="Z(this)">0:03:56</code>Well let's see. Let's look at these rules in some detail. You all have seen these rules in your elementary calculus class at one time or another.</span><span s="246" t="And you know from calculus that it&apos;s easy to produce derivatives of arbitrary expressions. You also know from your elementary calculus that it&apos;s hard to produce integrals."><code onclick="Z(this)">0:04:06</code>And you know from calculus that it's easy to produce derivatives of arbitrary expressions. You also know from your elementary calculus that it's hard to produce integrals.</span><span s="257" t="Yet integrals and derivatives are opposites of each other. They&apos;re inverse operations. And they have the same rules. What is special about these rules that makes it possible"><code onclick="Z(this)">0:04:17</code>Yet integrals and derivatives are opposites of each other. They're inverse operations. And they have the same rules. What is special about these rules that makes it possible</span><span s="269" t="for one to produce derivatives easily and integrals why it&apos;s so hard? Let&apos;s think about that very simply. Look at these rules."><code onclick="Z(this)">0:04:29</code>for one to produce derivatives easily and integrals why it's so hard? Let's think about that very simply. Look at these rules.</span><span s="279" t="Every one of these rules, when used in the direction for taking derivatives, which is in the direction of this arrow, the left side is matched against your"><code onclick="Z(this)">0:04:39</code>Every one of these rules, when used in the direction for taking derivatives, which is in the direction of this arrow, the left side is matched against your</span><span s="288" t="expression, and the right side is the thing which is the derivative of that expression. The arrow is going that way."><code onclick="Z(this)">0:04:48</code>expression, and the right side is the thing which is the derivative of that expression. The arrow is going that way.</span><span s="298" t="In each of these rules, the expressions on the right-hand side of the rule that are contained within derivatives are subexpressions, are proper subexpressions, of the"><code onclick="Z(this)">0:04:58</code>In each of these rules, the expressions on the right-hand side of the rule that are contained within derivatives are subexpressions, are proper subexpressions, of the</span><span s="308" t="expression on the left-hand side. So here we see the derivative of the sum, with is the expression on the left-hand side is the sum of the"><code onclick="Z(this)">0:05:08</code>expression on the left-hand side. So here we see the derivative of the sum, with is the expression on the left-hand side is the sum of the</span><span s="317" t="derivatives of the pieces. So the rule of moving to the right are reduction rules. The problem becomes easier."><code onclick="Z(this)">0:05:17</code>derivatives of the pieces. So the rule of moving to the right are reduction rules. The problem becomes easier.</span><span s="328" t="I turn a big complicated problem it&apos;s lots of smaller problems and then combine the results, a perfect place for recursion to work. If I&apos;m going in the other direction like this, if I&apos;m"><code onclick="Z(this)">0:05:28</code>I turn a big complicated problem it's lots of smaller problems and then combine the results, a perfect place for recursion to work. If I'm going in the other direction like this, if I'm</span><span s="342" t="trying to produce integrals, well there are several problems you see here. First of all, if I try to integrate an expression like a sum, more than one rule matches. Here&apos;s one that matches."><code onclick="Z(this)">0:05:42</code>trying to produce integrals, well there are several problems you see here. First of all, if I try to integrate an expression like a sum, more than one rule matches. Here's one that matches.</span><span s="352" t="Here&apos;s one that matches. I don&apos;t know which one to take. And they may be different. I may get to explore different things. Also, the expressions become larger in that direction."><code onclick="Z(this)">0:05:52</code>Here's one that matches. I don't know which one to take. And they may be different. I may get to explore different things. Also, the expressions become larger in that direction.</span><span s="364" t="And when the expressions become larger, then there&apos;s no guarantee that any particular path I choose will terminate, because we will only terminate by accidental cancellation."><code onclick="Z(this)">0:06:04</code>And when the expressions become larger, then there's no guarantee that any particular path I choose will terminate, because we will only terminate by accidental cancellation.</span><span s="374" t="So that&apos;s why integrals are complicated searches and hard to do. Right now I don&apos;t want to do anything as hard as that. Let&apos;s work on derivatives for a while."><code onclick="Z(this)">0:06:14</code>So that's why integrals are complicated searches and hard to do. Right now I don't want to do anything as hard as that. Let's work on derivatives for a while.</span><span s="384" t="Well, these roles are ones you know for the most part hopefully. So let&apos;s see if we can write a program which is these rules. And that should be very easy."><code onclick="Z(this)">0:06:24</code>Well, these roles are ones you know for the most part hopefully. So let's see if we can write a program which is these rules. And that should be very easy.</span><span s="394" t="Just write the program. See, because while I showed you is that it&apos;s a reduction rule, it&apos;s something appropriate for a recursion."><code onclick="Z(this)">0:06:34</code>Just write the program. See, because while I showed you is that it's a reduction rule, it's something appropriate for a recursion.</span><span s="403" t="And, of course, what we have for each of these rules is we have a case in some case analysis. So I&apos;m just going to write this program down."><code onclick="Z(this)">0:06:43</code>And, of course, what we have for each of these rules is we have a case in some case analysis. So I'm just going to write this program down.</span><span s="413" t="Now, of course, I&apos;m going to be saying something you have to believe. Right? What you have to believe is I can represent these algebraic expressions, that I can grab their parts, that I can put"><code onclick="Z(this)">0:06:53</code>Now, of course, I'm going to be saying something you have to believe. Right? What you have to believe is I can represent these algebraic expressions, that I can grab their parts, that I can put</span><span s="423" t="them together. We&apos;ve invented list structures so that you can do that. But you don&apos;t want to worry about that now. Right now I&apos;m going to write the program that encapsulates these rules independent of the representation of the"><code onclick="Z(this)">0:07:03</code>them together. We've invented list structures so that you can do that. But you don't want to worry about that now. Right now I'm going to write the program that encapsulates these rules independent of the representation of the</span><span s="434" t="algebraic expressions. You have a derivative of an expression with"><code onclick="Z(this)">0:07:14</code>algebraic expressions. You have a derivative of an expression with</span><span s="447" t="respect to a variable. This is a different thing than the derivative of the function. That&apos;s what we saw last time, that numerical approximation."><code onclick="Z(this)">0:07:27</code>respect to a variable. This is a different thing than the derivative of the function. That's what we saw last time, that numerical approximation.</span><span s="459" t="It&apos;s something you can&apos;t open up a function. It&apos;s just the answers. The derivative of an expression is the way it&apos;s written. And therefore it&apos;s a syntactic phenomenon."><code onclick="Z(this)">0:07:39</code>It's something you can't open up a function. It's just the answers. The derivative of an expression is the way it's written. And therefore it's a syntactic phenomenon.</span><span s="468" t="And so a lot of what we&apos;re going to be doing today is worrying about syntax, syntax of expressions and things like that. Well, there&apos;s a case analysis."><code onclick="Z(this)">0:07:48</code>And so a lot of what we're going to be doing today is worrying about syntax, syntax of expressions and things like that. Well, there's a case analysis.</span><span s="477" t="Anytime we do anything complicated thereby a recursion, we presumably need a case analysis. It&apos;s the essential way to begin. And that&apos;s usually a conditional"><code onclick="Z(this)">0:07:57</code>Anytime we do anything complicated thereby a recursion, we presumably need a case analysis. It's the essential way to begin. And that's usually a conditional</span><span s="486" t="of some large kind. Well, what are their possibilities? the first rule that you saw is this something a constant?"><code onclick="Z(this)">0:08:06</code>of some large kind. Well, what are their possibilities? the first rule that you saw is this something a constant?</span><span s="496" t="And what I&apos;m asking is, is the expression a constant with respect to the variable given? If so, the result is 0, because the derivative"><code onclick="Z(this)">0:08:16</code>And what I'm asking is, is the expression a constant with respect to the variable given? If so, the result is 0, because the derivative</span><span s="508" t="represents the rate of change of something. If, however, the expression that I&apos;m taking the derivative"><code onclick="Z(this)">0:08:28</code>represents the rate of change of something. If, however, the expression that I'm taking the derivative</span><span s="518" t="of is the variable I&apos;m varying, then this is the same variable, the expression var, then the rate of change of the"><code onclick="Z(this)">0:08:38</code>of is the variable I'm varying, then this is the same variable, the expression var, then the rate of change of the</span><span s="532" t="expression with respect to the variable is 1. It&apos;s the same 1. Well now there are a couple of other possibilities."><code onclick="Z(this)">0:08:52</code>expression with respect to the variable is 1. It's the same 1. Well now there are a couple of other possibilities.</span><span s="541" t="It could, for example, be a sum. Well, I don&apos;t know how I&apos;m going to express sums yet. Actually I do. But I haven&apos;t told you yet."><code onclick="Z(this)">0:09:01</code>It could, for example, be a sum. Well, I don't know how I'm going to express sums yet. Actually I do. But I haven't told you yet.</span><span s="550" t="But is it a sum? I&apos;m imagining that there&apos;s some way of telling. I&apos;m doing a dispatch on the type of the expression here,"><code onclick="Z(this)">0:09:10</code>But is it a sum? I'm imagining that there's some way of telling. I'm doing a dispatch on the type of the expression here,</span><span s="560" t="absolutely essential in building languages. Languages are made out of different expressions. And soon we&apos;re going to see that in our more powerful methods of building languages on languages."><code onclick="Z(this)">0:09:20</code>absolutely essential in building languages. Languages are made out of different expressions. And soon we're going to see that in our more powerful methods of building languages on languages.</span><span s="572" t="Is an expression a sum? If it&apos;s a sum, well, we know the rule for derivative of the sum is the sum of the derivatives of the parts."><code onclick="Z(this)">0:09:32</code>Is an expression a sum? If it's a sum, well, we know the rule for derivative of the sum is the sum of the derivatives of the parts.</span><span s="582" t="One of them is called the addend and the other is the augend. But I don&apos;t have enough space on the blackboard to such long names. So I&apos;ll call them A1 and A2. I want to make a sum."><code onclick="Z(this)">0:09:42</code>One of them is called the addend and the other is the augend. But I don't have enough space on the blackboard to such long names. So I'll call them A1 and A2. I want to make a sum.</span><span s="593" t="Do you remember which is the sum for end or the menu end? Or was it the dividend and the divisor or something like that? Make sum of the derivative of the A1, I&apos;ll call it."><code onclick="Z(this)">0:09:53</code>Do you remember which is the sum for end or the menu end? Or was it the dividend and the divisor or something like that? Make sum of the derivative of the A1, I'll call it.</span><span s="608" t="It&apos;s the addend of the expression with respect to the variable, and the derivative of the A2 of the expression,"><code onclick="Z(this)">0:10:08</code>It's the addend of the expression with respect to the variable, and the derivative of the A2 of the expression,</span><span s="623" t="because the two arguments, the addition with respect to the variable."><code onclick="Z(this)">0:10:23</code>because the two arguments, the addition with respect to the variable.</span><span s="632" t="And another rule that we know is product rule, which is, if the expression is a product."><code onclick="Z(this)">0:10:32</code>And another rule that we know is product rule, which is, if the expression is a product.</span><span s="643" t="By the way, it&apos;s a good idea when you&apos;re defining things, when you&apos;re defining predicates, to give them a name that ends in a question mark. This question mark doesn&apos;t mean anything."><code onclick="Z(this)">0:10:43</code>By the way, it's a good idea when you're defining things, when you're defining predicates, to give them a name that ends in a question mark. This question mark doesn't mean anything.</span><span s="653" t="It&apos;s for us as an agreement. It&apos;s a conventional interface between humans so you can read my programs more easily. So I want you to, when you write programs, if you define"><code onclick="Z(this)">0:10:53</code>It's for us as an agreement. It's a conventional interface between humans so you can read my programs more easily. So I want you to, when you write programs, if you define</span><span s="662" t="a predicate procedure, that&apos;s something that rings true of false, it should have a name which ends in question mark. The list doesn&apos;t care. I care."><code onclick="Z(this)">0:11:02</code>a predicate procedure, that's something that rings true of false, it should have a name which ends in question mark. The list doesn't care. I care.</span><span s="671" t="I want to make a sum. Because the derivative of a product is the sum of the first times the derivative of the second plus the second times the derivative of the first. Make a sum of two"><code onclick="Z(this)">0:11:11</code>I want to make a sum. Because the derivative of a product is the sum of the first times the derivative of the second plus the second times the derivative of the first. Make a sum of two</span><span s="686" t="things, a product of, well, I&apos;m going to say the M1 of the"><code onclick="Z(this)">0:11:26</code>things, a product of, well, I'm going to say the M1 of the</span><span s="697" t="expression, and the derivative of the M2 of the expression"><code onclick="Z(this)">0:11:37</code>expression, and the derivative of the M2 of the expression</span><span s="707" t="with respect to the variable, and the product of the"><code onclick="Z(this)">0:11:47</code>with respect to the variable, and the product of the</span><span s="721" t="derivative of M1, the multiplier of the expression,"><code onclick="Z(this)">0:12:01</code>derivative of M1, the multiplier of the expression,</span><span s="730" t="with respect to the variable. It&apos;s the product of that and the multiplicand, M2, of the expression."><code onclick="Z(this)">0:12:10</code>with respect to the variable. It's the product of that and the multiplicand, M2, of the expression.</span><span s="741" t="Make that product. Make the sum. Close that case. And, of course, I could add as many cases as I like here for a complete set of rules you might find in a calculus book."><code onclick="Z(this)">0:12:21</code>Make that product. Make the sum. Close that case. And, of course, I could add as many cases as I like here for a complete set of rules you might find in a calculus book.</span><span s="754" t="So this is what it takes to encapsulate those rules. And you see, you have to realize there&apos;s a lot of"><code onclick="Z(this)">0:12:34</code>So this is what it takes to encapsulate those rules. And you see, you have to realize there's a lot of</span><span s="763" t="wishful thinking here. I haven&apos;t told you anything about how I&apos;m going to make these representations. Now, once I&apos;ve decided that this is my set of rules, I"><code onclick="Z(this)">0:12:43</code>wishful thinking here. I haven't told you anything about how I'm going to make these representations. Now, once I've decided that this is my set of rules, I</span><span s="772" t="think it&apos;s time to play with the representation. Let&apos;s attack that/ Well, first of all, I&apos;m going to play a pun."><code onclick="Z(this)">0:12:52</code>think it's time to play with the representation. Let's attack that/ Well, first of all, I'm going to play a pun.</span><span s="781" t="It&apos;s an important pun. It&apos;s a key to a sort of powerful idea. If I want to represent sums, and products, and differences,"><code onclick="Z(this)">0:13:01</code>It's an important pun. It's a key to a sort of powerful idea. If I want to represent sums, and products, and differences,</span><span s="792" t="and quotients, and things like that, why not use the same language as I&apos;m writing my program in? I write my program in algebraic expressions that"><code onclick="Z(this)">0:13:12</code>and quotients, and things like that, why not use the same language as I'm writing my program in? I write my program in algebraic expressions that</span><span s="803" t="look like the sum of the product on a and the product of x and x, and things like that."><code onclick="Z(this)">0:13:23</code>look like the sum of the product on a and the product of x and x, and things like that.</span><span s="814" t="And the product of b and x and c, whatever, make that a sum of the product. Right now I don&apos;t want to have procedures with unknown"><code onclick="Z(this)">0:13:34</code>And the product of b and x and c, whatever, make that a sum of the product. Right now I don't want to have procedures with unknown</span><span s="823" t="numbers of arguments, a product of b and x and c. This is list structure."><code onclick="Z(this)">0:13:43</code>numbers of arguments, a product of b and x and c. This is list structure.</span><span s="834" t="And the reason why this is nice, is because any one of these objects has a property. I know where the car is. The car is the operator."><code onclick="Z(this)">0:13:54</code>And the reason why this is nice, is because any one of these objects has a property. I know where the car is. The car is the operator.</span><span s="844" t="And the operands are the successive cdrs the successive cars of the cdrs of the list that this is. It makes it very convenient."><code onclick="Z(this)">0:14:04</code>And the operands are the successive cdrs the successive cars of the cdrs of the list that this is. It makes it very convenient.</span><span s="854" t="I have to parse it. It&apos;s been done for me. I&apos;m using the embedding and Lisp to advantage. So, for example, let&apos;s start using list structure to write"><code onclick="Z(this)">0:14:14</code>I have to parse it. It's been done for me. I'm using the embedding and Lisp to advantage. So, for example, let's start using list structure to write</span><span s="869" t="down the representation that I&apos;m implicitly assuming here. Well I have to define various things that are implied in this representation."><code onclick="Z(this)">0:14:29</code>down the representation that I'm implicitly assuming here. Well I have to define various things that are implied in this representation.</span><span s="878" t="Like I have to find out how to do a constant, how you do same variable. Let&apos;s do those first. That&apos;s pretty easy enough. Now I&apos;m going to be introducing lots of primitives"><code onclick="Z(this)">0:14:38</code>Like I have to find out how to do a constant, how you do same variable. Let's do those first. That's pretty easy enough. Now I'm going to be introducing lots of primitives</span><span s="887" t="here, because these are the primitives that come with list structure. OK, you define a constant."><code onclick="Z(this)">0:14:47</code>here, because these are the primitives that come with list structure. OK, you define a constant.</span><span s="902" t="And what I mean by a constant, an expression that&apos;s constant with respect to a veritable, is that the expression is something simple."><code onclick="Z(this)">0:15:02</code>And what I mean by a constant, an expression that's constant with respect to a veritable, is that the expression is something simple.</span><span s="911" t="I can&apos;t take it into pieces, and yet it isn&apos;t that variable. I can&apos;t break it up, and yet it isn&apos;t that variable. That does not mean that there may be other expressions that"><code onclick="Z(this)">0:15:11</code>I can't take it into pieces, and yet it isn't that variable. I can't break it up, and yet it isn't that variable. That does not mean that there may be other expressions that</span><span s="922" t="are more complicated that are constants. It&apos;s just that I&apos;m going to look at the primitive constants in this way. So what this is, is it says that&apos;s it&apos;s the and."><code onclick="Z(this)">0:15:22</code>are more complicated that are constants. It's just that I'm going to look at the primitive constants in this way. So what this is, is it says that's it's the and.</span><span s="934" t="I can combine predicate expressions which return true or false with and. Something atomic, The expression is atomic, meaning"><code onclick="Z(this)">0:15:34</code>I can combine predicate expressions which return true or false with and. Something atomic, The expression is atomic, meaning</span><span s="945" t="it cannot be broken into parts. It doesn&apos;t have a car and a cdr. It&apos;s not a list. It adds a special test built into the system."><code onclick="Z(this)">0:15:45</code>it cannot be broken into parts. It doesn't have a car and a cdr. It's not a list. It adds a special test built into the system.</span><span s="954" t="And it&apos;s not identically equal to that variable."><code onclick="Z(this)">0:15:54</code>And it's not identically equal to that variable.</span><span s="966" t="I&apos;m representing my variable by things that are symbols which cannot be broken into pieces, things like x, and y,"><code onclick="Z(this)">0:16:06</code>I'm representing my variable by things that are symbols which cannot be broken into pieces, things like x, and y,</span><span s="976" t="things like this. Whereas, of course, something like this can be broken up into pieces. And the same variable of an expression with respect to a"><code onclick="Z(this)">0:16:16</code>things like this. Whereas, of course, something like this can be broken up into pieces. And the same variable of an expression with respect to a</span><span s="1000" t="variable is, in fact, an atomic expression. I want to have an atomic"><code onclick="Z(this)">0:16:40</code>variable is, in fact, an atomic expression. I want to have an atomic</span><span s="1010" t="expression, which is identical."><code onclick="Z(this)">0:16:50</code>expression, which is identical.</span><span s="1028" t="I don&apos;t want to look inside this stuff anymore. These are primitive maybe. But it doesn&apos;t matter."><code onclick="Z(this)">0:17:08</code>I don't want to look inside this stuff anymore. These are primitive maybe. But it doesn't matter.</span><span s="1038" t="I&apos;m using things that are given to me with a language. I&apos;m not terribly interest in them Now how do we deal with sums? Ah, something very interesting will happen."><code onclick="Z(this)">0:17:18</code>I'm using things that are given to me with a language. I'm not terribly interest in them Now how do we deal with sums? Ah, something very interesting will happen.</span><span s="1049" t="A sum is something which is not atomic and begins with the plus symbol. That&apos;s what it means. So here, I will define."><code onclick="Z(this)">0:17:29</code>A sum is something which is not atomic and begins with the plus symbol. That's what it means. So here, I will define.</span><span s="1065" t="An question is a sum if and it&apos;s not atomic and it&apos;s head,"><code onclick="Z(this)">0:17:45</code>An question is a sum if and it's not atomic and it's head,</span><span s="1088" t="it&apos;s beginning, its car of the expression is the symbol plus."><code onclick="Z(this)">0:18:08</code>it's beginning, its car of the expression is the symbol plus.</span><span s="1099" t="Now you&apos;re about to see something you haven&apos;t seen before, this quotation. Why do I have that quotation there?"><code onclick="Z(this)">0:18:19</code>Now you're about to see something you haven't seen before, this quotation. Why do I have that quotation there?</span><span s="1109" t="Say your name, AUDIENCE: Susanna. PROFESSOR: Louder. AUDIENCE: Susanna PROFESSOR: Say your name. AUDIENCE: Your name. PROFESSOR: Louder. AUDIENCE: Your name. PROFESSOR: OK."><code onclick="Z(this)">0:18:29</code>Say your name, AUDIENCE: Susanna. PROFESSOR: Louder. AUDIENCE: Susanna PROFESSOR: Say your name. AUDIENCE: Your name. PROFESSOR: Louder. AUDIENCE: Your name. PROFESSOR: OK.</span><span s="1119" t="What I&apos;m showing you here is that the words of English are ambiguous. I was saying, say your name."><code onclick="Z(this)">0:18:39</code>What I'm showing you here is that the words of English are ambiguous. I was saying, say your name.</span><span s="1132" t="I was also possibly saying say, your name. But that cannot be distinguished in speech."><code onclick="Z(this)">0:18:52</code>I was also possibly saying say, your name. But that cannot be distinguished in speech.</span><span s="1144" t="However, we do have a notation in writing, which is quotation for distinguishing these two possible meanings."><code onclick="Z(this)">0:19:04</code>However, we do have a notation in writing, which is quotation for distinguishing these two possible meanings.</span><span s="1154" t="In particular, over here, in Lisp we have a notation for distinguishing these meetings. If I were to just write a plus here, a plus symbol, I would"><code onclick="Z(this)">0:19:14</code>In particular, over here, in Lisp we have a notation for distinguishing these meetings. If I were to just write a plus here, a plus symbol, I would</span><span s="1164" t="be asking, is the first element of the expression, is the operator position of the expression, the addition operator?"><code onclick="Z(this)">0:19:24</code>be asking, is the first element of the expression, is the operator position of the expression, the addition operator?</span><span s="1174" t="I don&apos;t know. I would have to have written the addition operator there, which I can&apos;t write. However, this way I&apos;m asking, is this the symbolic object"><code onclick="Z(this)">0:19:34</code>I don't know. I would have to have written the addition operator there, which I can't write. However, this way I'm asking, is this the symbolic object</span><span s="1185" t="plus, which normally stands for the addition operator? That&apos;s what I want. That&apos;s the question I want to ask. Now before I go any further, I want to point out the"><code onclick="Z(this)">0:19:45</code>plus, which normally stands for the addition operator? That's what I want. That's the question I want to ask. Now before I go any further, I want to point out the</span><span s="1195" t="quotation is a very complex concept, and adding it to a language causes a great deal of troubles. Consider the next slide."><code onclick="Z(this)">0:19:55</code>quotation is a very complex concept, and adding it to a language causes a great deal of troubles. Consider the next slide.</span><span s="1206" t="Here&apos;s a deduction which we should all agree with. We have, Alyssa is smart and Alyssa is George&apos;s mother."><code onclick="Z(this)">0:20:06</code>Here's a deduction which we should all agree with. We have, Alyssa is smart and Alyssa is George's mother.</span><span s="1217" t="This is an equality, is. From those two, we can deduce that George&apos;s mother is smart."><code onclick="Z(this)">0:20:17</code>This is an equality, is. From those two, we can deduce that George's mother is smart.</span><span s="1227" t="Because we can always substitute equals for equals in expressions. Or can we?"><code onclick="Z(this)">0:20:27</code>Because we can always substitute equals for equals in expressions. Or can we?</span><span s="1236" t="Here&apos;s a case where we have &quot;Chicago&quot; has seven letters. The quotation means that I&apos;m discussing the word Chicago,"><code onclick="Z(this)">0:20:36</code>Here's a case where we have "Chicago" has seven letters. The quotation means that I'm discussing the word Chicago,</span><span s="1245" t="not what the word represents. Here I have that Chicago is the biggest city in Illinois."><code onclick="Z(this)">0:20:45</code>not what the word represents. Here I have that Chicago is the biggest city in Illinois.</span><span s="1254" t="As a consequence of this, I would like to deduce that the biggest city in Illinois has seven letters. But that&apos;s manifestly false."><code onclick="Z(this)">0:20:54</code>As a consequence of this, I would like to deduce that the biggest city in Illinois has seven letters. But that's manifestly false.</span><span s="1265" t="Wow, it works. OK, so once we have things like that, our language gets much more complicated."><code onclick="Z(this)">0:21:05</code>Wow, it works. OK, so once we have things like that, our language gets much more complicated.</span><span s="1274" t="Because it&apos;s no longer true that things we tend to like to do with languages, like substituting equals for equals and getting right answers, are going to work without being very careful."><code onclick="Z(this)">0:21:14</code>Because it's no longer true that things we tend to like to do with languages, like substituting equals for equals and getting right answers, are going to work without being very careful.</span><span s="1284" t="We can&apos;t substitute into what&apos;s called referentially opaque contexts, of which a quotation is the prototypical type of referentially opaque context."><code onclick="Z(this)">0:21:24</code>We can't substitute into what's called referentially opaque contexts, of which a quotation is the prototypical type of referentially opaque context.</span><span s="1293" t="If you know what that means, you can consult a philosopher. Presumably there is one in the room. In any case, let&apos;s continue now, now that we at least have"><code onclick="Z(this)">0:21:33</code>If you know what that means, you can consult a philosopher. Presumably there is one in the room. In any case, let's continue now, now that we at least have</span><span s="1302" t="an operational understanding of a 2000-year-old issue that has to do with name, and mention, and all sorts of things like that."><code onclick="Z(this)">0:21:42</code>an operational understanding of a 2000-year-old issue that has to do with name, and mention, and all sorts of things like that.</span><span s="1312" t="I have to define what I mean, how to make a sum of two things, an a1 and a2."><code onclick="Z(this)">0:21:52</code>I have to define what I mean, how to make a sum of two things, an a1 and a2.</span><span s="1322" t="And I&apos;m going to do this very simply. It&apos;s a list of the symbol plus, and a1, and a2."><code onclick="Z(this)">0:22:02</code>And I'm going to do this very simply. It's a list of the symbol plus, and a1, and a2.</span><span s="1333" t="And I can determine the first element. Define a1 to be cadr. I&apos;ve just"><code onclick="Z(this)">0:22:13</code>And I can determine the first element. Define a1 to be cadr. I've just</span><span s="1354" t="introduced another primitive. This is the car of the cdr of something. You might want to know why car and cdr are names of these"><code onclick="Z(this)">0:22:34</code>introduced another primitive. This is the car of the cdr of something. You might want to know why car and cdr are names of these</span><span s="1363" t="primitives, and why they&apos;ve survived, even though they&apos;re much better ideas like left and right. We could have called them things like that. Well, first of all, the names come from the fact that in the"><code onclick="Z(this)">0:22:43</code>primitives, and why they've survived, even though they're much better ideas like left and right. We could have called them things like that. Well, first of all, the names come from the fact that in the</span><span s="1374" t="great past, when Lisp was invented, I suppose in &apos;58 or something, it was on a 704 or something like that, which had a machine. It was a machine that had an address register and a"><code onclick="Z(this)">0:22:54</code>great past, when Lisp was invented, I suppose in '58 or something, it was on a 704 or something like that, which had a machine. It was a machine that had an address register and a</span><span s="1384" t="decrement register. And these were the contents of the address register and the decrement register. So it&apos;s an historical accident. Now why have these names survived? It&apos;s because Lisp programmers like to talk to each other"><code onclick="Z(this)">0:23:04</code>decrement register. And these were the contents of the address register and the decrement register. So it's an historical accident. Now why have these names survived? It's because Lisp programmers like to talk to each other</span><span s="1394" t="over the phone. And if you want to have a long sequence of cars and cdrs you might say, cdaddedr, which can be understood. But left of right or right of left is not so clear if you"><code onclick="Z(this)">0:23:14</code>over the phone. And if you want to have a long sequence of cars and cdrs you might say, cdaddedr, which can be understood. But left of right or right of left is not so clear if you</span><span s="1406" t="get good at it. So that&apos;s why we have these words. All of them up to four deep are defined typically in a Lisp system."><code onclick="Z(this)">0:23:26</code>get good at it. So that's why we have these words. All of them up to four deep are defined typically in a Lisp system.</span><span s="1418" t="A2 to be-- and, of course, you can see that if I looked at one of these expressions like the sum of 3 and 5, what that is is a"><code onclick="Z(this)">0:23:38</code>A2 to be-- and, of course, you can see that if I looked at one of these expressions like the sum of 3 and 5, what that is is a</span><span s="1434" t="list containing the symbol plus, and a number 3,"><code onclick="Z(this)">0:23:54</code>list containing the symbol plus, and a number 3,</span><span s="1446" t="and a number 5. Then the car is the symbol plus."><code onclick="Z(this)">0:24:06</code>and a number 5. Then the car is the symbol plus.</span><span s="1456" t="The car of the cdr. Well I take the cdr and then I take the car. And that&apos;s how I get to the 3. That&apos;s the first argument. And the car of the cdr of the cdr gets me to this one, the 5."><code onclick="Z(this)">0:24:16</code>The car of the cdr. Well I take the cdr and then I take the car. And that's how I get to the 3. That's the first argument. And the car of the cdr of the cdr gets me to this one, the 5.</span><span s="1468" t="And similarly, of course, I can define what&apos;s going on with products. Let&apos;s do that very quickly."><code onclick="Z(this)">0:24:28</code>And similarly, of course, I can define what's going on with products. Let's do that very quickly.</span><span s="1488" t="Is the expression a product? Yes if and if it&apos;s true, that&apos;s it&apos;s not atomic and"><code onclick="Z(this)">0:24:48</code>Is the expression a product? Yes if and if it's true, that's it's not atomic and</span><span s="1501" t="it&apos;s EQ quote, the asterisk symbol, which is the operator"><code onclick="Z(this)">0:25:01</code>it's EQ quote, the asterisk symbol, which is the operator</span><span s="1513" t="for multiplication. Make product of an M1 and an M2 to be list, quote, the"><code onclick="Z(this)">0:25:13</code>for multiplication. Make product of an M1 and an M2 to be list, quote, the</span><span s="1535" t="asterisk operation and M1 and M2. and I define M1 to be cadr and M2 to be caddr. You get to be"><code onclick="Z(this)">0:25:35</code>asterisk operation and M1 and M2. and I define M1 to be cadr and M2 to be caddr. You get to be</span><span s="1560" t="a good Lisp programmer because you start talking that way. I cdr down lists and console them up and so on. Now, now that we have essentially a complete program"><code onclick="Z(this)">0:26:00</code>a good Lisp programmer because you start talking that way. I cdr down lists and console them up and so on. Now, now that we have essentially a complete program</span><span s="1569" t="for finding derivatives, you can add more rules if you like. What kind of behavior do we get out of it? I&apos;ll have to clear that x. Well, supposing I define foo here to be the sum of the"><code onclick="Z(this)">0:26:09</code>for finding derivatives, you can add more rules if you like. What kind of behavior do we get out of it? I'll have to clear that x. Well, supposing I define foo here to be the sum of the</span><span s="1588" t="product of ax square and bx plus c. That&apos;s the same thing we see here as the algebraic expression written in the more conventional notation over there."><code onclick="Z(this)">0:26:28</code>product of ax square and bx plus c. That's the same thing we see here as the algebraic expression written in the more conventional notation over there.</span><span s="1597" t="Well, the derivative of foo with respect to x, which we can see over here, is this horrible, horrendous mess."><code onclick="Z(this)">0:26:37</code>Well, the derivative of foo with respect to x, which we can see over here, is this horrible, horrendous mess.</span><span s="1606" t="I would like it to be 2ax plus b. But it&apos;s not. It&apos;s equivalent to it. What is it?"><code onclick="Z(this)">0:26:46</code>I would like it to be 2ax plus b. But it's not. It's equivalent to it. What is it?</span><span s="1616" t="I have here, what do I have? I have the derivative of the product of x and x. Over here is, of course, the sum of x times"><code onclick="Z(this)">0:26:56</code>I have here, what do I have? I have the derivative of the product of x and x. Over here is, of course, the sum of x times</span><span s="1629" t="1 and 1 times x. Now, well, it&apos;s the first times the derivative of the second plus the second times the derivative of the first. It&apos;s right. That&apos;s 2x of course."><code onclick="Z(this)">0:27:09</code>1 and 1 times x. Now, well, it's the first times the derivative of the second plus the second times the derivative of the first. It's right. That's 2x of course.</span><span s="1640" t="a times 2x is 2ax plus 0X square doesn&apos;t count plus B over here plus a bunch of 0&apos;s."><code onclick="Z(this)">0:27:20</code>a times 2x is 2ax plus 0X square doesn't count plus B over here plus a bunch of 0's.</span><span s="1649" t="Well the answer is right. But I give people take off points on an exam for that, sadly enough. Let&apos;s worry about that in the next segment. Are there any questions?"><code onclick="Z(this)">0:27:29</code>Well the answer is right. But I give people take off points on an exam for that, sadly enough. Let's worry about that in the next segment. Are there any questions?</span><span s="1662" t="Yes? AUDIENCE: If you had left the quote when you put the plus, then would that be referring to the procedure plus and"><code onclick="Z(this)">0:27:42</code>Yes? AUDIENCE: If you had left the quote when you put the plus, then would that be referring to the procedure plus and</span><span s="1671" t="could you do a comparison between that procedure and some other procedure if you wanted to? PROFESSOR: Yes. Good question. If I had left this quotation off at this point, if I had"><code onclick="Z(this)">0:27:51</code>could you do a comparison between that procedure and some other procedure if you wanted to? PROFESSOR: Yes. Good question. If I had left this quotation off at this point, if I had</span><span s="1685" t="left that quotation off at that point, then I would be referring here to the procedure which is the thing that plus is defined to be."><code onclick="Z(this)">0:28:05</code>left that quotation off at that point, then I would be referring here to the procedure which is the thing that plus is defined to be.</span><span s="1695" t="And indeed, I could compare some procedures with each other for identity."><code onclick="Z(this)">0:28:15</code>And indeed, I could compare some procedures with each other for identity.</span><span s="1705" t="Now what that means is not clear right now. I don&apos;t like to think about it. Because I don&apos;t know exactly what it would need to compare procedures. There are reasons why that may make no sense at all."><code onclick="Z(this)">0:28:25</code>Now what that means is not clear right now. I don't like to think about it. Because I don't know exactly what it would need to compare procedures. There are reasons why that may make no sense at all.</span><span s="1715" t="However, the symbols, we understand. And so that&apos;s why I put that quote in. I want to talk about the symbol that&apos;s apparent on the page."><code onclick="Z(this)">0:28:35</code>However, the symbols, we understand. And so that's why I put that quote in. I want to talk about the symbol that's apparent on the page.</span><span s="1726" t="Any other questions? OK. Thank you. Let&apos;s take a break. [MUSIC PLAYING]"><code onclick="Z(this)">0:28:46</code>Any other questions? OK. Thank you. Let's take a break. [MUSIC PLAYING]</span><span s="1770" t="PROFESSOR: Well, let&apos;s see. We&apos;ve just developed a fairly plausible program for computing the derivatives of algebraic expressions. It&apos;s an incomplete program, if you would"><code onclick="Z(this)">0:29:30</code>PROFESSOR: Well, let's see. We've just developed a fairly plausible program for computing the derivatives of algebraic expressions. It's an incomplete program, if you would</span><span s="1780" t="like to add more rules. And perhaps you might extend it to deal with uses of addition with any number of arguments and multiplication with any of the number of arguments."><code onclick="Z(this)">0:29:40</code>like to add more rules. And perhaps you might extend it to deal with uses of addition with any number of arguments and multiplication with any of the number of arguments.</span><span s="1789" t="And that&apos;s all rather easy. However, there was a little fly in that ointment. We go back to this slide."><code onclick="Z(this)">0:29:49</code>And that's all rather easy. However, there was a little fly in that ointment. We go back to this slide.</span><span s="1802" t="We see that the expressions that we get are rather bad. This is a rather bad expression."><code onclick="Z(this)">0:30:02</code>We see that the expressions that we get are rather bad. This is a rather bad expression.</span><span s="1811" t="How do we get such an expression? Why do we have that expression? Let&apos;s look at this expression in some detail. Let&apos;s find out where all the pieces come from."><code onclick="Z(this)">0:30:11</code>How do we get such an expression? Why do we have that expression? Let's look at this expression in some detail. Let's find out where all the pieces come from.</span><span s="1821" t="As we see here, we have a sum-- just what I showed you at the end of the last time-- of X times 1 plus 1 time X. That is a"><code onclick="Z(this)">0:30:21</code>As we see here, we have a sum-- just what I showed you at the end of the last time-- of X times 1 plus 1 time X. That is a</span><span s="1830" t="derivative of this product. The produce of a times that, where a does not depend upon x, and therefore is constant with respect to x, is this"><code onclick="Z(this)">0:30:30</code>derivative of this product. The produce of a times that, where a does not depend upon x, and therefore is constant with respect to x, is this</span><span s="1840" t="sum, which goes from here all the way through here and through here. Because it is the first thing times the derivative of the second plus the derivative of the first times the second as"><code onclick="Z(this)">0:30:40</code>sum, which goes from here all the way through here and through here. Because it is the first thing times the derivative of the second plus the derivative of the first times the second as</span><span s="1854" t="the program we wrote on the blackboard indicated we should do. And, of course, the product of bx over here manifests itself"><code onclick="Z(this)">0:30:54</code>the program we wrote on the blackboard indicated we should do. And, of course, the product of bx over here manifests itself</span><span s="1866" t="as B times 1 plus 0 times X because we see that B does not"><code onclick="Z(this)">0:31:06</code>as B times 1 plus 0 times X because we see that B does not</span><span s="1875" t="depend upon X. And so the derivative of B is this 0, and the derivative of X with respect itself is the 1. And, of course, the derivative of the sums over here turn"><code onclick="Z(this)">0:31:15</code>depend upon X. And so the derivative of B is this 0, and the derivative of X with respect itself is the 1. And, of course, the derivative of the sums over here turn</span><span s="1886" t="into these two sums of the derivatives of the parts. So what we&apos;re seeing here is exactly the thing I was trying to tell you about with Fibonacci numbers a while ago,"><code onclick="Z(this)">0:31:26</code>into these two sums of the derivatives of the parts. So what we're seeing here is exactly the thing I was trying to tell you about with Fibonacci numbers a while ago,</span><span s="1897" t="that the form of the process is expanded from the local rules that you see in the procedure, that the procedure"><code onclick="Z(this)">0:31:37</code>that the form of the process is expanded from the local rules that you see in the procedure, that the procedure</span><span s="1908" t="represents a set of local rules for the expansion of this process. And here, the process left behind some stuff, which is"><code onclick="Z(this)">0:31:48</code>represents a set of local rules for the expansion of this process. And here, the process left behind some stuff, which is</span><span s="1919" t="the answer. And it was constructed by the walk it takes of the tree structure, which is the expression."><code onclick="Z(this)">0:31:59</code>the answer. And it was constructed by the walk it takes of the tree structure, which is the expression.</span><span s="1928" t="So every part in the answer we see here derives from some part of the problem. Now, we can look at, for example, the derivative of"><code onclick="Z(this)">0:32:08</code>So every part in the answer we see here derives from some part of the problem. Now, we can look at, for example, the derivative of</span><span s="1937" t="foo, which is ax square plus bx plus c, with respect to other things, like here, for example, we can see that the derivative of foo with respect to a."><code onclick="Z(this)">0:32:17</code>foo, which is ax square plus bx plus c, with respect to other things, like here, for example, we can see that the derivative of foo with respect to a.</span><span s="1947" t="And it&apos;s very similar. It&apos;s, in fact, the identical algebraic expression, except for the fact that theses 0&apos;s and 1&apos;s are in different places. Because the only degree of freedom we have in this tree"><code onclick="Z(this)">0:32:27</code>And it's very similar. It's, in fact, the identical algebraic expression, except for the fact that theses 0's and 1's are in different places. Because the only degree of freedom we have in this tree</span><span s="1958" t="walk is what&apos;s constant with respect to the variable we&apos;re taking the derivative with respect to and was the same variable."><code onclick="Z(this)">0:32:38</code>walk is what's constant with respect to the variable we're taking the derivative with respect to and was the same variable.</span><span s="1968" t="In other words, if we go back to this blackboard and we look, we have no choice what to do when we take the derivative of the sum or a product."><code onclick="Z(this)">0:32:48</code>In other words, if we go back to this blackboard and we look, we have no choice what to do when we take the derivative of the sum or a product.</span><span s="1978" t="The only interesting place here is, is the expression the variable, or is the expression a constant with respect to"><code onclick="Z(this)">0:32:58</code>The only interesting place here is, is the expression the variable, or is the expression a constant with respect to</span><span s="1987" t="that variable for very, very small expressions? In which case we get various 1&apos;s and 0&apos;s, which if we go back to this slide, we can see that the 0&apos;s that appear here,"><code onclick="Z(this)">0:33:07</code>that variable for very, very small expressions? In which case we get various 1's and 0's, which if we go back to this slide, we can see that the 0's that appear here,</span><span s="1997" t="for example, this 1 over here in derivative of foo with respect to A, which gets us an X square, because that 1 gets the multiply of X and X into the answer, that 1 is 0."><code onclick="Z(this)">0:33:17</code>for example, this 1 over here in derivative of foo with respect to A, which gets us an X square, because that 1 gets the multiply of X and X into the answer, that 1 is 0.</span><span s="2012" t="Over here, we&apos;re not taking the derivative of foo with respect to c. But the shapes of these expressions are the same. See all those shapes."><code onclick="Z(this)">0:33:32</code>Over here, we're not taking the derivative of foo with respect to c. But the shapes of these expressions are the same. See all those shapes.</span><span s="2022" t="They&apos;re the same. Well is there anything wrong with our rules?"><code onclick="Z(this)">0:33:42</code>They're the same. Well is there anything wrong with our rules?</span><span s="2033" t="No. They&apos;re the right rules. We&apos;ve been through this one before. One of the things you&apos;re going to begin to discover is that"><code onclick="Z(this)">0:33:53</code>No. They're the right rules. We've been through this one before. One of the things you're going to begin to discover is that</span><span s="2042" t="there aren&apos;t too many good ideas. When we were looking at rational numbers yesterday,"><code onclick="Z(this)">0:34:02</code>there aren't too many good ideas. When we were looking at rational numbers yesterday,</span><span s="2052" t="the problem was that we got 6/8 rather then 3/4. The answer was unsimplified. The problem, of course, is very similar."><code onclick="Z(this)">0:34:12</code>the problem was that we got 6/8 rather then 3/4. The answer was unsimplified. The problem, of course, is very similar.</span><span s="2061" t="There are things I&apos;d like to be identical by simplification that don&apos;t become identical. And yet the rules for doing addition a multiplication of"><code onclick="Z(this)">0:34:21</code>There are things I'd like to be identical by simplification that don't become identical. And yet the rules for doing addition a multiplication of</span><span s="2070" t="rational numbers were correct. So the way we might solve this problem is do the thing we did last time, which always works. If something worked last time it ought to work again."><code onclick="Z(this)">0:34:30</code>rational numbers were correct. So the way we might solve this problem is do the thing we did last time, which always works. If something worked last time it ought to work again.</span><span s="2080" t="It&apos;s changed representation. Perhaps in the representation we could put in a simplification step that produces a simplified representation."><code onclick="Z(this)">0:34:40</code>It's changed representation. Perhaps in the representation we could put in a simplification step that produces a simplified representation.</span><span s="2090" t="This may not always work, of course. I&apos;m not trying to say that it always works. But it&apos;s one of the pieces of artillery we have in our war"><code onclick="Z(this)">0:34:50</code>This may not always work, of course. I'm not trying to say that it always works. But it's one of the pieces of artillery we have in our war</span><span s="2099" t="against complexity. You see, because we solved our problem very carefully. What we&apos;ve done, is we&apos;ve divided the world in several parts. There are derivatives rules and general rules for algebra"><code onclick="Z(this)">0:34:59</code>against complexity. You see, because we solved our problem very carefully. What we've done, is we've divided the world in several parts. There are derivatives rules and general rules for algebra</span><span s="2112" t="of some sort at this level of detail. and i have an abstraction barrier."><code onclick="Z(this)">0:35:12</code>of some sort at this level of detail. and i have an abstraction barrier.</span><span s="2121" t="And i have the representation of the algebraic expressions,"><code onclick="Z(this)">0:35:21</code>And i have the representation of the algebraic expressions,</span><span s="2132" t="list structure. And in this barrier, I have the interface procedures."><code onclick="Z(this)">0:35:32</code>list structure. And in this barrier, I have the interface procedures.</span><span s="2143" t="I have constant, and things like same-var."><code onclick="Z(this)">0:35:43</code>I have constant, and things like same-var.</span><span s="2154" t="I have things like sum, make-sum. I have A1, A2."><code onclick="Z(this)">0:35:54</code>I have things like sum, make-sum. I have A1, A2.</span><span s="2166" t="I have products and things like that, all the other things I might need for various kinds of algebraic expressions. Making this barrier allows me to arbitrarily change the"><code onclick="Z(this)">0:36:06</code>I have products and things like that, all the other things I might need for various kinds of algebraic expressions. Making this barrier allows me to arbitrarily change the</span><span s="2178" t="representation without changing the rules that are written in terms of that representation. So if I can make the problem go away by changing"><code onclick="Z(this)">0:36:18</code>representation without changing the rules that are written in terms of that representation. So if I can make the problem go away by changing</span><span s="2188" t="representation, the composition of the problem into these two parts has helped me a great deal. So let&apos;s take a very simple case of this."><code onclick="Z(this)">0:36:28</code>representation, the composition of the problem into these two parts has helped me a great deal. So let's take a very simple case of this.</span><span s="2198" t="What was one of the problems? Let&apos;s go back to this transparency again. And we see here, oh yes, there&apos;s horrible things like"><code onclick="Z(this)">0:36:38</code>What was one of the problems? Let's go back to this transparency again. And we see here, oh yes, there's horrible things like</span><span s="2208" t="here is the sum of an expression and 0. Well that&apos;s no reason to think of it as anything other than the expression itself."><code onclick="Z(this)">0:36:48</code>here is the sum of an expression and 0. Well that's no reason to think of it as anything other than the expression itself.</span><span s="2217" t="Why should the summation operation have made up this edition? It can be smarter than that. Or here, for example, is a multiplication of"><code onclick="Z(this)">0:36:57</code>Why should the summation operation have made up this edition? It can be smarter than that. Or here, for example, is a multiplication of</span><span s="2229" t="something by 1. It&apos;s another thing like that. Or here is a product of something with 0, which is certainly 0. So we won&apos;t have to make this construction."><code onclick="Z(this)">0:37:09</code>something by 1. It's another thing like that. Or here is a product of something with 0, which is certainly 0. So we won't have to make this construction.</span><span s="2241" t="So why don&apos;t we just do that? We need to change the way the representation works, almost here."><code onclick="Z(this)">0:37:21</code>So why don't we just do that? We need to change the way the representation works, almost here.</span><span s="2257" t="Make-sum to be. Well, now it&apos;s not something so simple. I&apos;m not going to make a list containing the symbol plus and"><code onclick="Z(this)">0:37:37</code>Make-sum to be. Well, now it's not something so simple. I'm not going to make a list containing the symbol plus and</span><span s="2268" t="things unless I need to. Well, what are the possibilities?"><code onclick="Z(this)">0:37:48</code>things unless I need to. Well, what are the possibilities?</span><span s="2277" t="I have some sort of cases here. If I have numbers, if anyone is a number--"><code onclick="Z(this)">0:37:57</code>I have some sort of cases here. If I have numbers, if anyone is a number--</span><span s="2289" t="and here&apos;s another primitive I&apos;ve just introduced, it&apos;s possible to tell whether something&apos;s number-- and if number A2, meaning they&apos;re not symbolic"><code onclick="Z(this)">0:38:09</code>and here's another primitive I've just introduced, it's possible to tell whether something's number-- and if number A2, meaning they're not symbolic</span><span s="2303" t="expressions, then why not do the addition now? The result is just a plus of A1 and A2."><code onclick="Z(this)">0:38:23</code>expressions, then why not do the addition now? The result is just a plus of A1 and A2.</span><span s="2312" t="I&apos;m not asking if these represent numbers. Of course all of these symbols represent numbers. I&apos;m talking about whether the one I&apos;ve got is the number 3 right now."><code onclick="Z(this)">0:38:32</code>I'm not asking if these represent numbers. Of course all of these symbols represent numbers. I'm talking about whether the one I've got is the number 3 right now.</span><span s="2323" t="And, for example, supposing A1 is a number, and it&apos;s equal to"><code onclick="Z(this)">0:38:43</code>And, for example, supposing A1 is a number, and it's equal to</span><span s="2339" t="0, well then the answer is just A2. There is no reason to make anything up."><code onclick="Z(this)">0:38:59</code>0, well then the answer is just A2. There is no reason to make anything up.</span><span s="2350" t="And if A2 is a number, and equal A20, then"><code onclick="Z(this)">0:39:10</code>And if A2 is a number, and equal A20, then</span><span s="2367" t="the result is A1. And only if I can&apos;t figure out something better to do with this situation, well, I can start a list. Otherwise I want"><code onclick="Z(this)">0:39:27</code>the result is A1. And only if I can't figure out something better to do with this situation, well, I can start a list. Otherwise I want</span><span s="2381" t="the representation to be the list containing the quoted symbol plus, and A1, and A2."><code onclick="Z(this)">0:39:41</code>the representation to be the list containing the quoted symbol plus, and A1, and A2.</span><span s="2398" t="And, of course, a very similar thing can be done for products. And I think I&apos;ll avoid boring you with them. I was going to write it on the blackboard."><code onclick="Z(this)">0:39:58</code>And, of course, a very similar thing can be done for products. And I think I'll avoid boring you with them. I was going to write it on the blackboard.</span><span s="2407" t="I don&apos;t think it&apos;s necessary. You know what to do. It&apos;s very simple. But now, let&apos;s just see the kind of results we get out of"><code onclick="Z(this)">0:40:07</code>I don't think it's necessary. You know what to do. It's very simple. But now, let's just see the kind of results we get out of</span><span s="2417" t="changing our program in this way. Well, here&apos;s the derivatives after having just changed the constructors for expressions."><code onclick="Z(this)">0:40:17</code>changing our program in this way. Well, here's the derivatives after having just changed the constructors for expressions.</span><span s="2428" t="The same foo, aX square plus bX plus c, and what I get is nothing more than the derivative of that is 2aX plus"><code onclick="Z(this)">0:40:28</code>The same foo, aX square plus bX plus c, and what I get is nothing more than the derivative of that is 2aX plus</span><span s="2440" t="B. Well, it&apos;s not completely simplified. I would like to collect common terms and sums. Well, that&apos;s more work. And, of course, programs to do this sort of thing are huge"><code onclick="Z(this)">0:40:40</code>B. Well, it's not completely simplified. I would like to collect common terms and sums. Well, that's more work. And, of course, programs to do this sort of thing are huge</span><span s="2451" t="and complicated. Algebraic simplification, it&apos;s a very complicated mess. There&apos;s a very famous program you may have heard of called Maxima developed at MIT in the past, which is 5,000 pages of"><code onclick="Z(this)">0:40:51</code>and complicated. Algebraic simplification, it's a very complicated mess. There's a very famous program you may have heard of called Maxima developed at MIT in the past, which is 5,000 pages of</span><span s="2462" t="Lisp code, mostly the algebraic simplification operations. There we see the derivative of foo."><code onclick="Z(this)">0:41:02</code>Lisp code, mostly the algebraic simplification operations. There we see the derivative of foo.</span><span s="2472" t="In fact, X is at something I wouldn&apos;t take off more than 1 point for on an elementary calculus class. And the derivative of foo with respect to a, well it&apos;s gone down to X times X, which isn&apos;t so bad."><code onclick="Z(this)">0:41:12</code>In fact, X is at something I wouldn't take off more than 1 point for on an elementary calculus class. And the derivative of foo with respect to a, well it's gone down to X times X, which isn't so bad.</span><span s="2484" t="And the derivative of foo with respect to b is just X itself. And the derivative of foo with respect to c comes out 1. So I&apos;m pretty pleased with this."><code onclick="Z(this)">0:41:24</code>And the derivative of foo with respect to b is just X itself. And the derivative of foo with respect to c comes out 1. So I'm pretty pleased with this.</span><span s="2494" t="What you&apos;ve seen is, of course, a little bit contrived, carefully organized example to show you how we can manipulate algebraic expressions, how we do that"><code onclick="Z(this)">0:41:34</code>What you've seen is, of course, a little bit contrived, carefully organized example to show you how we can manipulate algebraic expressions, how we do that</span><span s="2503" t="abstractly in terms of abstract syntax rather than concrete syntax and how we can use the abstraction to control"><code onclick="Z(this)">0:41:43</code>abstractly in terms of abstract syntax rather than concrete syntax and how we can use the abstraction to control</span><span s="2513" t="what goes on in building these expressions. But the real story isn&apos;t just such a simple thing as that. The real story is, in fact, that I&apos;m manipulating these"><code onclick="Z(this)">0:41:53</code>what goes on in building these expressions. But the real story isn't just such a simple thing as that. The real story is, in fact, that I'm manipulating these</span><span s="2523" t="expressions. And the expressions are the same expressions-- going back to the slide-- as the ones that are Lisp expressions."><code onclick="Z(this)">0:42:03</code>expressions. And the expressions are the same expressions-- going back to the slide-- as the ones that are Lisp expressions.</span><span s="2532" t="There&apos;s a pun here. I&apos;ve chosen my representation to be the same as the representation in my language of similar things."><code onclick="Z(this)">0:42:12</code>There's a pun here. I've chosen my representation to be the same as the representation in my language of similar things.</span><span s="2542" t="By doing so, I&apos;ve invoked a necessity. I created the necessity to have things like quotation because of the fact that my language is capable of writing"><code onclick="Z(this)">0:42:22</code>By doing so, I've invoked a necessity. I created the necessity to have things like quotation because of the fact that my language is capable of writing</span><span s="2555" t="expressions that talk about expressions of the language. I need to have something that says, this is an expression I&apos;m talking about rather than this expression is talking"><code onclick="Z(this)">0:42:35</code>expressions that talk about expressions of the language. I need to have something that says, this is an expression I'm talking about rather than this expression is talking</span><span s="2565" t="about something, and I want to talk about that. So quotation stops and says, I&apos;m talking about this"><code onclick="Z(this)">0:42:45</code>about something, and I want to talk about that. So quotation stops and says, I'm talking about this</span><span s="2574" t="expression itself. Now, given that power, if I can manipulate expressions of"><code onclick="Z(this)">0:42:54</code>expression itself. Now, given that power, if I can manipulate expressions of</span><span s="2583" t="the language, I can begin to build even much more powerful layers upon layers of languages. Because I can write languages that not only are embedded in"><code onclick="Z(this)">0:43:03</code>the language, I can begin to build even much more powerful layers upon layers of languages. Because I can write languages that not only are embedded in</span><span s="2592" t="Lisp or whatever language you start with, but languages that are completely different, that are just, if we say, interpreted in Lisp or something like that."><code onclick="Z(this)">0:43:12</code>Lisp or whatever language you start with, but languages that are completely different, that are just, if we say, interpreted in Lisp or something like that.</span><span s="2603" t="We&apos;ll get to understand those words more in the future. But right now I just want to leave you with the fact that we&apos;ve hit a line which gives us tremendous power."><code onclick="Z(this)">0:43:23</code>We'll get to understand those words more in the future. But right now I just want to leave you with the fact that we've hit a line which gives us tremendous power.</span><span s="2616" t="And this point we&apos;ve bought a sledgehammer. We have to be careful to what flies when we apply it. Thank you. [MUSIC PLAYING]"><code onclick="Z(this)">0:43:36</code>And this point we've bought a sledgehammer. We have to be careful to what flies when we apply it. Thank you. [MUSIC PLAYING]</span></div><div class="eventlist" side="R" vid="amf5lTZ0UTc"><h5><code onclick="Z(this)">0:00:00</code>Lecture 4A | MIT 6.001 Structure and Interpretation, 1986</h5><span s="0" t=""><code onclick="Z(this)">0:00:00</code></span><span s="24" t="PROFESSOR: Well, yesterday we learned a bit about symbolic manipulation, and we wrote a rather stylized program to"><code onclick="Z(this)">0:00:24</code>PROFESSOR: Well, yesterday we learned a bit about symbolic manipulation, and we wrote a rather stylized program to</span><span s="35" t="implement a pile of calculus rule from the calculus book. Here on the transparencies, we see a bunch of calculus rules"><code onclick="Z(this)">0:00:35</code>implement a pile of calculus rule from the calculus book. Here on the transparencies, we see a bunch of calculus rules</span><span s="47" t="from such a book. And, of course, what we did is sort of translate these rules into the language of the computer."><code onclick="Z(this)">0:00:47</code>from such a book. And, of course, what we did is sort of translate these rules into the language of the computer.</span><span s="56" t="But, of course, that&apos;s a sort of funny strategy. Why should we have to translate these rules into the language of the computer? And what do I really mean by that?"><code onclick="Z(this)">0:00:56</code>But, of course, that's a sort of funny strategy. Why should we have to translate these rules into the language of the computer? And what do I really mean by that?</span><span s="67" t="These are--the program we wrote yesterday was very stylized. It was a conditional, a dispatch on the type of the expression as observed by the rules."><code onclick="Z(this)">0:01:07</code>These are--the program we wrote yesterday was very stylized. It was a conditional, a dispatch on the type of the expression as observed by the rules.</span><span s="79" t="What we see here are rules that say if the object being the derivative is being taken of, if that expression is a constant, then do one thing."><code onclick="Z(this)">0:01:19</code>What we see here are rules that say if the object being the derivative is being taken of, if that expression is a constant, then do one thing.</span><span s="89" t="If it&apos;s a variable, do another thing. If it&apos;s a product of a constant times a variable, do something and so on. There&apos;s sort of a dispatch there on a type."><code onclick="Z(this)">0:01:29</code>If it's a variable, do another thing. If it's a product of a constant times a variable, do something and so on. There's sort of a dispatch there on a type.</span><span s="101" t="Well, since it has such a stylized behavior and structure, is there some other way of writing this program that&apos;s more clear?"><code onclick="Z(this)">0:01:41</code>Well, since it has such a stylized behavior and structure, is there some other way of writing this program that's more clear?</span><span s="110" t="Well, what&apos;s a rule, first of all? What are these rules? Let&apos;s think about that. Rules have parts. If you look at these rules in detail, what you see, for"><code onclick="Z(this)">0:01:50</code>Well, what's a rule, first of all? What are these rules? Let's think about that. Rules have parts. If you look at these rules in detail, what you see, for</span><span s="124" t="example, is the rule has a left-hand side and a right-hand side. Each of these rules has a left-hand side and the"><code onclick="Z(this)">0:02:04</code>example, is the rule has a left-hand side and a right-hand side. Each of these rules has a left-hand side and the</span><span s="133" t="right-hand side. The left-hand side is somehow compared with the expression you&apos;re trying to take the derivative of. The right-hand side is the replacement for that"><code onclick="Z(this)">0:02:13</code>right-hand side. The left-hand side is somehow compared with the expression you're trying to take the derivative of. The right-hand side is the replacement for that</span><span s="144" t="expression. So all rules on this page are something like this."><code onclick="Z(this)">0:02:24</code>expression. So all rules on this page are something like this.</span><span s="155" t="I have patterns, and somehow, I have to produce, given a"><code onclick="Z(this)">0:02:35</code>I have patterns, and somehow, I have to produce, given a</span><span s="165" t="pattern, a skeleton. This is a rule."><code onclick="Z(this)">0:02:45</code>pattern, a skeleton. This is a rule.</span><span s="175" t="A pattern is something that matches, and a skeleton is something you substitute into in order to get a new expression."><code onclick="Z(this)">0:02:55</code>A pattern is something that matches, and a skeleton is something you substitute into in order to get a new expression.</span><span s="186" t="So what that means is that the pattern is matched against the expression, which is the source expression."><code onclick="Z(this)">0:03:06</code>So what that means is that the pattern is matched against the expression, which is the source expression.</span><span s="203" t="And the result of the application of the rule is to produce a new expression, which I&apos;ll call a target, by"><code onclick="Z(this)">0:03:23</code>And the result of the application of the rule is to produce a new expression, which I'll call a target, by</span><span s="218" t="instantiation of a skeleton. That&apos;s called instantiation."><code onclick="Z(this)">0:03:38</code>instantiation of a skeleton. That's called instantiation.</span><span s="230" t="So that is the process by which these rules are described. What I&apos;d like to do today is build a language and a means"><code onclick="Z(this)">0:03:50</code>So that is the process by which these rules are described. What I'd like to do today is build a language and a means</span><span s="242" t="of interpreting that language, a means of executing that language, where that language allows us to directly express these rules. And what we&apos;re going to do is instead of bringing the rules"><code onclick="Z(this)">0:04:02</code>of interpreting that language, a means of executing that language, where that language allows us to directly express these rules. And what we're going to do is instead of bringing the rules</span><span s="254" t="to the level of the computer by writing a program that is those rules in the computer&apos;s language-- at the moment, in a Lisp-- we&apos;re going to bring the computer to the level of us by"><code onclick="Z(this)">0:04:14</code>to the level of the computer by writing a program that is those rules in the computer's language-- at the moment, in a Lisp-- we're going to bring the computer to the level of us by</span><span s="265" t="writing a way by which the computer can understand rules of this sort. This is slightly emphasizing the idea that we had last time"><code onclick="Z(this)">0:04:25</code>writing a way by which the computer can understand rules of this sort. This is slightly emphasizing the idea that we had last time</span><span s="275" t="that we&apos;re trying to make a solution to a class of problems rather than a particular one. The problem is if I want to write rules for a different"><code onclick="Z(this)">0:04:35</code>that we're trying to make a solution to a class of problems rather than a particular one. The problem is if I want to write rules for a different</span><span s="285" t="piece of mathematics, say, to simple algebraic simplification or something like that, or manipulation of"><code onclick="Z(this)">0:04:45</code>piece of mathematics, say, to simple algebraic simplification or something like that, or manipulation of</span><span s="294" t="trigonometric functions, I would have to write a different program in using yesterday&apos;s method. Whereas I would like to encapsulate all of the things"><code onclick="Z(this)">0:04:54</code>trigonometric functions, I would have to write a different program in using yesterday's method. Whereas I would like to encapsulate all of the things</span><span s="303" t="that are common to both of those programs, meaning the idea of matching, instantiation, the control structure, which turns out to be very complicated for such a"><code onclick="Z(this)">0:05:03</code>that are common to both of those programs, meaning the idea of matching, instantiation, the control structure, which turns out to be very complicated for such a</span><span s="312" t="thing, I&apos;d like to encapsulate that separately from the rules themselves. So let&apos;s look at, first of all, a representation."><code onclick="Z(this)">0:05:12</code>thing, I'd like to encapsulate that separately from the rules themselves. So let's look at, first of all, a representation.</span><span s="322" t="I&apos;d like to use the overhead here. I&apos;d like-- there it is. I&apos;d like to look at a representation of the rules of calculus for derivatives in a sort of simple language that"><code onclick="Z(this)">0:05:22</code>I'd like to use the overhead here. I'd like-- there it is. I'd like to look at a representation of the rules of calculus for derivatives in a sort of simple language that</span><span s="336" t="I&apos;m writing right here. Now, I&apos;m going to avoid--I&apos;m going to avoid worrying about syntax. We can easily pretty this, and I&apos;m not interested in making--"><code onclick="Z(this)">0:05:36</code>I'm writing right here. Now, I'm going to avoid--I'm going to avoid worrying about syntax. We can easily pretty this, and I'm not interested in making--</span><span s="348" t="this is indeed ugly. This doesn&apos;t look like the beautiful text set dx by dt or something that I&apos;d like to write, but that&apos;s not essential."><code onclick="Z(this)">0:05:48</code>this is indeed ugly. This doesn't look like the beautiful text set dx by dt or something that I'd like to write, but that's not essential.</span><span s="358" t="That&apos;s sort of an accidental phenomenon. Here, we&apos;re just worrying about the fact that the structure of the rules is that there is a left-hand side"><code onclick="Z(this)">0:05:58</code>That's sort of an accidental phenomenon. Here, we're just worrying about the fact that the structure of the rules is that there is a left-hand side</span><span s="367" t="here, represents the thing I want to match against the derivative expression. This is the representation I&apos;m going to say for the derivative of a constant, which we will call c with"><code onclick="Z(this)">0:06:07</code>here, represents the thing I want to match against the derivative expression. This is the representation I'm going to say for the derivative of a constant, which we will call c with</span><span s="378" t="respect to the variable we will call v. And what we will get on the right-hand side is 0. So this represents a rule."><code onclick="Z(this)">0:06:18</code>respect to the variable we will call v. And what we will get on the right-hand side is 0. So this represents a rule.</span><span s="389" t="The next rule will be the derivative of a variable, which we will call v with respect to the same variable v, and we get a 1."><code onclick="Z(this)">0:06:29</code>The next rule will be the derivative of a variable, which we will call v with respect to the same variable v, and we get a 1.</span><span s="398" t="However, if we have the derivative of a variable called u with respect to a different variables v, we will get 0."><code onclick="Z(this)">0:06:38</code>However, if we have the derivative of a variable called u with respect to a different variables v, we will get 0.</span><span s="407" t="I just want you look at these rules a little bit and see how they fit together. For example, over here, we&apos;re going to have the derivative"><code onclick="Z(this)">0:06:47</code>I just want you look at these rules a little bit and see how they fit together. For example, over here, we're going to have the derivative</span><span s="416" t="of the sum of an expression called x1 and an expression called x2. These things that begin with question marks are called pattern variables in the language that we&apos;re inventing,"><code onclick="Z(this)">0:06:56</code>of the sum of an expression called x1 and an expression called x2. These things that begin with question marks are called pattern variables in the language that we're inventing,</span><span s="428" t="and you see we&apos;re just making it up, so pattern variables for matching. And so in this-- here we have the derivative of the sum of the expression"><code onclick="Z(this)">0:07:08</code>and you see we're just making it up, so pattern variables for matching. And so in this-- here we have the derivative of the sum of the expression</span><span s="439" t="which we will call x1. And the expression we will call x2 with respect to the variable we call v will be-- here is the right-hand side: the sum of the derivative of that expression x1 with"><code onclick="Z(this)">0:07:19</code>which we will call x1. And the expression we will call x2 with respect to the variable we call v will be-- here is the right-hand side: the sum of the derivative of that expression x1 with</span><span s="449" t="respect to v-- the right-hand side is the skeleton-- and the derivative of x2 with respect to v. Colons here will"><code onclick="Z(this)">0:07:29</code>respect to v-- the right-hand side is the skeleton-- and the derivative of x2 with respect to v. Colons here will</span><span s="458" t="stand for substitution objects. They&apos;re--we&apos;ll call them skeleton evaluations."><code onclick="Z(this)">0:07:38</code>stand for substitution objects. They're--we'll call them skeleton evaluations.</span><span s="468" t="So let me put up here on the blackboard for a second some syntax so we&apos;ll know what&apos;s going on for this rule language. First of all, we&apos;re going to have to worry about the"><code onclick="Z(this)">0:07:48</code>So let me put up here on the blackboard for a second some syntax so we'll know what's going on for this rule language. First of all, we're going to have to worry about the</span><span s="478" t="pattern matching. We&apos;re going to have things like a symbol like foo matches"><code onclick="Z(this)">0:07:58</code>pattern matching. We're going to have things like a symbol like foo matches</span><span s="491" t="exactly itself."><code onclick="Z(this)">0:08:11</code>exactly itself.</span><span s="503" t="The expression f of a and b will be used to match any list"><code onclick="Z(this)">0:08:23</code>The expression f of a and b will be used to match any list</span><span s="515" t="whose first element is f, whose second element is a, and"><code onclick="Z(this)">0:08:35</code>whose first element is f, whose second element is a, and</span><span s="531" t="whose third element is b. Also, another thing we might have in a pattern is that--"><code onclick="Z(this)">0:08:51</code>whose third element is b. Also, another thing we might have in a pattern is that--</span><span s="543" t="a question mark with some variable like x. And what that means, it says matches anything, which we"><code onclick="Z(this)">0:09:03</code>a question mark with some variable like x. And what that means, it says matches anything, which we</span><span s="557" t="will call x. Question mark c x will match only constants."><code onclick="Z(this)">0:09:17</code>will call x. Question mark c x will match only constants.</span><span s="570" t="So this is something which matches a constant colon x."><code onclick="Z(this)">0:09:30</code>So this is something which matches a constant colon x.</span><span s="584" t="And question mark v x will match a variable,"><code onclick="Z(this)">0:09:44</code>And question mark v x will match a variable,</span><span s="595" t="which we call x. This is sort of the language we&apos;re making up now."><code onclick="Z(this)">0:09:55</code>which we call x. This is sort of the language we're making up now.</span><span s="604" t="If I match two things against each other, then they are compared element by element. But elements in the pattern may contain these syntactic"><code onclick="Z(this)">0:10:04</code>If I match two things against each other, then they are compared element by element. But elements in the pattern may contain these syntactic</span><span s="613" t="variables, pattern variables, which will be used to match arbitrary objects."><code onclick="Z(this)">0:10:13</code>variables, pattern variables, which will be used to match arbitrary objects.</span><span s="622" t="And we&apos;ll get that object as the value in the name x here, for example."><code onclick="Z(this)">0:10:22</code>And we'll get that object as the value in the name x here, for example.</span><span s="631" t="Now, when we make skeletons for instantiation. Well, then we have things like this."><code onclick="Z(this)">0:10:31</code>Now, when we make skeletons for instantiation. Well, then we have things like this.</span><span s="642" t="foo, a symbol, instantiates to itself."><code onclick="Z(this)">0:10:42</code>foo, a symbol, instantiates to itself.</span><span s="655" t="Something which is a list like f of a and b, instantiates to--"><code onclick="Z(this)">0:10:55</code>Something which is a list like f of a and b, instantiates to--</span><span s="666" t="well, f instantiates to a 3-list, a list of three elements, okay, which are the results of instantiating each"><code onclick="Z(this)">0:11:06</code>well, f instantiates to a 3-list, a list of three elements, okay, which are the results of instantiating each</span><span s="687" t="of f, a, and b."><code onclick="Z(this)">0:11:27</code>of f, a, and b.</span><span s="696" t="And x well--we instantiate to the value of x as in the"><code onclick="Z(this)">0:11:36</code>And x well--we instantiate to the value of x as in the</span><span s="713" t="matched pattern."><code onclick="Z(this)">0:11:53</code>matched pattern.</span><span s="722" t="So going back to the overhead here, we see--we see that all of those kinds of objects, we see here a pattern variable"><code onclick="Z(this)">0:12:02</code>So going back to the overhead here, we see--we see that all of those kinds of objects, we see here a pattern variable</span><span s="734" t="which matches a constant, a pattern variable which matches a variable, a pattern variable which will match anything. And if we have two instances of the same name, like this is"><code onclick="Z(this)">0:12:14</code>which matches a constant, a pattern variable which matches a variable, a pattern variable which will match anything. And if we have two instances of the same name, like this is</span><span s="745" t="the derivative of the expression which is a variable only whose name will be v with respect to some arbitrary"><code onclick="Z(this)">0:12:25</code>the derivative of the expression which is a variable only whose name will be v with respect to some arbitrary</span><span s="754" t="expression which we will call v, since this v appears twice, we&apos;re going to want that to mean they have to be the same. The only consistent match is that those are the same."><code onclick="Z(this)">0:12:34</code>expression which we will call v, since this v appears twice, we're going to want that to mean they have to be the same. The only consistent match is that those are the same.</span><span s="765" t="So here, we&apos;re making up a language. And in fact, that&apos;s a very nice thing to be doing. It&apos;s so much fun to make up a language. And you do this all the time."><code onclick="Z(this)">0:12:45</code>So here, we're making up a language. And in fact, that's a very nice thing to be doing. It's so much fun to make up a language. And you do this all the time.</span><span s="774" t="And the really most powerful design things you ever do are sort of making up a language to solve problems like this. Now, here we go back here and look at some of these rules."><code onclick="Z(this)">0:12:54</code>And the really most powerful design things you ever do are sort of making up a language to solve problems like this. Now, here we go back here and look at some of these rules.</span><span s="785" t="Well, there&apos;s a whole set of them. I mean, there&apos;s one for addition and one for multiplication, just like we had before. The derivative of the product of x1 and x2 with respect to v"><code onclick="Z(this)">0:13:05</code>Well, there's a whole set of them. I mean, there's one for addition and one for multiplication, just like we had before. The derivative of the product of x1 and x2 with respect to v</span><span s="796" t="is the sum of the product of x1 and the derivative x2 with respect to v and the product of the derivative of x1 and x2."><code onclick="Z(this)">0:13:16</code>is the sum of the product of x1 and the derivative x2 with respect to v and the product of the derivative of x1 and x2.</span><span s="807" t="And here we have exponentiation. And, of course, we run off the end down here. We get as many as we like. But the whole thing over here, I&apos;m giving this--this list of"><code onclick="Z(this)">0:13:27</code>And here we have exponentiation. And, of course, we run off the end down here. We get as many as we like. But the whole thing over here, I'm giving this--this list of</span><span s="816" t="rules the name &quot;derivative rules.&quot; What would we do with such a thing once we have it?"><code onclick="Z(this)">0:13:36</code>rules the name "derivative rules." What would we do with such a thing once we have it?</span><span s="825" t="Well, one of the nicest ideas, first of all, is I&apos;m going to write for you, and we&apos;re going to play with it all day. What I&apos;m going to write for you is a program called"><code onclick="Z(this)">0:13:45</code>Well, one of the nicest ideas, first of all, is I'm going to write for you, and we're going to play with it all day. What I'm going to write for you is a program called</span><span s="836" t="simplifier, the general-purpose simplifier. And we&apos;re going to say something like define dsimp to"><code onclick="Z(this)">0:13:56</code>simplifier, the general-purpose simplifier. And we're going to say something like define dsimp to</span><span s="849" t="be a simplifier of the derivative rules."><code onclick="Z(this)">0:14:09</code>be a simplifier of the derivative rules.</span><span s="863" t="And what simplifier is going to do is, given a set of rules, it will produce for me a procedure which will simplify expressions containing the things that are"><code onclick="Z(this)">0:14:23</code>And what simplifier is going to do is, given a set of rules, it will produce for me a procedure which will simplify expressions containing the things that are</span><span s="873" t="referred to by these rules. So here will be a procedure constructed for your purposes"><code onclick="Z(this)">0:14:33</code>referred to by these rules. So here will be a procedure constructed for your purposes</span><span s="882" t="to simplify things with derivatives in them such that, after that, if we&apos;re typing at some list system, and we get a prompt, and we say dsimp, for example, of the derivative of"><code onclick="Z(this)">0:14:42</code>to simplify things with derivatives in them such that, after that, if we're typing at some list system, and we get a prompt, and we say dsimp, for example, of the derivative of</span><span s="898" t="the sum of x and y with respect to x-- note the quote here because I&apos;m talking about the"><code onclick="Z(this)">0:14:58</code>the sum of x and y with respect to x-- note the quote here because I'm talking about the</span><span s="908" t="expression which is the derivative-- then I will get back as a result plus 1 0."><code onclick="Z(this)">0:15:08</code>expression which is the derivative-- then I will get back as a result plus 1 0.</span><span s="919" t="Because the derivative of x plus y is the derivative of x plus derivative y. The derivative of x with respect to x is 1. The derivative of y with respect to x is 0."><code onclick="Z(this)">0:15:19</code>Because the derivative of x plus y is the derivative of x plus derivative y. The derivative of x with respect to x is 1. The derivative of y with respect to x is 0.</span><span s="929" t="It&apos;s not what we&apos;re going to get. I haven&apos;t put any simplification at that level-- algebraic simplification-- yet. Of course, once we have such a thing, then we can--then we"><code onclick="Z(this)">0:15:29</code>It's not what we're going to get. I haven't put any simplification at that level-- algebraic simplification-- yet. Of course, once we have such a thing, then we can--then we</span><span s="939" t="can look at other rules. So, for example, we can, if we go to the slide, OK?"><code onclick="Z(this)">0:15:39</code>can look at other rules. So, for example, we can, if we go to the slide, OK?</span><span s="949" t="Here, for example, are other rules that we might have, algebraic manipulation rules, ones that would be used for simplifying algebraic expressions."><code onclick="Z(this)">0:15:49</code>Here, for example, are other rules that we might have, algebraic manipulation rules, ones that would be used for simplifying algebraic expressions.</span><span s="958" t="For example, just looking at some of these, the left-hand side says any operator applied to a constant e1 and a"><code onclick="Z(this)">0:15:58</code>For example, just looking at some of these, the left-hand side says any operator applied to a constant e1 and a</span><span s="968" t="constant e2 is the result of evaluating that operator on the constants e1 and e2. Or an operator, applied to e1, any expression e1 and a"><code onclick="Z(this)">0:16:08</code>constant e2 is the result of evaluating that operator on the constants e1 and e2. Or an operator, applied to e1, any expression e1 and a</span><span s="980" t="constant e2, is going to move the constant forward. So that&apos;ll turn into the operator with e2 followed by e1. Why I did that, I don&apos;t know."><code onclick="Z(this)">0:16:20</code>constant e2, is going to move the constant forward. So that'll turn into the operator with e2 followed by e1. Why I did that, I don't know.</span><span s="990" t="It wouldn&apos;t work if I had division, for example. So there&apos;s a bug in the rules, if you like. So the sum of 0 and e is e."><code onclick="Z(this)">0:16:30</code>It wouldn't work if I had division, for example. So there's a bug in the rules, if you like. So the sum of 0 and e is e.</span><span s="1002" t="The product of 1 and any expression e is e. The product of 0 and any expression e is 0. Just looking at some more of these rules, we could have"><code onclick="Z(this)">0:16:42</code>The product of 1 and any expression e is e. The product of 0 and any expression e is 0. Just looking at some more of these rules, we could have</span><span s="1011" t="arbitrarily complicated ones. We could have things like the product of the constant e1 and any constant e2 with e3 is the result of multiplying the"><code onclick="Z(this)">0:16:51</code>arbitrarily complicated ones. We could have things like the product of the constant e1 and any constant e2 with e3 is the result of multiplying the</span><span s="1024" t="result of--multiplying now the constants e1 and e2 together and putting e3 there."><code onclick="Z(this)">0:17:04</code>result of--multiplying now the constants e1 and e2 together and putting e3 there.</span><span s="1033" t="So it says combine the constants that I had, which was if I had a product of e1 and e2 and e3 just multiply--I mean and e1 and e2 are both constants, multiply them."><code onclick="Z(this)">0:17:13</code>So it says combine the constants that I had, which was if I had a product of e1 and e2 and e3 just multiply--I mean and e1 and e2 are both constants, multiply them.</span><span s="1043" t="And you can make up the rules as you like. There are lots of them here. There are things as complicated, for example, as-- oh, I suppose down here some distributive law, you see."><code onclick="Z(this)">0:17:23</code>And you can make up the rules as you like. There are lots of them here. There are things as complicated, for example, as-- oh, I suppose down here some distributive law, you see.</span><span s="1053" t="The product of any object c and the sum of d and e gives the result as the same as the sum of the product of c and d"><code onclick="Z(this)">0:17:33</code>The product of any object c and the sum of d and e gives the result as the same as the sum of the product of c and d</span><span s="1062" t="and the product of c and e. Now, what exactly these rules are doesn&apos;t very much interest me. We&apos;re going to be writing the language that will allow us to"><code onclick="Z(this)">0:17:42</code>and the product of c and e. Now, what exactly these rules are doesn't very much interest me. We're going to be writing the language that will allow us to</span><span s="1071" t="interpret these rules so that we can, in fact, make up whatever rules we like, another whole language of programming."><code onclick="Z(this)">0:17:51</code>interpret these rules so that we can, in fact, make up whatever rules we like, another whole language of programming.</span><span s="1083" t="Well, let&apos;s see. I haven&apos;t told you how we&apos;re going to do this. And, of course, for a while, we&apos;re going to work on that. But there&apos;s a real question of what is--what am I going to do"><code onclick="Z(this)">0:18:03</code>Well, let's see. I haven't told you how we're going to do this. And, of course, for a while, we're going to work on that. But there's a real question of what is--what am I going to do</span><span s="1093" t="at all at a large scale? How do these rules work? How is the simplifier program going to manipulate these rules with your expression to produce a reasonable answer?"><code onclick="Z(this)">0:18:13</code>at all at a large scale? How do these rules work? How is the simplifier program going to manipulate these rules with your expression to produce a reasonable answer?</span><span s="1106" t="Well, first, I&apos;d like to think about these rules as being some sort of deck of them. So here I have a whole bunch of rules, right?"><code onclick="Z(this)">0:18:26</code>Well, first, I'd like to think about these rules as being some sort of deck of them. So here I have a whole bunch of rules, right?</span><span s="1122" t="Each rule-- here&apos;s a rule-- has a pattern and a skeleton. I&apos;m trying to make up a control structure for this."><code onclick="Z(this)">0:18:42</code>Each rule-- here's a rule-- has a pattern and a skeleton. I'm trying to make up a control structure for this.</span><span s="1133" t="Now, what I have is a matcher, and I have something which is"><code onclick="Z(this)">0:18:53</code>Now, what I have is a matcher, and I have something which is</span><span s="1142" t="an instantiater. And I&apos;m going to pass from the matcher to the instantiater"><code onclick="Z(this)">0:19:02</code>an instantiater. And I'm going to pass from the matcher to the instantiater</span><span s="1153" t="some set of meaning for the pattern variables, a dictionary, I&apos;ll call it. A dictionary, which will say x was matched against the"><code onclick="Z(this)">0:19:13</code>some set of meaning for the pattern variables, a dictionary, I'll call it. A dictionary, which will say x was matched against the</span><span s="1166" t="following subexpression and y was matched against another following subexpression. And from the instantiater, I will be making expressions,"><code onclick="Z(this)">0:19:26</code>following subexpression and y was matched against another following subexpression. And from the instantiater, I will be making expressions,</span><span s="1175" t="and they will go into the matcher. They will be expressions."><code onclick="Z(this)">0:19:35</code>and they will go into the matcher. They will be expressions.</span><span s="1184" t="And the patterns of the rules will be fed into the matcher, and the skeletons from the same rule will be fed into the"><code onclick="Z(this)">0:19:44</code>And the patterns of the rules will be fed into the matcher, and the skeletons from the same rule will be fed into the</span><span s="1193" t="instantiater. Now, this is a little complicated because when you have something like an algebraic expression, where someth--the rules are intended to be able to allow you to"><code onclick="Z(this)">0:19:53</code>instantiater. Now, this is a little complicated because when you have something like an algebraic expression, where someth--the rules are intended to be able to allow you to</span><span s="1202" t="substitute equal for equal. These are equal transformation rules. So all subexpressions of the expression should be looked at."><code onclick="Z(this)">0:20:02</code>substitute equal for equal. These are equal transformation rules. So all subexpressions of the expression should be looked at.</span><span s="1211" t="You give it an expression, this thing, and the rules should be cycled around. First of all, for every subexpression of the expression you feed in, all of the rules must be"><code onclick="Z(this)">0:20:11</code>You give it an expression, this thing, and the rules should be cycled around. First of all, for every subexpression of the expression you feed in, all of the rules must be</span><span s="1221" t="tried and looked at. And if any rule matches, then this process occurs. The dictionary--the dictionary is to have some values in it."><code onclick="Z(this)">0:20:21</code>tried and looked at. And if any rule matches, then this process occurs. The dictionary--the dictionary is to have some values in it.</span><span s="1230" t="The instantiater makes a new expression, which is basically replaces that part of the expression that was matched in your original expression."><code onclick="Z(this)">0:20:30</code>The instantiater makes a new expression, which is basically replaces that part of the expression that was matched in your original expression.</span><span s="1240" t="And then, then, of course, we&apos;re going to recheck that, going to go around these rules again, seeing if that could be simplified further."><code onclick="Z(this)">0:20:40</code>And then, then, of course, we're going to recheck that, going to go around these rules again, seeing if that could be simplified further.</span><span s="1249" t="And then, then we&apos;re going to do that for every subexpression until the thing no longer changes. You can think of this as sort of an organic process. You&apos;ve got some sort of stew, right?"><code onclick="Z(this)">0:20:49</code>And then, then we're going to do that for every subexpression until the thing no longer changes. You can think of this as sort of an organic process. You've got some sort of stew, right?</span><span s="1260" t="You&apos;ve got bacteria or something, or enzymes in some, in some gooey mess. And there&apos;s these--and these enzymes change things."><code onclick="Z(this)">0:21:00</code>You've got bacteria or something, or enzymes in some, in some gooey mess. And there's these--and these enzymes change things.</span><span s="1270" t="They attach to your expression, change it, and then they go away. And they have to match. The key-in-lock phenomenon. They match, they change it, they go away."><code onclick="Z(this)">0:21:10</code>They attach to your expression, change it, and then they go away. And they have to match. The key-in-lock phenomenon. They match, they change it, they go away.</span><span s="1279" t="You can imagine it as a parallel process of some sort. So you stick an expression into this mess, and after a while, you take it out, and it&apos;s been simplified."><code onclick="Z(this)">0:21:19</code>You can imagine it as a parallel process of some sort. So you stick an expression into this mess, and after a while, you take it out, and it's been simplified.</span><span s="1289" t="And it just keeps changing until it no longer can be changed. But these enzymes can attach to any part of the, of the expression."><code onclick="Z(this)">0:21:29</code>And it just keeps changing until it no longer can be changed. But these enzymes can attach to any part of the, of the expression.</span><span s="1299" t="OK, at this point, I&apos;d like to stop and ask for questions. Yes. AUDIENCE: This implies that the matching program and the"><code onclick="Z(this)">0:21:39</code>OK, at this point, I'd like to stop and ask for questions. Yes. AUDIENCE: This implies that the matching program and the</span><span s="1308" t="instantiation program are separate programs; is that right? Or is that-- they are. PROFESSOR: They&apos;re separate little pieces. They fit together in a larger structure."><code onclick="Z(this)">0:21:48</code>instantiation program are separate programs; is that right? Or is that-- they are. PROFESSOR: They're separate little pieces. They fit together in a larger structure.</span><span s="1317" t="AUDIENCE: So I&apos;m going through and matching and passing the information about what I matched to an instantiater, which makes the changes. And then I pass that back to the matcher?"><code onclick="Z(this)">0:21:57</code>AUDIENCE: So I'm going through and matching and passing the information about what I matched to an instantiater, which makes the changes. And then I pass that back to the matcher?</span><span s="1326" t="PROFESSOR: It won&apos;t make a change. It will make a new expression, which has, which has substituted the values of the pattern variable that were matched on the left-hand side for the variables that are"><code onclick="Z(this)">0:22:06</code>PROFESSOR: It won't make a change. It will make a new expression, which has, which has substituted the values of the pattern variable that were matched on the left-hand side for the variables that are</span><span s="1337" t="mentioned, the skeleton variables or evaluation variables or whatever I called them, on the right-hand side. AUDIENCE: And then that&apos;s passed back into the matcher?"><code onclick="Z(this)">0:22:17</code>mentioned, the skeleton variables or evaluation variables or whatever I called them, on the right-hand side. AUDIENCE: And then that's passed back into the matcher?</span><span s="1347" t="PROFESSOR: Then this is going to go around again. This is going to go through this mess until it no longer changes. AUDIENCE: And it seems that there would be a danger of getting into a recursive loop."><code onclick="Z(this)">0:22:27</code>PROFESSOR: Then this is going to go around again. This is going to go through this mess until it no longer changes. AUDIENCE: And it seems that there would be a danger of getting into a recursive loop.</span><span s="1357" t="PROFESSOR: Yes. Yes, if you do not write your rules nicely, you are-- indeed, in any programming language you invent, if it&apos;s sufficiently powerful to do anything, you can write"><code onclick="Z(this)">0:22:37</code>PROFESSOR: Yes. Yes, if you do not write your rules nicely, you are-- indeed, in any programming language you invent, if it's sufficiently powerful to do anything, you can write</span><span s="1366" t="programs that will go into infinite loops. And indeed, writing a program for doing algebraic manipulation for long will produce infinite loops."><code onclick="Z(this)">0:22:46</code>programs that will go into infinite loops. And indeed, writing a program for doing algebraic manipulation for long will produce infinite loops.</span><span s="1380" t="Go ahead. AUDIENCE: Some language designers feel that this feature is so important that it should become part of the basic language, for example, scheme in this case."><code onclick="Z(this)">0:23:00</code>Go ahead. AUDIENCE: Some language designers feel that this feature is so important that it should become part of the basic language, for example, scheme in this case.</span><span s="1392" t="What are your thoughts on-- PROFESSOR: Which language feature? AUDIENCE: The pairs matching. It&apos;s all application of such rules should be--"><code onclick="Z(this)">0:23:12</code>What are your thoughts on-- PROFESSOR: Which language feature? AUDIENCE: The pairs matching. It's all application of such rules should be--</span><span s="1401" t="PROFESSOR: Oh, you mean like Prolog? AUDIENCE: Like Prolog, but it becomes a more general-- PROFESSOR: It&apos;s possible. OK, I think my feeling about that is that I would like to"><code onclick="Z(this)">0:23:21</code>PROFESSOR: Oh, you mean like Prolog? AUDIENCE: Like Prolog, but it becomes a more general-- PROFESSOR: It's possible. OK, I think my feeling about that is that I would like to</span><span s="1413" t="teach you how to do it so you don&apos;t depend upon some language designer. AUDIENCE: OK. PROFESSOR: You make it yourself. You can roll your own."><code onclick="Z(this)">0:23:33</code>teach you how to do it so you don't depend upon some language designer. AUDIENCE: OK. PROFESSOR: You make it yourself. You can roll your own.</span><span s="1424" t="Thank you."><code onclick="Z(this)">0:23:44</code>Thank you.</span><span s="1454" t="Well, let&apos;s see. Now we have to tell you how it works. It conveniently breaks up into various pieces."><code onclick="Z(this)">0:24:14</code>Well, let's see. Now we have to tell you how it works. It conveniently breaks up into various pieces.</span><span s="1464" t="I&apos;d like to look now at the matcher. The matcher has the following basic structure. It&apos;s a box that takes as its input an expression and a"><code onclick="Z(this)">0:24:24</code>I'd like to look now at the matcher. The matcher has the following basic structure. It's a box that takes as its input an expression and a</span><span s="1484" t="pattern, and it turns out a dictionary."><code onclick="Z(this)">0:24:44</code>pattern, and it turns out a dictionary.</span><span s="1501" t="A dictionary, remember, is a mapping of pattern variables to the values that were found by matching, and it puts out another dictionary, which is the result of augmenting this"><code onclick="Z(this)">0:25:01</code>A dictionary, remember, is a mapping of pattern variables to the values that were found by matching, and it puts out another dictionary, which is the result of augmenting this</span><span s="1520" t="dictionary by what was found in matching this expression against this pattern. So that&apos;s the matcher."><code onclick="Z(this)">0:25:20</code>dictionary by what was found in matching this expression against this pattern. So that's the matcher.</span><span s="1533" t="Now, this is a rather complicated program, and we can look at it on the overhead over here and see, ha, ha,"><code onclick="Z(this)">0:25:33</code>Now, this is a rather complicated program, and we can look at it on the overhead over here and see, ha, ha,</span><span s="1542" t="it&apos;s very complicated. I just want you to look at the shape of it. It&apos;s too complicated to look at except in pieces."><code onclick="Z(this)">0:25:42</code>it's very complicated. I just want you to look at the shape of it. It's too complicated to look at except in pieces.</span><span s="1551" t="However, it&apos;s a fairly large, complicated program with a lot of sort of indented structure."><code onclick="Z(this)">0:25:51</code>However, it's a fairly large, complicated program with a lot of sort of indented structure.</span><span s="1560" t="At the largest scale-- you don&apos;t try to read those characters, but at the largest scale, you see that there is a case analysis, which is all"><code onclick="Z(this)">0:26:00</code>At the largest scale-- you don't try to read those characters, but at the largest scale, you see that there is a case analysis, which is all</span><span s="1569" t="these cases lined up. What we&apos;re now going to do is look at this in a bit more detail, attempting to understand how it works."><code onclick="Z(this)">0:26:09</code>these cases lined up. What we're now going to do is look at this in a bit more detail, attempting to understand how it works.</span><span s="1579" t="Let&apos;s go now to the first slide, showing some of the structure of the matcher at a large scale."><code onclick="Z(this)">0:26:19</code>Let's go now to the first slide, showing some of the structure of the matcher at a large scale.</span><span s="1588" t="And we see that the matcher, the matcher takes as its input a pattern, an expression, and a dictionary."><code onclick="Z(this)">0:26:28</code>And we see that the matcher, the matcher takes as its input a pattern, an expression, and a dictionary.</span><span s="1598" t="And there is a case analysis here, which is made out of several cases, some of which have been left out over here, and the general case, which I&apos;d like you to see."><code onclick="Z(this)">0:26:38</code>And there is a case analysis here, which is made out of several cases, some of which have been left out over here, and the general case, which I'd like you to see.</span><span s="1610" t="Let&apos;s consider this general case. It&apos;s a very important pattern. The problem is that we have to examine two trees"><code onclick="Z(this)">0:26:50</code>Let's consider this general case. It's a very important pattern. The problem is that we have to examine two trees</span><span s="1620" t="simultaneously. One of the trees is the tree of the expression, and the other is the tree of the pattern. We have to compare them with each other so that the"><code onclick="Z(this)">0:27:00</code>simultaneously. One of the trees is the tree of the expression, and the other is the tree of the pattern. We have to compare them with each other so that the</span><span s="1632" t="subexpressions of the expression are matched against subexpressions of the pattern. Looking at that in a bit more detail, suppose I had a"><code onclick="Z(this)">0:27:12</code>subexpressions of the expression are matched against subexpressions of the pattern. Looking at that in a bit more detail, suppose I had a</span><span s="1641" t="pattern, a pattern, which was the sum of the product of a thing which we will call x and a thing which we will call y,"><code onclick="Z(this)">0:27:21</code>pattern, a pattern, which was the sum of the product of a thing which we will call x and a thing which we will call y,</span><span s="1658" t="and the sum of that, and the same thing we call y. So we&apos;re looking for a sum of a product whose second--whose"><code onclick="Z(this)">0:27:38</code>and the sum of that, and the same thing we call y. So we're looking for a sum of a product whose second--whose</span><span s="1669" t="second argument is the same as the second argument of the sum. That&apos;s a thing you might be looking for."><code onclick="Z(this)">0:27:49</code>second argument is the same as the second argument of the sum. That's a thing you might be looking for.</span><span s="1679" t="Well, that, as a pattern, looks like this. There is a tree, which consists of a sum, and a"><code onclick="Z(this)">0:27:59</code>Well, that, as a pattern, looks like this. There is a tree, which consists of a sum, and a</span><span s="1689" t="product with a pattern variable question mark x and question mark y, the other pattern variable, and question"><code onclick="Z(this)">0:28:09</code>product with a pattern variable question mark x and question mark y, the other pattern variable, and question</span><span s="1701" t="mark y, just looking at the same, just writing down the list structure in a different way. Now, suppose we were matching that against an expression"><code onclick="Z(this)">0:28:21</code>mark y, just looking at the same, just writing down the list structure in a different way. Now, suppose we were matching that against an expression</span><span s="1711" t="which matches it, the sum of, say, the product of 3 and x and, say, x."><code onclick="Z(this)">0:28:31</code>which matches it, the sum of, say, the product of 3 and x and, say, x.</span><span s="1722" t="That&apos;s another tree. It&apos;s the sum of the product of 3 and x and of x."><code onclick="Z(this)">0:28:42</code>That's another tree. It's the sum of the product of 3 and x and of x.</span><span s="1739" t="So what I want to do is traverse these two trees simultaneously. And what I&apos;d like to do is walk them like this."><code onclick="Z(this)">0:28:59</code>So what I want to do is traverse these two trees simultaneously. And what I'd like to do is walk them like this.</span><span s="1748" t="I&apos;m going to say are these the same? This is a complicated object. Let&apos;s look at the left branches."><code onclick="Z(this)">0:29:08</code>I'm going to say are these the same? This is a complicated object. Let's look at the left branches.</span><span s="1757" t="Well, that could be the car. How does that look? Oh yes, the plus looks just fine. But the next thing here is a complicated thing. Let&apos;s look at that. Oh yes, that&apos;s pretty fine, too."><code onclick="Z(this)">0:29:17</code>Well, that could be the car. How does that look? Oh yes, the plus looks just fine. But the next thing here is a complicated thing. Let's look at that. Oh yes, that's pretty fine, too.</span><span s="1766" t="They&apos;re both asterisks. Now, whoops! My pattern variable, it matches against the 3. Remember, x equals 3 now."><code onclick="Z(this)">0:29:26</code>They're both asterisks. Now, whoops! My pattern variable, it matches against the 3. Remember, x equals 3 now.</span><span s="1776" t="That&apos;s in my dictionary, and the dictionary&apos;s going to follow along with me: x equals three. Ah yes, x equals 3 and y equals x, different x."><code onclick="Z(this)">0:29:36</code>That's in my dictionary, and the dictionary's going to follow along with me: x equals three. Ah yes, x equals 3 and y equals x, different x.</span><span s="1786" t="The pattern x is the expression x, the pattern y. Oh yes, the pattern variable y, I&apos;ve already"><code onclick="Z(this)">0:29:46</code>The pattern x is the expression x, the pattern y. Oh yes, the pattern variable y, I've already</span><span s="1796" t="got a value for it. It&apos;s x. Is this an x? Oh yeah, sure it is. That&apos;s fine. Yep, done. I now have a dictionary, which I&apos;ve accumulated"><code onclick="Z(this)">0:29:56</code>got a value for it. It's x. Is this an x? Oh yeah, sure it is. That's fine. Yep, done. I now have a dictionary, which I've accumulated</span><span s="1807" t="by making this walk. Well, now let&apos;s look at this general case here and see how that works. Here we have it."><code onclick="Z(this)">0:30:07</code>by making this walk. Well, now let's look at this general case here and see how that works. Here we have it.</span><span s="1817" t="I take in a pattern variable--a pattern, an expression, and a dictionary. And now I&apos;m going to do a complicated thing here, which"><code onclick="Z(this)">0:30:17</code>I take in a pattern variable--a pattern, an expression, and a dictionary. And now I'm going to do a complicated thing here, which</span><span s="1826" t="is the general case. The expression is made out of two parts: a left and a right half, in general."><code onclick="Z(this)">0:30:26</code>is the general case. The expression is made out of two parts: a left and a right half, in general.</span><span s="1835" t="Anything that&apos;s complicated is made out of two pieces in a Lisp system. Well, now what do we have here? I&apos;m going to match the car&apos;s of the two expressions against"><code onclick="Z(this)">0:30:35</code>Anything that's complicated is made out of two pieces in a Lisp system. Well, now what do we have here? I'm going to match the car's of the two expressions against</span><span s="1845" t="each other with respect to the dictionary I already have, producing a dictionary as its value, which I will then use"><code onclick="Z(this)">0:30:45</code>each other with respect to the dictionary I already have, producing a dictionary as its value, which I will then use</span><span s="1855" t="for matching the cdr&apos;s against each other. So that&apos;s how the dictionary travels, threads the entire structure. And then the result of that is the dictionary for the match"><code onclick="Z(this)">0:30:55</code>for matching the cdr's against each other. So that's how the dictionary travels, threads the entire structure. And then the result of that is the dictionary for the match</span><span s="1866" t="of the car and the cdr, and that&apos;s what&apos;s going to be returned as a value. Now, at any point, a match might fail."><code onclick="Z(this)">0:31:06</code>of the car and the cdr, and that's what's going to be returned as a value. Now, at any point, a match might fail.</span><span s="1876" t="It may be the case, for example, if we go back and look at an expression that doesn&apos;t quite match, like supposing this was a 4."><code onclick="Z(this)">0:31:16</code>It may be the case, for example, if we go back and look at an expression that doesn't quite match, like supposing this was a 4.</span><span s="1889" t="Well, now these two don&apos;t match any more, because the x that had to be-- sorry, the y that had to be x here and this"><code onclick="Z(this)">0:31:29</code>Well, now these two don't match any more, because the x that had to be-- sorry, the y that had to be x here and this</span><span s="1898" t="y has to be 4. But x and 4 were not the same object syntactically. So this wouldn&apos;t match, and that would be rejected"><code onclick="Z(this)">0:31:38</code>y has to be 4. But x and 4 were not the same object syntactically. So this wouldn't match, and that would be rejected</span><span s="1907" t="sometimes, so matches may fail. Now, of course, because this matcher takes the dictionary from the previous match as input, it must be able to"><code onclick="Z(this)">0:31:47</code>sometimes, so matches may fail. Now, of course, because this matcher takes the dictionary from the previous match as input, it must be able to</span><span s="1917" t="propagate the failures. And so that&apos;s what the first clause of this conditional does. It&apos;s also true that if it turned out that the pattern"><code onclick="Z(this)">0:31:57</code>propagate the failures. And so that's what the first clause of this conditional does. It's also true that if it turned out that the pattern</span><span s="1927" t="was not atomic-- see, if the pattern was atomic, I&apos;d go into this stuff, which we haven&apos;t looked at yet. But if the pattern is not atomic and the"><code onclick="Z(this)">0:32:07</code>was not atomic-- see, if the pattern was atomic, I'd go into this stuff, which we haven't looked at yet. But if the pattern is not atomic and the</span><span s="1936" t="expression is atomic-- it&apos;s not made out of pieces-- then that must be a failure, and so we go over here. If the pattern is not atomic and the pattern is not a"><code onclick="Z(this)">0:32:16</code>expression is atomic-- it's not made out of pieces-- then that must be a failure, and so we go over here. If the pattern is not atomic and the pattern is not a</span><span s="1946" t="pattern variable-- I have to remind myself of that-- then we go over here. So that way, failures may occur."><code onclick="Z(this)">0:32:26</code>pattern variable-- I have to remind myself of that-- then we go over here. So that way, failures may occur.</span><span s="1955" t="OK, so now let&apos;s look at the insides of this thing. Well, the first place to look is what happens if I have an atomic pattern? That&apos;s very simple. A pattern that&apos;s not made out of any pieces: foo."><code onclick="Z(this)">0:32:35</code>OK, so now let's look at the insides of this thing. Well, the first place to look is what happens if I have an atomic pattern? That's very simple. A pattern that's not made out of any pieces: foo.</span><span s="1966" t="That&apos;s a nice atomic pattern. Well, here&apos;s what we see. If the pattern is atomic, then if the expression is atomic,"><code onclick="Z(this)">0:32:46</code>That's a nice atomic pattern. Well, here's what we see. If the pattern is atomic, then if the expression is atomic,</span><span s="1976" t="then if they are the same thing, then the dictionary I get is the same one as I had before. Nothing&apos;s changed. It&apos;s just that I matched plus against plus, asterisk against"><code onclick="Z(this)">0:32:56</code>then if they are the same thing, then the dictionary I get is the same one as I had before. Nothing's changed. It's just that I matched plus against plus, asterisk against</span><span s="1989" t="asterisk, x against x. That&apos;s all fine. However, if the pattern is not the one which is the expression, if I have two separate atomic objects, then"><code onclick="Z(this)">0:33:09</code>asterisk, x against x. That's all fine. However, if the pattern is not the one which is the expression, if I have two separate atomic objects, then</span><span s="1999" t="it was matching plus against asterisk, which case I fail. Or if it turns out that the pattern is atomic but the"><code onclick="Z(this)">0:33:19</code>it was matching plus against asterisk, which case I fail. Or if it turns out that the pattern is atomic but the</span><span s="2009" t="expression is complicated, it&apos;s not atomic, then I get a failure. That&apos;s very simple."><code onclick="Z(this)">0:33:29</code>expression is complicated, it's not atomic, then I get a failure. That's very simple.</span><span s="2018" t="Now, what about the various kinds of pattern variables? We had three kinds. I give them the names."><code onclick="Z(this)">0:33:38</code>Now, what about the various kinds of pattern variables? We had three kinds. I give them the names.</span><span s="2027" t="They&apos;re arbitrary constants, arbitrary variables, and arbitrary expressions. A question mark x is an arbitrary expression."><code onclick="Z(this)">0:33:47</code>They're arbitrary constants, arbitrary variables, and arbitrary expressions. A question mark x is an arbitrary expression.</span><span s="2041" t="A question mark cx is an arbitrary constant, and a question mark vx is an arbitrary variable. Well, what do we do here?"><code onclick="Z(this)">0:34:01</code>A question mark cx is an arbitrary constant, and a question mark vx is an arbitrary variable. Well, what do we do here?</span><span s="2050" t="Looking at this, we see that if I have an arbitrary constant, if the pattern is an arbitrary constant, then it had better be the case that the expression"><code onclick="Z(this)">0:34:10</code>Looking at this, we see that if I have an arbitrary constant, if the pattern is an arbitrary constant, then it had better be the case that the expression</span><span s="2059" t="had better be a constant. If the expression is not a constant, then that match fails. If it is a constant, however, then I wish to extend the dictionary. I wish to extend the dictionary with that pattern"><code onclick="Z(this)">0:34:19</code>had better be a constant. If the expression is not a constant, then that match fails. If it is a constant, however, then I wish to extend the dictionary. I wish to extend the dictionary with that pattern</span><span s="2072" t="being remembered to be that expression using the old dictionary as a starting point."><code onclick="Z(this)">0:34:32</code>being remembered to be that expression using the old dictionary as a starting point.</span><span s="2081" t="So really, for arbitrary variables, I have to check first if the expression is a variable by matching against. If so, it&apos;s worth extending the dictionary so that the"><code onclick="Z(this)">0:34:41</code>So really, for arbitrary variables, I have to check first if the expression is a variable by matching against. If so, it's worth extending the dictionary so that the</span><span s="2090" t="pattern is remembered to be matched against that expression, given the original dictionary, and this makes a new dictionary. Now, it has to check."><code onclick="Z(this)">0:34:50</code>pattern is remembered to be matched against that expression, given the original dictionary, and this makes a new dictionary. Now, it has to check.</span><span s="2100" t="There&apos;s a sorts of failure inside extend dictionary, which is that-- if one of these pattern variables already has a value"><code onclick="Z(this)">0:35:00</code>There's a sorts of failure inside extend dictionary, which is that-- if one of these pattern variables already has a value</span><span s="2109" t="and I&apos;m trying to match the thing against something else which is not equivalent to the one that I&apos;ve already matched it against once, then a failure will come flying out of here, too."><code onclick="Z(this)">0:35:09</code>and I'm trying to match the thing against something else which is not equivalent to the one that I've already matched it against once, then a failure will come flying out of here, too.</span><span s="2120" t="And I will see that some time. And finally, an arbitrary expression does not have to check anything syntactic about the expression that&apos;s being"><code onclick="Z(this)">0:35:20</code>And I will see that some time. And finally, an arbitrary expression does not have to check anything syntactic about the expression that's being</span><span s="2129" t="matched, so all it does is it&apos;s an extension of the dictionary. So you&apos;ve just seen a complete, very simple matcher."><code onclick="Z(this)">0:35:29</code>matched, so all it does is it's an extension of the dictionary. So you've just seen a complete, very simple matcher.</span><span s="2139" t="Now, one of the things that&apos;s rather remarkable about this is people pay an awful lot of money these days for someone to make a, quote, AI expert system that has nothing more"><code onclick="Z(this)">0:35:39</code>Now, one of the things that's rather remarkable about this is people pay an awful lot of money these days for someone to make a, quote, AI expert system that has nothing more</span><span s="2149" t="in it than a matcher and maybe an instantiater like this. But it&apos;s very easy to do, and now, of course, you can start up a little start-up company and make a couple of megabucks"><code onclick="Z(this)">0:35:49</code>in it than a matcher and maybe an instantiater like this. But it's very easy to do, and now, of course, you can start up a little start-up company and make a couple of megabucks</span><span s="2159" t="in the next week taking some people for a ride. 20 years ago, this was remarkable, this kind of program."><code onclick="Z(this)">0:35:59</code>in the next week taking some people for a ride. 20 years ago, this was remarkable, this kind of program.</span><span s="2169" t="But now, this is sort of easy. You can teach it to freshmen. Well, now there&apos;s an instantiater as well."><code onclick="Z(this)">0:36:09</code>But now, this is sort of easy. You can teach it to freshmen. Well, now there's an instantiater as well.</span><span s="2179" t="The problem is they&apos;re all going off and making more money than I do. But that&apos;s always been true of universities. As expression, the purpose of the instantiater is to make"><code onclick="Z(this)">0:36:19</code>The problem is they're all going off and making more money than I do. But that's always been true of universities. As expression, the purpose of the instantiater is to make</span><span s="2193" t="expressions given a dictionary and a skeleton."><code onclick="Z(this)">0:36:33</code>expressions given a dictionary and a skeleton.</span><span s="2204" t="And that&apos;s not very hard at all. We&apos;ll see that very simply in the next, the next slide here."><code onclick="Z(this)">0:36:44</code>And that's not very hard at all. We'll see that very simply in the next, the next slide here.</span><span s="2213" t="To instantiate a skeleton, given a particular dictionary-- oh, this is easy. We&apos;re going to do a recursive tree walk over the skeleton."><code onclick="Z(this)">0:36:53</code>To instantiate a skeleton, given a particular dictionary-- oh, this is easy. We're going to do a recursive tree walk over the skeleton.</span><span s="2224" t="And for everything which is a skeleton variable-- I don&apos;t know, call it a skeleton evaluation. That&apos;s the name and the abstract syntax that I give it in this program: a skeleton evaluation, a thing beginning"><code onclick="Z(this)">0:37:04</code>And for everything which is a skeleton variable-- I don't know, call it a skeleton evaluation. That's the name and the abstract syntax that I give it in this program: a skeleton evaluation, a thing beginning</span><span s="2233" t="with a colon in the rules. For anything of that case, I&apos;m going to look up the answer in the dictionary, and we&apos;ll worry about that in a second."><code onclick="Z(this)">0:37:13</code>with a colon in the rules. For anything of that case, I'm going to look up the answer in the dictionary, and we'll worry about that in a second.</span><span s="2244" t="Let&apos;s look at this as a whole. Here, I have-- I&apos;m going to instantiate a skeleton, given a dictionary. Well, I&apos;m going to define some internal loop right there, and"><code onclick="Z(this)">0:37:24</code>Let's look at this as a whole. Here, I have-- I'm going to instantiate a skeleton, given a dictionary. Well, I'm going to define some internal loop right there, and</span><span s="2258" t="it&apos;s going to do something very simple. Even if a skeleton--even if a skeleton is simple and atomic, in which case it&apos;s nothing more than giving the skeleton back as an answer, or in the general case, it&apos;s"><code onclick="Z(this)">0:37:38</code>it's going to do something very simple. Even if a skeleton--even if a skeleton is simple and atomic, in which case it's nothing more than giving the skeleton back as an answer, or in the general case, it's</span><span s="2271" t="complicated, in which case I&apos;m going to make up the expression which is the result of instantiating-- calling this loop recursively--"><code onclick="Z(this)">0:37:51</code>complicated, in which case I'm going to make up the expression which is the result of instantiating-- calling this loop recursively--</span><span s="2281" t="instantiating the car of the skeleton and the cdr. So here is a recursive tree walk. However, if it turns out to be a skeleton evaluation, a colon"><code onclick="Z(this)">0:38:01</code>instantiating the car of the skeleton and the cdr. So here is a recursive tree walk. However, if it turns out to be a skeleton evaluation, a colon</span><span s="2292" t="expression in the skeleton, then what I&apos;m going to do is find the expression that&apos;s in the colon--"><code onclick="Z(this)">0:38:12</code>expression in the skeleton, then what I'm going to do is find the expression that's in the colon--</span><span s="2301" t="the CADR in this case. It&apos;s a piece of abstract syntax here, so I can change my representation of rules. I&apos;m going to evaluate that relative to this dictionary,"><code onclick="Z(this)">0:38:21</code>the CADR in this case. It's a piece of abstract syntax here, so I can change my representation of rules. I'm going to evaluate that relative to this dictionary,</span><span s="2311" t="whatever evaluation means. We&apos;ll find out a lot about that sometime. And the result of that is my answer. so. I start up this loop-- here&apos;s my initialization--"><code onclick="Z(this)">0:38:31</code>whatever evaluation means. We'll find out a lot about that sometime. And the result of that is my answer. so. I start up this loop-- here's my initialization--</span><span s="2322" t="by calling it with the whole skeleton, and this will just do a recursive decomposition into pieces. Now, one more little bit of detail is what"><code onclick="Z(this)">0:38:42</code>by calling it with the whole skeleton, and this will just do a recursive decomposition into pieces. Now, one more little bit of detail is what</span><span s="2335" t="happens inside evaluate? I can&apos;t tell you that in great detail. I&apos;ll tell you a little bit of it. Later, we&apos;re going to see--look into this in much more detail."><code onclick="Z(this)">0:38:55</code>happens inside evaluate? I can't tell you that in great detail. I'll tell you a little bit of it. Later, we're going to see--look into this in much more detail.</span><span s="2344" t="To evaluate some form, some expression with respect to a dictionary, if the expression is an atomic object, well, I&apos;m"><code onclick="Z(this)">0:39:04</code>To evaluate some form, some expression with respect to a dictionary, if the expression is an atomic object, well, I'm</span><span s="2355" t="going to go look it up. Nothing very exciting there. Otherwise, I&apos;m going to do something complicated here, which is I&apos;m going to apply a procedure which is the result"><code onclick="Z(this)">0:39:15</code>going to go look it up. Nothing very exciting there. Otherwise, I'm going to do something complicated here, which is I'm going to apply a procedure which is the result</span><span s="2366" t="of looking up the operator part in something that we&apos;re going to find out about someday. I want you realize you&apos;re seeing magic now. This magic will become clear very soon, but not today."><code onclick="Z(this)">0:39:26</code>of looking up the operator part in something that we're going to find out about someday. I want you realize you're seeing magic now. This magic will become clear very soon, but not today.</span><span s="2380" t="Then I&apos;m looking at--looking up all the pieces, all the arguments to that in the dictionary. So I don&apos;t want you to look at this in detail."><code onclick="Z(this)">0:39:40</code>Then I'm looking at--looking up all the pieces, all the arguments to that in the dictionary. So I don't want you to look at this in detail.</span><span s="2391" t="I want you to say that there&apos;s more going on here, and we&apos;re going to see more about this. But it&apos;s-- the magic is going to stop."><code onclick="Z(this)">0:39:51</code>I want you to say that there's more going on here, and we're going to see more about this. But it's-- the magic is going to stop.</span><span s="2402" t="This part has to do with Lisp, and it&apos;s the end of that. OK, so now we know about matching and instantiation."><code onclick="Z(this)">0:40:02</code>This part has to do with Lisp, and it's the end of that. OK, so now we know about matching and instantiation.</span><span s="2415" t="Are there any questions for this segment?"><code onclick="Z(this)">0:40:15</code>Are there any questions for this segment?</span><span s="2427" t="AUDIENCE: I have a question. PROFESSOR: Yes. AUDIENCE: Is it possible to bring up a previous slide? It&apos;s about this define match pattern."><code onclick="Z(this)">0:40:27</code>AUDIENCE: I have a question. PROFESSOR: Yes. AUDIENCE: Is it possible to bring up a previous slide? It's about this define match pattern.</span><span s="2436" t="PROFESSOR: Yes. You&apos;d like to see the overall slide define match pattern. Can somebody put up the-- no, the overhead. That&apos;s the biggest scale one."><code onclick="Z(this)">0:40:36</code>PROFESSOR: Yes. You'd like to see the overall slide define match pattern. Can somebody put up the-- no, the overhead. That's the biggest scale one.</span><span s="2445" t="What part would you like to see? AUDIENCE: Well, the top would be fine. Any of the parts where you&apos;re passing failed."><code onclick="Z(this)">0:40:45</code>What part would you like to see? AUDIENCE: Well, the top would be fine. Any of the parts where you're passing failed.</span><span s="2454" t="PROFESSOR: Yes. AUDIENCE: The idea is to pass failed back to the dictionary; is that right? PROFESSOR: The dictionary is the answer to a match, right?"><code onclick="Z(this)">0:40:54</code>PROFESSOR: Yes. AUDIENCE: The idea is to pass failed back to the dictionary; is that right? PROFESSOR: The dictionary is the answer to a match, right?</span><span s="2465" t="And it is either some mapping or there&apos;s no match. It doesn&apos;t match."><code onclick="Z(this)">0:41:05</code>And it is either some mapping or there's no match. It doesn't match.</span><span s="2474" t="AUDIENCE: Right. PROFESSOR: So what you&apos;re seeing over here is, in fact, because the fact that a match may have another match pass in the dictionary, as you see in the general case down here."><code onclick="Z(this)">0:41:14</code>AUDIENCE: Right. PROFESSOR: So what you're seeing over here is, in fact, because the fact that a match may have another match pass in the dictionary, as you see in the general case down here.</span><span s="2484" t="Here&apos;s the general case where a match passes another match to the dictionary. When I match the cdr&apos;s, I match them in the dictionary that is resulting from matching the car&apos;s."><code onclick="Z(this)">0:41:24</code>Here's the general case where a match passes another match to the dictionary. When I match the cdr's, I match them in the dictionary that is resulting from matching the car's.</span><span s="2496" t="OK, that&apos;s what I have here. So because of that, if the match of the car&apos;s fails, then it may be necessary that the match of the cdr&apos;s propagates that failure, and that&apos;s what the first line is."><code onclick="Z(this)">0:41:36</code>OK, that's what I have here. So because of that, if the match of the car's fails, then it may be necessary that the match of the cdr's propagates that failure, and that's what the first line is.</span><span s="2508" t="AUDIENCE: OK, well, I&apos;m still unclear what matches-- what comes out of one instance of the match? PROFESSOR: One of two possibilities. Either the symbol failed, which means there is no match."><code onclick="Z(this)">0:41:48</code>AUDIENCE: OK, well, I'm still unclear what matches-- what comes out of one instance of the match? PROFESSOR: One of two possibilities. Either the symbol failed, which means there is no match.</span><span s="2519" t="AUDIENCE: Right. PROFESSOR: Or some mapping, which is an abstract thing right now, and you should know about the structure of it, which relates the pattern variables to their values as"><code onclick="Z(this)">0:41:59</code>AUDIENCE: Right. PROFESSOR: Or some mapping, which is an abstract thing right now, and you should know about the structure of it, which relates the pattern variables to their values as</span><span s="2533" t="picked up in the match. AUDIENCE: OK, so it is-- PROFESSOR: That&apos;s constructed by extend dictionary. AUDIENCE: So the recursive nature brings about the fact"><code onclick="Z(this)">0:42:13</code>picked up in the match. AUDIENCE: OK, so it is-- PROFESSOR: That's constructed by extend dictionary. AUDIENCE: So the recursive nature brings about the fact</span><span s="2542" t="that if ever a failed gets passed out of any calling of match, then the first condition will pick it up-- PROFESSOR: And just propagate it along without any further"><code onclick="Z(this)">0:42:22</code>that if ever a failed gets passed out of any calling of match, then the first condition will pick it up-- PROFESSOR: And just propagate it along without any further</span><span s="2552" t="ado, right. AUDIENCE: Oh, right. OK. PROFESSOR: That&apos;s just the fastest way to get that failure out of there."><code onclick="Z(this)">0:42:32</code>ado, right. AUDIENCE: Oh, right. OK. PROFESSOR: That's just the fastest way to get that failure out of there.</span><span s="2563" t="Yes. AUDIENCE: If I don&apos;t fail, that means that I&apos;ve matched a pattern, and I run the procedure extend dict and then pass in the pattern in the expression."><code onclick="Z(this)">0:42:43</code>Yes. AUDIENCE: If I don't fail, that means that I've matched a pattern, and I run the procedure extend dict and then pass in the pattern in the expression.</span><span s="2575" t="But the substitution will not be made at that point; is that right? I&apos;m just-- PROFESSOR: No, no. There&apos;s no substitution being there because there&apos;s no skeleton to be substituted in. AUDIENCE: Right. So what-- PROFESSOR: All you&apos;ve got there is we&apos;re making up the"><code onclick="Z(this)">0:42:55</code>But the substitution will not be made at that point; is that right? I'm just-- PROFESSOR: No, no. There's no substitution being there because there's no skeleton to be substituted in. AUDIENCE: Right. So what-- PROFESSOR: All you've got there is we're making up the</span><span s="2584" t="dictionary for later substitution. AUDIENCE: And what would the dictionary look like? Is it ordered pairs?"><code onclick="Z(this)">0:43:04</code>dictionary for later substitution. AUDIENCE: And what would the dictionary look like? Is it ordered pairs?</span><span s="2593" t="PROFESSOR: That&apos;s--that&apos;s not told to you. We&apos;re being abstract. AUDIENCE: OK. PROFESSOR: Why do you want to know? What it is, it&apos;s a function. It&apos;s a function. AUDIENCE: Well, the reason I want to know is--"><code onclick="Z(this)">0:43:13</code>PROFESSOR: That's--that's not told to you. We're being abstract. AUDIENCE: OK. PROFESSOR: Why do you want to know? What it is, it's a function. It's a function. AUDIENCE: Well, the reason I want to know is--</span><span s="2602" t="PROFESSOR: A function abstractly is a set of ordered pairs. It could be implemented as a set of list pairs. It could be implemented as some fancy table mechanism."><code onclick="Z(this)">0:43:22</code>PROFESSOR: A function abstractly is a set of ordered pairs. It could be implemented as a set of list pairs. It could be implemented as some fancy table mechanism.</span><span s="2612" t="It could be implemented as a function. And somehow, I&apos;m building up a function. But I&apos;m not telling you. That&apos;s up to George, who&apos;s going to build that later."><code onclick="Z(this)">0:43:32</code>It could be implemented as a function. And somehow, I'm building up a function. But I'm not telling you. That's up to George, who's going to build that later.</span><span s="2629" t="I know you really badly want to write concrete things. I&apos;m not going to let you do that. AUDIENCE: Well, let me at least ask, what is the important information there that&apos;s being passed to extend dict?"><code onclick="Z(this)">0:43:49</code>I know you really badly want to write concrete things. I'm not going to let you do that. AUDIENCE: Well, let me at least ask, what is the important information there that's being passed to extend dict?</span><span s="2639" t="I want to pass the pattern I found-- PROFESSOR: Yes. The pattern that&apos;s matched against the expression. You want to have the pattern, which happens to be in those cases pattern variables, right?"><code onclick="Z(this)">0:43:59</code>I want to pass the pattern I found-- PROFESSOR: Yes. The pattern that's matched against the expression. You want to have the pattern, which happens to be in those cases pattern variables, right?</span><span s="2649" t="All of those three cases for extend dict are pattern variables. AUDIENCE: Right. PROFESSOR: So you have a pattern variable that is to be given a value in a dictionary."><code onclick="Z(this)">0:44:09</code>All of those three cases for extend dict are pattern variables. AUDIENCE: Right. PROFESSOR: So you have a pattern variable that is to be given a value in a dictionary.</span><span s="2658" t="AUDIENCE: Mm-hmm. PROFESSOR: The value is the expression that it matched against. The dictionary is the set of things I&apos;ve already"><code onclick="Z(this)">0:44:18</code>AUDIENCE: Mm-hmm. PROFESSOR: The value is the expression that it matched against. The dictionary is the set of things I've already</span><span s="2667" t="figured out that I have memorized or learned. And I am going to make a new dictionary, which is extended from the original one by having that pattern variable"><code onclick="Z(this)">0:44:27</code>figured out that I have memorized or learned. And I am going to make a new dictionary, which is extended from the original one by having that pattern variable</span><span s="2676" t="have a value with the new dictionary. AUDIENCE: I guess what I don&apos;t understand is why can&apos;t the substitution be made right as soon as you find-- PROFESSOR: How do I know what I&apos;m going to substitute? I don&apos;t know anything about this skeleton."><code onclick="Z(this)">0:44:36</code>have a value with the new dictionary. AUDIENCE: I guess what I don't understand is why can't the substitution be made right as soon as you find-- PROFESSOR: How do I know what I'm going to substitute? I don't know anything about this skeleton.</span><span s="2687" t="This pattern, this matcher is an independent unit. AUDIENCE: Oh, I see. OK. PROFESSOR: Right? AUDIENCE: Yeah. PROFESSOR: I take the matcher. I apply the matcher. If it matches, then it was worth doing instantiation."><code onclick="Z(this)">0:44:47</code>This pattern, this matcher is an independent unit. AUDIENCE: Oh, I see. OK. PROFESSOR: Right? AUDIENCE: Yeah. PROFESSOR: I take the matcher. I apply the matcher. If it matches, then it was worth doing instantiation.</span><span s="2697" t="AUDIENCE: OK, good. Yeah. PROFESSOR: OK? AUDIENCE: Can you just do that answer again using that example on the board? You know, what you just passed back to the matcher."><code onclick="Z(this)">0:44:57</code>AUDIENCE: OK, good. Yeah. PROFESSOR: OK? AUDIENCE: Can you just do that answer again using that example on the board? You know, what you just passed back to the matcher.</span><span s="2706" t="PROFESSOR: Oh yes. OK, yes. You&apos;re looking at this example. At this point when I&apos;m traversing this structure, I get to here: x."><code onclick="Z(this)">0:45:06</code>PROFESSOR: Oh yes. OK, yes. You're looking at this example. At this point when I'm traversing this structure, I get to here: x.</span><span s="2716" t="I have some dictionary, presumably an empty dictionary at this point if this is the whole expression. So I have an empty dictionary, and I&apos;ve matched x against 3."><code onclick="Z(this)">0:45:16</code>I have some dictionary, presumably an empty dictionary at this point if this is the whole expression. So I have an empty dictionary, and I've matched x against 3.</span><span s="2726" t="So now, after this point, the dictionary contains x is 3, OK? Now, I continue walking along here."><code onclick="Z(this)">0:45:26</code>So now, after this point, the dictionary contains x is 3, OK? Now, I continue walking along here.</span><span s="2735" t="I see y. Now, this is a particular x, a pattern x. I see y, a pattern y. The dictionary says, oh yes, the pattern y is the symbol x"><code onclick="Z(this)">0:45:35</code>I see y. Now, this is a particular x, a pattern x. I see y, a pattern y. The dictionary says, oh yes, the pattern y is the symbol x</span><span s="2748" t="because I&apos;ve got a match there. So the dictionary now contains at this point two entries. The pattern x is 3, and the pattern y is the expression x."><code onclick="Z(this)">0:45:48</code>because I've got a match there. So the dictionary now contains at this point two entries. The pattern x is 3, and the pattern y is the expression x.</span><span s="2762" t="Now, I get that, I can walk along further. I say, oh, pattern y also wants to be 4. But that isn&apos;t possible, producing a failure."><code onclick="Z(this)">0:46:02</code>Now, I get that, I can walk along further. I say, oh, pattern y also wants to be 4. But that isn't possible, producing a failure.</span><span s="2774" t="Thank you. Let&apos;s take a break."><code onclick="Z(this)">0:46:14</code>Thank you. Let's take a break.</span><span s="2822" t="OK, you&apos;re seeing your first very big and hairy program. Now, of course, one of the goals of this subsegment is to get you to be able to read something like this and not be"><code onclick="Z(this)">0:47:02</code>OK, you're seeing your first very big and hairy program. Now, of course, one of the goals of this subsegment is to get you to be able to read something like this and not be</span><span s="2832" t="afraid of it. This one&apos;s only about four pages of code. By the end of the subject, I hope a 50-page program will not look particularly frightening."><code onclick="Z(this)">0:47:12</code>afraid of it. This one's only about four pages of code. By the end of the subject, I hope a 50-page program will not look particularly frightening.</span><span s="2842" t="But I don&apos;t expect-- and I don&apos;t want you to think that I expect you to be getting it as it&apos;s coming out. You&apos;re supposed to feel the flavor of this, OK?"><code onclick="Z(this)">0:47:22</code>But I don't expect-- and I don't want you to think that I expect you to be getting it as it's coming out. You're supposed to feel the flavor of this, OK?</span><span s="2851" t="And then you&apos;re supposed to think about it because it is a big program. There&apos;s a lot of stuff inside this program."><code onclick="Z(this)">0:47:31</code>And then you're supposed to think about it because it is a big program. There's a lot of stuff inside this program.</span><span s="2860" t="Now, I&apos;ve told you about the language we&apos;re implementing, the pattern match substitution language. I showed you some rules. And I&apos;ve told you about matching and instantiation,"><code onclick="Z(this)">0:47:40</code>Now, I've told you about the language we're implementing, the pattern match substitution language. I showed you some rules. And I've told you about matching and instantiation,</span><span s="2871" t="which are the two halves of how a rule works. Now we have to understand the control structure by which the rules are applied to the expressions so as to do"><code onclick="Z(this)">0:47:51</code>which are the two halves of how a rule works. Now we have to understand the control structure by which the rules are applied to the expressions so as to do</span><span s="2883" t="algebraic simplification. Now, that&apos;s also a big complicated mess."><code onclick="Z(this)">0:48:03</code>algebraic simplification. Now, that's also a big complicated mess.</span><span s="2892" t="The problem is that there is a variety of interlocking, interwoven loops, if you will, involved in this. For one thing, I have to apply--"><code onclick="Z(this)">0:48:12</code>The problem is that there is a variety of interlocking, interwoven loops, if you will, involved in this. For one thing, I have to apply--</span><span s="2902" t="I have to examine every subexpression of my expression that I&apos;m trying to simplify. That we know how to do. It&apos;s a car cdr recursion of some sort, or something like"><code onclick="Z(this)">0:48:22</code>I have to examine every subexpression of my expression that I'm trying to simplify. That we know how to do. It's a car cdr recursion of some sort, or something like</span><span s="2914" t="that, and some sort of tree walk. And that&apos;s going to be happening. Now, for every such place, every node that I get to in"><code onclick="Z(this)">0:48:34</code>that, and some sort of tree walk. And that's going to be happening. Now, for every such place, every node that I get to in</span><span s="2923" t="doing my traversal of the expression I&apos;m trying to simplify, I want to apply all of the rules."><code onclick="Z(this)">0:48:43</code>doing my traversal of the expression I'm trying to simplify, I want to apply all of the rules.</span><span s="2933" t="Every rule is going to look at every node. I&apos;m going to rotate the rules around. Now, either a rule will or will not match."><code onclick="Z(this)">0:48:53</code>Every rule is going to look at every node. I'm going to rotate the rules around. Now, either a rule will or will not match.</span><span s="2947" t="If the rule does not match, then it&apos;s not very interesting. If the rule does match, then I&apos;m going to replace that node"><code onclick="Z(this)">0:49:07</code>If the rule does not match, then it's not very interesting. If the rule does match, then I'm going to replace that node</span><span s="2956" t="in the expression by an alternate expression. I&apos;m actually going to make a new expression, which contains-- everything contains that new value, the result of"><code onclick="Z(this)">0:49:16</code>in the expression by an alternate expression. I'm actually going to make a new expression, which contains-- everything contains that new value, the result of</span><span s="2966" t="substituting into the skeleton, instantiating the skeleton for that rule at this level. But no one knows whether that thing that I instantiated"><code onclick="Z(this)">0:49:26</code>substituting into the skeleton, instantiating the skeleton for that rule at this level. But no one knows whether that thing that I instantiated</span><span s="2975" t="there is in simplified form. So we&apos;re going to have to simplify that, somehow to call the simplifier on the thing that I just constructed."><code onclick="Z(this)">0:49:35</code>there is in simplified form. So we're going to have to simplify that, somehow to call the simplifier on the thing that I just constructed.</span><span s="2985" t="And then when that&apos;s done, then I sort of can build that into the expression I want as my answer. Now, there is a basic idea here, which I will call a"><code onclick="Z(this)">0:49:45</code>And then when that's done, then I sort of can build that into the expression I want as my answer. Now, there is a basic idea here, which I will call a</span><span s="2995" t="garbage- in, garbage-out simplifier. It&apos;s a kind of recursive simplifier. And what happens is the way you simplify something is that"><code onclick="Z(this)">0:49:55</code>garbage- in, garbage-out simplifier. It's a kind of recursive simplifier. And what happens is the way you simplify something is that</span><span s="3006" t="simple objects like variables are simple. Compound objects, well, I don&apos;t know. What I&apos;m going to do is I&apos;m going to build up from simple"><code onclick="Z(this)">0:50:06</code>simple objects like variables are simple. Compound objects, well, I don't know. What I'm going to do is I'm going to build up from simple</span><span s="3016" t="objects, trying to make simple things by assuming that the pieces they&apos;re made out of are simple. That&apos;s what&apos;s happening here."><code onclick="Z(this)">0:50:16</code>objects, trying to make simple things by assuming that the pieces they're made out of are simple. That's what's happening here.</span><span s="3027" t="Well, now, if we look at the first slide-- no, overhead, overhead. If we look at the overhead, we see a very complicated program like we saw before for the matcher, so complicated that"><code onclick="Z(this)">0:50:27</code>Well, now, if we look at the first slide-- no, overhead, overhead. If we look at the overhead, we see a very complicated program like we saw before for the matcher, so complicated that</span><span s="3038" t="you can&apos;t read it like that. I just want you to get the feel of the shape of it, and the shape of it is that this program has various"><code onclick="Z(this)">0:50:38</code>you can't read it like that. I just want you to get the feel of the shape of it, and the shape of it is that this program has various</span><span s="3048" t="subprograms in it. One of them--this part is the part for traversing the"><code onclick="Z(this)">0:50:48</code>subprograms in it. One of them--this part is the part for traversing the</span><span s="3057" t="expression, and this part is the part for trying rules. Now, of course, we can look at that in some more detail."><code onclick="Z(this)">0:50:57</code>expression, and this part is the part for trying rules. Now, of course, we can look at that in some more detail.</span><span s="3066" t="Let&apos;s look at--let&apos;s look at the first transparency, right? The simplifier is made out of several parts."><code onclick="Z(this)">0:51:06</code>Let's look at--let's look at the first transparency, right? The simplifier is made out of several parts.</span><span s="3077" t="Now, remember at the very beginning, the simplifier is the thing which takes a rules--a set of rules and produces a program which will simplify it relative to them."><code onclick="Z(this)">0:51:17</code>Now, remember at the very beginning, the simplifier is the thing which takes a rules--a set of rules and produces a program which will simplify it relative to them.</span><span s="3089" t="So here we have our simplifier. It takes a rule set. And in the context where that rule set is defined, there are"><code onclick="Z(this)">0:51:29</code>So here we have our simplifier. It takes a rule set. And in the context where that rule set is defined, there are</span><span s="3099" t="various other definitions that are done here. And then the result of this simplifier procedure is, in fact, one of the procedures that was defined."><code onclick="Z(this)">0:51:39</code>various other definitions that are done here. And then the result of this simplifier procedure is, in fact, one of the procedures that was defined.</span><span s="3110" t="Simplify x. What I&apos;m returning as the value of calling the simplifier on a set of rules is a procedure, the simplify x"><code onclick="Z(this)">0:51:50</code>Simplify x. What I'm returning as the value of calling the simplifier on a set of rules is a procedure, the simplify x</span><span s="3121" t="procedure, which is defined in that context, which is a simplification procedure appropriate for using those set of rules."><code onclick="Z(this)">0:52:01</code>procedure, which is defined in that context, which is a simplification procedure appropriate for using those set of rules.</span><span s="3134" t="That&apos;s what I have there. Now, the first two of these procedures, this one and this one, are together going to be the recursive traversal of an"><code onclick="Z(this)">0:52:14</code>That's what I have there. Now, the first two of these procedures, this one and this one, are together going to be the recursive traversal of an</span><span s="3145" t="expression. This one is the general simplification for any expression, and this is the thing which simplifies a list of parts of an expression."><code onclick="Z(this)">0:52:25</code>expression. This one is the general simplification for any expression, and this is the thing which simplifies a list of parts of an expression.</span><span s="3155" t="Nothing more. For each of those, we&apos;re going to do something complicated, which involves trying the rules. Now, we should look at the various parts."><code onclick="Z(this)">0:52:35</code>Nothing more. For each of those, we're going to do something complicated, which involves trying the rules. Now, we should look at the various parts.</span><span s="3165" t="Well let&apos;s look first at the recursive traversal of an expression. And this is done in a sort of simple way."><code onclick="Z(this)">0:52:45</code>Well let's look first at the recursive traversal of an expression. And this is done in a sort of simple way.</span><span s="3174" t="This is a little nest of recursive procedures. And what we have here are two procedures-- one for simplifying an expression, and one for"><code onclick="Z(this)">0:52:54</code>This is a little nest of recursive procedures. And what we have here are two procedures-- one for simplifying an expression, and one for</span><span s="3186" t="simplifying parts of an expression. And the way this works is very simple. If the expression I&apos;m trying to simplify is a compound"><code onclick="Z(this)">0:53:06</code>simplifying parts of an expression. And the way this works is very simple. If the expression I'm trying to simplify is a compound</span><span s="3196" t="expression, I&apos;m going to simplify all the parts of it. And that&apos;s calling--that procedure, simplify parts, is going to make up a new expression with all the parts"><code onclick="Z(this)">0:53:16</code>expression, I'm going to simplify all the parts of it. And that's calling--that procedure, simplify parts, is going to make up a new expression with all the parts</span><span s="3205" t="simplified, which I&apos;m then going to try the rules on over here. If it turns out that the expression is not compound, if it&apos;s simple, like just a symbol or something like pi,"><code onclick="Z(this)">0:53:25</code>simplified, which I'm then going to try the rules on over here. If it turns out that the expression is not compound, if it's simple, like just a symbol or something like pi,</span><span s="3217" t="then in any case, I&apos;m going to try the rules on it because it might be that I want in my set of rules to expand pi to 3.14159265358979, dot, dot, dot."><code onclick="Z(this)">0:53:37</code>then in any case, I'm going to try the rules on it because it might be that I want in my set of rules to expand pi to 3.14159265358979, dot, dot, dot.</span><span s="3228" t="But I may not. But there is no reason not to do it. Now, if I want to simplify the parts, well, that&apos;s easy too."><code onclick="Z(this)">0:53:48</code>But I may not. But there is no reason not to do it. Now, if I want to simplify the parts, well, that's easy too.</span><span s="3239" t="Either the expression is an empty one, there&apos;s no more parts, in which case I have the empty expression. Otherwise, I&apos;m going to make a new expression by cons, which"><code onclick="Z(this)">0:53:59</code>Either the expression is an empty one, there's no more parts, in which case I have the empty expression. Otherwise, I'm going to make a new expression by cons, which</span><span s="3251" t="is the result of simplifying the first part of the expression, the car, and simplifying the rest of the expression, which is the cdr."><code onclick="Z(this)">0:54:11</code>is the result of simplifying the first part of the expression, the car, and simplifying the rest of the expression, which is the cdr.</span><span s="3261" t="Now, the reason why I&apos;m showing you this sort of stuff this way is because I want you get the feeling for the various patterns that are very important when writing programs. And this could be written a different way."><code onclick="Z(this)">0:54:21</code>Now, the reason why I'm showing you this sort of stuff this way is because I want you get the feeling for the various patterns that are very important when writing programs. And this could be written a different way.</span><span s="3273" t="There&apos;s another way to write simplified expressions so there would be only one of them. There would only be one little procedure here. Let me just write that on the blackboard to give you a feeling for that."><code onclick="Z(this)">0:54:33</code>There's another way to write simplified expressions so there would be only one of them. There would only be one little procedure here. Let me just write that on the blackboard to give you a feeling for that.</span><span s="3289" t="This in another idiom, if you will."><code onclick="Z(this)">0:54:49</code>This in another idiom, if you will.</span><span s="3298" t="To simplify an expression called x, what am I going to do? I&apos;m going to try the rules on the following situation."><code onclick="Z(this)">0:54:58</code>To simplify an expression called x, what am I going to do? I'm going to try the rules on the following situation.</span><span s="3311" t="If-- on the following expression-- compound, just like we had before."><code onclick="Z(this)">0:55:11</code>If-- on the following expression-- compound, just like we had before.</span><span s="3321" t="If the expression is compound, well, what am I going to do? I&apos;m going to simplify all the parts. But I already have a cdr recursion, a common pattern of"><code onclick="Z(this)">0:55:21</code>If the expression is compound, well, what am I going to do? I'm going to simplify all the parts. But I already have a cdr recursion, a common pattern of</span><span s="3330" t="usage, which has been captured as a high-order procedure. It&apos;s called map. So I&apos;ll just write that here. Map simplify the expression, all the parts of the"><code onclick="Z(this)">0:55:30</code>usage, which has been captured as a high-order procedure. It's called map. So I'll just write that here. Map simplify the expression, all the parts of the</span><span s="3347" t="expression. This says apply the simplification operation, which is this one, every part of the expression, and then that cuts those up into a list. It&apos;s every element of"><code onclick="Z(this)">0:55:47</code>expression. This says apply the simplification operation, which is this one, every part of the expression, and then that cuts those up into a list. It's every element of</span><span s="3362" t="the list which the expression is assumed to be made out of, and otherwise, I have the expression. So I don&apos;t need the helper procedure, simplify parts,"><code onclick="Z(this)">0:56:02</code>the list which the expression is assumed to be made out of, and otherwise, I have the expression. So I don't need the helper procedure, simplify parts,</span><span s="3372" t="because that&apos;s really this. So sometimes, you just write it this way. It doesn&apos;t matter very much. Well, now let&apos;s take a look at--"><code onclick="Z(this)">0:56:12</code>because that's really this. So sometimes, you just write it this way. It doesn't matter very much. Well, now let's take a look at--</span><span s="3384" t="let&apos;s just look at how you try rules. If you look at this slide, we see this is a complicated mess also."><code onclick="Z(this)">0:56:24</code>let's just look at how you try rules. If you look at this slide, we see this is a complicated mess also.</span><span s="3393" t="I&apos;m trying rules on an expression. It turns out the expression I&apos;m trying it on is some subexpression now of the expression I started with. Because the thing I just arranged allowed us to try"><code onclick="Z(this)">0:56:33</code>I'm trying rules on an expression. It turns out the expression I'm trying it on is some subexpression now of the expression I started with. Because the thing I just arranged allowed us to try</span><span s="3403" t="every subexpression. So now here we&apos;re taking in a subexpression of the expression we started with. That&apos;s what this is."><code onclick="Z(this)">0:56:43</code>every subexpression. So now here we're taking in a subexpression of the expression we started with. That's what this is.</span><span s="3412" t="And what we&apos;re going to define here is a procedure called scan, which is going to try every rule. And we&apos;re going to start it up on the whole set of rules."><code onclick="Z(this)">0:56:52</code>And what we're going to define here is a procedure called scan, which is going to try every rule. And we're going to start it up on the whole set of rules.</span><span s="3421" t="This is going to go cdr-ing down the rules, if you will, looking for a rule to apply. And when it finds one, it&apos;ll do the job."><code onclick="Z(this)">0:57:01</code>This is going to go cdr-ing down the rules, if you will, looking for a rule to apply. And when it finds one, it'll do the job.</span><span s="3434" t="Well, let&apos;s take a look at how try rules works. It&apos;s very simple: the scan rules. Scan rules, the way of scanning. Well, is it so simple?"><code onclick="Z(this)">0:57:14</code>Well, let's take a look at how try rules works. It's very simple: the scan rules. Scan rules, the way of scanning. Well, is it so simple?</span><span s="3443" t="It&apos;s a big program, of course. We take a bunch of rules, which is a sublist of the list of rules. We&apos;ve tried some of them already, and they&apos;ve not been"><code onclick="Z(this)">0:57:23</code>It's a big program, of course. We take a bunch of rules, which is a sublist of the list of rules. We've tried some of them already, and they've not been</span><span s="3453" t="appropriate, so we get to some here. We get to move to the next one. If there are no more rules, well then, there&apos;s nothing I can do with this expression, and it&apos;s simplified."><code onclick="Z(this)">0:57:33</code>appropriate, so we get to some here. We get to move to the next one. If there are no more rules, well then, there's nothing I can do with this expression, and it's simplified.</span><span s="3462" t="However, if it turns out that there are still rules to be done, then let&apos;s match the pattern of the first rule"><code onclick="Z(this)">0:57:42</code>However, if it turns out that there are still rules to be done, then let's match the pattern of the first rule</span><span s="3472" t="against the expression using the empty dictionary to start with and use that as the dictionary. If that happens to be a failure, try"><code onclick="Z(this)">0:57:52</code>against the expression using the empty dictionary to start with and use that as the dictionary. If that happens to be a failure, try</span><span s="3482" t="the rest of the rules. That&apos;s all it says here. It says discard that rule."><code onclick="Z(this)">0:58:02</code>the rest of the rules. That's all it says here. It says discard that rule.</span><span s="3491" t="Otherwise, well, I&apos;m going to get the skeleton of the first rule, instantiate that relative to the dictionary, and simplify the result, and that&apos;s the expression I want."><code onclick="Z(this)">0:58:11</code>Otherwise, well, I'm going to get the skeleton of the first rule, instantiate that relative to the dictionary, and simplify the result, and that's the expression I want.</span><span s="3504" t="So although that was a complicated program, every complicated program is made out of a lot of simple pieces. Now, the pattern of recursions here is very complicated."><code onclick="Z(this)">0:58:24</code>So although that was a complicated program, every complicated program is made out of a lot of simple pieces. Now, the pattern of recursions here is very complicated.</span><span s="3514" t="And one of the most important things is not to think about that. If you try to think about the actual pattern by which this does something, you&apos;re going to get very confused."><code onclick="Z(this)">0:58:34</code>And one of the most important things is not to think about that. If you try to think about the actual pattern by which this does something, you're going to get very confused.</span><span s="3525" t="I would. This is not a matter of you can do this with practice. These patterns are hard. But you don&apos;t have to think about it."><code onclick="Z(this)">0:58:45</code>I would. This is not a matter of you can do this with practice. These patterns are hard. But you don't have to think about it.</span><span s="3535" t="The key to this-- it&apos;s very good programming and very good design-- is to know what not to think about. The fact is, going back to this slide, I don&apos;t have to"><code onclick="Z(this)">0:58:55</code>The key to this-- it's very good programming and very good design-- is to know what not to think about. The fact is, going back to this slide, I don't have to</span><span s="3547" t="think about it because I have specifications in my mind for what simplify x does. I don&apos;t have to know how it does it."><code onclick="Z(this)">0:59:07</code>think about it because I have specifications in my mind for what simplify x does. I don't have to know how it does it.</span><span s="3556" t="And it may, in fact, call scan somehow through try rules, which it does. And somehow, I&apos;ve got another recursion going on here. But since I know that simplify x is assumed by wishful"><code onclick="Z(this)">0:59:16</code>And it may, in fact, call scan somehow through try rules, which it does. And somehow, I've got another recursion going on here. But since I know that simplify x is assumed by wishful</span><span s="3568" t="thinking to produce the simplified result, then I don&apos;t have to think about it anymore. I&apos;ve used it. I&apos;ve used it in a reasonable way. I will get a reasonable answer."><code onclick="Z(this)">0:59:28</code>thinking to produce the simplified result, then I don't have to think about it anymore. I've used it. I've used it in a reasonable way. I will get a reasonable answer.</span><span s="3579" t="And you have to learn how to program that way-- with abandon. Well, there&apos;s very little left of this thing."><code onclick="Z(this)">0:59:39</code>And you have to learn how to program that way-- with abandon. Well, there's very little left of this thing.</span><span s="3590" t="All there is left is a few details associated with what a dictionary is. And those of you who&apos;ve been itching to know what a dictionary is, well, I will flip it up and not tell you"><code onclick="Z(this)">0:59:50</code>All there is left is a few details associated with what a dictionary is. And those of you who've been itching to know what a dictionary is, well, I will flip it up and not tell you</span><span s="3601" t="anything about it. Dictionaries are easy. It&apos;s represented in terms of something else called an A list, which is a particular pattern of usage for making"><code onclick="Z(this)">1:00:01</code>anything about it. Dictionaries are easy. It's represented in terms of something else called an A list, which is a particular pattern of usage for making</span><span s="3614" t="tables in lists. They&apos;re easy. They&apos;re made out of pairs, as was asked a bit ago. And there are special procedures for dealing with"><code onclick="Z(this)">1:00:14</code>tables in lists. They're easy. They're made out of pairs, as was asked a bit ago. And there are special procedures for dealing with</span><span s="3623" t="such things called assq, and you can find them in manuals. I&apos;m not terribly excited about it. The only interesting thing here in extend dictionary is I have to extend the dictionary with a pattern, a datum, and a"><code onclick="Z(this)">1:00:23</code>such things called assq, and you can find them in manuals. I'm not terribly excited about it. The only interesting thing here in extend dictionary is I have to extend the dictionary with a pattern, a datum, and a</span><span s="3636" t="dictionary. This pattern is, in fact, at this point a pattern variable. And what do I want to do? I want to pull out the name of that pattern variable, the"><code onclick="Z(this)">1:00:36</code>dictionary. This pattern is, in fact, at this point a pattern variable. And what do I want to do? I want to pull out the name of that pattern variable, the</span><span s="3648" t="pattern variable name, and I&apos;m going to look up in the dictionary and see if it already has a value. If not, I&apos;m going to add a new one in."><code onclick="Z(this)">1:00:48</code>pattern variable name, and I'm going to look up in the dictionary and see if it already has a value. If not, I'm going to add a new one in.</span><span s="3657" t="If it does have one, if it has a value, then it had better be equal to the one that was already stored away. And if that&apos;s the case, the dictionary is what I expected it to be."><code onclick="Z(this)">1:00:57</code>If it does have one, if it has a value, then it had better be equal to the one that was already stored away. And if that's the case, the dictionary is what I expected it to be.</span><span s="3666" t="Otherwise, I fail. So that&apos;s easy, too. If you open up any program, you&apos;re going to find inside of"><code onclick="Z(this)">1:01:06</code>Otherwise, I fail. So that's easy, too. If you open up any program, you're going to find inside of</span><span s="3675" t="it lots of little pieces, all of which are easy. So at this point, I suppose, I&apos;ve just told you some million-dollar valuable information."><code onclick="Z(this)">1:01:15</code>it lots of little pieces, all of which are easy. So at this point, I suppose, I've just told you some million-dollar valuable information.</span><span s="3687" t="And I suppose at this point we&apos;re pretty much done with this program. I&apos;d like to ask about questions. AUDIENCE: Yes, can you give me the words that describe the specification for a simplified expression?"><code onclick="Z(this)">1:01:27</code>And I suppose at this point we're pretty much done with this program. I'd like to ask about questions. AUDIENCE: Yes, can you give me the words that describe the specification for a simplified expression?</span><span s="3698" t="PROFESSOR: Sure. A simplified expression takes an expression and produces a simplified expression. That&apos;s it, OK?"><code onclick="Z(this)">1:01:38</code>PROFESSOR: Sure. A simplified expression takes an expression and produces a simplified expression. That's it, OK?</span><span s="3708" t="How it does it is very easy. In compound expressions, all the pieces are simplified, and then the rules are tried on the result. And for simple expressions, you just try all the rules."><code onclick="Z(this)">1:01:48</code>How it does it is very easy. In compound expressions, all the pieces are simplified, and then the rules are tried on the result. And for simple expressions, you just try all the rules.</span><span s="3719" t="AUDIENCE: So an expression is simplified by virtue of the rules? PROFESSOR: That&apos;s, of course, true. AUDIENCE: Right. PROFESSOR: And the way this works is that simplifi expression, as you see here, what it does is it breaks the"><code onclick="Z(this)">1:01:59</code>AUDIENCE: So an expression is simplified by virtue of the rules? PROFESSOR: That's, of course, true. AUDIENCE: Right. PROFESSOR: And the way this works is that simplifi expression, as you see here, what it does is it breaks the</span><span s="3730" t="expression down into the smallest pieces, simplifies building up from the bottom using the rules to be the simplifier, to do the manipulations, and constructs"><code onclick="Z(this)">1:02:10</code>expression down into the smallest pieces, simplifies building up from the bottom using the rules to be the simplifier, to do the manipulations, and constructs</span><span s="3741" t="a new expression as the result. Eventually, one of things you see is that the rules themselves, the try rules, call a simplified expression"><code onclick="Z(this)">1:02:21</code>a new expression as the result. Eventually, one of things you see is that the rules themselves, the try rules, call a simplified expression</span><span s="3750" t="on the results when it changes something, the results of a match. I&apos;m sorry, the results of instantiation of a skeleton"><code onclick="Z(this)">1:02:30</code>on the results when it changes something, the results of a match. I'm sorry, the results of instantiation of a skeleton</span><span s="3759" t="for a rule that has matched. So the spec of a simplified expression is that any expression you put into it comes out simplified according to those rules."><code onclick="Z(this)">1:02:39</code>for a rule that has matched. So the spec of a simplified expression is that any expression you put into it comes out simplified according to those rules.</span><span s="3769" t="Thank you. Let&apos;s take a break."><code onclick="Z(this)">1:02:49</code>Thank you. Let's take a break.</span></div><div class="eventlist" side="R" vid="h6Z7vx9iUB8"><h5><code onclick="Z(this)">0:00:00</code>Lecture 4B | MIT 6.001 Structure and Interpretation, 1986</h5><span s="0" t=" [MUSIC-- &quot;JESU, JOY OF MAN&apos;S DESIRING&quot; BY JOHANN SEBASTIAN BACH]"><code onclick="Z(this)">0:00:00</code> [MUSIC-- "JESU, JOY OF MAN'S DESIRING" BY JOHANN SEBASTIAN BACH]</span><span s="20" t="PROFESSOR: So far in this course we&apos;ve been talking a lot about data abstraction. And remember the idea is that we build systems that have these horizontal barriers in them, these abstraction"><code onclick="Z(this)">0:00:20</code>PROFESSOR: So far in this course we've been talking a lot about data abstraction. And remember the idea is that we build systems that have these horizontal barriers in them, these abstraction</span><span s="31" t="barriers that separate use, the way you might use some data object, from the way you might represent it."><code onclick="Z(this)">0:00:31</code>barriers that separate use, the way you might use some data object, from the way you might represent it.</span><span s="48" t="Or another way to think of that is up here you have the boss who&apos;s going to be using some sort of data object."><code onclick="Z(this)">0:00:48</code>Or another way to think of that is up here you have the boss who's going to be using some sort of data object.</span><span s="57" t="And down here is George who&apos;s implemented it. Now this notion of separating use from representation so you can think about these two problems separately is a very,"><code onclick="Z(this)">0:00:57</code>And down here is George who's implemented it. Now this notion of separating use from representation so you can think about these two problems separately is a very,</span><span s="70" t="very powerful programming methodology, data abstraction. On the other hand, it&apos;s not really sufficient for really"><code onclick="Z(this)">0:01:10</code>very powerful programming methodology, data abstraction. On the other hand, it's not really sufficient for really</span><span s="81" t="complex systems. And the problem with this is George. Or actually, the problem is that there"><code onclick="Z(this)">0:01:21</code>complex systems. And the problem with this is George. Or actually, the problem is that there</span><span s="92" t="are a lot of Georges. Let&apos;s be concrete. Let&apos;s suppose there is George, and there&apos;s also Martha."><code onclick="Z(this)">0:01:32</code>are a lot of Georges. Let's be concrete. Let's suppose there is George, and there's also Martha.</span><span s="101" t="OK, now George and Martha are both working on this system, both designing representations, and absolutely are incompatible."><code onclick="Z(this)">0:01:41</code>OK, now George and Martha are both working on this system, both designing representations, and absolutely are incompatible.</span><span s="111" t="They wouldn&apos;t cooperate on a representation under any circumstances. And the problem is you would like to have some system where"><code onclick="Z(this)">0:01:51</code>They wouldn't cooperate on a representation under any circumstances. And the problem is you would like to have some system where</span><span s="120" t="both George and Martha are designing representations, and yet, if you&apos;re above this abstraction barrier you don&apos;t"><code onclick="Z(this)">0:02:00</code>both George and Martha are designing representations, and yet, if you're above this abstraction barrier you don't</span><span s="129" t="want to have to worry about that, whether something is done by George or by Martha. And you don&apos;t want George and Martha to interfere with each other. Somehow in designing a system, you not only want these"><code onclick="Z(this)">0:02:09</code>want to have to worry about that, whether something is done by George or by Martha. And you don't want George and Martha to interfere with each other. Somehow in designing a system, you not only want these</span><span s="140" t="horizontal barriers, but you also want some kind of vertical barrier to keep George and Martha separate."><code onclick="Z(this)">0:02:20</code>horizontal barriers, but you also want some kind of vertical barrier to keep George and Martha separate.</span><span s="152" t="Let me be a little bit more concrete. Imagine that you&apos;re thinking about personnel records for a"><code onclick="Z(this)">0:02:32</code>Let me be a little bit more concrete. Imagine that you're thinking about personnel records for a</span><span s="162" t="large company with a lot of loosely linked divisions that don&apos;t cooperate very well either. And imagine even that this company is formed by merging a"><code onclick="Z(this)">0:02:42</code>large company with a lot of loosely linked divisions that don't cooperate very well either. And imagine even that this company is formed by merging a</span><span s="177" t="whole bunch of companies that already have their personnel record system set up. And imagine that once these divisions are all linked in"><code onclick="Z(this)">0:02:57</code>whole bunch of companies that already have their personnel record system set up. And imagine that once these divisions are all linked in</span><span s="186" t="some kind of very sophisticated satellite network, and all these databases are put together. And what you&apos;d like to do is, from any place in the company,"><code onclick="Z(this)">0:03:06</code>some kind of very sophisticated satellite network, and all these databases are put together. And what you'd like to do is, from any place in the company,</span><span s="197" t="to be able to say things like, oh, what&apos;s the name in a personnel record?"><code onclick="Z(this)">0:03:17</code>to be able to say things like, oh, what's the name in a personnel record?</span><span s="206" t="Or, what&apos;s the job description in a personnel record? And not have to worry about the fact that each division obviously is going to have completely separate"><code onclick="Z(this)">0:03:26</code>Or, what's the job description in a personnel record? And not have to worry about the fact that each division obviously is going to have completely separate</span><span s="216" t="conventions for how you might implement these records. From this point you don&apos;t want to know about that. Well how could you possibly do that?"><code onclick="Z(this)">0:03:36</code>conventions for how you might implement these records. From this point you don't want to know about that. Well how could you possibly do that?</span><span s="228" t="One way, of course, is to send down an edict from somewhere that everybody has to change their format to some fixed compatible thing."><code onclick="Z(this)">0:03:48</code>One way, of course, is to send down an edict from somewhere that everybody has to change their format to some fixed compatible thing.</span><span s="238" t="That&apos;s what people often try, and of course it never works. Another thing that you might want to do is somehow arrange"><code onclick="Z(this)">0:03:58</code>That's what people often try, and of course it never works. Another thing that you might want to do is somehow arrange</span><span s="247" t="it so you can have these vertical barriers. So that when you ask for the name of a personnel record, somehow, whatever format it happens to be, name will"><code onclick="Z(this)">0:04:07</code>it so you can have these vertical barriers. So that when you ask for the name of a personnel record, somehow, whatever format it happens to be, name will</span><span s="257" t="figure out how to do the right thing. We want name to be, so-called, a generic operator."><code onclick="Z(this)">0:04:17</code>figure out how to do the right thing. We want name to be, so-called, a generic operator.</span><span s="266" t="Generic operator means what it sort of precisely does depends on the kind of data that it&apos;s looking at. More than that, you&apos;d like to design the system so that the"><code onclick="Z(this)">0:04:26</code>Generic operator means what it sort of precisely does depends on the kind of data that it's looking at. More than that, you'd like to design the system so that the</span><span s="277" t="next time a new division comes into the company they don&apos;t have to make any big changes in what they&apos;re already doing to link into this system, and the rest of the company"><code onclick="Z(this)">0:04:37</code>next time a new division comes into the company they don't have to make any big changes in what they're already doing to link into this system, and the rest of the company</span><span s="290" t="doesn&apos;t have to make any big changes to admit their stuff to the system. So that&apos;s the problem you should be thinking about. Like it&apos;s sort of just your work."><code onclick="Z(this)">0:04:50</code>doesn't have to make any big changes to admit their stuff to the system. So that's the problem you should be thinking about. Like it's sort of just your work.</span><span s="300" t="You want to be able to include new things by making minimal changes. OK, well that&apos;s the problem that we&apos;ll be talking about today."><code onclick="Z(this)">0:05:00</code>You want to be able to include new things by making minimal changes. OK, well that's the problem that we'll be talking about today.</span><span s="309" t="And you should have this sort of distributed personnel record system in your mind. But actually the one I&apos;ll be talking about is a problem that&apos;s a little bit more self-contained than that."><code onclick="Z(this)">0:05:09</code>And you should have this sort of distributed personnel record system in your mind. But actually the one I'll be talking about is a problem that's a little bit more self-contained than that.</span><span s="318" t="that&apos;ll bring up the issues, I think, more clearly. That&apos;s the problem of doing a system that does arithmetic on complex numbers."><code onclick="Z(this)">0:05:18</code>that'll bring up the issues, I think, more clearly. That's the problem of doing a system that does arithmetic on complex numbers.</span><span s="327" t="So let&apos;s take a look here. Just as a little review, there are things called complex numbers. Complex number you can think of as a point in"><code onclick="Z(this)">0:05:27</code>So let's take a look here. Just as a little review, there are things called complex numbers. Complex number you can think of as a point in</span><span s="336" t="the plane, or z. And you can represent a point either by its real-part and"><code onclick="Z(this)">0:05:36</code>the plane, or z. And you can represent a point either by its real-part and</span><span s="346" t="its imaginary-part. So if this is z and its real-part is this much, and its imaginary-part is that much, and you write z equals x plus iy."><code onclick="Z(this)">0:05:46</code>its imaginary-part. So if this is z and its real-part is this much, and its imaginary-part is that much, and you write z equals x plus iy.</span><span s="359" t="Or another way to represent a complex number is by saying, what&apos;s the distance from the origin, and what&apos;s the angle?"><code onclick="Z(this)">0:05:59</code>Or another way to represent a complex number is by saying, what's the distance from the origin, and what's the angle?</span><span s="370" t="So that represents a complex number as its radius times an angle."><code onclick="Z(this)">0:06:10</code>So that represents a complex number as its radius times an angle.</span><span s="379" t="This one&apos;s called-- the original one&apos;s called rectangular form, rectangular representation, real- and imaginary-part, or polar representation."><code onclick="Z(this)">0:06:19</code>This one's called-- the original one's called rectangular form, rectangular representation, real- and imaginary-part, or polar representation.</span><span s="388" t="Magnitude and angle-- and if you know the real- and imaginary-part, you can figure out the magnitude and angle. If you know x and y, you can get r by this formula."><code onclick="Z(this)">0:06:28</code>Magnitude and angle-- and if you know the real- and imaginary-part, you can figure out the magnitude and angle. If you know x and y, you can get r by this formula.</span><span s="397" t="Square root of sum of the squares, and you can get the angle as an arctangent. Or conversely, if you knew r and A you could figure out x and y. x is r times the cosine of A, and y is r times the sine of"><code onclick="Z(this)">0:06:37</code>Square root of sum of the squares, and you can get the angle as an arctangent. Or conversely, if you knew r and A you could figure out x and y. x is r times the cosine of A, and y is r times the sine of</span><span s="409" t="A. All right, so there&apos;s these two. They&apos;re complex numbers. You can think of them either in polar form or rectangular form. What we would like to do is make a system that does"><code onclick="Z(this)">0:06:49</code>A. All right, so there's these two. They're complex numbers. You can think of them either in polar form or rectangular form. What we would like to do is make a system that does</span><span s="419" t="arithmetic on complex numbers. In other words, what we&apos;d like-- just like the rational number example-- is to have some operations plus c, which is going to take"><code onclick="Z(this)">0:06:59</code>arithmetic on complex numbers. In other words, what we'd like-- just like the rational number example-- is to have some operations plus c, which is going to take</span><span s="431" t="two complex numbers and add them, subtract them, and multiply them, and divide them."><code onclick="Z(this)">0:07:11</code>two complex numbers and add them, subtract them, and multiply them, and divide them.</span><span s="440" t="OK, well there&apos;s little bit of mathematics behind it. What are the actual formulas for manipulating such things?"><code onclick="Z(this)">0:07:20</code>OK, well there's little bit of mathematics behind it. What are the actual formulas for manipulating such things?</span><span s="449" t="And it&apos;s sort of not important where they come from, but just as an implementer let&apos;s see-- if you want to add two complex numbers it&apos;s pretty easy to"><code onclick="Z(this)">0:07:29</code>And it's sort of not important where they come from, but just as an implementer let's see-- if you want to add two complex numbers it's pretty easy to</span><span s="460" t="get its real-part and its imaginary-part. The real-part of the sum of two complex numbers, the real-part of the z1 plus z2 is the real-part of z1 plus the"><code onclick="Z(this)">0:07:40</code>get its real-part and its imaginary-part. The real-part of the sum of two complex numbers, the real-part of the z1 plus z2 is the real-part of z1 plus the</span><span s="473" t="real-part of z2. And the imaginary-part of z1 plus z2 is the imaginary part"><code onclick="Z(this)">0:07:53</code>real-part of z2. And the imaginary-part of z1 plus z2 is the imaginary part</span><span s="482" t="of z1 plus the imaginary part of z2. So it&apos;s pretty easy to add complex numbers. You just add the corresponding parts and make a new complex"><code onclick="Z(this)">0:08:02</code>of z1 plus the imaginary part of z2. So it's pretty easy to add complex numbers. You just add the corresponding parts and make a new complex</span><span s="492" t="number with those parts. If you want to multiply them, it&apos;s kind of nice to do it in polar form. Because if you have two complex numbers, the magnitude"><code onclick="Z(this)">0:08:12</code>number with those parts. If you want to multiply them, it's kind of nice to do it in polar form. Because if you have two complex numbers, the magnitude</span><span s="501" t="of their product is here, the product of the magnitudes. And the angle of the product is the sum of the angles."><code onclick="Z(this)">0:08:21</code>of their product is here, the product of the magnitudes. And the angle of the product is the sum of the angles.</span><span s="515" t="So that&apos;s sort of mathematics that allows you to do arithmetic on complex numbers. Let&apos;s actually think about the implementation. Well we do it just like rational numbers."><code onclick="Z(this)">0:08:35</code>So that's sort of mathematics that allows you to do arithmetic on complex numbers. Let's actually think about the implementation. Well we do it just like rational numbers.</span><span s="529" t="We come down, we assume we have some constructors and selectors. What would we like? Well let&apos;s assume that we make a data object cloud, which is"><code onclick="Z(this)">0:08:49</code>We come down, we assume we have some constructors and selectors. What would we like? Well let's assume that we make a data object cloud, which is</span><span s="538" t="a complex number that has some stuff in it, and that we can get out from a complex number the real-part, or the imaginary-part, or the magnitude, or the angle."><code onclick="Z(this)">0:08:58</code>a complex number that has some stuff in it, and that we can get out from a complex number the real-part, or the imaginary-part, or the magnitude, or the angle.</span><span s="552" t="We want some ways of making complex numbers-- not only selectors, but constructors. So we&apos;ll assume we have a thing called make-rectangular. What make-rectangular is going to do is take a real-part and"><code onclick="Z(this)">0:09:12</code>We want some ways of making complex numbers-- not only selectors, but constructors. So we'll assume we have a thing called make-rectangular. What make-rectangular is going to do is take a real-part and</span><span s="564" t="an imaginary-part and construct a complex number with those parts. Similarly, we can have make-polar which will take a"><code onclick="Z(this)">0:09:24</code>an imaginary-part and construct a complex number with those parts. Similarly, we can have make-polar which will take a</span><span s="575" t="magnitude and an angle, and construct a complex number which has that magnitude and angle."><code onclick="Z(this)">0:09:35</code>magnitude and an angle, and construct a complex number which has that magnitude and angle.</span><span s="584" t="So here&apos;s a system. We&apos;ll have two constructors and four selectors. And now, just like before, in terms of that abstract data"><code onclick="Z(this)">0:09:44</code>So here's a system. We'll have two constructors and four selectors. And now, just like before, in terms of that abstract data</span><span s="595" t="we&apos;ll go ahead and implement our complex number operations. And here you can see translated into Lisp code just the arithmetic formulas I put down before."><code onclick="Z(this)">0:09:55</code>we'll go ahead and implement our complex number operations. And here you can see translated into Lisp code just the arithmetic formulas I put down before.</span><span s="608" t="If I want to add two complex numbers I will make a complex number out of its real- and imaginary-parts. The real part of the complex number I&apos;m going to make is"><code onclick="Z(this)">0:10:08</code>If I want to add two complex numbers I will make a complex number out of its real- and imaginary-parts. The real part of the complex number I'm going to make is</span><span s="619" t="the sum of the real-parts. The imaginary part of the complex number I&apos;m going to make is the sum of the imaginary-parts."><code onclick="Z(this)">0:10:19</code>the sum of the real-parts. The imaginary part of the complex number I'm going to make is the sum of the imaginary-parts.</span><span s="630" t="I put those together, make a complex number. That&apos;s how I implement complex number addition. Subtraction is essentially the same."><code onclick="Z(this)">0:10:30</code>I put those together, make a complex number. That's how I implement complex number addition. Subtraction is essentially the same.</span><span s="639" t="All I do is subtract the parts rather than add them. To multiply two complex numbers, I use the other formula."><code onclick="Z(this)">0:10:39</code>All I do is subtract the parts rather than add them. To multiply two complex numbers, I use the other formula.</span><span s="649" t="I&apos;ll make a complex number out of a magnitude and angle. The magnitude is going to be the product of the magnitudes"><code onclick="Z(this)">0:10:49</code>I'll make a complex number out of a magnitude and angle. The magnitude is going to be the product of the magnitudes</span><span s="658" t="of the two complex numbers I&apos;m multiplying. And the angle is going to be the sum of the angles of the two complex numbers I&apos;m multiplying."><code onclick="Z(this)">0:10:58</code>of the two complex numbers I'm multiplying. And the angle is going to be the sum of the angles of the two complex numbers I'm multiplying.</span><span s="669" t="So there&apos;s multiplication. And then division, division is almost the same. Here I divide the magnitudes and subtract the angles."><code onclick="Z(this)">0:11:09</code>So there's multiplication. And then division, division is almost the same. Here I divide the magnitudes and subtract the angles.</span><span s="688" t="Now I&apos;ve implemented the operations. And what do we do? We call on George. We&apos;ve done the use, let&apos;s worry about the"><code onclick="Z(this)">0:11:28</code>Now I've implemented the operations. And what do we do? We call on George. We've done the use, let's worry about the</span><span s="698" t="representation. We&apos;ll call on George and say to George, go ahead and build us a complex number representation. Well that&apos;s fine."><code onclick="Z(this)">0:11:38</code>representation. We'll call on George and say to George, go ahead and build us a complex number representation. Well that's fine.</span><span s="707" t="George can say, we&apos;ll implement a complex number simply as a pair that has the real-part and the"><code onclick="Z(this)">0:11:47</code>George can say, we'll implement a complex number simply as a pair that has the real-part and the</span><span s="716" t="imaginary-part. So if I want to make a complex number with a certain real-part and an imaginary-part, I&apos;ll just use cons to form a pair, and that will-- that&apos;s George&apos;s"><code onclick="Z(this)">0:11:56</code>imaginary-part. So if I want to make a complex number with a certain real-part and an imaginary-part, I'll just use cons to form a pair, and that will-- that's George's</span><span s="726" t="representation of a complex number. So if I want to get out the real-part of something, I just extract the car, the first part. If I want to get the imaginary-part, I extract the"><code onclick="Z(this)">0:12:06</code>representation of a complex number. So if I want to get out the real-part of something, I just extract the car, the first part. If I want to get the imaginary-part, I extract the</span><span s="736" t="cdr. How do I deal with the magnitude and angle? Well if I want to extract the magnitude of one of these"><code onclick="Z(this)">0:12:16</code>cdr. How do I deal with the magnitude and angle? Well if I want to extract the magnitude of one of these</span><span s="745" t="things, I get the square root of the sum of the square of the car plus the square of the cdr. If I want to get the"><code onclick="Z(this)">0:12:25</code>things, I get the square root of the sum of the square of the car plus the square of the cdr. If I want to get the</span><span s="754" t="angle, I compute the arctangent of the cdr in the car. This is a list procedure for computing arctangent."><code onclick="Z(this)">0:12:34</code>angle, I compute the arctangent of the cdr in the car. This is a list procedure for computing arctangent.</span><span s="764" t="And if somebody hands me a magnitude and an angle and says, make me a complex number, well I compute the real-part and the imaginary-part, or our cosine"><code onclick="Z(this)">0:12:44</code>And if somebody hands me a magnitude and an angle and says, make me a complex number, well I compute the real-part and the imaginary-part, or our cosine</span><span s="774" t="of a and our sine of a, and stick them together into a pair. OK so we&apos;re done. In fact, what I just did, conceptually, is absolutely no"><code onclick="Z(this)">0:12:54</code>of a and our sine of a, and stick them together into a pair. OK so we're done. In fact, what I just did, conceptually, is absolutely no</span><span s="787" t="different from the rational number representation that we looked at last time. It&apos;s the same sort of idea. You implement the operators, you pick a representation."><code onclick="Z(this)">0:13:07</code>different from the rational number representation that we looked at last time. It's the same sort of idea. You implement the operators, you pick a representation.</span><span s="798" t="Nothing different. Now let&apos;s worry about Martha. See, Martha has a different idea. She doesn&apos;t want to represent a complex number as a pair of"><code onclick="Z(this)">0:13:18</code>Nothing different. Now let's worry about Martha. See, Martha has a different idea. She doesn't want to represent a complex number as a pair of</span><span s="809" t="a real-part and an imaginary-part. What she would like to do is represent a complex number as a pair of a magnitude and an angle."><code onclick="Z(this)">0:13:29</code>a real-part and an imaginary-part. What she would like to do is represent a complex number as a pair of a magnitude and an angle.</span><span s="819" t="So if instead of calling up George we ask Martha to design our representation, we get something like this. We get make-polar. Sure, if I give you a magnitude and an angle we&apos;re"><code onclick="Z(this)">0:13:39</code>So if instead of calling up George we ask Martha to design our representation, we get something like this. We get make-polar. Sure, if I give you a magnitude and an angle we're</span><span s="830" t="just going to form a pair that has magnitude and angle. If you want to extract the magnitude, that&apos;s easy. You just pull out the car or the pair."><code onclick="Z(this)">0:13:50</code>just going to form a pair that has magnitude and angle. If you want to extract the magnitude, that's easy. You just pull out the car or the pair.</span><span s="839" t="If you want to extract the angle, sure, that&apos;s easy. You just pull out the cdr. If you want to look for real-parts and imaginary-parts, well then you have to do some work."><code onclick="Z(this)">0:13:59</code>If you want to extract the angle, sure, that's easy. You just pull out the cdr. If you want to look for real-parts and imaginary-parts, well then you have to do some work.</span><span s="848" t="If you want the real-part, you have to get r cosine a. In other words, r, the car of the pair, times the cosine of"><code onclick="Z(this)">0:14:08</code>If you want the real-part, you have to get r cosine a. In other words, r, the car of the pair, times the cosine of</span><span s="859" t="the cdr of the pair. So this is r times the cosine of a, and that&apos;s the real-part."><code onclick="Z(this)">0:14:19</code>the cdr of the pair. So this is r times the cosine of a, and that's the real-part.</span><span s="868" t="If you want to get the imaginary-part, it&apos;s r times the sine of a. And if I hand you a real-part and an imaginary-part and say,"><code onclick="Z(this)">0:14:28</code>If you want to get the imaginary-part, it's r times the sine of a. And if I hand you a real-part and an imaginary-part and say,</span><span s="877" t="make me a complex number with that real-part and imaginary-part, well I figure out what the magnitude and angle should be. The magnitude&apos;s the square root of the sum of the squares"><code onclick="Z(this)">0:14:37</code>make me a complex number with that real-part and imaginary-part, well I figure out what the magnitude and angle should be. The magnitude's the square root of the sum of the squares</span><span s="888" t="and the angle&apos;s the arctangent. I put those together to make a pair. So there&apos;s Martha&apos;s idea. Well which is better?"><code onclick="Z(this)">0:14:48</code>and the angle's the arctangent. I put those together to make a pair. So there's Martha's idea. Well which is better?</span><span s="899" t="Well if you&apos;re doing a lot of additions, probably George&apos;s is better, because you&apos;re doing a lot of real-parts and imaginary-parts. If mostly you&apos;re going to be doing multiplications and divisions, then maybe Martha&apos;s idea is better."><code onclick="Z(this)">0:14:59</code>Well if you're doing a lot of additions, probably George's is better, because you're doing a lot of real-parts and imaginary-parts. If mostly you're going to be doing multiplications and divisions, then maybe Martha's idea is better.</span><span s="911" t="Or maybe, and this is the real point, you can&apos;t decide. Or maybe you just have to let them both hang around, for"><code onclick="Z(this)">0:15:11</code>Or maybe, and this is the real point, you can't decide. Or maybe you just have to let them both hang around, for</span><span s="921" t="personality reasons. Maybe you just really can&apos;t ever decide what you would like. And again, what we would really like is a system that"><code onclick="Z(this)">0:15:21</code>personality reasons. Maybe you just really can't ever decide what you would like. And again, what we would really like is a system that</span><span s="931" t="looks like this. That somehow there&apos;s George over here, who has built rectangular complex numbers."><code onclick="Z(this)">0:15:31</code>looks like this. That somehow there's George over here, who has built rectangular complex numbers.</span><span s="941" t="And Martha, who has polar complex numbers. And somehow we have operations that can add, and subtract,"><code onclick="Z(this)">0:15:41</code>And Martha, who has polar complex numbers. And somehow we have operations that can add, and subtract,</span><span s="954" t="and multiply, and divide, and it shouldn&apos;t matter that there are two incompatible representations of complex numbers floating around this system."><code onclick="Z(this)">0:15:54</code>and multiply, and divide, and it shouldn't matter that there are two incompatible representations of complex numbers floating around this system.</span><span s="964" t="In other words, not only like an abstraction barrier here that has things in it like a real-part, and an"><code onclick="Z(this)">0:16:04</code>In other words, not only like an abstraction barrier here that has things in it like a real-part, and an</span><span s="975" t="imaginary-part, and magnitude, and angle. So not only is there an abstraction barrier that hides"><code onclick="Z(this)">0:16:15</code>imaginary-part, and magnitude, and angle. So not only is there an abstraction barrier that hides</span><span s="986" t="the actual representation from us, but also there&apos;s some kind of vertical barrier here that allows both of these representations to exist without"><code onclick="Z(this)">0:16:26</code>the actual representation from us, but also there's some kind of vertical barrier here that allows both of these representations to exist without</span><span s="996" t="interfering with each other. The idea is that the things in here-- real-part, imaginary-part, magnitude, and angle-- will be generic operators."><code onclick="Z(this)">0:16:36</code>interfering with each other. The idea is that the things in here-- real-part, imaginary-part, magnitude, and angle-- will be generic operators.</span><span s="1007" t="If you ask for the real-part, it will worry about what representation it&apos;s looking at. OK, well how can we do that?"><code onclick="Z(this)">0:16:47</code>If you ask for the real-part, it will worry about what representation it's looking at. OK, well how can we do that?</span><span s="1016" t="There&apos;s actually a really obvious idea, if you&apos;re used to thinking about complex numbers. If you&apos;re used to thinking about compound data."><code onclick="Z(this)">0:16:56</code>There's actually a really obvious idea, if you're used to thinking about complex numbers. If you're used to thinking about compound data.</span><span s="1026" t="See, suppose you could just tell by looking at a complex number whether it was constructed by George or Martha."><code onclick="Z(this)">0:17:06</code>See, suppose you could just tell by looking at a complex number whether it was constructed by George or Martha.</span><span s="1035" t="In other words, so it&apos;s not that what&apos;s floating around here are ordinary, just complex numbers, right? They&apos;re fancy, designer complex numbers."><code onclick="Z(this)">0:17:15</code>In other words, so it's not that what's floating around here are ordinary, just complex numbers, right? They're fancy, designer complex numbers.</span><span s="1044" t="So you look at a complex numbers as it&apos;s not just a complex number, it&apos;s got a label on it that says, this one is by Martha. Or this is a complex number by George."><code onclick="Z(this)">0:17:24</code>So you look at a complex numbers as it's not just a complex number, it's got a label on it that says, this one is by Martha. Or this is a complex number by George.</span><span s="1054" t="Right? They&apos;re signed. See, and then whenever we looked at a complex number we could just read the label, and then we&apos;d know how you expect"><code onclick="Z(this)">0:17:34</code>Right? They're signed. See, and then whenever we looked at a complex number we could just read the label, and then we'd know how you expect</span><span s="1065" t="to operate on that. In other words, what we want is not just ordinary data objects. We want to introduce the notion of what&apos;s called typed data."><code onclick="Z(this)">0:17:45</code>to operate on that. In other words, what we want is not just ordinary data objects. We want to introduce the notion of what's called typed data.</span><span s="1079" t="Typed data means, again, there&apos;s some sort of cloud. And what it&apos;s got in it is an ordinary data object like"><code onclick="Z(this)">0:17:59</code>Typed data means, again, there's some sort of cloud. And what it's got in it is an ordinary data object like</span><span s="1088" t="we&apos;ve been thinking about. Pulled out the contents, sort of the actual data."><code onclick="Z(this)">0:18:08</code>we've been thinking about. Pulled out the contents, sort of the actual data.</span><span s="1099" t="But also a thing called a type, but it&apos;s signed by either George or Martha. So we&apos;re going to go from regular data to type data."><code onclick="Z(this)">0:18:19</code>But also a thing called a type, but it's signed by either George or Martha. So we're going to go from regular data to type data.</span><span s="1111" t="How do we build that? Well that&apos;s easy. We know how to build clouds. We build them out of pairs. So here&apos;s a little representation that supports"><code onclick="Z(this)">0:18:31</code>How do we build that? Well that's easy. We know how to build clouds. We build them out of pairs. So here's a little representation that supports</span><span s="1121" t="typed data. There&apos;s a thing called take a type and attach it to a piece of contents, and we just use cons."><code onclick="Z(this)">0:18:41</code>typed data. There's a thing called take a type and attach it to a piece of contents, and we just use cons.</span><span s="1131" t="And if we have a piece of typed data, we can look at the type, which is the car. We can look at the contents, which is the cdr. Now along"><code onclick="Z(this)">0:18:51</code>And if we have a piece of typed data, we can look at the type, which is the car. We can look at the contents, which is the cdr. Now along</span><span s="1140" t="with that, the way we use our type data will test, when we&apos;re given a piece of data, what type it is. So we have some type predicates with us."><code onclick="Z(this)">0:19:00</code>with that, the way we use our type data will test, when we're given a piece of data, what type it is. So we have some type predicates with us.</span><span s="1150" t="For example, to see whether a complex number is one of George&apos;s, whether it&apos;s rectangular, we just check to see if the type of that is the symbol rectangular, right?"><code onclick="Z(this)">0:19:10</code>For example, to see whether a complex number is one of George's, whether it's rectangular, we just check to see if the type of that is the symbol rectangular, right?</span><span s="1163" t="The symbol rectangular. And to check whether a complex number is one of Martha&apos;s, we check to see whether the type is the symbol polar."><code onclick="Z(this)">0:19:23</code>The symbol rectangular. And to check whether a complex number is one of Martha's, we check to see whether the type is the symbol polar.</span><span s="1176" t="So that&apos;s a way to test what kind of number we&apos;re looking at. Now let&apos;s think about how we can use that to build the system. So let&apos;s suppose that George and Martha were off working"><code onclick="Z(this)">0:19:36</code>So that's a way to test what kind of number we're looking at. Now let's think about how we can use that to build the system. So let's suppose that George and Martha were off working</span><span s="1186" t="separately, and each of them had designed their complex number representation packages. What do they have to do to become part of the system, to"><code onclick="Z(this)">0:19:46</code>separately, and each of them had designed their complex number representation packages. What do they have to do to become part of the system, to</span><span s="1198" t="exist compatibly? Well it&apos;s really pretty easy. Remember, George had this package. Here&apos;s George&apos;s original package, or half of it."><code onclick="Z(this)">0:19:58</code>exist compatibly? Well it's really pretty easy. Remember, George had this package. Here's George's original package, or half of it.</span><span s="1208" t="And underlined in red are the changes he has to make. So before, when George made a complex number out of an x and y, he just put them together to make a pair."><code onclick="Z(this)">0:20:08</code>And underlined in red are the changes he has to make. So before, when George made a complex number out of an x and y, he just put them together to make a pair.</span><span s="1220" t="And the only difference is that now he signs them. He attaches the type, which is the symbol rectangular to that pair."><code onclick="Z(this)">0:20:20</code>And the only difference is that now he signs them. He attaches the type, which is the symbol rectangular to that pair.</span><span s="1230" t="Everything else George does is the same, except that-- see, George and Martha both have procedures named real-part and imaginary-part. So to allow them both to exist in the same Lisp environment,"><code onclick="Z(this)">0:20:30</code>Everything else George does is the same, except that-- see, George and Martha both have procedures named real-part and imaginary-part. So to allow them both to exist in the same Lisp environment,</span><span s="1244" t="George had changed the names of his procedures. So we&apos;ll say, this is George&apos;s real-part procedure. It&apos;s the real-part rectangular procedure, the imaginary-part rectangular procedure."><code onclick="Z(this)">0:20:44</code>George had changed the names of his procedures. So we'll say, this is George's real-part procedure. It's the real-part rectangular procedure, the imaginary-part rectangular procedure.</span><span s="1255" t="And then here&apos;s the rest of George&apos;s package. He&apos;d had magnitude and angle, just renames them magnitude rectangular and angle rectangular."><code onclick="Z(this)">0:20:55</code>And then here's the rest of George's package. He'd had magnitude and angle, just renames them magnitude rectangular and angle rectangular.</span><span s="1265" t="And Martha has to do basically the same thing. Martha previously, when she made a complex number out of a"><code onclick="Z(this)">0:21:05</code>And Martha has to do basically the same thing. Martha previously, when she made a complex number out of a</span><span s="1275" t="magnitude and angle, she just cons them. Now she attaches the type polar, and she changes the"><code onclick="Z(this)">0:21:15</code>magnitude and angle, she just cons them. Now she attaches the type polar, and she changes the</span><span s="1285" t="name so her real-part procedure won&apos;t conflict in name with George&apos;s. It&apos;s a real-part-polar, imaginary-part-polar,"><code onclick="Z(this)">0:21:25</code>name so her real-part procedure won't conflict in name with George's. It's a real-part-polar, imaginary-part-polar,</span><span s="1294" t="magnitude polar, and angle polar."><code onclick="Z(this)">0:21:34</code>magnitude polar, and angle polar.</span><span s="1305" t="Now we have the system. Right there&apos;s George and Martha. And now we&apos;ve got to get some kind of manager to look at these types."><code onclick="Z(this)">0:21:45</code>Now we have the system. Right there's George and Martha. And now we've got to get some kind of manager to look at these types.</span><span s="1315" t="How are these things actually going to work now that George and Martha have supplied us with typed data? Well what we have are a bunch of generic selectors."><code onclick="Z(this)">0:21:55</code>How are these things actually going to work now that George and Martha have supplied us with typed data? Well what we have are a bunch of generic selectors.</span><span s="1325" t="Generic selectors for complex numbers real-part, imaginary-part, magnitude, and angle."><code onclick="Z(this)">0:22:05</code>Generic selectors for complex numbers real-part, imaginary-part, magnitude, and angle.</span><span s="1334" t="Let&apos;s look at them more closely. What does a real-part do? If I ask for the real part of a complex number,"><code onclick="Z(this)">0:22:14</code>Let's look at them more closely. What does a real-part do? If I ask for the real part of a complex number,</span><span s="1344" t="well I look at it. I look at its type. I say, is it rectangular? If so, I apply George&apos;s real part procedure to the contents"><code onclick="Z(this)">0:22:24</code>well I look at it. I look at its type. I say, is it rectangular? If so, I apply George's real part procedure to the contents</span><span s="1356" t="of that complex number. This is a number that has a type on it. I strip off the type using contents and"><code onclick="Z(this)">0:22:36</code>of that complex number. This is a number that has a type on it. I strip off the type using contents and</span><span s="1366" t="apply George&apos;s procedure. Or is this a polar complex number? If I want the real part, I apply Martha&apos;s real part"><code onclick="Z(this)">0:22:46</code>apply George's procedure. Or is this a polar complex number? If I want the real part, I apply Martha's real part</span><span s="1376" t="procedure to the contents of that number. So that&apos;s how real part works. And then similarly there&apos;s imaginary-part, which is almost the same."><code onclick="Z(this)">0:22:56</code>procedure to the contents of that number. So that's how real part works. And then similarly there's imaginary-part, which is almost the same.</span><span s="1386" t="It looks at the number and if it&apos;s rectangular, uses George&apos;s imaginary-part procedure. If it&apos;s polar, uses Martha&apos;s. And then there&apos;s a magnitude and an angle."><code onclick="Z(this)">0:23:06</code>It looks at the number and if it's rectangular, uses George's imaginary-part procedure. If it's polar, uses Martha's. And then there's a magnitude and an angle.</span><span s="1399" t="So there&apos;s a system. Has three parts. There&apos;s sort of George, and Martha, and the manager. And that&apos;s how you get generic operators implemented."><code onclick="Z(this)">0:23:19</code>So there's a system. Has three parts. There's sort of George, and Martha, and the manager. And that's how you get generic operators implemented.</span><span s="1408" t="Let&apos;s look at just a simple example, just to pin it down. But exactly how this is going to work, suppose you&apos;re going"><code onclick="Z(this)">0:23:28</code>Let's look at just a simple example, just to pin it down. But exactly how this is going to work, suppose you're going</span><span s="1420" t="to be looking at the complex number who&apos;s real-part is one, and who&apos;s imaginary-part is two. So that would be one plus 2i."><code onclick="Z(this)">0:23:40</code>to be looking at the complex number who's real-part is one, and who's imaginary-part is two. So that would be one plus 2i.</span><span s="1430" t="What would happen is up here, up here above where the operations have to happen, that number would be represented as a pair of 1 and 2 together with typed data."><code onclick="Z(this)">0:23:50</code>What would happen is up here, up here above where the operations have to happen, that number would be represented as a pair of 1 and 2 together with typed data.</span><span s="1450" t="That would be the contents. And the whole data would be that thing with the symbol rectangular added onto that. And that&apos;s the way that complex number would exist in"><code onclick="Z(this)">0:24:10</code>That would be the contents. And the whole data would be that thing with the symbol rectangular added onto that. And that's the way that complex number would exist in</span><span s="1460" t="the system. When you went to take the real-part, the manager would look at this and say, oh it&apos;s one of George&apos;s."><code onclick="Z(this)">0:24:20</code>the system. When you went to take the real-part, the manager would look at this and say, oh it's one of George's.</span><span s="1470" t="He&apos;ll strip off the type and hand down to George the pair 1, 2. And that&apos;s the kind of data that George developed his"><code onclick="Z(this)">0:24:30</code>He'll strip off the type and hand down to George the pair 1, 2. And that's the kind of data that George developed his</span><span s="1481" t="system to use. So it gets stripped down. Later on, if you ask George to construct a complex number,"><code onclick="Z(this)">0:24:41</code>system to use. So it gets stripped down. Later on, if you ask George to construct a complex number,</span><span s="1491" t="George would construct some complex number as a pair, and before he passes it back up through the manager would attach the type rectangular."><code onclick="Z(this)">0:24:51</code>George would construct some complex number as a pair, and before he passes it back up through the manager would attach the type rectangular.</span><span s="1503" t="So you see what happens. There&apos;s no confusion in this system. It doesn&apos;t matter in the least that the pair 1, 2 means"><code onclick="Z(this)">0:25:03</code>So you see what happens. There's no confusion in this system. It doesn't matter in the least that the pair 1, 2 means</span><span s="1513" t="something completely different in Martha&apos;s world. In Martha&apos;s world this pair means the complex number whose magnitude is 1 and whose angle is 2. And there&apos;s no confusion, because by the time any pair"><code onclick="Z(this)">0:25:13</code>something completely different in Martha's world. In Martha's world this pair means the complex number whose magnitude is 1 and whose angle is 2. And there's no confusion, because by the time any pair</span><span s="1523" t="like this gets handed back through the manager to the main system it&apos;s going to have the type polar attached. Whereas this one would have the type rectangular attached."><code onclick="Z(this)">0:25:23</code>like this gets handed back through the manager to the main system it's going to have the type polar attached. Whereas this one would have the type rectangular attached.</span><span s="1536" t="OK, let&apos;s take a break. [MUSIC-- &quot;JESU, JOY OF MAN&apos;S DESIRING&quot; BY JOHANN SEBASTIAN BACH]"><code onclick="Z(this)">0:25:36</code>OK, let's take a break. [MUSIC-- "JESU, JOY OF MAN'S DESIRING" BY JOHANN SEBASTIAN BACH]</span><span s="1580" t="We just looked at a strategy for implementing generic operators. That strategy has a name: it&apos;s called dispatch type."><code onclick="Z(this)">0:26:20</code>We just looked at a strategy for implementing generic operators. That strategy has a name: it's called dispatch type.</span><span s="1594" t="And the idea is that you break your system into a bunch of pieces. There&apos;s George and Martha, who are making representations,"><code onclick="Z(this)">0:26:34</code>And the idea is that you break your system into a bunch of pieces. There's George and Martha, who are making representations,</span><span s="1603" t="and then there&apos;s the manager. Looks at the types on the data and then dispatches them to the right person. Well what criticisms can we make of that as a system"><code onclick="Z(this)">0:26:43</code>and then there's the manager. Looks at the types on the data and then dispatches them to the right person. Well what criticisms can we make of that as a system</span><span s="1615" t="organization? Well first of all there was this little, annoying problem that George and Martha had to change the names of their procedures."><code onclick="Z(this)">0:26:55</code>organization? Well first of all there was this little, annoying problem that George and Martha had to change the names of their procedures.</span><span s="1624" t="George originally had a real-part procedure, and he had to go name it real-part rectangular so it wouldn&apos;t interfere with Martha&apos;s real-part procedure, which is now named real-part-polar, so it wouldn&apos;t interfere with the"><code onclick="Z(this)">0:27:04</code>George originally had a real-part procedure, and he had to go name it real-part rectangular so it wouldn't interfere with Martha's real-part procedure, which is now named real-part-polar, so it wouldn't interfere with the</span><span s="1634" t="manager&apos;s real-part procedure, who&apos;s now named real-part. That&apos;s kind of an annoying problem. But I&apos;m not going to talk about that one now. We&apos;ll see later on when we think about the structure of"><code onclick="Z(this)">0:27:14</code>manager's real-part procedure, who's now named real-part. That's kind of an annoying problem. But I'm not going to talk about that one now. We'll see later on when we think about the structure of</span><span s="1644" t="Lisp names and environments that there really are ways to package all those so-called name spaces separately so they don&apos;t interfere with each other. Not going to think about that problem now."><code onclick="Z(this)">0:27:24</code>Lisp names and environments that there really are ways to package all those so-called name spaces separately so they don't interfere with each other. Not going to think about that problem now.</span><span s="1655" t="The problem that I actually want to focus on is what happens when you bring somebody new into the system."><code onclick="Z(this)">0:27:35</code>The problem that I actually want to focus on is what happens when you bring somebody new into the system.</span><span s="1664" t="What has to happen? Well George and Martha don&apos;t care. George is sitting there in his rectangular world, has his procedures and his types."><code onclick="Z(this)">0:27:44</code>What has to happen? Well George and Martha don't care. George is sitting there in his rectangular world, has his procedures and his types.</span><span s="1674" t="Martha sits in her polar world. She doesn&apos;t care. But let&apos;s look at the manager. What&apos;s the manager have to do?"><code onclick="Z(this)">0:27:54</code>Martha sits in her polar world. She doesn't care. But let's look at the manager. What's the manager have to do?</span><span s="1683" t="The manager comes through and had these operations. There was a test for rectangular and a test for polar. If Harry comes in with some new kind of complex number,"><code onclick="Z(this)">0:28:03</code>The manager comes through and had these operations. There was a test for rectangular and a test for polar. If Harry comes in with some new kind of complex number,</span><span s="1697" t="and Harry has a new type, Harry type complex number, the manager has to go in and change all those procedures. So the inflexibility in the system, the place where work"><code onclick="Z(this)">0:28:17</code>and Harry has a new type, Harry type complex number, the manager has to go in and change all those procedures. So the inflexibility in the system, the place where work</span><span s="1708" t="has to happen to accommodate change, is in the manager. That&apos;s pretty annoying. It&apos;s even more annoying when you realize the manager&apos;s not"><code onclick="Z(this)">0:28:28</code>has to happen to accommodate change, is in the manager. That's pretty annoying. It's even more annoying when you realize the manager's not</span><span s="1720" t="doing anything. The manager is just being a paper pusher. Let&apos;s look again at these programs. What are they doing?"><code onclick="Z(this)">0:28:40</code>doing anything. The manager is just being a paper pusher. Let's look again at these programs. What are they doing?</span><span s="1731" t="What does real-part do? Real-part says, oh, is it the kind of complex number that George can handle? If so, send it off to George. Is it the kind of complex number that Martha can handle?"><code onclick="Z(this)">0:28:51</code>What does real-part do? Real-part says, oh, is it the kind of complex number that George can handle? If so, send it off to George. Is it the kind of complex number that Martha can handle?</span><span s="1741" t="If so, send it off to Martha. So it&apos;s really annoying that the bottleneck in this system, the thing that&apos;s preventing flexibility and change, is"><code onclick="Z(this)">0:29:01</code>If so, send it off to Martha. So it's really annoying that the bottleneck in this system, the thing that's preventing flexibility and change, is</span><span s="1753" t="completely in the bureaucracy. It&apos;s not in anybody who&apos;s doing any of the work. Not an uncommon situation, unfortunately."><code onclick="Z(this)">0:29:13</code>completely in the bureaucracy. It's not in anybody who's doing any of the work. Not an uncommon situation, unfortunately.</span><span s="1763" t="See, what&apos;s really going on-- abstractly in the system, there&apos;s a table. So what&apos;s really happening is somewhere there&apos;s a table."><code onclick="Z(this)">0:29:23</code>See, what's really going on-- abstractly in the system, there's a table. So what's really happening is somewhere there's a table.</span><span s="1772" t="There&apos;re types. There&apos;s polar and rectangular."><code onclick="Z(this)">0:29:32</code>There're types. There's polar and rectangular.</span><span s="1781" t="And Harry&apos;s may be over here. And there are operators. There&apos;s an operator like real-part."><code onclick="Z(this)">0:29:41</code>And Harry's may be over here. And there are operators. There's an operator like real-part.</span><span s="1795" t="Or imaginary-part. Or a magnitude and angle."><code onclick="Z(this)">0:29:55</code>Or imaginary-part. Or a magnitude and angle.</span><span s="1805" t="And sitting in this table are the right procedures."><code onclick="Z(this)">0:30:05</code>And sitting in this table are the right procedures.</span><span s="1819" t="So sitting here for the type polar and real-part is Martha&apos;s procedure real-part-polar."><code onclick="Z(this)">0:30:19</code>So sitting here for the type polar and real-part is Martha's procedure real-part-polar.</span><span s="1830" t="And over here in the table is George&apos;s procedure real-part-rectangular. And over here would be, say, Martha&apos;s procedure"><code onclick="Z(this)">0:30:30</code>And over here in the table is George's procedure real-part-rectangular. And over here would be, say, Martha's procedure</span><span s="1840" t="magnitude-polar, and George&apos;s procedure magnitude-rectangular, right, and so on."><code onclick="Z(this)">0:30:40</code>magnitude-polar, and George's procedure magnitude-rectangular, right, and so on.</span><span s="1849" t="The rest of this table&apos;s filled in. And that&apos;s really what&apos;s going on. So in some sense, all the manager is doing is acting as"><code onclick="Z(this)">0:30:49</code>The rest of this table's filled in. And that's really what's going on. So in some sense, all the manager is doing is acting as</span><span s="1863" t="this table. Well how do we fix our system?"><code onclick="Z(this)">0:31:03</code>this table. Well how do we fix our system?</span><span s="1872" t="How do you fix bureaucracies a lot of the time? What you do is you get rid of the manager. We just take the manager and replace him by a computer. We&apos;re going to automate him out of existence."><code onclick="Z(this)">0:31:12</code>How do you fix bureaucracies a lot of the time? What you do is you get rid of the manager. We just take the manager and replace him by a computer. We're going to automate him out of existence.</span><span s="1883" t="Namely, instead of having the manager who basically consults this table, we&apos;ll have our system use the table directly. What do I mean by that?"><code onclick="Z(this)">0:31:23</code>Namely, instead of having the manager who basically consults this table, we'll have our system use the table directly. What do I mean by that?</span><span s="1892" t="Let&apos;s assume, again using data abstraction, that we have some kind of data structure that&apos;s a table. And we have ways of sticking things in and ways of getting"><code onclick="Z(this)">0:31:32</code>Let's assume, again using data abstraction, that we have some kind of data structure that's a table. And we have ways of sticking things in and ways of getting</span><span s="1903" t="things out. And to be explicit, let me assume that there&apos;s an operation called &quot;put.&quot; And put is going to take, in this"><code onclick="Z(this)">0:31:43</code>things out. And to be explicit, let me assume that there's an operation called "put." And put is going to take, in this</span><span s="1912" t="case two things I&apos;ll call &quot;keys.&quot; Key1 and key2. And a value."><code onclick="Z(this)">0:31:52</code>case two things I'll call "keys." Key1 and key2. And a value.</span><span s="1926" t="And that stores the value in the table under key1 and key2. And then we&apos;ll assume there&apos;s a thing called &quot;get,&quot; such"><code onclick="Z(this)">0:32:06</code>And that stores the value in the table under key1 and key2. And then we'll assume there's a thing called "get," such</span><span s="1935" t="that if later on I say, get me what&apos;s in the table stored under key1 and key2, it&apos;ll retrieve whatever value was"><code onclick="Z(this)">0:32:15</code>that if later on I say, get me what's in the table stored under key1 and key2, it'll retrieve whatever value was</span><span s="1945" t="stored there. And let&apos;s not worry about how tables are implemented. That&apos;s yet another data abstraction, George&apos;s problem. And maybe we&apos;ll see later--"><code onclick="Z(this)">0:32:25</code>stored there. And let's not worry about how tables are implemented. That's yet another data abstraction, George's problem. And maybe we'll see later--</span><span s="1954" t="talk about how you might actually build tables in Lisp. Well given this organization, what did George and Martha"><code onclick="Z(this)">0:32:34</code>talk about how you might actually build tables in Lisp. Well given this organization, what did George and Martha</span><span s="1964" t="have to do? Well when they build their system, they each have the responsibility to set up their appropriate column in the table."><code onclick="Z(this)">0:32:44</code>have to do? Well when they build their system, they each have the responsibility to set up their appropriate column in the table.</span><span s="1975" t="So what George does, for example, when he defines his procedures, all he has to do is go off and put into the"><code onclick="Z(this)">0:32:55</code>So what George does, for example, when he defines his procedures, all he has to do is go off and put into the</span><span s="1984" t="table under the type-rectangular. And the name of the operation is real-part, his procedure"><code onclick="Z(this)">0:33:04</code>table under the type-rectangular. And the name of the operation is real-part, his procedure</span><span s="1994" t="real-part-rectangular. So notice what&apos;s going into this table. The two keys here are symbols, rectangular and real-part. That&apos;s the quote."><code onclick="Z(this)">0:33:14</code>real-part-rectangular. So notice what's going into this table. The two keys here are symbols, rectangular and real-part. That's the quote.</span><span s="2004" t="And what&apos;s going into the table is the actual procedure that he wrote, real-part rectangular. And then puts an imaginary part into the table, filed"><code onclick="Z(this)">0:33:24</code>And what's going into the table is the actual procedure that he wrote, real-part rectangular. And then puts an imaginary part into the table, filed</span><span s="2015" t="under the keys rectangular- and imaginary-part, and magnitude under the keys rectangular magnitude, angle"><code onclick="Z(this)">0:33:35</code>under the keys rectangular- and imaginary-part, and magnitude under the keys rectangular magnitude, angle</span><span s="2024" t="under rectangular-angle. So that&apos;s what George has to do to be part of this system."><code onclick="Z(this)">0:33:44</code>under rectangular-angle. So that's what George has to do to be part of this system.</span><span s="2034" t="Martha similarly sets up the column and the table under polar. Polar and real-part. Is the procedure real-part-polar?"><code onclick="Z(this)">0:33:54</code>Martha similarly sets up the column and the table under polar. Polar and real-part. Is the procedure real-part-polar?</span><span s="2044" t="And imaginary-part, and magnitude, and angle. So this is what Martha has to do to be part of the system. Everyone who makes a representation has the"><code onclick="Z(this)">0:34:04</code>And imaginary-part, and magnitude, and angle. So this is what Martha has to do to be part of the system. Everyone who makes a representation has the</span><span s="2053" t="responsibility for setting up a column in the table. And what does Harry do when Harry comes in with his brilliant idea for implementing complex numbers? Well he makes whatever procedure he wants and builds"><code onclick="Z(this)">0:34:13</code>responsibility for setting up a column in the table. And what does Harry do when Harry comes in with his brilliant idea for implementing complex numbers? Well he makes whatever procedure he wants and builds</span><span s="2065" t="a new column in this table. OK, well what happened to the manager? The manager has been automated out of existence and is"><code onclick="Z(this)">0:34:25</code>a new column in this table. OK, well what happened to the manager? The manager has been automated out of existence and is</span><span s="2074" t="replaced by a procedure called operate. And this is the key procedure in the whole system. Let&apos;s say define operate."><code onclick="Z(this)">0:34:34</code>replaced by a procedure called operate. And this is the key procedure in the whole system. Let's say define operate.</span><span s="2091" t="Operate is going to take an operation that you want to do, the name of an operation, and an object that you would like"><code onclick="Z(this)">0:34:51</code>Operate is going to take an operation that you want to do, the name of an operation, and an object that you would like</span><span s="2101" t="to apply that operation to. So for example, the real-part of some particular complex number, what does it do? Well the first thing it does, it looks in the table."><code onclick="Z(this)">0:35:01</code>to apply that operation to. So for example, the real-part of some particular complex number, what does it do? Well the first thing it does, it looks in the table.</span><span s="2112" t="Goes into the table and tries to find a procedure that&apos;s stored in the table."><code onclick="Z(this)">0:35:12</code>Goes into the table and tries to find a procedure that's stored in the table.</span><span s="2123" t="So it gets from the table, using as keys the type of the object and the operator, but looks on the table and sees"><code onclick="Z(this)">0:35:23</code>So it gets from the table, using as keys the type of the object and the operator, but looks on the table and sees</span><span s="2140" t="what&apos;s stored under the type of the object and the operator, sees if anything&apos;s stored. Let&apos;s assume that get is implemented. So if nothing is stored there, it&apos;ll return the empty list."><code onclick="Z(this)">0:35:40</code>what's stored under the type of the object and the operator, sees if anything's stored. Let's assume that get is implemented. So if nothing is stored there, it'll return the empty list.</span><span s="2152" t="So it says, if there&apos;s actually something stored there, if the procedure here is not no, then it&apos;ll take the"><code onclick="Z(this)">0:35:52</code>So it says, if there's actually something stored there, if the procedure here is not no, then it'll take the</span><span s="2164" t="procedure that it found in the table and apply it to the contents of the object."><code onclick="Z(this)">0:36:04</code>procedure that it found in the table and apply it to the contents of the object.</span><span s="2178" t="And otherwise if there was nothing stored there, it&apos;ll-- well we can decide. In this case let&apos;s have it put out an error message saying, undefined operator."><code onclick="Z(this)">0:36:18</code>And otherwise if there was nothing stored there, it'll-- well we can decide. In this case let's have it put out an error message saying, undefined operator.</span><span s="2188" t="No operator for this type. Or some appropriate error message."><code onclick="Z(this)">0:36:28</code>No operator for this type. Or some appropriate error message.</span><span s="2199" t="OK? And that replaces the manager. How do we really use it? Well what we say is we&apos;ll go off and define our generic"><code onclick="Z(this)">0:36:39</code>OK? And that replaces the manager. How do we really use it? Well what we say is we'll go off and define our generic</span><span s="2208" t="selectors using operate. We&apos;ll say that the real-part of an object is found by"><code onclick="Z(this)">0:36:48</code>selectors using operate. We'll say that the real-part of an object is found by</span><span s="2217" t="operating on the object with the name of the operation being real-part."><code onclick="Z(this)">0:36:57</code>operating on the object with the name of the operation being real-part.</span><span s="2228" t="And then similarly, imaginary-part is operate using the name imaginary-part and magnitude and angle. That&apos;s our implementation."><code onclick="Z(this)">0:37:08</code>And then similarly, imaginary-part is operate using the name imaginary-part and magnitude and angle. That's our implementation.</span><span s="2237" t="That plus the tape plus the operate procedure. And the table effectively replaces what the manager used to do. Let&apos;s just go through that slowly to show you"><code onclick="Z(this)">0:37:17</code>That plus the tape plus the operate procedure. And the table effectively replaces what the manager used to do. Let's just go through that slowly to show you</span><span s="2247" t="what&apos;s going on. Suppose I have one of Martha&apos;s complex numbers. It&apos;s got magnitude 1 and angle 2."><code onclick="Z(this)">0:37:27</code>what's going on. Suppose I have one of Martha's complex numbers. It's got magnitude 1 and angle 2.</span><span s="2259" t="And it&apos;s one of Martha&apos;s. So it&apos;s labeled here, polar. Let&apos;s call that z."><code onclick="Z(this)">0:37:39</code>And it's one of Martha's. So it's labeled here, polar. Let's call that z.</span><span s="2268" t="Suppose that&apos;s z. And suppose with this implementation someone comes up and asks for the real-part of z."><code onclick="Z(this)">0:37:48</code>Suppose that's z. And suppose with this implementation someone comes up and asks for the real-part of z.</span><span s="2284" t="Well real-part now is defined in terms of operate. So that&apos;s equivalent to saying operate with the name of the"><code onclick="Z(this)">0:38:04</code>Well real-part now is defined in terms of operate. So that's equivalent to saying operate with the name of the</span><span s="2298" t="operator being real-part, the symbol real-part on z."><code onclick="Z(this)">0:38:18</code>operator being real-part, the symbol real-part on z.</span><span s="2307" t="And now operate comes. It&apos;s going to look in the table, and it&apos;s going to try and find something stored under--"><code onclick="Z(this)">0:38:27</code>And now operate comes. It's going to look in the table, and it's going to try and find something stored under--</span><span s="2318" t="the operation is going to apply by looking in the table under the type of the object. And the type of z is polar."><code onclick="Z(this)">0:38:38</code>the operation is going to apply by looking in the table under the type of the object. And the type of z is polar.</span><span s="2328" t="So it&apos;s going to look and say, can I get using polar? And the operation name, which was real-part."><code onclick="Z(this)">0:38:48</code>So it's going to look and say, can I get using polar? And the operation name, which was real-part.</span><span s="2345" t="It&apos;s going to look in there and apply that to the contents of z."><code onclick="Z(this)">0:39:05</code>It's going to look in there and apply that to the contents of z.</span><span s="2354" t="And that? If everything was set up correctly, this thing is the procedure that Martha put there. This is real-part-polar."><code onclick="Z(this)">0:39:14</code>And that? If everything was set up correctly, this thing is the procedure that Martha put there. This is real-part-polar.</span><span s="2370" t="And this is z without its type. The thing that Martha originally designed those procedures to work on, which is 1, 2."><code onclick="Z(this)">0:39:30</code>And this is z without its type. The thing that Martha originally designed those procedures to work on, which is 1, 2.</span><span s="2383" t="And so operate sort of does uniformly what the manager used to do sort of all over the system. It finds the right thing, looks in the table, strips off"><code onclick="Z(this)">0:39:43</code>And so operate sort of does uniformly what the manager used to do sort of all over the system. It finds the right thing, looks in the table, strips off</span><span s="2392" t="the type, and passes it down into the person who handles it. This is another, and, you can see, more flexible for most"><code onclick="Z(this)">0:39:52</code>the type, and passes it down into the person who handles it. This is another, and, you can see, more flexible for most</span><span s="2404" t="purposes, way of implementing generic operators. And it&apos;s called data-directed programming."><code onclick="Z(this)">0:40:04</code>purposes, way of implementing generic operators. And it's called data-directed programming.</span><span s="2420" t="And the idea of that is in some sense the data objects themselves, those little complex numbers that are floating around the system, are carrying with them the"><code onclick="Z(this)">0:40:20</code>And the idea of that is in some sense the data objects themselves, those little complex numbers that are floating around the system, are carrying with them the</span><span s="2430" t="information about how you should operate on them. Let&apos;s break for questions."><code onclick="Z(this)">0:40:30</code>information about how you should operate on them. Let's break for questions.</span><span s="2441" t="Yes. AUDIENCE: What do you have stored in that data object? You have the data itself, you have its type, and you have the operations for that type? Or where are the operations that you found?"><code onclick="Z(this)">0:40:41</code>Yes. AUDIENCE: What do you have stored in that data object? You have the data itself, you have its type, and you have the operations for that type? Or where are the operations that you found?</span><span s="2453" t="PROFESSOR: OK, let me-- yeah, that&apos;s a good question. Because it raises other possibilities of how you might do it. And of course there are a lot of possibilities."><code onclick="Z(this)">0:40:53</code>PROFESSOR: OK, let me-- yeah, that's a good question. Because it raises other possibilities of how you might do it. And of course there are a lot of possibilities.</span><span s="2464" t="In this particular implementation, what&apos;s sitting in this data object, for example, is the data itself-- which in this case is a pair of 1 and 2--"><code onclick="Z(this)">0:41:04</code>In this particular implementation, what's sitting in this data object, for example, is the data itself-- which in this case is a pair of 1 and 2--</span><span s="2474" t="and also a symbol. This is the symbol, the word P-O-L-A-R, and that&apos;s what&apos;s sitting in this data object."><code onclick="Z(this)">0:41:14</code>and also a symbol. This is the symbol, the word P-O-L-A-R, and that's what's sitting in this data object.</span><span s="2484" t="Where are the operations themselves? The operations are sitting in the table. So in this table, the rows and columns of the table are"><code onclick="Z(this)">0:41:24</code>Where are the operations themselves? The operations are sitting in the table. So in this table, the rows and columns of the table are</span><span s="2495" t="labeled by symbols. So when I store something in this table, the key might be the symbol polar and the symbol magnitude."><code onclick="Z(this)">0:41:35</code>labeled by symbols. So when I store something in this table, the key might be the symbol polar and the symbol magnitude.</span><span s="2508" t="And I think by writing it this way I&apos;ve been very confusing. Because what&apos;s really sitting here isn&apos;t-- when I wrote magnitude polar, what I mean is the procedure"><code onclick="Z(this)">0:41:48</code>And I think by writing it this way I've been very confusing. Because what's really sitting here isn't-- when I wrote magnitude polar, what I mean is the procedure</span><span s="2518" t="magnitude polar. And probably what I really should have written-- except it&apos;s too small for me to write in this little space-- is something like lambda of z, the thing that"><code onclick="Z(this)">0:41:58</code>magnitude polar. And probably what I really should have written-- except it's too small for me to write in this little space-- is something like lambda of z, the thing that</span><span s="2531" t="Martha wrote to implement. And then you can see from that, there&apos;s another way that I alluded to of solving this name conflict problem, which"><code onclick="Z(this)">0:42:11</code>Martha wrote to implement. And then you can see from that, there's another way that I alluded to of solving this name conflict problem, which</span><span s="2540" t="is that George and Martha never have to name their procedures at all. They can just stick the anonymous things generated by lambda directly into the table. There&apos;s also another thing that your question raises, is"><code onclick="Z(this)">0:42:20</code>is that George and Martha never have to name their procedures at all. They can just stick the anonymous things generated by lambda directly into the table. There's also another thing that your question raises, is</span><span s="2552" t="the possibility that maybe what I would like somehow is to store in this data object not the symbol P-O-L-A-R but maybe actually all the operations themselves."><code onclick="Z(this)">0:42:32</code>the possibility that maybe what I would like somehow is to store in this data object not the symbol P-O-L-A-R but maybe actually all the operations themselves.</span><span s="2563" t="And that&apos;s another way to organize the system, called message passing. So there are a lot of ways you can do it."><code onclick="Z(this)">0:42:43</code>And that's another way to organize the system, called message passing. So there are a lot of ways you can do it.</span><span s="2574" t="AUDIENCE: Therefore if Martha and George had used the same procedure names, it would be OK because it wouldn&apos;t look [UNINTELLIGIBLE]. PROFESSOR: That&apos;s right."><code onclick="Z(this)">0:42:54</code>AUDIENCE: Therefore if Martha and George had used the same procedure names, it would be OK because it wouldn't look [UNINTELLIGIBLE]. PROFESSOR: That's right.</span><span s="2583" t="That&apos;s right. See, they wouldn&apos;t even have to name their procedures at all. What George could have written instead of saying put in the"><code onclick="Z(this)">0:43:03</code>That's right. See, they wouldn't even have to name their procedures at all. What George could have written instead of saying put in the</span><span s="2592" t="table under rectangular- and real-part, the procedure real-part rectangular, George could have written put under rectangular real-part, lambda of z, such and such,"><code onclick="Z(this)">0:43:12</code>table under rectangular- and real-part, the procedure real-part rectangular, George could have written put under rectangular real-part, lambda of z, such and such,</span><span s="2603" t="and such and such. And the system would work completely the same. AUDIENCE: My question is, Martha could have put key1 key2 real-part, and George could have put key1 key2"><code onclick="Z(this)">0:43:23</code>and such and such. And the system would work completely the same. AUDIENCE: My question is, Martha could have put key1 key2 real-part, and George could have put key1 key2</span><span s="2617" t="real-part, and as long as they defined them differently they wouldn&apos;t have had any conflicts, right? PROFESSOR: Yes, that would all be OK except for the fact that if you imagine George and Martha typing at the same"><code onclick="Z(this)">0:43:37</code>real-part, and as long as they defined them differently they wouldn't have had any conflicts, right? PROFESSOR: Yes, that would all be OK except for the fact that if you imagine George and Martha typing at the same</span><span s="2627" t="console with the same meanings for all their names, and it would get confused by real-part, but there are ways to arrange that, too. And in principle you&apos;re absolutely right. If their names didn&apos;t conflict--"><code onclick="Z(this)">0:43:47</code>console with the same meanings for all their names, and it would get confused by real-part, but there are ways to arrange that, too. And in principle you're absolutely right. If their names didn't conflict--</span><span s="2636" t="it&apos;s the objects that go in the table, not the names."><code onclick="Z(this)">0:43:56</code>it's the objects that go in the table, not the names.</span><span s="2648" t="OK, let&apos;s take a break. [MUSIC-- &quot;JESU, JOY OF MAN&apos;S DESIRING&quot; BY JOHANN SEBASTIAN BACH]"><code onclick="Z(this)">0:44:08</code>OK, let's take a break. [MUSIC-- "JESU, JOY OF MAN'S DESIRING" BY JOHANN SEBASTIAN BACH]</span><span s="2712" t="All right, well we just looked at data-directed programming as a way of implementing a system that does arithmetic on"><code onclick="Z(this)">0:45:12</code>All right, well we just looked at data-directed programming as a way of implementing a system that does arithmetic on</span><span s="2721" t="complex numbers. So I had these operations in it called plus C and minus C,"><code onclick="Z(this)">0:45:21</code>complex numbers. So I had these operations in it called plus C and minus C,</span><span s="2732" t="and multiply, and divide, and maybe some others. And that sat on top of-- and this is the key point-- sat on"><code onclick="Z(this)">0:45:32</code>and multiply, and divide, and maybe some others. And that sat on top of-- and this is the key point-- sat on</span><span s="2746" t="top of two different representations. A rectangular package here, and a polar package."><code onclick="Z(this)">0:45:46</code>top of two different representations. A rectangular package here, and a polar package.</span><span s="2758" t="And maybe some more. And we saw that the whole idea is that maybe some more are now very easy to add. But that doesn&apos;t really show the power of this methodology."><code onclick="Z(this)">0:45:58</code>And maybe some more. And we saw that the whole idea is that maybe some more are now very easy to add. But that doesn't really show the power of this methodology.</span><span s="2768" t="Shows you what&apos;s going on. The power of the methodology only becomes apparent when you start embedding this in some more complex system."><code onclick="Z(this)">0:46:08</code>Shows you what's going on. The power of the methodology only becomes apparent when you start embedding this in some more complex system.</span><span s="2777" t="What I&apos;m going to do now is embed this in some more complex system. Let&apos;s assume that what we really have is a general kind of arithmetic system. So called generic arithmetic system."><code onclick="Z(this)">0:46:17</code>What I'm going to do now is embed this in some more complex system. Let's assume that what we really have is a general kind of arithmetic system. So called generic arithmetic system.</span><span s="2787" t="And at the top level here, somebody can say add two things, or subtract two things, or multiply two"><code onclick="Z(this)">0:46:27</code>And at the top level here, somebody can say add two things, or subtract two things, or multiply two</span><span s="2798" t="things, or divide two things. And underneath that there&apos;s an abstraction barrier."><code onclick="Z(this)">0:46:38</code>things, or divide two things. And underneath that there's an abstraction barrier.</span><span s="2807" t="And underneath this barrier, is, say, a complex arithmetic package. And you can say, add two complex numbers. Or you might also have-- remember we did a rational"><code onclick="Z(this)">0:46:47</code>And underneath this barrier, is, say, a complex arithmetic package. And you can say, add two complex numbers. Or you might also have-- remember we did a rational</span><span s="2817" t="number package-- you might have that sitting there. And there might be a rational thing. And the rational number package, well, has the things"><code onclick="Z(this)">0:46:57</code>number package-- you might have that sitting there. And there might be a rational thing. And the rational number package, well, has the things</span><span s="2827" t="we implemented. Plus rat, and times rat, and so on. Or you might have ordinary Lisp numbers."><code onclick="Z(this)">0:47:07</code>we implemented. Plus rat, and times rat, and so on. Or you might have ordinary Lisp numbers.</span><span s="2837" t="You might say add three and four. So we might have ordinary numbers, in which case we have"><code onclick="Z(this)">0:47:17</code>You might say add three and four. So we might have ordinary numbers, in which case we have</span><span s="2849" t="the Lisp supplied plus, and minus, and times, and slash. OK, so we might imagine this complex number system sitting"><code onclick="Z(this)">0:47:29</code>the Lisp supplied plus, and minus, and times, and slash. OK, so we might imagine this complex number system sitting</span><span s="2859" t="in a more complicated generic operator structure at the next level up. Well how can we make that?"><code onclick="Z(this)">0:47:39</code>in a more complicated generic operator structure at the next level up. Well how can we make that?</span><span s="2869" t="We already have the idea, we&apos;re just going to do it again. We&apos;ve implemented a rational number package. Let&apos;s look at how it has to be changed."><code onclick="Z(this)">0:47:49</code>We already have the idea, we're just going to do it again. We've implemented a rational number package. Let's look at how it has to be changed.</span><span s="2881" t="In fact, at this level it doesn&apos;t have to be changed at all. This is exactly the code that we wrote last time. To add two rational numbers, remember"><code onclick="Z(this)">0:48:01</code>In fact, at this level it doesn't have to be changed at all. This is exactly the code that we wrote last time. To add two rational numbers, remember</span><span s="2890" t="there was this formula. You make a rational number whose numerator-- the numerator of the first times the denominator of the second, plus the denominator of the first times the"><code onclick="Z(this)">0:48:10</code>there was this formula. You make a rational number whose numerator-- the numerator of the first times the denominator of the second, plus the denominator of the first times the</span><span s="2900" t="numerator of the second. And who&apos;s denominator is the product of the denominators. And minus rat, and star rat, and slash rat."><code onclick="Z(this)">0:48:20</code>numerator of the second. And who's denominator is the product of the denominators. And minus rat, and star rat, and slash rat.</span><span s="2910" t="And this is exactly the rational number package that we made before. We&apos;re ignoring the GCD problem, but let&apos;s not worry about that."><code onclick="Z(this)">0:48:30</code>And this is exactly the rational number package that we made before. We're ignoring the GCD problem, but let's not worry about that.</span><span s="2920" t="As implementers of this rational number package, how do we install it in the generic arithmetic system? Well that&apos;s easy. There&apos;s only one thing we have to do differently."><code onclick="Z(this)">0:48:40</code>As implementers of this rational number package, how do we install it in the generic arithmetic system? Well that's easy. There's only one thing we have to do differently.</span><span s="2931" t="Whereas previously we said that to make a rational number you built a pair of the numerator and denominator,"><code onclick="Z(this)">0:48:51</code>Whereas previously we said that to make a rational number you built a pair of the numerator and denominator,</span><span s="2940" t="here we&apos;ll not only build the pair, but we&apos;ll sign it. We&apos;ll attach the type rational. That&apos;s the only thing we have to do different, make it a typed data object."><code onclick="Z(this)">0:49:00</code>here we'll not only build the pair, but we'll sign it. We'll attach the type rational. That's the only thing we have to do different, make it a typed data object.</span><span s="2952" t="And now we&apos;ll stick our operations in the table. We&apos;ll put under the symbol rational and the operation add our procedure, plus rat."><code onclick="Z(this)">0:49:12</code>And now we'll stick our operations in the table. We'll put under the symbol rational and the operation add our procedure, plus rat.</span><span s="2961" t="And, again, note this is a symbol. Right? Quote, unquote, but the actual thing we&apos;re putting in the table is the procedure."><code onclick="Z(this)">0:49:21</code>And, again, note this is a symbol. Right? Quote, unquote, but the actual thing we're putting in the table is the procedure.</span><span s="2970" t="And for how to subtract, well you subtract rationals with minus rat. And multiply, and divide."><code onclick="Z(this)">0:49:30</code>And for how to subtract, well you subtract rationals with minus rat. And multiply, and divide.</span><span s="2981" t="And that is exactly and precisely what we have to do to fit inside this generic arithmetic system. Well how does the whole thing work?"><code onclick="Z(this)">0:49:41</code>And that is exactly and precisely what we have to do to fit inside this generic arithmetic system. Well how does the whole thing work?</span><span s="2991" t="See, what we want to do is have some generic operators."><code onclick="Z(this)">0:49:51</code>See, what we want to do is have some generic operators.</span><span s="3000" t="Have add and sub and [UNINTELLIGIBLE] be generic operators. So we&apos;re going to define add and say, to add x and y, that"><code onclick="Z(this)">0:50:00</code>Have add and sub and [UNINTELLIGIBLE] be generic operators. So we're going to define add and say, to add x and y, that</span><span s="3018" t="will be operate-- we were going to call it operate-2."><code onclick="Z(this)">0:50:18</code>will be operate-- we were going to call it operate-2.</span><span s="3027" t="This is our operator procedure, but set up for two arguments using add on x and y."><code onclick="Z(this)">0:50:27</code>This is our operator procedure, but set up for two arguments using add on x and y.</span><span s="3037" t="And so this is the analog to operate. Let&apos;s look at the code for second. It&apos;s almost like operate."><code onclick="Z(this)">0:50:37</code>And so this is the analog to operate. Let's look at the code for second. It's almost like operate.</span><span s="3046" t="To operate with some operator on an argument 1 and an argument 2, well the first thing we&apos;re going to do is"><code onclick="Z(this)">0:50:46</code>To operate with some operator on an argument 1 and an argument 2, well the first thing we're going to do is</span><span s="3056" t="check and see if the two arguments have the same type. So we&apos;ll say, is the type of the first argument the same as"><code onclick="Z(this)">0:50:56</code>check and see if the two arguments have the same type. So we'll say, is the type of the first argument the same as</span><span s="3066" t="the type of the second argument? And if they&apos;re not, we&apos;ll go off and complain, and say,"><code onclick="Z(this)">0:51:06</code>the type of the second argument? And if they're not, we'll go off and complain, and say,</span><span s="3075" t="that&apos;s an error. We don&apos;t know how to do that. If they do have the same type, we&apos;ll do exactly what we did before. We&apos;ll go look and filed under the type of the argument--"><code onclick="Z(this)">0:51:15</code>that's an error. We don't know how to do that. If they do have the same type, we'll do exactly what we did before. We'll go look and filed under the type of the argument--</span><span s="3086" t="arg 1 and arg 2 have the same type, so it doesn&apos;t matter. So we&apos;ll look in the table, find the procedure. If there is a procedure there, then we&apos;ll apply it to the"><code onclick="Z(this)">0:51:26</code>arg 1 and arg 2 have the same type, so it doesn't matter. So we'll look in the table, find the procedure. If there is a procedure there, then we'll apply it to the</span><span s="3098" t="contents of the argument 1 and the contents of arg 2. And otherwise we&apos;ll say, error. Undefined operator. And so there&apos;s operate-2."><code onclick="Z(this)">0:51:38</code>contents of the argument 1 and the contents of arg 2. And otherwise we'll say, error. Undefined operator. And so there's operate-2.</span><span s="3111" t="And that&apos;s all we have to do. We just built the complex number package before. How do we embed that complex number package in"><code onclick="Z(this)">0:51:51</code>And that's all we have to do. We just built the complex number package before. How do we embed that complex number package in</span><span s="3120" t="this generic system? Almost the same. We make a procedure called make-complex that takes"><code onclick="Z(this)">0:52:00</code>this generic system? Almost the same. We make a procedure called make-complex that takes</span><span s="3131" t="whatever George and Martha hand to us and add the type-complex. And then we say, to add complex numbers, plus complex,"><code onclick="Z(this)">0:52:11</code>whatever George and Martha hand to us and add the type-complex. And then we say, to add complex numbers, plus complex,</span><span s="3145" t="we use our internal procedure, plus c, and attach a type, make that a complex number."><code onclick="Z(this)">0:52:25</code>we use our internal procedure, plus c, and attach a type, make that a complex number.</span><span s="3157" t="So our original package had names plus c and minus c that we&apos;re using to communicate with George and Martha. And then to communicate with the outside world, we have a"><code onclick="Z(this)">0:52:37</code>So our original package had names plus c and minus c that we're using to communicate with George and Martha. And then to communicate with the outside world, we have a</span><span s="3167" t="thing called plus-complex and minus-complex. And so on."><code onclick="Z(this)">0:52:47</code>thing called plus-complex and minus-complex. And so on.</span><span s="3176" t="And the only difference is that these return values that are tight. So they can be looked at up here. And these are internal operations."><code onclick="Z(this)">0:52:56</code>And the only difference is that these return values that are tight. So they can be looked at up here. And these are internal operations.</span><span s="3189" t="Let&apos;s go look at that slide again. There&apos;s one more thing we do. After defining plus-complex, we put under the type complex"><code onclick="Z(this)">0:53:09</code>Let's go look at that slide again. There's one more thing we do. After defining plus-complex, we put under the type complex</span><span s="3199" t="and the symbol add, that procedure plus complex. And then similarly for subtracting complex numbers, and multiplying them, and dividing them."><code onclick="Z(this)">0:53:19</code>and the symbol add, that procedure plus complex. And then similarly for subtracting complex numbers, and multiplying them, and dividing them.</span><span s="3211" t="OK, how do we install ordinary numbers? Exactly the same way. Come off and say, well we&apos;ll make a thing called"><code onclick="Z(this)">0:53:31</code>OK, how do we install ordinary numbers? Exactly the same way. Come off and say, well we'll make a thing called</span><span s="3220" t="make-number. Make-number takes a number and attaches a type, which is the symbol number."><code onclick="Z(this)">0:53:40</code>make-number. Make-number takes a number and attaches a type, which is the symbol number.</span><span s="3230" t="We build a procedure called plus-number, which is simply, add the two things using the ordinary addition, because in"><code onclick="Z(this)">0:53:50</code>We build a procedure called plus-number, which is simply, add the two things using the ordinary addition, because in</span><span s="3239" t="this case we&apos;re talking about ordinary numbers, and attach a type to it and make that a number. And then we put into the table under the symbol number and"><code onclick="Z(this)">0:53:59</code>this case we're talking about ordinary numbers, and attach a type to it and make that a number. And then we put into the table under the symbol number and</span><span s="3248" t="the operation add, this procedure plus-number, and then the same thing for subtracting, and multiplying, and dividing."><code onclick="Z(this)">0:54:08</code>the operation add, this procedure plus-number, and then the same thing for subtracting, and multiplying, and dividing.</span><span s="3262" t="Let&apos;s look at an example, just to make it clear. Suppose, for instance, I&apos;m going"><code onclick="Z(this)">0:54:22</code>Let's look at an example, just to make it clear. Suppose, for instance, I'm going</span><span s="3272" t="to perform the operation. So I sit up here and I&apos;m going to perform the operation, which looks like multiplying two complex numbers. So I would multiply, say, 3 plus 4i and 2 plus 6i."><code onclick="Z(this)">0:54:32</code>to perform the operation. So I sit up here and I'm going to perform the operation, which looks like multiplying two complex numbers. So I would multiply, say, 3 plus 4i and 2 plus 6i.</span><span s="3289" t="And that&apos;s something that I might want to take hand that to mul. I&apos;ll write mul as my generic operator here. How&apos;s that going to work?"><code onclick="Z(this)">0:54:49</code>And that's something that I might want to take hand that to mul. I'll write mul as my generic operator here. How's that going to work?</span><span s="3298" t="Well 3 plus 4i, say, sits in the system at this level as something that looks like this. Let&apos;s say it was one of George&apos;s."><code onclick="Z(this)">0:54:58</code>Well 3 plus 4i, say, sits in the system at this level as something that looks like this. Let's say it was one of George's.</span><span s="3308" t="So it would have a 3 and a 4."><code onclick="Z(this)">0:55:08</code>So it would have a 3 and a 4.</span><span s="3318" t="And attached to that would be George&apos;s type, which would say rectangular, it came from George."><code onclick="Z(this)">0:55:18</code>And attached to that would be George's type, which would say rectangular, it came from George.</span><span s="3329" t="And attached to that-- and this itself would be the data view from the next level up, which it is-- so that itself would be a type-data object which would"><code onclick="Z(this)">0:55:29</code>And attached to that-- and this itself would be the data view from the next level up, which it is-- so that itself would be a type-data object which would</span><span s="3341" t="say complex. So that&apos;s what this object would look like up here at the very highest level, where the really super-generic"><code onclick="Z(this)">0:55:41</code>say complex. So that's what this object would look like up here at the very highest level, where the really super-generic</span><span s="3352" t="operations are looking at it. Now what happens, mul eventually&apos;s going to come along and say, oh, what&apos;s it&apos;s type? It&apos;s type is complex."><code onclick="Z(this)">0:55:52</code>operations are looking at it. Now what happens, mul eventually's going to come along and say, oh, what's it's type? It's type is complex.</span><span s="3364" t="Go through to operate-2 and say, oh, what I want to do is apply what&apos;s in the table, which is going to be the procedure star complex, on this thing with the type"><code onclick="Z(this)">0:56:04</code>Go through to operate-2 and say, oh, what I want to do is apply what's in the table, which is going to be the procedure star complex, on this thing with the type</span><span s="3377" t="stripped off. So it&apos;s going to strip off the type, take that much, and send that down into the complex world."><code onclick="Z(this)">0:56:17</code>stripped off. So it's going to strip off the type, take that much, and send that down into the complex world.</span><span s="3386" t="The complex world looks at its operations and says, oh, I have to apply star c. Star c might say, oh, at some point I want to look at the magnitude of this object that it&apos;s in, that it&apos;s got."><code onclick="Z(this)">0:56:26</code>The complex world looks at its operations and says, oh, I have to apply star c. Star c might say, oh, at some point I want to look at the magnitude of this object that it's in, that it's got.</span><span s="3399" t="And they&apos;ll say, oh, it&apos;s rectangular, it&apos;s one of George&apos;s. So it&apos;ll then strip off the next version of type, and hand that down to George to take the magnitude of."><code onclick="Z(this)">0:56:39</code>And they'll say, oh, it's rectangular, it's one of George's. So it'll then strip off the next version of type, and hand that down to George to take the magnitude of.</span><span s="3412" t="So you see what&apos;s going on is that there are these chains of types. And the length of the chain is sort of the number of levels"><code onclick="Z(this)">0:56:52</code>So you see what's going on is that there are these chains of types. And the length of the chain is sort of the number of levels</span><span s="3421" t="that you&apos;re going to be going up in this table. And what a type tells you, every time you have a vertical barrier in this table, where there&apos;s some ambiguity about"><code onclick="Z(this)">0:57:01</code>that you're going to be going up in this table. And what a type tells you, every time you have a vertical barrier in this table, where there's some ambiguity about</span><span s="3432" t="where you should go down to the next level, the type is telling you where to go. And then everybody at the bottom, as they construct data and filter it up, they stick their type back on."><code onclick="Z(this)">0:57:12</code>where you should go down to the next level, the type is telling you where to go. And then everybody at the bottom, as they construct data and filter it up, they stick their type back on.</span><span s="3445" t="So that&apos;s the general structure of the system. OK."><code onclick="Z(this)">0:57:25</code>So that's the general structure of the system. OK.</span><span s="3454" t="Now that we&apos;ve got this, let&apos;s go and make this thing even more complex. Let&apos;s talk about adding to the system not only these kinds of"><code onclick="Z(this)">0:57:34</code>Now that we've got this, let's go and make this thing even more complex. Let's talk about adding to the system not only these kinds of</span><span s="3466" t="numbers, but it&apos;s also meaningful to start talking about adding polynomials. Might do arithmetic on polynomials. Like we could have x to the fifteenth plus 2x to the"><code onclick="Z(this)">0:57:46</code>numbers, but it's also meaningful to start talking about adding polynomials. Might do arithmetic on polynomials. Like we could have x to the fifteenth plus 2x to the</span><span s="3477" t="seventh plus 5. That might be some polynomial."><code onclick="Z(this)">0:57:57</code>seventh plus 5. That might be some polynomial.</span><span s="3486" t="And if we have two such gadgets we can add them or multiply them. Let&apos;s not worry about dividing them. Just add them, multiply them, then we&apos;ll subtract them."><code onclick="Z(this)">0:58:06</code>And if we have two such gadgets we can add them or multiply them. Let's not worry about dividing them. Just add them, multiply them, then we'll subtract them.</span><span s="3495" t="What do we have to do? Well let&apos;s think about how we might represent a polynomial. It&apos;s going to be some typed data object."><code onclick="Z(this)">0:58:15</code>What do we have to do? Well let's think about how we might represent a polynomial. It's going to be some typed data object.</span><span s="3504" t="So let&apos;s say a polynomial to this system might look like a thing that starts with the type polynomial. And then maybe it says the next thing is what"><code onclick="Z(this)">0:58:24</code>So let's say a polynomial to this system might look like a thing that starts with the type polynomial. And then maybe it says the next thing is what</span><span s="3513" t="variable its in. So I might say I&apos;m a polynomial in the variable x. And then it&apos;ll have some information about what the terms are."><code onclick="Z(this)">0:58:33</code>variable its in. So I might say I'm a polynomial in the variable x. And then it'll have some information about what the terms are.</span><span s="3522" t="And there&apos;re just tons of ways to do this, but one way is to say we&apos;re going to have a thing called a term-list. And"><code onclick="Z(this)">0:58:42</code>And there're just tons of ways to do this, but one way is to say we're going to have a thing called a term-list. And</span><span s="3531" t="a term-list-- well, in our case we&apos;ll use something that looks like this. We&apos;ll make it a bunch of pairs which have an order in a coefficient. So this polynomial would be represented by this term-list."><code onclick="Z(this)">0:58:51</code>a term-list-- well, in our case we'll use something that looks like this. We'll make it a bunch of pairs which have an order in a coefficient. So this polynomial would be represented by this term-list.</span><span s="3549" t="And what that means is that this polynomial starts off with a term of order 15 and coefficient 1."><code onclick="Z(this)">0:59:09</code>And what that means is that this polynomial starts off with a term of order 15 and coefficient 1.</span><span s="3563" t="And the next thing in it is a term of order 7 and coefficient 2, a term of order 0, which is constant in coefficient 5. And there are lots and lots of ways, and lots and lots of"><code onclick="Z(this)">0:59:23</code>And the next thing in it is a term of order 7 and coefficient 2, a term of order 0, which is constant in coefficient 5. And there are lots and lots of ways, and lots and lots of</span><span s="3575" t="trade-offs when you really think about making algebraic manipulation packages about exactly how you should represent these things. But this is a fairly standard one."><code onclick="Z(this)">0:59:35</code>trade-offs when you really think about making algebraic manipulation packages about exactly how you should represent these things. But this is a fairly standard one.</span><span s="3584" t="It&apos;s useful in a lot of contexts. OK, well how do we implement our polynomial arithmetic?"><code onclick="Z(this)">0:59:44</code>It's useful in a lot of contexts. OK, well how do we implement our polynomial arithmetic?</span><span s="3594" t="Let&apos;s start out. What we&apos;ll do to make a polynomial-- we&apos;ll first have a way to make polynomials."><code onclick="Z(this)">0:59:54</code>Let's start out. What we'll do to make a polynomial-- we'll first have a way to make polynomials.</span><span s="3605" t="We&apos;re going to make a polynomial out of variable like x and term-list. And all that does is we&apos;ll package them together someway."><code onclick="Z(this)">1:00:05</code>We're going to make a polynomial out of variable like x and term-list. And all that does is we'll package them together someway.</span><span s="3614" t="We&apos;ll put the variable together with the term list using cons, and then attached to that the type polynomial."><code onclick="Z(this)">1:00:14</code>We'll put the variable together with the term list using cons, and then attached to that the type polynomial.</span><span s="3626" t="OK, how do we add two polynomials? To add a polynomial, p1 and p2, and then just for simplicity let&apos;s say we will only add"><code onclick="Z(this)">1:00:26</code>OK, how do we add two polynomials? To add a polynomial, p1 and p2, and then just for simplicity let's say we will only add</span><span s="3636" t="things in the same variable. So if they have the same variable, and same variable here is going to be some selector we write, whose details we don&apos;t care about."><code onclick="Z(this)">1:00:36</code>things in the same variable. So if they have the same variable, and same variable here is going to be some selector we write, whose details we don't care about.</span><span s="3645" t="If the two polynomials have the same variable, then we&apos;ll do something. If they don&apos;t have the same variable, we&apos;ll give an error, polynomials not in the same variable."><code onclick="Z(this)">1:00:45</code>If the two polynomials have the same variable, then we'll do something. If they don't have the same variable, we'll give an error, polynomials not in the same variable.</span><span s="3655" t="And if they do have the same variable, what we&apos;ll do is we&apos;ll make a polynomial whose variable is whatever that variable is, and whose term-list is something we&apos;ll"><code onclick="Z(this)">1:00:55</code>And if they do have the same variable, what we'll do is we'll make a polynomial whose variable is whatever that variable is, and whose term-list is something we'll</span><span s="3665" t="call sum-terms. Plus terms will add the two term lists. So we&apos;ll add the two term lists to the polynomial. That&apos;ll give us a term-list. We&apos;ll add on, we&apos;ll say it&apos;s a"><code onclick="Z(this)">1:01:05</code>call sum-terms. Plus terms will add the two term lists. So we'll add the two term lists to the polynomial. That'll give us a term-list. We'll add on, we'll say it's a</span><span s="3676" t="polynomial in the variable with that term-list. That&apos;s plus poly. And then we&apos;re going to put in our table under the type"><code onclick="Z(this)">1:01:16</code>polynomial in the variable with that term-list. That's plus poly. And then we're going to put in our table under the type</span><span s="3686" t="polynomial, add them using plus poly. And of course we really haven&apos;t done much. What we&apos;ve really done is pushed all the work onto this thing, plus-terms, which is supposed to add term-lists."><code onclick="Z(this)">1:01:26</code>polynomial, add them using plus poly. And of course we really haven't done much. What we've really done is pushed all the work onto this thing, plus-terms, which is supposed to add term-lists.</span><span s="3698" t="Let&apos;s look at that. Here&apos;s an overview of how we might add two term-lists."><code onclick="Z(this)">1:01:38</code>Let's look at that. Here's an overview of how we might add two term-lists.</span><span s="3708" t="So L1 and L2 were going to be two term-lists. And a term-list is a bunch of pairs, coefficient in order. And it&apos;s a big case analysis."><code onclick="Z(this)">1:01:48</code>So L1 and L2 were going to be two term-lists. And a term-list is a bunch of pairs, coefficient in order. And it's a big case analysis.</span><span s="3719" t="And the first thing we&apos;ll check for and see if there are any terms. We&apos;re going to recursively work down these term-lists, so eventually we&apos;ll get to a place where"><code onclick="Z(this)">1:01:59</code>And the first thing we'll check for and see if there are any terms. We're going to recursively work down these term-lists, so eventually we'll get to a place where</span><span s="3729" t="either L1 or L2 might be empty. And if either one is empty, our answer will be the other one. So if L1 is empty we&apos;ll return L2, and if L2 is empty"><code onclick="Z(this)">1:02:09</code>either L1 or L2 might be empty. And if either one is empty, our answer will be the other one. So if L1 is empty we'll return L2, and if L2 is empty</span><span s="3740" t="we&apos;ll return L1. Otherwise there are sort of three interesting cases. What we&apos;re going to do is grab the first term in each of"><code onclick="Z(this)">1:02:20</code>we'll return L1. Otherwise there are sort of three interesting cases. What we're going to do is grab the first term in each of</span><span s="3750" t="those lists, called t1 and t2. And we&apos;re going to look at three cases, depending on"><code onclick="Z(this)">1:02:30</code>those lists, called t1 and t2. And we're going to look at three cases, depending on</span><span s="3763" t="whether the order of t1 is greater than the order of t2, or less than t2, or the same."><code onclick="Z(this)">1:02:43</code>whether the order of t1 is greater than the order of t2, or less than t2, or the same.</span><span s="3773" t="Those are the three cases we&apos;re going to look at. Let&apos;s look at this case. If the order of t1 is greater than the order of t2, then"><code onclick="Z(this)">1:02:53</code>Those are the three cases we're going to look at. Let's look at this case. If the order of t1 is greater than the order of t2, then</span><span s="3783" t="what that means is that our answer is going to start with this term of the order of t1. Because it won&apos;t combine with any lower order terms. So what"><code onclick="Z(this)">1:03:03</code>what that means is that our answer is going to start with this term of the order of t1. Because it won't combine with any lower order terms. So what</span><span s="3794" t="we do is add the lower order terms. We recursively add together all the terms in the rest of the term-list in L1 and L2."><code onclick="Z(this)">1:03:14</code>we do is add the lower order terms. We recursively add together all the terms in the rest of the term-list in L1 and L2.</span><span s="3806" t="That&apos;s going to be the lower order terms of the answer. And then we&apos;re going to adjoin to that the highest order term. And I&apos;m using here a whole bunch of procedures I haven&apos;t"><code onclick="Z(this)">1:03:26</code>That's going to be the lower order terms of the answer. And then we're going to adjoin to that the highest order term. And I'm using here a whole bunch of procedures I haven't</span><span s="3815" t="defined, like a adjoin-term, and rest-terms, and selectors that get order. But you can imagine what those are."><code onclick="Z(this)">1:03:35</code>defined, like a adjoin-term, and rest-terms, and selectors that get order. But you can imagine what those are.</span><span s="3824" t="So if the first term-list has a higher order than the second, we recursively add all the lower terms and then stick on that last term."><code onclick="Z(this)">1:03:44</code>So if the first term-list has a higher order than the second, we recursively add all the lower terms and then stick on that last term.</span><span s="3835" t="The other case, the same way. If the first term has a smaller order, well then we"><code onclick="Z(this)">1:03:55</code>The other case, the same way. If the first term has a smaller order, well then we</span><span s="3845" t="add the first term-list and the rest of the terms in the second one, and adjoin on this highest order term."><code onclick="Z(this)">1:04:05</code>add the first term-list and the rest of the terms in the second one, and adjoin on this highest order term.</span><span s="3854" t="So so far nothing&apos;s much happened, we&apos;ve just sort of pushed this thing off into adding lower order terms. The last case where you actually get to a coefficients that you have to add, this will be the case where"><code onclick="Z(this)">1:04:14</code>So so far nothing's much happened, we've just sort of pushed this thing off into adding lower order terms. The last case where you actually get to a coefficients that you have to add, this will be the case where</span><span s="3864" t="the orders are equal. What we do is, well again recursively add the lower order terms. But now we have to really combine something."><code onclick="Z(this)">1:04:24</code>the orders are equal. What we do is, well again recursively add the lower order terms. But now we have to really combine something.</span><span s="3873" t="What we do is we make a term whose order is the order of the term we&apos;re looking at. By now t1 and t2 have the same order."><code onclick="Z(this)">1:04:33</code>What we do is we make a term whose order is the order of the term we're looking at. By now t1 and t2 have the same order.</span><span s="3884" t="That&apos;s its order. And its coefficient is gotten by adding the coefficient of t1 and the coefficient of t2."><code onclick="Z(this)">1:04:44</code>That's its order. And its coefficient is gotten by adding the coefficient of t1 and the coefficient of t2.</span><span s="3896" t="This is a big recursive working down of terms, but really there&apos;s only one interesting symbol in this procedure, only one interesting idea."><code onclick="Z(this)">1:04:56</code>This is a big recursive working down of terms, but really there's only one interesting symbol in this procedure, only one interesting idea.</span><span s="3905" t="The interesting idea is this add. And the reason that&apos;s interesting is because"><code onclick="Z(this)">1:05:05</code>The interesting idea is this add. And the reason that's interesting is because</span><span s="3915" t="something completely wonderful just happened. We reduced adding polynomials, not to sort of plus, but to"><code onclick="Z(this)">1:05:15</code>something completely wonderful just happened. We reduced adding polynomials, not to sort of plus, but to</span><span s="3925" t="the generic add. In other words, by implementing it that way, not only do we have our system where we can have rational"><code onclick="Z(this)">1:05:25</code>the generic add. In other words, by implementing it that way, not only do we have our system where we can have rational</span><span s="3937" t="numbers, or complex numbers, or ordinary numbers, we&apos;ve just added on polynomials."><code onclick="Z(this)">1:05:37</code>numbers, or complex numbers, or ordinary numbers, we've just added on polynomials.</span><span s="3948" t="But the coefficients of the polynomials can be anything that the system can add. So these could be polynomials whose coefficients are"><code onclick="Z(this)">1:05:48</code>But the coefficients of the polynomials can be anything that the system can add. So these could be polynomials whose coefficients are</span><span s="3957" t="rational numbers or complex numbers, which in turn could be either rectangular, or polar, or ordinary numbers."><code onclick="Z(this)">1:05:57</code>rational numbers or complex numbers, which in turn could be either rectangular, or polar, or ordinary numbers.</span><span s="3979" t="So what I mean precisely is our system right now automatically can handle things like adding together"><code onclick="Z(this)">1:06:19</code>So what I mean precisely is our system right now automatically can handle things like adding together</span><span s="3990" t="polynomials that have this one: 2/3 of x squared plus 5/17 x plus 11/4."><code onclick="Z(this)">1:06:30</code>polynomials that have this one: 2/3 of x squared plus 5/17 x plus 11/4.</span><span s="4000" t="Or automatically handle polynomials that look like 3 plus 2i times x to the fifth plus 4 plus 7i, or something."><code onclick="Z(this)">1:06:40</code>Or automatically handle polynomials that look like 3 plus 2i times x to the fifth plus 4 plus 7i, or something.</span><span s="4014" t="You can automatically handle those things. Why is that? That&apos;s merely because, or profoundly because we reduced"><code onclick="Z(this)">1:06:54</code>You can automatically handle those things. Why is that? That's merely because, or profoundly because we reduced</span><span s="4023" t="adding polynomials to adding their coefficients. And adding coefficients was done by the generic add operator, which said, I don&apos;t care what your types are as"><code onclick="Z(this)">1:07:03</code>adding polynomials to adding their coefficients. And adding coefficients was done by the generic add operator, which said, I don't care what your types are as</span><span s="4032" t="long as I know how to add you. So automatically for free we get the ability to handle that. What&apos;s even better than that, because remember one of the"><code onclick="Z(this)">1:07:12</code>long as I know how to add you. So automatically for free we get the ability to handle that. What's even better than that, because remember one of the</span><span s="4044" t="things we did is we put into the table that the way you add polynomials is using plus poly."><code onclick="Z(this)">1:07:24</code>things we did is we put into the table that the way you add polynomials is using plus poly.</span><span s="4054" t="That means that polynomials themselves are things that can be added. So for instance let me write one here."><code onclick="Z(this)">1:07:34</code>That means that polynomials themselves are things that can be added. So for instance let me write one here.</span><span s="4065" t="Here&apos;s a polynomial. So this gadget here I&apos;m writing up, this is a"><code onclick="Z(this)">1:07:45</code>Here's a polynomial. So this gadget here I'm writing up, this is a</span><span s="4075" t="polynomial in y whose coefficients are polynomials in x."><code onclick="Z(this)">1:07:55</code>polynomial in y whose coefficients are polynomials in x.</span><span s="4088" t="So you see, simply by saying, polynomials are themselves things that can be added, we can go off and say, well not only can we deal with rationals, or complex, or"><code onclick="Z(this)">1:08:08</code>So you see, simply by saying, polynomials are themselves things that can be added, we can go off and say, well not only can we deal with rationals, or complex, or</span><span s="4099" t="ordinary numbers, but we can deal with polynomials whose coefficients are rationals, or complex, or ordinary numbers, or polynomials whose coefficients are rationals, or"><code onclick="Z(this)">1:08:19</code>ordinary numbers, but we can deal with polynomials whose coefficients are rationals, or complex, or ordinary numbers, or polynomials whose coefficients are rationals, or</span><span s="4111" t="complex, rectangular, polar, or ordinary numbers, or polynomials whose coefficients are rationals, complex, or"><code onclick="Z(this)">1:08:31</code>complex, rectangular, polar, or ordinary numbers, or polynomials whose coefficients are rationals, complex, or</span><span s="4122" t="ordinary numbers. And so on, and so on, and so on. So this is sort of an infinite or maybe a recursive tower of types that we&apos;ve built up."><code onclick="Z(this)">1:08:42</code>ordinary numbers. And so on, and so on, and so on. So this is sort of an infinite or maybe a recursive tower of types that we've built up.</span><span s="4133" t="And it&apos;s all exactly from that one little symbol. A-D-D. Writing &quot;add&quot; instead of &quot;plus&quot; in the polynomial thing."><code onclick="Z(this)">1:08:53</code>And it's all exactly from that one little symbol. A-D-D. Writing "add" instead of "plus" in the polynomial thing.</span><span s="4142" t="Slightly different way to think about it is that polynomials are a constructor for types. Namely you give it a type, like integer, and it returns"><code onclick="Z(this)">1:09:02</code>Slightly different way to think about it is that polynomials are a constructor for types. Namely you give it a type, like integer, and it returns</span><span s="4152" t="for you polynomials in x whose coefficients are integers. And the important thing about that is that the operations on polynomials reduce to the operations on the"><code onclick="Z(this)">1:09:12</code>for you polynomials in x whose coefficients are integers. And the important thing about that is that the operations on polynomials reduce to the operations on the</span><span s="4162" t="coefficients. And there are a lot of things like that. So for example, let&apos;s go back and rational numbers. We thought about rational numbers as an integer over an"><code onclick="Z(this)">1:09:22</code>coefficients. And there are a lot of things like that. So for example, let's go back and rational numbers. We thought about rational numbers as an integer over an</span><span s="4172" t="integer, but there&apos;s the general notion of a rational object. Like we might think about 3x plus 7 over x squared plus 1."><code onclick="Z(this)">1:09:32</code>integer, but there's the general notion of a rational object. Like we might think about 3x plus 7 over x squared plus 1.</span><span s="4183" t="That&apos;s general rational object whose numerator and denominator are polynomials. And to add two of them we use the same formula, numerator"><code onclick="Z(this)">1:09:43</code>That's general rational object whose numerator and denominator are polynomials. And to add two of them we use the same formula, numerator</span><span s="4192" t="times denominator plus denominator times numerator over product of denominators. How could we install that in our system? Well here&apos;s our original rational"><code onclick="Z(this)">1:09:52</code>times denominator plus denominator times numerator over product of denominators. How could we install that in our system? Well here's our original rational</span><span s="4201" t="number arithmetic package. And all we have to do in order to make the entire system continue working with general rational objects, is replace"><code onclick="Z(this)">1:10:01</code>number arithmetic package. And all we have to do in order to make the entire system continue working with general rational objects, is replace</span><span s="4212" t="these particular pluses and stars by the generic operator. So if we simply change that procedure to this one, here we&apos;ve changed plus and star to add a mul, those are"><code onclick="Z(this)">1:10:12</code>these particular pluses and stars by the generic operator. So if we simply change that procedure to this one, here we've changed plus and star to add a mul, those are</span><span s="4223" t="absolutely the only change, then suddenly our entire system can start talking about objects that look like this."><code onclick="Z(this)">1:10:23</code>absolutely the only change, then suddenly our entire system can start talking about objects that look like this.</span><span s="4234" t="So for example, here is a rational object whose numerator is a polynomial in x whose coefficients are"><code onclick="Z(this)">1:10:34</code>So for example, here is a rational object whose numerator is a polynomial in x whose coefficients are</span><span s="4244" t="rational numbers. Or here is a rational object whose numerator is polynomials"><code onclick="Z(this)">1:10:44</code>rational numbers. Or here is a rational object whose numerator is polynomials</span><span s="4253" t="in x whose coefficients are rational objects constructed out of complex numbers."><code onclick="Z(this)">1:10:53</code>in x whose coefficients are rational objects constructed out of complex numbers.</span><span s="4263" t="And then there are a lot of other things like that. See, whenever you have a thing where the operations reduce to operations on the pieces, another example would be two by two matrices."><code onclick="Z(this)">1:11:03</code>And then there are a lot of other things like that. See, whenever you have a thing where the operations reduce to operations on the pieces, another example would be two by two matrices.</span><span s="4272" t="I have the idea, there might be a matrix here of general things that I don&apos;t care about. But if I add two of them, the answer over here is gotten by"><code onclick="Z(this)">1:11:12</code>I have the idea, there might be a matrix here of general things that I don't care about. But if I add two of them, the answer over here is gotten by</span><span s="4285" t="adding this one and that one, however they like to add. So I can implement that the same way. And if I do that, then again suddenly my system can start handling things like this."><code onclick="Z(this)">1:11:25</code>adding this one and that one, however they like to add. So I can implement that the same way. And if I do that, then again suddenly my system can start handling things like this.</span><span s="4295" t="So here&apos;s a matrix whose elements happen to be-- we&apos;ll say this element here is a rational object whose numerator and denominators are polynomials."><code onclick="Z(this)">1:11:35</code>So here's a matrix whose elements happen to be-- we'll say this element here is a rational object whose numerator and denominators are polynomials.</span><span s="4307" t="And all that comes for free. What&apos;s really going on here? What&apos;s really going on is getting rid of this manager"><code onclick="Z(this)">1:11:47</code>And all that comes for free. What's really going on here? What's really going on is getting rid of this manager</span><span s="4318" t="who&apos;s sitting there poking his nose into who everybody&apos;s business is. We built a system that has decentralized control."><code onclick="Z(this)">1:11:58</code>who's sitting there poking his nose into who everybody's business is. We built a system that has decentralized control.</span><span s="4334" t="So when you come into and no one&apos;s poking around saying, gee, are you in the official list of people who can be added? Rather you say, well go off and add yourself how your"><code onclick="Z(this)">1:12:14</code>So when you come into and no one's poking around saying, gee, are you in the official list of people who can be added? Rather you say, well go off and add yourself how your</span><span s="4344" t="parts like to be added. And the result of that is you can get this very, very, very complex hierarchy where a lot of things just get done and"><code onclick="Z(this)">1:12:24</code>parts like to be added. And the result of that is you can get this very, very, very complex hierarchy where a lot of things just get done and</span><span s="4353" t="rooted to the right place automatically. Let&apos;s stop for questions. AUDIENCE: You say you get this for free."><code onclick="Z(this)">1:12:33</code>rooted to the right place automatically. Let's stop for questions. AUDIENCE: You say you get this for free.</span><span s="4363" t="One thing that strikes me is that now you&apos;ve lost kind of the cleanness of the break between what&apos;s on top and what&apos;s underneath. In other words, now you&apos;re defining some of the"><code onclick="Z(this)">1:12:43</code>One thing that strikes me is that now you've lost kind of the cleanness of the break between what's on top and what's underneath. In other words, now you're defining some of the</span><span s="4372" t="lower-level procedures in terms of things above their own line. Isn&apos;t that dangerous? Or, if nothing more, a little less structured?"><code onclick="Z(this)">1:12:52</code>lower-level procedures in terms of things above their own line. Isn't that dangerous? Or, if nothing more, a little less structured?</span><span s="4385" t="PROFESSOR: No, I-- the question is whether that&apos;s less structured. Depends on what you mean by structure. All this is doing is recursion. See, it&apos;s saying that the way you add these"><code onclick="Z(this)">1:13:05</code>PROFESSOR: No, I-- the question is whether that's less structured. Depends on what you mean by structure. All this is doing is recursion. See, it's saying that the way you add these</span><span s="4395" t="guys is to use that. And that&apos;s not less structured, it&apos;s just a recursive structure. So I don&apos;t think it&apos;s particularly any less clean."><code onclick="Z(this)">1:13:15</code>guys is to use that. And that's not less structured, it's just a recursive structure. So I don't think it's particularly any less clean.</span><span s="4404" t="AUDIENCE: Now when you want to change the multiplier or the add operator, suddenly you&apos;ve got tremendous consequences underneath that you&apos;re not even sure the extent of."><code onclick="Z(this)">1:13:24</code>AUDIENCE: Now when you want to change the multiplier or the add operator, suddenly you've got tremendous consequences underneath that you're not even sure the extent of.</span><span s="4414" t="PROFESSOR: That&apos;s right, but it depends what you mean. See, this goes both ways. What would be a good example?"><code onclick="Z(this)">1:13:34</code>PROFESSOR: That's right, but it depends what you mean. See, this goes both ways. What would be a good example?</span><span s="4424" t="I ignored greatest common divisor, for instance. I ignored that problem just to keep the example simple. But if I suddenly decided that plus rat here should do a GCD"><code onclick="Z(this)">1:13:44</code>I ignored greatest common divisor, for instance. I ignored that problem just to keep the example simple. But if I suddenly decided that plus rat here should do a GCD</span><span s="4439" t="computation and install that, then that immediately becomes available to all of these, to that guy, and that guy, and"><code onclick="Z(this)">1:13:59</code>computation and install that, then that immediately becomes available to all of these, to that guy, and that guy, and</span><span s="4448" t="that guy, and all the way down. So it depends what you mean by the coherence of your system. It&apos;s certainly true that you might want to have a special"><code onclick="Z(this)">1:14:08</code>that guy, and all the way down. So it depends what you mean by the coherence of your system. It's certainly true that you might want to have a special</span><span s="4457" t="different one that didn&apos;t filter down through the coefficients, but the nice thing about this particular example is that mostly you do. AUDIENCE: Isn&apos;t that the problem, I think, that you&apos;re"><code onclick="Z(this)">1:14:17</code>different one that didn't filter down through the coefficients, but the nice thing about this particular example is that mostly you do. AUDIENCE: Isn't that the problem, I think, that you're</span><span s="4467" t="getting to tied in with the fact that the structuring, the recursiveness of that structuring there is actually"><code onclick="Z(this)">1:14:27</code>getting to tied in with the fact that the structuring, the recursiveness of that structuring there is actually</span><span s="4476" t="in execution as opposed to just definition of the actual types themselves? PROFESSOR: I think I understand the question."><code onclick="Z(this)">1:14:36</code>in execution as opposed to just definition of the actual types themselves? PROFESSOR: I think I understand the question.</span><span s="4486" t="The point is that these types evolve and get more and more complex as the thing&apos;s actually running. Is that what-- AUDIENCE: Yes. As it&apos;s running. PROFESSOR: --what you&apos;re saying? Yes, the point is-- AUDIENCE: As opposed to the basic definitions. PROFESSOR: Right. The type structure is sort of recursive."><code onclick="Z(this)">1:14:46</code>The point is that these types evolve and get more and more complex as the thing's actually running. Is that what-- AUDIENCE: Yes. As it's running. PROFESSOR: --what you're saying? Yes, the point is-- AUDIENCE: As opposed to the basic definitions. PROFESSOR: Right. The type structure is sort of recursive.</span><span s="4497" t="It&apos;s not that you can make this finite list of the actual things they might look like before the system runs. It&apos;s something that evolves."><code onclick="Z(this)">1:14:57</code>It's not that you can make this finite list of the actual things they might look like before the system runs. It's something that evolves.</span><span s="4506" t="So if you want to specify that system, you have to do in some other way than by this finite list. You have to do it by a recursive structure. AUDIENCE: Because the basic structure of the types is"><code onclick="Z(this)">1:15:06</code>So if you want to specify that system, you have to do in some other way than by this finite list. You have to do it by a recursive structure. AUDIENCE: Because the basic structure of the types is</span><span s="4516" t="pretty clean and simple. PROFESSOR: Right. Yes? AUDIENCE: I have a question. I understand once you have your data structure set up,"><code onclick="Z(this)">1:15:16</code>pretty clean and simple. PROFESSOR: Right. Yes? AUDIENCE: I have a question. I understand once you have your data structure set up,</span><span s="4525" t="how it pulls off complex and passes that down, and then pulls off rect, passes that down. But if you&apos;re just a user and you don&apos;t know anything about rect or polar or whatever, how do you initially set up that"><code onclick="Z(this)">1:15:25</code>how it pulls off complex and passes that down, and then pulls off rect, passes that down. But if you're just a user and you don't know anything about rect or polar or whatever, how do you initially set up that</span><span s="4535" t="data structure so that everything goes to the right spot? If I just have the equation over there on the left and I just want to add, multiply complex numbers-- PROFESSOR: Well that&apos;s the wonderful thing. If you&apos;re just a user you say &quot;mul.&quot;"><code onclick="Z(this)">1:15:35</code>data structure so that everything goes to the right spot? If I just have the equation over there on the left and I just want to add, multiply complex numbers-- PROFESSOR: Well that's the wonderful thing. If you're just a user you say "mul."</span><span s="4547" t="AUDIENCE: And it figures out that I mean complex numbers? Or how do I tell it that I want-- PROFESSOR: Well you&apos;re going to have in your hands complex numbers. See what you would have at some level, as a real user, is"><code onclick="Z(this)">1:15:47</code>AUDIENCE: And it figures out that I mean complex numbers? Or how do I tell it that I want-- PROFESSOR: Well you're going to have in your hands complex numbers. See what you would have at some level, as a real user, is</span><span s="4556" t="a constructor for complex numbers. AUDIENCE: So then I have to make complex numbers? PROFESSOR: So you have to make them. What you would probably have as a user is some little thing in the reader loop, which would give you some plausible"><code onclick="Z(this)">1:15:56</code>a constructor for complex numbers. AUDIENCE: So then I have to make complex numbers? PROFESSOR: So you have to make them. What you would probably have as a user is some little thing in the reader loop, which would give you some plausible</span><span s="4567" t="way to type in a complex number, in whatever format you like. Or it might be that you&apos;re never typing them in. Someone&apos;s just handing you a complex number."><code onclick="Z(this)">1:16:07</code>way to type in a complex number, in whatever format you like. Or it might be that you're never typing them in. Someone's just handing you a complex number.</span><span s="4576" t="AUDIENCE: OK, so if I had a complex number that had a polynomial in it, I&apos;d have to make my polynomial and then make my complex number. PROFESSOR: Right if you wanted it constructed from scratch. At some point you construct them from scratch."><code onclick="Z(this)">1:16:16</code>AUDIENCE: OK, so if I had a complex number that had a polynomial in it, I'd have to make my polynomial and then make my complex number. PROFESSOR: Right if you wanted it constructed from scratch. At some point you construct them from scratch.</span><span s="4585" t="But what you don&apos;t have to know of that is when you have the object you can just say &quot;mul.&quot; And it&apos;ll multiply. Yeah? AUDIENCE: I think the question that was being posed here is,"><code onclick="Z(this)">1:16:25</code>But what you don't have to know of that is when you have the object you can just say "mul." And it'll multiply. Yeah? AUDIENCE: I think the question that was being posed here is,</span><span s="4596" t="say if I want to change my presentation of complexes, or some operation of complex, how much real code I will have to"><code onclick="Z(this)">1:16:36</code>say if I want to change my presentation of complexes, or some operation of complex, how much real code I will have to</span><span s="4606" t="gets around with, or change to change it in one specific operation? PROFESSOR: [UNINTELLIGIBLE] what you have to change. And the point is that you only have to change what you&apos;re changing."><code onclick="Z(this)">1:16:46</code>gets around with, or change to change it in one specific operation? PROFESSOR: [UNINTELLIGIBLE] what you have to change. And the point is that you only have to change what you're changing.</span><span s="4616" t="See if Martha decides that she would rather-- let&apos;s see something silly-- like change the order in the pair. Like angle and magnitude in the other order, she just"><code onclick="Z(this)">1:16:56</code>See if Martha decides that she would rather-- let's see something silly-- like change the order in the pair. Like angle and magnitude in the other order, she just</span><span s="4629" t="makes that change locally. And the whole thing will propagate through the system in the right way. Or if suddenly you said, gee, I have another representation"><code onclick="Z(this)">1:17:09</code>makes that change locally. And the whole thing will propagate through the system in the right way. Or if suddenly you said, gee, I have another representation</span><span s="4638" t="for rationals. And I&apos;m going to stick it here, by filing those operations in the table. Then suddenly all of these polynomials whose coefficients"><code onclick="Z(this)">1:17:18</code>for rationals. And I'm going to stick it here, by filing those operations in the table. Then suddenly all of these polynomials whose coefficients</span><span s="4647" t="are coefficients of coefficients, or whatever, also can automatically have available that representation. That&apos;s the power of this particular one. AUDIENCE: I&apos;m not sure if I can even pose an intelligent"><code onclick="Z(this)">1:17:27</code>are coefficients of coefficients, or whatever, also can automatically have available that representation. That's the power of this particular one. AUDIENCE: I'm not sure if I can even pose an intelligent</span><span s="4657" t="sounding question. But somehow this whole thing went really nicely to this beautiful finish where all the things seemed to fall into place."><code onclick="Z(this)">1:17:37</code>sounding question. But somehow this whole thing went really nicely to this beautiful finish where all the things seemed to fall into place.</span><span s="4667" t="Sort of seemed a little contrived. That&apos;s all for the sake, I&apos;m sure, of teaching. I doubt that the guys who first did this-- and I could be wrong--"><code onclick="Z(this)">1:17:47</code>Sort of seemed a little contrived. That's all for the sake, I'm sure, of teaching. I doubt that the guys who first did this-- and I could be wrong--</span><span s="4676" t="figured it all out so that when they just all put it all together, you could all of the sudden, blam, do any kind of arithmetic on any kind of object. It seems like maybe they had to play with it for a while"><code onclick="Z(this)">1:17:56</code>figured it all out so that when they just all put it all together, you could all of the sudden, blam, do any kind of arithmetic on any kind of object. It seems like maybe they had to play with it for a while</span><span s="4687" t="and had to bash it and rework it. And it seems like that&apos;s the kind of problem we&apos;re really faced with we start trying to design a really complex"><code onclick="Z(this)">1:18:07</code>and had to bash it and rework it. And it seems like that's the kind of problem we're really faced with we start trying to design a really complex</span><span s="4696" t="system, is having lots of different kinds of parts and not even knowing what kinds of operations we&apos;re going to want to do on those parts. How to organize the operations in this nice way so that no"><code onclick="Z(this)">1:18:16</code>system, is having lots of different kinds of parts and not even knowing what kinds of operations we're going to want to do on those parts. How to organize the operations in this nice way so that no</span><span s="4707" t="matter what you do, when you start putting them together everything starts falling out for free. PROFESSOR: OK, well that&apos;s certainly a very intelligent question."><code onclick="Z(this)">1:18:27</code>matter what you do, when you start putting them together everything starts falling out for free. PROFESSOR: OK, well that's certainly a very intelligent question.</span><span s="4717" t="One part is this is a very good methodology that people have discovered a lot coming from symbolic algebra. Because there are a lot of complications."><code onclick="Z(this)">1:18:37</code>One part is this is a very good methodology that people have discovered a lot coming from symbolic algebra. Because there are a lot of complications.</span><span s="4727" t="To allow you to implement these things before you decide what you want all the operations to be, and all of that. So in some sense it&apos;s an answer that people have discovered by wading through this stuff."><code onclick="Z(this)">1:18:47</code>To allow you to implement these things before you decide what you want all the operations to be, and all of that. So in some sense it's an answer that people have discovered by wading through this stuff.</span><span s="4738" t="In another sense, it is a very contrived example. AUDIENCE: It seems like to be able to do this you do have to wade through it for a certain amount of time before you can"><code onclick="Z(this)">1:18:58</code>In another sense, it is a very contrived example. AUDIENCE: It seems like to be able to do this you do have to wade through it for a certain amount of time before you can</span><span s="4748" t="become good at it. PROFESSOR: Let me show you how terribly contrived this is. So you can write all these wonderful things. But the system that I wrote here, and if we had another"><code onclick="Z(this)">1:19:08</code>become good at it. PROFESSOR: Let me show you how terribly contrived this is. So you can write all these wonderful things. But the system that I wrote here, and if we had another</span><span s="4757" t="half an hour to give this lecture I would have given this part of it, which says, notice that it breaks down if I tell it to do something as foolish as add 3 plus 7/2."><code onclick="Z(this)">1:19:17</code>half an hour to give this lecture I would have given this part of it, which says, notice that it breaks down if I tell it to do something as foolish as add 3 plus 7/2.</span><span s="4770" t="Because what will happen is you&apos;ll get to operate-2, and operate-2 will say, oh this is type number, and that&apos;s type rational. I don&apos;t know how to add them."><code onclick="Z(this)">1:19:30</code>Because what will happen is you'll get to operate-2, and operate-2 will say, oh this is type number, and that's type rational. I don't know how to add them.</span><span s="4781" t="So you&apos;d like the system at least to be able to say something like, gee, before you do that change that to 3/1."><code onclick="Z(this)">1:19:41</code>So you'd like the system at least to be able to say something like, gee, before you do that change that to 3/1.</span><span s="4790" t="Turn it into a rational number, hand that to the rational package. That&apos;s the thing I didn&apos;t talk about in this lecture. It&apos;s a little bit in the book, which talks about the problem"><code onclick="Z(this)">1:19:50</code>Turn it into a rational number, hand that to the rational package. That's the thing I didn't talk about in this lecture. It's a little bit in the book, which talks about the problem</span><span s="4800" t="of what&apos;s called coercion. Where you wanted-- see, having so carefully set up all of these types as distinct objects, a lot of times you want to also put in"><code onclick="Z(this)">1:20:00</code>of what's called coercion. Where you wanted-- see, having so carefully set up all of these types as distinct objects, a lot of times you want to also put in</span><span s="4811" t="knowledge about how to view an ordinary number as a kind of rational. Or view an ordinary number as a kind of complex."><code onclick="Z(this)">1:20:11</code>knowledge about how to view an ordinary number as a kind of rational. Or view an ordinary number as a kind of complex.</span><span s="4821" t="That&apos;s where the complexity in the system really starts happening, where you talk about, see where do I put that knowledge? Is it rational to know that ordinary numbers might be"><code onclick="Z(this)">1:20:21</code>That's where the complexity in the system really starts happening, where you talk about, see where do I put that knowledge? Is it rational to know that ordinary numbers might be</span><span s="4830" t="pieces of [UNINTELLIGIBLE] of them? Or they&apos;re terrible, terrible examples, like if I might want to add a complex number to a rational number."><code onclick="Z(this)">1:20:30</code>pieces of [UNINTELLIGIBLE] of them? Or they're terrible, terrible examples, like if I might want to add a complex number to a rational number.</span><span s="4850" t="Bad example. 5/7. Then somebody&apos;s got to know that I have to convert these to another type, which is complex numbers whose parts"><code onclick="Z(this)">1:20:50</code>Bad example. 5/7. Then somebody's got to know that I have to convert these to another type, which is complex numbers whose parts</span><span s="4859" t="might be rationals. And who worries about that? Does complex worry about that? Does rational worry about that? Does plus worry about that? That&apos;s where the real complexity comes in."><code onclick="Z(this)">1:20:59</code>might be rationals. And who worries about that? Does complex worry about that? Does rational worry about that? Does plus worry about that? That's where the real complexity comes in.</span><span s="4868" t="And that&apos;s where it&apos;s pretty well sorted out. And a lot of, in fact, all of this message passing stuff was motivated by problems like this."><code onclick="Z(this)">1:21:08</code>And that's where it's pretty well sorted out. And a lot of, in fact, all of this message passing stuff was motivated by problems like this.</span><span s="4878" t="And when you really push it, people are-- somehow the algebraic manipulation problem seems to be so complex that the people who are always at the edge of it are exactly in"><code onclick="Z(this)">1:21:18</code>And when you really push it, people are-- somehow the algebraic manipulation problem seems to be so complex that the people who are always at the edge of it are exactly in</span><span s="4887" t="the state you said. They&apos;re wading through this thing, mucking around, seeing what they use, trying to distill stuff. AUDIENCE: I just want to come back to this issue of"><code onclick="Z(this)">1:21:27</code>the state you said. They're wading through this thing, mucking around, seeing what they use, trying to distill stuff. AUDIENCE: I just want to come back to this issue of</span><span s="4896" t="complexity once more. It certainly seems to be true that you have a great deal of flexibility in altering the lower level kinds of things."><code onclick="Z(this)">1:21:36</code>complexity once more. It certainly seems to be true that you have a great deal of flexibility in altering the lower level kinds of things.</span><span s="4909" t="But it is true that you are, in a sense, freezing higher level operations. Or at least if you change them you don&apos;t know where all of"><code onclick="Z(this)">1:21:49</code>But it is true that you are, in a sense, freezing higher level operations. Or at least if you change them you don't know where all of</span><span s="4918" t="the changes are going to show up, or how they are. PROFESSOR: OK, that&apos;s an extremely good question. What I have to do is, if I decide there&apos;s a new general"><code onclick="Z(this)">1:21:58</code>the changes are going to show up, or how they are. PROFESSOR: OK, that's an extremely good question. What I have to do is, if I decide there's a new general</span><span s="4930" t="operation called equality test, then all of these people have to decide whether or not they would like to have an"><code onclick="Z(this)">1:22:10</code>operation called equality test, then all of these people have to decide whether or not they would like to have an</span><span s="4939" t="equality test by looking in the table. There&apos;re ways to decentralize it even more. That&apos;s what I sort of hinted at last time, where I said you"><code onclick="Z(this)">1:22:19</code>equality test by looking in the table. There're ways to decentralize it even more. That's what I sort of hinted at last time, where I said you</span><span s="4951" t="could not only have this type as a symbol, but you actually might store in each object the operations that it knows of that."><code onclick="Z(this)">1:22:31</code>could not only have this type as a symbol, but you actually might store in each object the operations that it knows of that.</span><span s="4960" t="So you might have things like greatest common divisor, which is a thing here which is defined only for integers, and not in general for rational numbers."><code onclick="Z(this)">1:22:40</code>So you might have things like greatest common divisor, which is a thing here which is defined only for integers, and not in general for rational numbers.</span><span s="4971" t="So it might be a very, very fragmented system. And then depending on where you want your flexibility, there&apos;s a whole spectrum of places that you can build that in. But you&apos;re pointing at the place where this starts being"><code onclick="Z(this)">1:22:51</code>So it might be a very, very fragmented system. And then depending on where you want your flexibility, there's a whole spectrum of places that you can build that in. But you're pointing at the place where this starts being</span><span s="4982" t="weak, that there has to be some agreement on top here about these general operations. Or at least people have to think about them. Or you might decide, you might have a table that&apos;s very sparse, that only has a few things in it."><code onclick="Z(this)">1:23:02</code>weak, that there has to be some agreement on top here about these general operations. Or at least people have to think about them. Or you might decide, you might have a table that's very sparse, that only has a few things in it.</span><span s="4994" t="But there are lot of ways to play that game. OK, thank you."><code onclick="Z(this)">1:23:14</code>But there are lot of ways to play that game. OK, thank you.</span><span s="5003" t="[MUSIC: &quot;JESU, JOY OF MAN&apos;S DESIRING&quot; BY JOHANN SEBASTIAN BACH]"><code onclick="Z(this)">1:23:23</code>[MUSIC: "JESU, JOY OF MAN'S DESIRING" BY JOHANN SEBASTIAN BACH]</span></div><div class="eventlist" side="R" vid="jl8EHP1WrWY"><h5><code onclick="Z(this)">0:00:00</code>Lecture 5A | MIT 6.001 Structure and Interpretation, 1986</h5><span s="0" t=" [MUSIC PLAYING]"><code onclick="Z(this)">0:00:00</code> [MUSIC PLAYING]</span><span s="16" t="PROFESSOR: Well, so far we&apos;ve invented enough programming to do some very complicated things. And you surely learned a lot about"><code onclick="Z(this)">0:00:16</code>PROFESSOR: Well, so far we've invented enough programming to do some very complicated things. And you surely learned a lot about</span><span s="28" t="programming at this point. You&apos;ve learned almost all the most important tricks that usually don&apos;t get taught to people until they have had a lot of experience. For example, data directed programming is a major trick,"><code onclick="Z(this)">0:00:28</code>programming at this point. You've learned almost all the most important tricks that usually don't get taught to people until they have had a lot of experience. For example, data directed programming is a major trick,</span><span s="40" t="and yesterday you also saw an interpreted language. We did this all in a computer language, at this point, where"><code onclick="Z(this)">0:00:40</code>and yesterday you also saw an interpreted language. We did this all in a computer language, at this point, where</span><span s="50" t="there was no assignment statement. And presumably, for those of you who&apos;ve seen your Basic or Pascal or whatever, that&apos;s usually considered the most"><code onclick="Z(this)">0:00:50</code>there was no assignment statement. And presumably, for those of you who've seen your Basic or Pascal or whatever, that's usually considered the most</span><span s="60" t="important thing. Well today, we&apos;re going to do some thing horrible. We&apos;re going to add an assignment statement. And since we can do all these wonderful things without it,"><code onclick="Z(this)">0:01:00</code>important thing. Well today, we're going to do some thing horrible. We're going to add an assignment statement. And since we can do all these wonderful things without it,</span><span s="69" t="why should we add it? An important thing to understand is that today we&apos;re going to, first of all, have a rule, which is going to always be obeyed, which is the only reason we ever add a feature"><code onclick="Z(this)">0:01:09</code>why should we add it? An important thing to understand is that today we're going to, first of all, have a rule, which is going to always be obeyed, which is the only reason we ever add a feature</span><span s="79" t="to our language is because there is a good reason. And the good reason is going to boil down to the ability, you now get an ability to break a problem into pieces"><code onclick="Z(this)">0:01:19</code>to our language is because there is a good reason. And the good reason is going to boil down to the ability, you now get an ability to break a problem into pieces</span><span s="90" t="that are different sets of pieces then you could have broken it down without that, give you another means of decomposition. However, let&apos;s just start."><code onclick="Z(this)">0:01:30</code>that are different sets of pieces then you could have broken it down without that, give you another means of decomposition. However, let's just start.</span><span s="99" t="Let me quick begin by reviewing the kind of language that we have now."><code onclick="Z(this)">0:01:39</code>Let me quick begin by reviewing the kind of language that we have now.</span><span s="108" t="We&apos;ve been writing what&apos;s called functional programs. And functional programs are a kind of encoding of mathematical truths."><code onclick="Z(this)">0:01:48</code>We've been writing what's called functional programs. And functional programs are a kind of encoding of mathematical truths.</span><span s="118" t="For example, when we look at the factorial procedure that you see on the slide here, it&apos;s basically two clauses."><code onclick="Z(this)">0:01:58</code>For example, when we look at the factorial procedure that you see on the slide here, it's basically two clauses.</span><span s="127" t="If n is one, the result is one, otherwise n times factorial n minus one. That&apos;s factorial of n. Well, that is factorial of n. And written down in some other obscure notation that you"><code onclick="Z(this)">0:02:07</code>If n is one, the result is one, otherwise n times factorial n minus one. That's factorial of n. Well, that is factorial of n. And written down in some other obscure notation that you</span><span s="137" t="might have learned in calculus classes, mathematical logic, what you see there is if n equals one, for the result of"><code onclick="Z(this)">0:02:17</code>might have learned in calculus classes, mathematical logic, what you see there is if n equals one, for the result of</span><span s="148" t="n factorial is one, otherwise, greater than one, n factorial is n times n minus one factorial. True statements, that&apos;s the kind of language we&apos;ve been using."><code onclick="Z(this)">0:02:28</code>n factorial is one, otherwise, greater than one, n factorial is n times n minus one factorial. True statements, that's the kind of language we've been using.</span><span s="157" t="And whenever we have true statements of that sort, there is a kind of, a way of understanding how they work"><code onclick="Z(this)">0:02:37</code>And whenever we have true statements of that sort, there is a kind of, a way of understanding how they work</span><span s="167" t="which is that such processes can be involved by substitution. And so we see on the second slide here, that the way we"><code onclick="Z(this)">0:02:47</code>which is that such processes can be involved by substitution. And so we see on the second slide here, that the way we</span><span s="176" t="understand the execution implied by those statements in arranged in that order, is that you do successive"><code onclick="Z(this)">0:02:56</code>understand the execution implied by those statements in arranged in that order, is that you do successive</span><span s="185" t="substitutions of arguments for formal parameters in the body of a procedure. This is basically a sequence of equalities."><code onclick="Z(this)">0:03:05</code>substitutions of arguments for formal parameters in the body of a procedure. This is basically a sequence of equalities.</span><span s="194" t="Factorial four is four times factorial three. That is four times three times factorial of two and so on. We&apos;re always preserving truth."><code onclick="Z(this)">0:03:14</code>Factorial four is four times factorial three. That is four times three times factorial of two and so on. We're always preserving truth.</span><span s="206" t="Even though we&apos;re talking about true statements, there might be more than one organization of these true statements to describe the computation of a particular function, the computation of the value of"><code onclick="Z(this)">0:03:26</code>Even though we're talking about true statements, there might be more than one organization of these true statements to describe the computation of a particular function, the computation of the value of</span><span s="217" t="a particular function. So, for example, looking at the next one here. Here is a way of looking at the sum of n and m."><code onclick="Z(this)">0:03:37</code>a particular function. So, for example, looking at the next one here. Here is a way of looking at the sum of n and m.</span><span s="229" t="And we did this one by a recursive process. It&apos;s the increment of the sum of the decrement of n and m."><code onclick="Z(this)">0:03:49</code>And we did this one by a recursive process. It's the increment of the sum of the decrement of n and m.</span><span s="240" t="And, of course, there is some piece of mathematical logic here that describes that. It&apos;s the increment of the sum of the decrement of n and m,"><code onclick="Z(this)">0:04:00</code>And, of course, there is some piece of mathematical logic here that describes that. It's the increment of the sum of the decrement of n and m,</span><span s="251" t="just like that. So there&apos;s nothing particularly magic about that. And, of course, if we can also look at an iterative process for the same, a program that evolves an iterative process,"><code onclick="Z(this)">0:04:11</code>just like that. So there's nothing particularly magic about that. And, of course, if we can also look at an iterative process for the same, a program that evolves an iterative process,</span><span s="262" t="for the same function. These are two things that compute the same answer. And we have equivalent mathematical truths that are"><code onclick="Z(this)">0:04:22</code>for the same function. These are two things that compute the same answer. And we have equivalent mathematical truths that are</span><span s="274" t="arranged there. And just the way you arrange those truths determine the particular process. In the way choose and arrange them determines the process that&apos;s evolved."><code onclick="Z(this)">0:04:34</code>arranged there. And just the way you arrange those truths determine the particular process. In the way choose and arrange them determines the process that's evolved.</span><span s="284" t="So we have the flexibility of talking about both the function to be computed, and the method by which it&apos;s computed. So it&apos;s not clear we need more."><code onclick="Z(this)">0:04:44</code>So we have the flexibility of talking about both the function to be computed, and the method by which it's computed. So it's not clear we need more.</span><span s="293" t="However, today I&apos;m going to this awful thing. I&apos;m going to introduce this assignment operation. Now, what is this?"><code onclick="Z(this)">0:04:53</code>However, today I'm going to this awful thing. I'm going to introduce this assignment operation. Now, what is this?</span><span s="302" t="Well, first of all, there is going to be another kind of kind of statement, if you will, in a programming language called Set!"><code onclick="Z(this)">0:05:02</code>Well, first of all, there is going to be another kind of kind of statement, if you will, in a programming language called Set!</span><span s="313" t="Things that do things like assignment, I&apos;m going to put exclamation points after. We&apos;ll talk about what that means in a second. The exclamation point, again like question mark, is an"><code onclick="Z(this)">0:05:13</code>Things that do things like assignment, I'm going to put exclamation points after. We'll talk about what that means in a second. The exclamation point, again like question mark, is an</span><span s="323" t="arbitrary thing we attach to the symbol which is the name, has no significance to the system. The only significance is to me and you to alert you that this is an assignment of some sort."><code onclick="Z(this)">0:05:23</code>arbitrary thing we attach to the symbol which is the name, has no significance to the system. The only significance is to me and you to alert you that this is an assignment of some sort.</span><span s="335" t="But we&apos;re going to set a variable to a value. And what that&apos;s going to mean is that there is a time at"><code onclick="Z(this)">0:05:35</code>But we're going to set a variable to a value. And what that's going to mean is that there is a time at</span><span s="347" t="which something happens. Here&apos;s a time. If I have time going this way, it&apos;s a time access. Time progresses by walking down the page."><code onclick="Z(this)">0:05:47</code>which something happens. Here's a time. If I have time going this way, it's a time access. Time progresses by walking down the page.</span><span s="358" t="Then an assignment is the first thing we have that produces the difference between a before and an after. All the other programs that we&apos;ve written, that have no"><code onclick="Z(this)">0:05:58</code>Then an assignment is the first thing we have that produces the difference between a before and an after. All the other programs that we've written, that have no</span><span s="369" t="assignments in them, the order in which they were evaluated didn&apos;t matter. But assignment is special, it produces a moment in time. So there is a moment before the set occurs and after, such"><code onclick="Z(this)">0:06:09</code>assignments in them, the order in which they were evaluated didn't matter. But assignment is special, it produces a moment in time. So there is a moment before the set occurs and after, such</span><span s="387" t="that after this moment in time, the variable has the"><code onclick="Z(this)">0:06:27</code>that after this moment in time, the variable has the</span><span s="399" t="value, value."><code onclick="Z(this)">0:06:39</code>value, value.</span><span s="409" t="Independent of what value it had before, set! changes the value of the variable. Until this moment, we had nothing that changed."><code onclick="Z(this)">0:06:49</code>Independent of what value it had before, set! changes the value of the variable. Until this moment, we had nothing that changed.</span><span s="423" t="So, for example, one of the things we can think of is that the procedures we write for something like factorial are in fact pretty much identical to the function factorial."><code onclick="Z(this)">0:07:03</code>So, for example, one of the things we can think of is that the procedures we write for something like factorial are in fact pretty much identical to the function factorial.</span><span s="433" t="Factorial of four, if I write fact4, independent of what context it&apos;s in, and independent of how many times I write it, I always get the same answer."><code onclick="Z(this)">0:07:13</code>Factorial of four, if I write fact4, independent of what context it's in, and independent of how many times I write it, I always get the same answer.</span><span s="443" t="It&apos;s always 24. It&apos;s a unique map from the argument to the answer. And all the programs we&apos;ve written so far are like that."><code onclick="Z(this)">0:07:23</code>It's always 24. It's a unique map from the argument to the answer. And all the programs we've written so far are like that.</span><span s="453" t="However, once I have assignment, that isn&apos;t true. So, for example, if I were to define count to be one."><code onclick="Z(this)">0:07:33</code>However, once I have assignment, that isn't true. So, for example, if I were to define count to be one.</span><span s="470" t="And then I&apos;m going to define also a procedure, a simple procedure called demo, which takes argument x and does the"><code onclick="Z(this)">0:07:50</code>And then I'm going to define also a procedure, a simple procedure called demo, which takes argument x and does the</span><span s="482" t="following operations. It first sets x to x plus one. My gosh, this looks just like FORTRAN, right--"><code onclick="Z(this)">0:08:02</code>following operations. It first sets x to x plus one. My gosh, this looks just like FORTRAN, right--</span><span s="493" t="in a funny syntax. And then add to x count, Oh, I just made a mistake."><code onclick="Z(this)">0:08:13</code>in a funny syntax. And then add to x count, Oh, I just made a mistake.</span><span s="504" t="I want to say, set! count to one plus count. It&apos;s this thing defined here."><code onclick="Z(this)">0:08:24</code>I want to say, set! count to one plus count. It's this thing defined here.</span><span s="514" t="And then plus x count. Then I can try this procedure. Let&apos;s run it."><code onclick="Z(this)">0:08:34</code>And then plus x count. Then I can try this procedure. Let's run it.</span><span s="523" t="So, suppose I get a prompt and I say, demo three."><code onclick="Z(this)">0:08:43</code>So, suppose I get a prompt and I say, demo three.</span><span s="532" t="Well, what happens here? The first thing that happens is count is currently one. Currently, there is a time. We&apos;re talking about time. x gets three."><code onclick="Z(this)">0:08:52</code>Well, what happens here? The first thing that happens is count is currently one. Currently, there is a time. We're talking about time. x gets three.</span><span s="542" t="At this moment, I say, oh yes, count is incremented, so count is two. two plus three is five. So the answer I get out is five."><code onclick="Z(this)">0:09:02</code>At this moment, I say, oh yes, count is incremented, so count is two. two plus three is five. So the answer I get out is five.</span><span s="554" t="Then I say, demo of say, three again."><code onclick="Z(this)">0:09:14</code>Then I say, demo of say, three again.</span><span s="563" t="What do I get? Well, now count is two, it&apos;s not one anymore, because I have incremented it. But now I go through this process, three goes into x,"><code onclick="Z(this)">0:09:23</code>What do I get? Well, now count is two, it's not one anymore, because I have incremented it. But now I go through this process, three goes into x,</span><span s="575" t="count becomes one plus count, so that&apos;s three now. The sum of those two is six, so the answer is six. And what we see is the same expression leads to two"><code onclick="Z(this)">0:09:35</code>count becomes one plus count, so that's three now. The sum of those two is six, so the answer is six. And what we see is the same expression leads to two</span><span s="585" t="different answers, depending upon time. So demo is not a function, does not compute a"><code onclick="Z(this)">0:09:45</code>different answers, depending upon time. So demo is not a function, does not compute a</span><span s="595" t="mathematical function. In fact, you could also see why now, of course, this is the first place where the substitution model"><code onclick="Z(this)">0:09:55</code>mathematical function. In fact, you could also see why now, of course, this is the first place where the substitution model</span><span s="605" t="isn&apos;t going to work. This kills the substitution model dead. You know, with quotation there were some little problems that"><code onclick="Z(this)">0:10:05</code>isn't going to work. This kills the substitution model dead. You know, with quotation there were some little problems that</span><span s="614" t="a philosopher might notice with the substitutions, because you have to worry about what deductions you can make when you substitute into quotes, if you&apos;re allowed to"><code onclick="Z(this)">0:10:14</code>a philosopher might notice with the substitutions, because you have to worry about what deductions you can make when you substitute into quotes, if you're allowed to</span><span s="623" t="do that at all. But here the substitution model is dead, can&apos;t do anything at all. Because, supposing I wanted to use a substitution model to"><code onclick="Z(this)">0:10:23</code>do that at all. But here the substitution model is dead, can't do anything at all. Because, supposing I wanted to use a substitution model to</span><span s="634" t="consider substituting for count? Well, my gosh, if I substitute for here and here, they&apos;re different ones."><code onclick="Z(this)">0:10:34</code>consider substituting for count? Well, my gosh, if I substitute for here and here, they're different ones.</span><span s="644" t="It&apos;s not the same count any more. I get the wrong answer. The substitution model is a static phenomenon that describes things that are true and not things that change."><code onclick="Z(this)">0:10:44</code>It's not the same count any more. I get the wrong answer. The substitution model is a static phenomenon that describes things that are true and not things that change.</span><span s="655" t="Here, we have truths that change. OK, Well, before I give you any understanding of this,"><code onclick="Z(this)">0:10:55</code>Here, we have truths that change. OK, Well, before I give you any understanding of this,</span><span s="666" t="this is very bad. Now, we&apos;ve lost our model of computation. Pretty soon, I&apos;m going to have to build you a new model of computation."><code onclick="Z(this)">0:11:06</code>this is very bad. Now, we've lost our model of computation. Pretty soon, I'm going to have to build you a new model of computation.</span><span s="675" t="But ours plays with this, just now, in an informal sense. Of course, what you already see is that when I have something like assignment, the model that we&apos;re going to need"><code onclick="Z(this)">0:11:15</code>But ours plays with this, just now, in an informal sense. Of course, what you already see is that when I have something like assignment, the model that we're going to need</span><span s="684" t="is different from the model that we had before in that the variables, those symbols like count, or x are no longer going to refer to the values they have, but rather to some"><code onclick="Z(this)">0:11:24</code>is different from the model that we had before in that the variables, those symbols like count, or x are no longer going to refer to the values they have, but rather to some</span><span s="695" t="sort of place where the value restored. We&apos;re going to have to think that way for a while. And it&apos;s going to be a very bad thing and cause a lot of trouble."><code onclick="Z(this)">0:11:35</code>sort of place where the value restored. We're going to have to think that way for a while. And it's going to be a very bad thing and cause a lot of trouble.</span><span s="704" t="And so, as I said, the very fact that we&apos;re inventing this bad thing, means that there had better be a good reason for it, otherwise, just a waste of time and a lot of effort."><code onclick="Z(this)">0:11:44</code>And so, as I said, the very fact that we're inventing this bad thing, means that there had better be a good reason for it, otherwise, just a waste of time and a lot of effort.</span><span s="713" t="Let&apos;s just look at some of it just to play. Supposing we write down the functional version, functional meaning in the old style, of factorial by"><code onclick="Z(this)">0:11:53</code>Let's just look at some of it just to play. Supposing we write down the functional version, functional meaning in the old style, of factorial by</span><span s="722" t="an iterative process. Factorial of n, we&apos;re going to iterate of m and i, which says"><code onclick="Z(this)">0:12:02</code>an iterative process. Factorial of n, we're going to iterate of m and i, which says</span><span s="746" t="if i is greater than n, then the result is m, otherwise,"><code onclick="Z(this)">0:12:26</code>if i is greater than n, then the result is m, otherwise,</span><span s="760" t="the result of iterating the product of i and m. So m is going to be the product that I&apos;m accumulating."><code onclick="Z(this)">0:12:40</code>the result of iterating the product of i and m. So m is going to be the product that I'm accumulating.</span><span s="771" t="m is the product. And the count I&apos;m going to increase by one."><code onclick="Z(this)">0:12:51</code>m is the product. And the count I'm going to increase by one.</span><span s="784" t="Plus, ITER, ELSE, COND, define. I&apos;m going to start this up."><code onclick="Z(this)">0:13:04</code>Plus, ITER, ELSE, COND, define. I'm going to start this up.</span><span s="797" t="And these days, you should have no trouble reading something like this. What I have here is a product there being accumulated and a counter."><code onclick="Z(this)">0:13:17</code>And these days, you should have no trouble reading something like this. What I have here is a product there being accumulated and a counter.</span><span s="806" t="I start them up both at one. I&apos;m going to buzz the counter up, i goes to i plus one every time around. But that&apos;s only our putting a time on the process, each of"><code onclick="Z(this)">0:13:26</code>I start them up both at one. I'm going to buzz the counter up, i goes to i plus one every time around. But that's only our putting a time on the process, each of</span><span s="818" t="this is just a set of truths, true rules. And m is going to get a new values of i and m, i times m"><code onclick="Z(this)">0:13:38</code>this is just a set of truths, true rules. And m is going to get a new values of i and m, i times m</span><span s="827" t="each time around, and eventually i is going to be bigger than n, in which case, the answer&apos;s going to be m. Now, I&apos;m speaking to you, use time in this. That&apos;s just because I know how the computer works."><code onclick="Z(this)">0:13:47</code>each time around, and eventually i is going to be bigger than n, in which case, the answer's going to be m. Now, I'm speaking to you, use time in this. That's just because I know how the computer works.</span><span s="838" t="But I didn&apos;t have to. This could be a purely mathematical description at this point, because substitution will work for this. But let&apos;s set right down a similar sort of program, using"><code onclick="Z(this)">0:13:58</code>But I didn't have to. This could be a purely mathematical description at this point, because substitution will work for this. But let's set right down a similar sort of program, using</span><span s="848" t="the same algorithm, but with assignments. So this is called the functional version."><code onclick="Z(this)">0:14:08</code>the same algorithm, but with assignments. So this is called the functional version.</span><span s="863" t="I want to write down an imperative version."><code onclick="Z(this)">0:14:23</code>I want to write down an imperative version.</span><span s="874" t="Factorial of n. I&apos;m going to create my two variables. Let i initialize itself to one, and m be initialized to"><code onclick="Z(this)">0:14:34</code>Factorial of n. I'm going to create my two variables. Let i initialize itself to one, and m be initialized to</span><span s="888" t="one, similar. We&apos;ll create a loop which has COND greater than i, and if i"><code onclick="Z(this)">0:14:48</code>one, similar. We'll create a loop which has COND greater than i, and if i</span><span s="905" t="is greater than n, we&apos;re done. And the result is m, the product I&apos;m accumulating. Otherwise, I&apos;m going to write down three things to do."><code onclick="Z(this)">0:15:05</code>is greater than n, we're done. And the result is m, the product I'm accumulating. Otherwise, I'm going to write down three things to do.</span><span s="919" t="I&apos;m going to set! m to the product of i and m, set! i to the sum of i and"><code onclick="Z(this)">0:15:19</code>I'm going to set! m to the product of i and m, set! i to the sum of i and</span><span s="934" t="one, and go around the loop again. Looks very familiar to you FORTRAN programmers."><code onclick="Z(this)">0:15:34</code>one, and go around the loop again. Looks very familiar to you FORTRAN programmers.</span><span s="944" t="ELSE, COND, define, funny syntax though. Start the loop up, and that&apos;s the program."><code onclick="Z(this)">0:15:44</code>ELSE, COND, define, funny syntax though. Start the loop up, and that's the program.</span><span s="959" t="Now, this program, how do we think about it? Well, let&apos;s just say what we&apos;re seeing here. There are two local variables, i and m, that have been initialized to one."><code onclick="Z(this)">0:15:59</code>Now, this program, how do we think about it? Well, let's just say what we're seeing here. There are two local variables, i and m, that have been initialized to one.</span><span s="970" t="Every time around the loop, I test to see if i is greater than n, which is the input argument, and if so, the result is the product being accumulated in m."><code onclick="Z(this)">0:16:10</code>Every time around the loop, I test to see if i is greater than n, which is the input argument, and if so, the result is the product being accumulated in m.</span><span s="979" t="However, if it&apos;s not the end of the loop, if I&apos;m not done, then what I&apos;m going to do is change the product to be the result of multiplying i times the current product."><code onclick="Z(this)">0:16:19</code>However, if it's not the end of the loop, if I'm not done, then what I'm going to do is change the product to be the result of multiplying i times the current product.</span><span s="989" t="Which is sort of what we were doing here. Except here I wasn&apos;t changing. I was making another copy, because the substitution model"><code onclick="Z(this)">0:16:29</code>Which is sort of what we were doing here. Except here I wasn't changing. I was making another copy, because the substitution model</span><span s="998" t="says, you copy the body of the procedure with the arguments substituted for the formal parameters. Here I&apos;m not worried about copying, here I&apos;ve changed the"><code onclick="Z(this)">0:16:38</code>says, you copy the body of the procedure with the arguments substituted for the formal parameters. Here I'm not worried about copying, here I've changed the</span><span s="1009" t="value of m. I also then change the value of i to i plus one, and go buzzing around."><code onclick="Z(this)">0:16:49</code>value of m. I also then change the value of i to i plus one, and go buzzing around.</span><span s="1018" t="Seems like essentially the same program, but there are some ways of making errors here that didn&apos;t exist until today. For example, if I were to do the horrible thing of not"><code onclick="Z(this)">0:16:58</code>Seems like essentially the same program, but there are some ways of making errors here that didn't exist until today. For example, if I were to do the horrible thing of not</span><span s="1030" t="being careful in writing my program and interchange those two assignments, the program wouldn&apos;t compute the same function."><code onclick="Z(this)">0:17:10</code>being careful in writing my program and interchange those two assignments, the program wouldn't compute the same function.</span><span s="1040" t="I get a timing error because there&apos;s a dependency that m depends upon having the last value of i. If I try to i first, then I&apos;ve got the wrong value of i when"><code onclick="Z(this)">0:17:20</code>I get a timing error because there's a dependency that m depends upon having the last value of i. If I try to i first, then I've got the wrong value of i when</span><span s="1052" t="I multiply by m. It&apos;s a bug that wasn&apos;t available until this moment, until we introduced something that had time in it."><code onclick="Z(this)">0:17:32</code>I multiply by m. It's a bug that wasn't available until this moment, until we introduced something that had time in it.</span><span s="1063" t="So, as I said, first we need a new model of computation, and second, we have to be damn good reason for doing this kind of ugly thing."><code onclick="Z(this)">0:17:43</code>So, as I said, first we need a new model of computation, and second, we have to be damn good reason for doing this kind of ugly thing.</span><span s="1072" t="Are there any questions? Speak loudly, David. AUDIENCE: I&apos;m confused about, we&apos;ve introduced set now, but"><code onclick="Z(this)">0:17:52</code>Are there any questions? Speak loudly, David. AUDIENCE: I'm confused about, we've introduced set now, but</span><span s="1084" t="we had let before and define before. I&apos;m confused about the difference between the three. Wouldn&apos;t define work in the same situation as set if you"><code onclick="Z(this)">0:18:04</code>we had let before and define before. I'm confused about the difference between the three. Wouldn't define work in the same situation as set if you</span><span s="1094" t="introduced it a bit? PROFESSOR: No, define is intended for setting something once the first time, for making it. You&apos;ve never seen me write on a blackboard two defines in a"><code onclick="Z(this)">0:18:14</code>introduced it a bit? PROFESSOR: No, define is intended for setting something once the first time, for making it. You've never seen me write on a blackboard two defines in a</span><span s="1106" t="row whose intention was to change the old value of some variable to a new one. AUDIENCE: Is that by convention or-- PROFESSOR: No, it&apos;s intention."><code onclick="Z(this)">0:18:26</code>row whose intention was to change the old value of some variable to a new one. AUDIENCE: Is that by convention or-- PROFESSOR: No, it's intention.</span><span s="1118" t="The answer is that, for example, internal to a procedure, two defines in a row are illegal, two defines"><code onclick="Z(this)">0:18:38</code>The answer is that, for example, internal to a procedure, two defines in a row are illegal, two defines</span><span s="1127" t="in a row of the same variable. x can&apos;t be defined twice. Whether or not a system catches that error is a different question, but I legislate to you that define"><code onclick="Z(this)">0:18:47</code>in a row of the same variable. x can't be defined twice. Whether or not a system catches that error is a different question, but I legislate to you that define</span><span s="1138" t="happens once on anything. Now, indeed, in interactive debugging, we intend that you interacting with your computer will redefine things, and so"><code onclick="Z(this)">0:18:58</code>happens once on anything. Now, indeed, in interactive debugging, we intend that you interacting with your computer will redefine things, and so</span><span s="1148" t="there&apos;s a special exception made for interactive debugging. But define is intended to mean to set up something which will"><code onclick="Z(this)">0:19:08</code>there's a special exception made for interactive debugging. But define is intended to mean to set up something which will</span><span s="1158" t="be forever that value after that point. It&apos;s as if all the defines were done at the beginning. In fact, the only legal place to put a define in Scheme,"><code onclick="Z(this)">0:19:18</code>be forever that value after that point. It's as if all the defines were done at the beginning. In fact, the only legal place to put a define in Scheme,</span><span s="1169" t="internal to a procedure, is just at the beginning of a lambda expression, the beginning of the body of a procedure."><code onclick="Z(this)">0:19:29</code>internal to a procedure, is just at the beginning of a lambda expression, the beginning of the body of a procedure.</span><span s="1181" t="Now, let of course does nothing like either of that. I mean, if you look at what&apos;s happening with a let, this"><code onclick="Z(this)">0:19:41</code>Now, let of course does nothing like either of that. I mean, if you look at what's happening with a let, this</span><span s="1190" t="happens again exactly once. It sets up a context where i and m are values one and one. That context exists throughout this scope, this"><code onclick="Z(this)">0:19:50</code>happens again exactly once. It sets up a context where i and m are values one and one. That context exists throughout this scope, this</span><span s="1201" t="region of the program. However, you don&apos;t think of that let as setting i again."><code onclick="Z(this)">0:20:01</code>region of the program. However, you don't think of that let as setting i again.</span><span s="1211" t="It doesn&apos;t change it. i never changes because of the let. i gets created because of let. In fact, the let is a very simple idea."><code onclick="Z(this)">0:20:11</code>It doesn't change it. i never changes because of the let. i gets created because of let. In fact, the let is a very simple idea.</span><span s="1222" t="Let does nothing more, Let a variable one to have value one; I&apos;ll write this down a little bit more neatly; Let&apos;s"><code onclick="Z(this)">0:20:22</code>Let does nothing more, Let a variable one to have value one; I'll write this down a little bit more neatly; Let's</span><span s="1237" t="write, var one have value, the value of expression e1, and variable two, have this value of the expression e2, in an"><code onclick="Z(this)">0:20:37</code>write, var one have value, the value of expression e1, and variable two, have this value of the expression e2, in an</span><span s="1248" t="expression e3, is the same thing as a procedure of var"><code onclick="Z(this)">0:20:48</code>expression e3, is the same thing as a procedure of var</span><span s="1260" t="one and var two, the formal parameters, and e3 being the body, where var one is bound to the value of e1, and var"><code onclick="Z(this)">0:21:00</code>one and var two, the formal parameters, and e3 being the body, where var one is bound to the value of e1, and var</span><span s="1275" t="two gets the value of e2. So this is, in fact, a perfectly understandable thing from a substitution point of view."><code onclick="Z(this)">0:21:15</code>two gets the value of e2. So this is, in fact, a perfectly understandable thing from a substitution point of view.</span><span s="1284" t="This is really the same expression written in two different ways. In fact, the way the actual system works is this gets"><code onclick="Z(this)">0:21:24</code>This is really the same expression written in two different ways. In fact, the way the actual system works is this gets</span><span s="1294" t="translated into this before anything happens. AUDIENCE: OK, I&apos;m still unclear as then what makes the difference between a let and a define. They could-- PROFESSOR: A define is a syntactic sugar, whereby,"><code onclick="Z(this)">0:21:34</code>translated into this before anything happens. AUDIENCE: OK, I'm still unclear as then what makes the difference between a let and a define. They could-- PROFESSOR: A define is a syntactic sugar, whereby,</span><span s="1305" t="essentially a bunch of variables get created by lets and then set up once."><code onclick="Z(this)">0:21:45</code>essentially a bunch of variables get created by lets and then set up once.</span><span s="1317" t="OK, time for the first break, I think. Thank you. [MUSIC PLAYING]"><code onclick="Z(this)">0:21:57</code>OK, time for the first break, I think. Thank you. [MUSIC PLAYING]</span><span s="1384" t="Well let&apos;s see. I now have to rebuild the model of computation, so you understand how some such mechanical mechanism could"><code onclick="Z(this)">0:23:04</code>Well let's see. I now have to rebuild the model of computation, so you understand how some such mechanical mechanism could</span><span s="1393" t="work that can do what we&apos;ve just talked about. I just recently destroyed your substitution model."><code onclick="Z(this)">0:23:13</code>work that can do what we've just talked about. I just recently destroyed your substitution model.</span><span s="1402" t="Unfortunately, this model is significantly more complicated than the substitution model. It&apos;s called the environment model. And I&apos;m going to have to introduce some terminology,"><code onclick="Z(this)">0:23:22</code>Unfortunately, this model is significantly more complicated than the substitution model. It's called the environment model. And I'm going to have to introduce some terminology,</span><span s="1412" t="which is very good terminology for you to know anyway. It&apos;s about names. And we&apos;re going to give names to the kinds of names things have and the way those names are used."><code onclick="Z(this)">0:23:32</code>which is very good terminology for you to know anyway. It's about names. And we're going to give names to the kinds of names things have and the way those names are used.</span><span s="1422" t="So this is a meta-description, if you will. Anyway, there is a pile of an unfortunate terminology here, but we&apos;re going to need this to understand what&apos;s called"><code onclick="Z(this)">0:23:42</code>So this is a meta-description, if you will. Anyway, there is a pile of an unfortunate terminology here, but we're going to need this to understand what's called</span><span s="1432" t="the environment model. We&apos;re about to do a little bit of boring, dog-work here. Let&apos;s look at the first transparency."><code onclick="Z(this)">0:23:52</code>the environment model. We're about to do a little bit of boring, dog-work here. Let's look at the first transparency.</span><span s="1442" t="And we see a description of a word called bound. And we&apos;re going to say that a variable, v, is bound in an"><code onclick="Z(this)">0:24:02</code>And we see a description of a word called bound. And we're going to say that a variable, v, is bound in an</span><span s="1451" t="expression, e, if the meaning of e is unchanged by the uniform replacement of a variable w, not occurring in"><code onclick="Z(this)">0:24:11</code>expression, e, if the meaning of e is unchanged by the uniform replacement of a variable w, not occurring in</span><span s="1462" t="e, for every occurrence of v in e. Now that&apos;s a long sentence, so, I think, I&apos;m going to have to say a little bit about that before we even fool"><code onclick="Z(this)">0:24:22</code>e, for every occurrence of v in e. Now that's a long sentence, so, I think, I'm going to have to say a little bit about that before we even fool</span><span s="1471" t="around at all here. Bound variables we&apos;re talking about here."><code onclick="Z(this)">0:24:31</code>around at all here. Bound variables we're talking about here.</span><span s="1484" t="And you&apos;ve seen lots of them. You may not know that you&apos;ve seen lots of them. Well, I suppose in your logic you saw a logical variables like, for every x there exists a y such that p is true of x"><code onclick="Z(this)">0:24:44</code>And you've seen lots of them. You may not know that you've seen lots of them. Well, I suppose in your logic you saw a logical variables like, for every x there exists a y such that p is true of x</span><span s="1498" t="and y from your calculus class. This variable, x, and this variable, y, are bound, because the meaning of this expression does not depend"><code onclick="Z(this)">0:24:58</code>and y from your calculus class. This variable, x, and this variable, y, are bound, because the meaning of this expression does not depend</span><span s="1510" t="upon the particular letters I used to describe x and y. If I were to change the w for x, then said for every w there"><code onclick="Z(this)">0:25:10</code>upon the particular letters I used to describe x and y. If I were to change the w for x, then said for every w there</span><span s="1521" t="exists a y such that p is true of w and y, it would be the same sentence. That&apos;s what it means."><code onclick="Z(this)">0:25:21</code>exists a y such that p is true of w and y, it would be the same sentence. That's what it means.</span><span s="1530" t="Or another case of this that you&apos;ve seen is integral say, from 0 to one of dx over one plus x square."><code onclick="Z(this)">0:25:30</code>Or another case of this that you've seen is integral say, from 0 to one of dx over one plus x square.</span><span s="1546" t="Well that&apos;s something you see all the time. And this x is a bound variable. If I change that to a t, the expression is"><code onclick="Z(this)">0:25:46</code>Well that's something you see all the time. And this x is a bound variable. If I change that to a t, the expression is</span><span s="1555" t="still the same thing. This is a 1/4 of the arctan of one or something like that."><code onclick="Z(this)">0:25:55</code>still the same thing. This is a 1/4 of the arctan of one or something like that.</span><span s="1564" t="Yes, that&apos;s the arctan of one. So bound variables are actually fairly common, for those of you who have played a bit with mathematics."><code onclick="Z(this)">0:26:04</code>Yes, that's the arctan of one. So bound variables are actually fairly common, for those of you who have played a bit with mathematics.</span><span s="1573" t="Well, let&apos;s go into the programming world. Instead of the quantifier being something like, for"><code onclick="Z(this)">0:26:13</code>Well, let's go into the programming world. Instead of the quantifier being something like, for</span><span s="1582" t="every, or there exists, or integral, a quantifier is a symbol that binds a variable. And we are going to use the quantifier lambda as being the essential thing that binds variables."><code onclick="Z(this)">0:26:22</code>every, or there exists, or integral, a quantifier is a symbol that binds a variable. And we are going to use the quantifier lambda as being the essential thing that binds variables.</span><span s="1593" t="And so we have some nice examples here like that procedure of one argument y which does"><code onclick="Z(this)">0:26:33</code>And so we have some nice examples here like that procedure of one argument y which does</span><span s="1603" t="the following thing. It calls the procedure of one argument x, which multiplies x by y, and applies that to three."><code onclick="Z(this)">0:26:43</code>the following thing. It calls the procedure of one argument x, which multiplies x by y, and applies that to three.</span><span s="1618" t="That procedure has the property there of two bound variables in it, x and y. This quantifier, lambda here, binds this y, and this"><code onclick="Z(this)">0:26:58</code>That procedure has the property there of two bound variables in it, x and y. This quantifier, lambda here, binds this y, and this</span><span s="1628" t="quantifier, lambda, binds that x. Because, if I were to take an arbitrary symbol does not occur in this expression like w and replace all y&apos;s with w&apos;s"><code onclick="Z(this)">0:27:08</code>quantifier, lambda, binds that x. Because, if I were to take an arbitrary symbol does not occur in this expression like w and replace all y's with w's</span><span s="1640" t="in this expression, the expression is still the same, the same procedure. And this is an important idea. The reason why we had such things like that is a kind of"><code onclick="Z(this)">0:27:20</code>in this expression, the expression is still the same, the same procedure. And this is an important idea. The reason why we had such things like that is a kind of</span><span s="1650" t="modularity. If two people are writing programs, and they work together, it shouldn&apos;t matter what names they use internal to their own little machines that they&apos;re building."><code onclick="Z(this)">0:27:30</code>modularity. If two people are writing programs, and they work together, it shouldn't matter what names they use internal to their own little machines that they're building.</span><span s="1662" t="And so, what I&apos;m really telling you there, is that, for example, this is equivalent to that procedure of one argument y which uses that procedure of one argument"><code onclick="Z(this)">0:27:42</code>And so, what I'm really telling you there, is that, for example, this is equivalent to that procedure of one argument y which uses that procedure of one argument</span><span s="1674" t="d which multiplies z by y. Because nobody cares what I used in here."><code onclick="Z(this)">0:27:54</code>d which multiplies z by y. Because nobody cares what I used in here.</span><span s="1686" t="It&apos;s a nice example. On the other hand, I have some variables that are not bound."><code onclick="Z(this)">0:28:06</code>It's a nice example. On the other hand, I have some variables that are not bound.</span><span s="1695" t="For example, that procedure of one argument x which multiplies x by y."><code onclick="Z(this)">0:28:15</code>For example, that procedure of one argument x which multiplies x by y.</span><span s="1707" t="In this case, y is not bound. Supposing y had the value three, and z had the value"><code onclick="Z(this)">0:28:27</code>In this case, y is not bound. Supposing y had the value three, and z had the value</span><span s="1716" t="four, then this procedure would be the thing that multiplies its argument by three. If I were to replace every instance of y with z, I would"><code onclick="Z(this)">0:28:36</code>four, then this procedure would be the thing that multiplies its argument by three. If I were to replace every instance of y with z, I would</span><span s="1727" t="have a different procedure which multiplies every argument that&apos;s given by four. And, in fact, we have a name for such a variable."><code onclick="Z(this)">0:28:47</code>have a different procedure which multiplies every argument that's given by four. And, in fact, we have a name for such a variable.</span><span s="1737" t="Here, we say that a variable, v, is free in the expression, e, if the meaning of the expression, e, is changed by"><code onclick="Z(this)">0:28:57</code>Here, we say that a variable, v, is free in the expression, e, if the meaning of the expression, e, is changed by</span><span s="1746" t="the uniform replacement of a variable, w, not occurring in e for every occurrence of v and e. So that&apos;s why this variable over here,"><code onclick="Z(this)">0:29:06</code>the uniform replacement of a variable, w, not occurring in e for every occurrence of v and e. So that's why this variable over here,</span><span s="1760" t="y, is a free variable."><code onclick="Z(this)">0:29:20</code>y, is a free variable.</span><span s="1769" t="And so free variables in this expression-- And other examples of that is that procedure of one argument"><code onclick="Z(this)">0:29:29</code>And so free variables in this expression-- And other examples of that is that procedure of one argument</span><span s="1778" t="y, which is just what we had before, which uses that procedure of one argument x that multiplies x by y--"><code onclick="Z(this)">0:29:38</code>y, which is just what we had before, which uses that procedure of one argument x that multiplies x by y--</span><span s="1791" t="use that on three. This procedure has a free variable"><code onclick="Z(this)">0:29:51</code>use that on three. This procedure has a free variable</span><span s="1800" t="in it which is asterisk. See, because, if that has a normal meaning of multiplication, then if I were to replace uniformly all"><code onclick="Z(this)">0:30:00</code>in it which is asterisk. See, because, if that has a normal meaning of multiplication, then if I were to replace uniformly all</span><span s="1811" t="asterisks with pluses, then the meaning of this expression would change. That&apos;s what you mean by a free variable."><code onclick="Z(this)">0:30:11</code>asterisks with pluses, then the meaning of this expression would change. That's what you mean by a free variable.</span><span s="1822" t="So, so far you&apos;ve learned some logician words which describe the way names are used. Now, we have to do a little bit more playing around here,"><code onclick="Z(this)">0:30:22</code>So, so far you've learned some logician words which describe the way names are used. Now, we have to do a little bit more playing around here,</span><span s="1832" t="a little bit more. I want to tell you about the regions are over which variables are defined."><code onclick="Z(this)">0:30:32</code>a little bit more. I want to tell you about the regions are over which variables are defined.</span><span s="1842" t="You see, we&apos;ve been very informal about this up till now, and, of course, many of you have probably understood very clearly or most of you, that the x that&apos;s being"><code onclick="Z(this)">0:30:42</code>You see, we've been very informal about this up till now, and, of course, many of you have probably understood very clearly or most of you, that the x that's being</span><span s="1851" t="declared here is defined only in here. This x is the defined only in here, and this y is defined"><code onclick="Z(this)">0:30:51</code>declared here is defined only in here. This x is the defined only in here, and this y is defined</span><span s="1863" t="only in here. We have a name for such an idea. It&apos;s called a scope. And let me give you another piece of terminology."><code onclick="Z(this)">0:31:03</code>only in here. We have a name for such an idea. It's called a scope. And let me give you another piece of terminology.</span><span s="1874" t="It&apos;s a long story. If x is a bound variable in e, then there is a lambda expression where it is bound. So the only way you can get a bound variable ultimately is"><code onclick="Z(this)">0:31:14</code>It's a long story. If x is a bound variable in e, then there is a lambda expression where it is bound. So the only way you can get a bound variable ultimately is</span><span s="1883" t="by lambda expression. Then you may worry, does define quite an exception to this? And it turns out, we could always arrange things so you don&apos;t need any defines."><code onclick="Z(this)">0:31:23</code>by lambda expression. Then you may worry, does define quite an exception to this? And it turns out, we could always arrange things so you don't need any defines.</span><span s="1893" t="And we&apos;ll see that in a while. It&apos;s a very magical thing. So define really can go away. The really, only thing that makes names is lambda ."><code onclick="Z(this)">0:31:33</code>And we'll see that in a while. It's a very magical thing. So define really can go away. The really, only thing that makes names is lambda .</span><span s="1902" t="That&apos;s its job. And what&apos;s so amazing about a lot of things is you can compute with only lambda. But, in any case, a lambda expression has a place where"><code onclick="Z(this)">0:31:42</code>That's its job. And what's so amazing about a lot of things is you can compute with only lambda. But, in any case, a lambda expression has a place where</span><span s="1913" t="it declares a variable. We call it the formal parameter list or the bound variable list. We say that the lambda expression binds--"><code onclick="Z(this)">0:31:53</code>it declares a variable. We call it the formal parameter list or the bound variable list. We say that the lambda expression binds--</span><span s="1923" t="so it&apos;s a verb-- binds the variables declared in it&apos;s found variable list. In addition, those parts of the expression where the variable is defined, which was declared by some declaration,"><code onclick="Z(this)">0:32:03</code>so it's a verb-- binds the variables declared in it's found variable list. In addition, those parts of the expression where the variable is defined, which was declared by some declaration,</span><span s="1935" t="is called the scope of that variable. So these are scopes. This is the scope of y."><code onclick="Z(this)">0:32:15</code>is called the scope of that variable. So these are scopes. This is the scope of y.</span><span s="1947" t="And this is the scope of x-- that sort of thing."><code onclick="Z(this)">0:32:27</code>And this is the scope of x-- that sort of thing.</span><span s="1961" t="OK, well, now we have enough terminology to begin to understand how to make a new model for computation, because"><code onclick="Z(this)">0:32:41</code>OK, well, now we have enough terminology to begin to understand how to make a new model for computation, because</span><span s="1972" t="the key thing going on here is that we destroyed the substitution model, and we now have to have a model that represents the names as referring to places."><code onclick="Z(this)">0:32:52</code>the key thing going on here is that we destroyed the substitution model, and we now have to have a model that represents the names as referring to places.</span><span s="1983" t="Because if we are going to change something, then we have a place where it&apos;s stored. You see, if a name only refers to a value, and if I tried to"><code onclick="Z(this)">0:33:03</code>Because if we are going to change something, then we have a place where it's stored. You see, if a name only refers to a value, and if I tried to</span><span s="1994" t="change the name&apos;s meaning, well, that&apos;s not clear. There&apos;s nothing that is the place that that"><code onclick="Z(this)">0:33:14</code>change the name's meaning, well, that's not clear. There's nothing that is the place that that</span><span s="2003" t="name referred to. How am I really saying it? There is nothing shared among all of the instances of that name. And what we really mean, by a name, is that we"><code onclick="Z(this)">0:33:23</code>name referred to. How am I really saying it? There is nothing shared among all of the instances of that name. And what we really mean, by a name, is that we</span><span s="2012" t="fan something out. We&apos;ve given something a name, and you have it, and you have it, because I&apos;m given you a reference to it, and I&apos;ve given you a reference to it."><code onclick="Z(this)">0:33:32</code>fan something out. We've given something a name, and you have it, and you have it, because I'm given you a reference to it, and I've given you a reference to it.</span><span s="2021" t="And we&apos;ll see a lot about that. So let me tell you about environments. I need the overhead projection machine, thank you."><code onclick="Z(this)">0:33:41</code>And we'll see a lot about that. So let me tell you about environments. I need the overhead projection machine, thank you.</span><span s="2032" t="And so here is a bunch of environment structures."><code onclick="Z(this)">0:33:52</code>And so here is a bunch of environment structures.</span><span s="2041" t="An environment is a way of doing substitutions virtually. It represents a place where something is stored which is the substitutions that you haven&apos;t done."><code onclick="Z(this)">0:34:01</code>An environment is a way of doing substitutions virtually. It represents a place where something is stored which is the substitutions that you haven't done.</span><span s="2054" t="It&apos;s a place where everything accumulates, where the names of the variables are associated with the values they have such that when you say, what dose this name mean,"><code onclick="Z(this)">0:34:14</code>It's a place where everything accumulates, where the names of the variables are associated with the values they have such that when you say, what dose this name mean,</span><span s="2066" t="you look it up in an environment. So an environment is a function, or a table, or something like that. But it&apos;s a structured sort of table."><code onclick="Z(this)">0:34:26</code>you look it up in an environment. So an environment is a function, or a table, or something like that. But it's a structured sort of table.</span><span s="2075" t="It&apos;s made out of things called frames. Frames are pieces of environment, and they are"><code onclick="Z(this)">0:34:35</code>It's made out of things called frames. Frames are pieces of environment, and they are</span><span s="2085" t="chained together, in some nice ways, by what&apos;s called parent links or something like that. So here, we have an environment structure"><code onclick="Z(this)">0:34:45</code>chained together, in some nice ways, by what's called parent links or something like that. So here, we have an environment structure</span><span s="2097" t="consisting of three environments, basically, a, b, and c. d is also an environment, but it&apos;s the same one, they share."><code onclick="Z(this)">0:34:57</code>consisting of three environments, basically, a, b, and c. d is also an environment, but it's the same one, they share.</span><span s="2111" t="And that&apos;s the essence of assignment. If I change a variable, a value of a valuable that lives here, like that one, it should be visible from all places"><code onclick="Z(this)">0:35:11</code>And that's the essence of assignment. If I change a variable, a value of a valuable that lives here, like that one, it should be visible from all places</span><span s="2121" t="that you&apos;re looking at it from. Take this one, x. If I change the x to four, it&apos;s visible from other places."><code onclick="Z(this)">0:35:21</code>that you're looking at it from. Take this one, x. If I change the x to four, it's visible from other places.</span><span s="2130" t="But I&apos;m not going to worry about that right now. We&apos;re going to talk a lot about that in a little while. What do we have here? Well, these are called frames. Here is a frame, here&apos;s a frame, and here&apos;s a frame."><code onclick="Z(this)">0:35:30</code>But I'm not going to worry about that right now. We're going to talk a lot about that in a little while. What do we have here? Well, these are called frames. Here is a frame, here's a frame, and here's a frame.</span><span s="2143" t="a is an environment which consists of the table which is frame two, followed by the table labeled frame one."><code onclick="Z(this)">0:35:43</code>a is an environment which consists of the table which is frame two, followed by the table labeled frame one.</span><span s="2152" t="And, in this environment, in say this environment, frame two, x and y are bound."><code onclick="Z(this)">0:35:52</code>And, in this environment, in say this environment, frame two, x and y are bound.</span><span s="2164" t="They have values. Sorry, in frame one-- In frame two, z is bound, and x is bound, and y is bound,"><code onclick="Z(this)">0:36:04</code>They have values. Sorry, in frame one-- In frame two, z is bound, and x is bound, and y is bound,</span><span s="2175" t="but the value of x that we see, looking from this point of view, is this x. It&apos;s x is seven, rather than this one which is three."><code onclick="Z(this)">0:36:15</code>but the value of x that we see, looking from this point of view, is this x. It's x is seven, rather than this one which is three.</span><span s="2184" t="We say that this x shadows this x. From environment three--"><code onclick="Z(this)">0:36:24</code>We say that this x shadows this x. From environment three--</span><span s="2193" t="from frame three, from environment b, which refers to frame three, we have variables n and y bound and also x."><code onclick="Z(this)">0:36:33</code>from frame three, from environment b, which refers to frame three, we have variables n and y bound and also x.</span><span s="2204" t="This y shadow this one. So the value, looking from this point of view, of y is two."><code onclick="Z(this)">0:36:44</code>This y shadow this one. So the value, looking from this point of view, of y is two.</span><span s="2213" t="The value for looking from this point of view and m is one. And the value, looking from this point of view, of x is three."><code onclick="Z(this)">0:36:53</code>The value for looking from this point of view and m is one. And the value, looking from this point of view, of x is three.</span><span s="2222" t="So there we have a very simple environment structure made out of frames. These correspond to the applications of procedures. And we&apos;ll see that in a second."><code onclick="Z(this)">0:37:02</code>So there we have a very simple environment structure made out of frames. These correspond to the applications of procedures. And we'll see that in a second.</span><span s="2234" t="So now I have to make you some other nice little structure that we build. Next slide, we see an object, which I&apos;m going to draw"><code onclick="Z(this)">0:37:14</code>So now I have to make you some other nice little structure that we build. Next slide, we see an object, which I'm going to draw</span><span s="2245" t="procedures. This is a procedure. A procedure is made out of two parts. It&apos;s sort of like a cons."><code onclick="Z(this)">0:37:25</code>procedures. This is a procedure. A procedure is made out of two parts. It's sort of like a cons.</span><span s="2257" t="However, it&apos;s the two parts. The first part refers to some code, something that can be"><code onclick="Z(this)">0:37:37</code>However, it's the two parts. The first part refers to some code, something that can be</span><span s="2266" t="executed, a set of instructions, if you will. You can think of it that way. And the second part is the environment. The procedure is the whole thing."><code onclick="Z(this)">0:37:46</code>executed, a set of instructions, if you will. You can think of it that way. And the second part is the environment. The procedure is the whole thing.</span><span s="2277" t="And we&apos;re going to have to use this to capture the values of the free variables that occur in the procedure."><code onclick="Z(this)">0:37:57</code>And we're going to have to use this to capture the values of the free variables that occur in the procedure.</span><span s="2286" t="If a variable occurs in the procedure it&apos;s either bound in that procedure or free. If it&apos;s bound, then the value will somehow be easy to find."><code onclick="Z(this)">0:38:06</code>If a variable occurs in the procedure it's either bound in that procedure or free. If it's bound, then the value will somehow be easy to find.</span><span s="2296" t="It will be in some easy environment to get at. If it&apos;s free, we&apos;re going to have to have something that goes with the procedure that says where we&apos;ll go look for its value."><code onclick="Z(this)">0:38:16</code>It will be in some easy environment to get at. If it's free, we're going to have to have something that goes with the procedure that says where we'll go look for its value.</span><span s="2307" t="And the reasons why are not obvious yet, but will be soon. So here&apos;s a procedure object. It&apos;s a composite object consisting of a piece of code"><code onclick="Z(this)">0:38:27</code>And the reasons why are not obvious yet, but will be soon. So here's a procedure object. It's a composite object consisting of a piece of code</span><span s="2320" t="and a environment structure. Now I will tell you the new rules, the complete new rules, for evaluation."><code onclick="Z(this)">0:38:40</code>and a environment structure. Now I will tell you the new rules, the complete new rules, for evaluation.</span><span s="2330" t="The first rule is-- there&apos;s only two of them. These correspond to the substitution model rules. And the first one has to do with how do you apply a"><code onclick="Z(this)">0:38:50</code>The first rule is-- there's only two of them. These correspond to the substitution model rules. And the first one has to do with how do you apply a</span><span s="2340" t="procedure to its arguments? And a procedural object is applied to a set of arguments by constructing a new frame."><code onclick="Z(this)">0:39:00</code>procedure to its arguments? And a procedural object is applied to a set of arguments by constructing a new frame.</span><span s="2351" t="That frame will contain the mapping of the former parameters to the actual parameters of the arguments that were supplied in the call."><code onclick="Z(this)">0:39:11</code>That frame will contain the mapping of the former parameters to the actual parameters of the arguments that were supplied in the call.</span><span s="2361" t="As you know, when we make up a call to a procedure like lambda x times x y, and we call that with the argument three, then we&apos;re going to need some"><code onclick="Z(this)">0:39:21</code>As you know, when we make up a call to a procedure like lambda x times x y, and we call that with the argument three, then we're going to need some</span><span s="2371" t="mapping of x to three. It&apos;s the same thing as later substituting, if you will, the three for the x in the old model."><code onclick="Z(this)">0:39:31</code>mapping of x to three. It's the same thing as later substituting, if you will, the three for the x in the old model.</span><span s="2381" t="So I&apos;m going to build a frame which contains x equals three as the information in that frame. Now, the body of the procedure will then have to be evaluated"><code onclick="Z(this)">0:39:41</code>So I'm going to build a frame which contains x equals three as the information in that frame. Now, the body of the procedure will then have to be evaluated</span><span s="2392" t="which is this. I will be evaluated in an environment which is"><code onclick="Z(this)">0:39:52</code>which is this. I will be evaluated in an environment which is</span><span s="2404" t="constructed by adjoining the new frame that we just made to the environment which was part of the procedure that we applied."><code onclick="Z(this)">0:40:04</code>constructed by adjoining the new frame that we just made to the environment which was part of the procedure that we applied.</span><span s="2413" t="So I&apos;m going to make a little example of that here. Supposing I have some environment."><code onclick="Z(this)">0:40:13</code>So I'm going to make a little example of that here. Supposing I have some environment.</span><span s="2425" t="Here&apos;s a frame which represents it. And some procedure-- which I&apos;m going to draw with circles here because it&apos;s easier than little triangles-- Sorry, those are rhombuses, rhomboidal little pieces of"><code onclick="Z(this)">0:40:25</code>Here's a frame which represents it. And some procedure-- which I'm going to draw with circles here because it's easier than little triangles-- Sorry, those are rhombuses, rhomboidal little pieces of</span><span s="2438" t="fruit jelly or something. So here&apos;s a procedure which takes this environment. And the procedure has a piece of code, which is a lambda"><code onclick="Z(this)">0:40:38</code>fruit jelly or something. So here's a procedure which takes this environment. And the procedure has a piece of code, which is a lambda</span><span s="2448" t="expression, which binds x and y and then executes an expression, e."><code onclick="Z(this)">0:40:48</code>expression, which binds x and y and then executes an expression, e.</span><span s="2458" t="And this is the procedure. We&apos;ll call it p. I wish to apply that procedure to three and four. So I want to do p of three and four."><code onclick="Z(this)">0:40:58</code>And this is the procedure. We'll call it p. I wish to apply that procedure to three and four. So I want to do p of three and four.</span><span s="2469" t="What I&apos;m going to do, of course, is make a new frame. I build a frame which contains x equals three,"><code onclick="Z(this)">0:41:09</code>What I'm going to do, of course, is make a new frame. I build a frame which contains x equals three,</span><span s="2478" t="and y equals four. I&apos;m going to connect that frame to this frame over here."><code onclick="Z(this)">0:41:18</code>and y equals four. I'm going to connect that frame to this frame over here.</span><span s="2487" t="And then this environment, with I will call b, is the environment in which I will evaluate the body of e."><code onclick="Z(this)">0:41:27</code>And then this environment, with I will call b, is the environment in which I will evaluate the body of e.</span><span s="2499" t="Now, e may contain references to x and y and other things. x and y will have values right here."><code onclick="Z(this)">0:41:39</code>Now, e may contain references to x and y and other things. x and y will have values right here.</span><span s="2510" t="Other things will have their values here. How do we get this frame? That we do by the construction of procedures which is the"><code onclick="Z(this)">0:41:50</code>Other things will have their values here. How do we get this frame? That we do by the construction of procedures which is the</span><span s="2520" t="other rule. And I think that&apos;s the next slide. Rule two, when a lambda expression is evaluated,"><code onclick="Z(this)">0:42:00</code>other rule. And I think that's the next slide. Rule two, when a lambda expression is evaluated,</span><span s="2530" t="relative to a particular environment-- See, the way I get a procedure is by evaluating the lambda expression. Here&apos;s a lambda expression."><code onclick="Z(this)">0:42:10</code>relative to a particular environment-- See, the way I get a procedure is by evaluating the lambda expression. Here's a lambda expression.</span><span s="2540" t="By evaluating it, I get a procedure which I can apply to three. Now this lambda expression is evaluated in an environment where y is defined."><code onclick="Z(this)">0:42:20</code>By evaluating it, I get a procedure which I can apply to three. Now this lambda expression is evaluated in an environment where y is defined.</span><span s="2551" t="And I want the body of this which contains a free version of y. y is free in here, it&apos;s bound over the whole thing, but it&apos;s"><code onclick="Z(this)">0:42:31</code>And I want the body of this which contains a free version of y. y is free in here, it's bound over the whole thing, but it's</span><span s="2561" t="free over here. I want that y to be this one. I evaluate this body of this procedure in the environment"><code onclick="Z(this)">0:42:41</code>free over here. I want that y to be this one. I evaluate this body of this procedure in the environment</span><span s="2573" t="where y was created. That&apos;s this kind of thing, because that was done by application. Now, if I ever want to look up the value of y, I have to know"><code onclick="Z(this)">0:42:53</code>where y was created. That's this kind of thing, because that was done by application. Now, if I ever want to look up the value of y, I have to know</span><span s="2583" t="where it is. Therefore, this procedural was created, the creation of the procedure which is the result of evaluating that lambda expression had better capture a pointer or remember the"><code onclick="Z(this)">0:43:03</code>where it is. Therefore, this procedural was created, the creation of the procedure which is the result of evaluating that lambda expression had better capture a pointer or remember the</span><span s="2594" t="frame in which y was bound. So that&apos;s what this rule is telling us. So, for example, if I happen to be evaluating a lambda"><code onclick="Z(this)">0:43:14</code>frame in which y was bound. So that's what this rule is telling us. So, for example, if I happen to be evaluating a lambda</span><span s="2608" t="expression, lambda expression in e, lambda of say, x and y,"><code onclick="Z(this)">0:43:28</code>expression, lambda expression in e, lambda of say, x and y,</span><span s="2617" t="let&apos;s call it g in e, evaluating that. Well, all that means is I now construct a procedure object."><code onclick="Z(this)">0:43:37</code>let's call it g in e, evaluating that. Well, all that means is I now construct a procedure object.</span><span s="2627" t="e is some environment. e is something which has a pointer to it. I construct a procedure object that points up to that"><code onclick="Z(this)">0:43:47</code>e is some environment. e is something which has a pointer to it. I construct a procedure object that points up to that</span><span s="2636" t="environment, where the code of that is a lambda expression or whatever that translates into."><code onclick="Z(this)">0:43:56</code>environment, where the code of that is a lambda expression or whatever that translates into.</span><span s="2646" t="And this is the procedure. So this produces for me-- this object here, this environment"><code onclick="Z(this)">0:44:06</code>And this is the procedure. So this produces for me-- this object here, this environment</span><span s="2657" t="pointer, captures the place where this lambda expression was evaluated, where the definition was used, where the definition was used to make a"><code onclick="Z(this)">0:44:17</code>pointer, captures the place where this lambda expression was evaluated, where the definition was used, where the definition was used to make a</span><span s="2666" t="procedure, to make the procedure. So it picks up the environment from the place where that"><code onclick="Z(this)">0:44:26</code>procedure, to make the procedure. So it picks up the environment from the place where that</span><span s="2675" t="procedure was defined, stores it in the procedure itself, and then when the procedure is used, the environment where it was defined is extended with the new frame."><code onclick="Z(this)">0:44:35</code>procedure was defined, stores it in the procedure itself, and then when the procedure is used, the environment where it was defined is extended with the new frame.</span><span s="2688" t="So this gives us a locus for putting where a variable has a value. And, for example, if there are lots of guys pointing in at that environment, then they share that place."><code onclick="Z(this)">0:44:48</code>So this gives us a locus for putting where a variable has a value. And, for example, if there are lots of guys pointing in at that environment, then they share that place.</span><span s="2701" t="And we&apos;ll see more of that shortly. Well, now you have a new model for understanding the execution of programs. I suppose I&apos;ll take questions"><code onclick="Z(this)">0:45:01</code>And we'll see more of that shortly. Well, now you have a new model for understanding the execution of programs. I suppose I'll take questions</span><span s="2712" t="now, and then we&apos;ll go on and use that for something. AUDIENCE: Is it right to say then, the environment is that"><code onclick="Z(this)">0:45:12</code>now, and then we'll go on and use that for something. AUDIENCE: Is it right to say then, the environment is that</span><span s="2721" t="linked chain of frames-- PROFESSOR: That&apos;s right. AUDIENCE: starting with-- working all the way back? PROFESSOR: Yes, the environment is a sequence of frames linked together."><code onclick="Z(this)">0:45:21</code>linked chain of frames-- PROFESSOR: That's right. AUDIENCE: starting with-- working all the way back? PROFESSOR: Yes, the environment is a sequence of frames linked together.</span><span s="2732" t="And the way I like to think about it, it&apos;s the pointer to the first one, because once you&apos;ve got that you&apos;ve got them all."><code onclick="Z(this)">0:45:32</code>And the way I like to think about it, it's the pointer to the first one, because once you've got that you've got them all.</span><span s="2744" t="Anybody else? AUDIENCE: Is it possible to evaluate a procedure or to define a procedure in two different environments such that it will behave differently, and have pointers to both-- PROFESSOR: Oh, yes."><code onclick="Z(this)">0:45:44</code>Anybody else? AUDIENCE: Is it possible to evaluate a procedure or to define a procedure in two different environments such that it will behave differently, and have pointers to both-- PROFESSOR: Oh, yes.</span><span s="2753" t="The same procedure is not going to have two different environments. The same code, the same lambda expression can be evaluated in two environments producing two different procedures."><code onclick="Z(this)">0:45:53</code>The same procedure is not going to have two different environments. The same code, the same lambda expression can be evaluated in two environments producing two different procedures.</span><span s="2766" t="Each procedure-- AUDIENCE: Their definition has the same name. Their operation-- PROFESSOR: The definition is written the same, with the same characters. I can evaluate that set of characters, whatever, that"><code onclick="Z(this)">0:46:06</code>Each procedure-- AUDIENCE: Their definition has the same name. Their operation-- PROFESSOR: The definition is written the same, with the same characters. I can evaluate that set of characters, whatever, that</span><span s="2776" t="list structure that defines, that is the textual representation. I can evaluate that in two different environments producing two different procedures."><code onclick="Z(this)">0:46:16</code>list structure that defines, that is the textual representation. I can evaluate that in two different environments producing two different procedures.</span><span s="2785" t="Each of those procedures has its own local sets of variables, and we&apos;ll see that right now."><code onclick="Z(this)">0:46:25</code>Each of those procedures has its own local sets of variables, and we'll see that right now.</span><span s="2796" t="Anybody else? OK, thank you. Let&apos;s take a break."><code onclick="Z(this)">0:46:36</code>Anybody else? OK, thank you. Let's take a break.</span><span s="2808" t="[MUSIC PLAYING]"><code onclick="Z(this)">0:46:48</code>[MUSIC PLAYING]</span><span s="2842" t="Well, now I&apos;ve done this terrible thing to you. I&apos;ve introduced a very complicated thing, assignment,"><code onclick="Z(this)">0:47:22</code>Well, now I've done this terrible thing to you. I've introduced a very complicated thing, assignment,</span><span s="2854" t="which destroys most of the interesting mathematical properties of our programs. Why should I have done this?"><code onclick="Z(this)">0:47:34</code>which destroys most of the interesting mathematical properties of our programs. Why should I have done this?</span><span s="2863" t="What possible good could this do? Clearly not a nice thing, so I better have a good excuse."><code onclick="Z(this)">0:47:43</code>What possible good could this do? Clearly not a nice thing, so I better have a good excuse.</span><span s="2872" t="Well, let&apos;s do a little bit of playing, first of all, with some very interesting programs that have assignment. Understand something special about them that makes them"><code onclick="Z(this)">0:47:52</code>Well, let's do a little bit of playing, first of all, with some very interesting programs that have assignment. Understand something special about them that makes them</span><span s="2882" t="somewhat valuable. Start with a very simple program which I&apos;m going to call make-counter. I&apos;m going to define make-counter to be a procedure"><code onclick="Z(this)">0:48:02</code>somewhat valuable. Start with a very simple program which I'm going to call make-counter. I'm going to define make-counter to be a procedure</span><span s="2906" t="of one argument n which returns as its value a procedure of no arguments-- a procedure that produces a procedure--"><code onclick="Z(this)">0:48:26</code>of one argument n which returns as its value a procedure of no arguments-- a procedure that produces a procedure--</span><span s="2916" t="which sets n to the increment of n and returns"><code onclick="Z(this)">0:48:36</code>which sets n to the increment of n and returns</span><span s="2928" t="that value of n. Now we&apos;re going to investigate the behavior of this."><code onclick="Z(this)">0:48:48</code>that value of n. Now we're going to investigate the behavior of this.</span><span s="2937" t="It&apos;s a sort of interesting thing. In order to investigate the behavior, I have to make an environment model, because we can&apos;t understand this any other way."><code onclick="Z(this)">0:48:57</code>It's a sort of interesting thing. In order to investigate the behavior, I have to make an environment model, because we can't understand this any other way.</span><span s="2948" t="So let&apos;s just do that. We start out with some sort of-- let&apos;s say there is a global environment that the machine is born with. Global we&apos;ll call it."><code onclick="Z(this)">0:49:08</code>So let's just do that. We start out with some sort of-- let's say there is a global environment that the machine is born with. Global we'll call it.</span><span s="2959" t="And it&apos;s going to have in it a bunch of initial things. We all know what it&apos;s got. It&apos;s got things in it like say, plus, and times, and"><code onclick="Z(this)">0:49:19</code>And it's going to have in it a bunch of initial things. We all know what it's got. It's got things in it like say, plus, and times, and</span><span s="2972" t="quotient, and difference, and CAR, and et cetera, lots of things."><code onclick="Z(this)">0:49:32</code>quotient, and difference, and CAR, and et cetera, lots of things.</span><span s="2982" t="I don&apos;t know what they are, some various squiggles that are the things the machine is born with."><code onclick="Z(this)">0:49:42</code>I don't know what they are, some various squiggles that are the things the machine is born with.</span><span s="2991" t="And by doing the definition here, what I plan to do-- Well, what am I doing? I&apos;m doing this relative to the global environment. So here&apos;s my environment pointer."><code onclick="Z(this)">0:49:51</code>And by doing the definition here, what I plan to do-- Well, what am I doing? I'm doing this relative to the global environment. So here's my environment pointer.</span><span s="3003" t="In order to do that I have to evaluate this lambda expression. That means I make a procedure object. So I&apos;m going to make a procedure object here."><code onclick="Z(this)">0:50:03</code>In order to do that I have to evaluate this lambda expression. That means I make a procedure object. So I'm going to make a procedure object here.</span><span s="3017" t="And the procedure object has, as the place it&apos;s defined, the global environment. The procedure object contains some code that represents a"><code onclick="Z(this)">0:50:17</code>And the procedure object has, as the place it's defined, the global environment. The procedure object contains some code that represents a</span><span s="3029" t="procedure of one argument n which returns a procedure of no arguments which does something."><code onclick="Z(this)">0:50:29</code>procedure of one argument n which returns a procedure of no arguments which does something.</span><span s="3038" t="And the define is a way of changing this environment, so that I now add to it a make-counter, a special rule"><code onclick="Z(this)">0:50:38</code>And the define is a way of changing this environment, so that I now add to it a make-counter, a special rule</span><span s="3053" t="for the special thing defined. But what that is, is it gives me that pointer to that procedure."><code onclick="Z(this)">0:50:53</code>for the special thing defined. But what that is, is it gives me that pointer to that procedure.</span><span s="3063" t="So now the global environment contains make-counter as well. Now, we&apos;re going to do some operations. I&apos;m going to use this to make some counters."><code onclick="Z(this)">0:51:03</code>So now the global environment contains make-counter as well. Now, we're going to do some operations. I'm going to use this to make some counters.</span><span s="3074" t="We&apos;ll see what a counter is. So let&apos;s define c1 to be a counter beginning at 0."><code onclick="Z(this)">0:51:14</code>We'll see what a counter is. So let's define c1 to be a counter beginning at 0.</span><span s="3095" t="Well, we know how to do this now, according to the model. I have to evaluate the expression make-counter in the global environment, make-counter of 0."><code onclick="Z(this)">0:51:35</code>Well, we know how to do this now, according to the model. I have to evaluate the expression make-counter in the global environment, make-counter of 0.</span><span s="3107" t="Well, I look up make-counter and see that it&apos;s a procedure. I&apos;m going to have to apply that procedure."><code onclick="Z(this)">0:51:47</code>Well, I look up make-counter and see that it's a procedure. I'm going to have to apply that procedure.</span><span s="3116" t="The way I apply the procedure is by constructing a frame. So I construct a frame which has a value for n in it which"><code onclick="Z(this)">0:51:56</code>The way I apply the procedure is by constructing a frame. So I construct a frame which has a value for n in it which</span><span s="3132" t="is 0, and the parent environment is the one which is the environment of definition of make-counter."><code onclick="Z(this)">0:52:12</code>is 0, and the parent environment is the one which is the environment of definition of make-counter.</span><span s="3143" t="So I&apos;ve made an environment by applying make-counter to 0. Now, I have to evaluate the body of make-counter, which is"><code onclick="Z(this)">0:52:23</code>So I've made an environment by applying make-counter to 0. Now, I have to evaluate the body of make-counter, which is</span><span s="3154" t="this lambda expression, in that environment. Well evaluating this body, this body is a lambda"><code onclick="Z(this)">0:52:34</code>this lambda expression, in that environment. Well evaluating this body, this body is a lambda</span><span s="3163" t="expression. Evaluate a lambda expression means make a procedure object. So I&apos;m going to make a procedure object."><code onclick="Z(this)">0:52:43</code>expression. Evaluate a lambda expression means make a procedure object. So I'm going to make a procedure object.</span><span s="3176" t="And that procedure object has the environment it was defined in being that, where n was defined to be 0."><code onclick="Z(this)">0:52:56</code>And that procedure object has the environment it was defined in being that, where n was defined to be 0.</span><span s="3187" t="And it has some code, which is the procedure of no arguments which does something, that sets something, and returns n."><code onclick="Z(this)">0:53:07</code>And it has some code, which is the procedure of no arguments which does something, that sets something, and returns n.</span><span s="3197" t="And this thing is going to be the object, which in the global environment, will have the name c1."><code onclick="Z(this)">0:53:17</code>And this thing is going to be the object, which in the global environment, will have the name c1.</span><span s="3206" t="So we construct a name here, c1, and say that equals that."><code onclick="Z(this)">0:53:26</code>So we construct a name here, c1, and say that equals that.</span><span s="3215" t="Now, but also make another counter, c2 to be make-counter"><code onclick="Z(this)">0:53:35</code>Now, but also make another counter, c2 to be make-counter</span><span s="3230" t="say, starting with 10. Then I do essentially the same thing. I apply the make-counter procedure, which I got from"><code onclick="Z(this)">0:53:50</code>say, starting with 10. Then I do essentially the same thing. I apply the make-counter procedure, which I got from</span><span s="3239" t="here, to make another frame with n being 10. That frame has the global environment as its parent."><code onclick="Z(this)">0:53:59</code>here, to make another frame with n being 10. That frame has the global environment as its parent.</span><span s="3250" t="I then construct a procedure which has that as it&apos;s frame of definition."><code onclick="Z(this)">0:54:10</code>I then construct a procedure which has that as it's frame of definition.</span><span s="3260" t="The code of it is the procedure of no arguments which does something. And it does a set, and so on. And n comes out."><code onclick="Z(this)">0:54:20</code>The code of it is the procedure of no arguments which does something. And it does a set, and so on. And n comes out.</span><span s="3271" t="And c2 is this. Well, you&apos;re already beginning to see something fairly interesting."><code onclick="Z(this)">0:54:31</code>And c2 is this. Well, you're already beginning to see something fairly interesting.</span><span s="3280" t="There are two n&apos;s here. They are not one n. Each time I called make-counter, I made another"><code onclick="Z(this)">0:54:40</code>There are two n's here. They are not one n. Each time I called make-counter, I made another</span><span s="3289" t="instance of n. These are distinct and separate from each other. Now, let&apos;s do some execution, use those counters."><code onclick="Z(this)">0:54:49</code>instance of n. These are distinct and separate from each other. Now, let's do some execution, use those counters.</span><span s="3300" t="I&apos;m going to use those counters. Well, what happens if I say, c1 at this point?"><code onclick="Z(this)">0:55:00</code>I'm going to use those counters. Well, what happens if I say, c1 at this point?</span><span s="3315" t="Well, I go over here, and I say, oh yes, c1 is a procedure. I&apos;m going to call this procedure on no arguments, but it has no parameters."><code onclick="Z(this)">0:55:15</code>Well, I go over here, and I say, oh yes, c1 is a procedure. I'm going to call this procedure on no arguments, but it has no parameters.</span><span s="3325" t="That&apos;s right. What&apos;s its body? Well, I have to look over here, because I didn&apos;t write it down. It said, set n to one plus n and return n, increment n."><code onclick="Z(this)">0:55:25</code>That's right. What's its body? Well, I have to look over here, because I didn't write it down. It said, set n to one plus n and return n, increment n.</span><span s="3339" t="Well, the n it sees is this one. So I increment that n. That becomes one, and I return the value one."><code onclick="Z(this)">0:55:39</code>Well, the n it sees is this one. So I increment that n. That becomes one, and I return the value one.</span><span s="3353" t="Supposing I then called c2. Well, what do I do? I say c2 is this procedure which does the same thing, but"><code onclick="Z(this)">0:55:53</code>Supposing I then called c2. Well, what do I do? I say c2 is this procedure which does the same thing, but</span><span s="3363" t="here&apos;s the n. It becomes 11. And so I have an 11 which is the value."><code onclick="Z(this)">0:56:03</code>here's the n. It becomes 11. And so I have an 11 which is the value.</span><span s="3375" t="I then can say, let&apos;s try c1 again. c1 is this, that&apos;s two, so the answer is two."><code onclick="Z(this)">0:56:15</code>I then can say, let's try c1 again. c1 is this, that's two, so the answer is two.</span><span s="3389" t="And c2 gives me a 12 by the same method, by walking down here looking at that and saying, here&apos;s the n, I&apos;m"><code onclick="Z(this)">0:56:29</code>And c2 gives me a 12 by the same method, by walking down here looking at that and saying, here's the n, I'm</span><span s="3398" t="incrementing. So what I have are computational objects. There are two counters, each with its own"><code onclick="Z(this)">0:56:38</code>incrementing. So what I have are computational objects. There are two counters, each with its own</span><span s="3409" t="independent local state. Let&apos;s talk about this a little. This is a strange thing."><code onclick="Z(this)">0:56:49</code>independent local state. Let's talk about this a little. This is a strange thing.</span><span s="3421" t="What&apos;s an object? It&apos;s not at all obvious what an object is. We like to think about objects, because it&apos;s"><code onclick="Z(this)">0:57:01</code>What's an object? It's not at all obvious what an object is. We like to think about objects, because it's</span><span s="3431" t="economical to think that way. It&apos;s an intellectual economy. I am an object."><code onclick="Z(this)">0:57:11</code>economical to think that way. It's an intellectual economy. I am an object.</span><span s="3441" t="You are an object. We are not the same object. I can divide the world into two parts, me and you, and"><code onclick="Z(this)">0:57:21</code>You are an object. We are not the same object. I can divide the world into two parts, me and you, and</span><span s="3452" t="there&apos;s other things as well, such that most of the things I might want to discuss about my workings do not involve you,"><code onclick="Z(this)">0:57:32</code>there's other things as well, such that most of the things I might want to discuss about my workings do not involve you,</span><span s="3461" t="and most of the things I want to discuss about your workings don&apos;t involve me. I have a blood pressure, a temperature, a respiration"><code onclick="Z(this)">0:57:41</code>and most of the things I want to discuss about your workings don't involve me. I have a blood pressure, a temperature, a respiration</span><span s="3470" t="rate, a certain amount of sugar in my blood, and numerous, thousands, of state variables-- millions actually,"><code onclick="Z(this)">0:57:50</code>rate, a certain amount of sugar in my blood, and numerous, thousands, of state variables-- millions actually,</span><span s="3479" t="or I don&apos;t know how many-- huge numbers of state variables in the physical sense which represent the state of me as a particle, and"><code onclick="Z(this)">0:57:59</code>or I don't know how many-- huge numbers of state variables in the physical sense which represent the state of me as a particle, and</span><span s="3489" t="you have gazillions of them as well. And most of mine are uncoupled to most of yours. So we can compute the properties of me without"><code onclick="Z(this)">0:58:09</code>you have gazillions of them as well. And most of mine are uncoupled to most of yours. So we can compute the properties of me without</span><span s="3501" t="worrying too much about the properties of you. If we had to work about both of us together, than the number of states that we have to consider is the product of the number of states you have and the number of states I have. But this way it&apos;s almost a sum."><code onclick="Z(this)">0:58:21</code>worrying too much about the properties of you. If we had to work about both of us together, than the number of states that we have to consider is the product of the number of states you have and the number of states I have. But this way it's almost a sum.</span><span s="3512" t="Now, indeed there are forces that couple us. I&apos;m talking to you and your state changes. I&apos;m looking at you and my state changes."><code onclick="Z(this)">0:58:32</code>Now, indeed there are forces that couple us. I'm talking to you and your state changes. I'm looking at you and my state changes.</span><span s="3521" t="Some of my state variables, a very few of them, therefore, are coupled to yours. If you were to suddenly yell very loud, my blood pressure would go up."><code onclick="Z(this)">0:58:41</code>Some of my state variables, a very few of them, therefore, are coupled to yours. If you were to suddenly yell very loud, my blood pressure would go up.</span><span s="3534" t="However, and it may not be always appropriate to think about the world as being made out of independent states and independent particles. Lots of the bugs that occur in things like quantum mechanics,"><code onclick="Z(this)">0:58:54</code>However, and it may not be always appropriate to think about the world as being made out of independent states and independent particles. Lots of the bugs that occur in things like quantum mechanics,</span><span s="3545" t="or the bugs in our minds that occur when we think about things like quantum mechanics, are due the fact that we are trying to think about things being broken up into independent pieces, when in fact there&apos;s more coupling"><code onclick="Z(this)">0:59:05</code>or the bugs in our minds that occur when we think about things like quantum mechanics, are due the fact that we are trying to think about things being broken up into independent pieces, when in fact there's more coupling</span><span s="3555" t="than we see on the surface, or that we want to believe in, because we want to compute efficiently and effectively. We&apos;ve been trained to think that way."><code onclick="Z(this)">0:59:15</code>than we see on the surface, or that we want to believe in, because we want to compute efficiently and effectively. We've been trained to think that way.</span><span s="3569" t="Well, let&apos;s see. How would we know if we had objects at all? How can we tell if we have objects? Consider some possible optical illusions."><code onclick="Z(this)">0:59:29</code>Well, let's see. How would we know if we had objects at all? How can we tell if we have objects? Consider some possible optical illusions.</span><span s="3581" t="This could be done. These pieces of chalk are not appropriately identical, but supposing you couldn&apos;t tell the difference of them by looking at them."><code onclick="Z(this)">0:59:41</code>This could be done. These pieces of chalk are not appropriately identical, but supposing you couldn't tell the difference of them by looking at them.</span><span s="3592" t="Well, there&apos;s a possibility that this all a game I&apos;m playing with mirrors. It&apos;s really the same piece of chalk, but you&apos;re seeing two of them."><code onclick="Z(this)">0:59:52</code>Well, there's a possibility that this all a game I'm playing with mirrors. It's really the same piece of chalk, but you're seeing two of them.</span><span s="3601" t="How would you know if you&apos;re seeing one or two? Well, there&apos;s only one way I know. You grab one of them and change it and see if the other"><code onclick="Z(this)">1:00:01</code>How would you know if you're seeing one or two? Well, there's only one way I know. You grab one of them and change it and see if the other</span><span s="3610" t="one changed. And it didn&apos;t, so there&apos;s two of them."><code onclick="Z(this)">1:00:10</code>one changed. And it didn't, so there's two of them.</span><span s="3619" t="And, on the other hand, there is some other screwy properties of things like that. Like, how do we know if something changed? We have to look at it before and after the change."><code onclick="Z(this)">1:00:19</code>And, on the other hand, there is some other screwy properties of things like that. Like, how do we know if something changed? We have to look at it before and after the change.</span><span s="3628" t="The change is an assignment, it&apos;s a moment in time. But that means we have to know it was the same one that we&apos;re looking at. So some very strange, and unusual, and obscure, and--"><code onclick="Z(this)">1:00:28</code>The change is an assignment, it's a moment in time. But that means we have to know it was the same one that we're looking at. So some very strange, and unusual, and obscure, and--</span><span s="3639" t="I don&apos;t understand the problems associated with assignment, and change, and objects. These could get very, very bad."><code onclick="Z(this)">1:00:39</code>I don't understand the problems associated with assignment, and change, and objects. These could get very, very bad.</span><span s="3651" t="For example, here I am, I am a particular person, a particular object. Now, I can take out my knife, and cut my fingernail."><code onclick="Z(this)">1:00:51</code>For example, here I am, I am a particular person, a particular object. Now, I can take out my knife, and cut my fingernail.</span><span s="3662" t="A piece of my fingernail has fallen off onto the table. I believe I am the same person I was a second ago, but I&apos;m"><code onclick="Z(this)">1:01:02</code>A piece of my fingernail has fallen off onto the table. I believe I am the same person I was a second ago, but I'm</span><span s="3671" t="not physically the same in the slightest. I have changed. Why am I the same? What is the identity of me?"><code onclick="Z(this)">1:01:11</code>not physically the same in the slightest. I have changed. Why am I the same? What is the identity of me?</span><span s="3681" t="I don&apos;t know. Except for the fact that I have some sort of identity. And so, I think by introducing assignment and objects, we"><code onclick="Z(this)">1:01:21</code>I don't know. Except for the fact that I have some sort of identity. And so, I think by introducing assignment and objects, we</span><span s="3694" t="have opened ourselves up to all the horrible questions of philosophy that have been plaguing philosophers for some thousands of years about this sort of thing."><code onclick="Z(this)">1:01:34</code>have opened ourselves up to all the horrible questions of philosophy that have been plaguing philosophers for some thousands of years about this sort of thing.</span><span s="3703" t="It&apos;s why mathematics is a lot cleaner. Let&apos;s look at the best things I know to say about actions and identity."><code onclick="Z(this)">1:01:43</code>It's why mathematics is a lot cleaner. Let's look at the best things I know to say about actions and identity.</span><span s="3712" t="We say that an action, a, had an effect on an object, x, or equivalently, that x was changed by a, if some property, p, which was true of x before a, became"><code onclick="Z(this)">1:01:52</code>We say that an action, a, had an effect on an object, x, or equivalently, that x was changed by a, if some property, p, which was true of x before a, became</span><span s="3722" t="false of x after a. Let&apos;s test. It still means I have to have the x before and after. Or, the other way of saying this is, we say that two"><code onclick="Z(this)">1:02:02</code>false of x after a. Let's test. It still means I have to have the x before and after. Or, the other way of saying this is, we say that two</span><span s="3733" t="objects x and y are the same for any action which has an effect on x has the same effect on y. However, objects are very useful, as I said, for"><code onclick="Z(this)">1:02:13</code>objects x and y are the same for any action which has an effect on x has the same effect on y. However, objects are very useful, as I said, for</span><span s="3742" t="intellectual economy. One of the things that&apos;s incredibly useful about them, is that the world is, we like to think about, made out of"><code onclick="Z(this)">1:02:22</code>intellectual economy. One of the things that's incredibly useful about them, is that the world is, we like to think about, made out of</span><span s="3752" t="independent objects with independent local state. We like to think that way, although it isn&apos;t completely true. When we want to make very complicated programs that deal"><code onclick="Z(this)">1:02:32</code>independent objects with independent local state. We like to think that way, although it isn't completely true. When we want to make very complicated programs that deal</span><span s="3762" t="with such a world, if we want those programs to be understandable by us and also to be changeable, so that if we change the world we change the program only a little bit,"><code onclick="Z(this)">1:02:42</code>with such a world, if we want those programs to be understandable by us and also to be changeable, so that if we change the world we change the program only a little bit,</span><span s="3771" t="then we want there to be connections, isomorphism, between the objects in the world and the objects in our mental model. The modularity of the world can give us the modularity in"><code onclick="Z(this)">1:02:51</code>then we want there to be connections, isomorphism, between the objects in the world and the objects in our mental model. The modularity of the world can give us the modularity in</span><span s="3780" t="our programming. So we invent things called object-oriented programming and things like that to provide us with that power."><code onclick="Z(this)">1:03:00</code>our programming. So we invent things called object-oriented programming and things like that to provide us with that power.</span><span s="3789" t="But it&apos;s even easier. Let&apos;s play a little game. I want to play a little game, show you an even easier example of where modularity can be enhanced by using an"><code onclick="Z(this)">1:03:09</code>But it's even easier. Let's play a little game. I want to play a little game, show you an even easier example of where modularity can be enhanced by using an</span><span s="3799" t="assignment statement, judiciously. One thing I want to enforce and impress on you, is don&apos;t use assignment statements the way you use it in FORTRAN or"><code onclick="Z(this)">1:03:19</code>assignment statement, judiciously. One thing I want to enforce and impress on you, is don't use assignment statements the way you use it in FORTRAN or</span><span s="3808" t="Basic or something or Pascal, to do the things you don&apos;t have to do with it. It&apos;s not the right way to think for most things."><code onclick="Z(this)">1:03:28</code>Basic or something or Pascal, to do the things you don't have to do with it. It's not the right way to think for most things.</span><span s="3817" t="Sometimes it&apos;s essential, or maybe it&apos;s essential. We&apos;ll see more about that too. OK, let me show you a fun game here."><code onclick="Z(this)">1:03:37</code>Sometimes it's essential, or maybe it's essential. We'll see more about that too. OK, let me show you a fun game here.</span><span s="3827" t="There was mathematician by the name of Cesaro-- or Cesaro, Cesaro I suppose it is-- who figured out a clever way of computing pi."><code onclick="Z(this)">1:03:47</code>There was mathematician by the name of Cesaro-- or Cesaro, Cesaro I suppose it is-- who figured out a clever way of computing pi.</span><span s="3838" t="It turns out that if I take to random numbers, two integers at random, and compute the greatest common divisor, their"><code onclick="Z(this)">1:03:58</code>It turns out that if I take to random numbers, two integers at random, and compute the greatest common divisor, their</span><span s="3851" t="greatest common divisor is either one or it&apos;s not one. If it&apos;s one, then they have no common divisors. If their greatest common divisor is one--"><code onclick="Z(this)">1:04:11</code>greatest common divisor is either one or it's not one. If it's one, then they have no common divisors. If their greatest common divisor is one--</span><span s="3861" t="the probability that two random numbers, two numbers chosen at random, has as greatest common divisor one is related to pi. In fact--"><code onclick="Z(this)">1:04:21</code>the probability that two random numbers, two numbers chosen at random, has as greatest common divisor one is related to pi. In fact--</span><span s="3871" t="yes, it&apos;s very strange-- of course there are other ways of computing pi, like dropping pins on flags, and things like that, and sort of the same kind of thing."><code onclick="Z(this)">1:04:31</code>yes, it's very strange-- of course there are other ways of computing pi, like dropping pins on flags, and things like that, and sort of the same kind of thing.</span><span s="3880" t="So the probability of that the GCD of number one and number two, two random numbers chosen, is 6 over pi squared."><code onclick="Z(this)">1:04:40</code>So the probability of that the GCD of number one and number two, two random numbers chosen, is 6 over pi squared.</span><span s="3895" t="I&apos;m not going to try to prove that. It&apos;s actually not too hard and sort of fun. How would we estimate such probability? Well, the way we do that, the way we estimate probabilities,"><code onclick="Z(this)">1:04:55</code>I'm not going to try to prove that. It's actually not too hard and sort of fun. How would we estimate such probability? Well, the way we do that, the way we estimate probabilities,</span><span s="3907" t="is by doing lots of experiments, and then computing the ratios of the ones that come out one way to the total number of experiments we do."><code onclick="Z(this)">1:05:07</code>is by doing lots of experiments, and then computing the ratios of the ones that come out one way to the total number of experiments we do.</span><span s="3916" t="It&apos;s called Monte Carlo, and it&apos;s useful in other contexts for doing things like integrals where you have lots and lots of variables-- the space which is limiting the dimensions you are doing you integral in."><code onclick="Z(this)">1:05:16</code>It's called Monte Carlo, and it's useful in other contexts for doing things like integrals where you have lots and lots of variables-- the space which is limiting the dimensions you are doing you integral in.</span><span s="3926" t="But going back to here, Let&apos;s look at this slide, We can use Cesaro&apos;s method for estimating pi with n trials by taking the"><code onclick="Z(this)">1:05:26</code>But going back to here, Let's look at this slide, We can use Cesaro's method for estimating pi with n trials by taking the</span><span s="3940" t="square root of six over a Monte Carlo, a Monte Carlo experiment with n trials, using Cesaro&apos;s experiment,"><code onclick="Z(this)">1:05:40</code>square root of six over a Monte Carlo, a Monte Carlo experiment with n trials, using Cesaro's experiment,</span><span s="3951" t="where Cesaro&apos;s experiment is the test of whether the GCD of two random numbers-- And you can see that I&apos;ve already got some assignments"><code onclick="Z(this)">1:05:51</code>where Cesaro's experiment is the test of whether the GCD of two random numbers-- And you can see that I've already got some assignments</span><span s="3961" t="in here, just by what I wrote. The fact that this word rand, in parentheses, therefore, that procedure call, yields a different value than this one,"><code onclick="Z(this)">1:06:01</code>in here, just by what I wrote. The fact that this word rand, in parentheses, therefore, that procedure call, yields a different value than this one,</span><span s="3971" t="at least that&apos;s what I&apos;m assuming by writing this this way, indicates that this is not a function, that there&apos;s internal state in it which is changing."><code onclick="Z(this)">1:06:11</code>at least that's what I'm assuming by writing this this way, indicates that this is not a function, that there's internal state in it which is changing.</span><span s="3985" t="If the GCD of those two random numbers is equal to one, that&apos;s the experiment. So here I have an experimental method for estimating the"><code onclick="Z(this)">1:06:25</code>If the GCD of those two random numbers is equal to one, that's the experiment. So here I have an experimental method for estimating the</span><span s="3994" t="value of pi. Where, I can easily divide this problem into two parts. One is the specific Monte Carlo experiment of Cesaro,"><code onclick="Z(this)">1:06:34</code>value of pi. Where, I can easily divide this problem into two parts. One is the specific Monte Carlo experiment of Cesaro,</span><span s="4003" t="which you just saw, and the other is the general technique of doing Monte Carlo experiments. And that&apos;s what this is. If I want to do Monte Carlo experiments with n trials, a"><code onclick="Z(this)">1:06:43</code>which you just saw, and the other is the general technique of doing Monte Carlo experiments. And that's what this is. If I want to do Monte Carlo experiments with n trials, a</span><span s="4015" t="certain number of trials, and a particular experiment, the way I do that is I make a little iterative procedure which has variable the number of trials remaining and the"><code onclick="Z(this)">1:06:55</code>certain number of trials, and a particular experiment, the way I do that is I make a little iterative procedure which has variable the number of trials remaining and the</span><span s="4025" t="number trials that have been passed, that I&apos;ve gotten true. And if the number remaining is 0, then the answer is the number past divided by this whole number of trials, was"><code onclick="Z(this)">1:07:05</code>number trials that have been passed, that I've gotten true. And if the number remaining is 0, then the answer is the number past divided by this whole number of trials, was</span><span s="4036" t="the estimate of the probability. And if it&apos;s not, if I have more trials to do, then let&apos;s do one. We do an experiment. We call the procedure which is experiment on no arguments."><code onclick="Z(this)">1:07:16</code>the estimate of the probability. And if it's not, if I have more trials to do, then let's do one. We do an experiment. We call the procedure which is experiment on no arguments.</span><span s="4047" t="We do the experiment and then, if that turned out to be true, we go around the loop decrementing the number of experiments we have to do by one and incrementing the"><code onclick="Z(this)">1:07:27</code>We do the experiment and then, if that turned out to be true, we go around the loop decrementing the number of experiments we have to do by one and incrementing the</span><span s="4056" t="number that were passed. And if the experiment was false, we just go around the loop decrementing the number of experiments remaining and keeping the number passed the same."><code onclick="Z(this)">1:07:36</code>number that were passed. And if the experiment was false, we just go around the loop decrementing the number of experiments remaining and keeping the number passed the same.</span><span s="4068" t="We start this up iterating over the total number of trials with 0 experiments past. A very elegant little program."><code onclick="Z(this)">1:07:48</code>We start this up iterating over the total number of trials with 0 experiments past. A very elegant little program.</span><span s="4077" t="And I don&apos;t have to just do this with Cesaro&apos;s experiment, it could be lots of Monte Carlo experiments I might do. Of course, this depends upon the existence of some sort of random number generator."><code onclick="Z(this)">1:07:57</code>And I don't have to just do this with Cesaro's experiment, it could be lots of Monte Carlo experiments I might do. Of course, this depends upon the existence of some sort of random number generator.</span><span s="4087" t="And random number generators generally look something like this. There is a random number generator--"><code onclick="Z(this)">1:08:07</code>And random number generators generally look something like this. There is a random number generator--</span><span s="4097" t="is in fact a procedure which is going to do something just like the counter. It&apos;s going to update an x to the result of applying some"><code onclick="Z(this)">1:08:17</code>is in fact a procedure which is going to do something just like the counter. It's going to update an x to the result of applying some</span><span s="4110" t="function to x, where this function is some screwy kind of function that you might find out in Knuth&apos;s books on the details of programming."><code onclick="Z(this)">1:08:30</code>function to x, where this function is some screwy kind of function that you might find out in Knuth's books on the details of programming.</span><span s="4121" t="He does these wonderful books that are full of the details of programming, because I can&apos;t remember how to make a random number generator, but I can look it up there, and I"><code onclick="Z(this)">1:08:41</code>He does these wonderful books that are full of the details of programming, because I can't remember how to make a random number generator, but I can look it up there, and I</span><span s="4130" t="can find out. And then, eventually, I return the value of x which is the state variable internal to the random number generator. That state variable is initialized"><code onclick="Z(this)">1:08:50</code>can find out. And then, eventually, I return the value of x which is the state variable internal to the random number generator. That state variable is initialized</span><span s="4140" t="somehow, and has a value. And this procedure is defined in the context where that variable is bound."><code onclick="Z(this)">1:09:00</code>somehow, and has a value. And this procedure is defined in the context where that variable is bound.</span><span s="4150" t="So this is a hidden piece of local state that you see here. And this procedure is defined in that context."><code onclick="Z(this)">1:09:10</code>So this is a hidden piece of local state that you see here. And this procedure is defined in that context.</span><span s="4161" t="Now, that&apos;s a very simple thing to do. And it&apos;s very nice. Supposing, I didn&apos;t want to use assignments. Supposing, I wanted to write this program without"><code onclick="Z(this)">1:09:21</code>Now, that's a very simple thing to do. And it's very nice. Supposing, I didn't want to use assignments. Supposing, I wanted to write this program without</span><span s="4170" t="assignments. What problems would I have? Well, let&apos;s see. I&apos;d like to use the overhead machine here, thank you."><code onclick="Z(this)">1:09:30</code>assignments. What problems would I have? Well, let's see. I'd like to use the overhead machine here, thank you.</span><span s="4184" t="First of all, let&apos;s look at the whole thing. It&apos;s a big story. Unfortunately, which tells you there is something wrong. It&apos;s at least that big, and it&apos;s monolithic."><code onclick="Z(this)">1:09:44</code>First of all, let's look at the whole thing. It's a big story. Unfortunately, which tells you there is something wrong. It's at least that big, and it's monolithic.</span><span s="4197" t="You don&apos;t have to understand or look at the text there right now to see that it&apos;s monolithic. It isn&apos;t a thing which is Cesaro&apos;s experiment. It&apos;s not pulled out from the Monte Carlo process."><code onclick="Z(this)">1:09:57</code>You don't have to understand or look at the text there right now to see that it's monolithic. It isn't a thing which is Cesaro's experiment. It's not pulled out from the Monte Carlo process.</span><span s="4210" t="It&apos;s not separated. Let&apos;s look why. Remember, the constraint here is that every procedure return"><code onclick="Z(this)">1:10:10</code>It's not separated. Let's look why. Remember, the constraint here is that every procedure return</span><span s="4219" t="the same value for the same arguments. Every procedure represents a function. That&apos;s a different kind of constraint."><code onclick="Z(this)">1:10:19</code>the same value for the same arguments. Every procedure represents a function. That's a different kind of constraint.</span><span s="4228" t="Because when I have assignments, I can change some internal state variable. So let&apos;s see how that causes things to go wrong. Well, start at the beginning."><code onclick="Z(this)">1:10:28</code>Because when I have assignments, I can change some internal state variable. So let's see how that causes things to go wrong. Well, start at the beginning.</span><span s="4238" t="The estimate of pi looks sort of the same. What I&apos;m doing is I take the square root of six over the"><code onclick="Z(this)">1:10:38</code>The estimate of pi looks sort of the same. What I'm doing is I take the square root of six over the</span><span s="4247" t="random GCD test applied to n, whereas that&apos;s what this is. But here, we are beginning to see something funny. The random GCD test of a certain number of trials is"><code onclick="Z(this)">1:10:47</code>random GCD test applied to n, whereas that's what this is. But here, we are beginning to see something funny. The random GCD test of a certain number of trials is</span><span s="4258" t="just like we had before, an iteration on the number of trials remaining, the number of trials that have been passed, and another variable x."><code onclick="Z(this)">1:10:58</code>just like we had before, an iteration on the number of trials remaining, the number of trials that have been passed, and another variable x.</span><span s="4270" t="What&apos;s that x? That x is the state of the random number generator. And it is now going to be used here."><code onclick="Z(this)">1:11:10</code>What's that x? That x is the state of the random number generator. And it is now going to be used here.</span><span s="4281" t="The same random update function that I have over here is the one I would have used in a random number generator if I were building it the other way, the one I get out of Knuth&apos;s books."><code onclick="Z(this)">1:11:21</code>The same random update function that I have over here is the one I would have used in a random number generator if I were building it the other way, the one I get out of Knuth's books.</span><span s="4291" t="x is going to get transformed into x1, I need two random numbers. And x1 is going to get transformed into x2, I have two random numbers. I then have to do exactly what I did before."><code onclick="Z(this)">1:11:31</code>x is going to get transformed into x1, I need two random numbers. And x1 is going to get transformed into x2, I have two random numbers. I then have to do exactly what I did before.</span><span s="4302" t="I take the GCD of x1 x2. If that&apos;s one, then I go around the loop with x2 being the next value of x."><code onclick="Z(this)">1:11:42</code>I take the GCD of x1 x2. If that's one, then I go around the loop with x2 being the next value of x.</span><span s="4314" t="You see what&apos;s happened here is that the state of the random number generator is no longer confined to the insides of the random number generator. It has leaked out."><code onclick="Z(this)">1:11:54</code>You see what's happened here is that the state of the random number generator is no longer confined to the insides of the random number generator. It has leaked out.</span><span s="4323" t="It has leaked out into my procedure that does the Monte Carlo experiment. But what&apos;s worse than that, is it&apos;s also, because it was"><code onclick="Z(this)">1:12:03</code>It has leaked out into my procedure that does the Monte Carlo experiment. But what's worse than that, is it's also, because it was</span><span s="4333" t="contained inside my experiment itself, Cesaro, it leaked out of that too. Because Cesaro called twice, has to have a different value each time, if I going to have a legitimate experimental"><code onclick="Z(this)">1:12:13</code>contained inside my experiment itself, Cesaro, it leaked out of that too. Because Cesaro called twice, has to have a different value each time, if I going to have a legitimate experimental</span><span s="4344" t="test. So Cesaro can&apos;t be a function either, unless I pass it the seed of the random number generator that is going"><code onclick="Z(this)">1:12:24</code>test. So Cesaro can't be a function either, unless I pass it the seed of the random number generator that is going</span><span s="4354" t="to go wandering around. So unfortunately, the seed of random number generator has leaked out into Cesaro, from the random number generator, that&apos;s leaked into the Monte Carlo experiment."><code onclick="Z(this)">1:12:34</code>to go wandering around. So unfortunately, the seed of random number generator has leaked out into Cesaro, from the random number generator, that's leaked into the Monte Carlo experiment.</span><span s="4365" t="And, unfortunately, my Monte Carlo experiment here is no longer general. The Monte Carlo experiment here knows how many random numbers I need to do the experiment."><code onclick="Z(this)">1:12:45</code>And, unfortunately, my Monte Carlo experiment here is no longer general. The Monte Carlo experiment here knows how many random numbers I need to do the experiment.</span><span s="4378" t="That&apos;s sort of horrible. I lost an ability to decompose a problem into pieces, because I wasn&apos;t willing to accept the little loop of information,"><code onclick="Z(this)">1:12:58</code>That's sort of horrible. I lost an ability to decompose a problem into pieces, because I wasn't willing to accept the little loop of information,</span><span s="4390" t="the feedback process, that happens inside the random number generator before that was made by having an assignment to a state variable that was confined to the"><code onclick="Z(this)">1:13:10</code>the feedback process, that happens inside the random number generator before that was made by having an assignment to a state variable that was confined to the</span><span s="4400" t="random number generator. So the fact that the random number generator is an object, with an internal state variable, it&apos;s affected by"><code onclick="Z(this)">1:13:20</code>random number generator. So the fact that the random number generator is an object, with an internal state variable, it's affected by</span><span s="4409" t="nothing, but it&apos;ll give you something, and it will apply it&apos;s force to you, that was what we&apos;re missing now."><code onclick="Z(this)">1:13:29</code>nothing, but it'll give you something, and it will apply it's force to you, that was what we're missing now.</span><span s="4418" t="OK, well I think we&apos;ve seen enough reason for doing this, and it all sort of looks very wonderful. Wouldn&apos;t it be nice if assignment was a good thing"><code onclick="Z(this)">1:13:38</code>OK, well I think we've seen enough reason for doing this, and it all sort of looks very wonderful. Wouldn't it be nice if assignment was a good thing</span><span s="4431" t="and maybe it&apos;s worth it, but I&apos;m not sure. As Mr. Gilbert and Sullivan said, things are seldom what they seem, skim milk masquerades as cream."><code onclick="Z(this)">1:13:51</code>and maybe it's worth it, but I'm not sure. As Mr. Gilbert and Sullivan said, things are seldom what they seem, skim milk masquerades as cream.</span><span s="4441" t="Are there any questions?"><code onclick="Z(this)">1:14:01</code>Are there any questions?</span><span s="4457" t="Are there any philosophers here? Anybody want to argue about objects? You&apos;re just floored, right?"><code onclick="Z(this)">1:14:17</code>Are there any philosophers here? Anybody want to argue about objects? You're just floored, right?</span><span s="4469" t="And you haven&apos;t done your homework yet. You haven&apos;t come up with a good question. Oh, well."><code onclick="Z(this)">1:14:29</code>And you haven't done your homework yet. You haven't come up with a good question. Oh, well.</span><span s="4480" t="Sure, thank you. Let&apos;s take the long break now."><code onclick="Z(this)">1:14:40</code>Sure, thank you. Let's take the long break now.</span></div><div class="eventlist" side="R" vid="SsBxcpkyMMw"><h5><code onclick="Z(this)">0:00:00</code>Lecture 5B | MIT 6.001 Structure and Interpretation, 1986</h5><span s="0" t=""><code onclick="Z(this)">0:00:00</code></span><span s="21" t="PROFESSOR: Well, now that we&apos;ve given you some power to make independent local state and to model objects, I thought we&apos;d do a bit of programming of a very"><code onclick="Z(this)">0:00:21</code>PROFESSOR: Well, now that we've given you some power to make independent local state and to model objects, I thought we'd do a bit of programming of a very</span><span s="31" t="complicated kind, just to illustrate what you can do with this sort of thing."><code onclick="Z(this)">0:00:31</code>complicated kind, just to illustrate what you can do with this sort of thing.</span><span s="40" t="I suppose, as I said, we were motivated by physical systems and the ways we like to think about physical systems, which is that there are these things that the world is made out of."><code onclick="Z(this)">0:00:40</code>I suppose, as I said, we were motivated by physical systems and the ways we like to think about physical systems, which is that there are these things that the world is made out of.</span><span s="52" t="And each of these things has particular independent local state, and therefore it is a thing. That&apos;s what makes it a thing."><code onclick="Z(this)">0:00:52</code>And each of these things has particular independent local state, and therefore it is a thing. That's what makes it a thing.</span><span s="61" t="And then we&apos;re going to say that in the model in the world--we have a world and a model in our minds and in the computer of that world."><code onclick="Z(this)">0:01:01</code>And then we're going to say that in the model in the world--we have a world and a model in our minds and in the computer of that world.</span><span s="70" t="And what I want to make is a correspondence between the objects in the world and the objects in the computer, the relationships between the objects in the world and the relationships between those same obj...--the model objects"><code onclick="Z(this)">0:01:10</code>And what I want to make is a correspondence between the objects in the world and the objects in the computer, the relationships between the objects in the world and the relationships between those same obj...--the model objects</span><span s="81" t="in the computer, and the functions that relate things in the world to the functions that relate things in the computer."><code onclick="Z(this)">0:01:21</code>in the computer, and the functions that relate things in the world to the functions that relate things in the computer.</span><span s="90" t="This buys us modularity. If we really believe the world is like that, that it&apos;s made out of these little pieces, and of course we could arrange"><code onclick="Z(this)">0:01:30</code>This buys us modularity. If we really believe the world is like that, that it's made out of these little pieces, and of course we could arrange</span><span s="100" t="our world to be like that, we could only model those things that are like that, then we can inherit the modularity in the world into our programming."><code onclick="Z(this)">0:01:40</code>our world to be like that, we could only model those things that are like that, then we can inherit the modularity in the world into our programming.</span><span s="110" t="That&apos;s why we would invent some of this object-oriented programming. Well, let&apos;s take the best kind of objects I know. They&apos;re completely--they&apos;re completely wonderful:"><code onclick="Z(this)">0:01:50</code>That's why we would invent some of this object-oriented programming. Well, let's take the best kind of objects I know. They're completely--they're completely wonderful:</span><span s="123" t="electrical systems. Electrical systems really are the physicist&apos;s best, best objects."><code onclick="Z(this)">0:02:03</code>electrical systems. Electrical systems really are the physicist's best, best objects.</span><span s="134" t="You see over here I have some piece of machinery. Right here&apos;s a piece of machinery. And it&apos;s got an electrical wire connecting one part of"><code onclick="Z(this)">0:02:14</code>You see over here I have some piece of machinery. Right here's a piece of machinery. And it's got an electrical wire connecting one part of</span><span s="144" t="the machinery with another part of the machinery. And one of the wonderful properties of the electrical world is that I can say this is an object, and this is an"><code onclick="Z(this)">0:02:24</code>the machinery with another part of the machinery. And one of the wonderful properties of the electrical world is that I can say this is an object, and this is an</span><span s="154" t="object, and they&apos;re-- the connection between them is clear. In principle, there is no connection that I didn&apos;t describe with these wires."><code onclick="Z(this)">0:02:34</code>object, and they're-- the connection between them is clear. In principle, there is no connection that I didn't describe with these wires.</span><span s="164" t="Let&apos;s say if I have light bulbs, a light bulb and a power supply that&apos;s plugged into the outlet. Then the connection is perfectly clear."><code onclick="Z(this)">0:02:44</code>Let's say if I have light bulbs, a light bulb and a power supply that's plugged into the outlet. Then the connection is perfectly clear.</span><span s="173" t="There&apos;s no other connections that we know of. If I were to tie a knot in the wire that connects the light bulb to the power supply, the light remains lit up."><code onclick="Z(this)">0:02:53</code>There's no other connections that we know of. If I were to tie a knot in the wire that connects the light bulb to the power supply, the light remains lit up.</span><span s="184" t="It doesn&apos;t care. That the way the physics is arranged is such that the connection can be made abstract, at least for low"><code onclick="Z(this)">0:03:04</code>It doesn't care. That the way the physics is arranged is such that the connection can be made abstract, at least for low</span><span s="193" t="frequencies and things like that. So in fact, we have captured all of the connections there really are."><code onclick="Z(this)">0:03:13</code>frequencies and things like that. So in fact, we have captured all of the connections there really are.</span><span s="202" t="Well, as you can go one step further and talk about the most abstract types of electrical systems we have, digital to dual circuits. And here there are certain kinds of objects."><code onclick="Z(this)">0:03:22</code>Well, as you can go one step further and talk about the most abstract types of electrical systems we have, digital to dual circuits. And here there are certain kinds of objects.</span><span s="214" t="For example, in digital circuits we have things like inverters. We have things like and-gates."><code onclick="Z(this)">0:03:34</code>For example, in digital circuits we have things like inverters. We have things like and-gates.</span><span s="223" t="We have things like or-gates. We connect them together by sort-of wires which represent"><code onclick="Z(this)">0:03:43</code>We have things like or-gates. We connect them together by sort-of wires which represent</span><span s="233" t="abstract signals. We don&apos;t really care as physical variables whether these are voltages or currents or some combination or anything like that, or water, water pressure."><code onclick="Z(this)">0:03:53</code>abstract signals. We don't really care as physical variables whether these are voltages or currents or some combination or anything like that, or water, water pressure.</span><span s="245" t="These abstract variables represent certain signals. And we build systems by wiring these things together with wires."><code onclick="Z(this)">0:04:05</code>These abstract variables represent certain signals. And we build systems by wiring these things together with wires.</span><span s="254" t="So today what I&apos;m going to show you, right now, we&apos;re going to build up an invented language in Lisp, embedded in the same sense that Henderson&apos;s picture language"><code onclick="Z(this)">0:04:14</code>So today what I'm going to show you, right now, we're going to build up an invented language in Lisp, embedded in the same sense that Henderson's picture language</span><span s="264" t="was embedded, which is not the same sense as the language of pattern match and substitution was done yesterday. The pattern match/substitution language was interpreted by a"><code onclick="Z(this)">0:04:24</code>was embedded, which is not the same sense as the language of pattern match and substitution was done yesterday. The pattern match/substitution language was interpreted by a</span><span s="275" t="Lisp program. But the embedding of Henderson&apos;s program is that we just build up more and more procedures that encapsulate the structure we want."><code onclick="Z(this)">0:04:35</code>Lisp program. But the embedding of Henderson's program is that we just build up more and more procedures that encapsulate the structure we want.</span><span s="285" t="So for example here, I&apos;m going to have some various primitive kinds of objects, as you see, that one and that one. I&apos;m going to use wires to combine them."><code onclick="Z(this)">0:04:45</code>So for example here, I'm going to have some various primitive kinds of objects, as you see, that one and that one. I'm going to use wires to combine them.</span><span s="295" t="The way I represent attaching-- I can make wires. So let&apos;s say A is a wire. And B is a wire. And C is a wire. And D is a wire."><code onclick="Z(this)">0:04:55</code>The way I represent attaching-- I can make wires. So let's say A is a wire. And B is a wire. And C is a wire. And D is a wire.</span><span s="304" t="And E is wire. And S is a wire. Well, an or-gate that has both inputs, the inputs being A and B, and the output being Y or D, you notate like this."><code onclick="Z(this)">0:05:04</code>And E is wire. And S is a wire. Well, an or-gate that has both inputs, the inputs being A and B, and the output being Y or D, you notate like this.</span><span s="317" t="An and-gate, which has inputs A and B and output C, we notate like that. By making such a sequence of declarations, like this, I can"><code onclick="Z(this)">0:05:17</code>An and-gate, which has inputs A and B and output C, we notate like that. By making such a sequence of declarations, like this, I can</span><span s="329" t="wire together an arbitrary circuit. So I&apos;ve just told you a set of primitives and means of combination for building digital circuits, when I need"><code onclick="Z(this)">0:05:29</code>wire together an arbitrary circuit. So I've just told you a set of primitives and means of combination for building digital circuits, when I need</span><span s="340" t="more in a real language than abstraction. And so for example, here I have--here I have a half adder."><code onclick="Z(this)">0:05:40</code>more in a real language than abstraction. And so for example, here I have--here I have a half adder.</span><span s="352" t="It&apos;s something you all know if you&apos;ve done any digital design. It&apos;s used for adding numbers together on A and B and putting out a sum and a carry."><code onclick="Z(this)">0:05:52</code>It's something you all know if you've done any digital design. It's used for adding numbers together on A and B and putting out a sum and a carry.</span><span s="363" t="And in fact, the wiring diagram is exactly what I told you. A half adder with things that come out of the box-- you see the box, the boundary, the abstraction is always a box."><code onclick="Z(this)">0:06:03</code>And in fact, the wiring diagram is exactly what I told you. A half adder with things that come out of the box-- you see the box, the boundary, the abstraction is always a box.</span><span s="374" t="And there are things that come out of it, A, B, S, and C. Those are the declared variables--declared variables"><code onclick="Z(this)">0:06:14</code>And there are things that come out of it, A, B, S, and C. Those are the declared variables--declared variables</span><span s="384" t="of a lambda expression, which is the one that defines half adder. And internal to that, I make up some more wires, D and E,"><code onclick="Z(this)">0:06:24</code>of a lambda expression, which is the one that defines half adder. And internal to that, I make up some more wires, D and E,</span><span s="396" t="which I&apos;m going to use for the interconnect-- here E is this one and D is this wire, the interconnect that doesn&apos;t come through the walls of the box--"><code onclick="Z(this)">0:06:36</code>which I'm going to use for the interconnect-- here E is this one and D is this wire, the interconnect that doesn't come through the walls of the box--</span><span s="405" t="and wire things together as you just saw. And the nice thing about this that I&apos;ve just shown you is this language is hierarchical in the right way. If a language isn&apos;t hierarchical in the right way,"><code onclick="Z(this)">0:06:45</code>and wire things together as you just saw. And the nice thing about this that I've just shown you is this language is hierarchical in the right way. If a language isn't hierarchical in the right way,</span><span s="415" t="if it turns out that a compound object doesn&apos;t look like a primitive, there&apos;s something wrong with the language-- at least the way I feel about that."><code onclick="Z(this)">0:06:55</code>if it turns out that a compound object doesn't look like a primitive, there's something wrong with the language-- at least the way I feel about that.</span><span s="426" t="So here we have--here, instead of starting with mathematical functions, or things that compute mathematical functions, which is what we&apos;ve been doing up until now, instead of starting with things that look like"><code onclick="Z(this)">0:07:06</code>So here we have--here, instead of starting with mathematical functions, or things that compute mathematical functions, which is what we've been doing up until now, instead of starting with things that look like</span><span s="435" t="mathematical functions, or compute such things, we are starting with things that are electrical objects and we build up more electrical objects. And the glue we&apos;re using is basically the"><code onclick="Z(this)">0:07:15</code>mathematical functions, or compute such things, we are starting with things that are electrical objects and we build up more electrical objects. And the glue we're using is basically the</span><span s="446" t="Lisp structure: lambdas. Lambda is the ultimate glue, if you will. And of course, half adder itself can be used in a more"><code onclick="Z(this)">0:07:26</code>Lisp structure: lambdas. Lambda is the ultimate glue, if you will. And of course, half adder itself can be used in a more</span><span s="459" t="complicated abstraction called a full adder, which in fact involves two half adders, as you see here, hooked together with some extra wires, that you see here, S, C1, and C2,"><code onclick="Z(this)">0:07:39</code>complicated abstraction called a full adder, which in fact involves two half adders, as you see here, hooked together with some extra wires, that you see here, S, C1, and C2,</span><span s="470" t="and an or-gate, to manufacture a full adder, which takes a input number, another input number, a carry in, and"><code onclick="Z(this)">0:07:50</code>and an or-gate, to manufacture a full adder, which takes a input number, another input number, a carry in, and</span><span s="481" t="produces output, a sum and a carry out. And out of full adders, you can make real adder chains and big adders."><code onclick="Z(this)">0:08:01</code>produces output, a sum and a carry out. And out of full adders, you can make real adder chains and big adders.</span><span s="492" t="So we have here a language so far that has primitives, means of combination, and means of abstraction to real language."><code onclick="Z(this)">0:08:12</code>So we have here a language so far that has primitives, means of combination, and means of abstraction to real language.</span><span s="502" t="Now, how are we going to implement this? Well, let&apos;s do it easily. Let&apos;s look at the primitives. The only problem is we have to implement the primitives."><code onclick="Z(this)">0:08:22</code>Now, how are we going to implement this? Well, let's do it easily. Let's look at the primitives. The only problem is we have to implement the primitives.</span><span s="511" t="Nothing else has to be implemented, because we&apos;re picking up the means of combination and abstraction from Lisp, inheriting them in the embedding."><code onclick="Z(this)">0:08:31</code>Nothing else has to be implemented, because we're picking up the means of combination and abstraction from Lisp, inheriting them in the embedding.</span><span s="523" t="OK, so let&apos;s look at a particular primitive. An inverter is a nice one. Now, inverter has two wires coming in, an in and an out."><code onclick="Z(this)">0:08:43</code>OK, so let's look at a particular primitive. An inverter is a nice one. Now, inverter has two wires coming in, an in and an out.</span><span s="537" t="And somehow, it&apos;s going to have to know what to do when a signal comes in. So somehow it&apos;s going to have to tell its input wire--"><code onclick="Z(this)">0:08:57</code>And somehow, it's going to have to know what to do when a signal comes in. So somehow it's going to have to tell its input wire--</span><span s="547" t="and now we&apos;re going to talk about objects and we&apos;re going to see this in a little more detail soon-- but it&apos;s going to have to tell its input wire that when you"><code onclick="Z(this)">0:09:07</code>and now we're going to talk about objects and we're going to see this in a little more detail soon-- but it's going to have to tell its input wire that when you</span><span s="556" t="change, tell me. So this object, the object which is the inverter has to tell the object which is the input wire,"><code onclick="Z(this)">0:09:16</code>change, tell me. So this object, the object which is the inverter has to tell the object which is the input wire,</span><span s="565" t="hi, my name is George. And my, my job is to do something with results when you change. So when you change, you get a change, tell me about it."><code onclick="Z(this)">0:09:25</code>hi, my name is George. And my, my job is to do something with results when you change. So when you change, you get a change, tell me about it.</span><span s="574" t="Because I&apos;ve got to do something with that. Well, that&apos;s done down here by adding an action on the input wire called invert-in, where invert-in is defined over here"><code onclick="Z(this)">0:09:34</code>Because I've got to do something with that. Well, that's done down here by adding an action on the input wire called invert-in, where invert-in is defined over here</span><span s="587" t="to be a procedure of no arguments, which gets the logical not of the signal on the input wire."><code onclick="Z(this)">0:09:47</code>to be a procedure of no arguments, which gets the logical not of the signal on the input wire.</span><span s="596" t="And after some delay, which is the inverter delay, all these electrical objects have delays, we&apos;ll do the following thing-- set the signal on the output wire to the new value."><code onclick="Z(this)">0:09:56</code>And after some delay, which is the inverter delay, all these electrical objects have delays, we'll do the following thing-- set the signal on the output wire to the new value.</span><span s="610" t="A very simple program. Now, you have to imagine that the output wire has to be sensitive and know that when its signal changes, it may"><code onclick="Z(this)">0:10:10</code>A very simple program. Now, you have to imagine that the output wire has to be sensitive and know that when its signal changes, it may</span><span s="619" t="have to tell other guys, hey, wake up. My value has changed. So when you hook together inverter with an and-gate or"><code onclick="Z(this)">0:10:19</code>have to tell other guys, hey, wake up. My value has changed. So when you hook together inverter with an and-gate or</span><span s="629" t="something like that, there has to be a lot of communication going on in order to make sure that the signal propagates right. And down here is nothing very exciting."><code onclick="Z(this)">0:10:29</code>something like that, there has to be a lot of communication going on in order to make sure that the signal propagates right. And down here is nothing very exciting.</span><span s="638" t="This is just the definition of logical not for some particular representations of the logical values-- 1, 0 in this case. And we can look at things more complicated like and-gates."><code onclick="Z(this)">0:10:38</code>This is just the definition of logical not for some particular representations of the logical values-- 1, 0 in this case. And we can look at things more complicated like and-gates.</span><span s="649" t="And-gates take two inputs, A1 and A2, we&apos;ll call them, and produce an output. But the structure of the and-gate is identical to the"><code onclick="Z(this)">0:10:49</code>And-gates take two inputs, A1 and A2, we'll call them, and produce an output. But the structure of the and-gate is identical to the</span><span s="659" t="one we just saw. There&apos;s one called an and-action procedure that&apos;s defined, which is the thing that gets called when an input"><code onclick="Z(this)">0:10:59</code>one we just saw. There's one called an and-action procedure that's defined, which is the thing that gets called when an input</span><span s="668" t="is changed. And what it does, of course, is nothing more than compute the logical and of the signals on the inputs. And after some delay, called the and-gate delay, calls this"><code onclick="Z(this)">0:11:08</code>is changed. And what it does, of course, is nothing more than compute the logical and of the signals on the inputs. And after some delay, called the and-gate delay, calls this</span><span s="680" t="procedure, which sets a signal on the output to a new value. Now, how I implement these things is all wishful thinking. As you see here, I have an assignment operation."><code onclick="Z(this)">0:11:20</code>procedure, which sets a signal on the output to a new value. Now, how I implement these things is all wishful thinking. As you see here, I have an assignment operation.</span><span s="692" t="It&apos;s not set. It&apos;s a derived assignment operation in the same way we had functions that were derived from CAR and CDR. So"><code onclick="Z(this)">0:11:32</code>It's not set. It's a derived assignment operation in the same way we had functions that were derived from CAR and CDR. So</span><span s="701" t="I, by convention, label that with an exclamation point. And over here, you see there&apos;s an action, which is to inform"><code onclick="Z(this)">0:11:41</code>I, by convention, label that with an exclamation point. And over here, you see there's an action, which is to inform</span><span s="710" t="the wire, called A1 locally in this and-gate, to call the and-action procedure when it gets changed, and the wire A2"><code onclick="Z(this)">0:11:50</code>the wire, called A1 locally in this and-gate, to call the and-action procedure when it gets changed, and the wire A2</span><span s="720" t="to call the and-action procedure when it gets changed. All very simple."><code onclick="Z(this)">0:12:00</code>to call the and-action procedure when it gets changed. All very simple.</span><span s="729" t="Well, let&apos;s talk a little bit about this communication that must occur between these various parts."><code onclick="Z(this)">0:12:09</code>Well, let's talk a little bit about this communication that must occur between these various parts.</span><span s="738" t="Suppose, for example, I have a very simple circuit which contains an and with wires A and B. And that connects"><code onclick="Z(this)">0:12:18</code>Suppose, for example, I have a very simple circuit which contains an and with wires A and B. And that connects</span><span s="754" t="through a wire called C to an inverter which has a wire output called D. What are the comput...--here&apos;s"><code onclick="Z(this)">0:12:34</code>through a wire called C to an inverter which has a wire output called D. What are the comput...--here's</span><span s="766" t="the physical world. It&apos;s an abstraction of the physical world. Now I can buy these out of little pieces that you get at Radio Shack for a few cents. And there are boxes that act like this, which have little"><code onclick="Z(this)">0:12:46</code>the physical world. It's an abstraction of the physical world. Now I can buy these out of little pieces that you get at Radio Shack for a few cents. And there are boxes that act like this, which have little</span><span s="777" t="numbers on them like LS04 or something. Now supposing I were to try to say what&apos;s the"><code onclick="Z(this)">0:12:57</code>numbers on them like LS04 or something. Now supposing I were to try to say what's the</span><span s="786" t="computational model. What is the thing that corresponds to that, that part of reality in the mind of us and in the computer?"><code onclick="Z(this)">0:13:06</code>computational model. What is the thing that corresponds to that, that part of reality in the mind of us and in the computer?</span><span s="795" t="Well, I have to assign for every object in the world an object in the computer, and for every relationship in the world between them a relationship in the computer."><code onclick="Z(this)">0:13:15</code>Well, I have to assign for every object in the world an object in the computer, and for every relationship in the world between them a relationship in the computer.</span><span s="805" t="That&apos;s my goal. So let&apos;s do that. Well, I have some sort of thing called the signal, A."><code onclick="Z(this)">0:13:25</code>That's my goal. So let's do that. Well, I have some sort of thing called the signal, A.</span><span s="815" t="This is A. It&apos;s a signal. It&apos;s a cloudy thing like that. And I have another one down here which I&apos;m going to call B. It&apos;s another signal."><code onclick="Z(this)">0:13:35</code>This is A. It's a signal. It's a cloudy thing like that. And I have another one down here which I'm going to call B. It's another signal.</span><span s="829" t="Now this signal--these two signals are somehow going to have to hook together into a box, let&apos;s call it this, which is the and-gate, action procedure."><code onclick="Z(this)">0:13:49</code>Now this signal--these two signals are somehow going to have to hook together into a box, let's call it this, which is the and-gate, action procedure.</span><span s="840" t="That&apos;s the and-gate&apos;s action procedure. And it&apos;s going to produce--well, it&apos;s going to"><code onclick="Z(this)">0:14:00</code>That's the and-gate's action procedure. And it's going to produce--well, it's going to</span><span s="849" t="interact with a signal object, which we call C--a wire"><code onclick="Z(this)">0:14:09</code>interact with a signal object, which we call C--a wire</span><span s="858" t="object, excuse me, we call C. And then the-- this is going to put out again, or connect to, another action procedure which is one associated with the inverter"><code onclick="Z(this)">0:14:18</code>object, excuse me, we call C. And then the-- this is going to put out again, or connect to, another action procedure which is one associated with the inverter</span><span s="868" t="in the world, not. And I&apos;m going to have another--another wire, which"><code onclick="Z(this)">0:14:28</code>in the world, not. And I'm going to have another--another wire, which</span><span s="879" t="we&apos;ll call D. So here&apos;s my layout of stuff. Now we have to say what&apos;s inside them and what they have to know to compute."><code onclick="Z(this)">0:14:39</code>we'll call D. So here's my layout of stuff. Now we have to say what's inside them and what they have to know to compute.</span><span s="891" t="Well, every--every one of these wires has to know what the value of the signal that&apos;s on that wire is. So there&apos;s going to be some variable inside here, we&apos;ll call it signal."><code onclick="Z(this)">0:14:51</code>Well, every--every one of these wires has to know what the value of the signal that's on that wire is. So there's going to be some variable inside here, we'll call it signal.</span><span s="902" t="And he owns a value. So there must be some environment associated with this. And for each one of these, there must be an environment that binds signal."><code onclick="Z(this)">0:15:02</code>And he owns a value. So there must be some environment associated with this. And for each one of these, there must be an environment that binds signal.</span><span s="915" t="And there must be a signal here, therefore. And presumably, signal&apos;s a value that&apos;s either 1 or 0, and signal."><code onclick="Z(this)">0:15:15</code>And there must be a signal here, therefore. And presumably, signal's a value that's either 1 or 0, and signal.</span><span s="928" t="Now, we also have to have some list of people to inform if the signal here changes. We&apos;re going to have to inform this."><code onclick="Z(this)">0:15:28</code>Now, we also have to have some list of people to inform if the signal here changes. We're going to have to inform this.</span><span s="939" t="So I&apos;ve got that list. We&apos;ll call it the Action Procedures, AP. And it&apos;s presumably a list. But the first thing on the list, in this case, is this guy."><code onclick="Z(this)">0:15:39</code>So I've got that list. We'll call it the Action Procedures, AP. And it's presumably a list. But the first thing on the list, in this case, is this guy.</span><span s="950" t="And the action procedures of this one happens to have some list of stuff. There might be other people who are sharing A, who are looking at it."><code onclick="Z(this)">0:15:50</code>And the action procedures of this one happens to have some list of stuff. There might be other people who are sharing A, who are looking at it.</span><span s="959" t="So there might be other guys on this list, like somebody over there that we don&apos;t know about. It&apos;s the other guy attached to A. And the action procedure here also has to point to that, the"><code onclick="Z(this)">0:15:59</code>So there might be other guys on this list, like somebody over there that we don't know about. It's the other guy attached to A. And the action procedure here also has to point to that, the</span><span s="971" t="list of action procedures. And of course, that means this one, its action procedures has to point up to here. This is the things-- the people it has to inform."><code onclick="Z(this)">0:16:11</code>list of action procedures. And of course, that means this one, its action procedures has to point up to here. This is the things-- the people it has to inform.</span><span s="981" t="And this guy has some too. But I don&apos;t know what they are because I didn&apos;t draw it in my diagram. It&apos;s the things connected to D."><code onclick="Z(this)">0:16:21</code>And this guy has some too. But I don't know what they are because I didn't draw it in my diagram. It's the things connected to D.</span><span s="990" t="Now, it&apos;s also the case that when the and-action procedure is awakened, saying one of the people who know that you&apos;ve"><code onclick="Z(this)">0:16:30</code>Now, it's also the case that when the and-action procedure is awakened, saying one of the people who know that you've</span><span s="1001" t="told--one of the people you&apos;ve told to wake you up if their signal changes, you have to go look and ask them what&apos;s their signal so you can do the and, and produce a"><code onclick="Z(this)">0:16:41</code>told--one of the people you've told to wake you up if their signal changes, you have to go look and ask them what's their signal so you can do the and, and produce a</span><span s="1011" t="signal for this one. So there has to be, for example, information here saying A1, my A1 is this guy, and my A2 is this guy."><code onclick="Z(this)">0:16:51</code>signal for this one. So there has to be, for example, information here saying A1, my A1 is this guy, and my A2 is this guy.</span><span s="1028" t="And not only that, when I do my and, I&apos;m going to have to tell this guy something. So I need an output--"><code onclick="Z(this)">0:17:08</code>And not only that, when I do my and, I'm going to have to tell this guy something. So I need an output--</span><span s="1039" t="being this guy. And similarly, this guy&apos;s going to have a thing called"><code onclick="Z(this)">0:17:19</code>being this guy. And similarly, this guy's going to have a thing called</span><span s="1049" t="the input that he interrogates to find out what the value of the signal on the input is, when the signal wakes up and"><code onclick="Z(this)">0:17:29</code>the input that he interrogates to find out what the value of the signal on the input is, when the signal wakes up and</span><span s="1059" t="says, I&apos;ve changed, and sends a message this way saying, I&apos;ve changed. This guy says, OK, what&apos;s your value now? When he gets that value, then he&apos;s going to have to say, OK,"><code onclick="Z(this)">0:17:39</code>says, I've changed, and sends a message this way saying, I've changed. This guy says, OK, what's your value now? When he gets that value, then he's going to have to say, OK,</span><span s="1070" t="output changes this guy, changes this guy."><code onclick="Z(this)">0:17:50</code>output changes this guy, changes this guy.</span><span s="1080" t="And so on. And so I have to have at least that much connected-ness. Now, let&apos;s go back and look, for example, at the and-gate."><code onclick="Z(this)">0:18:00</code>And so on. And so I have to have at least that much connected-ness. Now, let's go back and look, for example, at the and-gate.</span><span s="1090" t="Here we are back on this slide. And we can see some of these parts. For any particular and-gate, there is an A1, there is an A2, and the output."><code onclick="Z(this)">0:18:10</code>Here we are back on this slide. And we can see some of these parts. For any particular and-gate, there is an A1, there is an A2, and the output.</span><span s="1101" t="And those are, those are an environment that was created at the--those produce a frame at the time and-gate was"><code onclick="Z(this)">0:18:21</code>And those are, those are an environment that was created at the--those produce a frame at the time and-gate was</span><span s="1110" t="called, a frame where A1, A2, and output are--have as their values, they&apos;re bound to the wires which, they are--which"><code onclick="Z(this)">0:18:30</code>called, a frame where A1, A2, and output are--have as their values, they're bound to the wires which, they are--which</span><span s="1121" t="were passed in. In that environment, I constructed a procedure--"><code onclick="Z(this)">0:18:41</code>were passed in. In that environment, I constructed a procedure--</span><span s="1130" t="this one right there. And-action procedure was constructed in that environment. That was the result of evaluating a lambda"><code onclick="Z(this)">0:18:50</code>this one right there. And-action procedure was constructed in that environment. That was the result of evaluating a lambda</span><span s="1140" t="expression. So it hangs onto the frame where these were defined. Local--part of its local state is that."><code onclick="Z(this)">0:19:00</code>expression. So it hangs onto the frame where these were defined. Local--part of its local state is that.</span><span s="1151" t="The and-action procedure, therefore, has access to A1, A2, and output as we see here. A1, A2, and output."><code onclick="Z(this)">0:19:11</code>The and-action procedure, therefore, has access to A1, A2, and output as we see here. A1, A2, and output.</span><span s="1162" t="Now, we haven&apos;t looked inside of a wire yet. That&apos;s all that remains. Let&apos;s look at a wire."><code onclick="Z(this)">0:19:22</code>Now, we haven't looked inside of a wire yet. That's all that remains. Let's look at a wire.</span><span s="1173" t="Like the overhead, very good. Well, the wire, again, is a, is a somewhat complicated mess."><code onclick="Z(this)">0:19:33</code>Like the overhead, very good. Well, the wire, again, is a, is a somewhat complicated mess.</span><span s="1183" t="Ooh, wrong one. It&apos;s a big complicated mess, like that. But let&apos;s look at it in detail and see what&apos;s going on."><code onclick="Z(this)">0:19:43</code>Ooh, wrong one. It's a big complicated mess, like that. But let's look at it in detail and see what's going on.</span><span s="1194" t="Well, the wire is one of these. And it has to have two things that are part of it, that it&apos;s state."><code onclick="Z(this)">0:19:54</code>Well, the wire is one of these. And it has to have two things that are part of it, that it's state.</span><span s="1205" t="One of them is the signal we see here. In other words, when we call make-wire to make a wire, then the first thing we do is we create some variables which"><code onclick="Z(this)">0:20:05</code>One of them is the signal we see here. In other words, when we call make-wire to make a wire, then the first thing we do is we create some variables which</span><span s="1215" t="are the signal and the action procedures for this wire. And in that context, we define various functions--or"><code onclick="Z(this)">0:20:15</code>are the signal and the action procedures for this wire. And in that context, we define various functions--or</span><span s="1226" t="procedures, excuse me, procedures. One of them is called set-my-signal to a new value. And what that does is takes a new value in."><code onclick="Z(this)">0:20:26</code>procedures, excuse me, procedures. One of them is called set-my-signal to a new value. And what that does is takes a new value in.</span><span s="1237" t="If that&apos;s equal to my current value of my signal, I&apos;m done. Otherwise, I set the signal to the new value and call each of the action procedures that I&apos;ve been, that I&apos;ve"><code onclick="Z(this)">0:20:37</code>If that's equal to my current value of my signal, I'm done. Otherwise, I set the signal to the new value and call each of the action procedures that I've been, that I've</span><span s="1247" t="been--what&apos;s the right word?-- introduced to. I get introduced when the and-gate was applied to me."><code onclick="Z(this)">0:20:47</code>been--what's the right word?-- introduced to. I get introduced when the and-gate was applied to me.</span><span s="1264" t="I add action procedure at the bottom. Also, I have to define a way of accepting an action procedure-- which is what you see here--- which increments my action procedures using set to the"><code onclick="Z(this)">0:21:04</code>I add action procedure at the bottom. Also, I have to define a way of accepting an action procedure-- which is what you see here--- which increments my action procedures using set to the</span><span s="1278" t="result of CONSing up a new process--a procedure, which is passed to me, on to my actions procedures list. And for technical reasons, I have to call that procedure one."><code onclick="Z(this)">0:21:18</code>result of CONSing up a new process--a procedure, which is passed to me, on to my actions procedures list. And for technical reasons, I have to call that procedure one.</span><span s="1287" t="So I&apos;m not going to tell you anything about that, that has to do with event-driven simulations and getting them started, which takes a little bit of thinking."><code onclick="Z(this)">0:21:27</code>So I'm not going to tell you anything about that, that has to do with event-driven simulations and getting them started, which takes a little bit of thinking.</span><span s="1296" t="And finally, I&apos;m going to define a thing called the dispatcher, which is a way of passing a message to a wire,"><code onclick="Z(this)">0:21:36</code>And finally, I'm going to define a thing called the dispatcher, which is a way of passing a message to a wire,</span><span s="1305" t="which is going to be used to extract from it various information, like what is the current signal value? What is the method of setting your signal?"><code onclick="Z(this)">0:21:45</code>which is going to be used to extract from it various information, like what is the current signal value? What is the method of setting your signal?</span><span s="1317" t="I want to get that out of it. How do I--how do I add another action procedure? And I&apos;m going to return that dispatch, that"><code onclick="Z(this)">0:21:57</code>I want to get that out of it. How do I--how do I add another action procedure? And I'm going to return that dispatch, that</span><span s="1328" t="procedure as a value. So the wire that I&apos;ve constructed is a message accepting object which accepts a message like, like what&apos;s your method of adding action procedures?"><code onclick="Z(this)">0:22:08</code>procedure as a value. So the wire that I've constructed is a message accepting object which accepts a message like, like what's your method of adding action procedures?</span><span s="1339" t="In fact, it&apos;ll give me a procedure, which is the add action procedure, which I can then apply to an action procedure to create another action procedure in the wire."><code onclick="Z(this)">0:22:19</code>In fact, it'll give me a procedure, which is the add action procedure, which I can then apply to an action procedure to create another action procedure in the wire.</span><span s="1351" t="So that&apos;s a permission. So it&apos;s given me permission to change your action procedures. And in fact, you can see that over here."><code onclick="Z(this)">0:22:31</code>So that's a permission. So it's given me permission to change your action procedures. And in fact, you can see that over here.</span><span s="1361" t="Next slide. Ah. This is nothing very interesting. The call each of the action procedures is just a CDRing"><code onclick="Z(this)">0:22:41</code>Next slide. Ah. This is nothing very interesting. The call each of the action procedures is just a CDRing</span><span s="1372" t="down a list. And I&apos;m not going to even talk about that anymore. We&apos;re too advanced for that. However, if I want to get a signal from a wire, I ask the wire--"><code onclick="Z(this)">0:22:52</code>down a list. And I'm not going to even talk about that anymore. We're too advanced for that. However, if I want to get a signal from a wire, I ask the wire--</span><span s="1382" t="which is, what is the wire? The wire is the dispatch returned by creating the wire. It&apos;s a procedure. I call that dispatch on the message get-signal."><code onclick="Z(this)">0:23:02</code>which is, what is the wire? The wire is the dispatch returned by creating the wire. It's a procedure. I call that dispatch on the message get-signal.</span><span s="1392" t="And what I should expect to get is a method of getting a signal. Or actually, I get the signal. If I want to set a signal, I want to change a signal, then"><code onclick="Z(this)">0:23:12</code>And what I should expect to get is a method of getting a signal. Or actually, I get the signal. If I want to set a signal, I want to change a signal, then</span><span s="1405" t="what I&apos;m going to do is take a wire as an argument and a new value for the signal, I&apos;m going to ask the wire for permission to set its signal and use that permission, which"><code onclick="Z(this)">0:23:25</code>what I'm going to do is take a wire as an argument and a new value for the signal, I'm going to ask the wire for permission to set its signal and use that permission, which</span><span s="1415" t="is a procedure, on the new value. And if we go back to the overhead here, thank you, if"><code onclick="Z(this)">0:23:35</code>is a procedure, on the new value. And if we go back to the overhead here, thank you, if</span><span s="1424" t="we go back to the overhead here, we see that the method-- if I ask for the method of setting the signal, that&apos;s over here, it&apos;s set-my-signal, a procedure that&apos;s defined"><code onclick="Z(this)">0:23:44</code>we go back to the overhead here, we see that the method-- if I ask for the method of setting the signal, that's over here, it's set-my-signal, a procedure that's defined</span><span s="1434" t="inside the wire, which if we look over here is the thing that says set my internal value called the signal, my internal variable, which is the signal, to the new value,"><code onclick="Z(this)">0:23:54</code>inside the wire, which if we look over here is the thing that says set my internal value called the signal, my internal variable, which is the signal, to the new value,</span><span s="1448" t="which is passed to me as an argument, and then call each of the action procedures waking them up. Very simple."><code onclick="Z(this)">0:24:08</code>which is passed to me as an argument, and then call each of the action procedures waking them up. Very simple.</span><span s="1459" t="Going back to that slide, we also have the one last thing-- which I suppose now you can easily work out for yourself-- is the way you add an action."><code onclick="Z(this)">0:24:19</code>Going back to that slide, we also have the one last thing-- which I suppose now you can easily work out for yourself-- is the way you add an action.</span><span s="1470" t="You take a wire--a wire and an action procedure. And I ask the wire for permission to add an action."><code onclick="Z(this)">0:24:30</code>You take a wire--a wire and an action procedure. And I ask the wire for permission to add an action.</span><span s="1480" t="Getting that permission, I use that permission to give it an action procedure. So that&apos;s a real object. There&apos;s a few more details about this."><code onclick="Z(this)">0:24:40</code>Getting that permission, I use that permission to give it an action procedure. So that's a real object. There's a few more details about this.</span><span s="1492" t="For example, how am I going to control this thing? How do I do these delays?"><code onclick="Z(this)">0:24:52</code>For example, how am I going to control this thing? How do I do these delays?</span><span s="1501" t="Let&apos;s look at that for a second. The next one here. Let&apos;s see. We know when we looked at the and-gate or the not-gate that"><code onclick="Z(this)">0:25:01</code>Let's look at that for a second. The next one here. Let's see. We know when we looked at the and-gate or the not-gate that</span><span s="1515" t="when a signal changed on the input, there was a delay. And then it was going to call the procedure, which was going to change the output."><code onclick="Z(this)">0:25:15</code>when a signal changed on the input, there was a delay. And then it was going to call the procedure, which was going to change the output.</span><span s="1526" t="Well, how are we going to do this? We&apos;re going to make up some mechanism, a fairly complicated mechanism at that, which we&apos;re going to have to be very careful about. But after a delay, we&apos;re going to do an action."><code onclick="Z(this)">0:25:26</code>Well, how are we going to do this? We're going to make up some mechanism, a fairly complicated mechanism at that, which we're going to have to be very careful about. But after a delay, we're going to do an action.</span><span s="1537" t="A delay is a number, and an action is a procedure. What that&apos;s going to be is they&apos;re going to have a special structure called an agenda, which is a thing that"><code onclick="Z(this)">0:25:37</code>A delay is a number, and an action is a procedure. What that's going to be is they're going to have a special structure called an agenda, which is a thing that</span><span s="1547" t="organizes time and actions. And we&apos;re going to see that in a while. I don&apos;t want to get into that right now. But the agenda has a moment at which--at which something happens."><code onclick="Z(this)">0:25:47</code>organizes time and actions. And we're going to see that in a while. I don't want to get into that right now. But the agenda has a moment at which--at which something happens.</span><span s="1559" t="We&apos;re setting up for later at some moment, which is the sum of the time, which is the delay time plus the current time, which the agenda thinks is now."><code onclick="Z(this)">0:25:59</code>We're setting up for later at some moment, which is the sum of the time, which is the delay time plus the current time, which the agenda thinks is now.</span><span s="1568" t="We&apos;re going to set up to do this action, and add that to the agenda. And the way this machine will now run is very simple."><code onclick="Z(this)">0:26:08</code>We're going to set up to do this action, and add that to the agenda. And the way this machine will now run is very simple.</span><span s="1578" t="We have a thing called propagate, which is the way things run. If the agenda is empty, we&apos;re done--if there&apos;s nothing more to be done."><code onclick="Z(this)">0:26:18</code>We have a thing called propagate, which is the way things run. If the agenda is empty, we're done--if there's nothing more to be done.</span><span s="1587" t="Otherwise, we&apos;re going to take the first item off the agenda, and that&apos;s a procedure of no arguments. So that we&apos;re going to see extra parentheses here."><code onclick="Z(this)">0:26:27</code>Otherwise, we're going to take the first item off the agenda, and that's a procedure of no arguments. So that we're going to see extra parentheses here.</span><span s="1596" t="We call that on no arguments. That takes the action. Then we remove that first item from the agenda, and we go"><code onclick="Z(this)">0:26:36</code>We call that on no arguments. That takes the action. Then we remove that first item from the agenda, and we go</span><span s="1605" t="around the propagation loop. So that&apos;s the overall structure of this thing. Now, there&apos;s a, a few other things we can look at."><code onclick="Z(this)">0:26:45</code>around the propagation loop. So that's the overall structure of this thing. Now, there's a, a few other things we can look at.</span><span s="1617" t="And then we&apos;re going to look into the agenda a little while from now. Now the overhead again. Well, in order to set this thing going, I just want to show you some behavior out of this simulator."><code onclick="Z(this)">0:26:57</code>And then we're going to look into the agenda a little while from now. Now the overhead again. Well, in order to set this thing going, I just want to show you some behavior out of this simulator.</span><span s="1627" t="By the way, you may think this simulator is very simple, and probably too simple to be useful. The fact of the matter is that this simulator has been used to manufacture a fairly large computer."><code onclick="Z(this)">0:27:07</code>By the way, you may think this simulator is very simple, and probably too simple to be useful. The fact of the matter is that this simulator has been used to manufacture a fairly large computer.</span><span s="1638" t="So this is a real live example. Actually, not exactly this simulator, because I&apos;ll tell you the difference. The difference is that there were many more different kinds"><code onclick="Z(this)">0:27:18</code>So this is a real live example. Actually, not exactly this simulator, because I'll tell you the difference. The difference is that there were many more different kinds</span><span s="1648" t="of primitives. There&apos;s not just the word inverter or and-gate. There were things like edge-triggered, flip-flops,"><code onclick="Z(this)">0:27:28</code>of primitives. There's not just the word inverter or and-gate. There were things like edge-triggered, flip-flops,</span><span s="1657" t="and latches, transparent latches, and adders, and things like that. And the difficulty with that is that there&apos;s pages and"><code onclick="Z(this)">0:27:37</code>and latches, transparent latches, and adders, and things like that. And the difficulty with that is that there's pages and</span><span s="1668" t="pages of the definitions of all these primitives with numbers like LS04. And then there&apos;s many more parameters for them. It&apos;s not just one delay."><code onclick="Z(this)">0:27:48</code>pages of the definitions of all these primitives with numbers like LS04. And then there's many more parameters for them. It's not just one delay.</span><span s="1678" t="There&apos;s things like set up times and hold times and all that. But with the exception of that part of the complexity, the structure of the simulator that we use for building a"><code onclick="Z(this)">0:27:58</code>There's things like set up times and hold times and all that. But with the exception of that part of the complexity, the structure of the simulator that we use for building a</span><span s="1687" t="real computer, that works is exactly what you&apos;re seeing here. Well in any case, what we have here is a few simple things."><code onclick="Z(this)">0:28:07</code>real computer, that works is exactly what you're seeing here. Well in any case, what we have here is a few simple things.</span><span s="1699" t="Like, there&apos;s inverter delays being set up and making a new agenda. And then we can make some inputs. There&apos;s input-1, input-2, a sum and a"><code onclick="Z(this)">0:28:19</code>Like, there's inverter delays being set up and making a new agenda. And then we can make some inputs. There's input-1, input-2, a sum and a</span><span s="1708" t="carry, which are wires. I&apos;m going to put a special kind of object called a probe onto, onto some of the wires, onto sum and onto carry."><code onclick="Z(this)">0:28:28</code>carry, which are wires. I'm going to put a special kind of object called a probe onto, onto some of the wires, onto sum and onto carry.</span><span s="1717" t="A probe is a, can object that has the property that when you change a wire it&apos;s attached to, it types out a message."><code onclick="Z(this)">0:28:37</code>A probe is a, can object that has the property that when you change a wire it's attached to, it types out a message.</span><span s="1726" t="It&apos;s an easy thing to do. And then once we have that, of course, the way you put the probe on, the first thing it does, it says, the current value of the sum at time 0 is 0 because I just noticed it."><code onclick="Z(this)">0:28:46</code>It's an easy thing to do. And then once we have that, of course, the way you put the probe on, the first thing it does, it says, the current value of the sum at time 0 is 0 because I just noticed it.</span><span s="1739" t="And the value of the carry at time 0, this is the time, is 0. And then we go off and we build some structure."><code onclick="Z(this)">0:28:59</code>And the value of the carry at time 0, this is the time, is 0. And then we go off and we build some structure.</span><span s="1749" t="Like, we can build a structure here that says you have a half-adder on input-1, input-2, sum, and carry."><code onclick="Z(this)">0:29:09</code>Like, we can build a structure here that says you have a half-adder on input-1, input-2, sum, and carry.</span><span s="1758" t="And we&apos;re going to set the signal on input-1 to 1. We do some propagation. At time 8, which you could see going through this thing if you wanted to, the new value of sum became 1."><code onclick="Z(this)">0:29:18</code>And we're going to set the signal on input-1 to 1. We do some propagation. At time 8, which you could see going through this thing if you wanted to, the new value of sum became 1.</span><span s="1769" t="And the thing says I&apos;m done. That wasn&apos;t very interesting. But we can send it some more signals. Like, we set-signal on input-2 to be one. And at that time if we propagate, then it carried at"><code onclick="Z(this)">0:29:29</code>And the thing says I'm done. That wasn't very interesting. But we can send it some more signals. Like, we set-signal on input-2 to be one. And at that time if we propagate, then it carried at</span><span s="1779" t="11, the carry becomes 1, and at 16, the sum&apos;s new value becomes 0. And you might want to work out that, if you like, about the"><code onclick="Z(this)">0:29:39</code>11, the carry becomes 1, and at 16, the sum's new value becomes 0. And you might want to work out that, if you like, about the</span><span s="1788" t="digital circuitry. It&apos;s true, and it works. And it&apos;s not very interesting. But that&apos;s the kind of behavior we get out of this thing."><code onclick="Z(this)">0:29:48</code>digital circuitry. It's true, and it works. And it's not very interesting. But that's the kind of behavior we get out of this thing.</span><span s="1801" t="So what I&apos;ve shown you right now is a large-scale picture, how you, at a bigger, big scale, you implement an"><code onclick="Z(this)">0:30:01</code>So what I've shown you right now is a large-scale picture, how you, at a bigger, big scale, you implement an</span><span s="1810" t="event-driven simulation of some sort. And how you might organize it to have nice hierarchical structure allowing you to build abstract boxes that you"><code onclick="Z(this)">0:30:10</code>event-driven simulation of some sort. And how you might organize it to have nice hierarchical structure allowing you to build abstract boxes that you</span><span s="1820" t="can instantiate. But I haven&apos;t told you any of the details about how this agenda and things like that work. That we&apos;ll do next. And that&apos;s going to involve change and mutation of data"><code onclick="Z(this)">0:30:20</code>can instantiate. But I haven't told you any of the details about how this agenda and things like that work. That we'll do next. And that's going to involve change and mutation of data</span><span s="1832" t="and things like that. Are there any questions now, before I go on?"><code onclick="Z(this)">0:30:32</code>and things like that. Are there any questions now, before I go on?</span><span s="1847" t="Thank you. Let&apos;s take a break."><code onclick="Z(this)">0:30:47</code>Thank you. Let's take a break.</span><span s="1888" t="Well, we&apos;ve been making a simulation. And the simulation is an event-driven simulation where"><code onclick="Z(this)">0:31:28</code>Well, we've been making a simulation. And the simulation is an event-driven simulation where</span><span s="1899" t="the objects in the world are the objects in the computer. And the changes of state that are happening in the world in time are organized to be time in the computer, so that if"><code onclick="Z(this)">0:31:39</code>the objects in the world are the objects in the computer. And the changes of state that are happening in the world in time are organized to be time in the computer, so that if</span><span s="1913" t="something happens after something else in the world, then we have it happen after, after the corresponding events happen in the same order in the computer."><code onclick="Z(this)">0:31:53</code>something happens after something else in the world, then we have it happen after, after the corresponding events happen in the same order in the computer.</span><span s="1924" t="That&apos;s where we have assignments, when we make that alignment. Right now I want to show you a way of organizing time, which is an agenda or priority queue, it&apos;s sometimes called."><code onclick="Z(this)">0:32:04</code>That's where we have assignments, when we make that alignment. Right now I want to show you a way of organizing time, which is an agenda or priority queue, it's sometimes called.</span><span s="1936" t="We&apos;ll do some--we&apos;ll do a little bit of just understanding what are the things we need to be able to do to make agendas."><code onclick="Z(this)">0:32:16</code>We'll do some--we'll do a little bit of just understanding what are the things we need to be able to do to make agendas.</span><span s="1948" t="And so we&apos;re going to have--and so right now over here, I&apos;m going to write down a bunch of primitive operations for manipulating agendas. I&apos;m not going to show you the code for them because they&apos;re"><code onclick="Z(this)">0:32:28</code>And so we're going to have--and so right now over here, I'm going to write down a bunch of primitive operations for manipulating agendas. I'm not going to show you the code for them because they're</span><span s="1958" t="all very simple, and you&apos;ve got listings of all that anyway. So what do we have? We have things like make-agenda which produces a"><code onclick="Z(this)">0:32:38</code>all very simple, and you've got listings of all that anyway. So what do we have? We have things like make-agenda which produces a</span><span s="1972" t="new agenda. We can ask--we get the current-time of an agenda,"><code onclick="Z(this)">0:32:52</code>new agenda. We can ask--we get the current-time of an agenda,</span><span s="1990" t="which gives me a number, a time. We can get--we can ask whether an agenda is empty,"><code onclick="Z(this)">0:33:10</code>which gives me a number, a time. We can get--we can ask whether an agenda is empty,</span><span s="2000" t="empty-agenda."><code onclick="Z(this)">0:33:20</code>empty-agenda.</span><span s="2010" t="And that produces either a true or a false."><code onclick="Z(this)">0:33:30</code>And that produces either a true or a false.</span><span s="2022" t="We can add an object to an agenda."><code onclick="Z(this)">0:33:42</code>We can add an object to an agenda.</span><span s="2032" t="Actually, what we add to an agenda is an operation--an action to be done. And that takes a time, the action itself, and the agenda"><code onclick="Z(this)">0:33:52</code>Actually, what we add to an agenda is an operation--an action to be done. And that takes a time, the action itself, and the agenda</span><span s="2043" t="I want to add it to. That inserts it in the appropriate place in the agenda. I can get the first item off an agenda, the first thing I"><code onclick="Z(this)">0:34:03</code>I want to add it to. That inserts it in the appropriate place in the agenda. I can get the first item off an agenda, the first thing I</span><span s="2054" t="have to do, which is going to give me an action."><code onclick="Z(this)">0:34:14</code>have to do, which is going to give me an action.</span><span s="2066" t="And I can remove the first item from an agenda. That&apos;s what I have to be able to do with agendas. That is a big complicated mess."><code onclick="Z(this)">0:34:26</code>And I can remove the first item from an agenda. That's what I have to be able to do with agendas. That is a big complicated mess.</span><span s="2082" t="From an agenda. Well, let&apos;s see how we can organize this thing as a data structure a bit."><code onclick="Z(this)">0:34:42</code>From an agenda. Well, let's see how we can organize this thing as a data structure a bit.</span><span s="2092" t="Well, an agenda is going to be some kind of list. And it&apos;s going to be a list that I&apos;m going to have to be able to modify."><code onclick="Z(this)">0:34:52</code>Well, an agenda is going to be some kind of list. And it's going to be a list that I'm going to have to be able to modify.</span><span s="2101" t="So we have to talk about modifying of lists, because I&apos;m going to add things to it, and delete things from it, and things like that."><code onclick="Z(this)">0:35:01</code>So we have to talk about modifying of lists, because I'm going to add things to it, and delete things from it, and things like that.</span><span s="2111" t="It&apos;s organized by time. It&apos;s probably good to keep it in sorted order. But sometimes there are lots of things that happen at the"><code onclick="Z(this)">0:35:11</code>It's organized by time. It's probably good to keep it in sorted order. But sometimes there are lots of things that happen at the</span><span s="2122" t="same time--approximate same time. What I have to do is say, group things by the time at which they&apos;re supposed to happen. So I&apos;m going to make an agenda as a list of segments."><code onclick="Z(this)">0:35:22</code>same time--approximate same time. What I have to do is say, group things by the time at which they're supposed to happen. So I'm going to make an agenda as a list of segments.</span><span s="2132" t="And so I&apos;m going to draw you a data structure for an agenda, a perfectly reasonable one. Here&apos;s an agenda."><code onclick="Z(this)">0:35:32</code>And so I'm going to draw you a data structure for an agenda, a perfectly reasonable one. Here's an agenda.</span><span s="2141" t="It&apos;s a thing that begins with a name. I&apos;m going to do it right now out of list structure."><code onclick="Z(this)">0:35:41</code>It's a thing that begins with a name. I'm going to do it right now out of list structure.</span><span s="2152" t="It&apos;s got a header. There&apos;s a reason for the header. We&apos;re going to see the reason soon. And it will have a segment."><code onclick="Z(this)">0:35:52</code>It's got a header. There's a reason for the header. We're going to see the reason soon. And it will have a segment.</span><span s="2163" t="It will have--it will be a list of segments. Supposing this agenda has two segments, they&apos;re the car&apos;s--"><code onclick="Z(this)">0:36:03</code>It will have--it will be a list of segments. Supposing this agenda has two segments, they're the car's--</span><span s="2173" t="successive car&apos;s of this list. Each segment is going to have a time--"><code onclick="Z(this)">0:36:13</code>successive car's of this list. Each segment is going to have a time--</span><span s="2184" t="say for example, 10-- that says that the things that happen in this segment are at time 10."><code onclick="Z(this)">0:36:24</code>say for example, 10-- that says that the things that happen in this segment are at time 10.</span><span s="2193" t="And what I&apos;m going to have in here is another data structure which I&apos;m not going to describe, which is a queue of things to do at time 10."><code onclick="Z(this)">0:36:33</code>And what I'm going to have in here is another data structure which I'm not going to describe, which is a queue of things to do at time 10.</span><span s="2202" t="It&apos;s a queue. And we&apos;ll talk about that in a second. But abstractly, the queue is just a list of things to do at a particular time. And I can add things to a queue."><code onclick="Z(this)">0:36:42</code>It's a queue. And we'll talk about that in a second. But abstractly, the queue is just a list of things to do at a particular time. And I can add things to a queue.</span><span s="2213" t="This is a queue. There&apos;s a time, there&apos;s a segment."><code onclick="Z(this)">0:36:53</code>This is a queue. There's a time, there's a segment.</span><span s="2222" t="Now, I may have another segment in this agenda. Supposing this is stuff that happens at time 30."><code onclick="Z(this)">0:37:02</code>Now, I may have another segment in this agenda. Supposing this is stuff that happens at time 30.</span><span s="2233" t="It has, of course, another queue of things that are queued up to be done at time 30."><code onclick="Z(this)">0:37:13</code>It has, of course, another queue of things that are queued up to be done at time 30.</span><span s="2243" t="Well, there are various things I have to be able to do to an agenda. Supposing I want to add to an agenda another thing to be done at time 10."><code onclick="Z(this)">0:37:23</code>Well, there are various things I have to be able to do to an agenda. Supposing I want to add to an agenda another thing to be done at time 10.</span><span s="2253" t="Well, that&apos;s not very hard. I&apos;m going to walk down here, looking for the segment of time 10. It is possible that there is no segment of time 10."><code onclick="Z(this)">0:37:33</code>Well, that's not very hard. I'm going to walk down here, looking for the segment of time 10. It is possible that there is no segment of time 10.</span><span s="2262" t="We&apos;ll cover that case in a second. But if I find a segment of time 10, then if I want to add another thing to be done at time 10, I just"><code onclick="Z(this)">0:37:42</code>We'll cover that case in a second. But if I find a segment of time 10, then if I want to add another thing to be done at time 10, I just</span><span s="2271" t="increase that queue-- &quot;just increase&quot; isn&apos;t such an obvious idea. But I increase the things to be done at that time."><code onclick="Z(this)">0:37:51</code>increase that queue-- "just increase" isn't such an obvious idea. But I increase the things to be done at that time.</span><span s="2281" t="Now, supposing I want to add something to be done at time 20. There is no segment for time 20. I&apos;m going to have to create a new segment."><code onclick="Z(this)">0:38:01</code>Now, supposing I want to add something to be done at time 20. There is no segment for time 20. I'm going to have to create a new segment.</span><span s="2291" t="I want my time 20 segment to exist between time 10 and time 30. Well, that takes a little work."><code onclick="Z(this)">0:38:11</code>I want my time 20 segment to exist between time 10 and time 30. Well, that takes a little work.</span><span s="2300" t="I&apos;m going to have to do a CONS. I&apos;m going to have to make a new element of the agenda list--list of segments."><code onclick="Z(this)">0:38:20</code>I'm going to have to do a CONS. I'm going to have to make a new element of the agenda list--list of segments.</span><span s="2313" t="I&apos;m going to have to change. Here&apos;s change. I&apos;m going to have to change the CDR of the CDR of the"><code onclick="Z(this)">0:38:33</code>I'm going to have to change. Here's change. I'm going to have to change the CDR of the CDR of the</span><span s="2322" t="agenda to point that a new CONS of the new segment and the CDR of the CDR of the CDR of the agenda, the CD-D-D-DR."><code onclick="Z(this)">0:38:42</code>agenda to point that a new CONS of the new segment and the CDR of the CDR of the CDR of the agenda, the CD-D-D-DR.</span><span s="2336" t="And this is going to have a new segment now of time 20 with its own queue, which now has one element in it."><code onclick="Z(this)">0:38:56</code>And this is going to have a new segment now of time 20 with its own queue, which now has one element in it.</span><span s="2350" t="If I wanted to add something at the end, I&apos;m going to have to replace the CDR of this, of this list with something."><code onclick="Z(this)">0:39:10</code>If I wanted to add something at the end, I'm going to have to replace the CDR of this, of this list with something.</span><span s="2360" t="We&apos;re going to have to change that piece of data structure. So I&apos;m going to need new primitives for doing this. But I&apos;m just showing you why I need them."><code onclick="Z(this)">0:39:20</code>We're going to have to change that piece of data structure. So I'm going to need new primitives for doing this. But I'm just showing you why I need them.</span><span s="2369" t="And finally, if I wanted to add a thing to be done at time 5, I&apos;m going to have to change this one, because I&apos;m going to"><code onclick="Z(this)">0:39:29</code>And finally, if I wanted to add a thing to be done at time 5, I'm going to have to change this one, because I'm going to</span><span s="2381" t="have to add it in over here, which is why I planned ahead and had a header cell, which has a place. If I&apos;m going to change things, I have to have"><code onclick="Z(this)">0:39:41</code>have to add it in over here, which is why I planned ahead and had a header cell, which has a place. If I'm going to change things, I have to have</span><span s="2390" t="places for the change. I have to have a place to make the change. If I remove things from the agenda, that&apos;s not so hard."><code onclick="Z(this)">0:39:50</code>places for the change. I have to have a place to make the change. If I remove things from the agenda, that's not so hard.</span><span s="2402" t="Removing them from the beginning is pretty easy, which is the only case I have. I can go looking for the first, the first segment."><code onclick="Z(this)">0:40:02</code>Removing them from the beginning is pretty easy, which is the only case I have. I can go looking for the first, the first segment.</span><span s="2411" t="I see if it has a non-empty queue. If it has a non-empty queue, well, I&apos;m going to delete one element from the queue, like that."><code onclick="Z(this)">0:40:11</code>I see if it has a non-empty queue. If it has a non-empty queue, well, I'm going to delete one element from the queue, like that.</span><span s="2420" t="If the queue ever becomes empty, then I have to delete the whole segment. And then this, this changes to point to here. So it&apos;s quite a complicated data structure manipulation"><code onclick="Z(this)">0:40:20</code>If the queue ever becomes empty, then I have to delete the whole segment. And then this, this changes to point to here. So it's quite a complicated data structure manipulation</span><span s="2430" t="going on, the details of which are not really very exciting. Now, let&apos;s talk about queues. They&apos;re similar."><code onclick="Z(this)">0:40:30</code>going on, the details of which are not really very exciting. Now, let's talk about queues. They're similar.</span><span s="2441" t="Because each of these agendas has a queue in it. What&apos;s a queue? A queue is going to have the following primitive"><code onclick="Z(this)">0:40:41</code>Because each of these agendas has a queue in it. What's a queue? A queue is going to have the following primitive</span><span s="2451" t="operations. To make a queue, this gives me a new queue."><code onclick="Z(this)">0:40:51</code>operations. To make a queue, this gives me a new queue.</span><span s="2467" t="I&apos;m going to have to be able to insert into a queue a new item."><code onclick="Z(this)">0:41:07</code>I'm going to have to be able to insert into a queue a new item.</span><span s="2484" t="I&apos;m going to have to be able to delete from a queue the first item in the queue."><code onclick="Z(this)">0:41:24</code>I'm going to have to be able to delete from a queue the first item in the queue.</span><span s="2499" t="And I want to be able to get the first thing in the queue"><code onclick="Z(this)">0:41:39</code>And I want to be able to get the first thing in the queue</span><span s="2511" t="from some queue. I also have to be able to test whether a queue is empty."><code onclick="Z(this)">0:41:51</code>from some queue. I also have to be able to test whether a queue is empty.</span><span s="2527" t="And when you invent things like this, I want you to be very careful to use the kinds of conventions I use for naming things. Notice that I&apos;m careful to say these change something and"><code onclick="Z(this)">0:42:07</code>And when you invent things like this, I want you to be very careful to use the kinds of conventions I use for naming things. Notice that I'm careful to say these change something and</span><span s="2538" t="that tests it. And presumably, I did the same thing over here. OK, and there should be an empty test over here."><code onclick="Z(this)">0:42:18</code>that tests it. And presumably, I did the same thing over here. OK, and there should be an empty test over here.</span><span s="2549" t="OK, well, how would I make a queue? A queue wants to be something I can add to at the end of, and pick up the thing at the beginning of. I should be able to delete from the beginning"><code onclick="Z(this)">0:42:29</code>OK, well, how would I make a queue? A queue wants to be something I can add to at the end of, and pick up the thing at the beginning of. I should be able to delete from the beginning</span><span s="2559" t="and add to the end. Well, I&apos;m going to show you a very simple structure for that. We can make this out of CONSes as well. Here&apos;s a queue."><code onclick="Z(this)">0:42:39</code>and add to the end. Well, I'm going to show you a very simple structure for that. We can make this out of CONSes as well. Here's a queue.</span><span s="2569" t="It has--it has a queue header, which contains two parts-- a front pointer and a rear pointer."><code onclick="Z(this)">0:42:49</code>It has--it has a queue header, which contains two parts-- a front pointer and a rear pointer.</span><span s="2582" t="And here I have a queue with two items in it. The first item, I don&apos;t know, it&apos;s perhaps a 1."><code onclick="Z(this)">0:43:02</code>And here I have a queue with two items in it. The first item, I don't know, it's perhaps a 1.</span><span s="2592" t="And the second item, I don&apos;t know, let&apos;s give it a 2."><code onclick="Z(this)">0:43:12</code>And the second item, I don't know, let's give it a 2.</span><span s="2601" t="The reason why I want two pointers in here, a front pointer and a rear pointer, is so I can add to the end without having to chase down from the beginning."><code onclick="Z(this)">0:43:21</code>The reason why I want two pointers in here, a front pointer and a rear pointer, is so I can add to the end without having to chase down from the beginning.</span><span s="2611" t="So for example, if I wanted to add one more item to this queue, if I want to add on another item to be worried"><code onclick="Z(this)">0:43:31</code>So for example, if I wanted to add one more item to this queue, if I want to add on another item to be worried</span><span s="2620" t="about later, all I have to do is make a CONS, which contains that item, say a 3. That&apos;s for inserting 3 into the queue."><code onclick="Z(this)">0:43:40</code>about later, all I have to do is make a CONS, which contains that item, say a 3. That's for inserting 3 into the queue.</span><span s="2631" t="Then I have to change this pointer here to here."><code onclick="Z(this)">0:43:51</code>Then I have to change this pointer here to here.</span><span s="2640" t="And I have to change this one to point to the new rear."><code onclick="Z(this)">0:44:00</code>And I have to change this one to point to the new rear.</span><span s="2649" t="If I wish to take the first element of the queue, the first item, I just go chasing down the front pointer until I find the first one and pick it up."><code onclick="Z(this)">0:44:09</code>If I wish to take the first element of the queue, the first item, I just go chasing down the front pointer until I find the first one and pick it up.</span><span s="2658" t="If I wish to delete the first item from the queue, delete-queue, all I do is move the front pointer along this way."><code onclick="Z(this)">0:44:18</code>If I wish to delete the first item from the queue, delete-queue, all I do is move the front pointer along this way.</span><span s="2667" t="The new front of the queue is now this. So queues are very simple too. So what you see now is that I need a certain number of new"><code onclick="Z(this)">0:44:27</code>The new front of the queue is now this. So queues are very simple too. So what you see now is that I need a certain number of new</span><span s="2679" t="primitive operations. And I&apos;m going to give them some names. And then we&apos;re going to look into how they work, and how they&apos;re used. We have set the CAR of some pair, or a thing produced by"><code onclick="Z(this)">0:44:39</code>primitive operations. And I'm going to give them some names. And then we're going to look into how they work, and how they're used. We have set the CAR of some pair, or a thing produced by</span><span s="2696" t="CONSing, to a new value. And set the CDR of a pair to a new value."><code onclick="Z(this)">0:44:56</code>CONSing, to a new value. And set the CDR of a pair to a new value.</span><span s="2712" t="And then we&apos;re going to look into how they work. I needed setting CAR over here to delete the first element of the queue. This is the CAR, and I had to set it."><code onclick="Z(this)">0:45:12</code>And then we're going to look into how they work. I needed setting CAR over here to delete the first element of the queue. This is the CAR, and I had to set it.</span><span s="2723" t="I had to be able to set the CDR to be able to move the rear pointer, or to be able to increment the queue here. All of the operations I did were made out of those that I"><code onclick="Z(this)">0:45:23</code>I had to be able to set the CDR to be able to move the rear pointer, or to be able to increment the queue here. All of the operations I did were made out of those that I</span><span s="2733" t="just showed you on the, on the last blackboard. Good. Let&apos;s pause the time, and take a little break then."><code onclick="Z(this)">0:45:33</code>just showed you on the, on the last blackboard. Good. Let's pause the time, and take a little break then.</span><span s="2798" t="When we originally introduced pairs made out of CONS, made by CONS, we only said a few axioms about them, which were"><code onclick="Z(this)">0:46:38</code>When we originally introduced pairs made out of CONS, made by CONS, we only said a few axioms about them, which were</span><span s="2808" t="of the form-- what were they-- for all X and Y, the CAR of the CONS of X and Y is X and"><code onclick="Z(this)">0:46:48</code>of the form-- what were they-- for all X and Y, the CAR of the CONS of X and Y is X and</span><span s="2826" t="the CDR of the CONS of X and Y is Y. Now, these say nothing"><code onclick="Z(this)">0:47:06</code>the CDR of the CONS of X and Y is Y. Now, these say nothing</span><span s="2835" t="about whether a CONS has an identity like a person. In fact, all they say is something sort of abstract,"><code onclick="Z(this)">0:47:15</code>about whether a CONS has an identity like a person. In fact, all they say is something sort of abstract,</span><span s="2845" t="that a CONS is the parts it&apos;s made out of. And of course, two things are made out of the same parts, they&apos;re the same, at least from the point of view of"><code onclick="Z(this)">0:47:25</code>that a CONS is the parts it's made out of. And of course, two things are made out of the same parts, they're the same, at least from the point of view of</span><span s="2854" t="these axioms. But by introducing assignment-- in fact, mutable data is a kind of assignment, we have a"><code onclick="Z(this)">0:47:34</code>these axioms. But by introducing assignment-- in fact, mutable data is a kind of assignment, we have a</span><span s="2863" t="set CAR and a set CDR-- by introducing those, these axioms no longer tell the whole story. And they&apos;re still true if written exactly like this."><code onclick="Z(this)">0:47:43</code>set CAR and a set CDR-- by introducing those, these axioms no longer tell the whole story. And they're still true if written exactly like this.</span><span s="2873" t="But they don&apos;t tell the whole story. Because if I&apos;m going to set a particular CAR in a particular CONS, the questions are, well, is that setting all CARs and"><code onclick="Z(this)">0:47:53</code>But they don't tell the whole story. Because if I'm going to set a particular CAR in a particular CONS, the questions are, well, is that setting all CARs and</span><span s="2885" t="all CONSes of the same two things or not? If I--if we use CONSes to make up things like rational numbers, or things like 3 over 4, supposing I had two"><code onclick="Z(this)">0:48:05</code>all CONSes of the same two things or not? If I--if we use CONSes to make up things like rational numbers, or things like 3 over 4, supposing I had two</span><span s="2899" t="three-fourths. Are they the same one-- or are they different? Well, in the case of numbers, it doesn&apos;t matter. Because there&apos;s no meaning to changing the"><code onclick="Z(this)">0:48:19</code>three-fourths. Are they the same one-- or are they different? Well, in the case of numbers, it doesn't matter. Because there's no meaning to changing the</span><span s="2909" t="denominator of a number. What you could do is make a number which has a different denominator. But the concept of changing a number which has to have a"><code onclick="Z(this)">0:48:29</code>denominator of a number. What you could do is make a number which has a different denominator. But the concept of changing a number which has to have a</span><span s="2918" t="different denominator is sort of a very weird, and sort of not supported by what you think of as mathematics. However, when these CONSes represent things in the physical world, then changing something like the CAR is like"><code onclick="Z(this)">0:48:38</code>different denominator is sort of a very weird, and sort of not supported by what you think of as mathematics. However, when these CONSes represent things in the physical world, then changing something like the CAR is like</span><span s="2930" t="removing a piece of the fingernail. And so CONSes have an identity. Let me show you what I mean about identity, first of all."><code onclick="Z(this)">0:48:50</code>removing a piece of the fingernail. And so CONSes have an identity. Let me show you what I mean about identity, first of all.</span><span s="2941" t="Let&apos;s do some little example here. Supposing I define A to the CONS of 1 and 2."><code onclick="Z(this)">0:49:01</code>Let's do some little example here. Supposing I define A to the CONS of 1 and 2.</span><span s="2958" t="Well, what that means, first of all, is that somewhere in some environment I&apos;ve made a symbol A to have a value which"><code onclick="Z(this)">0:49:18</code>Well, what that means, first of all, is that somewhere in some environment I've made a symbol A to have a value which</span><span s="2967" t="is a pair consisting of pointers to a 1 and a pointer to a 2, just like that."><code onclick="Z(this)">0:49:27</code>is a pair consisting of pointers to a 1 and a pointer to a 2, just like that.</span><span s="2978" t="Now, supposing I also say define B to be the CONS--"><code onclick="Z(this)">0:49:38</code>Now, supposing I also say define B to be the CONS--</span><span s="2993" t="it doesn&apos;t matter, but I like it better, it&apos;s prettier-- of A and A."><code onclick="Z(this)">0:49:53</code>it doesn't matter, but I like it better, it's prettier-- of A and A.</span><span s="3003" t="Well, first of all, I&apos;m using the name A twice. At this moment, I&apos;m going to think of CONSes as having identity. This is the same one."><code onclick="Z(this)">0:50:03</code>Well, first of all, I'm using the name A twice. At this moment, I'm going to think of CONSes as having identity. This is the same one.</span><span s="3013" t="And so what that means is I make another pair, which I&apos;m going to call B. And it contains two pointers to A. At"><code onclick="Z(this)">0:50:13</code>And so what that means is I make another pair, which I'm going to call B. And it contains two pointers to A. At</span><span s="3029" t="this point, I have three names for this object. A is its name. The CAR of B is its name. And the CDR of B is its name."><code onclick="Z(this)">0:50:29</code>this point, I have three names for this object. A is its name. The CAR of B is its name. And the CDR of B is its name.</span><span s="3039" t="It has several aliases, they&apos;re called. Now, supposing I do something like set-the-CAR, the CAR of"><code onclick="Z(this)">0:50:39</code>It has several aliases, they're called. Now, supposing I do something like set-the-CAR, the CAR of</span><span s="3061" t="the CAR of B to 3."><code onclick="Z(this)">0:51:01</code>the CAR of B to 3.</span><span s="3072" t="What that means is I find the CAR of B, that&apos;s this. I set the CAR of that to be 3, changing this."><code onclick="Z(this)">0:51:12</code>What that means is I find the CAR of B, that's this. I set the CAR of that to be 3, changing this.</span><span s="3084" t="I&apos;ve changed A. If I were to ask what&apos;s the CAR of A--of A now?"><code onclick="Z(this)">0:51:24</code>I've changed A. If I were to ask what's the CAR of A--of A now?</span><span s="3095" t="I would get out 3, even though here we see that A was the CONS of 1 and 2."><code onclick="Z(this)">0:51:35</code>I would get out 3, even though here we see that A was the CONS of 1 and 2.</span><span s="3105" t="I caused A to change by changing B. There is sharing here. That&apos;s sometimes what we want."><code onclick="Z(this)">0:51:45</code>I caused A to change by changing B. There is sharing here. That's sometimes what we want.</span><span s="3114" t="Surely in the queues and things like that, that&apos;s exactly what we defined our--organized our data structures to facilitate-- sharing."><code onclick="Z(this)">0:51:54</code>Surely in the queues and things like that, that's exactly what we defined our--organized our data structures to facilitate-- sharing.</span><span s="3124" t="But inadvertent sharing, unanticipated interactions between objects, is the source of most of the bugs that occur in complicated programs. So by introducing this possibility"><code onclick="Z(this)">0:52:04</code>But inadvertent sharing, unanticipated interactions between objects, is the source of most of the bugs that occur in complicated programs. So by introducing this possibility</span><span s="3137" t="of things having identity and sharing and having multiple names for the same thing, we get a lot of power. But we&apos;re going to pay for it with lots of"><code onclick="Z(this)">0:52:17</code>of things having identity and sharing and having multiple names for the same thing, we get a lot of power. But we're going to pay for it with lots of</span><span s="3147" t="complexity and bugs. So also, for example, if I just looked at this just to drive that home, the CADR of B, which has nothing to do"><code onclick="Z(this)">0:52:27</code>complexity and bugs. So also, for example, if I just looked at this just to drive that home, the CADR of B, which has nothing to do</span><span s="3163" t="with even the CAR of B, apparently. The CADR of B, what&apos;s that? Take that CDR of B and now take the CAR of that."><code onclick="Z(this)">0:52:43</code>with even the CAR of B, apparently. The CADR of B, what's that? Take that CDR of B and now take the CAR of that.</span><span s="3173" t="Oh, that&apos;s 3 also. So I can have non-local interactions by sharing. And I have to be very careful of that."><code onclick="Z(this)">0:52:53</code>Oh, that's 3 also. So I can have non-local interactions by sharing. And I have to be very careful of that.</span><span s="3186" t="Well, so far, of course, it seems I&apos;ve introduced several different assignment operators-- set, set CAR, set CDR. Well, maybe I should just get rid of"><code onclick="Z(this)">0:53:06</code>Well, so far, of course, it seems I've introduced several different assignment operators-- set, set CAR, set CDR. Well, maybe I should just get rid of</span><span s="3199" t="set CAR and set CDR. Maybe they&apos;re not worthwhile. Well, the answer is that once you let the camel&apos;s nose into the tent, the rest of him follows."><code onclick="Z(this)">0:53:19</code>set CAR and set CDR. Maybe they're not worthwhile. Well, the answer is that once you let the camel's nose into the tent, the rest of him follows.</span><span s="3210" t="All I have to have is set, and I can make all of the--all of the bad things that can happen. Let&apos;s play with that a little bit."><code onclick="Z(this)">0:53:30</code>All I have to have is set, and I can make all of the--all of the bad things that can happen. Let's play with that a little bit.</span><span s="3220" t="A couple of days ago, when we introduced compound data, you saw Hal show you a definition of CONS in terms"><code onclick="Z(this)">0:53:40</code>A couple of days ago, when we introduced compound data, you saw Hal show you a definition of CONS in terms</span><span s="3229" t="of a message acceptor. I&apos;m going to show you even a more horrible thing, a definition of CONS in terms of nothing but air, hot air."><code onclick="Z(this)">0:53:49</code>of a message acceptor. I'm going to show you even a more horrible thing, a definition of CONS in terms of nothing but air, hot air.</span><span s="3244" t="What is the definition of CONS, of the old functional kind, in terms of purely lambdic expressions,"><code onclick="Z(this)">0:54:04</code>What is the definition of CONS, of the old functional kind, in terms of purely lambdic expressions,</span><span s="3253" t="procedures? Because I&apos;m going to then modify this definition to get assignment to be only one kind of assignment, to get rid of"><code onclick="Z(this)">0:54:13</code>procedures? Because I'm going to then modify this definition to get assignment to be only one kind of assignment, to get rid of</span><span s="3265" t="the set CAR and set CDR in terms of set. So what if I define CONS of X and Y to be a procedure of one"><code onclick="Z(this)">0:54:25</code>the set CAR and set CDR in terms of set. So what if I define CONS of X and Y to be a procedure of one</span><span s="3281" t="argument called a message M, which calls that message on X and Y?"><code onclick="Z(this)">0:54:41</code>argument called a message M, which calls that message on X and Y?</span><span s="3291" t="This [? idea ?] was invented by Alonzo Church, who was the greatest programmer of the 20th century, although he never saw a computer. It was done in the 1930s. He was a logician, I suppose at Princeton at the time."><code onclick="Z(this)">0:54:51</code>This [? idea ?] was invented by Alonzo Church, who was the greatest programmer of the 20th century, although he never saw a computer. It was done in the 1930s. He was a logician, I suppose at Princeton at the time.</span><span s="3308" t="Define CAR of X to be the result of applying X to that procedure of two arguments, A and D, which selects A. I will"><code onclick="Z(this)">0:55:08</code>Define CAR of X to be the result of applying X to that procedure of two arguments, A and D, which selects A. I will</span><span s="3324" t="define CDR of X to be that procedure, to be the result of"><code onclick="Z(this)">0:55:24</code>define CDR of X to be that procedure, to be the result of</span><span s="3336" t="applying X to that procedure of A and D, which selects D."><code onclick="Z(this)">0:55:36</code>applying X to that procedure of A and D, which selects D.</span><span s="3346" t="Now, you may not recognize this as CAR, CDR, and CONS. But I&apos;m going to demonstrate to you that it satisfies the original axioms, just once."><code onclick="Z(this)">0:55:46</code>Now, you may not recognize this as CAR, CDR, and CONS. But I'm going to demonstrate to you that it satisfies the original axioms, just once.</span><span s="3355" t="And then we&apos;re going to do some playing of games. Consider the problem CAR of CONS of, say, 35 and 47."><code onclick="Z(this)">0:55:55</code>And then we're going to do some playing of games. Consider the problem CAR of CONS of, say, 35 and 47.</span><span s="3369" t="Well, what is that? It is the result of taking car of the result of substituting 35 and 47 for X and Y in the body of this."><code onclick="Z(this)">0:56:09</code>Well, what is that? It is the result of taking car of the result of substituting 35 and 47 for X and Y in the body of this.</span><span s="3379" t="Well, that&apos;s easy enough. That&apos;s CAR of the result of substituting into lambda of M, M of 35 and 47."><code onclick="Z(this)">0:56:19</code>Well, that's easy enough. That's CAR of the result of substituting into lambda of M, M of 35 and 47.</span><span s="3395" t="Well, what this is, is the result of substituting this object for X in the body of that. So that&apos;s just lambda of M--"><code onclick="Z(this)">0:56:35</code>Well, what this is, is the result of substituting this object for X in the body of that. So that's just lambda of M--</span><span s="3408" t="that&apos;s substituted, because this object is being substituted for X, which is the beginning of a list, lambda of M--"><code onclick="Z(this)">0:56:48</code>that's substituted, because this object is being substituted for X, which is the beginning of a list, lambda of M--</span><span s="3417" t="M of 35 and 47, applied to that procedure of A and D,"><code onclick="Z(this)">0:56:57</code>M of 35 and 47, applied to that procedure of A and D,</span><span s="3427" t="which gives me A. Well, that&apos;s the result of substituting this for M here. So that&apos;s the same thing as lambda of A, D, A,"><code onclick="Z(this)">0:57:07</code>which gives me A. Well, that's the result of substituting this for M here. So that's the same thing as lambda of A, D, A,</span><span s="3442" t="applied to 35 and 47. Oh, well that&apos;s 35. That&apos;s substituting 35 for A and for 47 for D in A. So I"><code onclick="Z(this)">0:57:22</code>applied to 35 and 47. Oh, well that's 35. That's substituting 35 for A and for 47 for D in A. So I</span><span s="3456" t="don&apos;t need any data at all, not even numbers. This is Alonso Church&apos;s hack."><code onclick="Z(this)">0:57:36</code>don't need any data at all, not even numbers. This is Alonso Church's hack.</span><span s="3472" t="Well, now we&apos;re going to do something nasty to him. Being a logician, he wouldn&apos;t like this. But as programmers, let&apos;s look at the overhead."><code onclick="Z(this)">0:57:52</code>Well, now we're going to do something nasty to him. Being a logician, he wouldn't like this. But as programmers, let's look at the overhead.</span><span s="3483" t="And here we go. I&apos;m going to change the definition of CONS. It&apos;s almost the same as Alonzo Church&apos;s, but not quite."><code onclick="Z(this)">0:58:03</code>And here we go. I'm going to change the definition of CONS. It's almost the same as Alonzo Church's, but not quite.</span><span s="3494" t="What do we have here? The CONS of two arguments, X and Y, is going to be that procedure of one argument M, which supplies M to X and Y as"><code onclick="Z(this)">0:58:14</code>What do we have here? The CONS of two arguments, X and Y, is going to be that procedure of one argument M, which supplies M to X and Y as</span><span s="3505" t="before, but also to two permissions, the permission to set X to N and the permission to set Y to N, given that I"><code onclick="Z(this)">0:58:25</code>before, but also to two permissions, the permission to set X to N and the permission to set Y to N, given that I</span><span s="3515" t="have an N. So besides the things that I had here in Church&apos;s"><code onclick="Z(this)">0:58:35</code>have an N. So besides the things that I had here in Church's</span><span s="3524" t="definition, what I have is that the thing that CONS returns will apply its argument to not just the"><code onclick="Z(this)">0:58:44</code>definition, what I have is that the thing that CONS returns will apply its argument to not just the</span><span s="3535" t="values of the X and Y that the CONS is made of, but also permissions to set X and Y to new values."><code onclick="Z(this)">0:58:55</code>values of the X and Y that the CONS is made of, but also permissions to set X and Y to new values.</span><span s="3546" t="Now, of course, just as before, CAR is exactly the same. The CAR of X is nothing more than applying X, as in Church&apos;s definition, to a procedure, in this case, of"><code onclick="Z(this)">0:59:06</code>Now, of course, just as before, CAR is exactly the same. The CAR of X is nothing more than applying X, as in Church's definition, to a procedure, in this case, of</span><span s="3558" t="four arguments, which selects out the first one. And just as we did before, that will be the value of X"><code onclick="Z(this)">0:59:18</code>four arguments, which selects out the first one. And just as we did before, that will be the value of X</span><span s="3568" t="that was contained in the procedure which is the result of evaluating this lambda expression in the environment where X and Y are defined over here."><code onclick="Z(this)">0:59:28</code>that was contained in the procedure which is the result of evaluating this lambda expression in the environment where X and Y are defined over here.</span><span s="3581" t="That&apos;s the value of CONS. Now, however, the exciting part. CDR, of course, is the same. The exciting part, set CAR and set CDR. Well, they&apos;re nothing"><code onclick="Z(this)">0:59:41</code>That's the value of CONS. Now, however, the exciting part. CDR, of course, is the same. The exciting part, set CAR and set CDR. Well, they're nothing</span><span s="3594" t="very complicated anymore. Set CAR of a CONS X to a new value Y is nothing more than applying that CONS, which is the procedure of four--the"><code onclick="Z(this)">0:59:54</code>very complicated anymore. Set CAR of a CONS X to a new value Y is nothing more than applying that CONS, which is the procedure of four--the</span><span s="3606" t="procedure of one argument which applies its argument to four things, to a procedure which is of four arguments--"><code onclick="Z(this)">1:00:06</code>procedure of one argument which applies its argument to four things, to a procedure which is of four arguments--</span><span s="3615" t="the value of X, the value of Y, permission to set X, the permission to set Y-- and using it--using that permission to set X to the new value."><code onclick="Z(this)">1:00:15</code>the value of X, the value of Y, permission to set X, the permission to set Y-- and using it--using that permission to set X to the new value.</span><span s="3631" t="And similarly, set-cdr is the same thing. So what you&apos;ve just seen is that I didn&apos;t introduce any new primitives at all."><code onclick="Z(this)">1:00:31</code>And similarly, set-cdr is the same thing. So what you've just seen is that I didn't introduce any new primitives at all.</span><span s="3640" t="Whether or not I want to implement it this way is a matter of engineering. And the answer is of course I don&apos;t implement it this way for reasons that have to do with engineering."><code onclick="Z(this)">1:00:40</code>Whether or not I want to implement it this way is a matter of engineering. And the answer is of course I don't implement it this way for reasons that have to do with engineering.</span><span s="3651" t="However in principle, logically, once I introduced one assignment operator, I&apos;ve assigned--I&apos;ve introduced them all."><code onclick="Z(this)">1:00:51</code>However in principle, logically, once I introduced one assignment operator, I've assigned--I've introduced them all.</span><span s="3665" t="Are there any questions? Yes, David. AUDIENCE: I can follow you up until you get--I can follow"><code onclick="Z(this)">1:01:05</code>Are there any questions? Yes, David. AUDIENCE: I can follow you up until you get--I can follow</span><span s="3674" t="all of that. But when we bring in the permissions, defining CONS in terms of the lambda N, I don&apos;t follow where N gets passed."><code onclick="Z(this)">1:01:14</code>all of that. But when we bring in the permissions, defining CONS in terms of the lambda N, I don't follow where N gets passed.</span><span s="3684" t="PROFESSOR: Oh, I&apos;m sorry. I&apos;ll show you. Let&apos;s follow it. Of course, we could do it on the blackboard. It&apos;s not so hard. But it&apos;s also easy here. Supposing I wish to set-cdr of X to Y. See that right there."><code onclick="Z(this)">1:01:24</code>PROFESSOR: Oh, I'm sorry. I'll show you. Let's follow it. Of course, we could do it on the blackboard. It's not so hard. But it's also easy here. Supposing I wish to set-cdr of X to Y. See that right there.</span><span s="3698" t="set-cdr of X to Y. X is presumably a CONS, a thing resulting from evaluating CONS. Therefore X comes from a place over here, that that X is of"><code onclick="Z(this)">1:01:38</code>set-cdr of X to Y. X is presumably a CONS, a thing resulting from evaluating CONS. Therefore X comes from a place over here, that that X is of</span><span s="3714" t="the result of evaluating this lambda expression. Right? That when I evaluated that lambda expression, I evaluated"><code onclick="Z(this)">1:01:54</code>the result of evaluating this lambda expression. Right? That when I evaluated that lambda expression, I evaluated</span><span s="3724" t="it in an environment where the arguments to CONS were defined. That means that as free variables in this lambda"><code onclick="Z(this)">1:02:04</code>it in an environment where the arguments to CONS were defined. That means that as free variables in this lambda</span><span s="3734" t="expression, there is the--there are in the frame, which is the parent frame of this lambda expression, the"><code onclick="Z(this)">1:02:14</code>expression, there is the--there are in the frame, which is the parent frame of this lambda expression, the</span><span s="3743" t="procedure resulting from this lambda expression, X and Y have places. And it&apos;s possible to set them. I set them to an N, which is the argument of the"><code onclick="Z(this)">1:02:23</code>procedure resulting from this lambda expression, X and Y have places. And it's possible to set them. I set them to an N, which is the argument of the</span><span s="3755" t="permission. The permission is a procedure which is passed to M, which is the argument that the CONS object gets passed."><code onclick="Z(this)">1:02:35</code>permission. The permission is a procedure which is passed to M, which is the argument that the CONS object gets passed.</span><span s="3767" t="Now, let&apos;s go back here in the set-cdr The CONS object, which is the first argument of set-cdr"><code onclick="Z(this)">1:02:47</code>Now, let's go back here in the set-cdr The CONS object, which is the first argument of set-cdr</span><span s="3776" t="gets passed an argument. That--there&apos;s a procedure of four things, indeed, because that&apos;s the same thing as this M over here, which is applied"><code onclick="Z(this)">1:02:56</code>gets passed an argument. That--there's a procedure of four things, indeed, because that's the same thing as this M over here, which is applied</span><span s="3785" t="to four objects. The object over here, SD, is, in fact, this permission."><code onclick="Z(this)">1:03:05</code>to four objects. The object over here, SD, is, in fact, this permission.</span><span s="3795" t="When I use SD, I apply it to Y, right there. So that comes from this."><code onclick="Z(this)">1:03:15</code>When I use SD, I apply it to Y, right there. So that comes from this.</span><span s="3805" t="AUDIENCE: So what do you-- PROFESSOR: So to finish that, the N that was here is the Y which is here."><code onclick="Z(this)">1:03:25</code>AUDIENCE: So what do you-- PROFESSOR: So to finish that, the N that was here is the Y which is here.</span><span s="3814" t="How&apos;s that? AUDIENCE: Right, OK. Now, when you do a set-cdr, X is the value the CDR is going to become. PROFESSOR: The X over here."><code onclick="Z(this)">1:03:34</code>How's that? AUDIENCE: Right, OK. Now, when you do a set-cdr, X is the value the CDR is going to become. PROFESSOR: The X over here.</span><span s="3824" t="I&apos;m sorry, that&apos;s not true. The X is--set-cdr has two arguments-- The CONS I&apos;m changing and the value I&apos;m changing it to."><code onclick="Z(this)">1:03:44</code>I'm sorry, that's not true. The X is--set-cdr has two arguments-- The CONS I'm changing and the value I'm changing it to.</span><span s="3836" t="So you have them backwards, that&apos;s all. Are there any other questions?"><code onclick="Z(this)">1:03:56</code>So you have them backwards, that's all. Are there any other questions?</span><span s="3847" t="Well, thank you. It&apos;s time for lunch."><code onclick="Z(this)">1:04:07</code>Well, thank you. It's time for lunch.</span></div><div class="eventlist" side="R" vid="a2Qt9uxhNSM"><h5><code onclick="Z(this)">0:00:00</code>Lecture 6A | MIT 6.001 Structure and Interpretation, 1986</h5><span s="0" t=""><code onclick="Z(this)">0:00:00</code></span><span s="18" t="PROFESSOR: Well, last time Gerry really let the cat out of the bag. He introduced the idea of assignment. Assignment and state."><code onclick="Z(this)">0:00:18</code>PROFESSOR: Well, last time Gerry really let the cat out of the bag. He introduced the idea of assignment. Assignment and state.</span><span s="37" t="And as we started to see, the implications of introducing assignment and state into the language are absolutely frightening. First of all, the substitution model of"><code onclick="Z(this)">0:00:37</code>And as we started to see, the implications of introducing assignment and state into the language are absolutely frightening. First of all, the substitution model of</span><span s="47" t="evaluation breaks down. And we have to use this much more complicated environment model and this very mechanistic thing with diagrams, even to say what statements in the programming"><code onclick="Z(this)">0:00:47</code>evaluation breaks down. And we have to use this much more complicated environment model and this very mechanistic thing with diagrams, even to say what statements in the programming</span><span s="56" t="language mean. And that&apos;s not a mere technical point. See, it&apos;s not that we had this particular substitution model and, well, it doesn&apos;t quite work, so we have to do"><code onclick="Z(this)">0:00:56</code>language mean. And that's not a mere technical point. See, it's not that we had this particular substitution model and, well, it doesn't quite work, so we have to do</span><span s="65" t="something else. It&apos;s that nothing like the substitution model can work. Because suddenly, a variable is not just something that"><code onclick="Z(this)">0:01:05</code>something else. It's that nothing like the substitution model can work. Because suddenly, a variable is not just something that</span><span s="75" t="stands for a value. A variable now has to somehow specify a place that holds a value. And the value that&apos;s in that place can change."><code onclick="Z(this)">0:01:15</code>stands for a value. A variable now has to somehow specify a place that holds a value. And the value that's in that place can change.</span><span s="90" t="Or for instance, an expression like f of x might have a side"><code onclick="Z(this)">0:01:30</code>Or for instance, an expression like f of x might have a side</span><span s="99" t="effect in it. So if we say f of x and it has some value, and then later we say f of x again, we might get a different value"><code onclick="Z(this)">0:01:39</code>effect in it. So if we say f of x and it has some value, and then later we say f of x again, we might get a different value</span><span s="108" t="depending on the order. So suddenly, we have to think not only about values but about time."><code onclick="Z(this)">0:01:48</code>depending on the order. So suddenly, we have to think not only about values but about time.</span><span s="117" t="And then things like pairs are no longer just their CARs and their CDRs. A pair now is not quite its CAR and its CDR. It&apos;s rather"><code onclick="Z(this)">0:01:57</code>And then things like pairs are no longer just their CARs and their CDRs. A pair now is not quite its CAR and its CDR. It's rather</span><span s="126" t="its identity. So a pair has identity. It&apos;s an object."><code onclick="Z(this)">0:02:06</code>its identity. So a pair has identity. It's an object.</span><span s="141" t="And two pairs that have the same CAR and CDR might be the same or different, because suddenly we have to worry about sharing."><code onclick="Z(this)">0:02:21</code>And two pairs that have the same CAR and CDR might be the same or different, because suddenly we have to worry about sharing.</span><span s="154" t="So all of these things enter as soon as we introduce assignment. See, this is a really far cry from where we started with"><code onclick="Z(this)">0:02:34</code>So all of these things enter as soon as we introduce assignment. See, this is a really far cry from where we started with</span><span s="163" t="substitution. It&apos;s a technically harder way of looking at things because we have to think more mechanistically about our"><code onclick="Z(this)">0:02:43</code>substitution. It's a technically harder way of looking at things because we have to think more mechanistically about our</span><span s="172" t="programming language. We can&apos;t just think about it as mathematics. It&apos;s philosophically harder, because suddenly there are all these funny issues about what does it mean that something"><code onclick="Z(this)">0:02:52</code>programming language. We can't just think about it as mathematics. It's philosophically harder, because suddenly there are all these funny issues about what does it mean that something</span><span s="182" t="changes or that two things are the same. And also, it&apos;s programming harder, because as Gerry showed last time, there are all these bugs having to do with bad sequencing and aliasing that just don&apos;t exist"><code onclick="Z(this)">0:03:02</code>changes or that two things are the same. And also, it's programming harder, because as Gerry showed last time, there are all these bugs having to do with bad sequencing and aliasing that just don't exist</span><span s="194" t="in a language where we don&apos;t worry about objects. Well, how&apos;d we get into this mess?"><code onclick="Z(this)">0:03:14</code>in a language where we don't worry about objects. Well, how'd we get into this mess?</span><span s="203" t="Remember what we did, the reason we got into this is because we were looking to build modular systems. We"><code onclick="Z(this)">0:03:23</code>Remember what we did, the reason we got into this is because we were looking to build modular systems. We</span><span s="215" t="wanted to build systems that fall apart into chunks that seem natural. So for instance, we want to take a random number generator"><code onclick="Z(this)">0:03:35</code>wanted to build systems that fall apart into chunks that seem natural. So for instance, we want to take a random number generator</span><span s="226" t="and package up the state of that random number generator inside of it so that we can separate the idea of picking random numbers from the general Monte Carlo strategy"><code onclick="Z(this)">0:03:46</code>and package up the state of that random number generator inside of it so that we can separate the idea of picking random numbers from the general Monte Carlo strategy</span><span s="236" t="of estimating something and separate that from the particular way that you work with random numbers in that formula developed by Cesaro for pi."><code onclick="Z(this)">0:03:56</code>of estimating something and separate that from the particular way that you work with random numbers in that formula developed by Cesaro for pi.</span><span s="246" t="And similarly, when we go off and construct some models of things, if we go off and model a system that we see in the"><code onclick="Z(this)">0:04:06</code>And similarly, when we go off and construct some models of things, if we go off and model a system that we see in the</span><span s="255" t="real world, we&apos;d like our program to break into natural pieces, pieces that mirror the parts of the system that we see in the real world."><code onclick="Z(this)">0:04:15</code>real world, we'd like our program to break into natural pieces, pieces that mirror the parts of the system that we see in the real world.</span><span s="264" t="So for example, if we look at a digital circuit, we say, gee, there&apos;s a circuit and it has a piece and"><code onclick="Z(this)">0:04:24</code>So for example, if we look at a digital circuit, we say, gee, there's a circuit and it has a piece and</span><span s="273" t="it has another piece. And these different pieces sort of have identity."><code onclick="Z(this)">0:04:33</code>it has another piece. And these different pieces sort of have identity.</span><span s="283" t="They have state. And the state sits on these wires. And we think of this piece as an object that&apos;s different from that as an object."><code onclick="Z(this)">0:04:43</code>They have state. And the state sits on these wires. And we think of this piece as an object that's different from that as an object.</span><span s="292" t="And when we watch the system change, we think about a signal coming in here and changing a state that might be here and going here and interacting with a state that might be stored there, and so on and so on."><code onclick="Z(this)">0:04:52</code>And when we watch the system change, we think about a signal coming in here and changing a state that might be here and going here and interacting with a state that might be stored there, and so on and so on.</span><span s="306" t="So what we&apos;d like is we&apos;d like to build in the computer systems that fall into pieces that mirror our view of"><code onclick="Z(this)">0:05:06</code>So what we'd like is we'd like to build in the computer systems that fall into pieces that mirror our view of</span><span s="317" t="reality, of the way that the actual systems we&apos;re modeling seem to fall into pieces. Well, maybe the reason that building systems like this"><code onclick="Z(this)">0:05:17</code>reality, of the way that the actual systems we're modeling seem to fall into pieces. Well, maybe the reason that building systems like this</span><span s="328" t="seems to introduce such technical complications has nothing to do with computers. See, maybe the real reason that we pay such a price to"><code onclick="Z(this)">0:05:28</code>seems to introduce such technical complications has nothing to do with computers. See, maybe the real reason that we pay such a price to</span><span s="337" t="write programs that mirror our view of reality is that we have the wrong view of reality. See, maybe time is just an illusion, and"><code onclick="Z(this)">0:05:37</code>write programs that mirror our view of reality is that we have the wrong view of reality. See, maybe time is just an illusion, and</span><span s="347" t="nothing ever changes. See, for example, if I take this chalk, and we say, gee, this is an object and it has a state. At each moment it has a position and a velocity."><code onclick="Z(this)">0:05:47</code>nothing ever changes. See, for example, if I take this chalk, and we say, gee, this is an object and it has a state. At each moment it has a position and a velocity.</span><span s="359" t="And if we do something, that state can change. But if you studied any relativity, for instance, you know that you don&apos;t think of the path of that chalk as"><code onclick="Z(this)">0:05:59</code>And if we do something, that state can change. But if you studied any relativity, for instance, you know that you don't think of the path of that chalk as</span><span s="369" t="something that goes on instant by instant. It&apos;s more insightful to think of that whole chalk&apos;s existence as a path in space-time. that&apos;s all splayed out."><code onclick="Z(this)">0:06:09</code>something that goes on instant by instant. It's more insightful to think of that whole chalk's existence as a path in space-time. that's all splayed out.</span><span s="378" t="There aren&apos;t individual positions and velocities. There&apos;s just its unchanging existence in space-time. Similarly, if we look at this electrical system, if we"><code onclick="Z(this)">0:06:18</code>There aren't individual positions and velocities. There's just its unchanging existence in space-time. Similarly, if we look at this electrical system, if we</span><span s="388" t="imagine this electrical system is implementing some sort of signal processing system, the signal processing engineer who put that thing together doesn&apos;t think of it as, well,"><code onclick="Z(this)">0:06:28</code>imagine this electrical system is implementing some sort of signal processing system, the signal processing engineer who put that thing together doesn't think of it as, well,</span><span s="399" t="at each instance there&apos;s a voltage coming in. And that translates into something. And that affects the state over here, which changes the state over here. Nobody putting together a signal processing system"><code onclick="Z(this)">0:06:39</code>at each instance there's a voltage coming in. And that translates into something. And that affects the state over here, which changes the state over here. Nobody putting together a signal processing system</span><span s="409" t="thinks about it like that. Instead, you say there&apos;s this signal that&apos;s splayed out over time."><code onclick="Z(this)">0:06:49</code>thinks about it like that. Instead, you say there's this signal that's splayed out over time.</span><span s="418" t="And if this is acting as a filter, this whole thing transforms this whole thing for some sort of other output."><code onclick="Z(this)">0:06:58</code>And if this is acting as a filter, this whole thing transforms this whole thing for some sort of other output.</span><span s="429" t="You don&apos;t think of it as what&apos;s happening instant by instant as the state of these things. And somehow you think of this box as a whole thing, not as little pieces sending messages of state to each other at"><code onclick="Z(this)">0:07:09</code>You don't think of it as what's happening instant by instant as the state of these things. And somehow you think of this box as a whole thing, not as little pieces sending messages of state to each other at</span><span s="440" t="particular instants. Well, today we&apos;re going to look at another way to"><code onclick="Z(this)">0:07:20</code>particular instants. Well, today we're going to look at another way to</span><span s="450" t="decompose systems that&apos;s more like the signal processing engineer&apos;s view of the world than it is like thinking about objects that communicate sending messages."><code onclick="Z(this)">0:07:30</code>decompose systems that's more like the signal processing engineer's view of the world than it is like thinking about objects that communicate sending messages.</span><span s="461" t="That&apos;s called stream processing."><code onclick="Z(this)">0:07:41</code>That's called stream processing.</span><span s="474" t="And we&apos;re going to start by showing how we can make our programs more uniform and see a lot more commonality if we"><code onclick="Z(this)">0:07:54</code>And we're going to start by showing how we can make our programs more uniform and see a lot more commonality if we</span><span s="488" t="throw out of these programs what you might say is an inordinate concern with worrying about time."><code onclick="Z(this)">0:08:08</code>throw out of these programs what you might say is an inordinate concern with worrying about time.</span><span s="497" t="Let me start by comparing two procedures. The first one does this. We imagine that there&apos;s a tree."><code onclick="Z(this)">0:08:17</code>Let me start by comparing two procedures. The first one does this. We imagine that there's a tree.</span><span s="510" t="Say there&apos;s a tree of integers. It&apos;s a binary tree."><code onclick="Z(this)">0:08:30</code>Say there's a tree of integers. It's a binary tree.</span><span s="519" t="So it looks like this. And there&apos;s integers in each of the nodes. And what we would like to compute is for each odd number"><code onclick="Z(this)">0:08:39</code>So it looks like this. And there's integers in each of the nodes. And what we would like to compute is for each odd number</span><span s="531" t="sitting here, we&apos;d like to find the square and then sum up all those squares. Well, that should be a familiar kind of thing. There&apos;s a recursive strategy for doing it."><code onclick="Z(this)">0:08:51</code>sitting here, we'd like to find the square and then sum up all those squares. Well, that should be a familiar kind of thing. There's a recursive strategy for doing it.</span><span s="542" t="We look at each leaf, and either it&apos;s going to contribute the square of the number if it&apos;s odd or 0 if it&apos;s even. And then recursively, we can say at each tree, the sum of"><code onclick="Z(this)">0:09:02</code>We look at each leaf, and either it's going to contribute the square of the number if it's odd or 0 if it's even. And then recursively, we can say at each tree, the sum of</span><span s="553" t="all of them is the sum coming from the right branch and the left branch, and recursively down through the nodes. And that&apos;s a familiar way of thinking about programming. Let&apos;s actually look at that on the slide."><code onclick="Z(this)">0:09:13</code>all of them is the sum coming from the right branch and the left branch, and recursively down through the nodes. And that's a familiar way of thinking about programming. Let's actually look at that on the slide.</span><span s="563" t="We say to sum the odd squares in a tree, well, there&apos;s a test. Either it&apos;s a leaf node, and we&apos;re going to check to see if it&apos;s an integer, and then either it&apos;s odd, in which"><code onclick="Z(this)">0:09:23</code>We say to sum the odd squares in a tree, well, there's a test. Either it's a leaf node, and we're going to check to see if it's an integer, and then either it's odd, in which</span><span s="574" t="we take the square, or else it&apos;s 0. And then the sum of the whole thing is the sum coming from the left branch and the right branch."><code onclick="Z(this)">0:09:34</code>we take the square, or else it's 0. And then the sum of the whole thing is the sum coming from the left branch and the right branch.</span><span s="586" t="OK, well, let me contrast that with a second problem. Suppose I give you an integer n, and then some function to"><code onclick="Z(this)">0:09:46</code>OK, well, let me contrast that with a second problem. Suppose I give you an integer n, and then some function to</span><span s="595" t="compute of the first of each integer in 1 through n. And then I want to collect together in a list all those function values that satisfy some property."><code onclick="Z(this)">0:09:55</code>compute of the first of each integer in 1 through n. And then I want to collect together in a list all those function values that satisfy some property.</span><span s="605" t="That&apos;s a general kind of thing. Let&apos;s say to be specific, let&apos;s imagine that for each integer, k, we&apos;re going to compute the k Fibonacci number."><code onclick="Z(this)">0:10:05</code>That's a general kind of thing. Let's say to be specific, let's imagine that for each integer, k, we're going to compute the k Fibonacci number.</span><span s="614" t="And then we&apos;ll see which of those are odd and assemble those into a list. So here&apos;s a procedure that does that."><code onclick="Z(this)">0:10:14</code>And then we'll see which of those are odd and assemble those into a list. So here's a procedure that does that.</span><span s="623" t="Find the odd Fibonacci numbers among the first n. And here is a standard loop the way we&apos;ve been writing it. This is a recursion. It&apos;s a loop on k, and says if k is bigger than n, it&apos;s the"><code onclick="Z(this)">0:10:23</code>Find the odd Fibonacci numbers among the first n. And here is a standard loop the way we've been writing it. This is a recursion. It's a loop on k, and says if k is bigger than n, it's the</span><span s="633" t="empty list. Otherwise we compute the k-th Fibonacci number, call that f. If it&apos;s odd, we CONS it on to the list starting"><code onclick="Z(this)">0:10:33</code>empty list. Otherwise we compute the k-th Fibonacci number, call that f. If it's odd, we CONS it on to the list starting</span><span s="645" t="with the next one. And otherwise, we just take the next one. And this is the standard way we&apos;ve been writing iterative loops. And we start off calling that loop with 1."><code onclick="Z(this)">0:10:45</code>with the next one. And otherwise, we just take the next one. And this is the standard way we've been writing iterative loops. And we start off calling that loop with 1.</span><span s="657" t="OK, so there are two procedures. Those procedures look very different. They have very different structures. Yet from a certain point of view, those procedures are"><code onclick="Z(this)">0:10:57</code>OK, so there are two procedures. Those procedures look very different. They have very different structures. Yet from a certain point of view, those procedures are</span><span s="667" t="really doing very much the same thing. So if I was talking like a signal processing engineer, what I might say is that the first procedure enumerates the"><code onclick="Z(this)">0:11:07</code>really doing very much the same thing. So if I was talking like a signal processing engineer, what I might say is that the first procedure enumerates the</span><span s="685" t="leaves of a tree. And then we can think of a signal coming out of that, which is all the leaves."><code onclick="Z(this)">0:11:25</code>leaves of a tree. And then we can think of a signal coming out of that, which is all the leaves.</span><span s="695" t="We&apos;ll filter them to see which ones are odd, put them through some kind of filter."><code onclick="Z(this)">0:11:35</code>We'll filter them to see which ones are odd, put them through some kind of filter.</span><span s="705" t="We&apos;ll then put them through a kind of transducer. And for each one of those things, we&apos;ll take the square."><code onclick="Z(this)">0:11:45</code>We'll then put them through a kind of transducer. And for each one of those things, we'll take the square.</span><span s="714" t="And then we&apos;ll accumulate all of those. We&apos;ll accumulate them by sticking them together with addition starting from 0."><code onclick="Z(this)">0:11:54</code>And then we'll accumulate all of those. We'll accumulate them by sticking them together with addition starting from 0.</span><span s="727" t="That&apos;s the first program. The second program, I can describe in a very, very similar way. I&apos;ll say, we&apos;ll enumerate the numbers on this interval, for"><code onclick="Z(this)">0:12:07</code>That's the first program. The second program, I can describe in a very, very similar way. I'll say, we'll enumerate the numbers on this interval, for</span><span s="737" t="the interval 1 through n. We&apos;ll, for each one, compute the Fibonacci number, put them"><code onclick="Z(this)">0:12:17</code>the interval 1 through n. We'll, for each one, compute the Fibonacci number, put them</span><span s="748" t="through a transducer. We&apos;ll then take the result of that, and we&apos;ll filter it for oddness. And then we&apos;ll take those and put them into an accumulator."><code onclick="Z(this)">0:12:28</code>through a transducer. We'll then take the result of that, and we'll filter it for oddness. And then we'll take those and put them into an accumulator.</span><span s="759" t="This time we&apos;ll build up a list, so we&apos;ll accumulate with CONS starting from the empty list. So this way of looking at the program makes the two seem"><code onclick="Z(this)">0:12:39</code>This time we'll build up a list, so we'll accumulate with CONS starting from the empty list. So this way of looking at the program makes the two seem</span><span s="770" t="very, very similar. The problem is that that commonality is completely obscured when we look at the procedures we wrote. Let&apos;s go back and look at some odd squares again, and say"><code onclick="Z(this)">0:12:50</code>very, very similar. The problem is that that commonality is completely obscured when we look at the procedures we wrote. Let's go back and look at some odd squares again, and say</span><span s="782" t="things like, where&apos;s the enumerator? Where&apos;s the enumerator in this program? Well, it&apos;s not in one place."><code onclick="Z(this)">0:13:02</code>things like, where's the enumerator? Where's the enumerator in this program? Well, it's not in one place.</span><span s="791" t="It&apos;s a little bit in this leaf-node test, which is going to stop. It&apos;s a little bit in the recursive structure of the thing itself."><code onclick="Z(this)">0:13:11</code>It's a little bit in this leaf-node test, which is going to stop. It's a little bit in the recursive structure of the thing itself.</span><span s="803" t="Where&apos;s the accumulator? The accumulator isn&apos;t in one place either. It&apos;s partly in this 0 and partly in this plus."><code onclick="Z(this)">0:13:23</code>Where's the accumulator? The accumulator isn't in one place either. It's partly in this 0 and partly in this plus.</span><span s="812" t="It&apos;s not there as a thing that we can look at. Similarly, if we look at odd Fibs, that&apos;s also, in some sense, an enumerator and an accumulator, but"><code onclick="Z(this)">0:13:32</code>It's not there as a thing that we can look at. Similarly, if we look at odd Fibs, that's also, in some sense, an enumerator and an accumulator, but</span><span s="822" t="it looks very different. Because partly, the enumerator is here in this greater than sign in the test. And partly it&apos;s in this whole recursive"><code onclick="Z(this)">0:13:42</code>it looks very different. Because partly, the enumerator is here in this greater than sign in the test. And partly it's in this whole recursive</span><span s="832" t="structure in the loop, and the way that we call it. And then similarly, that&apos;s also mixed up in there with the accumulator, which is partly over there and partly"><code onclick="Z(this)">0:13:52</code>structure in the loop, and the way that we call it. And then similarly, that's also mixed up in there with the accumulator, which is partly over there and partly</span><span s="841" t="over there. So these very, very natural pieces, these very natural boxes here don&apos;t appear in our programs. Because they&apos;re kind"><code onclick="Z(this)">0:14:01</code>over there. So these very, very natural pieces, these very natural boxes here don't appear in our programs. Because they're kind</span><span s="853" t="of mixed up. The programs don&apos;t chop things up in the right way. Going back to this fundamental principle of computer science"><code onclick="Z(this)">0:14:13</code>of mixed up. The programs don't chop things up in the right way. Going back to this fundamental principle of computer science</span><span s="862" t="that in order to control something, you need the name of it, we don&apos;t really have control over thinking about things this way because we don&apos;t have our hands in them explicitly."><code onclick="Z(this)">0:14:22</code>that in order to control something, you need the name of it, we don't really have control over thinking about things this way because we don't have our hands in them explicitly.</span><span s="871" t="We don&apos;t have a good language for talking about them. Well, let&apos;s invent an appropriate language in which"><code onclick="Z(this)">0:14:31</code>We don't have a good language for talking about them. Well, let's invent an appropriate language in which</span><span s="882" t="we can build these pieces. The key to the language is these guys, is what is these things I called signals? What are these things that are flying on the"><code onclick="Z(this)">0:14:42</code>we can build these pieces. The key to the language is these guys, is what is these things I called signals? What are these things that are flying on the</span><span s="892" t="arrows between the boxes? Well, those things are going to be data structures called"><code onclick="Z(this)">0:14:52</code>arrows between the boxes? Well, those things are going to be data structures called</span><span s="902" t="streams. That&apos;s going to be the key to inventing this language. What&apos;s a stream? Well, a stream is, like anything else, a data abstraction."><code onclick="Z(this)">0:15:02</code>streams. That's going to be the key to inventing this language. What's a stream? Well, a stream is, like anything else, a data abstraction.</span><span s="912" t="So I should tell you what its selectors and constructors are. For a stream, we&apos;re going to have one constructor that&apos;s called CONS-stream."><code onclick="Z(this)">0:15:12</code>So I should tell you what its selectors and constructors are. For a stream, we're going to have one constructor that's called CONS-stream.</span><span s="925" t="CONS-stream is going to put two things together to form a thing called a stream. And then to extract things from the stream, we&apos;re going"><code onclick="Z(this)">0:15:25</code>CONS-stream is going to put two things together to form a thing called a stream. And then to extract things from the stream, we're going</span><span s="934" t="to have a selector called the head of the stream. So if I have a stream, I can take its head or I can take its tail."><code onclick="Z(this)">0:15:34</code>to have a selector called the head of the stream. So if I have a stream, I can take its head or I can take its tail.</span><span s="944" t="And remember, I have to tell you George&apos;s contract here to tell you what the axioms are that relate these."><code onclick="Z(this)">0:15:44</code>And remember, I have to tell you George's contract here to tell you what the axioms are that relate these.</span><span s="953" t="And it&apos;s going to be for any x and y, if I form the"><code onclick="Z(this)">0:15:53</code>And it's going to be for any x and y, if I form the</span><span s="964" t="CONS-stream and take the head, the head of CONS-stream of x and y is going to be x and the tail of CONS-stream of x and y"><code onclick="Z(this)">0:16:04</code>CONS-stream and take the head, the head of CONS-stream of x and y is going to be x and the tail of CONS-stream of x and y</span><span s="986" t="is going to be y. So those are the constructor, two selectors for streams, and an axiom. There&apos;s something fishy here."><code onclick="Z(this)">0:16:26</code>is going to be y. So those are the constructor, two selectors for streams, and an axiom. There's something fishy here.</span><span s="996" t="So you might notice that these are exactly the axioms for CONS, CAR, and CDR. If instead of writing CONS-stream I wrote"><code onclick="Z(this)">0:16:36</code>So you might notice that these are exactly the axioms for CONS, CAR, and CDR. If instead of writing CONS-stream I wrote</span><span s="1006" t="CONS and I said head was the CAR and tail was the CDR, those are exactly the axioms for pairs. And in fact, there&apos;s another thing here."><code onclick="Z(this)">0:16:46</code>CONS and I said head was the CAR and tail was the CDR, those are exactly the axioms for pairs. And in fact, there's another thing here.</span><span s="1015" t="We&apos;re going to have a thing called the-empty-stream, which is like the-empty-list."><code onclick="Z(this)">0:16:55</code>We're going to have a thing called the-empty-stream, which is like the-empty-list.</span><span s="1028" t="So why am I introducing this terminology? Why don&apos;t I just keep talking about pairs and lists? Well, we&apos;ll see. For now, if you like, why don&apos;t you just pretend that"><code onclick="Z(this)">0:17:08</code>So why am I introducing this terminology? Why don't I just keep talking about pairs and lists? Well, we'll see. For now, if you like, why don't you just pretend that</span><span s="1038" t="streams really are just a terminology for lists. And we&apos;ll see in a little while why we want to keep this extra abstraction layer and not just call them lists."><code onclick="Z(this)">0:17:18</code>streams really are just a terminology for lists. And we'll see in a little while why we want to keep this extra abstraction layer and not just call them lists.</span><span s="1052" t="OK, now that we have streams, we can start constructing the pieces of the language to operate on streams. And there are a whole bunch of very useful things that we could"><code onclick="Z(this)">0:17:32</code>OK, now that we have streams, we can start constructing the pieces of the language to operate on streams. And there are a whole bunch of very useful things that we could</span><span s="1061" t="start making. For instance, we&apos;ll make our map box to take a stream, s,"><code onclick="Z(this)">0:17:41</code>start making. For instance, we'll make our map box to take a stream, s,</span><span s="1074" t="and a procedure, and to generate a new stream which has as its elements the procedure applied to all the"><code onclick="Z(this)">0:17:54</code>and a procedure, and to generate a new stream which has as its elements the procedure applied to all the</span><span s="1083" t="successive elements of s. In fact, we&apos;ve seen this before. This is the procedure map that we did with lists. And you see it&apos;s exactly map, except we&apos;re testing for"><code onclick="Z(this)">0:18:03</code>successive elements of s. In fact, we've seen this before. This is the procedure map that we did with lists. And you see it's exactly map, except we're testing for</span><span s="1094" t="empty-stream. Oh, I forgot to mention that. Empty-stream is like the null test. So if it&apos;s empty, we generate the empty stream. Otherwise, we form a new stream whose first element is"><code onclick="Z(this)">0:18:14</code>empty-stream. Oh, I forgot to mention that. Empty-stream is like the null test. So if it's empty, we generate the empty stream. Otherwise, we form a new stream whose first element is</span><span s="1104" t="the procedure applied to the head of the stream, and whose rest is gotten by mapping along with the procedure down the tail of the stream."><code onclick="Z(this)">0:18:24</code>the procedure applied to the head of the stream, and whose rest is gotten by mapping along with the procedure down the tail of the stream.</span><span s="1113" t="So that looks exactly like the map procedure we looked at before. Here&apos;s another useful thing. Filter, this is our filter box. We&apos;re going to have a predicate and a stream."><code onclick="Z(this)">0:18:33</code>So that looks exactly like the map procedure we looked at before. Here's another useful thing. Filter, this is our filter box. We're going to have a predicate and a stream.</span><span s="1123" t="We&apos;re going to make a new stream that consists of all the elements of the original one that satisfy the predicate. That&apos;s case analysis. When there&apos;s nothing in the stream, we"><code onclick="Z(this)">0:18:43</code>We're going to make a new stream that consists of all the elements of the original one that satisfy the predicate. That's case analysis. When there's nothing in the stream, we</span><span s="1133" t="return the empty stream. We test the predicate on the head of the stream. And if it&apos;s true, we add the head of the stream onto the"><code onclick="Z(this)">0:18:53</code>return the empty stream. We test the predicate on the head of the stream. And if it's true, we add the head of the stream onto the</span><span s="1143" t="result of filtering the tail of the stream. And otherwise, if that predicate was false, we just filter the tail of the stream."><code onclick="Z(this)">0:19:03</code>result of filtering the tail of the stream. And otherwise, if that predicate was false, we just filter the tail of the stream.</span><span s="1153" t="Right, so there&apos;s filter. Let me run through a couple more rather quickly. They&apos;re all in the book and you can look at them. Let me just flash through."><code onclick="Z(this)">0:19:13</code>Right, so there's filter. Let me run through a couple more rather quickly. They're all in the book and you can look at them. Let me just flash through.</span><span s="1162" t="Here&apos;s accumulate. Accumulate takes a way of combining things and an initial value in a stream and sticks them all together."><code onclick="Z(this)">0:19:22</code>Here's accumulate. Accumulate takes a way of combining things and an initial value in a stream and sticks them all together.</span><span s="1171" t="If the stream&apos;s empty, it&apos;s just the initial value. Otherwise, we combine the head of the stream with the result of accumulating the tail of the stream starting from the initial value."><code onclick="Z(this)">0:19:31</code>If the stream's empty, it's just the initial value. Otherwise, we combine the head of the stream with the result of accumulating the tail of the stream starting from the initial value.</span><span s="1180" t="So that&apos;s what I&apos;d use to add up everything in the stream. I&apos;d accumulate with plus. How would I enumerate the leaves of a tree? Well, if the tree is just a leaf itself, I make something"><code onclick="Z(this)">0:19:40</code>So that's what I'd use to add up everything in the stream. I'd accumulate with plus. How would I enumerate the leaves of a tree? Well, if the tree is just a leaf itself, I make something</span><span s="1194" t="which only has that node in it. Otherwise, I append together the stuff of enumerating the left branch and the right branch."><code onclick="Z(this)">0:19:54</code>which only has that node in it. Otherwise, I append together the stuff of enumerating the left branch and the right branch.</span><span s="1204" t="And then append here is like the ordinary append on lists."><code onclick="Z(this)">0:20:04</code>And then append here is like the ordinary append on lists.</span><span s="1213" t="You can look at that. That&apos;s analogous to the ordinary procedure for appending two lists. How would I enumerate an interval? This will take two integers, low and high, and generate a"><code onclick="Z(this)">0:20:13</code>You can look at that. That's analogous to the ordinary procedure for appending two lists. How would I enumerate an interval? This will take two integers, low and high, and generate a</span><span s="1224" t="stream of the integers going from low to high. And we can make a whole bunch of pieces. So that&apos;s a little language of talking about streams. Once we"><code onclick="Z(this)">0:20:24</code>stream of the integers going from low to high. And we can make a whole bunch of pieces. So that's a little language of talking about streams. Once we</span><span s="1234" t="have streams, we can build things for manipulating them. Again, we&apos;re making a language. And now we can start expressing things in this language."><code onclick="Z(this)">0:20:34</code>have streams, we can build things for manipulating them. Again, we're making a language. And now we can start expressing things in this language.</span><span s="1243" t="Here&apos;s our original procedure for summing the odd squares in a tree. And you&apos;ll notice it looks exactly now like the block"><code onclick="Z(this)">0:20:43</code>Here's our original procedure for summing the odd squares in a tree. And you'll notice it looks exactly now like the block</span><span s="1252" t="diagram, like the signal processing block diagram. So to sum the odd squares in a tree, we enumerate the leaves of the tree."><code onclick="Z(this)">0:20:52</code>diagram, like the signal processing block diagram. So to sum the odd squares in a tree, we enumerate the leaves of the tree.</span><span s="1261" t="We filter that for oddness. We map that for squareness. And we accumulate the result of that using addition,"><code onclick="Z(this)">0:21:01</code>We filter that for oddness. We map that for squareness. And we accumulate the result of that using addition,</span><span s="1272" t="starting from 0. So we can see the pieces that we wanted. Similarly, the Fibonacci one, how do we get the odd Fibs?"><code onclick="Z(this)">0:21:12</code>starting from 0. So we can see the pieces that we wanted. Similarly, the Fibonacci one, how do we get the odd Fibs?</span><span s="1282" t="Well, we enumerate the interval from 1 to n, we map along that, computing the Fibonacci of each one. We filter the result of those for oddness."><code onclick="Z(this)">0:21:22</code>Well, we enumerate the interval from 1 to n, we map along that, computing the Fibonacci of each one. We filter the result of those for oddness.</span><span s="1294" t="And we accumulate all of that stuff using CONS starting from the empty-list."><code onclick="Z(this)">0:21:34</code>And we accumulate all of that stuff using CONS starting from the empty-list.</span><span s="1303" t="OK, what&apos;s the advantage of this? Well, for one thing, we now have pieces that we can start mixing and matching. So for instance, if I wanted to change this, if I wanted to"><code onclick="Z(this)">0:21:43</code>OK, what's the advantage of this? Well, for one thing, we now have pieces that we can start mixing and matching. So for instance, if I wanted to change this, if I wanted to</span><span s="1318" t="compute the squares of the integers and then filter them, all I need to do is pick up a standard piece like this in that square and put it in. Or if we wanted to do this whole Fibonacci computation on"><code onclick="Z(this)">0:21:58</code>compute the squares of the integers and then filter them, all I need to do is pick up a standard piece like this in that square and put it in. Or if we wanted to do this whole Fibonacci computation on</span><span s="1330" t="the leaves of a tree rather than a sequence, all I need to do is replace this enumerator with that one. See, the advantage of this stream processing is that"><code onclick="Z(this)">0:22:10</code>the leaves of a tree rather than a sequence, all I need to do is replace this enumerator with that one. See, the advantage of this stream processing is that</span><span s="1340" t="we&apos;re establishing-- this is one of the big themes of the course-- we&apos;re establishing conventional interfaces that"><code onclick="Z(this)">0:22:20</code>we're establishing-- this is one of the big themes of the course-- we're establishing conventional interfaces that</span><span s="1355" t="allow us to glue things together. Things like map and filter are a standard set of components that we can start using for pasting together programs in all sorts of ways."><code onclick="Z(this)">0:22:35</code>allow us to glue things together. Things like map and filter are a standard set of components that we can start using for pasting together programs in all sorts of ways.</span><span s="1365" t="It allows us to see the commonality of programs. I just ought to mention, I&apos;ve only showed you two procedures. But let me emphasize that this way of putting things together"><code onclick="Z(this)">0:22:45</code>It allows us to see the commonality of programs. I just ought to mention, I've only showed you two procedures. But let me emphasize that this way of putting things together</span><span s="1377" t="with maps, filters, and accumulators is very, very general. It&apos;s the generate and test paradigm for programs. And as"><code onclick="Z(this)">0:22:57</code>with maps, filters, and accumulators is very, very general. It's the generate and test paradigm for programs. And as</span><span s="1388" t="an example of that, Richard Waters, who was at MIT when he was a graduate student, as part of his thesis research went and analyzed a large chunk of the IBM scientific"><code onclick="Z(this)">0:23:08</code>an example of that, Richard Waters, who was at MIT when he was a graduate student, as part of his thesis research went and analyzed a large chunk of the IBM scientific</span><span s="1397" t="subroutine library, and discovered that about 60% of the programs in it could be expressed exactly in terms"><code onclick="Z(this)">0:23:17</code>subroutine library, and discovered that about 60% of the programs in it could be expressed exactly in terms</span><span s="1406" t="using no more than what we&apos;ve put here-- map, filter, and accumulate. All right, let&apos;s take a break."><code onclick="Z(this)">0:23:26</code>using no more than what we've put here-- map, filter, and accumulate. All right, let's take a break.</span><span s="1416" t="Questions? AUDIENCE: It seems like the essence of this whole thing is just that you have a very uniform, simple data structure"><code onclick="Z(this)">0:23:36</code>Questions? AUDIENCE: It seems like the essence of this whole thing is just that you have a very uniform, simple data structure</span><span s="1425" t="to work with, the stream. PROFESSOR: Right. The essence is that you, again, it&apos;s this sense of conventional interfaces. So you can start putting a lot of things together."><code onclick="Z(this)">0:23:45</code>to work with, the stream. PROFESSOR: Right. The essence is that you, again, it's this sense of conventional interfaces. So you can start putting a lot of things together.</span><span s="1435" t="And the stream is as you say, the uniform data structure that supports that. This is very much like APL, by the way. APL is very much the same idea, except in APL, instead"><code onclick="Z(this)">0:23:55</code>And the stream is as you say, the uniform data structure that supports that. This is very much like APL, by the way. APL is very much the same idea, except in APL, instead</span><span s="1446" t="of this stream, you have arrays and vectors. And a lot of the power of APL is exactly the same reason of the power of this."><code onclick="Z(this)">0:24:06</code>of this stream, you have arrays and vectors. And a lot of the power of APL is exactly the same reason of the power of this.</span><span s="1459" t="OK, thank you. Let&apos;s take a break."><code onclick="Z(this)">0:24:19</code>OK, thank you. Let's take a break.</span><span s="1497" t="All right. We&apos;ve been looking at ways of organizing computations using streams. What I want to do now is just show you two somewhat"><code onclick="Z(this)">0:24:57</code>All right. We've been looking at ways of organizing computations using streams. What I want to do now is just show you two somewhat</span><span s="1507" t="more complicated examples of that. Let&apos;s start by thinking about the following kind of utility procedure that will come in useful."><code onclick="Z(this)">0:25:07</code>more complicated examples of that. Let's start by thinking about the following kind of utility procedure that will come in useful.</span><span s="1516" t="Suppose I&apos;ve got a stream. And the elements of this stream are themselves streams. So the first thing might be 1, 2, 3."><code onclick="Z(this)">0:25:16</code>Suppose I've got a stream. And the elements of this stream are themselves streams. So the first thing might be 1, 2, 3.</span><span s="1532" t="So I&apos;ve got a stream. And each element of the stream is itself a stream. And what I&apos;d like to do is build a stream that collects"><code onclick="Z(this)">0:25:32</code>So I've got a stream. And each element of the stream is itself a stream. And what I'd like to do is build a stream that collects</span><span s="1545" t="together all of the elements, pulls all of the elements out of these sub-streams and strings them all together in one thing. So just to show you the use of this language, how easy it is,"><code onclick="Z(this)">0:25:45</code>together all of the elements, pulls all of the elements out of these sub-streams and strings them all together in one thing. So just to show you the use of this language, how easy it is,</span><span s="1556" t="call that flatten. And I can define to flatten this stream of streams. Well,"><code onclick="Z(this)">0:25:56</code>call that flatten. And I can define to flatten this stream of streams. Well,</span><span s="1573" t="what is that? That&apos;s just an accumulation. I want to accumulate using append, by"><code onclick="Z(this)">0:26:13</code>what is that? That's just an accumulation. I want to accumulate using append, by</span><span s="1585" t="successively appending. So I accumulate using append streams, starting with"><code onclick="Z(this)">0:26:25</code>successively appending. So I accumulate using append streams, starting with</span><span s="1596" t="the-empty-stream down that stream of streams."><code onclick="Z(this)">0:26:36</code>the-empty-stream down that stream of streams.</span><span s="1614" t="OK, so there&apos;s an example of how you can start using these higher order things to do some interesting operations. In fact, there&apos;s another useful thing"><code onclick="Z(this)">0:26:54</code>OK, so there's an example of how you can start using these higher order things to do some interesting operations. In fact, there's another useful thing</span><span s="1624" t="that I want to do. I want to define a procedure called flat-map, flat map of"><code onclick="Z(this)">0:27:04</code>that I want to do. I want to define a procedure called flat-map, flat map of</span><span s="1638" t="some function and a stream. And what this is going to do is f will be a stream of elements. f is going to be a function that for each element in the"><code onclick="Z(this)">0:27:18</code>some function and a stream. And what this is going to do is f will be a stream of elements. f is going to be a function that for each element in the</span><span s="1648" t="stream produces another stream. And what I want to do is take all of the elements and all of those streams and combine them together. So that&apos;s just going to be the flatten of map f down s."><code onclick="Z(this)">0:27:28</code>stream produces another stream. And what I want to do is take all of the elements and all of those streams and combine them together. So that's just going to be the flatten of map f down s.</span><span s="1671" t="Each time I apply f to an element of s, I get a stream. If I map it all the way down, I get a stream of streams, and I&apos;ll flatten that. Well, I want to use that to show you a new way to do a"><code onclick="Z(this)">0:27:51</code>Each time I apply f to an element of s, I get a stream. If I map it all the way down, I get a stream of streams, and I'll flatten that. Well, I want to use that to show you a new way to do a</span><span s="1684" t="familiar kind of problem. The problem&apos;s going to be like a lot of problems you&apos;ve seen, although maybe not this particular one."><code onclick="Z(this)">0:28:04</code>familiar kind of problem. The problem's going to be like a lot of problems you've seen, although maybe not this particular one.</span><span s="1694" t="I&apos;m going to give you an integer, n. And the problem is going to be find all pairs and integers i"><code onclick="Z(this)">0:28:14</code>I'm going to give you an integer, n. And the problem is going to be find all pairs and integers i</span><span s="1711" t="and j, between 0 and i, with j less than i, up to n, such"><code onclick="Z(this)">0:28:31</code>and j, between 0 and i, with j less than i, up to n, such</span><span s="1722" t="that i plus j is prime."><code onclick="Z(this)">0:28:42</code>that i plus j is prime.</span><span s="1735" t="So for example, if n equals 6, let&apos;s make a little table here, i and j and i plus j."><code onclick="Z(this)">0:28:55</code>So for example, if n equals 6, let's make a little table here, i and j and i plus j.</span><span s="1749" t="So for, say, i equals 2 and j equals 1, I&apos;d get 3. And for i equals 3, I could have j equals 2, and that"><code onclick="Z(this)">0:29:09</code>So for, say, i equals 2 and j equals 1, I'd get 3. And for i equals 3, I could have j equals 2, and that</span><span s="1758" t="would be 5. And 4 and 1 would be 5 and so on, up until i goes to 6."><code onclick="Z(this)">0:29:18</code>would be 5. And 4 and 1 would be 5 and so on, up until i goes to 6.</span><span s="1768" t="And what I&apos;d like to return is to produce a stream of all the triples like this, let&apos;s say i, j, and i plus j."><code onclick="Z(this)">0:29:28</code>And what I'd like to return is to produce a stream of all the triples like this, let's say i, j, and i plus j.</span><span s="1777" t="So for each n, I want to generate this stream. OK, well, that&apos;s easy. Let&apos;s build it up."><code onclick="Z(this)">0:29:37</code>So for each n, I want to generate this stream. OK, well, that's easy. Let's build it up.</span><span s="1787" t="We start like this. We&apos;re going to say for each i, we&apos;re going to generate a stream."><code onclick="Z(this)">0:29:47</code>We start like this. We're going to say for each i, we're going to generate a stream.</span><span s="1796" t="For each i in the interval 1 through n, we&apos;re going to generate a stream. What&apos;s that stream going to be? We&apos;re going to start by generating all the pairs. So for each i, we&apos;re going to generate, for each j in the"><code onclick="Z(this)">0:29:56</code>For each i in the interval 1 through n, we're going to generate a stream. What's that stream going to be? We're going to start by generating all the pairs. So for each i, we're going to generate, for each j in the</span><span s="1811" t="interval 1 to i minus 1, we&apos;ll generate the pair, or the list with two elements i and j."><code onclick="Z(this)">0:30:11</code>interval 1 to i minus 1, we'll generate the pair, or the list with two elements i and j.</span><span s="1823" t="So we map along the interval, generating the pairs. And for each i, that generates a stream of pairs."><code onclick="Z(this)">0:30:23</code>So we map along the interval, generating the pairs. And for each i, that generates a stream of pairs.</span><span s="1833" t="And we flatmap it. Now we have all the pairs i and j, such that i is less than j. So that builds that. Now we&apos;re got to test them."><code onclick="Z(this)">0:30:33</code>And we flatmap it. Now we have all the pairs i and j, such that i is less than j. So that builds that. Now we're got to test them.</span><span s="1842" t="Well, we take that thing we just built, the flatmap, and we filter it to see whether the i-- see, we had an i and a j."><code onclick="Z(this)">0:30:42</code>Well, we take that thing we just built, the flatmap, and we filter it to see whether the i-- see, we had an i and a j.</span><span s="1851" t="i was the first thing in the list, j was the second thing in the list. So we have a predicate which says in that list of two elements is the sum of the"><code onclick="Z(this)">0:30:51</code>i was the first thing in the list, j was the second thing in the list. So we have a predicate which says in that list of two elements is the sum of the</span><span s="1860" t="CAR and the CDR prime. And we filter that collection of pairs we just built. So those are the pairs we want."><code onclick="Z(this)">0:31:00</code>CAR and the CDR prime. And we filter that collection of pairs we just built. So those are the pairs we want.</span><span s="1869" t="Now we go ahead and we take the result of that filter and we map along it, generating the list i and j and i plus j."><code onclick="Z(this)">0:31:09</code>Now we go ahead and we take the result of that filter and we map along it, generating the list i and j and i plus j.</span><span s="1879" t="And that&apos;s our procedure prime-sum-pairs. And then just to flash it up, here&apos;s the whole procedure. A map, a filter, a flatmap."><code onclick="Z(this)">0:31:19</code>And that's our procedure prime-sum-pairs. And then just to flash it up, here's the whole procedure. A map, a filter, a flatmap.</span><span s="1894" t="There&apos;s the whole thing, even though this isn&apos;t particularly readable. It&apos;s just expanding that flatmap. So there&apos;s an example which illustrates the general point"><code onclick="Z(this)">0:31:34</code>There's the whole thing, even though this isn't particularly readable. It's just expanding that flatmap. So there's an example which illustrates the general point</span><span s="1905" t="that nested loops in this procedure start looking like compositions of flatmaps of flatmaps of flatmaps of maps and things."><code onclick="Z(this)">0:31:45</code>that nested loops in this procedure start looking like compositions of flatmaps of flatmaps of flatmaps of maps and things.</span><span s="1914" t="So not only can we enumerate individual things, but by using flatmaps, we can do what would correspond to nested loops in most other languages."><code onclick="Z(this)">0:31:54</code>So not only can we enumerate individual things, but by using flatmaps, we can do what would correspond to nested loops in most other languages.</span><span s="1923" t="Of course, it&apos;s pretty awful to keep writing these flatmaps of flatmaps of flatmaps. Prime-sum-pairs you saw looked fairly complicated, even"><code onclick="Z(this)">0:32:03</code>Of course, it's pretty awful to keep writing these flatmaps of flatmaps of flatmaps. Prime-sum-pairs you saw looked fairly complicated, even</span><span s="1933" t="though the individual pieces were easy. So what you can do, if you like, is introduced some syntactic sugar that&apos;s called collect. And collect is just an abbreviation for that nest of"><code onclick="Z(this)">0:32:13</code>though the individual pieces were easy. So what you can do, if you like, is introduced some syntactic sugar that's called collect. And collect is just an abbreviation for that nest of</span><span s="1943" t="flatmaps and filters arranged in that particular way. Here&apos;s prime-sum-pairs again, written using collect. It says to find all those pairs, I&apos;m going to collect"><code onclick="Z(this)">0:32:23</code>flatmaps and filters arranged in that particular way. Here's prime-sum-pairs again, written using collect. It says to find all those pairs, I'm going to collect</span><span s="1952" t="together a result, which is the list i, j, and i plus j, that&apos;s going to be generated as i runs through the interval"><code onclick="Z(this)">0:32:32</code>together a result, which is the list i, j, and i plus j, that's going to be generated as i runs through the interval</span><span s="1964" t="from 1 to n and as j runs through the interval from 1 to i minus 1, such that i plus j is prime."><code onclick="Z(this)">0:32:44</code>from 1 to n and as j runs through the interval from 1 to i minus 1, such that i plus j is prime.</span><span s="1978" t="So I&apos;m not going to say what collect does in general. You can look at that by looking at it in the book. But pretty much, you can see that the pieces of this are the pieces of that original procedure I wrote."><code onclick="Z(this)">0:32:58</code>So I'm not going to say what collect does in general. You can look at that by looking at it in the book. But pretty much, you can see that the pieces of this are the pieces of that original procedure I wrote.</span><span s="1988" t="And this collect is just some syntactic sugar for automatically generating that nest of flatmaps and flatmaps. OK, well, let me do one more example that shows you the"><code onclick="Z(this)">0:33:08</code>And this collect is just some syntactic sugar for automatically generating that nest of flatmaps and flatmaps. OK, well, let me do one more example that shows you the</span><span s="2001" t="same kind of thing. Here&apos;s a very famous problem that&apos;s used to illustrate a lot of so-called backtracking computer algorithms. This is the eight queens problem."><code onclick="Z(this)">0:33:21</code>same kind of thing. Here's a very famous problem that's used to illustrate a lot of so-called backtracking computer algorithms. This is the eight queens problem.</span><span s="2010" t="This is a chess board. And the eight queens problem says, find a way to put down eight queens on a chess board so that no two are attacking each other. And here&apos;s a particular solution to the"><code onclick="Z(this)">0:33:30</code>This is a chess board. And the eight queens problem says, find a way to put down eight queens on a chess board so that no two are attacking each other. And here's a particular solution to the</span><span s="2019" t="eight queens problem. So I have to make sure to put down queens so that no two are in the same row or the same column or sit"><code onclick="Z(this)">0:33:39</code>eight queens problem. So I have to make sure to put down queens so that no two are in the same row or the same column or sit</span><span s="2028" t="along the same diagonal. Now, there&apos;s sort of a standard way of doing that."><code onclick="Z(this)">0:33:48</code>along the same diagonal. Now, there's sort of a standard way of doing that.</span><span s="2039" t="Well, first we need to do is below the surface, at George&apos;s level. We have to find some way to represent a board, and represent positions."><code onclick="Z(this)">0:33:59</code>Well, first we need to do is below the surface, at George's level. We have to find some way to represent a board, and represent positions.</span><span s="2048" t="And we&apos;ll not worry about that. But let&apos;s assume that there&apos;s a predicate called safe. And what safe is going to do is going to say given that I"><code onclick="Z(this)">0:34:08</code>And we'll not worry about that. But let's assume that there's a predicate called safe. And what safe is going to do is going to say given that I</span><span s="2059" t="have a bunch of queens down on the chess board, is it OK to put a queen in this particular spot? So safe is going to take a row and a column."><code onclick="Z(this)">0:34:19</code>have a bunch of queens down on the chess board, is it OK to put a queen in this particular spot? So safe is going to take a row and a column.</span><span s="2072" t="That&apos;s going to be a place where I&apos;m going to try and put down the next queen, and the rest of positions."><code onclick="Z(this)">0:34:32</code>That's going to be a place where I'm going to try and put down the next queen, and the rest of positions.</span><span s="2085" t="And what safe will say is given that I already have queens down in these positions, is it safe to put another queen down in that row and that column?"><code onclick="Z(this)">0:34:45</code>And what safe will say is given that I already have queens down in these positions, is it safe to put another queen down in that row and that column?</span><span s="2098" t="And let&apos;s not worry about that. That&apos;s George&apos;s problem. and it&apos;s not hard to write. You just have to check whether this thing contains any things on that row or that column or in that diagonal."><code onclick="Z(this)">0:34:58</code>And let's not worry about that. That's George's problem. and it's not hard to write. You just have to check whether this thing contains any things on that row or that column or in that diagonal.</span><span s="2110" t="Now, how would you organize the program given that? And there&apos;s sort of a traditional way to organize it called backtracking."><code onclick="Z(this)">0:35:10</code>Now, how would you organize the program given that? And there's sort of a traditional way to organize it called backtracking.</span><span s="2120" t="And it says, well, let&apos;s think about all the ways of putting the first queen down in the first column."><code onclick="Z(this)">0:35:20</code>And it says, well, let's think about all the ways of putting the first queen down in the first column.</span><span s="2131" t="There are eight ways. Well, let&apos;s say try the first column. Try column 1, row 1. These branches are going to represent the possibilities at"><code onclick="Z(this)">0:35:31</code>There are eight ways. Well, let's say try the first column. Try column 1, row 1. These branches are going to represent the possibilities at</span><span s="2141" t="each level. So I&apos;ll try and put a queen down in the first column. And now given that it&apos;s in the first column, I&apos;ll try and put the next queen down in the first column."><code onclick="Z(this)">0:35:41</code>each level. So I'll try and put a queen down in the first column. And now given that it's in the first column, I'll try and put the next queen down in the first column.</span><span s="2153" t="I&apos;ll try and put the first queen, the one in the first column, down in the first row. I&apos;m sorry. And then given that, we&apos;ll put the next queen down in the first row. And that&apos;s no good."><code onclick="Z(this)">0:35:53</code>I'll try and put the first queen, the one in the first column, down in the first row. I'm sorry. And then given that, we'll put the next queen down in the first row. And that's no good.</span><span s="2162" t="So I&apos;ll back up to here. And I&apos;ll say, oh, can I put the first queen down in the second row? Well, that&apos;s no good. Oh, can I put it down in the third row? Well, that&apos;s good."><code onclick="Z(this)">0:36:02</code>So I'll back up to here. And I'll say, oh, can I put the first queen down in the second row? Well, that's no good. Oh, can I put it down in the third row? Well, that's good.</span><span s="2172" t="Well, now can I put the next queen down in the first column? Well, I can&apos;t visualize this chess board anymore, but I think that&apos;s right. And I try the next one. And at each place, I go as far down this tree as I can."><code onclick="Z(this)">0:36:12</code>Well, now can I put the next queen down in the first column? Well, I can't visualize this chess board anymore, but I think that's right. And I try the next one. And at each place, I go as far down this tree as I can.</span><span s="2184" t="And I back up. If I get down to here and find no possibilities below there, I back all the way up to here, and now start again generating this sub-tree."><code onclick="Z(this)">0:36:24</code>And I back up. If I get down to here and find no possibilities below there, I back all the way up to here, and now start again generating this sub-tree.</span><span s="2193" t="And I sort of walk around. And finally, if I ever manage to get all the way down, I&apos;ve found a solution. So that&apos;s a typical sort of paradigm that&apos;s used a lot in"><code onclick="Z(this)">0:36:33</code>And I sort of walk around. And finally, if I ever manage to get all the way down, I've found a solution. So that's a typical sort of paradigm that's used a lot in</span><span s="2205" t="AI programming. It&apos;s called backtracking search."><code onclick="Z(this)">0:36:45</code>AI programming. It's called backtracking search.</span><span s="2217" t="And it&apos;s really unnecessary. You saw me get confused when I was visualizing this thing."><code onclick="Z(this)">0:36:57</code>And it's really unnecessary. You saw me get confused when I was visualizing this thing.</span><span s="2226" t="And you see the complication. This is a complicated thing to say. Why is it complicated? Its because somehow this program is too inordinately"><code onclick="Z(this)">0:37:06</code>And you see the complication. This is a complicated thing to say. Why is it complicated? Its because somehow this program is too inordinately</span><span s="2236" t="concerned with time. It&apos;s too much-- I try this one, and I try this one, and I go back to the last possibility. And that&apos;s a complicated thing. If I stop worrying about time so much, then there&apos;s a much"><code onclick="Z(this)">0:37:16</code>concerned with time. It's too much-- I try this one, and I try this one, and I go back to the last possibility. And that's a complicated thing. If I stop worrying about time so much, then there's a much</span><span s="2248" t="simpler way to describe this. It says, let&apos;s imagine that I have in my hands the tree down"><code onclick="Z(this)">0:37:28</code>simpler way to describe this. It says, let's imagine that I have in my hands the tree down</span><span s="2260" t="to k minus 1 levels. See, suppose I had in my hands all possible ways to put down"><code onclick="Z(this)">0:37:40</code>to k minus 1 levels. See, suppose I had in my hands all possible ways to put down</span><span s="2270" t="queens in the first k columns. Suppose I just had that. Let&apos;s not worry about how we get it. Well, then, how do I extend that?"><code onclick="Z(this)">0:37:50</code>queens in the first k columns. Suppose I just had that. Let's not worry about how we get it. Well, then, how do I extend that?</span><span s="2279" t="How do I find all possible ways to put down queens in the next column? It&apos;s really easy. For each of these positions I have, I think about putting"><code onclick="Z(this)">0:37:59</code>How do I find all possible ways to put down queens in the next column? It's really easy. For each of these positions I have, I think about putting</span><span s="2292" t="down a queen in each row to make the next thing. And then for each one I put down, I filter those by the ones that are safe."><code onclick="Z(this)">0:38:12</code>down a queen in each row to make the next thing. And then for each one I put down, I filter those by the ones that are safe.</span><span s="2302" t="So instead of thinking about this tree as generated step by step, suppose I had it all there. And to extend it from level k minus 1 to level k, I just"><code onclick="Z(this)">0:38:22</code>So instead of thinking about this tree as generated step by step, suppose I had it all there. And to extend it from level k minus 1 to level k, I just</span><span s="2312" t="need to extend each thing in all possible ways and only keep the ones that are safe. And that will give me the tree to level k. And that&apos;s a recursive strategy for solving the eight"><code onclick="Z(this)">0:38:32</code>need to extend each thing in all possible ways and only keep the ones that are safe. And that will give me the tree to level k. And that's a recursive strategy for solving the eight</span><span s="2321" t="queens problem. All right, well, let&apos;s look at it."><code onclick="Z(this)">0:38:41</code>queens problem. All right, well, let's look at it.</span><span s="2330" t="To solve the eight queens problem on a board of some specified size, we write a sub-procedure called"><code onclick="Z(this)">0:38:50</code>To solve the eight queens problem on a board of some specified size, we write a sub-procedure called</span><span s="2340" t="fill-columns. Fill-columns is going to put down queens up through column k. And here&apos;s the pattern of the recursion. I&apos;m going to call fill-columns with the size eventually."><code onclick="Z(this)">0:39:00</code>fill-columns. Fill-columns is going to put down queens up through column k. And here's the pattern of the recursion. I'm going to call fill-columns with the size eventually.</span><span s="2352" t="So fill-columns says how to put down queens safely in the first k columns of this chess board with a size number of rows in it. If k is equal to 0, well, then I don&apos;t have to"><code onclick="Z(this)">0:39:12</code>So fill-columns says how to put down queens safely in the first k columns of this chess board with a size number of rows in it. If k is equal to 0, well, then I don't have to</span><span s="2362" t="put anything down. So my solution is just an empty chess board. Otherwise, I&apos;m going to do some stuff. And I&apos;m going to use collect. And here&apos;s the collect."><code onclick="Z(this)">0:39:22</code>put anything down. So my solution is just an empty chess board. Otherwise, I'm going to do some stuff. And I'm going to use collect. And here's the collect.</span><span s="2374" t="I find all ways to put down queens in the first k minus 1 columns. And this was just what I set for."><code onclick="Z(this)">0:39:34</code>I find all ways to put down queens in the first k minus 1 columns. And this was just what I set for.</span><span s="2383" t="Imagine I have this tree down to k minus 1 levels. And then I find all ways of trying a row, that&apos;s just each"><code onclick="Z(this)">0:39:43</code>Imagine I have this tree down to k minus 1 levels. And then I find all ways of trying a row, that's just each</span><span s="2393" t="of the possible rows. They&apos;re size rows, so that&apos;s enumerate interval. And now what I do is I collect together the new row I&apos;m going"><code onclick="Z(this)">0:39:53</code>of the possible rows. They're size rows, so that's enumerate interval. And now what I do is I collect together the new row I'm going</span><span s="2403" t="to try and column k with the rest of the queens. I adjoin a position. This is George&apos;s problem. An adjoined position is like safe."><code onclick="Z(this)">0:40:03</code>to try and column k with the rest of the queens. I adjoin a position. This is George's problem. An adjoined position is like safe.</span><span s="2413" t="It&apos;s a thing that takes a row and a column and the rest of the positions and makes a new position collection. So I adjoin a position of a new row and a new column to"><code onclick="Z(this)">0:40:13</code>It's a thing that takes a row and a column and the rest of the positions and makes a new position collection. So I adjoin a position of a new row and a new column to</span><span s="2426" t="the rest of the queens, where the rest of the queens runs through all possible ways of solving the problem in k minus 1 columns. And the new row runs through all possible rows such that it"><code onclick="Z(this)">0:40:26</code>the rest of the queens, where the rest of the queens runs through all possible ways of solving the problem in k minus 1 columns. And the new row runs through all possible rows such that it</span><span s="2439" t="was safe to put one there. And that&apos;s the whole program. There&apos;s the whole procedure."><code onclick="Z(this)">0:40:39</code>was safe to put one there. And that's the whole program. There's the whole procedure.</span><span s="2449" t="Not only that, that doesn&apos;t just solve the eight queens problem, it gives you all solutions to the eight queens problem. When you&apos;re done, you have a stream."><code onclick="Z(this)">0:40:49</code>Not only that, that doesn't just solve the eight queens problem, it gives you all solutions to the eight queens problem. When you're done, you have a stream.</span><span s="2458" t="And the elements of that stream are all possible ways of solving that problem. Why is that simpler? Well, we threw away the whole idea that this is some process"><code onclick="Z(this)">0:40:58</code>And the elements of that stream are all possible ways of solving that problem. Why is that simpler? Well, we threw away the whole idea that this is some process</span><span s="2470" t="that happens in time with state. And we just said it&apos;s a whole collection of stuff. And that&apos;s why it&apos;s simpler. We&apos;ve changed our view."><code onclick="Z(this)">0:41:10</code>that happens in time with state. And we just said it's a whole collection of stuff. And that's why it's simpler. We've changed our view.</span><span s="2480" t="Remember, that&apos;s where we started today. We&apos;ve changed our view of what it is we&apos;re trying to model. we stop modeling things that evolve in time and have steps"><code onclick="Z(this)">0:41:20</code>Remember, that's where we started today. We've changed our view of what it is we're trying to model. we stop modeling things that evolve in time and have steps</span><span s="2490" t="and have state. And instead, we&apos;re trying to model this global thing like the whole flight of the chalk, rather than its state at each instant."><code onclick="Z(this)">0:41:30</code>and have state. And instead, we're trying to model this global thing like the whole flight of the chalk, rather than its state at each instant.</span><span s="2500" t="Any questions? AUDIENCE: It looks to me like backtracking would be searching for the first solution it can find, whereas"><code onclick="Z(this)">0:41:40</code>Any questions? AUDIENCE: It looks to me like backtracking would be searching for the first solution it can find, whereas</span><span s="2509" t="this recursive search would be looking for all solutions. And it seems that if you have a large enough area to search,"><code onclick="Z(this)">0:41:49</code>this recursive search would be looking for all solutions. And it seems that if you have a large enough area to search,</span><span s="2518" t="that the second is going to become impossible. PROFESSOR: OK, the answer to that question is the whole"><code onclick="Z(this)">0:41:58</code>that the second is going to become impossible. PROFESSOR: OK, the answer to that question is the whole</span><span s="2527" t="rest of this lecture. It&apos;s exactly the right question. And without trying to anticipate the lecture too much, you should start being suspicious at this point, and"><code onclick="Z(this)">0:42:07</code>rest of this lecture. It's exactly the right question. And without trying to anticipate the lecture too much, you should start being suspicious at this point, and</span><span s="2539" t="exactly those kinds of suspicions. It&apos;s wonderful, but isn&apos;t it so terribly inefficient? That&apos;s where we&apos;re going."><code onclick="Z(this)">0:42:19</code>exactly those kinds of suspicions. It's wonderful, but isn't it so terribly inefficient? That's where we're going.</span><span s="2548" t="So I won&apos;t answer now, but I&apos;ll answer later. OK, let&apos;s take a break."><code onclick="Z(this)">0:42:28</code>So I won't answer now, but I'll answer later. OK, let's take a break.</span><span s="2609" t="Well, by now you should be starting to get suspicious. See, I&apos;ve showed your this simple, elegant way of putting"><code onclick="Z(this)">0:43:29</code>Well, by now you should be starting to get suspicious. See, I've showed your this simple, elegant way of putting</span><span s="2621" t="programs together, very unlike these other traditional programs that sum the odd squares or compute the odd"><code onclick="Z(this)">0:43:41</code>programs together, very unlike these other traditional programs that sum the odd squares or compute the odd</span><span s="2630" t="Fibonacci numbers. Very unlike these programs that mix up the enumerator and the filter and the accumulator."><code onclick="Z(this)">0:43:50</code>Fibonacci numbers. Very unlike these programs that mix up the enumerator and the filter and the accumulator.</span><span s="2640" t="And by mixing it up, we don&apos;t have all of these wonderful conceptual advantages of these streams pieces, these wonderful mix and match components for putting"><code onclick="Z(this)">0:44:00</code>And by mixing it up, we don't have all of these wonderful conceptual advantages of these streams pieces, these wonderful mix and match components for putting</span><span s="2649" t="together lots and lots of programs. On the other hand, most of the programs you&apos;ve seen look like these ugly ones."><code onclick="Z(this)">0:44:09</code>together lots and lots of programs. On the other hand, most of the programs you've seen look like these ugly ones.</span><span s="2658" t="Why&apos;s that? Can it possibly be that computer scientists are so obtuse that they don&apos;t notice that if you&apos;d merely did this"><code onclick="Z(this)">0:44:18</code>Why's that? Can it possibly be that computer scientists are so obtuse that they don't notice that if you'd merely did this</span><span s="2668" t="thing, then you can get this great programming elegance? There&apos;s got to be a catch. And it&apos;s actually pretty easy to see what the catch is."><code onclick="Z(this)">0:44:28</code>thing, then you can get this great programming elegance? There's got to be a catch. And it's actually pretty easy to see what the catch is.</span><span s="2679" t="Let&apos;s think about the following problem. Suppose I tell you to find the second prime between 10,000 and 1 million, or if your computer&apos;s larger, say between"><code onclick="Z(this)">0:44:39</code>Let's think about the following problem. Suppose I tell you to find the second prime between 10,000 and 1 million, or if your computer's larger, say between</span><span s="2691" t="10,000 and 100 billion, or something. And you say, oh, that&apos;s easy. I can do that with a stream. All I do is I enumerate the interval"><code onclick="Z(this)">0:44:51</code>10,000 and 100 billion, or something. And you say, oh, that's easy. I can do that with a stream. All I do is I enumerate the interval</span><span s="2701" t="from 10,000 to 1 million. So I get all those integers from 10,000 to 1 million. I filter them for prime-ness, so test all of them and see if"><code onclick="Z(this)">0:45:01</code>from 10,000 to 1 million. So I get all those integers from 10,000 to 1 million. I filter them for prime-ness, so test all of them and see if</span><span s="2710" t="they&apos;re prime. And I take the second element. That&apos;s the head of the tail. Well, that&apos;s clearly pretty ridiculous."><code onclick="Z(this)">0:45:10</code>they're prime. And I take the second element. That's the head of the tail. Well, that's clearly pretty ridiculous.</span><span s="2721" t="We&apos;d not even have room in the machine to store the integers in the first place, much less to test them. And then I only want the second one. See, the power of this traditional programming style"><code onclick="Z(this)">0:45:21</code>We'd not even have room in the machine to store the integers in the first place, much less to test them. And then I only want the second one. See, the power of this traditional programming style</span><span s="2736" t="is exactly its weakness, that we&apos;re mixing up the enumerating and the testing and the accumulating."><code onclick="Z(this)">0:45:36</code>is exactly its weakness, that we're mixing up the enumerating and the testing and the accumulating.</span><span s="2745" t="So we don&apos;t do it all. So the very thing that makes it conceptually ugly is the very thing that makes it efficient."><code onclick="Z(this)">0:45:45</code>So we don't do it all. So the very thing that makes it conceptually ugly is the very thing that makes it efficient.</span><span s="2755" t="It&apos;s this mixing up. So it seems that all I&apos;ve done this morning so far is just confuse you. I showed you this wonderful way that programming might work, except that it doesn&apos;t."><code onclick="Z(this)">0:45:55</code>It's this mixing up. So it seems that all I've done this morning so far is just confuse you. I showed you this wonderful way that programming might work, except that it doesn't.</span><span s="2765" t="Well, here&apos;s where the wonderful thing happens. It turns out in this game that we really can have our cake and eat it too."><code onclick="Z(this)">0:46:05</code>Well, here's where the wonderful thing happens. It turns out in this game that we really can have our cake and eat it too.</span><span s="2774" t="And what I mean by that is that we really can write stream programs exactly like the ones I wrote and arrange"><code onclick="Z(this)">0:46:14</code>And what I mean by that is that we really can write stream programs exactly like the ones I wrote and arrange</span><span s="2784" t="things so that when the machine actually runs, it&apos;s as efficient as running this traditional programming style that mixes up the generation and the test."><code onclick="Z(this)">0:46:24</code>things so that when the machine actually runs, it's as efficient as running this traditional programming style that mixes up the generation and the test.</span><span s="2796" t="Well, that sounds pretty magic. The key to this is that streams are not lists."><code onclick="Z(this)">0:46:36</code>Well, that sounds pretty magic. The key to this is that streams are not lists.</span><span s="2808" t="We&apos;ll see this carefully in a second, but for now, let&apos;s take a look at that slide again. The image you should have here of this signal processing system is that what&apos;s going to happen is there&apos;s this box"><code onclick="Z(this)">0:46:48</code>We'll see this carefully in a second, but for now, let's take a look at that slide again. The image you should have here of this signal processing system is that what's going to happen is there's this box</span><span s="2820" t="that has the integers sitting in it. And there&apos;s this filter that&apos;s connected to it and it&apos;s tugging on them."><code onclick="Z(this)">0:47:00</code>that has the integers sitting in it. And there's this filter that's connected to it and it's tugging on them.</span><span s="2830" t="And then there&apos;s someone who&apos;s tugging on this stuff saying what comes out of the filter. And the image you should have is that someone says, well,"><code onclick="Z(this)">0:47:10</code>And then there's someone who's tugging on this stuff saying what comes out of the filter. And the image you should have is that someone says, well,</span><span s="2839" t="what&apos;s the first prime, and tugs on this filter. And the filter tugs on the integers."><code onclick="Z(this)">0:47:19</code>what's the first prime, and tugs on this filter. And the filter tugs on the integers.</span><span s="2848" t="And you look only at that much, and then say, oh, I really wanted the second one. What&apos;s the second prime? And that no computation gets done except when you tug on"><code onclick="Z(this)">0:47:28</code>And you look only at that much, and then say, oh, I really wanted the second one. What's the second prime? And that no computation gets done except when you tug on</span><span s="2857" t="these things. Let me try that again. This is a little device. This is a little stream machine invented by Eric"><code onclick="Z(this)">0:47:37</code>these things. Let me try that again. This is a little device. This is a little stream machine invented by Eric</span><span s="2866" t="Grimson who&apos;s been teaching this course at MIT. And the image is here&apos;s a stream of stuff, like a whole bunch of the integers. And here&apos;s some processing elements."><code onclick="Z(this)">0:47:46</code>Grimson who's been teaching this course at MIT. And the image is here's a stream of stuff, like a whole bunch of the integers. And here's some processing elements.</span><span s="2878" t="And if, say, it&apos;s filter of filter of map, or something. And if I really tried to implement that with streams as"><code onclick="Z(this)">0:47:58</code>And if, say, it's filter of filter of map, or something. And if I really tried to implement that with streams as</span><span s="2888" t="lists, what I&apos;d say is, well, I&apos;ve got this list of things, and now I do the first filter. So do all this processing. And I take this and I process and I process and I process"><code onclick="Z(this)">0:48:08</code>lists, what I'd say is, well, I've got this list of things, and now I do the first filter. So do all this processing. And I take this and I process and I process and I process</span><span s="2898" t="and I process. And now I&apos;m got this new stream. Now I take that result in my hand someplace. And I put that through the second one. And I process the whole thing."><code onclick="Z(this)">0:48:18</code>and I process. And now I'm got this new stream. Now I take that result in my hand someplace. And I put that through the second one. And I process the whole thing.</span><span s="2908" t="And there&apos;s this new stream. And then I take the result and I put it all the way through this one the same way. That&apos;s what would happen to these stream programs if"><code onclick="Z(this)">0:48:28</code>And there's this new stream. And then I take the result and I put it all the way through this one the same way. That's what would happen to these stream programs if</span><span s="2921" t="streams were just lists. But in fact, streams aren&apos;t lists, they&apos;re streams. And the image you should have is something a little bit more like this."><code onclick="Z(this)">0:48:41</code>streams were just lists. But in fact, streams aren't lists, they're streams. And the image you should have is something a little bit more like this.</span><span s="2930" t="I&apos;ve got these gadgets connected up by this data that&apos;s flowing out of them."><code onclick="Z(this)">0:48:50</code>I've got these gadgets connected up by this data that's flowing out of them.</span><span s="2939" t="And here&apos;s my original source of the streams. It might be starting to generate the integers. And now, what happens if I want a result? I tug on the end here."><code onclick="Z(this)">0:48:59</code>And here's my original source of the streams. It might be starting to generate the integers. And now, what happens if I want a result? I tug on the end here.</span><span s="2950" t="And this element says, gee, I need some more data. So this one comes here and tugs on that one. And it says, gee, I need some more data. And this one tugs on this thing, which might be a"><code onclick="Z(this)">0:49:10</code>And this element says, gee, I need some more data. So this one comes here and tugs on that one. And it says, gee, I need some more data. And this one tugs on this thing, which might be a</span><span s="2959" t="filter, and says, gee, I need some more data. And only as much of this thing at the end here gets generated as I tugged. And only as much of this stuff goes through the processing"><code onclick="Z(this)">0:49:19</code>filter, and says, gee, I need some more data. And only as much of this thing at the end here gets generated as I tugged. And only as much of this stuff goes through the processing</span><span s="2968" t="units as I&apos;m pulling on the end I need. That&apos;s the image you should have of the difference between implementing what we&apos;re actually going to do and if streams were lists."><code onclick="Z(this)">0:49:28</code>units as I'm pulling on the end I need. That's the image you should have of the difference between implementing what we're actually going to do and if streams were lists.</span><span s="2980" t="Well, how do we make this thing? I hope you have the image. The trick is how to make it. We want to arrange for a stream to be a data structure"><code onclick="Z(this)">0:49:40</code>Well, how do we make this thing? I hope you have the image. The trick is how to make it. We want to arrange for a stream to be a data structure</span><span s="2992" t="that computes itself incrementally, an on-demand data structure. And the basic idea is, again, one of the very basic ideas"><code onclick="Z(this)">0:49:52</code>that computes itself incrementally, an on-demand data structure. And the basic idea is, again, one of the very basic ideas</span><span s="3002" t="that we&apos;re seeing throughout the whole course. And that is that there&apos;s not a firm distinction between programs and data. So what a stream is going to be is simultaneously this data"><code onclick="Z(this)">0:50:02</code>that we're seeing throughout the whole course. And that is that there's not a firm distinction between programs and data. So what a stream is going to be is simultaneously this data</span><span s="3012" t="structure that you think of, like the stream of the leaves of this tree. But at the same time, it&apos;s going to be a very clever procedure that has the method of computing in it."><code onclick="Z(this)">0:50:12</code>structure that you think of, like the stream of the leaves of this tree. But at the same time, it's going to be a very clever procedure that has the method of computing in it.</span><span s="3023" t="Well, let me try this. It&apos;s going to turn out that we don&apos;t need any more mechanism. We already have everything we need simply from the fact that we know how to handle procedures"><code onclick="Z(this)">0:50:23</code>Well, let me try this. It's going to turn out that we don't need any more mechanism. We already have everything we need simply from the fact that we know how to handle procedures</span><span s="3032" t="as first-class objects. Well, let&apos;s go back to the key. The key is, remember, we had these operations. CONS-stream and head and tail."><code onclick="Z(this)">0:50:32</code>as first-class objects. Well, let's go back to the key. The key is, remember, we had these operations. CONS-stream and head and tail.</span><span s="3048" t="When I started, I said you can think about this as CONS and think about this as CAR and think about that as CDR, but it&apos;s not. Now, let&apos;s look at what they really are."><code onclick="Z(this)">0:50:48</code>When I started, I said you can think about this as CONS and think about this as CAR and think about that as CDR, but it's not. Now, let's look at what they really are.</span><span s="3057" t="Well, CONS-stream of x and y is going to be an abbreviation"><code onclick="Z(this)">0:50:57</code>Well, CONS-stream of x and y is going to be an abbreviation</span><span s="3069" t="for the following thing."><code onclick="Z(this)">0:51:09</code>for the following thing.</span><span s="3079" t="CONS form a pair, ordinary CONS, of x to a thing called delay of y."><code onclick="Z(this)">0:51:19</code>CONS form a pair, ordinary CONS, of x to a thing called delay of y.</span><span s="3091" t="And before I explain that, let me go and write the rest. The head of a stream is going to be just the CAR."><code onclick="Z(this)">0:51:31</code>And before I explain that, let me go and write the rest. The head of a stream is going to be just the CAR.</span><span s="3102" t="And the tail of a stream is going to be a thing called force the CDR of the stream."><code onclick="Z(this)">0:51:42</code>And the tail of a stream is going to be a thing called force the CDR of the stream.</span><span s="3116" t="Now let me explain this. Delay is going to be a special magic thing. What delay does is take an expression and produce a"><code onclick="Z(this)">0:51:56</code>Now let me explain this. Delay is going to be a special magic thing. What delay does is take an expression and produce a</span><span s="3126" t="promise to compute that expression when you ask for it. It doesn&apos;t do any computation here. It just gives you a rain check. It produces a promise."><code onclick="Z(this)">0:52:06</code>promise to compute that expression when you ask for it. It doesn't do any computation here. It just gives you a rain check. It produces a promise.</span><span s="3137" t="And CONS-stream says I&apos;m going to put together in a pair x and a promise to compute y."><code onclick="Z(this)">0:52:17</code>And CONS-stream says I'm going to put together in a pair x and a promise to compute y.</span><span s="3148" t="Now, if I want the head, that&apos;s just the CAR that I put in the pair. And the key is that the tail is going to be-- force calls in that promise."><code onclick="Z(this)">0:52:28</code>Now, if I want the head, that's just the CAR that I put in the pair. And the key is that the tail is going to be-- force calls in that promise.</span><span s="3159" t="Tail says, well, take that promise and now call in that promise. And then we compute that thing. That&apos;s how this is going to work."><code onclick="Z(this)">0:52:39</code>Tail says, well, take that promise and now call in that promise. And then we compute that thing. That's how this is going to work.</span><span s="3168" t="That&apos;s what CONS-stream, head, and tail really are. Now, let&apos;s see how this works. And we&apos;ll go through this fairly carefully."><code onclick="Z(this)">0:52:48</code>That's what CONS-stream, head, and tail really are. Now, let's see how this works. And we'll go through this fairly carefully.</span><span s="3178" t="We&apos;re going to see how this works in this example of computing the second prime between 10,000 and a million."><code onclick="Z(this)">0:52:58</code>We're going to see how this works in this example of computing the second prime between 10,000 and a million.</span><span s="3188" t="OK, so we start off and we have this expression. The second prime-- the head of the tail of the result of"><code onclick="Z(this)">0:53:08</code>OK, so we start off and we have this expression. The second prime-- the head of the tail of the result of</span><span s="3200" t="filtering for primality the integers between 10,000 and 1 million. Now, what is that? What that is, that interval between 10,000 and 1 million,"><code onclick="Z(this)">0:53:20</code>filtering for primality the integers between 10,000 and 1 million. Now, what is that? What that is, that interval between 10,000 and 1 million,</span><span s="3215" t="well, if you trace through enumerate interval, there builds a CONS-stream. And the CONS-stream is the CONS of 10,000 to a promise to"><code onclick="Z(this)">0:53:35</code>well, if you trace through enumerate interval, there builds a CONS-stream. And the CONS-stream is the CONS of 10,000 to a promise to</span><span s="3225" t="compute the integers between 10,001 and 1 million."><code onclick="Z(this)">0:53:45</code>compute the integers between 10,001 and 1 million.</span><span s="3234" t="So that&apos;s what this expression is. Here I&apos;m using the substitution model. And we can use the substitution model because we don&apos;t have side effects and state."><code onclick="Z(this)">0:53:54</code>So that's what this expression is. Here I'm using the substitution model. And we can use the substitution model because we don't have side effects and state.</span><span s="3244" t="So I have CONS of 10,000 to a promise to compute the rest of the integers. So only one integer, so far, got enumerated."><code onclick="Z(this)">0:54:04</code>So I have CONS of 10,000 to a promise to compute the rest of the integers. So only one integer, so far, got enumerated.</span><span s="3254" t="Well, I&apos;m going to filter that thing for primality. Again, you go back and look at the filter code. What the filter will first do is test the head."><code onclick="Z(this)">0:54:14</code>Well, I'm going to filter that thing for primality. Again, you go back and look at the filter code. What the filter will first do is test the head.</span><span s="3265" t="So in this case, the filter will test 10,000 and say, oh, 10,000&apos;s not prime. Therefore, what I have to do recursively"><code onclick="Z(this)">0:54:25</code>So in this case, the filter will test 10,000 and say, oh, 10,000's not prime. Therefore, what I have to do recursively</span><span s="3276" t="is filter the tail. And what&apos;s the tail of it, well, that&apos;s the tail of this pair with a promise in it."><code onclick="Z(this)">0:54:36</code>is filter the tail. And what's the tail of it, well, that's the tail of this pair with a promise in it.</span><span s="3286" t="Tail now comes in and says, well, I&apos;m going to force that. I&apos;m going to force that promise, which means now I&apos;m going to compute the integers between 10,001 and 1 million."><code onclick="Z(this)">0:54:46</code>Tail now comes in and says, well, I'm going to force that. I'm going to force that promise, which means now I'm going to compute the integers between 10,001 and 1 million.</span><span s="3300" t="OK, so this filter now is looking at that. That enumerate itself, well, now we&apos;re back in the original"><code onclick="Z(this)">0:55:00</code>OK, so this filter now is looking at that. That enumerate itself, well, now we're back in the original</span><span s="3310" t="enumerate situation. The enumerate is the CONS of the first thing, 10,001, onto a promise to compute the rest."><code onclick="Z(this)">0:55:10</code>enumerate situation. The enumerate is the CONS of the first thing, 10,001, onto a promise to compute the rest.</span><span s="3319" t="So now the primality filter is going to go look at 10,001. It&apos;s going to decide if it likes that or not. It turns out 10,001 isn&apos;t prime. So it&apos;ll force it again and again and again."><code onclick="Z(this)">0:55:19</code>So now the primality filter is going to go look at 10,001. It's going to decide if it likes that or not. It turns out 10,001 isn't prime. So it'll force it again and again and again.</span><span s="3332" t="And finally, I think the first prime it hits is 10,009. And at that point, it&apos;ll stop. And that will be the first prime, and then eventually,"><code onclick="Z(this)">0:55:32</code>And finally, I think the first prime it hits is 10,009. And at that point, it'll stop. And that will be the first prime, and then eventually,</span><span s="3342" t="it&apos;ll need the second prime. So at that point, it will go again. So you see what happens is that no more gets generated"><code onclick="Z(this)">0:55:42</code>it'll need the second prime. So at that point, it will go again. So you see what happens is that no more gets generated</span><span s="3351" t="than you actually need. That enumerator is not going to generate any more integers"><code onclick="Z(this)">0:55:51</code>than you actually need. That enumerator is not going to generate any more integers</span><span s="3360" t="than the filter asks it for as it&apos;s pulling in things to check for primality. And the filter is not going to generate any more stuff than you ask it for, which is the head of the tail."><code onclick="Z(this)">0:56:00</code>than the filter asks it for as it's pulling in things to check for primality. And the filter is not going to generate any more stuff than you ask it for, which is the head of the tail.</span><span s="3371" t="You see, what&apos;s happened is we&apos;ve put that mixing of generation and test into what actually happens in the"><code onclick="Z(this)">0:56:11</code>You see, what's happened is we've put that mixing of generation and test into what actually happens in the</span><span s="3380" t="computer, even though that&apos;s not apparently what&apos;s happening from looking at our programs. OK, well, that seemed easy."><code onclick="Z(this)">0:56:20</code>computer, even though that's not apparently what's happening from looking at our programs. OK, well, that seemed easy.</span><span s="3390" t="All of this mechanism got put into this magic delay. So you&apos;re saying, gee, that must be where the magic is. But see there&apos;s no magic there either."><code onclick="Z(this)">0:56:30</code>All of this mechanism got put into this magic delay. So you're saying, gee, that must be where the magic is. But see there's no magic there either.</span><span s="3399" t="You know what delay is. Delay on some expression is just an abbreviation for--"><code onclick="Z(this)">0:56:39</code>You know what delay is. Delay on some expression is just an abbreviation for--</span><span s="3413" t="well, what&apos;s a promise to compute an expression? Lambda of nil, procedure of no arguments, which is that expression."><code onclick="Z(this)">0:56:53</code>well, what's a promise to compute an expression? Lambda of nil, procedure of no arguments, which is that expression.</span><span s="3423" t="That&apos;s what a procedure is. It says I&apos;m going to compute an expression. What&apos;s force? How do I take up a promise? Well, force of some procedure, a promise, is just run it."><code onclick="Z(this)">0:57:03</code>That's what a procedure is. It says I'm going to compute an expression. What's force? How do I take up a promise? Well, force of some procedure, a promise, is just run it.</span><span s="3438" t="Done. So there&apos;s no magic there at all. Well, what have we done? We said the old style, traditional style of"><code onclick="Z(this)">0:57:18</code>Done. So there's no magic there at all. Well, what have we done? We said the old style, traditional style of</span><span s="3449" t="programming is more efficient. And the stream thing is more perspicuous. And we managed to make the stream procedures run like the"><code onclick="Z(this)">0:57:29</code>programming is more efficient. And the stream thing is more perspicuous. And we managed to make the stream procedures run like the</span><span s="3460" t="other procedures by using delay. And the thing that delay did for us was to de-couple the apparent order of events in our programs from the actual"><code onclick="Z(this)">0:57:40</code>other procedures by using delay. And the thing that delay did for us was to de-couple the apparent order of events in our programs from the actual</span><span s="3472" t="order of events that happened in the machine. That&apos;s really what delay is doing. That&apos;s exactly the whole point. We&apos;ve given up the idea that our procedures, as they run,"><code onclick="Z(this)">0:57:52</code>order of events that happened in the machine. That's really what delay is doing. That's exactly the whole point. We've given up the idea that our procedures, as they run,</span><span s="3484" t="or as we look at them, mirror some clear notion of time. And by giving that up, we give delay the freedom to arrange the order of events in the computation the way it likes."><code onclick="Z(this)">0:58:04</code>or as we look at them, mirror some clear notion of time. And by giving that up, we give delay the freedom to arrange the order of events in the computation the way it likes.</span><span s="3496" t="That&apos;s the whole idea. We de-couple the apparent order of events in our programs from the actual order of events in the computer. OK, well there&apos;s one more detail."><code onclick="Z(this)">0:58:16</code>That's the whole idea. We de-couple the apparent order of events in our programs from the actual order of events in the computer. OK, well there's one more detail.</span><span s="3505" t="It&apos;s just a technical detail, but it&apos;s actually an important one. As you run through these recursive programs unwinding, you&apos;ll see a lot of things that look like tail of the"><code onclick="Z(this)">0:58:25</code>It's just a technical detail, but it's actually an important one. As you run through these recursive programs unwinding, you'll see a lot of things that look like tail of the</span><span s="3515" t="tail of the tail. That&apos;s the kind of thing that would happen as I go CONSing down a stream all the way. And if each time I&apos;m doing that, each time to compute a"><code onclick="Z(this)">0:58:35</code>tail of the tail. That's the kind of thing that would happen as I go CONSing down a stream all the way. And if each time I'm doing that, each time to compute a</span><span s="3527" t="tail, I evaluate a procedure which then has to go re-compute its tail, and re-compute its tail and recompute its tail each time, you can see that&apos;s very"><code onclick="Z(this)">0:58:47</code>tail, I evaluate a procedure which then has to go re-compute its tail, and re-compute its tail and recompute its tail each time, you can see that's very</span><span s="3536" t="inefficient compared to just having a list where the elements are all there, and I don&apos;t have to re-compute each tail every time I get the next tail."><code onclick="Z(this)">0:58:56</code>inefficient compared to just having a list where the elements are all there, and I don't have to re-compute each tail every time I get the next tail.</span><span s="3545" t="So there&apos;s one little hack to slightly change what delay is,"><code onclick="Z(this)">0:59:05</code>So there's one little hack to slightly change what delay is,</span><span s="3555" t="and make it a thing which is-- I&apos;ll write it this way. The actual implementation, delay is an abbreviation for"><code onclick="Z(this)">0:59:15</code>and make it a thing which is-- I'll write it this way. The actual implementation, delay is an abbreviation for</span><span s="3567" t="this thing, memo-proc of a procedure. Memo-proc is a special thing that transforms a procedure. What it does is it takes a procedure of no arguments and"><code onclick="Z(this)">0:59:27</code>this thing, memo-proc of a procedure. Memo-proc is a special thing that transforms a procedure. What it does is it takes a procedure of no arguments and</span><span s="3579" t="it transforms it into a procedure that&apos;ll only have to do its computation once. And what I mean by that is, you give it a procedure."><code onclick="Z(this)">0:59:39</code>it transforms it into a procedure that'll only have to do its computation once. And what I mean by that is, you give it a procedure.</span><span s="3588" t="The result of memo-proc will be a new procedure, which the first time you call it, will run the original procedure, remember what result it got, and then from ever on after,"><code onclick="Z(this)">0:59:48</code>The result of memo-proc will be a new procedure, which the first time you call it, will run the original procedure, remember what result it got, and then from ever on after,</span><span s="3600" t="when you call it, it just won&apos;t have to do the computation. It will have cached that result someplace. And here&apos;s an implementation of memo-proc."><code onclick="Z(this)">1:00:00</code>when you call it, it just won't have to do the computation. It will have cached that result someplace. And here's an implementation of memo-proc.</span><span s="3611" t="Once you have the idea, it&apos;s easy to implement. Memo-proc is this little thing that has two little flags in there. It says, have I already been run?"><code onclick="Z(this)">1:00:11</code>Once you have the idea, it's easy to implement. Memo-proc is this little thing that has two little flags in there. It says, have I already been run?</span><span s="3620" t="And initially it says, no, I haven&apos;t already been run. And what was the result I got the last time I was run?"><code onclick="Z(this)">1:00:20</code>And initially it says, no, I haven't already been run. And what was the result I got the last time I was run?</span><span s="3629" t="So memo-proc takes a procedure called proc, and it returns a new procedure of no arguments. Proc is supposed to be a procedure of no arguments."><code onclick="Z(this)">1:00:29</code>So memo-proc takes a procedure called proc, and it returns a new procedure of no arguments. Proc is supposed to be a procedure of no arguments.</span><span s="3638" t="And it says, oh, if I&apos;m not already run, then I&apos;m going to do a sequence of things. I&apos;m going to compute proc, I&apos;m going to save that."><code onclick="Z(this)">1:00:38</code>And it says, oh, if I'm not already run, then I'm going to do a sequence of things. I'm going to compute proc, I'm going to save that.</span><span s="3648" t="I&apos;m going to stash that in the variable result. I&apos;m going to make a note to myself that I&apos;ve already been run, and then I&apos;ll return the result. So that&apos;s if you compute it if it&apos;s not already run."><code onclick="Z(this)">1:00:48</code>I'm going to stash that in the variable result. I'm going to make a note to myself that I've already been run, and then I'll return the result. So that's if you compute it if it's not already run.</span><span s="3659" t="If you call it and it&apos;s already been run, it just returns the result. So that&apos;s a little clever hack called memoization."><code onclick="Z(this)">1:00:59</code>If you call it and it's already been run, it just returns the result. So that's a little clever hack called memoization.</span><span s="3668" t="And in this case, it short circuits having to re-compute the tail of the tail of the tail of the tail of the tail. So there isn&apos;t even that kind of inefficiency."><code onclick="Z(this)">1:01:08</code>And in this case, it short circuits having to re-compute the tail of the tail of the tail of the tail of the tail. So there isn't even that kind of inefficiency.</span><span s="3677" t="And in fact, the streams will run with pretty much the same efficiency as the other programs precisely. And remember, again, the whole idea of this is that we&apos;ve"><code onclick="Z(this)">1:01:17</code>And in fact, the streams will run with pretty much the same efficiency as the other programs precisely. And remember, again, the whole idea of this is that we've</span><span s="3688" t="used the fact that there&apos;s no really good dividing line between procedures and data. We&apos;ve written data structures that, in fact, are sort of like procedures."><code onclick="Z(this)">1:01:28</code>used the fact that there's no really good dividing line between procedures and data. We've written data structures that, in fact, are sort of like procedures.</span><span s="3698" t="And what that&apos;s allowed us to do is take an example of a common control structure, in this place iteration."><code onclick="Z(this)">1:01:38</code>And what that's allowed us to do is take an example of a common control structure, in this place iteration.</span><span s="3709" t="And we&apos;ve built a data structure which, since itself is a procedure, kind of has this iteration control structure in it. And that&apos;s really what streams are."><code onclick="Z(this)">1:01:49</code>And we've built a data structure which, since itself is a procedure, kind of has this iteration control structure in it. And that's really what streams are.</span><span s="3718" t="OK, questions? AUDIENCE: Your description of tail-tail-tail, if I understand it correctly, force is actually execution of a"><code onclick="Z(this)">1:01:58</code>OK, questions? AUDIENCE: Your description of tail-tail-tail, if I understand it correctly, force is actually execution of a</span><span s="3730" t="procedure, if it&apos;s done without this memo-proc thing. And you implied that memo-proc gets around that problem. Doesn&apos;t it only get around it if tail-tail-tail is always"><code onclick="Z(this)">1:02:10</code>procedure, if it's done without this memo-proc thing. And you implied that memo-proc gets around that problem. Doesn't it only get around it if tail-tail-tail is always</span><span s="3740" t="executing exactly the same-- PROFESSOR: Oh, that&apos;s-- sure. AUDIENCE: I guess I missed that point. PROFESSOR: Oh, sure. I mean the point is--"><code onclick="Z(this)">1:02:20</code>executing exactly the same-- PROFESSOR: Oh, that's-- sure. AUDIENCE: I guess I missed that point. PROFESSOR: Oh, sure. I mean the point is--</span><span s="3751" t="yeah. I mean I have to do a computation to get the answer. But the point is, once I&apos;ve found the tail of the stream, to get the tail of the tail, I shouldn&apos;t have had to re-compute the first tail."><code onclick="Z(this)">1:02:31</code>yeah. I mean I have to do a computation to get the answer. But the point is, once I've found the tail of the stream, to get the tail of the tail, I shouldn't have had to re-compute the first tail.</span><span s="3762" t="See, and if I didn&apos;t use memo-proc, that re-computation would have been done. AUDIENCE: I understand now. AUDIENCE: In one of your examples, you mentioned that"><code onclick="Z(this)">1:02:42</code>See, and if I didn't use memo-proc, that re-computation would have been done. AUDIENCE: I understand now. AUDIENCE: In one of your examples, you mentioned that</span><span s="3772" t="we were able to use the substitution model because there are no side effects. What if we had a single processing unit--"><code onclick="Z(this)">1:02:52</code>we were able to use the substitution model because there are no side effects. What if we had a single processing unit--</span><span s="3781" t="if we had a side effect, if we had a state? Could we still practically build the stream model? PROFESSOR: Maybe. That&apos;s a hard question."><code onclick="Z(this)">1:03:01</code>if we had a side effect, if we had a state? Could we still practically build the stream model? PROFESSOR: Maybe. That's a hard question.</span><span s="3790" t="I&apos;m going to talk a little bit later about the places where substitution and side effects don&apos;t really mix very well. But in general, I think the answer is unless you&apos;re very"><code onclick="Z(this)">1:03:10</code>I'm going to talk a little bit later about the places where substitution and side effects don't really mix very well. But in general, I think the answer is unless you're very</span><span s="3801" t="careful, any amount of side effect is going to mess up everything."><code onclick="Z(this)">1:03:21</code>careful, any amount of side effect is going to mess up everything.</span><span s="3815" t="AUDIENCE: Sorry, I didn&apos;t quite understand the memo-proc operation. When do you execute the lambda? In other words, when memo-proc is executed, just this lambda"><code onclick="Z(this)">1:03:35</code>AUDIENCE: Sorry, I didn't quite understand the memo-proc operation. When do you execute the lambda? In other words, when memo-proc is executed, just this lambda</span><span s="3826" t="expression is being generated. But it&apos;s not clear to me when it&apos;s executed. PROFESSOR: Right. What memo-proc does-- remember, the thing that&apos;s going into memo-proc, the thing proc, is a procedure of"><code onclick="Z(this)">1:03:46</code>expression is being generated. But it's not clear to me when it's executed. PROFESSOR: Right. What memo-proc does-- remember, the thing that's going into memo-proc, the thing proc, is a procedure of</span><span s="3837" t="no arguments. And someday, you&apos;re going to call it. Memo-proc translates that procedure into another procedure of no arguments, which someday you&apos;re going to call."><code onclick="Z(this)">1:03:57</code>no arguments. And someday, you're going to call it. Memo-proc translates that procedure into another procedure of no arguments, which someday you're going to call.</span><span s="3846" t="That&apos;s that lambda. So here, where I initially built as my tail of the"><code onclick="Z(this)">1:04:06</code>That's that lambda. So here, where I initially built as my tail of the</span><span s="3857" t="stream, say, this procedure of no arguments, which someday I&apos;ll call. Instead, I&apos;m going to have the tail of the stream be"><code onclick="Z(this)">1:04:17</code>stream, say, this procedure of no arguments, which someday I'll call. Instead, I'm going to have the tail of the stream be</span><span s="3867" t="memo-proc of it, which someday I&apos;ll call. So that lambda of nil, that gets called when you call the memo-proc, when you call the result of that memo-proc,"><code onclick="Z(this)">1:04:27</code>memo-proc of it, which someday I'll call. So that lambda of nil, that gets called when you call the memo-proc, when you call the result of that memo-proc,</span><span s="3880" t="which would be ordinarily when you would have called the original thing that you set it. AUDIENCE: OK, the reason I ask is I had a feeling that when"><code onclick="Z(this)">1:04:40</code>which would be ordinarily when you would have called the original thing that you set it. AUDIENCE: OK, the reason I ask is I had a feeling that when</span><span s="3889" t="you call memo-proc, you just return this lambda. PROFESSOR: That&apos;s right. When you call memo-proc, you return the lambda."><code onclick="Z(this)">1:04:49</code>you call memo-proc, you just return this lambda. PROFESSOR: That's right. When you call memo-proc, you return the lambda.</span><span s="3898" t="You never evaluate the expression at all, until the first time that you would have evaluated it."><code onclick="Z(this)">1:04:58</code>You never evaluate the expression at all, until the first time that you would have evaluated it.</span><span s="3907" t="AUDIENCE: Do I understand it right that you actually have to build the list up, but the elements of the list don&apos;t get evaluated? The expressions don&apos;t get evaluated? But at each stage, you actually are building a list."><code onclick="Z(this)">1:05:07</code>AUDIENCE: Do I understand it right that you actually have to build the list up, but the elements of the list don't get evaluated? The expressions don't get evaluated? But at each stage, you actually are building a list.</span><span s="3918" t="PROFESSOR: That&apos;s-- I really should have said this. That&apos;s a really good point. No, it&apos;s not quite right. Because what happens is this. Let me draw this as pairs. Suppose I&apos;m going to make a big stream, like enumerate"><code onclick="Z(this)">1:05:18</code>PROFESSOR: That's-- I really should have said this. That's a really good point. No, it's not quite right. Because what happens is this. Let me draw this as pairs. Suppose I'm going to make a big stream, like enumerate</span><span s="3929" t="interval, 1 through 1 billion. What that is, is a pair with a 1 and a promise."><code onclick="Z(this)">1:05:29</code>interval, 1 through 1 billion. What that is, is a pair with a 1 and a promise.</span><span s="3946" t="That&apos;s exactly what it is. Nothing got built up. When I go and force this, and say, what happens?"><code onclick="Z(this)">1:05:46</code>That's exactly what it is. Nothing got built up. When I go and force this, and say, what happens?</span><span s="3956" t="Well, this thing is now also recursively a CONS. So that this promise now is the next thing, which is a 2"><code onclick="Z(this)">1:05:56</code>Well, this thing is now also recursively a CONS. So that this promise now is the next thing, which is a 2</span><span s="3967" t="and a promise to do more. And so on and so on and so on. So nothing gets built up until you walk down the stream."><code onclick="Z(this)">1:06:07</code>and a promise to do more. And so on and so on and so on. So nothing gets built up until you walk down the stream.</span><span s="3978" t="Because what&apos;s sitting here is not the list, but a promise to generate the list. And by promise, technically I mean procedure."><code onclick="Z(this)">1:06:18</code>Because what's sitting here is not the list, but a promise to generate the list. And by promise, technically I mean procedure.</span><span s="3988" t="So it doesn&apos;t get built up. Yeah, I should have said that before this point. OK. Thank you. Let&apos;s take a break."><code onclick="Z(this)">1:06:28</code>So it doesn't get built up. Yeah, I should have said that before this point. OK. Thank you. Let's take a break.</span></div><div class="eventlist" side="R" vid="DCub3iqteuI"><h5><code onclick="Z(this)">0:00:00</code>Lecture 6B | MIT 6.001 Structure and Interpretation, 1986</h5><span s="0" t=""><code onclick="Z(this)">0:00:00</code></span><span s="20" t="PROFESSOR: OK, well, we&apos;ve been looking at streams, this signal processing way of putting systems together. And remember, the key idea is that we decouple the apparent"><code onclick="Z(this)">0:00:20</code>PROFESSOR: OK, well, we've been looking at streams, this signal processing way of putting systems together. And remember, the key idea is that we decouple the apparent</span><span s="35" t="order of events in our programs from the actual order of events in the computer. And that means that we can start dealing with very long streams and only having to generate"><code onclick="Z(this)">0:00:35</code>order of events in our programs from the actual order of events in the computer. And that means that we can start dealing with very long streams and only having to generate</span><span s="46" t="the elements on demand. That sort of on-demand computation is built into the stream&apos;s data structure. So if we have a very long stream, we only"><code onclick="Z(this)">0:00:46</code>the elements on demand. That sort of on-demand computation is built into the stream's data structure. So if we have a very long stream, we only</span><span s="55" t="compute what we need. The things only get computed when we actually ask for them. Well, what are examples? Are they actually asking for them?"><code onclick="Z(this)">0:00:55</code>compute what we need. The things only get computed when we actually ask for them. Well, what are examples? Are they actually asking for them?</span><span s="64" t="For instance, we might ask for the n-th element of a stream."><code onclick="Z(this)">0:01:04</code>For instance, we might ask for the n-th element of a stream.</span><span s="76" t="Here&apos;s a procedure that computes the n-th element of a stream. An integer n, the n-th element of some stream s, and we just recursively walk down the stream."><code onclick="Z(this)">0:01:16</code>Here's a procedure that computes the n-th element of a stream. An integer n, the n-th element of some stream s, and we just recursively walk down the stream.</span><span s="85" t="And the end of 0, we compute the head. Otherwise, it&apos;s the n-th the minus 1 element of the tail of the stream."><code onclick="Z(this)">0:01:25</code>And the end of 0, we compute the head. Otherwise, it's the n-th the minus 1 element of the tail of the stream.</span><span s="94" t="Those two are just like for Lisp, but the difference is those elements aren&apos;t going to get computed until we walk down, taking successive n-ths. So that&apos;s one way that the stream"><code onclick="Z(this)">0:01:34</code>Those two are just like for Lisp, but the difference is those elements aren't going to get computed until we walk down, taking successive n-ths. So that's one way that the stream</span><span s="103" t="elements might get forced. And another way, here&apos;s a little procedure that prints a stream. We say print a stream, so to print a stream s."><code onclick="Z(this)">0:01:43</code>elements might get forced. And another way, here's a little procedure that prints a stream. We say print a stream, so to print a stream s.</span><span s="114" t="Well, what do we do? We print the head of the stream, and that will cause the head to be computed. And then we recursively print stream the tail of the stream."><code onclick="Z(this)">0:01:54</code>Well, what do we do? We print the head of the stream, and that will cause the head to be computed. And then we recursively print stream the tail of the stream.</span><span s="124" t="And if we&apos;re already done, maybe we have to return something about the message done. OK, and then so if you make a stream, you could say here&apos;s the stream, this very long stream."><code onclick="Z(this)">0:02:04</code>And if we're already done, maybe we have to return something about the message done. OK, and then so if you make a stream, you could say here's the stream, this very long stream.</span><span s="134" t="And then you say print the stream, and the elements of the stream will get computed successively as that print calls them. They won&apos;t get all computed initially."><code onclick="Z(this)">0:02:14</code>And then you say print the stream, and the elements of the stream will get computed successively as that print calls them. They won't get all computed initially.</span><span s="144" t="So in this way, we can deal with some very long streams. Well, how long can a stream be?"><code onclick="Z(this)">0:02:24</code>So in this way, we can deal with some very long streams. Well, how long can a stream be?</span><span s="153" t="Well, it can be infinitely long. Let&apos;s look at an example here on the computer. I could walk up to this computer, and I could say--"><code onclick="Z(this)">0:02:33</code>Well, it can be infinitely long. Let's look at an example here on the computer. I could walk up to this computer, and I could say--</span><span s="163" t="how about we&apos;ll define the stream of integers starting"><code onclick="Z(this)">0:02:43</code>how about we'll define the stream of integers starting</span><span s="172" t="with some number N, the stream of positive integers starting with some number n. And that&apos;s cons-stream of n onto the"><code onclick="Z(this)">0:02:52</code>with some number N, the stream of positive integers starting with some number n. And that's cons-stream of n onto the</span><span s="192" t="integers from one more."><code onclick="Z(this)">0:03:12</code>integers from one more.</span><span s="204" t="So there are the integers. Then I could say let&apos;s get all the integers."><code onclick="Z(this)">0:03:24</code>So there are the integers. Then I could say let's get all the integers.</span><span s="214" t="define the stream of integers to be the integers"><code onclick="Z(this)">0:03:34</code>define the stream of integers to be the integers</span><span s="223" t="starting with 1. And now if I say something like what&apos;s the what&apos;s the"><code onclick="Z(this)">0:03:43</code>starting with 1. And now if I say something like what's the what's the</span><span s="234" t="20th integer. So it&apos;s 21 because we start counting at 0."><code onclick="Z(this)">0:03:54</code>20th integer. So it's 21 because we start counting at 0.</span><span s="247" t="Or I can do more complicated things. Let me to define a little predicate here. How about define no-seven."><code onclick="Z(this)">0:04:07</code>Or I can do more complicated things. Let me to define a little predicate here. How about define no-seven.</span><span s="259" t="It&apos;s going to test an integer, and it&apos;s going to say it&apos;s not."><code onclick="Z(this)">0:04:19</code>It's going to test an integer, and it's going to say it's not.</span><span s="268" t="I take the remainder of x by 7, I don&apos;t get 0."><code onclick="Z(this)">0:04:28</code>I take the remainder of x by 7, I don't get 0.</span><span s="281" t="And then I could say define the integers with no sevens to"><code onclick="Z(this)">0:04:41</code>And then I could say define the integers with no sevens to</span><span s="290" t="be, take all the integers and filter them to have no sevens."><code onclick="Z(this)">0:04:50</code>be, take all the integers and filter them to have no sevens.</span><span s="311" t="So now I&apos;ve got the stream of all the integers that are not divisible by seven. So if I say what&apos;s the 100th integer and the list not"><code onclick="Z(this)">0:05:11</code>So now I've got the stream of all the integers that are not divisible by seven. So if I say what's the 100th integer and the list not</span><span s="325" t="divisible by seven, I get 117. Or if I&apos;d like to say well, gee, what are all of them?"><code onclick="Z(this)">0:05:25</code>divisible by seven, I get 117. Or if I'd like to say well, gee, what are all of them?</span><span s="335" t="So I could say print stream all these integers with no seven, it goes off printing."><code onclick="Z(this)">0:05:35</code>So I could say print stream all these integers with no seven, it goes off printing.</span><span s="345" t="You may have to wait a very long time to see them all. Well, you can start asking, gee, is it really true that"><code onclick="Z(this)">0:05:45</code>You may have to wait a very long time to see them all. Well, you can start asking, gee, is it really true that</span><span s="356" t="this data structure with the integers is really all the integers? And let me draw a picture of that program I just wrote."><code onclick="Z(this)">0:05:56</code>this data structure with the integers is really all the integers? And let me draw a picture of that program I just wrote.</span><span s="368" t="Here&apos;s the definition of the integers again that I just typed in, Right it&apos;s a cons of the first integer under the integer starting with the rest. Now, we can make a"><code onclick="Z(this)">0:06:08</code>Here's the definition of the integers again that I just typed in, Right it's a cons of the first integer under the integer starting with the rest. Now, we can make a</span><span s="378" t="picture of that and see what it looks like. Conceptually, what I have is a box that&apos;s the integer starting with n."><code onclick="Z(this)">0:06:18</code>picture of that and see what it looks like. Conceptually, what I have is a box that's the integer starting with n.</span><span s="387" t="It takes in some number n, and it&apos;s going to return a stream of-- this infinite stream of all integers starting with n."><code onclick="Z(this)">0:06:27</code>It takes in some number n, and it's going to return a stream of-- this infinite stream of all integers starting with n.</span><span s="397" t="And what do I do? Well, this is an integers from box. What&apos;s it got in it? Well, it takes in this n, and it increments it."><code onclick="Z(this)">0:06:37</code>And what do I do? Well, this is an integers from box. What's it got in it? Well, it takes in this n, and it increments it.</span><span s="418" t="And then it puts the result into recursively another integer&apos;s from box. It takes the result of that and the original n and puts"><code onclick="Z(this)">0:06:58</code>And then it puts the result into recursively another integer's from box. It takes the result of that and the original n and puts</span><span s="430" t="those together with a cons and forms a stream. So that&apos;s a picture of that program I wrote. Let&apos;s see. These kind of diagrams we first saw drawn by Peter"><code onclick="Z(this)">0:07:10</code>those together with a cons and forms a stream. So that's a picture of that program I wrote. Let's see. These kind of diagrams we first saw drawn by Peter</span><span s="441" t="Henderson, the same guy who did the Escher language. We call them Henderson diagrams. And the convention here is that you put these things together. And the solid lines are things coming out are streams, and"><code onclick="Z(this)">0:07:21</code>Henderson, the same guy who did the Escher language. We call them Henderson diagrams. And the convention here is that you put these things together. And the solid lines are things coming out are streams, and</span><span s="453" t="dotted lines are initial values going in. So this one has the shape of-- it takes in some integer, some initial value, and outputs a stream."><code onclick="Z(this)">0:07:33</code>dotted lines are initial values going in. So this one has the shape of-- it takes in some integer, some initial value, and outputs a stream.</span><span s="466" t="Again, you can ask. Is that data structure integers really all the integers? Or is it is something that&apos;s cleverly arranged so that"><code onclick="Z(this)">0:07:46</code>Again, you can ask. Is that data structure integers really all the integers? Or is it is something that's cleverly arranged so that</span><span s="475" t="whenever you look for an integer you find it there? That&apos;s sort of a philosophical question, right? If something is there whenever you look, is it really there or not?"><code onclick="Z(this)">0:07:55</code>whenever you look for an integer you find it there? That's sort of a philosophical question, right? If something is there whenever you look, is it really there or not?</span><span s="484" t="It&apos;s sort of the same sense in which the money in your savings account is in the bank. Well, let me do another example."><code onclick="Z(this)">0:08:04</code>It's sort of the same sense in which the money in your savings account is in the bank. Well, let me do another example.</span><span s="499" t="Gee, we started the course with an algorithm from Alexandria, which was Heron of Alexandria&apos;s algorithm for computing the square root."><code onclick="Z(this)">0:08:19</code>Gee, we started the course with an algorithm from Alexandria, which was Heron of Alexandria's algorithm for computing the square root.</span><span s="508" t="Let&apos;s take a look at another Alexandrian algorithm. This one is Eratosthenes method for computing all of"><code onclick="Z(this)">0:08:28</code>Let's take a look at another Alexandrian algorithm. This one is Eratosthenes method for computing all of</span><span s="517" t="the primes. It is called the Sieve of Eratosthenes. And what you do is you start out, and you list all the"><code onclick="Z(this)">0:08:37</code>the primes. It is called the Sieve of Eratosthenes. And what you do is you start out, and you list all the</span><span s="531" t="integers, say, starting with 2. And then you take the first integer, and you say, oh, that&apos;s prime. And then you go look at the rest, and you cross out all the things divisible by 2."><code onclick="Z(this)">0:08:51</code>integers, say, starting with 2. And then you take the first integer, and you say, oh, that's prime. And then you go look at the rest, and you cross out all the things divisible by 2.</span><span s="541" t="So I cross out this and this and this. This takes a long time because I have to do it for all of the integers."><code onclick="Z(this)">0:09:01</code>So I cross out this and this and this. This takes a long time because I have to do it for all of the integers.</span><span s="551" t="So I go through the entire list of integers, crossing the ones divisible by 2."><code onclick="Z(this)">0:09:11</code>So I go through the entire list of integers, crossing the ones divisible by 2.</span><span s="562" t="And now when I finish with all of the integers, I go back and look and say what am I left with? Well, the first thing that starts there is 3. So 3 is a prime. And now I go back through what I&apos;m left with, and I cross out"><code onclick="Z(this)">0:09:22</code>And now when I finish with all of the integers, I go back and look and say what am I left with? Well, the first thing that starts there is 3. So 3 is a prime. And now I go back through what I'm left with, and I cross out</span><span s="573" t="all the things divisible by 3. So let&apos;s see, 9 and 15 and 21 and 27 and 33 and so on."><code onclick="Z(this)">0:09:33</code>all the things divisible by 3. So let's see, 9 and 15 and 21 and 27 and 33 and so on.</span><span s="584" t="I won&apos;t finish. Then I see what I&apos;m left with. And the next one I have is 5. Now I can through the rest, and I find the first one"><code onclick="Z(this)">0:09:44</code>I won't finish. Then I see what I'm left with. And the next one I have is 5. Now I can through the rest, and I find the first one</span><span s="593" t="that&apos;s divisible by 5. I cross out from the remainder all the ones that are divisible by 5. And I do that, and then I go through and find 7. Go through all the rest, cross out things divisible 7, and I"><code onclick="Z(this)">0:09:53</code>that's divisible by 5. I cross out from the remainder all the ones that are divisible by 5. And I do that, and then I go through and find 7. Go through all the rest, cross out things divisible 7, and I</span><span s="604" t="keep doing that forever. And when I&apos;m done, what I&apos;m left with is a list of all the primes. So that&apos;s the Sieve of Eratosthenes."><code onclick="Z(this)">0:10:04</code>keep doing that forever. And when I'm done, what I'm left with is a list of all the primes. So that's the Sieve of Eratosthenes.</span><span s="615" t="Let&apos;s look at it as a computer program. It&apos;s a procedure called sieve."><code onclick="Z(this)">0:10:15</code>Let's look at it as a computer program. It's a procedure called sieve.</span><span s="627" t="Now, I just write what I did. I&apos;ll say to sieve some stream s."><code onclick="Z(this)">0:10:27</code>Now, I just write what I did. I'll say to sieve some stream s.</span><span s="638" t="I&apos;m going to build a stream whose first element is the head of this. Remember, I always found the first thing I was left with, and the rest of it is the result of taking the tail of"><code onclick="Z(this)">0:10:38</code>I'm going to build a stream whose first element is the head of this. Remember, I always found the first thing I was left with, and the rest of it is the result of taking the tail of</span><span s="648" t="this, filtering it to throw away all the things that are divisible by the head of this, and now sieving the result."><code onclick="Z(this)">0:10:48</code>this, filtering it to throw away all the things that are divisible by the head of this, and now sieving the result.</span><span s="659" t="That&apos;s just what I did. And now to get the infinite stream of times, we just sieve all the integers starting from 2."><code onclick="Z(this)">0:10:59</code>That's just what I did. And now to get the infinite stream of times, we just sieve all the integers starting from 2.</span><span s="674" t="Let&apos;s try that. We can actually do it. I typed in the definition of sieve before, I hope, so I can"><code onclick="Z(this)">0:11:14</code>Let's try that. We can actually do it. I typed in the definition of sieve before, I hope, so I can</span><span s="683" t="say something like define the primes to be the result of"><code onclick="Z(this)">0:11:23</code>say something like define the primes to be the result of</span><span s="695" t="sieving the integers starting with 2."><code onclick="Z(this)">0:11:35</code>sieving the integers starting with 2.</span><span s="706" t="So now I&apos;ve got this list of primes. That&apos;s all of the primes, right? So, if for example, what&apos;s the 20th prime in that list?"><code onclick="Z(this)">0:11:46</code>So now I've got this list of primes. That's all of the primes, right? So, if for example, what's the 20th prime in that list?</span><span s="721" t="73. See, and that little pause, it was only at the point when I started asking for the 20th prime is that it started computing."><code onclick="Z(this)">0:12:01</code>73. See, and that little pause, it was only at the point when I started asking for the 20th prime is that it started computing.</span><span s="730" t="Or I can say here let&apos;s look at all of the primes."><code onclick="Z(this)">0:12:10</code>Or I can say here let's look at all of the primes.</span><span s="742" t="And there it goes computing all of the primes. Of course, it will take a while again if I want to look at all of them, so let&apos;s stop it."><code onclick="Z(this)">0:12:22</code>And there it goes computing all of the primes. Of course, it will take a while again if I want to look at all of them, so let's stop it.</span><span s="752" t="Let me draw you a picture of that. Well, I&apos;ve got a picture of that. What&apos;s that program really look like? Again, some practice with these diagrams, I have a sieve box."><code onclick="Z(this)">0:12:32</code>Let me draw you a picture of that. Well, I've got a picture of that. What's that program really look like? Again, some practice with these diagrams, I have a sieve box.</span><span s="762" t="How does sieve work? It takes in a stream. It splits off the head from the tail. And the first thing that&apos;s going to come out of the sieve"><code onclick="Z(this)">0:12:42</code>How does sieve work? It takes in a stream. It splits off the head from the tail. And the first thing that's going to come out of the sieve</span><span s="773" t="is the head of the original stream. Then it also takes the head and uses that."><code onclick="Z(this)">0:12:53</code>is the head of the original stream. Then it also takes the head and uses that.</span><span s="782" t="It takes the stream. It filters the tail and uses the head to filter for nondivisibility. It takes the result of nondivisibility and puts it"><code onclick="Z(this)">0:13:02</code>It takes the stream. It filters the tail and uses the head to filter for nondivisibility. It takes the result of nondivisibility and puts it</span><span s="791" t="through another sieve box and puts the result together. So you can think of this sieve a filter, but notice that it&apos;s an infinitely recursive filter. Because inside the sieve box is another sieve box, and"><code onclick="Z(this)">0:13:11</code>through another sieve box and puts the result together. So you can think of this sieve a filter, but notice that it's an infinitely recursive filter. Because inside the sieve box is another sieve box, and</span><span s="803" t="inside that is another sieve box and another sieve box. So you see we start getting some very powerful things. We&apos;re starting to mix this signal processing view of the"><code onclick="Z(this)">0:13:23</code>inside that is another sieve box and another sieve box. So you see we start getting some very powerful things. We're starting to mix this signal processing view of the</span><span s="812" t="world with things like recursion that come from computation. And there are all sorts of interesting things you can do that are like this. All right, any questions?"><code onclick="Z(this)">0:13:32</code>world with things like recursion that come from computation. And there are all sorts of interesting things you can do that are like this. All right, any questions?</span><span s="828" t="OK, let&apos;s take a break."><code onclick="Z(this)">0:13:48</code>OK, let's take a break.</span><span s="868" t="Well, we&apos;ve been looking at a couple of examples of stream programming. All the stream procedures that we&apos;ve looked at so far have"><code onclick="Z(this)">0:14:28</code>Well, we've been looking at a couple of examples of stream programming. All the stream procedures that we've looked at so far have</span><span s="879" t="the same kind of character. We&apos;ve been writing these recursive procedures that kind of generate these stream elements one at a time and put them together in cons-streams. So we&apos;ve been thinking a lot"><code onclick="Z(this)">0:14:39</code>the same kind of character. We've been writing these recursive procedures that kind of generate these stream elements one at a time and put them together in cons-streams. So we've been thinking a lot</span><span s="890" t="about generators. There&apos;s another way to think about stream processing, and that&apos;s to focus not on programs that sort of process these elements as you walk down the stream, but on things"><code onclick="Z(this)">0:14:50</code>about generators. There's another way to think about stream processing, and that's to focus not on programs that sort of process these elements as you walk down the stream, but on things</span><span s="900" t="that kind of process the streams all at once. To show you what I mean, let me start by defining two"><code onclick="Z(this)">0:15:00</code>that kind of process the streams all at once. To show you what I mean, let me start by defining two</span><span s="909" t="procedures that will come in handy. The first one&apos;s called add streams. Add streams takes two streams: s1 and s2."><code onclick="Z(this)">0:15:09</code>procedures that will come in handy. The first one's called add streams. Add streams takes two streams: s1 and s2.</span><span s="922" t="and. It&apos;s going to produce a stream whose elements are the are the corresponding sums. We just sort of add them element-wise."><code onclick="Z(this)">0:15:22</code>and. It's going to produce a stream whose elements are the are the corresponding sums. We just sort of add them element-wise.</span><span s="932" t="If either stream is empty, we just return the other one. Otherwise, we&apos;re going to make a new stream whose head is the"><code onclick="Z(this)">0:15:32</code>If either stream is empty, we just return the other one. Otherwise, we're going to make a new stream whose head is the</span><span s="942" t="sum of the two heads and whose tail is the result of recursively adding the tails. So that will produce the element-wise sum of two"><code onclick="Z(this)">0:15:42</code>sum of the two heads and whose tail is the result of recursively adding the tails. So that will produce the element-wise sum of two</span><span s="952" t="streams. And then another useful thing to have around is scale stream. Scale stream takes some constant number in a stream s"><code onclick="Z(this)">0:15:52</code>streams. And then another useful thing to have around is scale stream. Scale stream takes some constant number in a stream s</span><span s="964" t="and is going to produce the stream of elements of s multiplied by this constant. And that&apos;s easy, that&apos;s just a map of the function of an"><code onclick="Z(this)">0:16:04</code>and is going to produce the stream of elements of s multiplied by this constant. And that's easy, that's just a map of the function of an</span><span s="974" t="element that multiplies it by the constant, and we map that down the stream. So given those two, let me show you what I mean by"><code onclick="Z(this)">0:16:14</code>element that multiplies it by the constant, and we map that down the stream. So given those two, let me show you what I mean by</span><span s="983" t="programs that operate on streams all at once. Let&apos;s look at this. Suppose I write this. I say define--"><code onclick="Z(this)">0:16:23</code>programs that operate on streams all at once. Let's look at this. Suppose I write this. I say define--</span><span s="996" t="I&apos;ll call it ones-- to be cons-stream of 1 onto ones."><code onclick="Z(this)">0:16:36</code>I'll call it ones-- to be cons-stream of 1 onto ones.</span><span s="1014" t="What&apos;s that? That&apos;s going to be an infinite stream of ones because the first thing is 1."><code onclick="Z(this)">0:16:54</code>What's that? That's going to be an infinite stream of ones because the first thing is 1.</span><span s="1023" t="And the tail of it is a thing whose first thing is 1 and whose tail is a thing whose first thing is 1 and so on and so on and so on. So that&apos;s an infinite stream of ones."><code onclick="Z(this)">0:17:03</code>And the tail of it is a thing whose first thing is 1 and whose tail is a thing whose first thing is 1 and so on and so on and so on. So that's an infinite stream of ones.</span><span s="1035" t="And now using that, let me give you another definition of the integers. We can define the integers to be--"><code onclick="Z(this)">0:17:15</code>And now using that, let me give you another definition of the integers. We can define the integers to be--</span><span s="1048" t="well, the first integer we&apos;ll take to be 1, this cons-stream of 1 onto the element-wise sum onto add streams of the"><code onclick="Z(this)">0:17:28</code>well, the first integer we'll take to be 1, this cons-stream of 1 onto the element-wise sum onto add streams of the</span><span s="1062" t="integers to ones."><code onclick="Z(this)">0:17:42</code>integers to ones.</span><span s="1074" t="The integers are a thing whose first element is 1, and the rest of them you get by taking those integers and"><code onclick="Z(this)">0:17:54</code>The integers are a thing whose first element is 1, and the rest of them you get by taking those integers and</span><span s="1084" t="incrementing each one by one. So the second element of the integers is the first element of the integers incremented by one."><code onclick="Z(this)">0:18:04</code>incrementing each one by one. So the second element of the integers is the first element of the integers incremented by one.</span><span s="1093" t="And the rest of that is the next one, and the third element of that is the same as the first element of the tail of the integers incremented by one, which is the same as the"><code onclick="Z(this)">0:18:13</code>And the rest of that is the next one, and the third element of that is the same as the first element of the tail of the integers incremented by one, which is the same as the</span><span s="1105" t="first element of the original integers incremented by one and incremented by one again and so on."><code onclick="Z(this)">0:18:25</code>first element of the original integers incremented by one and incremented by one again and so on.</span><span s="1115" t="That looks pretty suspicious. See, notice that it works because of delay. See, this looks like-- let&apos;s take a look at ones. This looks like it couldn&apos;t even be processed because it&apos;s"><code onclick="Z(this)">0:18:35</code>That looks pretty suspicious. See, notice that it works because of delay. See, this looks like-- let's take a look at ones. This looks like it couldn't even be processed because it's</span><span s="1126" t="suddenly saying in order to know what ones is, I say it&apos;s cons-stream of something onto ones. The reason that works is because of that very sneaky hidden delay in there."><code onclick="Z(this)">0:18:46</code>suddenly saying in order to know what ones is, I say it's cons-stream of something onto ones. The reason that works is because of that very sneaky hidden delay in there.</span><span s="1135" t="Because what this really is, remember, cons-stream is just an abbreviation. This really is cons of 1 onto delay of ones."><code onclick="Z(this)">0:18:55</code>Because what this really is, remember, cons-stream is just an abbreviation. This really is cons of 1 onto delay of ones.</span><span s="1152" t="So how does that work? You say I&apos;m going to define ones. First I see what ones is supposed to be defined as. Well, ones is supposed to be defined as a cons whose first"><code onclick="Z(this)">0:19:12</code>So how does that work? You say I'm going to define ones. First I see what ones is supposed to be defined as. Well, ones is supposed to be defined as a cons whose first</span><span s="1167" t="part is 1 and whose second part is, well, it&apos;s a promise to compute something that I don&apos;t worry about yet. So it doesn&apos;t bother me that at the point I do this definition, ones isn&apos;t defined."><code onclick="Z(this)">0:19:27</code>part is 1 and whose second part is, well, it's a promise to compute something that I don't worry about yet. So it doesn't bother me that at the point I do this definition, ones isn't defined.</span><span s="1177" t="Having run the definition now, ones is defined. So that when I go and look at the tail of it, it&apos;s defined. It&apos;s very sneaky."><code onclick="Z(this)">0:19:37</code>Having run the definition now, ones is defined. So that when I go and look at the tail of it, it's defined. It's very sneaky.</span><span s="1186" t="And an integer is the same way. I can refer to integers here because hidden way down-- because of this cons-stream. It&apos;s the cons-stream of 1 onto something that I"><code onclick="Z(this)">0:19:46</code>And an integer is the same way. I can refer to integers here because hidden way down-- because of this cons-stream. It's the cons-stream of 1 onto something that I</span><span s="1196" t="don&apos;t worry that yet. So I don&apos;t look at it, and I don&apos;t notice that integers isn&apos;t defined at the point where I try and run the definition."><code onclick="Z(this)">0:19:56</code>don't worry that yet. So I don't look at it, and I don't notice that integers isn't defined at the point where I try and run the definition.</span><span s="1206" t="OK, let me draw a picture of that integers thing because it still maybe seems a little bit shaky. What do I do?"><code onclick="Z(this)">0:20:06</code>OK, let me draw a picture of that integers thing because it still maybe seems a little bit shaky. What do I do?</span><span s="1215" t="I&apos;ve got the stream of ones, and that sort of comes in and goes into an adder that&apos;s going to be"><code onclick="Z(this)">0:20:15</code>I've got the stream of ones, and that sort of comes in and goes into an adder that's going to be</span><span s="1225" t="this add streams thing. And that goes in-- that&apos;s going to put out the integers."><code onclick="Z(this)">0:20:25</code>this add streams thing. And that goes in-- that's going to put out the integers.</span><span s="1240" t="And the other thing that goes into the adder here is the integer, so there&apos;s a little feedback loop. And all I need to start it off is someplace I&apos;ve got a stick"><code onclick="Z(this)">0:20:40</code>And the other thing that goes into the adder here is the integer, so there's a little feedback loop. And all I need to start it off is someplace I've got a stick</span><span s="1251" t="that initial 1. In a real signal processing thing, this might be a delay"><code onclick="Z(this)">0:20:51</code>that initial 1. In a real signal processing thing, this might be a delay</span><span s="1260" t="element with that was initialized to 1. But there&apos;s a picture of that ones program. And in fact, that looks a lot like--"><code onclick="Z(this)">0:21:00</code>element with that was initialized to 1. But there's a picture of that ones program. And in fact, that looks a lot like--</span><span s="1269" t="if you&apos;ve seen real signal block diagram things, that looks a lot like accumulators, finite state accumulators. And in fact, we can modify this a little bit to change"><code onclick="Z(this)">0:21:09</code>if you've seen real signal block diagram things, that looks a lot like accumulators, finite state accumulators. And in fact, we can modify this a little bit to change</span><span s="1281" t="this into something that integrates a stream or a finite state accumulator, however you like to think about it. So instead of the ones coming in and getting out the"><code onclick="Z(this)">0:21:21</code>this into something that integrates a stream or a finite state accumulator, however you like to think about it. So instead of the ones coming in and getting out the</span><span s="1290" t="integers, what we&apos;ll do is say there&apos;s a stream s coming in, and we&apos;re going to get out the integral of this, successive"><code onclick="Z(this)">0:21:30</code>integers, what we'll do is say there's a stream s coming in, and we're going to get out the integral of this, successive</span><span s="1303" t="values of that, and it looks almost the same. The only thing we&apos;re going to do is when s comes in here, before we just add it in we&apos;re going to multiply it"><code onclick="Z(this)">0:21:43</code>values of that, and it looks almost the same. The only thing we're going to do is when s comes in here, before we just add it in we're going to multiply it</span><span s="1313" t="by some number dt. And now what we have here, this is exactly the same thing. We have a box, which is an integrator."><code onclick="Z(this)">0:21:53</code>by some number dt. And now what we have here, this is exactly the same thing. We have a box, which is an integrator.</span><span s="1329" t="And it takes in a stream s, and instead of 1 here, we can put the additional value for the integral."><code onclick="Z(this)">0:22:09</code>And it takes in a stream s, and instead of 1 here, we can put the additional value for the integral.</span><span s="1339" t="And that one looks very much like a signal processing block diagram program. In fact, here&apos;s the procedure that looks exactly like that."><code onclick="Z(this)">0:22:19</code>And that one looks very much like a signal processing block diagram program. In fact, here's the procedure that looks exactly like that.</span><span s="1351" t="Find the integral of a stream. So an integral&apos;s going to take a stream and produce a new stream, and it takes in an initial value and some time constant."><code onclick="Z(this)">0:22:31</code>Find the integral of a stream. So an integral's going to take a stream and produce a new stream, and it takes in an initial value and some time constant.</span><span s="1362" t="And what do we do? Well, we internally define this thing int, and we make this internal name so we can feed it back, loop it around itself. And int is defined to be something that starts out at"><code onclick="Z(this)">0:22:42</code>And what do we do? Well, we internally define this thing int, and we make this internal name so we can feed it back, loop it around itself. And int is defined to be something that starts out at</span><span s="1372" t="the initial value, and the rest of it is gotten by adding together."><code onclick="Z(this)">0:22:52</code>the initial value, and the rest of it is gotten by adding together.</span><span s="1381" t="We take our input stream, scale it by dt, and add that to int. And now we&apos;ll return from all that the value of integral is this thing int."><code onclick="Z(this)">0:23:01</code>We take our input stream, scale it by dt, and add that to int. And now we'll return from all that the value of integral is this thing int.</span><span s="1390" t="And we use this internal definition syntax so we could write a little internal definition that refers to itself."><code onclick="Z(this)">0:23:10</code>And we use this internal definition syntax so we could write a little internal definition that refers to itself.</span><span s="1401" t="Well, there are all sorts of things we can do. Let&apos;s try this one. how about the Fibonacci numbers. You can say define fibs."><code onclick="Z(this)">0:23:21</code>Well, there are all sorts of things we can do. Let's try this one. how about the Fibonacci numbers. You can say define fibs.</span><span s="1416" t="Well, what are the Fibonacci numbers? They&apos;re something that starts out with 0, and"><code onclick="Z(this)">0:23:36</code>Well, what are the Fibonacci numbers? They're something that starts out with 0, and</span><span s="1428" t="the next one is 1. And the rest of the Fibonacci numbers are gotten by adding"><code onclick="Z(this)">0:23:48</code>the next one is 1. And the rest of the Fibonacci numbers are gotten by adding</span><span s="1446" t="the Fibonacci numbers to their own tail."><code onclick="Z(this)">0:24:06</code>the Fibonacci numbers to their own tail.</span><span s="1457" t="There&apos;s a definition of the Fibonacci numbers. How does that work? Well, we start off, and someone says compute for us the Fibonacci numbers, and we&apos;re going to tell you it"><code onclick="Z(this)">0:24:17</code>There's a definition of the Fibonacci numbers. How does that work? Well, we start off, and someone says compute for us the Fibonacci numbers, and we're going to tell you it</span><span s="1470" t="starts out with 0 and 1. And everything after the 0 and 1 is gotten by summing two"><code onclick="Z(this)">0:24:30</code>starts out with 0 and 1. And everything after the 0 and 1 is gotten by summing two</span><span s="1480" t="streams. One is the fibs themselves, and the other one is the tail of the fibs. So if I know that these start out with 0 and 1, I know that"><code onclick="Z(this)">0:24:40</code>streams. One is the fibs themselves, and the other one is the tail of the fibs. So if I know that these start out with 0 and 1, I know that</span><span s="1492" t="the fibs now start out with 0 and 1, and the tail of the fibs start out with 1. So as soon as I know that, I know that the next one here is 0 plus 1 is 1, and that tells me that the next one here is 1"><code onclick="Z(this)">0:24:52</code>the fibs now start out with 0 and 1, and the tail of the fibs start out with 1. So as soon as I know that, I know that the next one here is 0 plus 1 is 1, and that tells me that the next one here is 1</span><span s="1504" t="and the next one here is 1. And as soon as I know that, I know that the next one is 2. So the next one here is 2 and the next one here is 2. And this is 3."><code onclick="Z(this)">0:25:04</code>and the next one here is 1. And as soon as I know that, I know that the next one is 2. So the next one here is 2 and the next one here is 2. And this is 3.</span><span s="1514" t="This one goes to 3, and this is 5. So it&apos;s a perfectly sensible definition. It&apos;s a one-line definition. And again, I could walk over to the computer and type that"><code onclick="Z(this)">0:25:14</code>This one goes to 3, and this is 5. So it's a perfectly sensible definition. It's a one-line definition. And again, I could walk over to the computer and type that</span><span s="1525" t="in, exactly that, and then say print stream the Fibonacci numbers, and they all come flying out. See, this is a lot like learning"><code onclick="Z(this)">0:25:25</code>in, exactly that, and then say print stream the Fibonacci numbers, and they all come flying out. See, this is a lot like learning</span><span s="1534" t="about recursion again. Instead of thinking that recursive procedures, we have recursively defined data objects."><code onclick="Z(this)">0:25:34</code>about recursion again. Instead of thinking that recursive procedures, we have recursively defined data objects.</span><span s="1545" t="But that shouldn&apos;t surprise you at all, because by now, you should be coming to really believe that there&apos;s no difference really between procedures and data. In fact, in some sense, the underlying streams are"><code onclick="Z(this)">0:25:45</code>But that shouldn't surprise you at all, because by now, you should be coming to really believe that there's no difference really between procedures and data. In fact, in some sense, the underlying streams are</span><span s="1555" t="procedures sitting there, although we don&apos;t think of them that way. So the fact that we have recursive procedures, well, then it should be natural that we have recursive data, too."><code onclick="Z(this)">0:25:55</code>procedures sitting there, although we don't think of them that way. So the fact that we have recursive procedures, well, then it should be natural that we have recursive data, too.</span><span s="1567" t="OK, well, this is all pretty neat. Unfortunately, there are problems that streams aren&apos;t going to solve. Let me show you one of them."><code onclick="Z(this)">0:26:07</code>OK, well, this is all pretty neat. Unfortunately, there are problems that streams aren't going to solve. Let me show you one of them.</span><span s="1577" t="See, in the same way, let&apos;s imagine that we&apos;re building an analog computer to solve some differential equation like,"><code onclick="Z(this)">0:26:17</code>See, in the same way, let's imagine that we're building an analog computer to solve some differential equation like,</span><span s="1586" t="say, we want to solve the equation y prime dy dt is y squared, and I&apos;m going to give you some initial value."><code onclick="Z(this)">0:26:26</code>say, we want to solve the equation y prime dy dt is y squared, and I'm going to give you some initial value.</span><span s="1596" t="I&apos;ll tell you y of 0 equals 1. Let&apos;s say dt is equal to something."><code onclick="Z(this)">0:26:36</code>I'll tell you y of 0 equals 1. Let's say dt is equal to something.</span><span s="1606" t="Now, in the old days, people built analog computers to solve these kinds of things. And the way you do that is really simple. You get yourself an integrator, like that one, an"><code onclick="Z(this)">0:26:46</code>Now, in the old days, people built analog computers to solve these kinds of things. And the way you do that is really simple. You get yourself an integrator, like that one, an</span><span s="1621" t="integrator box. And we put in the initial value y of 0 is 1. And now if we feed something in and get something out,"><code onclick="Z(this)">0:27:01</code>integrator box. And we put in the initial value y of 0 is 1. And now if we feed something in and get something out,</span><span s="1630" t="we&apos;ll say, gee, what we&apos;re getting out is the answer. And what we&apos;re going to feed in is the derivative, and the derivative is supposed to be the square of the answer."><code onclick="Z(this)">0:27:10</code>we'll say, gee, what we're getting out is the answer. And what we're going to feed in is the derivative, and the derivative is supposed to be the square of the answer.</span><span s="1641" t="So if we take these values and map using square, and if I"><code onclick="Z(this)">0:27:21</code>So if we take these values and map using square, and if I</span><span s="1651" t="feed this around, that&apos;s how I build a block diagram for an analog computer that solves this differential equation."><code onclick="Z(this)">0:27:31</code>feed this around, that's how I build a block diagram for an analog computer that solves this differential equation.</span><span s="1662" t="Now, what we&apos;d like to do is write a stream program that looks exactly like that. And what do I mean exactly like that? Well, I&apos;d say define y to be the integral of dy starting at"><code onclick="Z(this)">0:27:42</code>Now, what we'd like to do is write a stream program that looks exactly like that. And what do I mean exactly like that? Well, I'd say define y to be the integral of dy starting at</span><span s="1688" t="1 with 0.001 as a time step. And I&apos;d like to say that says this. And then I&apos;d like to say, well, dy is gotten by mapping"><code onclick="Z(this)">0:28:08</code>1 with 0.001 as a time step. And I'd like to say that says this. And then I'd like to say, well, dy is gotten by mapping</span><span s="1699" t="the square along y. So define dy to be map square along y."><code onclick="Z(this)">0:28:19</code>the square along y. So define dy to be map square along y.</span><span s="1713" t="So there&apos;s a stream description of this analog computer, and unfortunately, it doesn&apos;t work. And you can see why it doesn&apos;t work because when I come in"><code onclick="Z(this)">0:28:33</code>So there's a stream description of this analog computer, and unfortunately, it doesn't work. And you can see why it doesn't work because when I come in</span><span s="1723" t="and say define y to be the integral of dy, it says, oh, the integral of y-- huh? Oh, that&apos;s undefined."><code onclick="Z(this)">0:28:43</code>and say define y to be the integral of dy, it says, oh, the integral of y-- huh? Oh, that's undefined.</span><span s="1733" t="So I can&apos;t write this definition before I&apos;ve written this one. On the other hand, if I try and write this one first, it says, oh, I define y to be the map of square along y?"><code onclick="Z(this)">0:28:53</code>So I can't write this definition before I've written this one. On the other hand, if I try and write this one first, it says, oh, I define y to be the map of square along y?</span><span s="1743" t="Oh, that&apos;s not defined yet. So I can&apos;t write this one first, and I can&apos;t write that one first. So I can&apos;t quite play this game."><code onclick="Z(this)">0:29:03</code>Oh, that's not defined yet. So I can't write this one first, and I can't write that one first. So I can't quite play this game.</span><span s="1757" t="Well, is there a way out? See, we can do that with ones. See, over here, we did this thing ones, and we were able"><code onclick="Z(this)">0:29:17</code>Well, is there a way out? See, we can do that with ones. See, over here, we did this thing ones, and we were able</span><span s="1767" t="to define ones in terms of ones because of this delay that was built inside because cons-stream had a delay. Now, why&apos;s it sensible?"><code onclick="Z(this)">0:29:27</code>to define ones in terms of ones because of this delay that was built inside because cons-stream had a delay. Now, why's it sensible?</span><span s="1776" t="Why&apos;s it sensible for cons-stream to be built with this delay? The reason is that cons-stream can do a useful thing without looking at its tail."><code onclick="Z(this)">0:29:36</code>Why's it sensible for cons-stream to be built with this delay? The reason is that cons-stream can do a useful thing without looking at its tail.</span><span s="1785" t="See, if I say this is cons-stream of 1 onto something without knowing anything about something, I know that the stream starts off with 1."><code onclick="Z(this)">0:29:45</code>See, if I say this is cons-stream of 1 onto something without knowing anything about something, I know that the stream starts off with 1.</span><span s="1794" t="That&apos;s why it was sensible to build something like cons-stream. So we put a delay in there, and that allows us to have this sort of self-referential definition."><code onclick="Z(this)">0:29:54</code>That's why it was sensible to build something like cons-stream. So we put a delay in there, and that allows us to have this sort of self-referential definition.</span><span s="1806" t="Well, integral is a little bit the same way. See, notice for an integral, I can-- let&apos;s go back and look at integral for a second."><code onclick="Z(this)">0:30:06</code>Well, integral is a little bit the same way. See, notice for an integral, I can-- let's go back and look at integral for a second.</span><span s="1817" t="See, notice integral, it makes sense to say what&apos;s the first thing in the integral without knowing the stream that you&apos;re"><code onclick="Z(this)">0:30:17</code>See, notice integral, it makes sense to say what's the first thing in the integral without knowing the stream that you're</span><span s="1827" t="integrating. Because the first thing in the integral is always going to be the initial value that you&apos;re handed. So integral could be a procedure like cons-stream."><code onclick="Z(this)">0:30:27</code>integrating. Because the first thing in the integral is always going to be the initial value that you're handed. So integral could be a procedure like cons-stream.</span><span s="1837" t="You could define it, and then even before it knows what it&apos;s supposed to be integrating, it knows enough to say what its initial value is."><code onclick="Z(this)">0:30:37</code>You could define it, and then even before it knows what it's supposed to be integrating, it knows enough to say what its initial value is.</span><span s="1846" t="So we can make a smarter integral, which is aha, you&apos;re going to give me a stream to integrate and an initial value, but I really don&apos;t have to look at that stream that I&apos;m supposed to integrate until you ask me to work down"><code onclick="Z(this)">0:30:46</code>So we can make a smarter integral, which is aha, you're going to give me a stream to integrate and an initial value, but I really don't have to look at that stream that I'm supposed to integrate until you ask me to work down</span><span s="1856" t="the stream. In other words, integral can be like cons-stream, and you can expect that there&apos;s going to be a delay around its integrand. And we can write that."><code onclick="Z(this)">0:30:56</code>the stream. In other words, integral can be like cons-stream, and you can expect that there's going to be a delay around its integrand. And we can write that.</span><span s="1865" t="Here&apos;s a procedure that does that. Another version of integral, and this is almost like the previous one, except the stream it&apos;s going to get in is going to expect to be a delayed object."><code onclick="Z(this)">0:31:05</code>Here's a procedure that does that. Another version of integral, and this is almost like the previous one, except the stream it's going to get in is going to expect to be a delayed object.</span><span s="1877" t="And how does this integral work? Well, the little thing it&apos;s going to define inside of itself says on the cons-stream, the initial value is the initial value, but only inside of that cons-stream,"><code onclick="Z(this)">0:31:17</code>And how does this integral work? Well, the little thing it's going to define inside of itself says on the cons-stream, the initial value is the initial value, but only inside of that cons-stream,</span><span s="1889" t="and remember, there&apos;s going to be a hidden delay inside here. Only inside of that cons-stream will I start"><code onclick="Z(this)">0:31:29</code>and remember, there's going to be a hidden delay inside here. Only inside of that cons-stream will I start</span><span s="1898" t="looking at what the actual delayed object is. So my answer is the first thing&apos;s the initial value. If anybody now asks me for my tail, at that point, I&apos;m going"><code onclick="Z(this)">0:31:38</code>looking at what the actual delayed object is. So my answer is the first thing's the initial value. If anybody now asks me for my tail, at that point, I'm going</span><span s="1910" t="to force that delayed object-- and I&apos;ll call that s-- and I do the add streams. So this is an integral which is sort of like cons-stream."><code onclick="Z(this)">0:31:50</code>to force that delayed object-- and I'll call that s-- and I do the add streams. So this is an integral which is sort of like cons-stream.</span><span s="1919" t="It&apos;s not going to actually try and see what you handed it as the thing to integrate until you look past the first element."><code onclick="Z(this)">0:31:59</code>It's not going to actually try and see what you handed it as the thing to integrate until you look past the first element.</span><span s="1930" t="And if we do that and we can make this work, all we have to do here is say define y to the integral of delay of y, of"><code onclick="Z(this)">0:32:10</code>And if we do that and we can make this work, all we have to do here is say define y to the integral of delay of y, of</span><span s="1944" t="delay of dy. So y is going to be the integral of delay of dy"><code onclick="Z(this)">0:32:24</code>delay of dy. So y is going to be the integral of delay of dy</span><span s="1953" t="starting at 1, and now this will work. Because I type in the definition of y, and that says, oh, I&apos;m supposed to use the integral of something I don&apos;t care about right now because it&apos;s a delay."><code onclick="Z(this)">0:32:33</code>starting at 1, and now this will work. Because I type in the definition of y, and that says, oh, I'm supposed to use the integral of something I don't care about right now because it's a delay.</span><span s="1964" t="And these things, now you define dy. Now, y is defined. So when I define dy, it can see that definition for y. Everything is now started up. Both streams have their first element."><code onclick="Z(this)">0:32:44</code>And these things, now you define dy. Now, y is defined. So when I define dy, it can see that definition for y. Everything is now started up. Both streams have their first element.</span><span s="1974" t="And then when I start mapping down, looking at successive elements, both y and dy are defined. So there&apos;s a little game you can play that goes a little bit beyond just using the delay that&apos;s hidden inside"><code onclick="Z(this)">0:32:54</code>And then when I start mapping down, looking at successive elements, both y and dy are defined. So there's a little game you can play that goes a little bit beyond just using the delay that's hidden inside</span><span s="1986" t="streams. Questions? OK, let&apos;s take a break."><code onclick="Z(this)">0:33:06</code>streams. Questions? OK, let's take a break.</span><span s="2047" t="Well, just before the break, I&apos;m not sure if you noticed it, but something nasty started to happen. We&apos;ve been going along with the streams and divorcing time"><code onclick="Z(this)">0:34:07</code>Well, just before the break, I'm not sure if you noticed it, but something nasty started to happen. We've been going along with the streams and divorcing time</span><span s="2061" t="in the programs from time in the computers, and all that divorcing got hidden inside the streams. And then at the very end, we saw that sometimes in order to really"><code onclick="Z(this)">0:34:21</code>in the programs from time in the computers, and all that divorcing got hidden inside the streams. And then at the very end, we saw that sometimes in order to really</span><span s="2070" t="take advantage of this method, you have to pull out other delays. You have to write some explicit delays that are not hidden inside that cons-stream."><code onclick="Z(this)">0:34:30</code>take advantage of this method, you have to pull out other delays. You have to write some explicit delays that are not hidden inside that cons-stream.</span><span s="2079" t="And I did a very simple example with differential equations, but if you have some very complicated system with all kinds of self-loops, it becomes very, very difficult to see where you need those delays."><code onclick="Z(this)">0:34:39</code>And I did a very simple example with differential equations, but if you have some very complicated system with all kinds of self-loops, it becomes very, very difficult to see where you need those delays.</span><span s="2089" t="And if you leave them out by mistake, it becomes very, very difficult to see why the thing maybe isn&apos;t working. So that&apos;s kind of mess, that by getting this power and"><code onclick="Z(this)">0:34:49</code>And if you leave them out by mistake, it becomes very, very difficult to see why the thing maybe isn't working. So that's kind of mess, that by getting this power and</span><span s="2100" t="allowing us to use delay, we end up with some very complicated programming sometimes, because it can&apos;t all be hidden inside the streams. Well, is there a way out of that?"><code onclick="Z(this)">0:35:00</code>allowing us to use delay, we end up with some very complicated programming sometimes, because it can't all be hidden inside the streams. Well, is there a way out of that?</span><span s="2111" t="Yeah, there is a way out of that. We could change the language so that all procedures acted like cons-stream, so that every procedure automatically"><code onclick="Z(this)">0:35:11</code>Yeah, there is a way out of that. We could change the language so that all procedures acted like cons-stream, so that every procedure automatically</span><span s="2122" t="has an implicit delay around its arguments. And what would that mean? That would mean when you call a procedure, the arguments wouldn&apos;t get evaluated."><code onclick="Z(this)">0:35:22</code>has an implicit delay around its arguments. And what would that mean? That would mean when you call a procedure, the arguments wouldn't get evaluated.</span><span s="2132" t="Instead, they&apos;d only be evaluated when you need them, so they might be passed off to some other procedure, which wouldn&apos;t evaluate them either. So all these procedures would be passing promises around."><code onclick="Z(this)">0:35:32</code>Instead, they'd only be evaluated when you need them, so they might be passed off to some other procedure, which wouldn't evaluate them either. So all these procedures would be passing promises around.</span><span s="2142" t="And then finally maybe when you finally got down to having to look at the value of something that was handed to a primitive operator would you actually start calling in all those promises."><code onclick="Z(this)">0:35:42</code>And then finally maybe when you finally got down to having to look at the value of something that was handed to a primitive operator would you actually start calling in all those promises.</span><span s="2152" t="If we did that, since everything would have a uniform delay, then you wouldn&apos;t have to write any explicit delays, because it would be automatically built into the way the language works."><code onclick="Z(this)">0:35:52</code>If we did that, since everything would have a uniform delay, then you wouldn't have to write any explicit delays, because it would be automatically built into the way the language works.</span><span s="2162" t="Or another way to say that, technically what I&apos;m describing is what&apos;s called-- if we did that, our language would be so-called"><code onclick="Z(this)">0:36:02</code>Or another way to say that, technically what I'm describing is what's called-- if we did that, our language would be so-called</span><span s="2172" t="normal-order evaluation language versus what we&apos;ve"><code onclick="Z(this)">0:36:12</code>normal-order evaluation language versus what we've</span><span s="2182" t="actually been working with, which is called applicative order--"><code onclick="Z(this)">0:36:22</code>actually been working with, which is called applicative order--</span><span s="2191" t="versus applicative-order evaluation. And remember the substitution model for applicative order. It says when you go and evaluate a combination, you"><code onclick="Z(this)">0:36:31</code>versus applicative-order evaluation. And remember the substitution model for applicative order. It says when you go and evaluate a combination, you</span><span s="2200" t="find the values of all the pieces. You evaluate the arguments and then you substitute them in the body of the procedure. Normal order says no, don&apos;t do that."><code onclick="Z(this)">0:36:40</code>find the values of all the pieces. You evaluate the arguments and then you substitute them in the body of the procedure. Normal order says no, don't do that.</span><span s="2209" t="What you do is effectively substitute in the body of the procedure, but instead of evaluating the arguments, you just put a promise to compute them there."><code onclick="Z(this)">0:36:49</code>What you do is effectively substitute in the body of the procedure, but instead of evaluating the arguments, you just put a promise to compute them there.</span><span s="2218" t="Or another way to say that is you take the expressions for the arguments, if you like, and substitute them in the body of the procedure and go on, and never really simplify anything until you get down to a primitive operator."><code onclick="Z(this)">0:36:58</code>Or another way to say that is you take the expressions for the arguments, if you like, and substitute them in the body of the procedure and go on, and never really simplify anything until you get down to a primitive operator.</span><span s="2229" t="So that would be a normal-order language. Well, why don&apos;t we do that? Because if we did, we&apos;d get all the advantages of delayed evaluation with none of the mess."><code onclick="Z(this)">0:37:09</code>So that would be a normal-order language. Well, why don't we do that? Because if we did, we'd get all the advantages of delayed evaluation with none of the mess.</span><span s="2238" t="In fact, if we did that and cons was just a delayed procedure, that would make cons the same as cons-stream. We wouldn&apos;t need streams of all because lists would"><code onclick="Z(this)">0:37:18</code>In fact, if we did that and cons was just a delayed procedure, that would make cons the same as cons-stream. We wouldn't need streams of all because lists would</span><span s="2247" t="automatically be streams. That&apos;s how lists would behave, and data structures would behave that way. Everything would behave that way, right? You&apos;d never really do any computation until you actually"><code onclick="Z(this)">0:37:27</code>automatically be streams. That's how lists would behave, and data structures would behave that way. Everything would behave that way, right? You'd never really do any computation until you actually</span><span s="2258" t="needed the answer. You wouldn&apos;t have to worry about all these explicit annoying delays. Well, why don&apos;t we do that?"><code onclick="Z(this)">0:37:38</code>needed the answer. You wouldn't have to worry about all these explicit annoying delays. Well, why don't we do that?</span><span s="2267" t="First of all, I should say people do do that. There&apos;s some very beautiful languages. One of the very nicest is a language called Miranda, which"><code onclick="Z(this)">0:37:47</code>First of all, I should say people do do that. There's some very beautiful languages. One of the very nicest is a language called Miranda, which</span><span s="2276" t="is developed by David Turner at the University of Kent. And that&apos;s how this language works. It&apos;s a normal-order language and its data structures, which"><code onclick="Z(this)">0:37:56</code>is developed by David Turner at the University of Kent. And that's how this language works. It's a normal-order language and its data structures, which</span><span s="2286" t="look like lists, are actually streams. And you write ordinary procedures in Miranda, and they do these prime things and eight queens things, just without anything special. It&apos;s all built in there."><code onclick="Z(this)">0:38:06</code>look like lists, are actually streams. And you write ordinary procedures in Miranda, and they do these prime things and eight queens things, just without anything special. It's all built in there.</span><span s="2297" t="But there&apos;s a price. Remember how we got here. We&apos;re decoupling time in the programs"><code onclick="Z(this)">0:38:17</code>But there's a price. Remember how we got here. We're decoupling time in the programs</span><span s="2306" t="from time in the machines. And if we put delay, that sort of decouples it everywhere, not just in streams. Remember what we&apos;re trying to do. We&apos;re trying to think about programming as a way to"><code onclick="Z(this)">0:38:26</code>from time in the machines. And if we put delay, that sort of decouples it everywhere, not just in streams. Remember what we're trying to do. We're trying to think about programming as a way to</span><span s="2316" t="specify processes. And if we give up too much time, our language becomes more elegant, but it becomes a little bit less expressive."><code onclick="Z(this)">0:38:36</code>specify processes. And if we give up too much time, our language becomes more elegant, but it becomes a little bit less expressive.</span><span s="2327" t="There are certain distinctions that we can&apos;t draw. One of them, for instance, is iteration. Remember this old procedure, iterative factorial, that we"><code onclick="Z(this)">0:38:47</code>There are certain distinctions that we can't draw. One of them, for instance, is iteration. Remember this old procedure, iterative factorial, that we</span><span s="2338" t="looked at quite a long time ago. Iterative factorial had a thing, and it said there was an internal procedure, and there was a state which was a product and a counter, and we iterate that"><code onclick="Z(this)">0:38:58</code>looked at quite a long time ago. Iterative factorial had a thing, and it said there was an internal procedure, and there was a state which was a product and a counter, and we iterate that</span><span s="2349" t="going around the loop. And we said that was an iterative procedure because it didn&apos;t build up state. And the reason it didn&apos;t build up state is because this iter"><code onclick="Z(this)">0:39:09</code>going around the loop. And we said that was an iterative procedure because it didn't build up state. And the reason it didn't build up state is because this iter</span><span s="2359" t="that&apos;s called is just passing these things around to itself. Or in the substitution model, you could see in the substitution model that Jerry did, that in an iterative"><code onclick="Z(this)">0:39:19</code>that's called is just passing these things around to itself. Or in the substitution model, you could see in the substitution model that Jerry did, that in an iterative</span><span s="2369" t="procedure, that state doesn&apos;t have to grow. And in fact, we said it doesn&apos;t, so this is an iteration. But now think about this exact same text if we had a normal-order language."><code onclick="Z(this)">0:39:29</code>procedure, that state doesn't have to grow. And in fact, we said it doesn't, so this is an iteration. But now think about this exact same text if we had a normal-order language.</span><span s="2381" t="What would happen is this would no longer be an iterative procedure? And if you really think about the details of the substitution model, which I&apos;m not going to do here, this"><code onclick="Z(this)">0:39:41</code>What would happen is this would no longer be an iterative procedure? And if you really think about the details of the substitution model, which I'm not going to do here, this</span><span s="2391" t="expression would grow. Why would it grow? It&apos;s because when iter calls itself, it calls itself with this product. If it&apos;s a normal-order language, that multiplication"><code onclick="Z(this)">0:39:51</code>expression would grow. Why would it grow? It's because when iter calls itself, it calls itself with this product. If it's a normal-order language, that multiplication</span><span s="2400" t="is not going to get done. That&apos;s going to say I&apos;m to call myself with a promise to compute this product. And now iter goes around again."><code onclick="Z(this)">0:40:00</code>is not going to get done. That's going to say I'm to call myself with a promise to compute this product. And now iter goes around again.</span><span s="2409" t="And I&apos;m going to call myself with a promise to compute this product where now one of the one factors is a promise."><code onclick="Z(this)">0:40:09</code>And I'm going to call myself with a promise to compute this product where now one of the one factors is a promise.</span><span s="2418" t="And I call myself again. And if you write out the substitution model for that iterative process, you&apos;ll see exactly the same growth in state, all those promises that are getting remembered that"><code onclick="Z(this)">0:40:18</code>And I call myself again. And if you write out the substitution model for that iterative process, you'll see exactly the same growth in state, all those promises that are getting remembered that</span><span s="2429" t="have to get called in at the very end. So one of the disadvantages is that you can&apos;t really express iteration. Maybe that&apos;s a little theoretical reason why not,"><code onclick="Z(this)">0:40:29</code>have to get called in at the very end. So one of the disadvantages is that you can't really express iteration. Maybe that's a little theoretical reason why not,</span><span s="2439" t="but in fact, people who are trying to write real operating systems in these languages are running into exactly these types of problems. Like it&apos;s perfectly possible to"><code onclick="Z(this)">0:40:39</code>but in fact, people who are trying to write real operating systems in these languages are running into exactly these types of problems. Like it's perfectly possible to</span><span s="2451" t="implement a text editor in languages like these. But after you work a while, you suddenly have 3 megabytes of stuff, which is--"><code onclick="Z(this)">0:40:51</code>implement a text editor in languages like these. But after you work a while, you suddenly have 3 megabytes of stuff, which is--</span><span s="2461" t="I guess they call them the dragging tail problem of people who are looking at these, of promises that sort of haven&apos;t been called in because you couldn&apos;t quite express an iteration."><code onclick="Z(this)">0:41:01</code>I guess they call them the dragging tail problem of people who are looking at these, of promises that sort of haven't been called in because you couldn't quite express an iteration.</span><span s="2470" t="And one of the research questions in these kinds of languages are figuring out the right compiler technology to get rid of the so-called dragging tails."><code onclick="Z(this)">0:41:10</code>And one of the research questions in these kinds of languages are figuring out the right compiler technology to get rid of the so-called dragging tails.</span><span s="2480" t="It&apos;s not simple. But there&apos;s another kind of more striking issue about why you just don&apos;t go ahead and make your"><code onclick="Z(this)">0:41:20</code>It's not simple. But there's another kind of more striking issue about why you just don't go ahead and make your</span><span s="2490" t="language normal order. And the reason is that normal-order evaluation and side effects just don&apos;t mix."><code onclick="Z(this)">0:41:30</code>language normal order. And the reason is that normal-order evaluation and side effects just don't mix.</span><span s="2502" t="They just don&apos;t go together very well. Somehow, you can&apos;t-- it&apos;s sort of you can&apos;t simultaneously go around"><code onclick="Z(this)">0:41:42</code>They just don't go together very well. Somehow, you can't-- it's sort of you can't simultaneously go around</span><span s="2511" t="trying to model objects with local state and change and at the same time do these normal-order tricks of de-coupling time."><code onclick="Z(this)">0:41:51</code>trying to model objects with local state and change and at the same time do these normal-order tricks of de-coupling time.</span><span s="2520" t="Let me just show you a really simple example, very, very simple. Suppose we had a normal-order language. And I&apos;m going to start out in this language."><code onclick="Z(this)">0:42:00</code>Let me just show you a really simple example, very, very simple. Suppose we had a normal-order language. And I'm going to start out in this language.</span><span s="2529" t="This is now normal order. I&apos;m going to define x to be 0. It&apos;s just some variable I&apos;ll initialize. And now I&apos;m going to define this little funny function,"><code onclick="Z(this)">0:42:09</code>This is now normal order. I'm going to define x to be 0. It's just some variable I'll initialize. And now I'm going to define this little funny function,</span><span s="2538" t="which is an identity function. And what it does, it keeps track of the last time you called it using x."><code onclick="Z(this)">0:42:18</code>which is an identity function. And what it does, it keeps track of the last time you called it using x.</span><span s="2551" t="So the identity of n just returns n, but it sets x to be n. And now I&apos;ll define a little increment function, which is a"><code onclick="Z(this)">0:42:31</code>So the identity of n just returns n, but it sets x to be n. And now I'll define a little increment function, which is a</span><span s="2560" t="very little, simple scenario. Now, imagine I&apos;m interacting with this in the normal-order language, and I type the following. I say define y to be increment the identity function of 3, so"><code onclick="Z(this)">0:42:40</code>very little, simple scenario. Now, imagine I'm interacting with this in the normal-order language, and I type the following. I say define y to be increment the identity function of 3, so</span><span s="2572" t="y is going to be 4. Now, I say what&apos;s x? Well, x should have been the value that was remembered last"><code onclick="Z(this)">0:42:52</code>y is going to be 4. Now, I say what's x? Well, x should have been the value that was remembered last</span><span s="2582" t="when I called the identity function. So you&apos;d expect to say, well, x is 3 at this point, but it&apos;s not. Because when I defined y here, what I really defined y to be"><code onclick="Z(this)">0:43:02</code>when I called the identity function. So you'd expect to say, well, x is 3 at this point, but it's not. Because when I defined y here, what I really defined y to be</span><span s="2593" t="increment of a promise to do this thing. So I didn&apos;t look at y, so that identity function didn&apos;t get run. So if I type in this definition and look at x, I&apos;m"><code onclick="Z(this)">0:43:13</code>increment of a promise to do this thing. So I didn't look at y, so that identity function didn't get run. So if I type in this definition and look at x, I'm</span><span s="2604" t="going to get 0. Now, if I go look at y and say what&apos;s y, say y is 4, looking"><code onclick="Z(this)">0:43:24</code>going to get 0. Now, if I go look at y and say what's y, say y is 4, looking</span><span s="2613" t="at y, that very active looking at y caused the identity function to be run. And now x will get remembered as 3. So here x will be 0."><code onclick="Z(this)">0:43:33</code>at y, that very active looking at y caused the identity function to be run. And now x will get remembered as 3. So here x will be 0.</span><span s="2622" t="Here, x will be 3. That&apos;s a tiny, little, simple scenario, but you can see what kind of a mess that&apos;s going to make for debugging interactive"><code onclick="Z(this)">0:43:42</code>Here, x will be 3. That's a tiny, little, simple scenario, but you can see what kind of a mess that's going to make for debugging interactive</span><span s="2632" t="programs when you have normal-order evaluation. It&apos;s very confusing. But it&apos;s very confusing for a very deep reason, which is"><code onclick="Z(this)">0:43:52</code>programs when you have normal-order evaluation. It's very confusing. But it's very confusing for a very deep reason, which is</span><span s="2643" t="that the whole idea of putting in delays is that you throw away time. That&apos;s why we can have these infinite processes. Since we&apos;ve thrown away time, we don&apos;t have to wait for them"><code onclick="Z(this)">0:44:03</code>that the whole idea of putting in delays is that you throw away time. That's why we can have these infinite processes. Since we've thrown away time, we don't have to wait for them</span><span s="2653" t="to run, right? We decouple the order of events in the computer from what we write in our programs. But when we talk about state"><code onclick="Z(this)">0:44:13</code>to run, right? We decouple the order of events in the computer from what we write in our programs. But when we talk about state</span><span s="2663" t="and set and change, that&apos;s exactly what we do want control of. So it&apos;s almost as if there&apos;s this fundamental contradiction"><code onclick="Z(this)">0:44:23</code>and set and change, that's exactly what we do want control of. So it's almost as if there's this fundamental contradiction</span><span s="2672" t="in what you want. And that brings us back to these sort of philosophical mutterings about what is it that you&apos;re trying to model and how do you look at the world."><code onclick="Z(this)">0:44:32</code>in what you want. And that brings us back to these sort of philosophical mutterings about what is it that you're trying to model and how do you look at the world.</span><span s="2682" t="Or sometimes this is called the debate over functional programming."><code onclick="Z(this)">0:44:42</code>Or sometimes this is called the debate over functional programming.</span><span s="2693" t="A so-called purely functional language is one that just doesn&apos;t have any side effects. Since you have no side effects, there&apos;s no assignment"><code onclick="Z(this)">0:44:53</code>A so-called purely functional language is one that just doesn't have any side effects. Since you have no side effects, there's no assignment</span><span s="2702" t="operator, so there are no terrible consequences of it. You can use a substitution-like thing. Programs really are like mathematics and not like"><code onclick="Z(this)">0:45:02</code>operator, so there are no terrible consequences of it. You can use a substitution-like thing. Programs really are like mathematics and not like</span><span s="2711" t="models in the real world, not like objects in the real world. There are a lot of wonderful things about functional languages. Since there&apos;s no time, you never have any synchronization problems. And if you want to put something into a parallel"><code onclick="Z(this)">0:45:11</code>models in the real world, not like objects in the real world. There are a lot of wonderful things about functional languages. Since there's no time, you never have any synchronization problems. And if you want to put something into a parallel</span><span s="2723" t="algorithm, you can run the pieces of that parallel processing any way you want. There&apos;s just never any synchronization to worry that, and it&apos;s a very congenial environment for doing this."><code onclick="Z(this)">0:45:23</code>algorithm, you can run the pieces of that parallel processing any way you want. There's just never any synchronization to worry that, and it's a very congenial environment for doing this.</span><span s="2733" t="The price is you give up assignment. So an advocate of a functional language would say, gee, that&apos;s just a tiny price to pay."><code onclick="Z(this)">0:45:33</code>The price is you give up assignment. So an advocate of a functional language would say, gee, that's just a tiny price to pay.</span><span s="2744" t="You probably shouldn&apos;t use assignment most of the time anyway. And if you just give up assignment, you can be in this much, much nicer world than this place with objects."><code onclick="Z(this)">0:45:44</code>You probably shouldn't use assignment most of the time anyway. And if you just give up assignment, you can be in this much, much nicer world than this place with objects.</span><span s="2754" t="Well, what&apos;s the rejoinder to that? Remember how we got into this mess. We started trying to model things that had local state."><code onclick="Z(this)">0:45:54</code>Well, what's the rejoinder to that? Remember how we got into this mess. We started trying to model things that had local state.</span><span s="2764" t="So remember Jerry&apos;s random number generator. There was this random number generator that had some little state in it to compute the next random number and the next random number and the next random number."><code onclick="Z(this)">0:46:04</code>So remember Jerry's random number generator. There was this random number generator that had some little state in it to compute the next random number and the next random number and the next random number.</span><span s="2774" t="And we wanted to hide that state away from the Cesaro compute part process, and that&apos;s why we needed set. We wanted to package that stated modularly."><code onclick="Z(this)">0:46:14</code>And we wanted to hide that state away from the Cesaro compute part process, and that's why we needed set. We wanted to package that stated modularly.</span><span s="2784" t="Well, a functional programming person would say, well, you&apos;re just all wet. I mean, you can write a perfectly good modular program. It&apos;s just you&apos;re thinking about modularity wrong."><code onclick="Z(this)">0:46:24</code>Well, a functional programming person would say, well, you're just all wet. I mean, you can write a perfectly good modular program. It's just you're thinking about modularity wrong.</span><span s="2793" t="You&apos;re hung up in this next random number and the next random number and the next random number. Why don&apos;t you just say let&apos;s write a program. Let&apos;s write an enumerator which just generates an"><code onclick="Z(this)">0:46:33</code>You're hung up in this next random number and the next random number and the next random number. Why don't you just say let's write a program. Let's write an enumerator which just generates an</span><span s="2802" t="infinite stream of random numbers. We can sort of have that stream all at once, and that&apos;s"><code onclick="Z(this)">0:46:42</code>infinite stream of random numbers. We can sort of have that stream all at once, and that's</span><span s="2812" t="going to be our source of random numbers. And then if you like, you can put that through some sort of processor, which is-- I don&apos;t know-- a Cesaro test, and that can do what it wants."><code onclick="Z(this)">0:46:52</code>going to be our source of random numbers. And then if you like, you can put that through some sort of processor, which is-- I don't know-- a Cesaro test, and that can do what it wants.</span><span s="2826" t="And what would come out of there would be a stream of"><code onclick="Z(this)">0:47:06</code>And what would come out of there would be a stream of</span><span s="2836" t="successive approximations to pi."><code onclick="Z(this)">0:47:16</code>successive approximations to pi.</span><span s="2848" t="So as we looked further down this stream, we&apos;d tug on this Cesaro thing, and it would pull out more and more random numbers. And the further and further we look down the stream, the"><code onclick="Z(this)">0:47:28</code>So as we looked further down this stream, we'd tug on this Cesaro thing, and it would pull out more and more random numbers. And the further and further we look down the stream, the</span><span s="2857" t="better an approximation we&apos;d get to pi. And it would do exactly the same as the other computation, except we&apos;re thinking about the modularity different. We&apos;re saying imagine we had all those infinite streams of"><code onclick="Z(this)">0:47:37</code>better an approximation we'd get to pi. And it would do exactly the same as the other computation, except we're thinking about the modularity different. We're saying imagine we had all those infinite streams of</span><span s="2866" t="random numbers all at once. You can see the details of this procedure in the book. Similarly, there are other things that we tend to get"><code onclick="Z(this)">0:47:46</code>random numbers all at once. You can see the details of this procedure in the book. Similarly, there are other things that we tend to get</span><span s="2876" t="locked into on this one and that one and the next one and the next one, which don&apos;t have to be that way. Like you might think about like a banking system, which"><code onclick="Z(this)">0:47:56</code>locked into on this one and that one and the next one and the next one, which don't have to be that way. Like you might think about like a banking system, which</span><span s="2887" t="is a very simple idea. Imagine we have a program that sort of represents a bank account."><code onclick="Z(this)">0:48:07</code>is a very simple idea. Imagine we have a program that sort of represents a bank account.</span><span s="2898" t="The bank account might have in it-- if we looked at this in a sort of message-passing view of the world, we&apos;d say a bank account is an object that has some"><code onclick="Z(this)">0:48:18</code>The bank account might have in it-- if we looked at this in a sort of message-passing view of the world, we'd say a bank account is an object that has some</span><span s="2909" t="local state in there, which is the balance, say. And a user using this system comes and sends a transaction request. So the user sends a transaction request, like"><code onclick="Z(this)">0:48:29</code>local state in there, which is the balance, say. And a user using this system comes and sends a transaction request. So the user sends a transaction request, like</span><span s="2921" t="deposit some money, and the bank account maybe-- let&apos;s say the bank account always responds with what the current balance is. The user says let&apos;s deposits some money, and the bank"><code onclick="Z(this)">0:48:41</code>deposit some money, and the bank account maybe-- let's say the bank account always responds with what the current balance is. The user says let's deposits some money, and the bank</span><span s="2930" t="account sends back a message which is the balance. And the user says deposit some more, and the bank account sends back a message."><code onclick="Z(this)">0:48:50</code>account sends back a message which is the balance. And the user says deposit some more, and the bank account sends back a message.</span><span s="2939" t="And just like the random number generator, you&apos;d say, gee, we would like to use set. We&apos;d like to have balance be a piece of local state inside this bank account because we want to separate the state of"><code onclick="Z(this)">0:48:59</code>And just like the random number generator, you'd say, gee, we would like to use set. We'd like to have balance be a piece of local state inside this bank account because we want to separate the state of</span><span s="2948" t="the user from the state of the bank account. Well, that&apos;s the message-processing view. There&apos;s a stream view with that thing, which does the"><code onclick="Z(this)">0:49:08</code>the user from the state of the bank account. Well, that's the message-processing view. There's a stream view with that thing, which does the</span><span s="2960" t="same thing without any set or side effects. And the idea is again we don&apos;t think about anything having"><code onclick="Z(this)">0:49:20</code>same thing without any set or side effects. And the idea is again we don't think about anything having</span><span s="2969" t="local state. We think about the bank account as something that&apos;s going to process a stream of transaction requests."><code onclick="Z(this)">0:49:29</code>local state. We think about the bank account as something that's going to process a stream of transaction requests.</span><span s="2978" t="So think about this bank account not as something that goes message by message, but something that takes in a stream of transaction requests like maybe successive deposit announced."><code onclick="Z(this)">0:49:38</code>So think about this bank account not as something that goes message by message, but something that takes in a stream of transaction requests like maybe successive deposit announced.</span><span s="2989" t="1, 2, 2, 4, those might be successive amounts to deposit. And then coming out of it is the successive"><code onclick="Z(this)">0:49:49</code>1, 2, 2, 4, those might be successive amounts to deposit. And then coming out of it is the successive</span><span s="2998" t="balances 1, 3, 5, 9. So we think of the bank account not as something that has state, but something that acts sort of on the infinite"><code onclick="Z(this)">0:49:58</code>balances 1, 3, 5, 9. So we think of the bank account not as something that has state, but something that acts sort of on the infinite</span><span s="3009" t="stream of requests. But remember, we&apos;ve thrown away time. So what we can do is if the user&apos;s here, we can have this infinite stream of requests being generated one at a time"><code onclick="Z(this)">0:50:09</code>stream of requests. But remember, we've thrown away time. So what we can do is if the user's here, we can have this infinite stream of requests being generated one at a time</span><span s="3021" t="coming from the user and this transaction stream coming back on a printer being printed one at a time."><code onclick="Z(this)">0:50:21</code>coming from the user and this transaction stream coming back on a printer being printed one at a time.</span><span s="3030" t="And if we drew a little line here, right there to the user, the user couldn&apos;t tell that this system doesn&apos;t have state."><code onclick="Z(this)">0:50:30</code>And if we drew a little line here, right there to the user, the user couldn't tell that this system doesn't have state.</span><span s="3039" t="It looks just like the other one, but there&apos;s no state in there. And by the way, just to show you, here&apos;s an actual"><code onclick="Z(this)">0:50:39</code>It looks just like the other one, but there's no state in there. And by the way, just to show you, here's an actual</span><span s="3048" t="implementation of this-- we&apos;ll call it make deposit account because you can only deposit. It takes an initial balance and then a stream of deposits"><code onclick="Z(this)">0:50:48</code>implementation of this-- we'll call it make deposit account because you can only deposit. It takes an initial balance and then a stream of deposits</span><span s="3057" t="you might make. And what is it? Well, it&apos;s just cons-stream of the balance onto make a new account stream whose initial balance is the old balance"><code onclick="Z(this)">0:50:57</code>you might make. And what is it? Well, it's just cons-stream of the balance onto make a new account stream whose initial balance is the old balance</span><span s="3068" t="plus the first thing in the deposit stream and make deposit account works on the rest of which is the tail of the deposit stream."><code onclick="Z(this)">0:51:08</code>plus the first thing in the deposit stream and make deposit account works on the rest of which is the tail of the deposit stream.</span><span s="3078" t="So there&apos;s sort of a very typical message-passing, object-oriented thing that&apos;s done without side effects at all."><code onclick="Z(this)">0:51:18</code>So there's sort of a very typical message-passing, object-oriented thing that's done without side effects at all.</span><span s="3088" t="There are very many things you can do this way. Well, can you do everything without assignment? Can everybody go over to purely functional languages?"><code onclick="Z(this)">0:51:28</code>There are very many things you can do this way. Well, can you do everything without assignment? Can everybody go over to purely functional languages?</span><span s="3100" t="Well, we don&apos;t know, but there seem to be places where purely functional programming breaks down. Where it starts hurting is when you have things like"><code onclick="Z(this)">0:51:40</code>Well, we don't know, but there seem to be places where purely functional programming breaks down. Where it starts hurting is when you have things like</span><span s="3110" t="this, but you also mix it up with the other things that we had to worry that, which are objects and sharing and two independent agents being the same. So under a typical one, suppose you want to extend"><code onclick="Z(this)">0:51:50</code>this, but you also mix it up with the other things that we had to worry that, which are objects and sharing and two independent agents being the same. So under a typical one, suppose you want to extend</span><span s="3120" t="this bank account. So here&apos;s a bank account."><code onclick="Z(this)">0:52:00</code>this bank account. So here's a bank account.</span><span s="3132" t="Bank accounts take in a stream of transaction requests and put out streams of, say, balances or responses to that. But suppose you want to model the fact that this is a joint"><code onclick="Z(this)">0:52:12</code>Bank accounts take in a stream of transaction requests and put out streams of, say, balances or responses to that. But suppose you want to model the fact that this is a joint</span><span s="3141" t="bank account between two independent people. So suppose there are two people, say, Bill and Dave,"><code onclick="Z(this)">0:52:21</code>bank account between two independent people. So suppose there are two people, say, Bill and Dave,</span><span s="3151" t="who have a joint bank account. How would you model this? Well, Bill puts out a stream of transaction requests, and"><code onclick="Z(this)">0:52:31</code>who have a joint bank account. How would you model this? Well, Bill puts out a stream of transaction requests, and</span><span s="3160" t="Dave puts out a stream of transaction requests, and somehow, they have to merge into this bank account. So what you might do is write a little stream processing thing called merge, which sort of takes these, merges them"><code onclick="Z(this)">0:52:40</code>Dave puts out a stream of transaction requests, and somehow, they have to merge into this bank account. So what you might do is write a little stream processing thing called merge, which sort of takes these, merges them</span><span s="3178" t="together, produces a single stream for the bank account. Now they&apos;re both talking to the same bank account. That&apos;s all great, but how do you write merge? What&apos;s this procedure merge?"><code onclick="Z(this)">0:52:58</code>together, produces a single stream for the bank account. Now they're both talking to the same bank account. That's all great, but how do you write merge? What's this procedure merge?</span><span s="3189" t="You want to do something that&apos;s reasonable. Your first guess might be to say, well, we&apos;ll take alternate requests from Bill and Dave. But what happens if"><code onclick="Z(this)">0:53:09</code>You want to do something that's reasonable. Your first guess might be to say, well, we'll take alternate requests from Bill and Dave. But what happens if</span><span s="3200" t="suddenly in the middle of this thing, Dave goes away on vacation for two years? Then Bill&apos;s sort of stuck. So what you want to do is-- well, it&apos;s hard to describe."><code onclick="Z(this)">0:53:20</code>suddenly in the middle of this thing, Dave goes away on vacation for two years? Then Bill's sort of stuck. So what you want to do is-- well, it's hard to describe.</span><span s="3209" t="What you want to do is what people call fair merge."><code onclick="Z(this)">0:53:29</code>What you want to do is what people call fair merge.</span><span s="3218" t="The idea of fair merge is it sort of should do them alternately, but if there&apos;s nothing waiting here, it should take one twice. Notice I can&apos;t even say that without talking about time."><code onclick="Z(this)">0:53:38</code>The idea of fair merge is it sort of should do them alternately, but if there's nothing waiting here, it should take one twice. Notice I can't even say that without talking about time.</span><span s="3231" t="So one of the other active researcher areas in functional languages is inventing little things like fair merge and"><code onclick="Z(this)">0:53:51</code>So one of the other active researcher areas in functional languages is inventing little things like fair merge and</span><span s="3240" t="maybe some others, which will take the places where I used to need side effects and objects and sort of hide them away in some very well-defined modules of the system so that"><code onclick="Z(this)">0:54:00</code>maybe some others, which will take the places where I used to need side effects and objects and sort of hide them away in some very well-defined modules of the system so that</span><span s="3251" t="all the problems of assignment don&apos;t sort of leak out all over the system but are captured in some fairly well-understood things."><code onclick="Z(this)">0:54:11</code>all the problems of assignment don't sort of leak out all over the system but are captured in some fairly well-understood things.</span><span s="3260" t="More generally, I think what you&apos;re seeing is that we&apos;re running across what I think is a very basic problem in computer science, which is how to define languages that"><code onclick="Z(this)">0:54:20</code>More generally, I think what you're seeing is that we're running across what I think is a very basic problem in computer science, which is how to define languages that</span><span s="3269" t="somehow can talk about delayed evaluation, but also be able to reflect this view that there are objects in the world."><code onclick="Z(this)">0:54:29</code>somehow can talk about delayed evaluation, but also be able to reflect this view that there are objects in the world.</span><span s="3278" t="How do we somehow get both? And I think that&apos;s a very hard problem. And it may be that it&apos;s a very hard problem that has almost nothing to do with computer science, that it really is a"><code onclick="Z(this)">0:54:38</code>How do we somehow get both? And I think that's a very hard problem. And it may be that it's a very hard problem that has almost nothing to do with computer science, that it really is a</span><span s="3289" t="problem having to do with two very incompatible ways of looking at the world. OK, questions?"><code onclick="Z(this)">0:54:49</code>problem having to do with two very incompatible ways of looking at the world. OK, questions?</span><span s="3317" t="AUDIENCE: You mentioned earlier that once you introduce assignment, the general rule for using the substitution model is you can&apos;t. Unless you&apos;re very careful, you can&apos;t."><code onclick="Z(this)">0:55:17</code>AUDIENCE: You mentioned earlier that once you introduce assignment, the general rule for using the substitution model is you can't. Unless you're very careful, you can't.</span><span s="3327" t="PROFESSOR: Right. AUDIENCE: Is there a set of techniques or a set of guidelines for localizing the effects of assignment so that"><code onclick="Z(this)">0:55:27</code>PROFESSOR: Right. AUDIENCE: Is there a set of techniques or a set of guidelines for localizing the effects of assignment so that</span><span s="3337" t="the very careful becomes defined? PROFESSOR: I don&apos;t know. Let me think. Well, certainly, there was an assignment inside memo proc,"><code onclick="Z(this)">0:55:37</code>the very careful becomes defined? PROFESSOR: I don't know. Let me think. Well, certainly, there was an assignment inside memo proc,</span><span s="3350" t="but that was sort of hidden away. It ended up not making any difference. Part of the reason for that is once this thing triggered that it had run and gotten an answer, that answer will never change."><code onclick="Z(this)">0:55:50</code>but that was sort of hidden away. It ended up not making any difference. Part of the reason for that is once this thing triggered that it had run and gotten an answer, that answer will never change.</span><span s="3360" t="So that was sort of a one-time assignment. So one very general thing you can do is if you only do what&apos;s called a one-time assignment and never change anything, then you can do better."><code onclick="Z(this)">0:56:00</code>So that was sort of a one-time assignment. So one very general thing you can do is if you only do what's called a one-time assignment and never change anything, then you can do better.</span><span s="3371" t="One of the problems in this merge thing, people have-- let me see if this is right. I think it&apos;s true that with fair merge, with just fair"><code onclick="Z(this)">0:56:11</code>One of the problems in this merge thing, people have-- let me see if this is right. I think it's true that with fair merge, with just fair</span><span s="3382" t="merge, you can begin effectively simulating assignment in the rest of the language. It seems like anything you do to go outside--"><code onclick="Z(this)">0:56:22</code>merge, you can begin effectively simulating assignment in the rest of the language. It seems like anything you do to go outside--</span><span s="3393" t="I&apos;m not quite sure that&apos;s true for fair merge, but it&apos;s true of a little bit more general things that people have been doing. So it might be that any little bit you put in, suddenly if"><code onclick="Z(this)">0:56:33</code>I'm not quite sure that's true for fair merge, but it's true of a little bit more general things that people have been doing. So it might be that any little bit you put in, suddenly if</span><span s="3402" t="they allow you to build arbitrary stuff, it&apos;s almost as bad as having assignment altogether. But that&apos;s an area that people are thinking about now."><code onclick="Z(this)">0:56:42</code>they allow you to build arbitrary stuff, it's almost as bad as having assignment altogether. But that's an area that people are thinking about now.</span><span s="3411" t="AUDIENCE: I guess I don&apos;t see the problem here with merge if I call Bill, if Bill is a procedure, then Bill is going"><code onclick="Z(this)">0:56:51</code>AUDIENCE: I guess I don't see the problem here with merge if I call Bill, if Bill is a procedure, then Bill is going</span><span s="3420" t="to increment the bank account or build the list that &apos;s going to put in the next element. If I call Dave twice in a row, that will do that. I&apos;m not sure where fair merge has to be involved."><code onclick="Z(this)">0:57:00</code>to increment the bank account or build the list that 's going to put in the next element. If I call Dave twice in a row, that will do that. I'm not sure where fair merge has to be involved.</span><span s="3429" t="PROFESSOR: The problem is imagine these really as people. See, here I have the user who&apos;s interacting with this bank account. Put in a request, get an answer. Put in a request, get an answer. AUDIENCE: Right."><code onclick="Z(this)">0:57:09</code>PROFESSOR: The problem is imagine these really as people. See, here I have the user who's interacting with this bank account. Put in a request, get an answer. Put in a request, get an answer. AUDIENCE: Right.</span><span s="3438" t="PROFESSOR: But if the only way I can process request is to alternate them from two people-- AUDIENCE: Well, why would you alternate them? PROFESSOR: Why don&apos;t I? AUDIENCE: Yes. Why do you? PROFESSOR: Think of them as real people, right?"><code onclick="Z(this)">0:57:18</code>PROFESSOR: But if the only way I can process request is to alternate them from two people-- AUDIENCE: Well, why would you alternate them? PROFESSOR: Why don't I? AUDIENCE: Yes. Why do you? PROFESSOR: Think of them as real people, right?</span><span s="3447" t="This guy might go away for a year. And you&apos;re sitting here at the bank account window, and you can&apos;t put in two requests because it&apos;s waiting for this guy. AUDIENCE: Why does it have to be waiting for one?"><code onclick="Z(this)">0:57:27</code>This guy might go away for a year. And you're sitting here at the bank account window, and you can't put in two requests because it's waiting for this guy. AUDIENCE: Why does it have to be waiting for one?</span><span s="3457" t="PROFESSOR: Because it&apos;s trying to compute a function. I have to define a function. Another way to say that is the answer to what comes out of this merge box is not a function of what goes in."><code onclick="Z(this)">0:57:37</code>PROFESSOR: Because it's trying to compute a function. I have to define a function. Another way to say that is the answer to what comes out of this merge box is not a function of what goes in.</span><span s="3471" t="Because, see, what would the function be? Suppose he puts in 1, 1, 1, 1, and he puts in 2, 2, 2, 2."><code onclick="Z(this)">0:57:51</code>Because, see, what would the function be? Suppose he puts in 1, 1, 1, 1, and he puts in 2, 2, 2, 2.</span><span s="3483" t="What&apos;s the answer supposed to be? It&apos;s not good enough to say it&apos;s 1, 2, 1, 2, 1, 2. AUDIENCE: I understand. But when Bill puts in 1, 1 goes in. When Dave puts in 2 twice, 2 goes in twice."><code onclick="Z(this)">0:58:03</code>What's the answer supposed to be? It's not good enough to say it's 1, 2, 1, 2, 1, 2. AUDIENCE: I understand. But when Bill puts in 1, 1 goes in. When Dave puts in 2 twice, 2 goes in twice.</span><span s="3493" t="When Bill puts in-- PROFESSOR: Right. AUDIENCE: Why can&apos;t it be hooked to the time of the input-- the actual procedural-- PROFESSOR: Because I don&apos;t have time."><code onclick="Z(this)">0:58:13</code>When Bill puts in-- PROFESSOR: Right. AUDIENCE: Why can't it be hooked to the time of the input-- the actual procedural-- PROFESSOR: Because I don't have time.</span><span s="3503" t="See, all I can say is I&apos;m going to define a function. I don&apos;t have time."><code onclick="Z(this)">0:58:23</code>See, all I can say is I'm going to define a function. I don't have time.</span><span s="3512" t="There&apos;s no concept if it&apos;s going to alternate, except if nobody&apos;s there, it&apos;s going to wait a while for him. It&apos;s just going to say I have the stream of requests, the"><code onclick="Z(this)">0:58:32</code>There's no concept if it's going to alternate, except if nobody's there, it's going to wait a while for him. It's just going to say I have the stream of requests, the</span><span s="3521" t="timeless infinite streams of all the requests that Dave would have made, right? And the timeless infinite stream of all the requests Bill would have made, and I want to operate on them."><code onclick="Z(this)">0:58:41</code>timeless infinite streams of all the requests that Dave would have made, right? And the timeless infinite stream of all the requests Bill would have made, and I want to operate on them.</span><span s="3531" t="See, that&apos;s how this bank account is working. And the problem is that these poor people who are sitting at the bank account windows have the"><code onclick="Z(this)">0:58:51</code>See, that's how this bank account is working. And the problem is that these poor people who are sitting at the bank account windows have the</span><span s="3542" t="misfortune to exist in time. They don&apos;t see their infinite stream of all the requests they would have ever made. They&apos;re waiting now, and they want an answer."><code onclick="Z(this)">0:59:02</code>misfortune to exist in time. They don't see their infinite stream of all the requests they would have ever made. They're waiting now, and they want an answer.</span><span s="3554" t="So if you&apos;re sitting there-- if this is the screen operation on some time-sharing system and it&apos;s working functionally, you want an answer then when you talk the character."><code onclick="Z(this)">0:59:14</code>So if you're sitting there-- if this is the screen operation on some time-sharing system and it's working functionally, you want an answer then when you talk the character.</span><span s="3565" t="You don&apos;t want it to have to wait for everybody in the whole system to have typed one character before it can get around to service you. So that&apos;s the problem. I mean, the fact that people live in time, apparently."><code onclick="Z(this)">0:59:25</code>You don't want it to have to wait for everybody in the whole system to have typed one character before it can get around to service you. So that's the problem. I mean, the fact that people live in time, apparently.</span><span s="3576" t="If they didn&apos;t, it wouldn&apos;t be a problem."><code onclick="Z(this)">0:59:36</code>If they didn't, it wouldn't be a problem.</span><span s="3589" t="AUDIENCE: I&apos;m afraid I miss the point of having no time in this banking transaction. Isn&apos;t time very important? For instance, the sequence of events."><code onclick="Z(this)">0:59:49</code>AUDIENCE: I'm afraid I miss the point of having no time in this banking transaction. Isn't time very important? For instance, the sequence of events.</span><span s="3600" t="If Dave take out $100, then the timing sequence should be important. How do you treat transactions as streams?"><code onclick="Z(this)">1:00:00</code>If Dave take out $100, then the timing sequence should be important. How do you treat transactions as streams?</span><span s="3611" t="PROFESSOR: Well, that&apos;s the thing I&apos;m saying. This is an example where you can&apos;t. You can&apos;t. The point is what comes out of here is simply not a function"><code onclick="Z(this)">1:00:11</code>PROFESSOR: Well, that's the thing I'm saying. This is an example where you can't. You can't. The point is what comes out of here is simply not a function</span><span s="3621" t="of the stream going in here and the stream going in here. It&apos;s a function of the stream going in here and the stream going in here and some kind of information about time, which is precisely what a normal-order language won&apos;t"><code onclick="Z(this)">1:00:21</code>of the stream going in here and the stream going in here. It's a function of the stream going in here and the stream going in here and some kind of information about time, which is precisely what a normal-order language won't</span><span s="3631" t="let you say. AUDIENCE: In order to brings this back into a more functional perspective, could we just explicitly time stamp"><code onclick="Z(this)">1:00:31</code>let you say. AUDIENCE: In order to brings this back into a more functional perspective, could we just explicitly time stamp</span><span s="3640" t="all the inputs from Bill and Dave and define fair merge to just be the sort on those time stamps?"><code onclick="Z(this)">1:00:40</code>all the inputs from Bill and Dave and define fair merge to just be the sort on those time stamps?</span><span s="3649" t="PROFESSOR: Yeah, you can do that. You can do that sort of thing. Another thing you could say is imagine that really what this function is, is that it does a read every microsecond, and"><code onclick="Z(this)">1:00:49</code>PROFESSOR: Yeah, you can do that. You can do that sort of thing. Another thing you could say is imagine that really what this function is, is that it does a read every microsecond, and</span><span s="3659" t="then if there&apos;s none there, that&apos;s considered an empty one. That&apos;s about equivalent to what you said. And yes, you can do that, but that&apos;s a clg. So it&apos;s not quite only implementation"><code onclick="Z(this)">1:00:59</code>then if there's none there, that's considered an empty one. That's about equivalent to what you said. And yes, you can do that, but that's a clg. So it's not quite only implementation</span><span s="3669" t="we&apos;re worried about. We&apos;re worried about expressive power in the language, and what we&apos;re running across is a real mismatch between what we can say easily and what we&apos;d like to say."><code onclick="Z(this)">1:01:09</code>we're worried about. We're worried about expressive power in the language, and what we're running across is a real mismatch between what we can say easily and what we'd like to say.</span><span s="3678" t="AUDIENCE: It sounds like where we&apos;re getting hung up with that is the fact it expects one input from both Bill and Dave at the same time. PROFESSOR: It&apos;s not quite one, but it&apos;s anything you define."><code onclick="Z(this)">1:01:18</code>AUDIENCE: It sounds like where we're getting hung up with that is the fact it expects one input from both Bill and Dave at the same time. PROFESSOR: It's not quite one, but it's anything you define.</span><span s="3688" t="So you can say Dave can go twice as often, but if anything you predefine, it&apos;s not the right thing. You can&apos;t decide at some particular function of their"><code onclick="Z(this)">1:01:28</code>So you can say Dave can go twice as often, but if anything you predefine, it's not the right thing. You can't decide at some particular function of their</span><span s="3699" t="input requests. Worse yet, I mean, worse yet, there are things that even merge can&apos;t do. One thing you might want to do that&apos;s even more general is"><code onclick="Z(this)">1:01:39</code>input requests. Worse yet, I mean, worse yet, there are things that even merge can't do. One thing you might want to do that's even more general is</span><span s="3709" t="suddenly you add somebody else to this bank account system. You go and you add John to this bank account system. And now there&apos;s yet another stream that&apos;s going to come"><code onclick="Z(this)">1:01:49</code>suddenly you add somebody else to this bank account system. You go and you add John to this bank account system. And now there's yet another stream that's going to come</span><span s="3718" t="into the picture at some time which we haven&apos;t prespecified. So that&apos;s something even fair merge can&apos;t do, and they&apos;re things called-- I forget--"><code onclick="Z(this)">1:01:58</code>into the picture at some time which we haven't prespecified. So that's something even fair merge can't do, and they're things called-- I forget--</span><span s="3727" t="natagers or something. That&apos;s a generalization of fair merge to allow that. There&apos;s a whole sort of research discipline saying how far can you push this functional perspective by"><code onclick="Z(this)">1:02:07</code>natagers or something. That's a generalization of fair merge to allow that. There's a whole sort of research discipline saying how far can you push this functional perspective by</span><span s="3736" t="adding more and more mechanism? And how far does that go before the whole thing breaks down and you might as well been using set anyway."><code onclick="Z(this)">1:02:16</code>adding more and more mechanism? And how far does that go before the whole thing breaks down and you might as well been using set anyway.</span><span s="3745" t="AUDIENCE: You need to set him up on automatic deposit. [LAUGHTER]"><code onclick="Z(this)">1:02:25</code>AUDIENCE: You need to set him up on automatic deposit. [LAUGHTER]</span><span s="3759" t="PROFESSOR: OK, thank you."><code onclick="Z(this)">1:02:39</code>PROFESSOR: OK, thank you.</span></div><div class="eventlist" side="R" vid="0m6hoOelZH8"><h5><code onclick="Z(this)">0:00:00</code>Lecture 7A | MIT 6.001 Structure and Interpretation, 1986</h5><span s="0" t=""><code onclick="Z(this)">0:00:00</code></span><span s="15" t="PROFESSOR: Well today we&apos;re going to learn about something quite amazing. We&apos;re going to understand what we mean by a program a little bit more profoundly than we have up till now."><code onclick="Z(this)">0:00:15</code>PROFESSOR: Well today we're going to learn about something quite amazing. We're going to understand what we mean by a program a little bit more profoundly than we have up till now.</span><span s="26" t="Up till now, we&apos;ve been thinking of programs as describing machines. So for example, looking at this still store, we see here"><code onclick="Z(this)">0:00:26</code>Up till now, we've been thinking of programs as describing machines. So for example, looking at this still store, we see here</span><span s="38" t="is a program for factorial. And what it is, is a character string description, if you will, of the wiring diagram of a"><code onclick="Z(this)">0:00:38</code>is a program for factorial. And what it is, is a character string description, if you will, of the wiring diagram of a</span><span s="49" t="potentially infinite machine. And we can look at that a little bit and just see the idea. That this is a sort of compact notation which says, if n is"><code onclick="Z(this)">0:00:49</code>potentially infinite machine. And we can look at that a little bit and just see the idea. That this is a sort of compact notation which says, if n is</span><span s="58" t="0, the result is one. Well here comes n coming into this machine, and if it&apos;s 0, then I control this switch in such a way that the switch allows the output to be one."><code onclick="Z(this)">0:00:58</code>0, the result is one. Well here comes n coming into this machine, and if it's 0, then I control this switch in such a way that the switch allows the output to be one.</span><span s="69" t="Otherwise, it&apos;s n times factorial of n minus one. Well, I&apos;m computing factorial of n minus one and multiplying that by n, and, in the case that it&apos;s not 0, this switch"><code onclick="Z(this)">0:01:09</code>Otherwise, it's n times factorial of n minus one. Well, I'm computing factorial of n minus one and multiplying that by n, and, in the case that it's not 0, this switch</span><span s="79" t="makes the output come from there. Of course, this is a machine with a potentially infinite number of parts, because factorial occurs within factorial, so we don&apos;t know how deep it has to be."><code onclick="Z(this)">0:01:19</code>makes the output come from there. Of course, this is a machine with a potentially infinite number of parts, because factorial occurs within factorial, so we don't know how deep it has to be.</span><span s="91" t="But that&apos;s basically what our notation for programs really means to us at this point. It&apos;s a character string description, if you will, of a"><code onclick="Z(this)">0:01:31</code>But that's basically what our notation for programs really means to us at this point. It's a character string description, if you will, of a</span><span s="101" t="wiring diagram that could also be drawn some other way. And, in fact, many people have proposed to me, programming languages look graphical like this. I&apos;m not sure I believe there are many advantages."><code onclick="Z(this)">0:01:41</code>wiring diagram that could also be drawn some other way. And, in fact, many people have proposed to me, programming languages look graphical like this. I'm not sure I believe there are many advantages.</span><span s="111" t="The major disadvantage, of course, is that it takes up more space on a page, and, therefore, it&apos;s harder to pack into a listing or to edit very well."><code onclick="Z(this)">0:01:51</code>The major disadvantage, of course, is that it takes up more space on a page, and, therefore, it's harder to pack into a listing or to edit very well.</span><span s="121" t="But in any case, there&apos;s something very remarkable that can happen in the competition world which is that you can have something called a universal machine."><code onclick="Z(this)">0:02:01</code>But in any case, there's something very remarkable that can happen in the competition world which is that you can have something called a universal machine.</span><span s="130" t="If we look at the second slide, what we see is a special machine called eval."><code onclick="Z(this)">0:02:10</code>If we look at the second slide, what we see is a special machine called eval.</span><span s="141" t="There is a machine called eval, and I&apos;m going to show it to you today. It&apos;s very simple. What is remarkable is that it will fit on the blackboard."><code onclick="Z(this)">0:02:21</code>There is a machine called eval, and I'm going to show it to you today. It's very simple. What is remarkable is that it will fit on the blackboard.</span><span s="153" t="However, eval is a machine which takes as input a description of another machine. It could take the wiring diagram of a"><code onclick="Z(this)">0:02:33</code>However, eval is a machine which takes as input a description of another machine. It could take the wiring diagram of a</span><span s="162" t="factorial machine as input. Having done so, it becomes a simulator for the factorial"><code onclick="Z(this)">0:02:42</code>factorial machine as input. Having done so, it becomes a simulator for the factorial</span><span s="172" t="machine such that, if you put a six in, out comes a 720. That&apos;s a very remarkable sort of machine."><code onclick="Z(this)">0:02:52</code>machine such that, if you put a six in, out comes a 720. That's a very remarkable sort of machine.</span><span s="182" t="And the most amazing part of it is that it fits on a blackboard. By contrast, one could imagine in the analog electronics world a very different machine, a machine which also"><code onclick="Z(this)">0:03:02</code>And the most amazing part of it is that it fits on a blackboard. By contrast, one could imagine in the analog electronics world a very different machine, a machine which also</span><span s="197" t="was, in some sense, universal, where you gave a circuit diagram as one of the inputs, for example, of this little low-pass filter, one-pole low-pass filter."><code onclick="Z(this)">0:03:17</code>was, in some sense, universal, where you gave a circuit diagram as one of the inputs, for example, of this little low-pass filter, one-pole low-pass filter.</span><span s="208" t="And you can imagine that you could, for example, scan this out-- the scan lines are the signal that&apos;s describing what this"><code onclick="Z(this)">0:03:28</code>And you can imagine that you could, for example, scan this out-- the scan lines are the signal that's describing what this</span><span s="217" t="machine is to simulate-- then the analog of that which is made out of electrical circuits, should configure itself into a filter that has the frequency response specified"><code onclick="Z(this)">0:03:37</code>machine is to simulate-- then the analog of that which is made out of electrical circuits, should configure itself into a filter that has the frequency response specified</span><span s="227" t="by the circuit diagram. That&apos;s a very hard machine to make, and, surely, there&apos;s no chance that I could put it on a blackboard. So we&apos;re going to see an amazing thing today."><code onclick="Z(this)">0:03:47</code>by the circuit diagram. That's a very hard machine to make, and, surely, there's no chance that I could put it on a blackboard. So we're going to see an amazing thing today.</span><span s="238" t="We&apos;re going to see, on the blackboard, the universal machine. And we&apos;ll see that among other things, it&apos;s extremely simple. Now, we&apos;re getting very close to the real spirit in the"><code onclick="Z(this)">0:03:58</code>We're going to see, on the blackboard, the universal machine. And we'll see that among other things, it's extremely simple. Now, we're getting very close to the real spirit in the</span><span s="250" t="computer at this point. So I have to show a certain amount of reverence and respect, so I&apos;m going to wear a suit jacket for the only time that you&apos;ll ever see me wear a suit jacket here."><code onclick="Z(this)">0:04:10</code>computer at this point. So I have to show a certain amount of reverence and respect, so I'm going to wear a suit jacket for the only time that you'll ever see me wear a suit jacket here.</span><span s="260" t="And I think I&apos;m also going to put on an appropriate hat for the occasion. Now, this is a lecturer which I have to warn you--"><code onclick="Z(this)">0:04:20</code>And I think I'm also going to put on an appropriate hat for the occasion. Now, this is a lecturer which I have to warn you--</span><span s="274" t="let&apos;s see, normally, people under 40 and who don&apos;t have several children are advised to be careful. If they&apos;re really worried, they should leave. Because"><code onclick="Z(this)">0:04:34</code>let's see, normally, people under 40 and who don't have several children are advised to be careful. If they're really worried, they should leave. Because</span><span s="284" t="there&apos;s a certain amount of mysticism that will appear here which may be disturbing and cause trouble in your minds. Well in any case, let&apos;s see, I wish to write for you the"><code onclick="Z(this)">0:04:44</code>there's a certain amount of mysticism that will appear here which may be disturbing and cause trouble in your minds. Well in any case, let's see, I wish to write for you the</span><span s="297" t="evaluator for Lisp. Now the evaluator isn&apos;t very complicated. It&apos;s very much like all the programs we&apos;ve seen already."><code onclick="Z(this)">0:04:57</code>evaluator for Lisp. Now the evaluator isn't very complicated. It's very much like all the programs we've seen already.</span><span s="308" t="That&apos;s the amazing part of it. It&apos;s going to be-- and I&apos;m going to write it right here-- it&apos;s a program called eval."><code onclick="Z(this)">0:05:08</code>That's the amazing part of it. It's going to be-- and I'm going to write it right here-- it's a program called eval.</span><span s="322" t="And it&apos;s a procedure of two arguments in expression of an environment."><code onclick="Z(this)">0:05:22</code>And it's a procedure of two arguments in expression of an environment.</span><span s="331" t="And like every interesting procedure, it&apos;s a case analysis."><code onclick="Z(this)">0:05:31</code>And like every interesting procedure, it's a case analysis.</span><span s="340" t="But before I start on this, I want to tell you some things. The program we&apos;re going to write on the blackboard is ugly, dirty, disgusting, not the way I would write this is"><code onclick="Z(this)">0:05:40</code>But before I start on this, I want to tell you some things. The program we're going to write on the blackboard is ugly, dirty, disgusting, not the way I would write this is</span><span s="352" t="a professional. It is written with concrete syntax, meaning you&apos;ve got really to use lots of CARs and CDRs which is exactly what I told you not to do."><code onclick="Z(this)">0:05:52</code>a professional. It is written with concrete syntax, meaning you've got really to use lots of CARs and CDRs which is exactly what I told you not to do.</span><span s="362" t="That&apos;s on purpose in this case, because I want it to be small, compact, fit on the blackboard so you can get the"><code onclick="Z(this)">0:06:02</code>That's on purpose in this case, because I want it to be small, compact, fit on the blackboard so you can get the</span><span s="371" t="whole thing. So I don&apos;t want to use long names like I normally use. I want to use CAR-CDR because it&apos;s short. Now, that&apos;s a trade-off."><code onclick="Z(this)">0:06:11</code>whole thing. So I don't want to use long names like I normally use. I want to use CAR-CDR because it's short. Now, that's a trade-off.</span><span s="380" t="I don&apos;t want you writing programs like this. This is purely for an effect. Now, you&apos;re going to have to work a little harder to read it, but I&apos;m going to try to make it clear"><code onclick="Z(this)">0:06:20</code>I don't want you writing programs like this. This is purely for an effect. Now, you're going to have to work a little harder to read it, but I'm going to try to make it clear</span><span s="389" t="as I&apos;m writing it. I&apos;m also-- this is a pretty much complete interpreter, but there&apos;s going to be room for putting in more things-- I&apos;m going to leave out definition and assignment,"><code onclick="Z(this)">0:06:29</code>as I'm writing it. I'm also-- this is a pretty much complete interpreter, but there's going to be room for putting in more things-- I'm going to leave out definition and assignment,</span><span s="399" t="just because they are not essential, for a mathematical reason I&apos;ll show you later and also they take up more space."><code onclick="Z(this)">0:06:39</code>just because they are not essential, for a mathematical reason I'll show you later and also they take up more space.</span><span s="411" t="But, in any case, what do we have to do? We have to do a dispatch which breaks the types of expressions up into particular classes."><code onclick="Z(this)">0:06:51</code>But, in any case, what do we have to do? We have to do a dispatch which breaks the types of expressions up into particular classes.</span><span s="422" t="So that&apos;s what we&apos;re going to have here. Well, what expressions are there? Let&apos;s look at the kinds of expressions. We can have things like the numeral three. What do I want that to do?"><code onclick="Z(this)">0:07:02</code>So that's what we're going to have here. Well, what expressions are there? Let's look at the kinds of expressions. We can have things like the numeral three. What do I want that to do?</span><span s="432" t="I can make choices, but I think right now, I want it to be a three. That&apos;s what I want. So that&apos;s easy enough. That means I want, if the thing is a number, the"><code onclick="Z(this)">0:07:12</code>I can make choices, but I think right now, I want it to be a three. That's what I want. So that's easy enough. That means I want, if the thing is a number, the</span><span s="447" t="expression, that I want the expression itself as the answer. Now the next possibility is things that we"><code onclick="Z(this)">0:07:27</code>expression, that I want the expression itself as the answer. Now the next possibility is things that we</span><span s="457" t="represent as symbols. Examples of symbols are things like x, n, eval, number, x."><code onclick="Z(this)">0:07:37</code>represent as symbols. Examples of symbols are things like x, n, eval, number, x.</span><span s="467" t="What do I mean them to be? Those are things that stand for other things. Those are the variables of our language. And so I want to be able to say, for example, that x, for"><code onclick="Z(this)">0:07:47</code>What do I mean them to be? Those are things that stand for other things. Those are the variables of our language. And so I want to be able to say, for example, that x, for</span><span s="478" t="example, transforms to it&apos;s value which might be three. Or I might ask something like car."><code onclick="Z(this)">0:07:58</code>example, transforms to it's value which might be three. Or I might ask something like car.</span><span s="487" t="I want to have as its value-- be something like some procedure, which I don&apos;t know"><code onclick="Z(this)">0:08:07</code>I want to have as its value-- be something like some procedure, which I don't know</span><span s="497" t="what is inside there, perhaps a machine language code or something like that. So, well, that&apos;s easy enough. I&apos;m going to push that off on someone else."><code onclick="Z(this)">0:08:17</code>what is inside there, perhaps a machine language code or something like that. So, well, that's easy enough. I'm going to push that off on someone else.</span><span s="507" t="If something is a symbol, if the expression is a symbol, then I want the answer to be the result, looking up the"><code onclick="Z(this)">0:08:27</code>If something is a symbol, if the expression is a symbol, then I want the answer to be the result, looking up the</span><span s="518" t="expression in the environment. Now the environment is a dictionary which maps the"><code onclick="Z(this)">0:08:38</code>expression in the environment. Now the environment is a dictionary which maps the</span><span s="532" t="symbol names to their values. And that&apos;s all it is. How it&apos;s done? Well, we&apos;ll see that later. It&apos;s very easy."><code onclick="Z(this)">0:08:52</code>symbol names to their values. And that's all it is. How it's done? Well, we'll see that later. It's very easy.</span><span s="541" t="It&apos;s easy to make data structures that are tables of various sorts. But it&apos;s only a table, and this is the access routine for some table."><code onclick="Z(this)">0:09:01</code>It's easy to make data structures that are tables of various sorts. But it's only a table, and this is the access routine for some table.</span><span s="550" t="Well, the next thing, another kind of expression-- you have things that are described constants that are not numbers, like &apos;foo."><code onclick="Z(this)">0:09:10</code>Well, the next thing, another kind of expression-- you have things that are described constants that are not numbers, like 'foo.</span><span s="560" t="Well, for my convenience, I want to syntactically transform that into a list structure which is, quote foo."><code onclick="Z(this)">0:09:20</code>Well, for my convenience, I want to syntactically transform that into a list structure which is, quote foo.</span><span s="575" t="A quoted object, whatever it is, is going to be actually an abbreviation, which is not part of the evaluator but happens somewhere else, an abbreviation for an expression"><code onclick="Z(this)">0:09:35</code>A quoted object, whatever it is, is going to be actually an abbreviation, which is not part of the evaluator but happens somewhere else, an abbreviation for an expression</span><span s="586" t="that looks like this. This way, I can test for the type of the expression as being a quotation by examining the car of the expression."><code onclick="Z(this)">0:09:46</code>that looks like this. This way, I can test for the type of the expression as being a quotation by examining the car of the expression.</span><span s="598" t="So I&apos;m not going to worry about that in the evaluator. It&apos;s happening somewhere earlier in the reader or something. If the expression of the expression is quote, then what"><code onclick="Z(this)">0:09:58</code>So I'm not going to worry about that in the evaluator. It's happening somewhere earlier in the reader or something. If the expression of the expression is quote, then what</span><span s="618" t="I want, I want quote foo to itself evaluate to foo. It&apos;s a constant."><code onclick="Z(this)">0:10:18</code>I want, I want quote foo to itself evaluate to foo. It's a constant.</span><span s="627" t="This is just a way of saying that this evaluates to itself. What is that? That&apos;s the second of the list. It&apos;s the second element of the"><code onclick="Z(this)">0:10:27</code>This is just a way of saying that this evaluates to itself. What is that? That's the second of the list. It's the second element of the</span><span s="637" t="list. The second element of the list is it&apos;s CADR. So I&apos;m just going to write here, CADR."><code onclick="Z(this)">0:10:37</code>list. The second element of the list is it's CADR. So I'm just going to write here, CADR.</span><span s="651" t="What else do we have here? We have lambda expressions, for example, lambda of x plus x y."><code onclick="Z(this)">0:10:51</code>What else do we have here? We have lambda expressions, for example, lambda of x plus x y.</span><span s="664" t="Well, I going have to have some representation for the procedure which is the value of an expression, of a lambda expression. The procedure here is not the expression lambda x."><code onclick="Z(this)">0:11:04</code>Well, I going have to have some representation for the procedure which is the value of an expression, of a lambda expression. The procedure here is not the expression lambda x.</span><span s="673" t="That&apos;s the description of it, the textual description. However, what what I going to expect to see here is something which contains an environment as one of its parts if I&apos;m implementing a lexical language."><code onclick="Z(this)">0:11:13</code>That's the description of it, the textual description. However, what what I going to expect to see here is something which contains an environment as one of its parts if I'm implementing a lexical language.</span><span s="687" t="And so what I&apos;d like to see is some type flags. I&apos;m going to have to be able to distinguish procedures later, procedures which were produced by lambdas, from ones"><code onclick="Z(this)">0:11:27</code>And so what I'd like to see is some type flags. I'm going to have to be able to distinguish procedures later, procedures which were produced by lambdas, from ones</span><span s="697" t="that may be primitive. And so I&apos;m going to have some flag, which I&apos;ll just arbitrarily call closure, just for historical reasons."><code onclick="Z(this)">0:11:37</code>that may be primitive. And so I'm going to have some flag, which I'll just arbitrarily call closure, just for historical reasons.</span><span s="707" t="Now, to say what parts of this are important. I&apos;m going to need to know the bound variable list and the body. Well, that&apos;s the CDR of this, so it&apos;s going to be x and plus"><code onclick="Z(this)">0:11:47</code>Now, to say what parts of this are important. I'm going to need to know the bound variable list and the body. Well, that's the CDR of this, so it's going to be x and plus</span><span s="720" t="x y and some environment. Now this is not something that users should ever see, this is"><code onclick="Z(this)">0:12:00</code>x y and some environment. Now this is not something that users should ever see, this is</span><span s="733" t="purely a representation, internally, for a procedure object. It contains a bound variable list, a body, and an"><code onclick="Z(this)">0:12:13</code>purely a representation, internally, for a procedure object. It contains a bound variable list, a body, and an</span><span s="742" t="environment, and some type tag saying, I am a procedure. I&apos;m going to make one now. So if the CAR of the expression is quote lambda,"><code onclick="Z(this)">0:12:22</code>environment, and some type tag saying, I am a procedure. I'm going to make one now. So if the CAR of the expression is quote lambda,</span><span s="763" t="then what I&apos;m going to put here is-- I&apos;m going to make a list of closure, the CDR of the"><code onclick="Z(this)">0:12:43</code>then what I'm going to put here is-- I'm going to make a list of closure, the CDR of the</span><span s="778" t="procedure description was everything except the lambda,"><code onclick="Z(this)">0:12:58</code>procedure description was everything except the lambda,</span><span s="787" t="and the current environment. This implements the rule for environments in the environment model. It has to do with construction of procedures from lambda"><code onclick="Z(this)">0:13:07</code>and the current environment. This implements the rule for environments in the environment model. It has to do with construction of procedures from lambda</span><span s="797" t="expressions. The environment that was around at the time the evaluator encountered the lambda expression is the environment where the procedure resulting interprets"><code onclick="Z(this)">0:13:17</code>expressions. The environment that was around at the time the evaluator encountered the lambda expression is the environment where the procedure resulting interprets</span><span s="810" t="it&apos;s free variables. So that&apos;s part of that. And so we have to capture that environment as part of the procedure object."><code onclick="Z(this)">0:13:30</code>it's free variables. So that's part of that. And so we have to capture that environment as part of the procedure object.</span><span s="819" t="And we&apos;ll see how that gets used later. There are also conditional expressions of things like COND of say, p one, e one, p two, e two."><code onclick="Z(this)">0:13:39</code>And we'll see how that gets used later. There are also conditional expressions of things like COND of say, p one, e one, p two, e two.</span><span s="834" t="Where this is a predicate, a predicate is a thing that is either true or false, and the expression to be evaluated if the predicate is true."><code onclick="Z(this)">0:13:54</code>Where this is a predicate, a predicate is a thing that is either true or false, and the expression to be evaluated if the predicate is true.</span><span s="843" t="A set of clauses, if you will, that&apos;s the name for such a thing. So I&apos;m going put that somewhere else. We&apos;re going to worry about that in another piece of code."><code onclick="Z(this)">0:14:03</code>A set of clauses, if you will, that's the name for such a thing. So I'm going put that somewhere else. We're going to worry about that in another piece of code.</span><span s="852" t="So EQ-- if the CAR of the expression is COND, then I&apos;m going to do"><code onclick="Z(this)">0:14:12</code>So EQ-- if the CAR of the expression is COND, then I'm going to do</span><span s="864" t="nothing more than evaluate the COND, the CDR of the expression."><code onclick="Z(this)">0:14:24</code>nothing more than evaluate the COND, the CDR of the expression.</span><span s="874" t="That&apos;s all the clauses in the environment that I&apos;m given. Well, there&apos;s one more case, arbitrary thing like the sum"><code onclick="Z(this)">0:14:34</code>That's all the clauses in the environment that I'm given. Well, there's one more case, arbitrary thing like the sum</span><span s="886" t="of x and three, where this is an operator applied to operands, and there&apos;s nothing special about it."><code onclick="Z(this)">0:14:46</code>of x and three, where this is an operator applied to operands, and there's nothing special about it.</span><span s="896" t="It&apos;s not one of the special cases, the special forms. These are the special forms."><code onclick="Z(this)">0:14:56</code>It's not one of the special cases, the special forms. These are the special forms.</span><span s="909" t="And if I were writing here a professional program, again, I would somehow make this data directed. So there wouldn&apos;t be a sequence of conditionals here, there&apos;d be a dispatch on some bits if I were trying to do"><code onclick="Z(this)">0:15:09</code>And if I were writing here a professional program, again, I would somehow make this data directed. So there wouldn't be a sequence of conditionals here, there'd be a dispatch on some bits if I were trying to do</span><span s="920" t="this in a more professional way. So that, in fact, I can add to the thing without changing my program much. So, for example, they would run fast, but I&apos;m not worried"><code onclick="Z(this)">0:15:20</code>this in a more professional way. So that, in fact, I can add to the thing without changing my program much. So, for example, they would run fast, but I'm not worried</span><span s="929" t="about that. Here we&apos;re trying to look at this in its entirety. So it&apos;s else. Well, what do we do?"><code onclick="Z(this)">0:15:29</code>about that. Here we're trying to look at this in its entirety. So it's else. Well, what do we do?</span><span s="938" t="In this case, I have to somehow do an addition. Well, I could find out what the plus is. I have to find out what the x and the three are."><code onclick="Z(this)">0:15:38</code>In this case, I have to somehow do an addition. Well, I could find out what the plus is. I have to find out what the x and the three are.</span><span s="950" t="And then I have to apply the result of finding what the plus is to the result of finding out what the x and the three are. We&apos;ll have a name for that."><code onclick="Z(this)">0:15:50</code>And then I have to apply the result of finding what the plus is to the result of finding out what the x and the three are. We'll have a name for that.</span><span s="959" t="So I&apos;m going to apply the result of evaluating the CAR"><code onclick="Z(this)">0:15:59</code>So I'm going to apply the result of evaluating the CAR</span><span s="971" t="of the expression-- the car of the expression is the operator-- in the environment given."><code onclick="Z(this)">0:16:11</code>of the expression-- the car of the expression is the operator-- in the environment given.</span><span s="980" t="So evaluating the operator gets me the procedure. Now I have to evaluate all the operands to get the arguments. I&apos;ll call that EVLIST, the CDR of the operands, of the"><code onclick="Z(this)">0:16:20</code>So evaluating the operator gets me the procedure. Now I have to evaluate all the operands to get the arguments. I'll call that EVLIST, the CDR of the operands, of the</span><span s="994" t="expression, with respect to the environment. EVLIST will come up later--"><code onclick="Z(this)">0:16:34</code>expression, with respect to the environment. EVLIST will come up later--</span><span s="1003" t="EVLIST, apply, COND pair, COND, lambda, define. So that what you are seeing here now is pretty much all"><code onclick="Z(this)">0:16:43</code>EVLIST, apply, COND pair, COND, lambda, define. So that what you are seeing here now is pretty much all</span><span s="1013" t="there is in the evaluator itself. It&apos;s the case dispatch on the type of the expression with the default being a general application or a combination."><code onclick="Z(this)">0:16:53</code>there is in the evaluator itself. It's the case dispatch on the type of the expression with the default being a general application or a combination.</span><span s="1037" t="Now there is lots of things we haven&apos;t defined yet. Let&apos;s just look at them and see what they are. We&apos;re going to have to do this later, evcond. We have to write apply."><code onclick="Z(this)">0:17:17</code>Now there is lots of things we haven't defined yet. Let's just look at them and see what they are. We're going to have to do this later, evcond. We have to write apply.</span><span s="1047" t="We&apos;re going to have to write EVLIST. We&apos;re going to write LOOKUP. I think that&apos;s everything, isn&apos;t there? Everything else is something which is simple, or primitive, or something like that."><code onclick="Z(this)">0:17:27</code>We're going to have to write EVLIST. We're going to write LOOKUP. I think that's everything, isn't there? Everything else is something which is simple, or primitive, or something like that.</span><span s="1058" t="And, of course, we could many more special forms here, but that would be a bad idea in general in a language. You make a language very complicated by putting a lot of things in there."><code onclick="Z(this)">0:17:38</code>And, of course, we could many more special forms here, but that would be a bad idea in general in a language. You make a language very complicated by putting a lot of things in there.</span><span s="1067" t="The number of reserve words that should exist in a language should be no more than a person could remember on his fingers and toes. And I get very upset with languages which have hundreds"><code onclick="Z(this)">0:17:47</code>The number of reserve words that should exist in a language should be no more than a person could remember on his fingers and toes. And I get very upset with languages which have hundreds</span><span s="1076" t="of reserve words. But that&apos;s where the reserve words go. Well, now let&apos;s get to the next part of"><code onclick="Z(this)">0:17:56</code>of reserve words. But that's where the reserve words go. Well, now let's get to the next part of</span><span s="1086" t="this, the kernel, apply. What else is this doing? Well, apply&apos;s job is to take a procedure and apply it to its"><code onclick="Z(this)">0:18:06</code>this, the kernel, apply. What else is this doing? Well, apply's job is to take a procedure and apply it to its</span><span s="1097" t="arguments after both have been evaluated to come up with a procedure and the arguments rather the operator symbols and the operand symbols, whatever they are-- symbolic expressions."><code onclick="Z(this)">0:18:17</code>arguments after both have been evaluated to come up with a procedure and the arguments rather the operator symbols and the operand symbols, whatever they are-- symbolic expressions.</span><span s="1113" t="So we will define apply to be a procedure of two arguments, a procedure and arguments."><code onclick="Z(this)">0:18:33</code>So we will define apply to be a procedure of two arguments, a procedure and arguments.</span><span s="1127" t="And what does it do? It does nothing very complicated. It&apos;s got two cases. Either the procedure is primitive--"><code onclick="Z(this)">0:18:47</code>And what does it do? It does nothing very complicated. It's got two cases. Either the procedure is primitive--</span><span s="1142" t="And I don&apos;t know exactly how that is done. It&apos;s possible there&apos;s some type information just like we made closure for, here, being the description of the type of"><code onclick="Z(this)">0:19:02</code>And I don't know exactly how that is done. It's possible there's some type information just like we made closure for, here, being the description of the type of</span><span s="1154" t="a compound thing-- probably so. But it is not essential how that works, and, in fact, it turns out, as you probably know or have deduced, that you"><code onclick="Z(this)">0:19:14</code>a compound thing-- probably so. But it is not essential how that works, and, in fact, it turns out, as you probably know or have deduced, that you</span><span s="1164" t="don&apos;t need any primitives anyway. You can compute anything without them because some of the lambda that I&apos;ve been playing with."><code onclick="Z(this)">0:19:24</code>don't need any primitives anyway. You can compute anything without them because some of the lambda that I've been playing with.</span><span s="1173" t="But it&apos;s nice to have them. So here we&apos;re going to do some magic which I&apos;m not going to explain. Go to machine language, apply primop."><code onclick="Z(this)">0:19:33</code>But it's nice to have them. So here we're going to do some magic which I'm not going to explain. Go to machine language, apply primop.</span><span s="1182" t="Here&apos;s how it adds. Execute an add instruction. However, the interesting part of a language is the glue by"><code onclick="Z(this)">0:19:42</code>Here's how it adds. Execute an add instruction. However, the interesting part of a language is the glue by</span><span s="1192" t="which the predicates are glued together. So let&apos;s look at that. Well, the other possibility is that this is a compound made"><code onclick="Z(this)">0:19:52</code>which the predicates are glued together. So let's look at that. Well, the other possibility is that this is a compound made</span><span s="1201" t="up by executing a lambda expression, this is a compound procedure. Well, we&apos;ll check its type."><code onclick="Z(this)">0:20:01</code>up by executing a lambda expression, this is a compound procedure. Well, we'll check its type.</span><span s="1210" t="If it is closure, if it&apos;s one of those, then I have to do an"><code onclick="Z(this)">0:20:10</code>If it is closure, if it's one of those, then I have to do an</span><span s="1223" t="eval of the body. The way I do this, the way I deal with this at all, is the way I evaluate the application of a procedure to its arguments, is by evaluating the body of the procedure in"><code onclick="Z(this)">0:20:23</code>eval of the body. The way I do this, the way I deal with this at all, is the way I evaluate the application of a procedure to its arguments, is by evaluating the body of the procedure in</span><span s="1234" t="the environment resulting from extending the environment of the procedure with the bindings of the formal parameters of the procedure to the arguments that"><code onclick="Z(this)">0:20:34</code>the environment resulting from extending the environment of the procedure with the bindings of the formal parameters of the procedure to the arguments that</span><span s="1243" t="were passed to it. That was a long sentence. Well that&apos;s easy enough."><code onclick="Z(this)">0:20:43</code>were passed to it. That was a long sentence. Well that's easy enough.</span><span s="1252" t="Now here&apos;s going to be a lot of CAR-CDRing. I have to get the body of the procedure. Where&apos;s the body of the procedure in here?"><code onclick="Z(this)">0:20:52</code>Now here's going to be a lot of CAR-CDRing. I have to get the body of the procedure. Where's the body of the procedure in here?</span><span s="1262" t="Well here&apos;s the CAR, here&apos;s the CDR is the whole rest of this. So here&apos;s the CADR. And so I see, what I have here is the body is the second element of the second"><code onclick="Z(this)">0:21:02</code>Well here's the CAR, here's the CDR is the whole rest of this. So here's the CADR. And so I see, what I have here is the body is the second element of the second</span><span s="1271" t="element of the procedure. So it&apos;s the CADR of the CADR or the CADADR. It&apos;s the C-A-D-A-D-R, CADADR of the procedure."><code onclick="Z(this)">0:21:11</code>element of the procedure. So it's the CADR of the CADR or the CADADR. It's the C-A-D-A-D-R, CADADR of the procedure.</span><span s="1290" t="To evaluate the body in the result of binding that&apos;s making up more environment, well I need the formal"><code onclick="Z(this)">0:21:30</code>To evaluate the body in the result of binding that's making up more environment, well I need the formal</span><span s="1299" t="parameters of the of the procedure, what is that? That&apos;s the CAR of the CDR. It&apos;s horrible isn&apos;t it?"><code onclick="Z(this)">0:21:39</code>parameters of the of the procedure, what is that? That's the CAR of the CDR. It's horrible isn't it?</span><span s="1312" t="--of the procedure. Bind that to the arguments that were passed in the environment, which is passed also as part of the procedure."><code onclick="Z(this)">0:21:52</code>--of the procedure. Bind that to the arguments that were passed in the environment, which is passed also as part of the procedure.</span><span s="1324" t="Well, that&apos;s the CAR of the CDR of the CDR of this, CADADR, of the procedure."><code onclick="Z(this)">0:22:04</code>Well, that's the CAR of the CDR of the CDR of this, CADADR, of the procedure.</span><span s="1340" t="Bind, eval, pair, COND, lamda, define-- Now, of course, if I were being really a neat character,"><code onclick="Z(this)">0:22:20</code>Bind, eval, pair, COND, lamda, define-- Now, of course, if I were being really a neat character,</span><span s="1349" t="and I was being very careful, I would actually put an extra case here for checking for certain errors like, did you try to apply one to an argument?"><code onclick="Z(this)">0:22:29</code>and I was being very careful, I would actually put an extra case here for checking for certain errors like, did you try to apply one to an argument?</span><span s="1359" t="You get a undefined procedure type. So I may as well do that anyway. --else, some sort of error, like that."><code onclick="Z(this)">0:22:39</code>You get a undefined procedure type. So I may as well do that anyway. --else, some sort of error, like that.</span><span s="1377" t="Now, of course, again, in some sort of more real system, written for professional reasons, this would be written"><code onclick="Z(this)">0:22:57</code>Now, of course, again, in some sort of more real system, written for professional reasons, this would be written</span><span s="1386" t="with a case analysis done by some sort of dispatch. Over here, I would probably have other cases like, is this compiled code?"><code onclick="Z(this)">0:23:06</code>with a case analysis done by some sort of dispatch. Over here, I would probably have other cases like, is this compiled code?</span><span s="1396" t="It&apos;s very important. I might have distinguished the kind of code that&apos;s produced by a directly evaluating a lambda in interpretation from code that was produced by somebody&apos;s compiler or"><code onclick="Z(this)">0:23:16</code>It's very important. I might have distinguished the kind of code that's produced by a directly evaluating a lambda in interpretation from code that was produced by somebody's compiler or</span><span s="1405" t="something like that. And we&apos;ll talk about that later. Or is this a piece Fortran program I have to go off and execute. It&apos;s a perfectly possible thing, at this point, to do that. In fact, in this concrete syntax evaluator I&apos;m writing"><code onclick="Z(this)">0:23:25</code>something like that. And we'll talk about that later. Or is this a piece Fortran program I have to go off and execute. It's a perfectly possible thing, at this point, to do that. In fact, in this concrete syntax evaluator I'm writing</span><span s="1416" t="here, there&apos;s an assumption built in that this is Lisp, because I&apos;m using CARs and CDRs. CAR means the operator, and CDR means the operand."><code onclick="Z(this)">0:23:36</code>here, there's an assumption built in that this is Lisp, because I'm using CARs and CDRs. CAR means the operator, and CDR means the operand.</span><span s="1426" t="In the text, there is an abstract syntax evaluator for which these could be-- these are given abstract names like operator, and operand, and all these other things are like that."><code onclick="Z(this)">0:23:46</code>In the text, there is an abstract syntax evaluator for which these could be-- these are given abstract names like operator, and operand, and all these other things are like that.</span><span s="1436" t="And, in that case, you could reprogram it to be ALGOL with no problem. Well, here we have added another couple of things that"><code onclick="Z(this)">0:23:56</code>And, in that case, you could reprogram it to be ALGOL with no problem. Well, here we have added another couple of things that</span><span s="1447" t="we haven&apos;t defined. I don&apos;t think I&apos;ll worry about these at all, however, this one will be interesting later."><code onclick="Z(this)">0:24:07</code>we haven't defined. I don't think I'll worry about these at all, however, this one will be interesting later.</span><span s="1457" t="Let&apos;s just proceed through this and get it done. There&apos;s only two more blackboards so it can&apos;t be very long."><code onclick="Z(this)">0:24:17</code>Let's just proceed through this and get it done. There's only two more blackboards so it can't be very long.</span><span s="1467" t="It&apos;s carefully tailored to exactly fit. Well, what do we have left? We have to define EVLIST, which is over here. And EVLIST is nothing more than a map down a bunch of"><code onclick="Z(this)">0:24:27</code>It's carefully tailored to exactly fit. Well, what do we have left? We have to define EVLIST, which is over here. And EVLIST is nothing more than a map down a bunch of</span><span s="1480" t="operands producing arguments. But I&apos;m going to write it out. And one of the reasons I&apos;m going to write this out is for a mystical reason, which is I want to make this evaluator so"><code onclick="Z(this)">0:24:40</code>operands producing arguments. But I'm going to write it out. And one of the reasons I'm going to write this out is for a mystical reason, which is I want to make this evaluator so</span><span s="1491" t="simple that it can understand itself. I&apos;m going to really worry about that a little bit."><code onclick="Z(this)">0:24:51</code>simple that it can understand itself. I'm going to really worry about that a little bit.</span><span s="1500" t="So let&apos;s write it out completely. See, I don&apos;t want to worry about whether or not the thing can pass functional arguments. The value evaluator is not going to use them. The evaluator is not going to produce functional values."><code onclick="Z(this)">0:25:00</code>So let's write it out completely. See, I don't want to worry about whether or not the thing can pass functional arguments. The value evaluator is not going to use them. The evaluator is not going to produce functional values.</span><span s="1510" t="So even if there were a different, alternative language that were very close to this, this evaluates a complex language like Scheme which does allow procedural"><code onclick="Z(this)">0:25:10</code>So even if there were a different, alternative language that were very close to this, this evaluates a complex language like Scheme which does allow procedural</span><span s="1519" t="arguments, procedural values, and procedural data. But even if I were evaluating ALGOL, which doesn&apos;t allow"><code onclick="Z(this)">0:25:19</code>arguments, procedural values, and procedural data. But even if I were evaluating ALGOL, which doesn't allow</span><span s="1528" t="procedural values, I could use this evaluator. And this evaluator is not making any assumptions about that. And, in fact, if this value were to be restricted to not being able to that, it wouldn&apos;t matter, because it"><code onclick="Z(this)">0:25:28</code>procedural values, I could use this evaluator. And this evaluator is not making any assumptions about that. And, in fact, if this value were to be restricted to not being able to that, it wouldn't matter, because it</span><span s="1537" t="doesn&apos;t use any of those clever things. So that&apos;s why I&apos;m arranging this to be super simple. This is sort of the kernel of all possible language evaluators."><code onclick="Z(this)">0:25:37</code>doesn't use any of those clever things. So that's why I'm arranging this to be super simple. This is sort of the kernel of all possible language evaluators.</span><span s="1547" t="How about that? Evlist-- well, what is it? It&apos;s the procedure of two arguments, l and an"><code onclick="Z(this)">0:25:47</code>How about that? Evlist-- well, what is it? It's the procedure of two arguments, l and an</span><span s="1556" t="environment, where l is a list such that if the list of"><code onclick="Z(this)">0:25:56</code>environment, where l is a list such that if the list of</span><span s="1566" t="arguments is the empty list, then the result is the empty list. Otherwise, I want to cons up the result of"><code onclick="Z(this)">0:26:06</code>arguments is the empty list, then the result is the empty list. Otherwise, I want to cons up the result of</span><span s="1581" t="evaluating the CAR of the list of operands in the"><code onclick="Z(this)">0:26:21</code>evaluating the CAR of the list of operands in the</span><span s="1591" t="environment. So I want the first operand evaluated, and I&apos;m going to make a list of the results by CONSing that onto the result"><code onclick="Z(this)">0:26:31</code>environment. So I want the first operand evaluated, and I'm going to make a list of the results by CONSing that onto the result</span><span s="1600" t="of this EVLISTing as a CDR recursion, the CDR of the list relative to the same environment."><code onclick="Z(this)">0:26:40</code>of this EVLISTing as a CDR recursion, the CDR of the list relative to the same environment.</span><span s="1613" t="Evlist, cons, else, COND, lambda, define-- And I have one more that I want to put on the blackboard."><code onclick="Z(this)">0:26:53</code>Evlist, cons, else, COND, lambda, define-- And I have one more that I want to put on the blackboard.</span><span s="1623" t="It&apos;s the essence of this whole thing. And there&apos;s some sort of next layer down."><code onclick="Z(this)">0:27:03</code>It's the essence of this whole thing. And there's some sort of next layer down.</span><span s="1634" t="Conditionals-- conditionals are the only thing left that are sort of substantial. Then below that, we have to worry about things like lookup and bind, and we&apos;ll look at that in a second."><code onclick="Z(this)">0:27:14</code>Conditionals-- conditionals are the only thing left that are sort of substantial. Then below that, we have to worry about things like lookup and bind, and we'll look at that in a second.</span><span s="1645" t="But of the substantial stuff at this level of detail, next important thing is how you deal with conditionals. Well, how do we have a conditional thing?"><code onclick="Z(this)">0:27:25</code>But of the substantial stuff at this level of detail, next important thing is how you deal with conditionals. Well, how do we have a conditional thing?</span><span s="1657" t="It&apos;s a procedure of a set of clauses and an environment."><code onclick="Z(this)">0:27:37</code>It's a procedure of a set of clauses and an environment.</span><span s="1667" t="And what does it do? It says, if I&apos;ve no more clauses, well, I have to give"><code onclick="Z(this)">0:27:47</code>And what does it do? It says, if I've no more clauses, well, I have to give</span><span s="1683" t="this a value. It could be that it was an error. Supposing it run off the end of a conditional, it&apos;s pretty arbitrary. It&apos;s up to me as programmer to choose what I want to happen."><code onclick="Z(this)">0:28:03</code>this a value. It could be that it was an error. Supposing it run off the end of a conditional, it's pretty arbitrary. It's up to me as programmer to choose what I want to happen.</span><span s="1693" t="It&apos;s convenient for me, right now, to write down that this has a value which is the empty list, doesn&apos;t matter. For error checking, some people might prefer something else."><code onclick="Z(this)">0:28:13</code>It's convenient for me, right now, to write down that this has a value which is the empty list, doesn't matter. For error checking, some people might prefer something else.</span><span s="1703" t="But the interesting things are the following ones. If I&apos;ve got an else clause-- You see, if I have a list of clauses, then each clause is a"><code onclick="Z(this)">0:28:23</code>But the interesting things are the following ones. If I've got an else clause-- You see, if I have a list of clauses, then each clause is a</span><span s="1714" t="list. And so the predicate part is the CAAR of the clauses."><code onclick="Z(this)">0:28:34</code>list. And so the predicate part is the CAAR of the clauses.</span><span s="1723" t="It&apos;s the CAR, which is the first part of the first clause in the list of clauses. If it&apos;s an else, then it means I want my result of the"><code onclick="Z(this)">0:28:43</code>It's the CAR, which is the first part of the first clause in the list of clauses. If it's an else, then it means I want my result of the</span><span s="1735" t="conditional to be the result of evaluating the matching expression. So I eval the CADR. So this is the first clause, the second"><code onclick="Z(this)">0:28:55</code>conditional to be the result of evaluating the matching expression. So I eval the CADR. So this is the first clause, the second</span><span s="1750" t="element of it, CADAR-- CADAR of a CAR-- of the clauses, with respect to the environment."><code onclick="Z(this)">0:29:10</code>element of it, CADAR-- CADAR of a CAR-- of the clauses, with respect to the environment.</span><span s="1766" t="Now the next possibility is more interesting. If it&apos;s false, if the first predicate in the predicate list is not an else, and it&apos;s not false, if it&apos;s not the"><code onclick="Z(this)">0:29:26</code>Now the next possibility is more interesting. If it's false, if the first predicate in the predicate list is not an else, and it's not false, if it's not the</span><span s="1778" t="word else, and if it&apos;s not a false thing-- Let&apos;s write down what it is if it&apos;s a false thing. If the result of evaluating the first"><code onclick="Z(this)">0:29:38</code>word else, and if it's not a false thing-- Let's write down what it is if it's a false thing. If the result of evaluating the first</span><span s="1789" t="predicate, the clauses-- respect the environment, if that evaluation yields false,"><code onclick="Z(this)">0:29:49</code>predicate, the clauses-- respect the environment, if that evaluation yields false,</span><span s="1801" t="then it means, I want to look at the next clause. So I want to discard the first one. So we just go around loop, evcond, the CDR of the clauses"><code onclick="Z(this)">0:30:01</code>then it means, I want to look at the next clause. So I want to discard the first one. So we just go around loop, evcond, the CDR of the clauses</span><span s="1815" t="relative to that environment. And otherwise, I had a true clause, in which case, what I"><code onclick="Z(this)">0:30:15</code>relative to that environment. And otherwise, I had a true clause, in which case, what I</span><span s="1827" t="want is to evaluate the CADAR of the clauses relative to"><code onclick="Z(this)">0:30:27</code>want is to evaluate the CADAR of the clauses relative to</span><span s="1840" t="that environment. Boy, it&apos;s almost done."><code onclick="Z(this)">0:30:40</code>that environment. Boy, it's almost done.</span><span s="1851" t="It&apos;s quite close to done. I think we&apos;re going to finish this part off. So just buzzing through this evaluator, but so far you&apos;re seeing almost everything."><code onclick="Z(this)">0:30:51</code>It's quite close to done. I think we're going to finish this part off. So just buzzing through this evaluator, but so far you're seeing almost everything.</span><span s="1861" t="Let&apos;s look at the next transparency here. Here is bind."><code onclick="Z(this)">0:31:01</code>Let's look at the next transparency here. Here is bind.</span><span s="1871" t="Bind is for making more table. And what we are going to do here is make a-- we&apos;re going to make a no-frame for an environment structure."><code onclick="Z(this)">0:31:11</code>Bind is for making more table. And what we are going to do here is make a-- we're going to make a no-frame for an environment structure.</span><span s="1882" t="The environment structure is going to be represented as a list of frames. So given an existing environment structure, I&apos;m going to make a new environment structure by"><code onclick="Z(this)">0:31:22</code>The environment structure is going to be represented as a list of frames. So given an existing environment structure, I'm going to make a new environment structure by</span><span s="1892" t="consing a new frame onto the existing environment structure, where the new frame consists of the result of pairing up the variables, which are the bound variables"><code onclick="Z(this)">0:31:32</code>consing a new frame onto the existing environment structure, where the new frame consists of the result of pairing up the variables, which are the bound variables</span><span s="1901" t="of the procedure I&apos;m applying, to the values which are the arguments that were passed that procedure. This is just making a list, adding a new element to our"><code onclick="Z(this)">0:31:41</code>of the procedure I'm applying, to the values which are the arguments that were passed that procedure. This is just making a list, adding a new element to our</span><span s="1913" t="list of frames, which is an environment structure, to make a new environment. Where pair-up is very simple. Pair-up is nothing more than if I have a list of variables"><code onclick="Z(this)">0:31:53</code>list of frames, which is an environment structure, to make a new environment. Where pair-up is very simple. Pair-up is nothing more than if I have a list of variables</span><span s="1924" t="and a list of values, well, if I run out of variables and if I run out of values, everything&apos;s OK. Otherwise, I&apos;ve given too many arguments. If I&apos;ve not run out of variables, but I&apos;ve run out of"><code onclick="Z(this)">0:32:04</code>and a list of values, well, if I run out of variables and if I run out of values, everything's OK. Otherwise, I've given too many arguments. If I've not run out of variables, but I've run out of</span><span s="1935" t="values, that I have too few arguments. And in the general case, where I don&apos;t have any errors, and I&apos;m not done, then I really am just adding a new pair of the"><code onclick="Z(this)">0:32:15</code>values, that I have too few arguments. And in the general case, where I don't have any errors, and I'm not done, then I really am just adding a new pair of the</span><span s="1946" t="first variable with the first argument, the first value, onto a list resulting from pairing-up the rest of the"><code onclick="Z(this)">0:32:26</code>first variable with the first argument, the first value, onto a list resulting from pairing-up the rest of the</span><span s="1957" t="variables with the rest of the values. Lookup is of course equally simple."><code onclick="Z(this)">0:32:37</code>variables with the rest of the values. Lookup is of course equally simple.</span><span s="1966" t="If I have to look up a symbol in an environment, well, if the environment is empty, then I&apos;ve got an unbound variable. Otherwise, what I&apos;m going to do is use a special pair list"><code onclick="Z(this)">0:32:46</code>If I have to look up a symbol in an environment, well, if the environment is empty, then I've got an unbound variable. Otherwise, what I'm going to do is use a special pair list</span><span s="1979" t="lookup procedure, which we&apos;ll have very shortly, of the symbol in the first frame of the environment. Since I know the environment is not empty, it must have a first frame."><code onclick="Z(this)">0:32:59</code>lookup procedure, which we'll have very shortly, of the symbol in the first frame of the environment. Since I know the environment is not empty, it must have a first frame.</span><span s="1989" t="So I lookup the symbol in the first frame. That becomes the value cell here. And then, if the value cell is empty, if there is no such"><code onclick="Z(this)">0:33:09</code>So I lookup the symbol in the first frame. That becomes the value cell here. And then, if the value cell is empty, if there is no such</span><span s="1999" t="value cell, then I have to continue and look at the rest of the frames. It means there was nothing found there. So that&apos;s a property of ASSQ is it returns emptiness if it"><code onclick="Z(this)">0:33:19</code>value cell, then I have to continue and look at the rest of the frames. It means there was nothing found there. So that's a property of ASSQ is it returns emptiness if it</span><span s="2009" t="doesn&apos;t find something. but if it did find something, then I&apos;m going to use the CDR of the value cell here, which is the thing that was the pair"><code onclick="Z(this)">0:33:29</code>doesn't find something. but if it did find something, then I'm going to use the CDR of the value cell here, which is the thing that was the pair</span><span s="2018" t="consisting of the variable and the value. So the CDR of it is the value part. Finally, ASSQ is something you&apos;ve probably seen already."><code onclick="Z(this)">0:33:38</code>consisting of the variable and the value. So the CDR of it is the value part. Finally, ASSQ is something you've probably seen already.</span><span s="2027" t="ASSQ takes a symbol and a list of pairs, and if the list is empty, it&apos;s empty. If the symbol is the first thing in the list--"><code onclick="Z(this)">0:33:47</code>ASSQ takes a symbol and a list of pairs, and if the list is empty, it's empty. If the symbol is the first thing in the list--</span><span s="2037" t="That&apos;s an error. That should be CAAR, C-A-A-R. Everybody note that."><code onclick="Z(this)">0:33:57</code>That's an error. That should be CAAR, C-A-A-R. Everybody note that.</span><span s="2047" t="Right there, OK? And in any case, if the symbol is the CAAR of the A list,"><code onclick="Z(this)">0:34:07</code>Right there, OK? And in any case, if the symbol is the CAAR of the A list,</span><span s="2057" t="then I want the first, the first pair, in the A list. So, in other words, if this is the key matching the right entry,"><code onclick="Z(this)">0:34:17</code>then I want the first, the first pair, in the A list. So, in other words, if this is the key matching the right entry,</span><span s="2066" t="otherwise, I want to look up that symbol in the rest. Sorry for producing a bug, bugs appear."><code onclick="Z(this)">0:34:26</code>otherwise, I want to look up that symbol in the rest. Sorry for producing a bug, bugs appear.</span><span s="2075" t="Well, in any case, you&apos;re pretty much seeing the whole thing now. It&apos;s a very beautiful thing, even though it&apos;s written in an"><code onclick="Z(this)">0:34:35</code>Well, in any case, you're pretty much seeing the whole thing now. It's a very beautiful thing, even though it's written in an</span><span s="2085" t="ugly style, being the kernel of every language. I suggest that we just-- let&apos;s look at it for a while."><code onclick="Z(this)">0:34:45</code>ugly style, being the kernel of every language. I suggest that we just-- let's look at it for a while.</span><span s="2096" t="[MUSIC PLAYING]"><code onclick="Z(this)">0:34:56</code>[MUSIC PLAYING]</span><span s="2149" t="Are there any questions?"><code onclick="Z(this)">0:35:49</code>Are there any questions?</span><span s="2161" t="Alright, I suppose it&apos;s time to take a small break then. [MUSIC PLAYING]"><code onclick="Z(this)">0:36:01</code>Alright, I suppose it's time to take a small break then. [MUSIC PLAYING]</span><span s="2216" t="OK, now we&apos;re just going to do a little bit of practice understanding what it is we&apos;ve just shown you. What we&apos;re going to do is go through, in detail, an"><code onclick="Z(this)">0:36:56</code>OK, now we're just going to do a little bit of practice understanding what it is we've just shown you. What we're going to do is go through, in detail, an</span><span s="2225" t="evaluation by informally substituting through the interpreter. And since we have no assignments or definitions in"><code onclick="Z(this)">0:37:05</code>evaluation by informally substituting through the interpreter. And since we have no assignments or definitions in</span><span s="2234" t="this interpreter, we have no possible side effects, and so the we can do substitution with impunity and not worry"><code onclick="Z(this)">0:37:14</code>this interpreter, we have no possible side effects, and so the we can do substitution with impunity and not worry</span><span s="2243" t="about results. So the particular problem I&apos;d like to look at is it an interesting one. It&apos;s the evaluation of quote, open, open, open, lambda of x,"><code onclick="Z(this)">0:37:23</code>about results. So the particular problem I'd like to look at is it an interesting one. It's the evaluation of quote, open, open, open, lambda of x,</span><span s="2261" t="lambda of y plus x y, lambda, lambda, applied to three,"><code onclick="Z(this)">0:37:41</code>lambda of y plus x y, lambda, lambda, applied to three,</span><span s="2275" t="applied to four, in some global environment which I&apos;ll call e0."><code onclick="Z(this)">0:37:55</code>applied to four, in some global environment which I'll call e0.</span><span s="2284" t="So what we have here is a procedure of one argument x, which produces as its value a procedure of one argument y, which adds x to y."><code onclick="Z(this)">0:38:04</code>So what we have here is a procedure of one argument x, which produces as its value a procedure of one argument y, which adds x to y.</span><span s="2294" t="We are applying the procedure of one argument x to three. So x should become three. And the result of that should be procedure of one argument"><code onclick="Z(this)">0:38:14</code>We are applying the procedure of one argument x to three. So x should become three. And the result of that should be procedure of one argument</span><span s="2303" t="y, which will then apply to 4. And there is a very simple case, they will then add those results."><code onclick="Z(this)">0:38:23</code>y, which will then apply to 4. And there is a very simple case, they will then add those results.</span><span s="2314" t="And now in order to do that, I want to make a very simple environment model. And at this point, you should already have in your mind the environments that this produces."><code onclick="Z(this)">0:38:34</code>And now in order to do that, I want to make a very simple environment model. And at this point, you should already have in your mind the environments that this produces.</span><span s="2324" t="But we&apos;re going to start out with a global environment, which I&apos;ll call e0, which is that."><code onclick="Z(this)">0:38:44</code>But we're going to start out with a global environment, which I'll call e0, which is that.</span><span s="2336" t="And it&apos;s going to have in it things, definitions for plus, and times, and--"><code onclick="Z(this)">0:38:56</code>And it's going to have in it things, definitions for plus, and times, and--</span><span s="2347" t="using Greek letters, isn&apos;t that interesting, for the objects-- and minus, and quotient, and CAR, and CDR, and CONS, and"><code onclick="Z(this)">0:39:07</code>using Greek letters, isn't that interesting, for the objects-- and minus, and quotient, and CAR, and CDR, and CONS, and</span><span s="2367" t="EQ, and everything else you might imagine in a global environment. It&apos;s got something there for each of those things, something the machine is born with, that&apos;s e0."><code onclick="Z(this)">0:39:27</code>EQ, and everything else you might imagine in a global environment. It's got something there for each of those things, something the machine is born with, that's e0.</span><span s="2379" t="Now what does it mean to do this evaluation? Well, we go through the set of special forms. First of all, this is not a number."><code onclick="Z(this)">0:39:39</code>Now what does it mean to do this evaluation? Well, we go through the set of special forms. First of all, this is not a number.</span><span s="2388" t="This is not a symbol. Gee, it&apos;s not a quoted expression. This is a quoted expression, but that&apos;s not what I"><code onclick="Z(this)">0:39:48</code>This is not a symbol. Gee, it's not a quoted expression. This is a quoted expression, but that's not what I</span><span s="2400" t="interested in. The question is, whether or not the thing which is quoted is quoted expression? I&apos;m evaluating an expression. This just says it&apos;s this particular expression."><code onclick="Z(this)">0:40:00</code>interested in. The question is, whether or not the thing which is quoted is quoted expression? I'm evaluating an expression. This just says it's this particular expression.</span><span s="2411" t="This is not a quoted expression. It&apos;s not a thing that begins with lambda. It&apos;s not a thing that begins with COND."><code onclick="Z(this)">0:40:11</code>This is not a quoted expression. It's not a thing that begins with lambda. It's not a thing that begins with COND.</span><span s="2422" t="Therefore, it&apos;s an application of its of an operated operands. It&apos;s a combination. The combination thus has this as the operator and this is"><code onclick="Z(this)">0:40:22</code>Therefore, it's an application of its of an operated operands. It's a combination. The combination thus has this as the operator and this is</span><span s="2435" t="the operands. Well, that means that what I&apos;m going to do is transform this into apply of eval, of quote, open, open lambda of"><code onclick="Z(this)">0:40:35</code>the operands. Well, that means that what I'm going to do is transform this into apply of eval, of quote, open, open lambda of</span><span s="2454" t="x, lambda of y-- I&apos;m evaluating the operator-- plus x y, in the environment, also e0, with the operands"><code onclick="Z(this)">0:40:54</code>x, lambda of y-- I'm evaluating the operator-- plus x y, in the environment, also e0, with the operands</span><span s="2473" t="that I&apos;m going to apply this to, the arguments being the result of EVLIST, the list containing four, fin e0."><code onclick="Z(this)">0:41:13</code>that I'm going to apply this to, the arguments being the result of EVLIST, the list containing four, fin e0.</span><span s="2489" t="I&apos;m using this funny notation here for e0 because this should be that environment. I haven&apos;t a name for it, because I have no environment"><code onclick="Z(this)">0:41:29</code>I'm using this funny notation here for e0 because this should be that environment. I haven't a name for it, because I have no environment</span><span s="2498" t="to name it in. So this is just a representation of what would be a quoted expression, if you will."><code onclick="Z(this)">0:41:38</code>to name it in. So this is just a representation of what would be a quoted expression, if you will.</span><span s="2507" t="The data structure, which is the environment, goes there. Well, that&apos;s what we&apos;re seeing here. Well in order to do this, I have to do this, and"><code onclick="Z(this)">0:41:47</code>The data structure, which is the environment, goes there. Well, that's what we're seeing here. Well in order to do this, I have to do this, and</span><span s="2517" t="I have to do that. Well this one&apos;s easy, so why don&apos;t we do that one first. This turns into apply of eval-- just"><code onclick="Z(this)">0:41:57</code>I have to do that. Well this one's easy, so why don't we do that one first. This turns into apply of eval-- just</span><span s="2527" t="copying something now. Most of the substitution rule is copying."><code onclick="Z(this)">0:42:07</code>copying something now. Most of the substitution rule is copying.</span><span s="2538" t="So I&apos;m going to not say the words when I copy, because it&apos;s faster. And then the EVLIST is going to turn into a cons, of eval,"><code onclick="Z(this)">0:42:18</code>So I'm going to not say the words when I copy, because it's faster. And then the EVLIST is going to turn into a cons, of eval,</span><span s="2554" t="of four, in e0-- because it was not an empty list-- onto the result of EVLISTing, on the empty list, in e0."><code onclick="Z(this)">0:42:34</code>of four, in e0-- because it was not an empty list-- onto the result of EVLISTing, on the empty list, in e0.</span><span s="2572" t="And I&apos;m going to start leaving out steps soon, because it&apos;s going to get boring. But this is basically the same thing as apply, of eval--"><code onclick="Z(this)">0:42:52</code>And I'm going to start leaving out steps soon, because it's going to get boring. But this is basically the same thing as apply, of eval--</span><span s="2587" t="I&apos;m going to keep doing this-- the lambda of x, the lambda of y, plus xy, 3, close, e0."><code onclick="Z(this)">0:43:07</code>I'm going to keep doing this-- the lambda of x, the lambda of y, plus xy, 3, close, e0.</span><span s="2600" t="I&apos;m a pretty good machine. Well, eval of four, that&apos;s meets the question, is it a number. So that&apos;s cons, cons of 4."><code onclick="Z(this)">0:43:20</code>I'm a pretty good machine. Well, eval of four, that's meets the question, is it a number. So that's cons, cons of 4.</span><span s="2615" t="And EVLIST of the empty list is the empty list, so that&apos;s this. And that&apos;s very simple to understand, because that means"><code onclick="Z(this)">0:43:35</code>And EVLIST of the empty list is the empty list, so that's this. And that's very simple to understand, because that means</span><span s="2626" t="the list containing four itself. So this is nothing more than apply of eval, quote, open,"><code onclick="Z(this)">0:43:46</code>the list containing four itself. So this is nothing more than apply of eval, quote, open,</span><span s="2636" t="open, lambda of x, lambda of y, plus x y, three applied to,"><code onclick="Z(this)">0:43:56</code>open, lambda of x, lambda of y, plus x y, three applied to,</span><span s="2646" t="e0, applied to the list four-- bang. So that&apos;s that step."><code onclick="Z(this)">0:44:06</code>e0, applied to the list four-- bang. So that's that step.</span><span s="2658" t="Now let&apos;s look at the next, more interesting thing. What do I do to evaluate that? Evaluating this means I have to evaluate--"><code onclick="Z(this)">0:44:18</code>Now let's look at the next, more interesting thing. What do I do to evaluate that? Evaluating this means I have to evaluate--</span><span s="2667" t="Well, it&apos;s not. It&apos;s nothing but an application. It&apos;s not one of the special things. If the application of this operator, which we see here--"><code onclick="Z(this)">0:44:27</code>Well, it's not. It's nothing but an application. It's not one of the special things. If the application of this operator, which we see here--</span><span s="2677" t="here&apos;s the operator-- applied to this operands, that combination."><code onclick="Z(this)">0:44:37</code>here's the operator-- applied to this operands, that combination.</span><span s="2686" t="But we know how to do that, because that&apos;s the last case of the conditional. So substituting in for this evaluation, it&apos;s apply of eval"><code onclick="Z(this)">0:44:46</code>But we know how to do that, because that's the last case of the conditional. So substituting in for this evaluation, it's apply of eval</span><span s="2696" t="of the operator in the EVLIST of the operands. Well, it&apos;s apply, of apply, of eval, of quote, open, lambda"><code onclick="Z(this)">0:44:56</code>of the operator in the EVLIST of the operands. Well, it's apply, of apply, of eval, of quote, open, lambda</span><span s="2712" t="of x, lambda of y, plus x y, lambda, lambda,"><code onclick="Z(this)">0:45:12</code>of x, lambda of y, plus x y, lambda, lambda,</span><span s="2723" t="in environment e0. I&apos;m going to short circuit the evaluation of the operands ,"><code onclick="Z(this)">0:45:23</code>in environment e0. I'm going to short circuit the evaluation of the operands ,</span><span s="2732" t="because they&apos;re the same as they were before. I got a list containing three, apply that, and apply that to four."><code onclick="Z(this)">0:45:32</code>because they're the same as they were before. I got a list containing three, apply that, and apply that to four.</span><span s="2742" t="Well let&apos;s see. Eval of a lambda expression produces a procedure object."><code onclick="Z(this)">0:45:42</code>Well let's see. Eval of a lambda expression produces a procedure object.</span><span s="2752" t="So this is apply, of apply, of the procedure object closure,"><code onclick="Z(this)">0:45:52</code>So this is apply, of apply, of the procedure object closure,</span><span s="2764" t="which contains the body of the procedure, x, which is lambda-- which binds x [UNINTELLIGIBLE] the internals of the body, it returns the procedure of one"><code onclick="Z(this)">0:46:04</code>which contains the body of the procedure, x, which is lambda-- which binds x [UNINTELLIGIBLE] the internals of the body, it returns the procedure of one</span><span s="2777" t="argument y, which adds x to y. Environment e0 is now captured in it, because this was"><code onclick="Z(this)">0:46:17</code>argument y, which adds x to y. Environment e0 is now captured in it, because this was</span><span s="2787" t="evaluated with respect to e0. e0 is part now of the closure object. Apply that to open, three, close, apply, to open, 4,"><code onclick="Z(this)">0:46:27</code>evaluated with respect to e0. e0 is part now of the closure object. Apply that to open, three, close, apply, to open, 4,</span><span s="2800" t="close, apply. So going from this step to this step meant that I made up"><code onclick="Z(this)">0:46:40</code>close, apply. So going from this step to this step meant that I made up</span><span s="2810" t="a procedure object which captured in it e0 as part of the procedure object. Now, we&apos;re going to pass those to apply. We have to apply this procedure"><code onclick="Z(this)">0:46:50</code>a procedure object which captured in it e0 as part of the procedure object. Now, we're going to pass those to apply. We have to apply this procedure</span><span s="2820" t="to that set of arguments. Well, but that procedure is not primitive. It&apos;s, in fact, a thing which has got the tag closure, and,"><code onclick="Z(this)">0:47:00</code>to that set of arguments. Well, but that procedure is not primitive. It's, in fact, a thing which has got the tag closure, and,</span><span s="2830" t="therefore, what we have to do is do a bind. We have to bind. A new environment is made at this point, which has as its"><code onclick="Z(this)">0:47:10</code>therefore, what we have to do is do a bind. We have to bind. A new environment is made at this point, which has as its</span><span s="2841" t="parent environment the one over here, e0, that environment."><code onclick="Z(this)">0:47:21</code>parent environment the one over here, e0, that environment.</span><span s="2850" t="And we&apos;ll call this one, e1. Now what&apos;s bound in there? x is bound to three. So I have x equal three."><code onclick="Z(this)">0:47:30</code>And we'll call this one, e1. Now what's bound in there? x is bound to three. So I have x equal three.</span><span s="2861" t="That&apos;s what&apos;s in there. And we&apos;ll call that e1. So what this transforms into is an eval of the body of"><code onclick="Z(this)">0:47:41</code>That's what's in there. And we'll call that e1. So what this transforms into is an eval of the body of</span><span s="2871" t="this, which is this, the body of that procedure, in the environment that you just saw."><code onclick="Z(this)">0:47:51</code>this, which is this, the body of that procedure, in the environment that you just saw.</span><span s="2880" t="So that&apos;s an apply, of eval, quote, open, lambda of y, plus"><code onclick="Z(this)">0:48:00</code>So that's an apply, of eval, quote, open, lambda of y, plus</span><span s="2891" t="x y-- the body-- in e1."><code onclick="Z(this)">0:48:11</code>x y-- the body-- in e1.</span><span s="2900" t="And apply the result of that to four, open, close, 4-- list of arguments. Well, that&apos;s sensible enough because evaluating a lambda, I"><code onclick="Z(this)">0:48:20</code>And apply the result of that to four, open, close, 4-- list of arguments. Well, that's sensible enough because evaluating a lambda, I</span><span s="2911" t="know what to do. That means I apply, the procedure which is closure,"><code onclick="Z(this)">0:48:31</code>know what to do. That means I apply, the procedure which is closure,</span><span s="2923" t="binds one argument y, adds x to y, with e1 captured in it."><code onclick="Z(this)">0:48:43</code>binds one argument y, adds x to y, with e1 captured in it.</span><span s="2935" t="And you should really see this. I somehow manufactured a closure. I should&apos;ve put this here. There was one over here too."><code onclick="Z(this)">0:48:55</code>And you should really see this. I somehow manufactured a closure. I should've put this here. There was one over here too.</span><span s="2946" t="Well, there&apos;s one here now. I&apos;ve captured e1, and this is the procedure of one argument y, whatever this is."><code onclick="Z(this)">0:49:06</code>Well, there's one here now. I've captured e1, and this is the procedure of one argument y, whatever this is.</span><span s="2957" t="That&apos;s what that is there, that closure. I&apos;m going to apply that to four."><code onclick="Z(this)">0:49:17</code>That's what that is there, that closure. I'm going to apply that to four.</span><span s="2970" t="Well, that&apos;s easy enough. That means I have to make a new environment by copying"><code onclick="Z(this)">0:49:30</code>Well, that's easy enough. That means I have to make a new environment by copying</span><span s="2979" t="this pointer, which was the pointer of the procedure, which binds y equal 4 with that environment."><code onclick="Z(this)">0:49:39</code>this pointer, which was the pointer of the procedure, which binds y equal 4 with that environment.</span><span s="2989" t="And here&apos;s my new environment, which I&apos;ll call e2. And, of course, this application then is evaluate"><code onclick="Z(this)">0:49:49</code>And here's my new environment, which I'll call e2. And, of course, this application then is evaluate</span><span s="2998" t="the body in e2. So this is eval, the body, which is plus x y, in the"><code onclick="Z(this)">0:49:58</code>the body in e2. So this is eval, the body, which is plus x y, in the</span><span s="3010" t="environment e2. But this is an application, so this is the apply, of eval,"><code onclick="Z(this)">0:50:10</code>environment e2. But this is an application, so this is the apply, of eval,</span><span s="3022" t="plus in e2, an EVLIST, quote, open, x y, in e2."><code onclick="Z(this)">0:50:22</code>plus in e2, an EVLIST, quote, open, x y, in e2.</span><span s="3044" t="Well, but let&apos;s see. That is apply, the object which is a result of that and plus."><code onclick="Z(this)">0:50:44</code>Well, but let's see. That is apply, the object which is a result of that and plus.</span><span s="3054" t="So here we are in e2, plus is not here, it&apos;s not here, oh, yes, but&apos;s here as some primitive operator. So it&apos;s the primitive operator for addition."><code onclick="Z(this)">0:50:54</code>So here we are in e2, plus is not here, it's not here, oh, yes, but's here as some primitive operator. So it's the primitive operator for addition.</span><span s="3068" t="Apply that to the result of evaluating x and y in e2. But we can see that x is three and y is four."><code onclick="Z(this)">0:51:08</code>Apply that to the result of evaluating x and y in e2. But we can see that x is three and y is four.</span><span s="3078" t="So that&apos;s a three and four, here. And that magically produces for me a seven."><code onclick="Z(this)">0:51:18</code>So that's a three and four, here. And that magically produces for me a seven.</span><span s="3090" t="I wanted to go through this so you would see, essentially, one important ingredient, which is what&apos;s being passed around, and who owns what, and what his job is."><code onclick="Z(this)">0:51:30</code>I wanted to go through this so you would see, essentially, one important ingredient, which is what's being passed around, and who owns what, and what his job is.</span><span s="3100" t="So what do we have here? We have eval, and we have apply, the two main players."><code onclick="Z(this)">0:51:40</code>So what do we have here? We have eval, and we have apply, the two main players.</span><span s="3109" t="And there is a big loop the goes around like this. Which is eval produces a procedure and"><code onclick="Z(this)">0:51:49</code>And there is a big loop the goes around like this. Which is eval produces a procedure and</span><span s="3120" t="arguments for apply. Now some things eval could do by itself."><code onclick="Z(this)">0:52:00</code>arguments for apply. Now some things eval could do by itself.</span><span s="3129" t="Those are little self things here. They&apos;re not interesting. Also eval evaluates all of the arguments, one after another. That&apos;s not very interesting. Apply can apply some procedures like plus, not very"><code onclick="Z(this)">0:52:09</code>Those are little self things here. They're not interesting. Also eval evaluates all of the arguments, one after another. That's not very interesting. Apply can apply some procedures like plus, not very</span><span s="3141" t="interesting. However, if apply can&apos;t apply a procedure like plus, it produces an expression and environment for eval."><code onclick="Z(this)">0:52:21</code>interesting. However, if apply can't apply a procedure like plus, it produces an expression and environment for eval.</span><span s="3155" t="The procedural arguments wrap up essentially the state of a computation and, certainly, the expression of environment. And so what we&apos;re actually going to do next is not the"><code onclick="Z(this)">0:52:35</code>The procedural arguments wrap up essentially the state of a computation and, certainly, the expression of environment. And so what we're actually going to do next is not the</span><span s="3165" t="complete state, because it doesn&apos;t say who wants the answers. But what we&apos;re going to do-- it&apos;s always got something like an expression of environment or procedure and arguments as"><code onclick="Z(this)">0:52:45</code>complete state, because it doesn't say who wants the answers. But what we're going to do-- it's always got something like an expression of environment or procedure and arguments as</span><span s="3176" t="the main loop that we&apos;re going around. There are minor little sub loops like eval through EVLIST, or eval through evcond, or apply through a"><code onclick="Z(this)">0:52:56</code>the main loop that we're going around. There are minor little sub loops like eval through EVLIST, or eval through evcond, or apply through a</span><span s="3191" t="primitive apply. But they&apos;re not the essential things. So that&apos;s what I wanted you to see."><code onclick="Z(this)">0:53:11</code>primitive apply. But they're not the essential things. So that's what I wanted you to see.</span><span s="3201" t="Are there any questions? Yes. AUDIENCE: I&apos;m trying to understand how x got down to"><code onclick="Z(this)">0:53:21</code>Are there any questions? Yes. AUDIENCE: I'm trying to understand how x got down to</span><span s="3212" t="three instead of four. At the early part of the-- PROFESSOR: Here."><code onclick="Z(this)">0:53:32</code>three instead of four. At the early part of the-- PROFESSOR: Here.</span><span s="3221" t="You want to know how x got down to three? AUDIENCE: Because x is the outer procedure, and x and y are the inner procedure."><code onclick="Z(this)">0:53:41</code>You want to know how x got down to three? AUDIENCE: Because x is the outer procedure, and x and y are the inner procedure.</span><span s="3231" t="PROFESSOR: Fine. Well, I was very careful and mechanical. First of all, I should write those procedures again for you, pretty printed."><code onclick="Z(this)">0:53:51</code>PROFESSOR: Fine. Well, I was very careful and mechanical. First of all, I should write those procedures again for you, pretty printed.</span><span s="3240" t="First order of business, because you&apos;re probably not reading them well. So I have here that procedure of-- was it x over there--"><code onclick="Z(this)">0:54:00</code>First order of business, because you're probably not reading them well. So I have here that procedure of-- was it x over there--</span><span s="3251" t="which is-- value of that procedure of y, which adds x to y, lambda,"><code onclick="Z(this)">0:54:11</code>which is-- value of that procedure of y, which adds x to y, lambda,</span><span s="3260" t="lambda, applied that to three, takes the result of that, and applied that to four. Is that not what I wrote? Now, you should immediately see that here is an"><code onclick="Z(this)">0:54:20</code>lambda, applied that to three, takes the result of that, and applied that to four. Is that not what I wrote? Now, you should immediately see that here is an</span><span s="3274" t="application-- let me get a white piece of chalk-- here is an application, a combination."><code onclick="Z(this)">0:54:34</code>application-- let me get a white piece of chalk-- here is an application, a combination.</span><span s="3284" t="That combination has this as the operator and this as the operand. The three is going in for the x here."><code onclick="Z(this)">0:54:44</code>That combination has this as the operator and this as the operand. The three is going in for the x here.</span><span s="3294" t="The result of this is a procedure of one argument y, which gets applied to four. So you just weren&apos;t reading the expression right."><code onclick="Z(this)">0:54:54</code>The result of this is a procedure of one argument y, which gets applied to four. So you just weren't reading the expression right.</span><span s="3304" t="The way you see that over here is that here I have the actual procedure object, x."><code onclick="Z(this)">0:55:04</code>The way you see that over here is that here I have the actual procedure object, x.</span><span s="3313" t="It&apos;s getting applied to three, the list containing three. What I&apos;m left over with is something which gets applied to four."><code onclick="Z(this)">0:55:13</code>It's getting applied to three, the list containing three. What I'm left over with is something which gets applied to four.</span><span s="3324" t="Are there any other questions? Time for our next small break then. Thank you."><code onclick="Z(this)">0:55:24</code>Are there any other questions? Time for our next small break then. Thank you.</span><span s="3333" t="[MUSIC PLAYING]"><code onclick="Z(this)">0:55:33</code>[MUSIC PLAYING]</span><span s="3368" t="Let&apos;s see, at this point, you should be getting the feeling, what&apos;s this nonsense this Sussman character is feeding me?"><code onclick="Z(this)">0:56:08</code>Let's see, at this point, you should be getting the feeling, what's this nonsense this Sussman character is feeding me?</span><span s="3380" t="There&apos;s an awful lot of strange nonsense here. After all, he purported to explain to me Lisp, and he wrote me a Lisp program on the blackboard."><code onclick="Z(this)">0:56:20</code>There's an awful lot of strange nonsense here. After all, he purported to explain to me Lisp, and he wrote me a Lisp program on the blackboard.</span><span s="3390" t="The Lisp program was intended to be interpreted for Lisp, but you need a Lisp interpreter in order to understand that program. How could that program have told me anything there is to"><code onclick="Z(this)">0:56:30</code>The Lisp program was intended to be interpreted for Lisp, but you need a Lisp interpreter in order to understand that program. How could that program have told me anything there is to</span><span s="3401" t="be known about Lisp? How is that not completely vacuous? It&apos;s a very strange thing."><code onclick="Z(this)">0:56:41</code>be known about Lisp? How is that not completely vacuous? It's a very strange thing.</span><span s="3410" t="Does it tell me anything at all? Well, you see, the whole thing is sort of like these Escher&apos;s"><code onclick="Z(this)">0:56:50</code>Does it tell me anything at all? Well, you see, the whole thing is sort of like these Escher's</span><span s="3419" t="hands that we see on this slide. Yes, eval and apply each sort of draw each other and"><code onclick="Z(this)">0:56:59</code>hands that we see on this slide. Yes, eval and apply each sort of draw each other and</span><span s="3431" t="construct the real thing, which can sit out and draw itself. Escher was a very brilliant man, he just didn&apos;t know the names of these spirits."><code onclick="Z(this)">0:57:11</code>construct the real thing, which can sit out and draw itself. Escher was a very brilliant man, he just didn't know the names of these spirits.</span><span s="3443" t="Well, I&apos;m going to do now, is I&apos;m going to try to convince you that both this mean something, and, as a aside,"><code onclick="Z(this)">0:57:23</code>Well, I'm going to do now, is I'm going to try to convince you that both this mean something, and, as a aside,</span><span s="3453" t="I&apos;m going to show you why you don&apos;t need definitions. Just turns out that that sort of falls out, why definitions are not essential in a mathematical sense for doing"><code onclick="Z(this)">0:57:33</code>I'm going to show you why you don't need definitions. Just turns out that that sort of falls out, why definitions are not essential in a mathematical sense for doing</span><span s="3462" t="all the things we need to do for computing. Well, let&apos;s see here. Consider the following small program, what does it mean?"><code onclick="Z(this)">0:57:42</code>all the things we need to do for computing. Well, let's see here. Consider the following small program, what does it mean?</span><span s="3474" t="This is a program for computing exponentials."><code onclick="Z(this)">0:57:54</code>This is a program for computing exponentials.</span><span s="3487" t="The exponential of x to the nth power is if--"><code onclick="Z(this)">0:58:07</code>The exponential of x to the nth power is if--</span><span s="3496" t="and is zero, then the result is one. Otherwise, I want the product of x and the result of"><code onclick="Z(this)">0:58:16</code>and is zero, then the result is one. Otherwise, I want the product of x and the result of</span><span s="3509" t="exponentiating x to the n minus one power."><code onclick="Z(this)">0:58:29</code>exponentiating x to the n minus one power.</span><span s="3522" t="I think I got it right. Now this is a recursive definition. It&apos;s a definition of the exponentiation procedure in"><code onclick="Z(this)">0:58:42</code>I think I got it right. Now this is a recursive definition. It's a definition of the exponentiation procedure in</span><span s="3533" t="terms of itself. And, as it has been mentioned before, your high school geometry teacher probably gave you a hard time"><code onclick="Z(this)">0:58:53</code>terms of itself. And, as it has been mentioned before, your high school geometry teacher probably gave you a hard time</span><span s="3543" t="about things like that. Was that justified? Why does this self referential definition make any sense?"><code onclick="Z(this)">0:59:03</code>about things like that. Was that justified? Why does this self referential definition make any sense?</span><span s="3553" t="Well, first of all, I&apos;m going to convince you that your high school geometry teacher was I telling you nonsense. Consider the following set of definitions here."><code onclick="Z(this)">0:59:13</code>Well, first of all, I'm going to convince you that your high school geometry teacher was I telling you nonsense. Consider the following set of definitions here.</span><span s="3564" t="x plus y equals three, and x minus y equal one."><code onclick="Z(this)">0:59:24</code>x plus y equals three, and x minus y equal one.</span><span s="3573" t="Well, gee, this tells you x in terms of y, and this one tells you y in terms of x, presumably. And yet this happens to have a unique solution in x and y."><code onclick="Z(this)">0:59:33</code>Well, gee, this tells you x in terms of y, and this one tells you y in terms of x, presumably. And yet this happens to have a unique solution in x and y.</span><span s="3595" t="However, I could also write two x plus two y is six."><code onclick="Z(this)">0:59:55</code>However, I could also write two x plus two y is six.</span><span s="3606" t="These two equations have an infinite number solutions."><code onclick="Z(this)">1:00:06</code>These two equations have an infinite number solutions.</span><span s="3615" t="And I could write you, for example, x minus y equal 2, and these two equations have no solutions."><code onclick="Z(this)">1:00:15</code>And I could write you, for example, x minus y equal 2, and these two equations have no solutions.</span><span s="3629" t="Well, I have here three sets of simultaneous linear equations, this set, this set, and this set."><code onclick="Z(this)">1:00:29</code>Well, I have here three sets of simultaneous linear equations, this set, this set, and this set.</span><span s="3639" t="But they have different numbers of solutions. The number of solutions is not in the form of the equations. They all three sets have the same form."><code onclick="Z(this)">1:00:39</code>But they have different numbers of solutions. The number of solutions is not in the form of the equations. They all three sets have the same form.</span><span s="3648" t="The number of solutions is in the content. I can&apos;t tell by looking at the form of a definition whether it makes sense, only by its detailed content."><code onclick="Z(this)">1:00:48</code>The number of solutions is in the content. I can't tell by looking at the form of a definition whether it makes sense, only by its detailed content.</span><span s="3659" t="What are the coefficients, for example, in the case of linear equations? So I shouldn&apos;t expect to be able to tell looking at something like this, from some simple things like, oh yes,"><code onclick="Z(this)">1:00:59</code>What are the coefficients, for example, in the case of linear equations? So I shouldn't expect to be able to tell looking at something like this, from some simple things like, oh yes,</span><span s="3671" t="EXPT is the solution of this recursion equation. Expt is the procedure which if substituted in here,"><code onclick="Z(this)">1:01:11</code>EXPT is the solution of this recursion equation. Expt is the procedure which if substituted in here,</span><span s="3682" t="gives me EXPT back. I can&apos;t tell, looking at this form, whether or not there&apos;s a single, unique solution for EXPT, an infinite number of"><code onclick="Z(this)">1:01:22</code>gives me EXPT back. I can't tell, looking at this form, whether or not there's a single, unique solution for EXPT, an infinite number of</span><span s="3693" t="solutions, or no solutions. It&apos;s got to be how it counts and things like that, the details. And it&apos;s harder in programming than linear algebra."><code onclick="Z(this)">1:01:33</code>solutions, or no solutions. It's got to be how it counts and things like that, the details. And it's harder in programming than linear algebra.</span><span s="3702" t="There aren&apos;t too many theorems about it in programming. Well, I want to rewrite these equations a little bit, these over here."><code onclick="Z(this)">1:01:42</code>There aren't too many theorems about it in programming. Well, I want to rewrite these equations a little bit, these over here.</span><span s="3713" t="Because what we&apos;re investigating is equations like this. But I want to play a little with equations like this that we understand, just so we get some insight into"><code onclick="Z(this)">1:01:53</code>Because what we're investigating is equations like this. But I want to play a little with equations like this that we understand, just so we get some insight into</span><span s="3722" t="this kind of question. We could rewrite our equations here, say these two, the ones that are interesting, as x equals three minus y, and y"><code onclick="Z(this)">1:02:02</code>this kind of question. We could rewrite our equations here, say these two, the ones that are interesting, as x equals three minus y, and y</span><span s="3737" t="equals x minus one. What do we call this transformation? This is a linear transformation, t."><code onclick="Z(this)">1:02:17</code>equals x minus one. What do we call this transformation? This is a linear transformation, t.</span><span s="3749" t="Then what we&apos;re getting here is an equation x y equals t of x y."><code onclick="Z(this)">1:02:29</code>Then what we're getting here is an equation x y equals t of x y.</span><span s="3762" t="What am I looking for? I&apos;m looking for a fixed point of t. The solution is a fixed point of t."><code onclick="Z(this)">1:02:42</code>What am I looking for? I'm looking for a fixed point of t. The solution is a fixed point of t.</span><span s="3781" t="So the methods we should have for looking for solutions to equations, if I can do it by fixed points, might be applicable."><code onclick="Z(this)">1:03:01</code>So the methods we should have for looking for solutions to equations, if I can do it by fixed points, might be applicable.</span><span s="3790" t="If I have a means of finding a solution to an equations by fixed points-- just, might not work-- but it might be applicable to investigating solutions of"><code onclick="Z(this)">1:03:10</code>If I have a means of finding a solution to an equations by fixed points-- just, might not work-- but it might be applicable to investigating solutions of</span><span s="3801" t="equations like this. But what I want you to feel is that this is an equation."><code onclick="Z(this)">1:03:21</code>equations like this. But what I want you to feel is that this is an equation.</span><span s="3810" t="It&apos;s an expression with several instances of various names which puts a constraint on the name, saying what that"><code onclick="Z(this)">1:03:30</code>It's an expression with several instances of various names which puts a constraint on the name, saying what that</span><span s="3819" t="name could have as its value, rather than some sort of mechanical process of substitution right now. This is an equation which I&apos;m going to try to solve."><code onclick="Z(this)">1:03:39</code>name could have as its value, rather than some sort of mechanical process of substitution right now. This is an equation which I'm going to try to solve.</span><span s="3831" t="Well, let&apos;s play around and solve it. First of all, I want to write down the function which corresponds to t."><code onclick="Z(this)">1:03:51</code>Well, let's play around and solve it. First of all, I want to write down the function which corresponds to t.</span><span s="3840" t="First I want to write down the function which corresponds to t whose fixed point is the answer to this question."><code onclick="Z(this)">1:04:00</code>First I want to write down the function which corresponds to t whose fixed point is the answer to this question.</span><span s="3851" t="Well, let&apos;s consider the following procedure f. I claim it computes that function. f is that procedure of one argument g, which is that"><code onclick="Z(this)">1:04:11</code>Well, let's consider the following procedure f. I claim it computes that function. f is that procedure of one argument g, which is that</span><span s="3866" t="procedure of two arguments x and n. Which have the property that if n is zero, then the result"><code onclick="Z(this)">1:04:26</code>procedure of two arguments x and n. Which have the property that if n is zero, then the result</span><span s="3882" t="is one, otherwise, the result is the product of x and g,"><code onclick="Z(this)">1:04:42</code>is one, otherwise, the result is the product of x and g,</span><span s="3896" t="applied to x, and minus n1. g, times, else, COND, lambda, lambda--"><code onclick="Z(this)">1:04:56</code>applied to x, and minus n1. g, times, else, COND, lambda, lambda--</span><span s="3911" t="Here f is a procedure, which if I had a solution to that equation, if I had a good exponentiation procedure, and"><code onclick="Z(this)">1:05:11</code>Here f is a procedure, which if I had a solution to that equation, if I had a good exponentiation procedure, and</span><span s="3923" t="I applied f to that procedure, then the result would be a good exponentiation procedure."><code onclick="Z(this)">1:05:23</code>I applied f to that procedure, then the result would be a good exponentiation procedure.</span><span s="3937" t="Because, what does it do? Well, all it is is exposing g were a good exponentiation procedure, well then this would produce, as its value, a"><code onclick="Z(this)">1:05:37</code>Because, what does it do? Well, all it is is exposing g were a good exponentiation procedure, well then this would produce, as its value, a</span><span s="3948" t="procedure to arguments x and n, such that if n were 0, the result would be one, which is certainly true of exponentiation. Otherwise, it will be the result of multiplying x by the"><code onclick="Z(this)">1:05:48</code>procedure to arguments x and n, such that if n were 0, the result would be one, which is certainly true of exponentiation. Otherwise, it will be the result of multiplying x by the</span><span s="3957" t="exponentiation procedure given to me with x and n minus one as arguments. So if this computed the correct exponentiation for n minus one, then this would be the correct exponentiation for"><code onclick="Z(this)">1:05:57</code>exponentiation procedure given to me with x and n minus one as arguments. So if this computed the correct exponentiation for n minus one, then this would be the correct exponentiation for</span><span s="3970" t="exponent n, so this would have been the right exponentiation procedure. So what I really want to say here is E-X-P-T is a fixed"><code onclick="Z(this)">1:06:10</code>exponent n, so this would have been the right exponentiation procedure. So what I really want to say here is E-X-P-T is a fixed</span><span s="3986" t="point of f."><code onclick="Z(this)">1:06:26</code>point of f.</span><span s="3997" t="Now our problem is there might be more than one fixed point. There might be no fixed points. I have to go hunting for the fixed points."><code onclick="Z(this)">1:06:37</code>Now our problem is there might be more than one fixed point. There might be no fixed points. I have to go hunting for the fixed points.</span><span s="4008" t="Got to solve this equation. Well there are various ways to hunt for fixed points. Of course, the one we played with at the beginning of this"><code onclick="Z(this)">1:06:48</code>Got to solve this equation. Well there are various ways to hunt for fixed points. Of course, the one we played with at the beginning of this</span><span s="4018" t="term worked for cosine. Go into radians mode on your calculator and push cosine,"><code onclick="Z(this)">1:06:58</code>term worked for cosine. Go into radians mode on your calculator and push cosine,</span><span s="4029" t="and just keep doing it, and you get to some number which is about 0.73 or 0.74. I can&apos;t remember which."><code onclick="Z(this)">1:07:09</code>and just keep doing it, and you get to some number which is about 0.73 or 0.74. I can't remember which.</span><span s="4042" t="By iterating a function, whose fixed point I&apos;m searching for, it is sometimes the case that that function will converge in"><code onclick="Z(this)">1:07:22</code>By iterating a function, whose fixed point I'm searching for, it is sometimes the case that that function will converge in</span><span s="4052" t="producing the fixed point. I think we luck out in this case, so let&apos;s look for it. Let&apos;s look at this slide."><code onclick="Z(this)">1:07:32</code>producing the fixed point. I think we luck out in this case, so let's look for it. Let's look at this slide.</span><span s="4068" t="Consider the following sequence of procedures. e0 over here is the procedure which does nothing at all."><code onclick="Z(this)">1:07:48</code>Consider the following sequence of procedures. e0 over here is the procedure which does nothing at all.</span><span s="4082" t="It&apos;s the procedure which produces an error for any arguments you give it. It&apos;s basically useless."><code onclick="Z(this)">1:08:02</code>It's the procedure which produces an error for any arguments you give it. It's basically useless.</span><span s="4094" t="Well, however, I can make an approximation. Let&apos;s consider it the worst possible approximation to exponentiation, because it does nothing."><code onclick="Z(this)">1:08:14</code>Well, however, I can make an approximation. Let's consider it the worst possible approximation to exponentiation, because it does nothing.</span><span s="4106" t="Well, supposing I substituted e0 for g by calling f, as you see over here on e0."><code onclick="Z(this)">1:08:26</code>Well, supposing I substituted e0 for g by calling f, as you see over here on e0.</span><span s="4117" t="So you see over here, have e0 there. Then gee, what&apos;s e1? e1 is a procedure which exponentiate things to the 0th"><code onclick="Z(this)">1:08:37</code>So you see over here, have e0 there. Then gee, what's e1? e1 is a procedure which exponentiate things to the 0th</span><span s="4127" t="power, with no trouble. It gets the right answer, anything to the zero is one, and it makes an error on anything else."><code onclick="Z(this)">1:08:47</code>power, with no trouble. It gets the right answer, anything to the zero is one, and it makes an error on anything else.</span><span s="4137" t="Well, now what if I take e1 and I substitute if for g by"><code onclick="Z(this)">1:08:57</code>Well, now what if I take e1 and I substitute if for g by</span><span s="4146" t="calling f on e1? Oh gosh, I have here a procedure of two arguments."><code onclick="Z(this)">1:09:06</code>calling f on e1? Oh gosh, I have here a procedure of two arguments.</span><span s="4155" t="Now remember e1 was appropriate for taking exponentiations of 0, for raising to the 0 exponent."><code onclick="Z(this)">1:09:15</code>Now remember e1 was appropriate for taking exponentiations of 0, for raising to the 0 exponent.</span><span s="4164" t="So here, is n is 0, the result is one, so this guy is good for that too. However, I can use something for raising to the 0th power to multiply it by x to raise something to the first power."><code onclick="Z(this)">1:09:24</code>So here, is n is 0, the result is one, so this guy is good for that too. However, I can use something for raising to the 0th power to multiply it by x to raise something to the first power.</span><span s="4175" t="So e2 is good for both power 0 and one. And e3 is constructed from e2 in the same way."><code onclick="Z(this)">1:09:35</code>So e2 is good for both power 0 and one. And e3 is constructed from e2 in the same way.</span><span s="4187" t="And e3, of course, by the same argument is good for powers 0, one, and two. And so I will assert for you, without proof, because the"><code onclick="Z(this)">1:09:47</code>And e3, of course, by the same argument is good for powers 0, one, and two. And so I will assert for you, without proof, because the</span><span s="4200" t="proof is horribly difficult. And that&apos;s the sort of thing that people called denotational semanticists do. This great idea was invented by Scott and Strachey."><code onclick="Z(this)">1:10:00</code>proof is horribly difficult. And that's the sort of thing that people called denotational semanticists do. This great idea was invented by Scott and Strachey.</span><span s="4214" t="They&apos;re very famous mathematician types who invented the interpretation for these programs that we have that I&apos;m talking to you about right now."><code onclick="Z(this)">1:10:14</code>They're very famous mathematician types who invented the interpretation for these programs that we have that I'm talking to you about right now.</span><span s="4224" t="And they proved, by topology that there is such a fixed point in the cases that we want. But the assertion is E-X-P-T is limit as n goes"><code onclick="Z(this)">1:10:24</code>And they proved, by topology that there is such a fixed point in the cases that we want. But the assertion is E-X-P-T is limit as n goes</span><span s="4241" t="to infinity of em. and And that we&apos;ve constructed this by the following way."><code onclick="Z(this)">1:10:41</code>to infinity of em. and And that we've constructed this by the following way.</span><span s="4250" t="--is Well, it&apos;s f of, f of, f of, f of, f of-- f applied to anything at all."><code onclick="Z(this)">1:10:50</code>--is Well, it's f of, f of, f of, f of, f of-- f applied to anything at all.</span><span s="4261" t="It didn&apos;t matter what that was, because, in fact, this always produces an error. Applied to this--"><code onclick="Z(this)">1:11:01</code>It didn't matter what that was, because, in fact, this always produces an error. Applied to this--</span><span s="4272" t="That&apos;s by infinite nesting of f&apos;s. So now my problem is to make some infinite things."><code onclick="Z(this)">1:11:12</code>That's by infinite nesting of f's. So now my problem is to make some infinite things.</span><span s="4282" t="We need some infinite things. How am I going to nest up an f an infinite number of times? I&apos;d better construct this."><code onclick="Z(this)">1:11:22</code>We need some infinite things. How am I going to nest up an f an infinite number of times? I'd better construct this.</span><span s="4292" t="Well, I don&apos;t know. How would I make an infinite loop at all? Let&apos;s take a very simple infinite loop, the simplest infinite loop imaginable."><code onclick="Z(this)">1:11:32</code>Well, I don't know. How would I make an infinite loop at all? Let's take a very simple infinite loop, the simplest infinite loop imaginable.</span><span s="4303" t="If I were to take that procedure of one argument x which applies x to x and apply that to the procedure of one"><code onclick="Z(this)">1:11:43</code>If I were to take that procedure of one argument x which applies x to x and apply that to the procedure of one</span><span s="4317" t="argument x which applies x to x, then this is an infinite loop."><code onclick="Z(this)">1:11:57</code>argument x which applies x to x, then this is an infinite loop.</span><span s="4327" t="The reason why this is an infinite loop is as follows. The way I understand this is I substitute the argument for the formal parameter in the body."><code onclick="Z(this)">1:12:07</code>The reason why this is an infinite loop is as follows. The way I understand this is I substitute the argument for the formal parameter in the body.</span><span s="4338" t="But if I do that, I take for each of these x&apos;s, I substitute one of these, making a copy of the original expression I just started with, the"><code onclick="Z(this)">1:12:18</code>But if I do that, I take for each of these x's, I substitute one of these, making a copy of the original expression I just started with, the</span><span s="4348" t="simplest infinite loop. Now I want to tell you about a particular operator which is"><code onclick="Z(this)">1:12:28</code>simplest infinite loop. Now I want to tell you about a particular operator which is</span><span s="4360" t="constructed by a perturbation from this infinite loop. I&apos;ll call it y."><code onclick="Z(this)">1:12:40</code>constructed by a perturbation from this infinite loop. I'll call it y.</span><span s="4372" t="This is called Curry&apos;s Paradoxical Combinator of y after a fellow by the name of Curry, who was a logician of the 1930s also."><code onclick="Z(this)">1:12:52</code>This is called Curry's Paradoxical Combinator of y after a fellow by the name of Curry, who was a logician of the 1930s also.</span><span s="4384" t="And if I have a procedure of one argument f, what&apos;s it going to have in it? It&apos;s going to have a kind of infinite loop in it, which is"><code onclick="Z(this)">1:13:04</code>And if I have a procedure of one argument f, what's it going to have in it? It's going to have a kind of infinite loop in it, which is</span><span s="4393" t="that procedure of one argument x which applies f to x of x, applied to that procedure of one argument x, which applies"><code onclick="Z(this)">1:13:13</code>that procedure of one argument x which applies f to x of x, applied to that procedure of one argument x, which applies</span><span s="4405" t="f to f of x. Now what&apos;s this do?"><code onclick="Z(this)">1:13:25</code>f to f of x. Now what's this do?</span><span s="4414" t="Suppose we apply y to F. Well, that&apos;s easy enough. That&apos;s this capital F over here."><code onclick="Z(this)">1:13:34</code>Suppose we apply y to F. Well, that's easy enough. That's this capital F over here.</span><span s="4426" t="Well, the easiest thing to say there is, I substitute F for here."><code onclick="Z(this)">1:13:46</code>Well, the easiest thing to say there is, I substitute F for here.</span><span s="4435" t="So that&apos;s going to give me, basically-- because then I&apos;m going to substitute this for x in here."><code onclick="Z(this)">1:13:55</code>So that's going to give me, basically-- because then I'm going to substitute this for x in here.</span><span s="4448" t="Let me actually do it in steps, so you can see it completely. I&apos;m going to be very careful. This is open, open, lambda of x , capital F, x, x, applied"><code onclick="Z(this)">1:14:08</code>Let me actually do it in steps, so you can see it completely. I'm going to be very careful. This is open, open, lambda of x , capital F, x, x, applied</span><span s="4467" t="to itself, F of x of x."><code onclick="Z(this)">1:14:27</code>to itself, F of x of x.</span><span s="4477" t="Substituting this for this in here, this is F applied to-- what is it--"><code onclick="Z(this)">1:14:37</code>Substituting this for this in here, this is F applied to-- what is it--</span><span s="4487" t="substituting this in here, open, open, lambda of x, F, of x and x, applied to lambda of x, F of x of x, F, lambda,"><code onclick="Z(this)">1:14:47</code>substituting this in here, open, open, lambda of x, F, of x and x, applied to lambda of x, F of x of x, F, lambda,</span><span s="4508" t="pair, F. Oh, but what is this? This thing over here that I just computed, is"><code onclick="Z(this)">1:15:08</code>pair, F. Oh, but what is this? This thing over here that I just computed, is</span><span s="4517" t="this thing over here. But I just wrapped another F around it. So by applying y to F, I make an infinite series of F&apos;s."><code onclick="Z(this)">1:15:17</code>this thing over here. But I just wrapped another F around it. So by applying y to F, I make an infinite series of F's.</span><span s="4527" t="If I just let this run forever, I&apos;ll just keep making more and more F&apos;s outside. I ran an infinite loop which is useless, but it doesn&apos;t matter that the inside is useless."><code onclick="Z(this)">1:15:27</code>If I just let this run forever, I'll just keep making more and more F's outside. I ran an infinite loop which is useless, but it doesn't matter that the inside is useless.</span><span s="4540" t="So y of F is F applied to y of F. So y is a magical thing"><code onclick="Z(this)">1:15:40</code>So y of F is F applied to y of F. So y is a magical thing</span><span s="4553" t="which, when applied to some function, produces the object which is the fixed point of that function, if it exists,"><code onclick="Z(this)">1:15:53</code>which, when applied to some function, produces the object which is the fixed point of that function, if it exists,</span><span s="4563" t="and if this all works. Because, indeed, if I take y of F and put it into F, I get y of F out."><code onclick="Z(this)">1:16:03</code>and if this all works. Because, indeed, if I take y of F and put it into F, I get y of F out.</span><span s="4576" t="Now I want you to think this in terms of the eval-apply interpreter for a bit. I wrote down a whole bunch of recursion equations out there."><code onclick="Z(this)">1:16:16</code>Now I want you to think this in terms of the eval-apply interpreter for a bit. I wrote down a whole bunch of recursion equations out there.</span><span s="4588" t="They&apos;re simultaneous in the same way these are simultaneous equations. Exponentiation was not a simultaneous equation. It was only one variable I was looking for a meaning for."><code onclick="Z(this)">1:16:28</code>They're simultaneous in the same way these are simultaneous equations. Exponentiation was not a simultaneous equation. It was only one variable I was looking for a meaning for.</span><span s="4598" t="But what Lisp is is the fixed point of the process which says, if I knew what Lisp was and substituted it in for eval, and apply, and so on, on the right hand sides of all"><code onclick="Z(this)">1:16:38</code>But what Lisp is is the fixed point of the process which says, if I knew what Lisp was and substituted it in for eval, and apply, and so on, on the right hand sides of all</span><span s="4607" t="those recursion equations, then if it was a real good Lisp, is a real one, then the left hand side would also be Lisp."><code onclick="Z(this)">1:16:47</code>those recursion equations, then if it was a real good Lisp, is a real one, then the left hand side would also be Lisp.</span><span s="4618" t="So I made sense of that definition. Now whether or not there&apos;s an answer isn&apos;t so obvious. I can&apos;t attack that."><code onclick="Z(this)">1:16:58</code>So I made sense of that definition. Now whether or not there's an answer isn't so obvious. I can't attack that.</span><span s="4627" t="Now these arguments that I&apos;m giving you now are quite dangerous. Let&apos;s look over here. These are limit arguments. We&apos;re talking about limits, and it&apos;s really calculus, or"><code onclick="Z(this)">1:17:07</code>Now these arguments that I'm giving you now are quite dangerous. Let's look over here. These are limit arguments. We're talking about limits, and it's really calculus, or</span><span s="4637" t="topology, or something like that, a kind of analysis. Now here&apos;s an argument that you all believe. And I want to make sure you realize that I could be"><code onclick="Z(this)">1:17:17</code>topology, or something like that, a kind of analysis. Now here's an argument that you all believe. And I want to make sure you realize that I could be</span><span s="4647" t="bullshitting you. What is this? u is the sum of 1/2, 1/4, and 1/8, and so on, the sum of a"><code onclick="Z(this)">1:17:27</code>bullshitting you. What is this? u is the sum of 1/2, 1/4, and 1/8, and so on, the sum of a</span><span s="4660" t="geometric series. And, of course, I could play a game here. u minus one is 1/2, plus 1/4, plus 1/8, and so on."><code onclick="Z(this)">1:17:40</code>geometric series. And, of course, I could play a game here. u minus one is 1/2, plus 1/4, plus 1/8, and so on.</span><span s="4673" t="What I could do here-- oops. There is a parentheses error here. But I can put here two times u minus one is one plus 1/2,"><code onclick="Z(this)">1:17:53</code>What I could do here-- oops. There is a parentheses error here. But I can put here two times u minus one is one plus 1/2,</span><span s="4682" t="plus 1/4, plus 1/8. Can I fix that?"><code onclick="Z(this)">1:18:02</code>plus 1/4, plus 1/8. Can I fix that?</span><span s="4694" t="Yes, well. But that gives me back two times u minus one is u,"><code onclick="Z(this)">1:18:14</code>Yes, well. But that gives me back two times u minus one is u,</span><span s="4707" t="therefore, we conclude that u is two. And this actually is true. There&apos;s no problem like that. But supposing I did something different."><code onclick="Z(this)">1:18:27</code>therefore, we conclude that u is two. And this actually is true. There's no problem like that. But supposing I did something different.</span><span s="4718" t="Supposing I start up with something which manifestly has no sum. v is one, plus two, plus four, plus 8, plus dot, dot, dot."><code onclick="Z(this)">1:18:38</code>Supposing I start up with something which manifestly has no sum. v is one, plus two, plus four, plus 8, plus dot, dot, dot.</span><span s="4727" t="Well, v minus one is surely two, plus four, plus eight, plus dot, dot, dot. v minus one over two, gee, that looks like v again."><code onclick="Z(this)">1:18:47</code>Well, v minus one is surely two, plus four, plus eight, plus dot, dot, dot. v minus one over two, gee, that looks like v again.</span><span s="4737" t="From that I should be able to conclude that-- that&apos;s also wrong, apparently. v equals minus one."><code onclick="Z(this)">1:18:57</code>From that I should be able to conclude that-- that's also wrong, apparently. v equals minus one.</span><span s="4752" t="That should be a minus one. And that&apos;s certainly a false conclusion."><code onclick="Z(this)">1:19:12</code>That should be a minus one. And that's certainly a false conclusion.</span><span s="4762" t="So when you play with limits, arguments that may work in one case they may not work in some other case. You have to be very careful."><code onclick="Z(this)">1:19:22</code>So when you play with limits, arguments that may work in one case they may not work in some other case. You have to be very careful.</span><span s="4772" t="The arguments have to be well formed. And I don&apos;t know, in general, what the story is about arguments like this."><code onclick="Z(this)">1:19:32</code>The arguments have to be well formed. And I don't know, in general, what the story is about arguments like this.</span><span s="4783" t="We can read a pile of topology and find out. But, surely, at least you understand now, why it might be some meaning to the things we&apos;ve been writing on the"><code onclick="Z(this)">1:19:43</code>We can read a pile of topology and find out. But, surely, at least you understand now, why it might be some meaning to the things we've been writing on the</span><span s="4792" t="blackboard. And you understand what that might mean. So, I suppose, it&apos;s almost about time for you to merit"><code onclick="Z(this)">1:19:52</code>blackboard. And you understand what that might mean. So, I suppose, it's almost about time for you to merit</span><span s="4802" t="being made a member of the grand recursive order of lambda calculus hackers. This is the badge. Because you now understand, for example, what it says at"><code onclick="Z(this)">1:20:02</code>being made a member of the grand recursive order of lambda calculus hackers. This is the badge. Because you now understand, for example, what it says at</span><span s="4814" t="the very top, y F equals F y F. Thank you. Are there any questions?"><code onclick="Z(this)">1:20:14</code>the very top, y F equals F y F. Thank you. Are there any questions?</span><span s="4824" t="Yes, Lev. AUDIENCE: With this, it seems that then there&apos;s no need to define, as you imply, to just remember a value, to apply it later."><code onclick="Z(this)">1:20:24</code>Yes, Lev. AUDIENCE: With this, it seems that then there's no need to define, as you imply, to just remember a value, to apply it later.</span><span s="4834" t="Defines were kind of a side-effect it seemed in the language. [INTERPOSING] are order dependent. Does this eliminate the side-effect from the [INTERPOSING]"><code onclick="Z(this)">1:20:34</code>Defines were kind of a side-effect it seemed in the language. [INTERPOSING] are order dependent. Does this eliminate the side-effect from the [INTERPOSING]</span><span s="4843" t="PROFESSOR: The answer is, this is not the way these things were implemented. Define, indeed is implemented as an operation that actually"><code onclick="Z(this)">1:20:43</code>PROFESSOR: The answer is, this is not the way these things were implemented. Define, indeed is implemented as an operation that actually</span><span s="4853" t="modifies an environment structure, changes the frame that the define is executed in."><code onclick="Z(this)">1:20:53</code>modifies an environment structure, changes the frame that the define is executed in.</span><span s="4863" t="And there are many reasons for that, but a lot of this has to do with making an interactive system. What this is saying is that if you&apos;ve made a system, and you"><code onclick="Z(this)">1:21:03</code>And there are many reasons for that, but a lot of this has to do with making an interactive system. What this is saying is that if you've made a system, and you</span><span s="4874" t="know you&apos;re not going to do any debugging or anything like that, and you know everything there is all at once, and you want to say, what is the meaning of a final set of equations?"><code onclick="Z(this)">1:21:14</code>know you're not going to do any debugging or anything like that, and you know everything there is all at once, and you want to say, what is the meaning of a final set of equations?</span><span s="4884" t="This gives you a meaning for it. But in order to make an interactive system, where you can change the meaning of one thing without changing everything else, incrementally, you can&apos;t do"><code onclick="Z(this)">1:21:24</code>This gives you a meaning for it. But in order to make an interactive system, where you can change the meaning of one thing without changing everything else, incrementally, you can't do</span><span s="4893" t="that by implementing it this way. Yes. AUDIENCE: Another question on your danger slide."><code onclick="Z(this)">1:21:33</code>that by implementing it this way. Yes. AUDIENCE: Another question on your danger slide.</span><span s="4904" t="It seemed that the two examples that you gave had to do with convergence and non-convergence? And that may or may not have something to do with function"><code onclick="Z(this)">1:21:44</code>It seemed that the two examples that you gave had to do with convergence and non-convergence? And that may or may not have something to do with function</span><span s="4913" t="theory in a way which would lead you to think of it in terms of linear systems, or non-linear systems. How does this convergence relate to being able to see a priori"><code onclick="Z(this)">1:21:53</code>theory in a way which would lead you to think of it in terms of linear systems, or non-linear systems. How does this convergence relate to being able to see a priori</span><span s="4923" t="what properties of that might be violated? PROFESSOR: I don&apos;t know. The answer is, I don&apos;t know under what circumstances. I don&apos;t know how to translate that into less than an"><code onclick="Z(this)">1:22:03</code>what properties of that might be violated? PROFESSOR: I don't know. The answer is, I don't know under what circumstances. I don't know how to translate that into less than an</span><span s="4933" t="hour of talk more. What are the conditions under which, for which we know that these things converge?"><code onclick="Z(this)">1:22:13</code>hour of talk more. What are the conditions under which, for which we know that these things converge?</span><span s="4942" t="And v, all that was telling you that arguments that are based on convergence are flaky if you don&apos;t know the convergence beforehand."><code onclick="Z(this)">1:22:22</code>And v, all that was telling you that arguments that are based on convergence are flaky if you don't know the convergence beforehand.</span><span s="4952" t="You can make wrong arguments. You can make deductions, as if you know the answer, and not be stopped somewhere by some obvious contradiction. AUDIENCE: So can we say then that if F is a convergent"><code onclick="Z(this)">1:22:32</code>You can make wrong arguments. You can make deductions, as if you know the answer, and not be stopped somewhere by some obvious contradiction. AUDIENCE: So can we say then that if F is a convergent</span><span s="4963" t="mathematical expression, then the recursion property can be-- PROFESSOR: Well, I think there&apos;s a technical kind of F,"><code onclick="Z(this)">1:22:43</code>mathematical expression, then the recursion property can be-- PROFESSOR: Well, I think there's a technical kind of F,</span><span s="4972" t="there is a technical description of those F&apos;s that have the property that when you iteratively apply them like this, you converge."><code onclick="Z(this)">1:22:52</code>there is a technical description of those F's that have the property that when you iteratively apply them like this, you converge.</span><span s="4983" t="Things that are monotonic, and continuous, and I forgot what else. There is a whole bunch of little conditions like that"><code onclick="Z(this)">1:23:03</code>Things that are monotonic, and continuous, and I forgot what else. There is a whole bunch of little conditions like that</span><span s="4992" t="which have this property. Now the real problem is deducing from looking at the F, its definition here, whether not it has those properties, and that&apos;s very hard."><code onclick="Z(this)">1:23:12</code>which have this property. Now the real problem is deducing from looking at the F, its definition here, whether not it has those properties, and that's very hard.</span><span s="5002" t="The properties are easy. You can write them down. You can look in a book by Joe Stoy. It&apos;s a great book-- Stoy."><code onclick="Z(this)">1:23:22</code>The properties are easy. You can write them down. You can look in a book by Joe Stoy. It's a great book-- Stoy.</span><span s="5011" t="It&apos;s called, The Scott-Strachey Method of Denotational Semantics, and it&apos;s by Joe Stoy, MIT Press."><code onclick="Z(this)">1:23:31</code>It's called, The Scott-Strachey Method of Denotational Semantics, and it's by Joe Stoy, MIT Press.</span><span s="5027" t="And he works out all this in great detail, enough to horrify you. But it really is readable."><code onclick="Z(this)">1:23:47</code>And he works out all this in great detail, enough to horrify you. But it really is readable.</span><span s="5049" t="OK, well, thank you. Time for the bigger break, I suppose."><code onclick="Z(this)">1:24:09</code>OK, well, thank you. Time for the bigger break, I suppose.</span></div><div class="eventlist" side="R" vid="t5EI5fXX8K0"><h5><code onclick="Z(this)">0:00:00</code>Lecture 7B | MIT 6.001 Structure and Interpretation, 1986</h5><span s="0" t=" [MUSIC PLAYING]"><code onclick="Z(this)">0:00:00</code> [MUSIC PLAYING]</span><span s="16" t="PROFESSOR: Well, let&apos;s see. What we did so far was a lot of fun, was it useful for anything?"><code onclick="Z(this)">0:00:16</code>PROFESSOR: Well, let's see. What we did so far was a lot of fun, was it useful for anything?</span><span s="26" t="I suppose the answer is going to be yes. If these metacircular interpreters are a valuable thing to play with."><code onclick="Z(this)">0:00:26</code>I suppose the answer is going to be yes. If these metacircular interpreters are a valuable thing to play with.</span><span s="38" t="Well, there have been times I spend 50% of my time, over a year, trying various design alternatives by experimenting with them with metacircular interpreters--"><code onclick="Z(this)">0:00:38</code>Well, there have been times I spend 50% of my time, over a year, trying various design alternatives by experimenting with them with metacircular interpreters--</span><span s="49" t="metacircular interpreters like the sort you just saw. Metacircular is because they are defined in terms of themselves in such a way that the language they interpret"><code onclick="Z(this)">0:00:49</code>metacircular interpreters like the sort you just saw. Metacircular is because they are defined in terms of themselves in such a way that the language they interpret</span><span s="58" t="contains itself. Such interpreters are a convenient medium for exploring language issues. If you want to try adding a new feature, it&apos;s sort of a"><code onclick="Z(this)">0:00:58</code>contains itself. Such interpreters are a convenient medium for exploring language issues. If you want to try adding a new feature, it's sort of a</span><span s="71" t="snap, it&apos;s easy, you just do it and see what happens. You play with that language for a while you say, gee, I&apos;m didn&apos;t like that, you throw it away."><code onclick="Z(this)">0:01:11</code>snap, it's easy, you just do it and see what happens. You play with that language for a while you say, gee, I'm didn't like that, you throw it away.</span><span s="81" t="Or you might want to see what the difference is if you&apos;d make a slight difference in the binding strategy, or some"><code onclick="Z(this)">0:01:21</code>Or you might want to see what the difference is if you'd make a slight difference in the binding strategy, or some</span><span s="90" t="more complicated things that might occur. In fact, these metacircular interpreters are an excellent medium for people exchanging ideas about language design,"><code onclick="Z(this)">0:01:30</code>more complicated things that might occur. In fact, these metacircular interpreters are an excellent medium for people exchanging ideas about language design,</span><span s="104" t="because they&apos;re pretty easy to understand, and they&apos;re short, and compact, and simple. If I have some idea that I want somebody to criticize"><code onclick="Z(this)">0:01:44</code>because they're pretty easy to understand, and they're short, and compact, and simple. If I have some idea that I want somebody to criticize</span><span s="114" t="like say, Dan Friedman at Indiana, I&apos;d write a little metacircular interpreter and send him some network mail"><code onclick="Z(this)">0:01:54</code>like say, Dan Friedman at Indiana, I'd write a little metacircular interpreter and send him some network mail</span><span s="124" t="with this interpreter in it. He could whip it up on his machine and play with it and say, that&apos;s no good. And then send it back to me and say, well, why don&apos;t you"><code onclick="Z(this)">0:02:04</code>with this interpreter in it. He could whip it up on his machine and play with it and say, that's no good. And then send it back to me and say, well, why don't you</span><span s="133" t="try this one, it&apos;s a little better. So I want to show you some of that technology. See, because, really, it&apos;s the essential, simple technology"><code onclick="Z(this)">0:02:13</code>try this one, it's a little better. So I want to show you some of that technology. See, because, really, it's the essential, simple technology</span><span s="144" t="for getting started in designing your own languages for particular purposes. Let&apos;s start by adding a very simple feature to a Lisp."><code onclick="Z(this)">0:02:24</code>for getting started in designing your own languages for particular purposes. Let's start by adding a very simple feature to a Lisp.</span><span s="160" t="Now, one thing I want to tell you about is features, before I start."><code onclick="Z(this)">0:02:40</code>Now, one thing I want to tell you about is features, before I start.</span><span s="169" t="There are many languages that have made a mess of themselves by adding huge numbers of features. Computer scientists have a joke about bugs that transform"><code onclick="Z(this)">0:02:49</code>There are many languages that have made a mess of themselves by adding huge numbers of features. Computer scientists have a joke about bugs that transform</span><span s="180" t="it to features all the time. But I like to think of it is that many systems suffer from"><code onclick="Z(this)">0:03:00</code>it to features all the time. But I like to think of it is that many systems suffer from</span><span s="190" t="what&apos;s called creeping featurism. Which is that George has a pet feature he&apos;d like in the system, so he adds it."><code onclick="Z(this)">0:03:10</code>what's called creeping featurism. Which is that George has a pet feature he'd like in the system, so he adds it.</span><span s="200" t="And then Harry says, gee, this system is no longer what exactly I like, so I&apos;m going to add my favorite feature. And then Jim adds his favorite feature."><code onclick="Z(this)">0:03:20</code>And then Harry says, gee, this system is no longer what exactly I like, so I'm going to add my favorite feature. And then Jim adds his favorite feature.</span><span s="210" t="And, after a while, the thing has a manual 500 pages long that no one can understand. And sometimes it&apos;s the same person who writes all of these"><code onclick="Z(this)">0:03:30</code>And, after a while, the thing has a manual 500 pages long that no one can understand. And sometimes it's the same person who writes all of these</span><span s="220" t="features and produces this terribly complicated thing. In some cases, like editors, it&apos;s sort of reasonable to have lots of features, because there are a lot of things you"><code onclick="Z(this)">0:03:40</code>features and produces this terribly complicated thing. In some cases, like editors, it's sort of reasonable to have lots of features, because there are a lot of things you</span><span s="231" t="want to be able to do and many of them arbitrary. But in computer languages, I think it&apos;s a disaster to have"><code onclick="Z(this)">0:03:51</code>want to be able to do and many of them arbitrary. But in computer languages, I think it's a disaster to have</span><span s="240" t="too much stuff in them. The other alternative you get into is something called feeping creaturism, which is where you have a box which has"><code onclick="Z(this)">0:04:00</code>too much stuff in them. The other alternative you get into is something called feeping creaturism, which is where you have a box which has</span><span s="252" t="a display, a fancy display, and a mouse, and there is all sorts of complexity associated with all this fancy IO."><code onclick="Z(this)">0:04:12</code>a display, a fancy display, and a mouse, and there is all sorts of complexity associated with all this fancy IO.</span><span s="261" t="And your computer language becomes a dismal, little, tiny thing that barely works because of all the swapping, and disk twitching, and so on, caused by your Windows system."><code onclick="Z(this)">0:04:21</code>And your computer language becomes a dismal, little, tiny thing that barely works because of all the swapping, and disk twitching, and so on, caused by your Windows system.</span><span s="270" t="And every time you go near the computer, the mouse process wakes up and says, gee do you have something for me to do, and then it goes back to sleep. And if you accidentally push mouse with you elbow, a big"><code onclick="Z(this)">0:04:30</code>And every time you go near the computer, the mouse process wakes up and says, gee do you have something for me to do, and then it goes back to sleep. And if you accidentally push mouse with you elbow, a big</span><span s="280" t="puff of smoke comes out of your computer and things like that. So two ways to disastrously destroy a system by adding features. But try right now to add a little, simple feature."><code onclick="Z(this)">0:04:40</code>puff of smoke comes out of your computer and things like that. So two ways to disastrously destroy a system by adding features. But try right now to add a little, simple feature.</span><span s="292" t="This actually is a good one, and in fact, real Lisps have it. As you&apos;ve seen, there are procedures like plus and times"><code onclick="Z(this)">0:04:52</code>This actually is a good one, and in fact, real Lisps have it. As you've seen, there are procedures like plus and times</span><span s="303" t="that take any number of arguments. So we can write things like the sum of the product of a and x and x, and the product of b and x and c."><code onclick="Z(this)">0:05:03</code>that take any number of arguments. So we can write things like the sum of the product of a and x and x, and the product of b and x and c.</span><span s="317" t="As you can see here, addition takes three arguments or two arguments, multiplication takes two arguments or three arguments, taking numbers of arguments all of which are to"><code onclick="Z(this)">0:05:17</code>As you can see here, addition takes three arguments or two arguments, multiplication takes two arguments or three arguments, taking numbers of arguments all of which are to</span><span s="327" t="be treated in the same way. This is a valuable thing, indefinite numbers of arguments. Yet the particular Lisp system that I showed you is one where"><code onclick="Z(this)">0:05:27</code>be treated in the same way. This is a valuable thing, indefinite numbers of arguments. Yet the particular Lisp system that I showed you is one where</span><span s="340" t="the numbers of arguments is fixed, because I had to match the arguments against the formal parameters in the binder, where there&apos;s a pairup."><code onclick="Z(this)">0:05:40</code>the numbers of arguments is fixed, because I had to match the arguments against the formal parameters in the binder, where there's a pairup.</span><span s="350" t="Well, I&apos;d like to be able to define new procedures like this that can have any number of arguments. Well there&apos;s several parts to this problem."><code onclick="Z(this)">0:05:50</code>Well, I'd like to be able to define new procedures like this that can have any number of arguments. Well there's several parts to this problem.</span><span s="361" t="The first part is coming up with the syntactic specification, some way of notating the additional"><code onclick="Z(this)">0:06:01</code>The first part is coming up with the syntactic specification, some way of notating the additional</span><span s="370" t="arguments, of which you don&apos;t know how many there are. And then there&apos;s the other thing, which is once we&apos;ve notated it, how are we going to interpret that notation so"><code onclick="Z(this)">0:06:10</code>arguments, of which you don't know how many there are. And then there's the other thing, which is once we've notated it, how are we going to interpret that notation so</span><span s="381" t="as to do the right thing, whatever the right thing is? So let&apos;s consider an example of a sort of thing we might want to be able to do."><code onclick="Z(this)">0:06:21</code>as to do the right thing, whatever the right thing is? So let's consider an example of a sort of thing we might want to be able to do.</span><span s="393" t="So an example might be, that I might want to be able to define a procedure which is a procedure of one required argument x and a bunch of arguments, I don&apos;t know how"><code onclick="Z(this)">0:06:33</code>So an example might be, that I might want to be able to define a procedure which is a procedure of one required argument x and a bunch of arguments, I don't know how</span><span s="405" t="many there are, called y. So x is required, and there are many y&apos;s, many argument--"><code onclick="Z(this)">0:06:45</code>many there are, called y. So x is required, and there are many y's, many argument--</span><span s="424" t="y will be the list of them."><code onclick="Z(this)">0:07:04</code>y will be the list of them.</span><span s="434" t="Now, with such a thing, we might be able to say something like, map-- I&apos;m going to do something to every one-- of that procedure of one argument u, which multiplies x"><code onclick="Z(this)">0:07:14</code>Now, with such a thing, we might be able to say something like, map-- I'm going to do something to every one-- of that procedure of one argument u, which multiplies x</span><span s="450" t="by u, and we&apos;ll apply that to y. I&apos;ve used a dot here to indicate that the thing after"><code onclick="Z(this)">0:07:30</code>by u, and we'll apply that to y. I've used a dot here to indicate that the thing after</span><span s="461" t="this is a list of all the rest of the arguments. I&apos;m making a syntactic specification."><code onclick="Z(this)">0:07:41</code>this is a list of all the rest of the arguments. I'm making a syntactic specification.</span><span s="473" t="Now, what this depends upon, the reason why this is sort of a reasonable thing to do, is because this happens to be a syntax that&apos;s used in the Lisp reader for"><code onclick="Z(this)">0:07:53</code>Now, what this depends upon, the reason why this is sort of a reasonable thing to do, is because this happens to be a syntax that's used in the Lisp reader for</span><span s="484" t="representing conses. We&apos;ve never introduced that before. You may have seen when playing with the system that if you"><code onclick="Z(this)">0:08:04</code>representing conses. We've never introduced that before. You may have seen when playing with the system that if you</span><span s="493" t="cons two things together, you get the first, space, dot, the second, space-- the first, space, dot, space, the second with parentheses"><code onclick="Z(this)">0:08:13</code>cons two things together, you get the first, space, dot, the second, space-- the first, space, dot, space, the second with parentheses</span><span s="503" t="around the whole thing. So that, for example, this x dot y corresponds to a pair,"><code onclick="Z(this)">0:08:23</code>around the whole thing. So that, for example, this x dot y corresponds to a pair,</span><span s="516" t="which has got an x in it and a y in it. The other notations that you&apos;ve seen so far are things"><code onclick="Z(this)">0:08:36</code>which has got an x in it and a y in it. The other notations that you've seen so far are things</span><span s="525" t="like a procedure of arguments x and y and z which do things,"><code onclick="Z(this)">0:08:45</code>like a procedure of arguments x and y and z which do things,</span><span s="535" t="and that looks like-- Just looking at the bound variable list, it looks like"><code onclick="Z(this)">0:08:55</code>and that looks like-- Just looking at the bound variable list, it looks like</span><span s="544" t="this, x, y, z, and the empty thing."><code onclick="Z(this)">0:09:04</code>this, x, y, z, and the empty thing.</span><span s="558" t="If I have a list of arguments I wish to match this against, supposing, I have a list of arguments one, two, three, I want to match these against. So I might have here a list of"><code onclick="Z(this)">0:09:18</code>If I have a list of arguments I wish to match this against, supposing, I have a list of arguments one, two, three, I want to match these against. So I might have here a list of</span><span s="576" t="three things, one, two, three."><code onclick="Z(this)">0:09:36</code>three things, one, two, three.</span><span s="588" t="And I want to match x, y, z against one, two, three. Well, it&apos;s clear that the one matches the x, because I can just sort of follow the structure, and the two matches"><code onclick="Z(this)">0:09:48</code>And I want to match x, y, z against one, two, three. Well, it's clear that the one matches the x, because I can just sort of follow the structure, and the two matches</span><span s="600" t="the y, and the three matches the z. But now, supposing I were to compare this x dot y--"><code onclick="Z(this)">0:10:00</code>the y, and the three matches the z. But now, supposing I were to compare this x dot y--</span><span s="609" t="this is x dot y-- supposing I compare that with a list of three arguments, one, two, three."><code onclick="Z(this)">0:10:09</code>this is x dot y-- supposing I compare that with a list of three arguments, one, two, three.</span><span s="618" t="Let&apos;s look at that again."><code onclick="Z(this)">0:10:18</code>Let's look at that again.</span><span s="628" t="One, two, three-- Well, I can walk along here and say, oh yes, x matches the one, the y matches the list, which is two and three."><code onclick="Z(this)">0:10:28</code>One, two, three-- Well, I can walk along here and say, oh yes, x matches the one, the y matches the list, which is two and three.</span><span s="643" t="So the notation I&apos;m choosing here is one that&apos;s very natural for Lisp system."><code onclick="Z(this)">0:10:43</code>So the notation I'm choosing here is one that's very natural for Lisp system.</span><span s="652" t="But I&apos;m going to choose this as a notation for representing a bunch of arguments. Now, there&apos;s an alternative possibility. If I don&apos;t want to take one special out, or two special"><code onclick="Z(this)">0:10:52</code>But I'm going to choose this as a notation for representing a bunch of arguments. Now, there's an alternative possibility. If I don't want to take one special out, or two special</span><span s="663" t="ones out or something like that, if I don&apos;t want to do that, if I want to talk about just the list of all the arguments like in addition, well then the argument list"><code onclick="Z(this)">0:11:03</code>ones out or something like that, if I don't want to do that, if I want to talk about just the list of all the arguments like in addition, well then the argument list</span><span s="676" t="I&apos;m going to choose to be that procedure of all the arguments x which does something with x."><code onclick="Z(this)">0:11:16</code>I'm going to choose to be that procedure of all the arguments x which does something with x.</span><span s="685" t="And which, for example, if I take the procedure, which takes all the arguments x and returned the list of them,"><code onclick="Z(this)">0:11:25</code>And which, for example, if I take the procedure, which takes all the arguments x and returned the list of them,</span><span s="695" t="that&apos;s list. That&apos;s the procedure list."><code onclick="Z(this)">0:11:35</code>that's list. That's the procedure list.</span><span s="705" t="How does this work? Well, indeed what I had as the bound variable list in this case, whatever it is, is being matched against a list of arguments."><code onclick="Z(this)">0:11:45</code>How does this work? Well, indeed what I had as the bound variable list in this case, whatever it is, is being matched against a list of arguments.</span><span s="715" t="This symbol now is all of the arguments. And so this is the choice I&apos;m making for a particular syntactic specification, for the description of procedures"><code onclick="Z(this)">0:11:55</code>This symbol now is all of the arguments. And so this is the choice I'm making for a particular syntactic specification, for the description of procedures</span><span s="728" t="which take indefinite numbers of arguments. There are two cases of it, this one and this one."><code onclick="Z(this)">0:12:08</code>which take indefinite numbers of arguments. There are two cases of it, this one and this one.</span><span s="738" t="When you make syntactic specifications, it&apos;s important that it&apos;s unambiguous, that neither of these can be confused with a representation we already have, this one."><code onclick="Z(this)">0:12:18</code>When you make syntactic specifications, it's important that it's unambiguous, that neither of these can be confused with a representation we already have, this one.</span><span s="753" t="I can always tell whether I have a fixed number of explicitly named arguments made by these formal parameters, or a fixed number of named formal parameters"><code onclick="Z(this)">0:12:33</code>I can always tell whether I have a fixed number of explicitly named arguments made by these formal parameters, or a fixed number of named formal parameters</span><span s="765" t="followed by a thing which picks up all the rest of them, or a list of all the arguments which will be matched against"><code onclick="Z(this)">0:12:45</code>followed by a thing which picks up all the rest of them, or a list of all the arguments which will be matched against</span><span s="774" t="this particular formal parameter called x, because these are syntactically distinguishable. Many languages make terrible errors in that form where"><code onclick="Z(this)">0:12:54</code>this particular formal parameter called x, because these are syntactically distinguishable. Many languages make terrible errors in that form where</span><span s="785" t="whole segments of interpretation are cut off, because there are syntactic ambiguities in the language."><code onclick="Z(this)">0:13:05</code>whole segments of interpretation are cut off, because there are syntactic ambiguities in the language.</span><span s="794" t="They are the traditional problems with ALGOL like languages having to do with the nesting of ifs in the predicate part."><code onclick="Z(this)">0:13:14</code>They are the traditional problems with ALGOL like languages having to do with the nesting of ifs in the predicate part.</span><span s="805" t="In any case, now, so I&apos;ve told you about the syntax, now, what are we going to do about the semantics of this?"><code onclick="Z(this)">0:13:25</code>In any case, now, so I've told you about the syntax, now, what are we going to do about the semantics of this?</span><span s="815" t="How do we interpret it? Well this is just super easy. I&apos;m going to modify the metacircular interpreter to do it. And that&apos;s a one liner."><code onclick="Z(this)">0:13:35</code>How do we interpret it? Well this is just super easy. I'm going to modify the metacircular interpreter to do it. And that's a one liner.</span><span s="826" t="There it is. I&apos;m changing the way you pair things up."><code onclick="Z(this)">0:13:46</code>There it is. I'm changing the way you pair things up.</span><span s="836" t="Here&apos;s the procedure that pairs the variables, the"><code onclick="Z(this)">0:13:56</code>Here's the procedure that pairs the variables, the</span><span s="846" t="formal parameters, with the arguments that were passed from the last description of the metacircular interpreter."><code onclick="Z(this)">0:14:06</code>formal parameters, with the arguments that were passed from the last description of the metacircular interpreter.</span><span s="858" t="And here&apos;s some things that are the same as they were before. In other words, if the list of variables is empty, then if the list of values is empty, then I have an empty list."><code onclick="Z(this)">0:14:18</code>And here's some things that are the same as they were before. In other words, if the list of variables is empty, then if the list of values is empty, then I have an empty list.</span><span s="871" t="Otherwise, I have too many arguments, that is, if I have empty variables but not empty values."><code onclick="Z(this)">0:14:31</code>Otherwise, I have too many arguments, that is, if I have empty variables but not empty values.</span><span s="881" t="If I have empty values, but the variables are not empty, I have too few arguments."><code onclick="Z(this)">0:14:41</code>If I have empty values, but the variables are not empty, I have too few arguments.</span><span s="890" t="The variables are a symbol-- interesting case-- then, what I should do is say, oh yes, this is the special"><code onclick="Z(this)">0:14:50</code>The variables are a symbol-- interesting case-- then, what I should do is say, oh yes, this is the special</span><span s="904" t="case that I have a symbolic tail. I have here a thing just like we looked over here."><code onclick="Z(this)">0:15:04</code>case that I have a symbolic tail. I have here a thing just like we looked over here.</span><span s="914" t="This is a tail which is a symbol, y. It&apos;s not a nil. It&apos;s not the empty list. Here&apos;s a symbolic tail that is"><code onclick="Z(this)">0:15:14</code>This is a tail which is a symbol, y. It's not a nil. It's not the empty list. Here's a symbolic tail that is</span><span s="924" t="just the very beginning of the tail. There is nothing else. In that case, I wish to match that variable with all the"><code onclick="Z(this)">0:15:24</code>just the very beginning of the tail. There is nothing else. In that case, I wish to match that variable with all the</span><span s="936" t="values and add that to the pairing that I&apos;m making. Otherwise, I go through the normal arrangement of making"><code onclick="Z(this)">0:15:36</code>values and add that to the pairing that I'm making. Otherwise, I go through the normal arrangement of making</span><span s="947" t="up the whole pairing. I suppose that&apos;s very simple. And that&apos;s all there is to it."><code onclick="Z(this)">0:15:47</code>up the whole pairing. I suppose that's very simple. And that's all there is to it.</span><span s="957" t="And now I&apos;ll answer some questions. The first one-- Are there any questions?"><code onclick="Z(this)">0:15:57</code>And now I'll answer some questions. The first one-- Are there any questions?</span><span s="966" t="Yes? AUDIENCE: Could you explain that third form? PROFESSOR: This one? Well, maybe we should look at the thing as a"><code onclick="Z(this)">0:16:06</code>Yes? AUDIENCE: Could you explain that third form? PROFESSOR: This one? Well, maybe we should look at the thing as a</span><span s="975" t="piece of list structure. This is a procedure which contains a lambda."><code onclick="Z(this)">0:16:15</code>piece of list structure. This is a procedure which contains a lambda.</span><span s="985" t="I&apos;m just looking at the list structure which represents this. Here&apos;s x. These are our symbols."><code onclick="Z(this)">0:16:25</code>I'm just looking at the list structure which represents this. Here's x. These are our symbols.</span><span s="997" t="And then the body is nothing but x. If I were looking for the bound variable list part of"><code onclick="Z(this)">0:16:37</code>And then the body is nothing but x. If I were looking for the bound variable list part of</span><span s="1008" t="this procedure, I would go looking at the CADR, and I&apos;d find a symbol. So the, naturally, which is this pairup thing I just showed you, is going to be matching a symbolic object"><code onclick="Z(this)">0:16:48</code>this procedure, I would go looking at the CADR, and I'd find a symbol. So the, naturally, which is this pairup thing I just showed you, is going to be matching a symbolic object</span><span s="1021" t="against a list of arguments that were passed. And it will bind that symbol to the list of arguments."><code onclick="Z(this)">0:17:01</code>against a list of arguments that were passed. And it will bind that symbol to the list of arguments.</span><span s="1033" t="In this case, if I&apos;m looking for it, the match will be against this in the bound variable list position."><code onclick="Z(this)">0:17:13</code>In this case, if I'm looking for it, the match will be against this in the bound variable list position.</span><span s="1044" t="Now, if what this does is it gets a list of arguments and returns it, that&apos;s list. That&apos;s what the procedure is."><code onclick="Z(this)">0:17:24</code>Now, if what this does is it gets a list of arguments and returns it, that's list. That's what the procedure is.</span><span s="1054" t="Oh well, thank you. Let&apos;s take a break. [MUSIC PLAYING]"><code onclick="Z(this)">0:17:34</code>Oh well, thank you. Let's take a break. [MUSIC PLAYING]</span><span s="1100" t="PROFESSOR: Well let&apos;s see. Now, I&apos;m going to tell you about a rather more substantial variation, one that&apos;s a famous variation that"><code onclick="Z(this)">0:18:20</code>PROFESSOR: Well let's see. Now, I'm going to tell you about a rather more substantial variation, one that's a famous variation that</span><span s="1112" t="many early Lisps had. It&apos;s called dynamic binding of variables."><code onclick="Z(this)">0:18:32</code>many early Lisps had. It's called dynamic binding of variables.</span><span s="1121" t="And we&apos;ll investigate a little bit about that right now. I&apos;m going to first introduce this by showing you the sort of thing that would make someone want this idea."><code onclick="Z(this)">0:18:41</code>And we'll investigate a little bit about that right now. I'm going to first introduce this by showing you the sort of thing that would make someone want this idea.</span><span s="1133" t="I&apos;m not going to tell what it is yet, I&apos;m going to show you why you might want it. Suppose, for example, we looked at the sum procedure"><code onclick="Z(this)">0:18:53</code>I'm not going to tell what it is yet, I'm going to show you why you might want it. Suppose, for example, we looked at the sum procedure</span><span s="1142" t="again for summing up a bunch of things. To be that procedure, of a term, lower bound, method of"><code onclick="Z(this)">0:19:02</code>again for summing up a bunch of things. To be that procedure, of a term, lower bound, method of</span><span s="1155" t="computing the next index, and upper bound, such that, if a"><code onclick="Z(this)">0:19:15</code>computing the next index, and upper bound, such that, if a</span><span s="1165" t="is greater than b then the result is 0, otherwise, it&apos;s"><code onclick="Z(this)">0:19:25</code>is greater than b then the result is 0, otherwise, it's</span><span s="1174" t="the sum, of the term, procedure, applied to a and the result of adding up, terms, with the next a being"><code onclick="Z(this)">0:19:34</code>the sum, of the term, procedure, applied to a and the result of adding up, terms, with the next a being</span><span s="1191" t="the a, the next procedure passed along, and the upper"><code onclick="Z(this)">0:19:51</code>the a, the next procedure passed along, and the upper</span><span s="1206" t="bound being passed along. Blink, blink, blink--"><code onclick="Z(this)">0:20:06</code>bound being passed along. Blink, blink, blink--</span><span s="1218" t="Now, when I use this sum procedure, I can use it, for example, like this. We can define the sum of the powers to be, for example, sum"><code onclick="Z(this)">0:20:18</code>Now, when I use this sum procedure, I can use it, for example, like this. We can define the sum of the powers to be, for example, sum</span><span s="1238" t="of a bunch of powers x to the n, to be that procedure of a, b, and n-- lower bound, the upper bound, and n--"><code onclick="Z(this)">0:20:38</code>of a bunch of powers x to the n, to be that procedure of a, b, and n-- lower bound, the upper bound, and n--</span><span s="1248" t="which is sum, of lambda of x, the procedure of one argument x, which exponentiates x to the n, with the a, the"><code onclick="Z(this)">0:20:48</code>which is sum, of lambda of x, the procedure of one argument x, which exponentiates x to the n, with the a, the</span><span s="1265" t="incrementer, and b, being passed along. So we&apos;re adding up x to n, given an x."><code onclick="Z(this)">0:21:05</code>incrementer, and b, being passed along. So we're adding up x to n, given an x.</span><span s="1276" t="x takes on values from a to b, incrementing by one. I can also write the--"><code onclick="Z(this)">0:21:16</code>x takes on values from a to b, incrementing by one. I can also write the--</span><span s="1287" t="That&apos;s right. Product, excuse me. The product of a bunch of powers."><code onclick="Z(this)">0:21:27</code>That's right. Product, excuse me. The product of a bunch of powers.</span><span s="1298" t="It&apos;s a strange name. I&apos;m going to leave it there. Weird-- I write up what I have. I&apos;m sure that&apos;s right."><code onclick="Z(this)">0:21:38</code>It's a strange name. I'm going to leave it there. Weird-- I write up what I have. I'm sure that's right.</span><span s="1310" t="And if I want the product of a bunch of powers-- That was 12 brain cells, that double-take."><code onclick="Z(this)">0:21:50</code>And if I want the product of a bunch of powers-- That was 12 brain cells, that double-take.</span><span s="1323" t="I can for example use the procedure which is like sum, which is for making products, but it&apos;s similar to that, that you&apos;ve seen before. There&apos;s a procedure of three arguments again."><code onclick="Z(this)">0:22:03</code>I can for example use the procedure which is like sum, which is for making products, but it's similar to that, that you've seen before. There's a procedure of three arguments again.</span><span s="1336" t="Which is the product of terms that are constructed, or factors in this case, constructed from"><code onclick="Z(this)">0:22:16</code>Which is the product of terms that are constructed, or factors in this case, constructed from</span><span s="1346" t="exponentiating x to the n, where I start with a, I"><code onclick="Z(this)">0:22:26</code>exponentiating x to the n, where I start with a, I</span><span s="1355" t="increment, and I go to b. Now, there&apos;s some sort of thing here that should disturb"><code onclick="Z(this)">0:22:35</code>increment, and I go to b. Now, there's some sort of thing here that should disturb</span><span s="1368" t="you immediately. These look the same. Why am I writing this code so many times? Here I am, in the same boat I&apos;ve been in before."><code onclick="Z(this)">0:22:48</code>you immediately. These look the same. Why am I writing this code so many times? Here I am, in the same boat I've been in before.</span><span s="1381" t="Wouldn&apos;t it be nice to make an abstraction here? What&apos;s an example of a good abstraction to make? Well, I see some codes that&apos;s identical. Here&apos;s one, and here&apos;s another."><code onclick="Z(this)">0:23:01</code>Wouldn't it be nice to make an abstraction here? What's an example of a good abstraction to make? Well, I see some codes that's identical. Here's one, and here's another.</span><span s="1394" t="And so maybe I should be able to pull that out. I should be able to say, oh yes, the sum of the powers could be written in terms of something called"><code onclick="Z(this)">0:23:14</code>And so maybe I should be able to pull that out. I should be able to say, oh yes, the sum of the powers could be written in terms of something called</span><span s="1403" t="the nth power procedure. Imagine somebody wanted to write a slightly different procedure that looks like this."><code onclick="Z(this)">0:23:23</code>the nth power procedure. Imagine somebody wanted to write a slightly different procedure that looks like this.</span><span s="1417" t="The sum powers to be a procedure of a, b, and n, as"><code onclick="Z(this)">0:23:37</code>The sum powers to be a procedure of a, b, and n, as</span><span s="1429" t="the result of summing up the nth power. We&apos;re going to give a name to that idea, for starting at a,"><code onclick="Z(this)">0:23:49</code>the result of summing up the nth power. We're going to give a name to that idea, for starting at a,</span><span s="1439" t="going by one, and ending at b. And similarly, I might want to write the product powers this"><code onclick="Z(this)">0:23:59</code>going by one, and ending at b. And similarly, I might want to write the product powers this</span><span s="1452" t="way, abstracting out this idea. I might want this."><code onclick="Z(this)">0:24:12</code>way, abstracting out this idea. I might want this.</span><span s="1462" t="Product powers, to be a procedure of a, b, and n,"><code onclick="Z(this)">0:24:22</code>Product powers, to be a procedure of a, b, and n,</span><span s="1475" t="which is the product of the nth power operation on a with"><code onclick="Z(this)">0:24:35</code>which is the product of the nth power operation on a with</span><span s="1487" t="the incrementation and b being my arguments for the"><code onclick="Z(this)">0:24:47</code>the incrementation and b being my arguments for the</span><span s="1496" t="analogous-thing product. And I&apos;d like to be able to define, I&apos;d like to be able to define nth power-- I&apos;ll put it over here."><code onclick="Z(this)">0:24:56</code>analogous-thing product. And I'd like to be able to define, I'd like to be able to define nth power-- I'll put it over here.</span><span s="1511" t="I&apos;ll put it at the top."><code onclick="Z(this)">0:25:11</code>I'll put it at the top.</span><span s="1525" t="--to be, in fact, my procedure of one argument x which is the result of exponentiating x to the n."><code onclick="Z(this)">0:25:25</code>--to be, in fact, my procedure of one argument x which is the result of exponentiating x to the n.</span><span s="1535" t="But I have a problem. My environment model, that is my means of interpretation for"><code onclick="Z(this)">0:25:35</code>But I have a problem. My environment model, that is my means of interpretation for</span><span s="1544" t="the language that we&apos;ve defined so far, does not give me a meaning for this n. Because, as you know, this n is free in this procedure."><code onclick="Z(this)">0:25:44</code>the language that we've defined so far, does not give me a meaning for this n. Because, as you know, this n is free in this procedure.</span><span s="1566" t="The environment model tells us that the meaning of a free variable is determined in the environment in which this procedure is defined."><code onclick="Z(this)">0:26:06</code>The environment model tells us that the meaning of a free variable is determined in the environment in which this procedure is defined.</span><span s="1576" t="In a way I have written it, assuming these things are defined on the blackboard as is, this is defined in the global environment, where there is no end."><code onclick="Z(this)">0:26:16</code>In a way I have written it, assuming these things are defined on the blackboard as is, this is defined in the global environment, where there is no end.</span><span s="1585" t="Therefore, n is unbound variable. But it&apos;s perfectly clear, to most of us, that we would like it to be this n and this n."><code onclick="Z(this)">0:26:25</code>Therefore, n is unbound variable. But it's perfectly clear, to most of us, that we would like it to be this n and this n.</span><span s="1598" t="On the other hand, it would be nice. Certainly we&apos;ve got to be careful here of keeping this to be this, and this one over here, wherever it"><code onclick="Z(this)">0:26:38</code>On the other hand, it would be nice. Certainly we've got to be careful here of keeping this to be this, and this one over here, wherever it</span><span s="1611" t="is to be this one. Well, the desire to make this work has led to"><code onclick="Z(this)">0:26:51</code>is to be this one. Well, the desire to make this work has led to</span><span s="1621" t="a very famous bug. I&apos;ll tell you about the famous bug. Look at this slide."><code onclick="Z(this)">0:27:01</code>a very famous bug. I'll tell you about the famous bug. Look at this slide.</span><span s="1630" t="This is an idea called dynamic binding. Where, instead of the free variable being interpreted in the environment of definition of a procedure, the free"><code onclick="Z(this)">0:27:10</code>This is an idea called dynamic binding. Where, instead of the free variable being interpreted in the environment of definition of a procedure, the free</span><span s="1642" t="variable is interpreted as having its value in the environment of the caller of the procedure."><code onclick="Z(this)">0:27:22</code>variable is interpreted as having its value in the environment of the caller of the procedure.</span><span s="1651" t="So what you have is a system where you search up the chain of callers of a particular procedure, and, of course, in"><code onclick="Z(this)">0:27:31</code>So what you have is a system where you search up the chain of callers of a particular procedure, and, of course, in</span><span s="1661" t="this case, since nth power is called from inside product whatever it is-- I had to write our own sum which is the analogous procedure--"><code onclick="Z(this)">0:27:41</code>this case, since nth power is called from inside product whatever it is-- I had to write our own sum which is the analogous procedure--</span><span s="1670" t="and product is presumably called from product powers, as you see over here, then since product powers bind with variable n , then nth powers n would be derived"><code onclick="Z(this)">0:27:50</code>and product is presumably called from product powers, as you see over here, then since product powers bind with variable n , then nth powers n would be derived</span><span s="1683" t="through that chain. Similarly, this n, the nth power in n in this case, would"><code onclick="Z(this)">0:28:03</code>through that chain. Similarly, this n, the nth power in n in this case, would</span><span s="1692" t="come through nth power here being called from inside sum. You can see it being called from inside sum here. It&apos;s called term here."><code onclick="Z(this)">0:28:12</code>come through nth power here being called from inside sum. You can see it being called from inside sum here. It's called term here.</span><span s="1702" t="But sum was called from inside of sum powers, which bound n. Therefore, there would be an n available for that n to get"><code onclick="Z(this)">0:28:22</code>But sum was called from inside of sum powers, which bound n. Therefore, there would be an n available for that n to get</span><span s="1715" t="it&apos;s value from. What we have below this white line plus over here, is what&apos;s called a dynamic binding view of the world."><code onclick="Z(this)">0:28:35</code>it's value from. What we have below this white line plus over here, is what's called a dynamic binding view of the world.</span><span s="1726" t="If that works, that&apos;s a dynamic binding view. Now, let&apos;s take a look, for example, at just what it takes"><code onclick="Z(this)">0:28:46</code>If that works, that's a dynamic binding view. Now, let's take a look, for example, at just what it takes</span><span s="1735" t="to implement that. That&apos;s real easy. In fact, the very first Lisps that had any interpretations of the free variables at all, had dynamic binding"><code onclick="Z(this)">0:28:55</code>to implement that. That's real easy. In fact, the very first Lisps that had any interpretations of the free variables at all, had dynamic binding</span><span s="1744" t="interpretations for the free variables. APL has dynamic binding interpretation for the free variables, not lexical or static binding."><code onclick="Z(this)">0:29:04</code>interpretations for the free variables. APL has dynamic binding interpretation for the free variables, not lexical or static binding.</span><span s="1755" t="So, of course, the change is in eval. And it&apos;s really in two places. First of all, one thing we see, is that things become a"><code onclick="Z(this)">0:29:15</code>So, of course, the change is in eval. And it's really in two places. First of all, one thing we see, is that things become a</span><span s="1767" t="little simpler. If I don&apos;t have to have the environment be the environment of definition for procedure, the procedure need not capture"><code onclick="Z(this)">0:29:27</code>little simpler. If I don't have to have the environment be the environment of definition for procedure, the procedure need not capture</span><span s="1778" t="the environment at the time it&apos;s defined. And so if we look here at this slide, we see that the clause"><code onclick="Z(this)">0:29:38</code>the environment at the time it's defined. And so if we look here at this slide, we see that the clause</span><span s="1787" t="for a lambda expression, which is the way a procedure is defined, does not make up a thing which has a type closure"><code onclick="Z(this)">0:29:47</code>for a lambda expression, which is the way a procedure is defined, does not make up a thing which has a type closure</span><span s="1797" t="and a attached environment structure. It&apos;s just the expression itself. And we&apos;ll decompose that some other way somewhere else."><code onclick="Z(this)">0:29:57</code>and a attached environment structure. It's just the expression itself. And we'll decompose that some other way somewhere else.</span><span s="1806" t="The other thing we see is the applicator must be able to get the environment of the caller. The caller of a procedure is right here."><code onclick="Z(this)">0:30:06</code>The other thing we see is the applicator must be able to get the environment of the caller. The caller of a procedure is right here.</span><span s="1819" t="If the expression we&apos;re evaluating is anpplication or a combination, then we&apos;re going to call a procedure which is the value of the operator."><code onclick="Z(this)">0:30:19</code>If the expression we're evaluating is anpplication or a combination, then we're going to call a procedure which is the value of the operator.</span><span s="1829" t="The environment of the caller is the environment we have right here, available now. So all I have to do is pass that environment to the"><code onclick="Z(this)">0:30:29</code>The environment of the caller is the environment we have right here, available now. So all I have to do is pass that environment to the</span><span s="1838" t="applicator, to apply. And if we look at that here, the only change we have to make is that fellow takes that environment and uses that"><code onclick="Z(this)">0:30:38</code>applicator, to apply. And if we look at that here, the only change we have to make is that fellow takes that environment and uses that</span><span s="1849" t="environment for the purpose of extending that environment when abiding the formal parameters of the procedure to"><code onclick="Z(this)">0:30:49</code>environment for the purpose of extending that environment when abiding the formal parameters of the procedure to</span><span s="1860" t="the arguments that were passed, not an environment that was captured in the procedure. The reason why the first Lisps were implemented this way, is"><code onclick="Z(this)">0:31:00</code>the arguments that were passed, not an environment that was captured in the procedure. The reason why the first Lisps were implemented this way, is</span><span s="1869" t="the sort of the obvious, accidental implementation. And, of course, as usual, people got used to it and liked it. And there were some people said, this is"><code onclick="Z(this)">0:31:09</code>the sort of the obvious, accidental implementation. And, of course, as usual, people got used to it and liked it. And there were some people said, this is</span><span s="1878" t="the way to do it. Unfortunately that causes some serious problems. The most important, serious problem in using dynamic binding is"><code onclick="Z(this)">0:31:18</code>the way to do it. Unfortunately that causes some serious problems. The most important, serious problem in using dynamic binding is</span><span s="1891" t="there&apos;s a modularity crisis that&apos;s involved it. If two people are working together on some big system, then an important thing to want is that the names used by"><code onclick="Z(this)">0:31:31</code>there's a modularity crisis that's involved it. If two people are working together on some big system, then an important thing to want is that the names used by</span><span s="1901" t="each one don&apos;t interfere with the names of the other. It&apos;s important that when I invent some segment of code"><code onclick="Z(this)">0:31:41</code>each one don't interfere with the names of the other. It's important that when I invent some segment of code</span><span s="1911" t="that no one can make my code stop working by using my names that I use internal to my code, internal to his code. However, dynamic binding violates that particular"><code onclick="Z(this)">0:31:51</code>that no one can make my code stop working by using my names that I use internal to my code, internal to his code. However, dynamic binding violates that particular</span><span s="1923" t="modularity constraint in a clear way. Consider, for example, what happens over here."><code onclick="Z(this)">0:32:03</code>modularity constraint in a clear way. Consider, for example, what happens over here.</span><span s="1932" t="Suppose it was the case that I decided to change the word next. Supposing somebody is writing sum, and somebody else is"><code onclick="Z(this)">0:32:12</code>Suppose it was the case that I decided to change the word next. Supposing somebody is writing sum, and somebody else is</span><span s="1945" t="going to use sum. The writer of sum has a choice of what names he may use. Let&apos;s say, I&apos;m that writer."><code onclick="Z(this)">0:32:25</code>going to use sum. The writer of sum has a choice of what names he may use. Let's say, I'm that writer.</span><span s="1956" t="Well, by gosh, just happens I didn&apos;t want to call this next. I called it n. So all places where you see next, I called it n."><code onclick="Z(this)">0:32:36</code>Well, by gosh, just happens I didn't want to call this next. I called it n. So all places where you see next, I called it n.</span><span s="1968" t="Whoops. I changed nothing about the specifications of this program, but this program stops working. Not only that, unfortunately, this one does too."><code onclick="Z(this)">0:32:48</code>Whoops. I changed nothing about the specifications of this program, but this program stops working. Not only that, unfortunately, this one does too.</span><span s="1979" t="Why do these programs stop working? Well, it&apos;s sort of clear. Instead of chasing out the value of the n that occurs in"><code onclick="Z(this)">0:32:59</code>Why do these programs stop working? Well, it's sort of clear. Instead of chasing out the value of the n that occurs in</span><span s="1989" t="nth power over here or over here, through the environment of definition, where this one is always linked to this one,"><code onclick="Z(this)">0:33:09</code>nth power over here or over here, through the environment of definition, where this one is always linked to this one,</span><span s="1999" t="if it was through the environment of definition, because here is the definition. This lambda expression was executed in the environment where that n was defined."><code onclick="Z(this)">0:33:19</code>if it was through the environment of definition, because here is the definition. This lambda expression was executed in the environment where that n was defined.</span><span s="2010" t="If instead of doing that, I have to chase through the call chain, then look what horrible thing happens. Well, this was called from inside sum as term, term a."><code onclick="Z(this)">0:33:30</code>If instead of doing that, I have to chase through the call chain, then look what horrible thing happens. Well, this was called from inside sum as term, term a.</span><span s="2024" t="I&apos;m looking for a value of n. Instead of getting this one, I get that one. So by changing the insides of this program, this program"><code onclick="Z(this)">0:33:44</code>I'm looking for a value of n. Instead of getting this one, I get that one. So by changing the insides of this program, this program</span><span s="2033" t="stops working. So I no longer have a quantifier, as I described before."><code onclick="Z(this)">0:33:53</code>stops working. So I no longer have a quantifier, as I described before.</span><span s="2042" t="The lambda symbol is supposed to be a quantifier. A thing which has the property that the names that are bound by it are unimportant, that I can uniformly substitute any"><code onclick="Z(this)">0:34:02</code>The lambda symbol is supposed to be a quantifier. A thing which has the property that the names that are bound by it are unimportant, that I can uniformly substitute any</span><span s="2054" t="names for these throughout this thing, so long as they don&apos;t occur in here, the new names, and the meaning of this expression should remain unchanged."><code onclick="Z(this)">0:34:14</code>names for these throughout this thing, so long as they don't occur in here, the new names, and the meaning of this expression should remain unchanged.</span><span s="2064" t="I&apos;ve just changed the meaning of the expression by changing the one of the names. So lambda is no longer a well defined idea. It&apos;s a very serious problem."><code onclick="Z(this)">0:34:24</code>I've just changed the meaning of the expression by changing the one of the names. So lambda is no longer a well defined idea. It's a very serious problem.</span><span s="2074" t="So for that reason, I and my buddies have given up this particular kind of abstraction, which I would"><code onclick="Z(this)">0:34:34</code>So for that reason, I and my buddies have given up this particular kind of abstraction, which I would</span><span s="2083" t="like to have, in favor of a modularity principle. But this is the kind of experiment you can do if you"><code onclick="Z(this)">0:34:43</code>like to have, in favor of a modularity principle. But this is the kind of experiment you can do if you</span><span s="2092" t="want to play with these interpreters. You can try them out this way, that way, and the other way. You see what makes a nicer language."><code onclick="Z(this)">0:34:52</code>want to play with these interpreters. You can try them out this way, that way, and the other way. You see what makes a nicer language.</span><span s="2102" t="So that&apos;s a very important thing to be able to do. Now, I would like to give you a feeling for I think the right thing to do is here. How are you going to I get this kind of power in a"><code onclick="Z(this)">0:35:02</code>So that's a very important thing to be able to do. Now, I would like to give you a feeling for I think the right thing to do is here. How are you going to I get this kind of power in a</span><span s="2114" t="lexical system? And the answer is, of course, what I really want is a something that makes up for me an exponentiator for a particular n."><code onclick="Z(this)">0:35:14</code>lexical system? And the answer is, of course, what I really want is a something that makes up for me an exponentiator for a particular n.</span><span s="2123" t="Given an n, it will make me an exponentiator. Oh, but that&apos;s easy too. In other words, I can write my program this way."><code onclick="Z(this)">0:35:23</code>Given an n, it will make me an exponentiator. Oh, but that's easy too. In other words, I can write my program this way.</span><span s="2135" t="I&apos;m going to define a thing called PGEN, which is a procedure of n which produces for me an exponentiator."><code onclick="Z(this)">0:35:35</code>I'm going to define a thing called PGEN, which is a procedure of n which produces for me an exponentiator.</span><span s="2150" t="--x to the n. Given that I have that, then I can capture the abstraction I"><code onclick="Z(this)">0:35:50</code>--x to the n. Given that I have that, then I can capture the abstraction I</span><span s="2160" t="wanted even better, because now it&apos;s encapsulated in a way where I can&apos;t be destroyed by a change of names. I can define some powers to be a procedure again of a, b, and"><code onclick="Z(this)">0:36:00</code>wanted even better, because now it's encapsulated in a way where I can't be destroyed by a change of names. I can define some powers to be a procedure again of a, b, and</span><span s="2180" t="n which is the sum of the term function generated by using this generator, PGEN, n, with a, incrementer, and b."><code onclick="Z(this)">0:36:20</code>n which is the sum of the term function generated by using this generator, PGEN, n, with a, incrementer, and b.</span><span s="2202" t="And I can define the product of powers to be a procedure of"><code onclick="Z(this)">0:36:42</code>And I can define the product of powers to be a procedure of</span><span s="2217" t="a, b, and n which is the product PGEN, n, with a,"><code onclick="Z(this)">0:36:57</code>a, b, and n which is the product PGEN, n, with a,</span><span s="2229" t="increment, and b. Now, of course, this is a very simple example where this object that I&apos;m trying to abstract over is small. But it could be a 100 lines of code."><code onclick="Z(this)">0:37:09</code>increment, and b. Now, of course, this is a very simple example where this object that I'm trying to abstract over is small. But it could be a 100 lines of code.</span><span s="2240" t="And so, the purpose of this is, of course, to make it simple. I&apos;d give a name to it, it&apos;s just that here it&apos;s a parameterized name. It&apos;s a name that depends upon, explicitly, the lexically"><code onclick="Z(this)">0:37:20</code>And so, the purpose of this is, of course, to make it simple. I'd give a name to it, it's just that here it's a parameterized name. It's a name that depends upon, explicitly, the lexically</span><span s="2251" t="apparent value of n. So you can think of this as a long name."><code onclick="Z(this)">0:37:31</code>apparent value of n. So you can think of this as a long name.</span><span s="2260" t="And here, I&apos;ve solved my problem by naming the term generation procedures within an n in them."><code onclick="Z(this)">0:37:40</code>And here, I've solved my problem by naming the term generation procedures within an n in them.</span><span s="2275" t="Are there any questions? Oh, yes, David. AUDIENCE: Is the only solution to the problem you raise to"><code onclick="Z(this)">0:37:55</code>Are there any questions? Oh, yes, David. AUDIENCE: Is the only solution to the problem you raise to</span><span s="2284" t="create another procedure? In other words, can this only work in languages that are capable of defining objects as procedures? PROFESSOR: Oh, I see."><code onclick="Z(this)">0:38:04</code>create another procedure? In other words, can this only work in languages that are capable of defining objects as procedures? PROFESSOR: Oh, I see.</span><span s="2296" t="My solution to making this abstraction, when I didn&apos;t want include the procedure inside the body, depends upon my ability to return a procedure or export one."><code onclick="Z(this)">0:38:16</code>My solution to making this abstraction, when I didn't want include the procedure inside the body, depends upon my ability to return a procedure or export one.</span><span s="2308" t="And that&apos;s right. If I don&apos;t have that, then I just don&apos;t have this ability to make an abstraction in a way where I don&apos;t have"><code onclick="Z(this)">0:38:28</code>And that's right. If I don't have that, then I just don't have this ability to make an abstraction in a way where I don't have</span><span s="2319" t="possibilities of symbol conflicts that were unanticipated. That&apos;s right. I consider being able to return the procedural value"><code onclick="Z(this)">0:38:39</code>possibilities of symbol conflicts that were unanticipated. That's right. I consider being able to return the procedural value</span><span s="2332" t="and, therefore, to sort of have first class procedures, in general, as being essential to doing very good modular"><code onclick="Z(this)">0:38:52</code>and, therefore, to sort of have first class procedures, in general, as being essential to doing very good modular</span><span s="2341" t="programming. Now, indeed there are many other ways to skin this cat. What you can do is take for each of the bad things that"><code onclick="Z(this)">0:39:01</code>programming. Now, indeed there are many other ways to skin this cat. What you can do is take for each of the bad things that</span><span s="2350" t="you have to worry about, you can make a special feature that covers that thing. You can make a package system. You can make a module system as in Ada, et cetera."><code onclick="Z(this)">0:39:10</code>you have to worry about, you can make a special feature that covers that thing. You can make a package system. You can make a module system as in Ada, et cetera.</span><span s="2362" t="And all of those work, or they cover little regions of it. The thing is that returning procedures as values cover all of those problems. And so it&apos;s the simplest mechanism that"><code onclick="Z(this)">0:39:22</code>And all of those work, or they cover little regions of it. The thing is that returning procedures as values cover all of those problems. And so it's the simplest mechanism that</span><span s="2375" t="gives you the best modularity, gives you all of the known modularity mechanisms."><code onclick="Z(this)">0:39:35</code>gives you the best modularity, gives you all of the known modularity mechanisms.</span><span s="2385" t="Well, I suppose it&apos;s time for the next break, thank you. [MUSIC PLAYING]"><code onclick="Z(this)">0:39:45</code>Well, I suppose it's time for the next break, thank you. [MUSIC PLAYING]</span><span s="2441" t="PROFESSOR: Well, yesterday when you learned about streams, Hal worried to you about the order of evaluation"><code onclick="Z(this)">0:40:41</code>PROFESSOR: Well, yesterday when you learned about streams, Hal worried to you about the order of evaluation</span><span s="2452" t="and delayed arguments to procedures. The way we played with streams yesterday, it was the responsibility of the caller and the callee to both agree"><code onclick="Z(this)">0:40:52</code>and delayed arguments to procedures. The way we played with streams yesterday, it was the responsibility of the caller and the callee to both agree</span><span s="2467" t="that an argument was delayed, and the callee must force the argument if it needs the answer. So there had to be a lot of hand shaking between the"><code onclick="Z(this)">0:41:07</code>that an argument was delayed, and the callee must force the argument if it needs the answer. So there had to be a lot of hand shaking between the</span><span s="2478" t="designer of a procedure and user of it over delayedness. That turns out, of course, to be a fairly bad thing, it"><code onclick="Z(this)">0:41:18</code>designer of a procedure and user of it over delayedness. That turns out, of course, to be a fairly bad thing, it</span><span s="2489" t="works all right with streams. But as a general thing, what you want is an idea to have a locus, a decision, a design decision in general, to have a place where it&apos;s made,"><code onclick="Z(this)">0:41:29</code>works all right with streams. But as a general thing, what you want is an idea to have a locus, a decision, a design decision in general, to have a place where it's made,</span><span s="2500" t="explicitly, and notated in a clear way. And so it&apos;s not a very good idea to have to have an agreement, between the person who writes a procedure and the"><code onclick="Z(this)">0:41:40</code>explicitly, and notated in a clear way. And so it's not a very good idea to have to have an agreement, between the person who writes a procedure and the</span><span s="2512" t="person who calls it, about such details as, maybe, the arguments of evaluation, the order of evaluation. Although, that&apos;s not so bad. I mean, we have other such agreements like,"><code onclick="Z(this)">0:41:52</code>person who calls it, about such details as, maybe, the arguments of evaluation, the order of evaluation. Although, that's not so bad. I mean, we have other such agreements like,</span><span s="2522" t="the input&apos;s a number. But it would be nice if only one of these guys could take responsibility, completely."><code onclick="Z(this)">0:42:02</code>the input's a number. But it would be nice if only one of these guys could take responsibility, completely.</span><span s="2531" t="Now this is not a new idea. ALGOL 60 had two different ways of calling a procedure."><code onclick="Z(this)">0:42:11</code>Now this is not a new idea. ALGOL 60 had two different ways of calling a procedure.</span><span s="2542" t="The arguments could be passed by name or by value. And what that meant was that a name argument was delayed."><code onclick="Z(this)">0:42:22</code>The arguments could be passed by name or by value. And what that meant was that a name argument was delayed.</span><span s="2551" t="That when you passed an argument by name, that its value would only be obtained if you accessed that argument."><code onclick="Z(this)">0:42:31</code>That when you passed an argument by name, that its value would only be obtained if you accessed that argument.</span><span s="2562" t="So what I&apos;d like to do now is show you, first of all, a little bit about, again, we&apos;re going to make a modification to a language. In this case, we&apos;re going to add a feature."><code onclick="Z(this)">0:42:42</code>So what I'd like to do now is show you, first of all, a little bit about, again, we're going to make a modification to a language. In this case, we're going to add a feature.</span><span s="2573" t="We&apos;re going to add the feature of, by name parameters, if you will, or delayed parameters. Because, in fact, the default in our Lisp system is by the"><code onclick="Z(this)">0:42:53</code>We're going to add the feature of, by name parameters, if you will, or delayed parameters. Because, in fact, the default in our Lisp system is by the</span><span s="2585" t="value of a pointer. A pointer is copied, but the data structure it points at is not. But I&apos;d like to, in fact, show you is how you add name"><code onclick="Z(this)">0:43:05</code>value of a pointer. A pointer is copied, but the data structure it points at is not. But I'd like to, in fact, show you is how you add name</span><span s="2597" t="arguments as well. Now again, why would we need such a thing? Well supposing we wanted to invent certain kinds of what"><code onclick="Z(this)">0:43:17</code>arguments as well. Now again, why would we need such a thing? Well supposing we wanted to invent certain kinds of what</span><span s="2606" t="otherwise would be special forms, reserve words? But I&apos;d rather not take up reserve words. I want procedures that can do things like if."><code onclick="Z(this)">0:43:26</code>otherwise would be special forms, reserve words? But I'd rather not take up reserve words. I want procedures that can do things like if.</span><span s="2616" t="If is special, or cond, or whatever it is. It&apos;s the same thing. It&apos;s special in that it determines whether or not to evaluate the consequent or the alternative based on the value"><code onclick="Z(this)">0:43:36</code>If is special, or cond, or whatever it is. It's the same thing. It's special in that it determines whether or not to evaluate the consequent or the alternative based on the value</span><span s="2628" t="of the predicate part of an expression. So taking the value of one thing determines whether or not to do something else."><code onclick="Z(this)">0:43:48</code>of the predicate part of an expression. So taking the value of one thing determines whether or not to do something else.</span><span s="2637" t="Whereas all the procedures like plus, the ones that we can define right now, evaluate all of their arguments before application."><code onclick="Z(this)">0:43:57</code>Whereas all the procedures like plus, the ones that we can define right now, evaluate all of their arguments before application.</span><span s="2648" t="So, for example, supposing I wish to be able to define something like the reverse of if in terms of if."><code onclick="Z(this)">0:44:08</code>So, for example, supposing I wish to be able to define something like the reverse of if in terms of if.</span><span s="2659" t="Call it unless. We&apos;ve a predicate, a consequent, and an alternative."><code onclick="Z(this)">0:44:19</code>Call it unless. We've a predicate, a consequent, and an alternative.</span><span s="2668" t="Now what I would like to sort of be able to do is say-- oh, I&apos;ll do it in terms of cond. Cond, if not the predicate, then take the consequent,"><code onclick="Z(this)">0:44:28</code>Now what I would like to sort of be able to do is say-- oh, I'll do it in terms of cond. Cond, if not the predicate, then take the consequent,</span><span s="2681" t="otherwise, take the alternative."><code onclick="Z(this)">0:44:41</code>otherwise, take the alternative.</span><span s="2691" t="Now, what I&apos;d like this to mean, is supposing I do something like this. I&apos;d like this unless say if equals one, 0, then the answer"><code onclick="Z(this)">0:44:51</code>Now, what I'd like this to mean, is supposing I do something like this. I'd like this unless say if equals one, 0, then the answer</span><span s="2705" t="is two, otherwise, the quotient of one and 0."><code onclick="Z(this)">0:45:05</code>is two, otherwise, the quotient of one and 0.</span><span s="2715" t="What I&apos;d like that to mean is the result of substituting equal one, 0, and two, and the quotient of one, 0 for p, c, and a."><code onclick="Z(this)">0:45:15</code>What I'd like that to mean is the result of substituting equal one, 0, and two, and the quotient of one, 0 for p, c, and a.</span><span s="2725" t="I&apos;d like that to mean, and this is funny, I&apos;d like it to transform into or mean cond not equal one, 0, then the"><code onclick="Z(this)">0:45:25</code>I'd like that to mean, and this is funny, I'd like it to transform into or mean cond not equal one, 0, then the</span><span s="2740" t="result is two, otherwise I want it to be the quotient one and 0."><code onclick="Z(this)">0:45:40</code>result is two, otherwise I want it to be the quotient one and 0.</span><span s="2754" t="Now, you know that if I were to type this into Lisp, I&apos;d get a two. There&apos;s no problem with that. However, if I were to type this into Lisp, because all"><code onclick="Z(this)">0:45:54</code>Now, you know that if I were to type this into Lisp, I'd get a two. There's no problem with that. However, if I were to type this into Lisp, because all</span><span s="2765" t="the arguments are evaluated before I start, then I&apos;m going to get an error out of this. So that if the substitutions work at all, of course, I"><code onclick="Z(this)">0:46:05</code>the arguments are evaluated before I start, then I'm going to get an error out of this. So that if the substitutions work at all, of course, I</span><span s="2776" t="would get the right answer. But here&apos;s a case where the substitutions don&apos;t work. I don&apos;t get the wrong answer. I get no answer. I get an error."><code onclick="Z(this)">0:46:16</code>would get the right answer. But here's a case where the substitutions don't work. I don't get the wrong answer. I get no answer. I get an error.</span><span s="2788" t="Now, however, I&apos;d like to be able to make my definition so that this kind of thing works. What I want to do is say something special about c and a."><code onclick="Z(this)">0:46:28</code>Now, however, I'd like to be able to make my definition so that this kind of thing works. What I want to do is say something special about c and a.</span><span s="2799" t="I want them to be delayed automatically. I don&apos;t want them to be evaluated at the time I call."><code onclick="Z(this)">0:46:39</code>I want them to be delayed automatically. I don't want them to be evaluated at the time I call.</span><span s="2811" t="So I&apos;m going to make a declaration, and then I&apos;m going to see how to implement such a declaration. But again, I want you to say to yourself, oh, this is an interesting kluge he&apos;s adding in here."><code onclick="Z(this)">0:46:51</code>So I'm going to make a declaration, and then I'm going to see how to implement such a declaration. But again, I want you to say to yourself, oh, this is an interesting kluge he's adding in here.</span><span s="2822" t="The piles of kluges make a big complicated mess. And is this going to foul up something else that might occur. First of all, is it syntactically unambiguous?"><code onclick="Z(this)">0:47:02</code>The piles of kluges make a big complicated mess. And is this going to foul up something else that might occur. First of all, is it syntactically unambiguous?</span><span s="2833" t="Well, it will be syntactically unambiguous with what we&apos;ve seen so far. But what I&apos;m going to do may, in fact, cause trouble. It may be that the thing I had will conflict with type"><code onclick="Z(this)">0:47:13</code>Well, it will be syntactically unambiguous with what we've seen so far. But what I'm going to do may, in fact, cause trouble. It may be that the thing I had will conflict with type</span><span s="2845" t="declarations I might want to add in the future for giving some system, some compiler or something, the ability to optimize given the types are known."><code onclick="Z(this)">0:47:25</code>declarations I might want to add in the future for giving some system, some compiler or something, the ability to optimize given the types are known.</span><span s="2854" t="Or it might conflict with other types of declarations I might want to make about the formal parameters. So I&apos;m not making a general mechanism here where I can add"><code onclick="Z(this)">0:47:34</code>Or it might conflict with other types of declarations I might want to make about the formal parameters. So I'm not making a general mechanism here where I can add</span><span s="2864" t="declarations. And I would like to be able to do that. But I don&apos;t want to talk about that right now. So here I&apos;m going to do, I&apos;m going to build a kluge."><code onclick="Z(this)">0:47:44</code>declarations. And I would like to be able to do that. But I don't want to talk about that right now. So here I'm going to do, I'm going to build a kluge.</span><span s="2877" t="So we&apos;re going to define unless of a predicate--"><code onclick="Z(this)">0:47:57</code>So we're going to define unless of a predicate--</span><span s="2888" t="and I&apos;m going to call these by name-- the consequent, and name the alternative."><code onclick="Z(this)">0:48:08</code>and I'm going to call these by name-- the consequent, and name the alternative.</span><span s="2899" t="Huh, huh-- I got caught in the corner."><code onclick="Z(this)">0:48:19</code>Huh, huh-- I got caught in the corner.</span><span s="2911" t="If not p then the result is c, else--"><code onclick="Z(this)">0:48:31</code>If not p then the result is c, else--</span><span s="2920" t="that&apos;s what I&apos;d like. Where I can explicitly declare certain of the parameters to"><code onclick="Z(this)">0:48:40</code>that's what I'd like. Where I can explicitly declare certain of the parameters to</span><span s="2929" t="be delayed, to be computed later. Now, this is actually a very complicated modification to an interpreter rather than a simple one."><code onclick="Z(this)">0:48:49</code>be delayed, to be computed later. Now, this is actually a very complicated modification to an interpreter rather than a simple one.</span><span s="2940" t="The ones you saw before, dynamic binding or adding indefinite argument procedures, is relatively simple."><code onclick="Z(this)">0:49:00</code>The ones you saw before, dynamic binding or adding indefinite argument procedures, is relatively simple.</span><span s="2949" t="But this one changes a basic strategy. The problem here is that our interpreter, as written,"><code onclick="Z(this)">0:49:09</code>But this one changes a basic strategy. The problem here is that our interpreter, as written,</span><span s="2958" t="evaluates a combination by evaluating the procedure, the operator producing the procedure, and evaluating the operands producing the arguments, and then doing"><code onclick="Z(this)">0:49:18</code>evaluates a combination by evaluating the procedure, the operator producing the procedure, and evaluating the operands producing the arguments, and then doing</span><span s="2971" t="apply of the procedure to the arguments. However, here, I don&apos;t want to evaluate the operands to"><code onclick="Z(this)">0:49:31</code>apply of the procedure to the arguments. However, here, I don't want to evaluate the operands to</span><span s="2980" t="produce the arguments until after I examined the procedure to see what the procedure&apos;s declarations look like."><code onclick="Z(this)">0:49:40</code>produce the arguments until after I examined the procedure to see what the procedure's declarations look like.</span><span s="2989" t="So let&apos;s look at that. Here we have a changed evaluator. I&apos;m starting with the simple lexical evaluator, not"><code onclick="Z(this)">0:49:49</code>So let's look at that. Here we have a changed evaluator. I'm starting with the simple lexical evaluator, not</span><span s="3002" t="dynamic, but we&apos;re going to have to do something sort of similar in some ways. Because of the fact that, if I delay a procedure--"><code onclick="Z(this)">0:50:02</code>dynamic, but we're going to have to do something sort of similar in some ways. Because of the fact that, if I delay a procedure--</span><span s="3013" t="I&apos;m sorry-- delay an argument to a procedure, I&apos;m going to have to attach and environment to it. Remember how Hal implemented delay."><code onclick="Z(this)">0:50:13</code>I'm sorry-- delay an argument to a procedure, I'm going to have to attach and environment to it. Remember how Hal implemented delay.</span><span s="3023" t="Hal implemented delay as being a procedure of no arguments which does some expression. That&apos;s what delay of the expression is."><code onclick="Z(this)">0:50:23</code>Hal implemented delay as being a procedure of no arguments which does some expression. That's what delay of the expression is.</span><span s="3035" t="--of that expression. This turned into something like this."><code onclick="Z(this)">0:50:35</code>--of that expression. This turned into something like this.</span><span s="3044" t="Now, however, if I evaluate a lambda expression, I have to capture the environment. The reason why is because there are variables in there"><code onclick="Z(this)">0:50:44</code>Now, however, if I evaluate a lambda expression, I have to capture the environment. The reason why is because there are variables in there</span><span s="3056" t="who&apos;s meaning I wish to derive from the context where this was written. So that&apos;s why a lambda does the job."><code onclick="Z(this)">0:50:56</code>who's meaning I wish to derive from the context where this was written. So that's why a lambda does the job.</span><span s="3066" t="It&apos;s the right thing. And such that the forcing of a delayed expression was same"><code onclick="Z(this)">0:51:06</code>It's the right thing. And such that the forcing of a delayed expression was same</span><span s="3077" t="thing as calling that with no arguments. It&apos;s just the opposite of this. Producing an environment of the call which is, in fact,"><code onclick="Z(this)">0:51:17</code>thing as calling that with no arguments. It's just the opposite of this. Producing an environment of the call which is, in fact,</span><span s="3088" t="the environment where this was defined with an extra frame in it that&apos;s empty. I don&apos;t care about that. Well, if we go back to this slide, since it&apos;s the case, if"><code onclick="Z(this)">0:51:28</code>the environment where this was defined with an extra frame in it that's empty. I don't care about that. Well, if we go back to this slide, since it's the case, if</span><span s="3102" t="we look at this for a second, everything is the same as it was before except the case of applications or combinations."><code onclick="Z(this)">0:51:42</code>we look at this for a second, everything is the same as it was before except the case of applications or combinations.</span><span s="3111" t="And combinations are going to do two things. One, is I have to evaluate the procedure-- forget the procedure-- by evaluating the operator."><code onclick="Z(this)">0:51:51</code>And combinations are going to do two things. One, is I have to evaluate the procedure-- forget the procedure-- by evaluating the operator.</span><span s="3120" t="That&apos;s what you see right here. I have to make sure that that&apos;s current, that is not a delayed object, and evaluate that to the point where it&apos;s forced now."><code onclick="Z(this)">0:52:00</code>That's what you see right here. I have to make sure that that's current, that is not a delayed object, and evaluate that to the point where it's forced now.</span><span s="3130" t="And then I have to somehow apply that to the operands. But I have to keep the environment, pass that"><code onclick="Z(this)">0:52:10</code>And then I have to somehow apply that to the operands. But I have to keep the environment, pass that</span><span s="3140" t="environmental along. So some of those operands I may have to delay. I may have to attach that environment to those operands."><code onclick="Z(this)">0:52:20</code>environmental along. So some of those operands I may have to delay. I may have to attach that environment to those operands.</span><span s="3149" t="This is a rather complicated thing happening here. Looking at that in apply. Apply, well it has a primitive procedure"><code onclick="Z(this)">0:52:29</code>This is a rather complicated thing happening here. Looking at that in apply. Apply, well it has a primitive procedure</span><span s="3159" t="thing just like before. But the compound one is a little more interesting. I have to evaluate the body, just as before, in an"><code onclick="Z(this)">0:52:39</code>thing just like before. But the compound one is a little more interesting. I have to evaluate the body, just as before, in an</span><span s="3170" t="environment which is the result of binding some formal parameters to arguments in the environment."><code onclick="Z(this)">0:52:50</code>environment which is the result of binding some formal parameters to arguments in the environment.</span><span s="3180" t="That&apos;s true. The environment is the one that comes from the procedure now. It&apos;s a lexical language, statically bound. However, one thing I have to do is strip off the"><code onclick="Z(this)">0:53:00</code>That's true. The environment is the one that comes from the procedure now. It's a lexical language, statically bound. However, one thing I have to do is strip off the</span><span s="3191" t="declarations to get the names of the variables. That&apos;s what this guy does, vnames. And the other thing I have to do is process these declarations, deciding which of these operands--"><code onclick="Z(this)">0:53:11</code>declarations to get the names of the variables. That's what this guy does, vnames. And the other thing I have to do is process these declarations, deciding which of these operands--</span><span s="3201" t="that&apos;s the operands now, as opposed to the arguments-- which of these operands to evaluate, and which of them are to be encapsulated in delays of some sort."><code onclick="Z(this)">0:53:21</code>that's the operands now, as opposed to the arguments-- which of these operands to evaluate, and which of them are to be encapsulated in delays of some sort.</span><span s="3217" t="The other thing you see here is that we got a primitive, a primitive like plus, had better get at the real operands. So here is a place where we&apos;re going to have to force them."><code onclick="Z(this)">0:53:37</code>The other thing you see here is that we got a primitive, a primitive like plus, had better get at the real operands. So here is a place where we're going to have to force them.</span><span s="3227" t="And we&apos;re going to look at what evlist is going to have to do a bunch of forces. So we have two different kinds of evlist now. We have evlist and gevlist. Gevlist is going to wrap delays around some things and force others, evaluate others."><code onclick="Z(this)">0:53:47</code>And we're going to look at what evlist is going to have to do a bunch of forces. So we have two different kinds of evlist now. We have evlist and gevlist. Gevlist is going to wrap delays around some things and force others, evaluate others.</span><span s="3239" t="And this guy&apos;s going to do some forcing of things. Just looking at this a little bit, this is a game you must"><code onclick="Z(this)">0:53:59</code>And this guy's going to do some forcing of things. Just looking at this a little bit, this is a game you must</span><span s="3250" t="play for yourself, you know. It&apos;s not something that you&apos;re going to see all possible variations on an evaluator talking to me."><code onclick="Z(this)">0:54:10</code>play for yourself, you know. It's not something that you're going to see all possible variations on an evaluator talking to me.</span><span s="3259" t="What you have to do is do this for yourself. And after you feel this, you play this a bit, you get to see all the possible design decisions and what they might mean, and how they interact with each other."><code onclick="Z(this)">0:54:19</code>What you have to do is do this for yourself. And after you feel this, you play this a bit, you get to see all the possible design decisions and what they might mean, and how they interact with each other.</span><span s="3269" t="So what languages might have in them. And what are some of the consistent sets that make a legitimate language. Whereas what things are complicated kluges that are"><code onclick="Z(this)">0:54:29</code>So what languages might have in them. And what are some of the consistent sets that make a legitimate language. Whereas what things are complicated kluges that are</span><span s="3279" t="just piles of junk. So evlist of course, over here, just as I said, is a list of operands which are going to be undelayed after"><code onclick="Z(this)">0:54:39</code>just piles of junk. So evlist of course, over here, just as I said, is a list of operands which are going to be undelayed after</span><span s="3289" t="evaluation. So these are going to be forced, whatever that&apos;s going to mean. And gevlist, which is the next thing--"><code onclick="Z(this)">0:54:49</code>evaluation. So these are going to be forced, whatever that's going to mean. And gevlist, which is the next thing--</span><span s="3301" t="Thank you. What we see here, well there&apos;s a couple of possibilities. Either it&apos;s a normal, ordinary thing, a symbol sitting there"><code onclick="Z(this)">0:55:01</code>Thank you. What we see here, well there's a couple of possibilities. Either it's a normal, ordinary thing, a symbol sitting there</span><span s="3313" t="like the predicate in the unless, and that&apos;s what we have here. In which case, this is intended to be evaluated in applicative order."><code onclick="Z(this)">0:55:13</code>like the predicate in the unless, and that's what we have here. In which case, this is intended to be evaluated in applicative order.</span><span s="3323" t="And it&apos;s, essentially, just what we had before. It&apos;s mapping eval down the list. In other words, I evaluate the first expression and continue gevlisting the"><code onclick="Z(this)">0:55:23</code>And it's, essentially, just what we had before. It's mapping eval down the list. In other words, I evaluate the first expression and continue gevlisting the</span><span s="3335" t="CDR of the expression in the environment. However, it&apos;s possible that this is a name parameter. If it&apos;s a name parameter, I want to put a delay in which"><code onclick="Z(this)">0:55:35</code>CDR of the expression in the environment. However, it's possible that this is a name parameter. If it's a name parameter, I want to put a delay in which</span><span s="3347" t="combines that expression, which I&apos;m calling by name, with the environment that&apos;s available at this time and"><code onclick="Z(this)">0:55:47</code>combines that expression, which I'm calling by name, with the environment that's available at this time and</span><span s="3359" t="passing that as the parameter. And this is part of the mapping process that you see here."><code onclick="Z(this)">0:55:59</code>passing that as the parameter. And this is part of the mapping process that you see here.</span><span s="3369" t="The only other interesting place in this interpreter is cond. People tend to write this thing, and then they leave this one out."><code onclick="Z(this)">0:56:09</code>The only other interesting place in this interpreter is cond. People tend to write this thing, and then they leave this one out.</span><span s="3378" t="There&apos;s a place where you have to force. Conditionals have to know whether or not the answer is true or false. It&apos;s like a primitive."><code onclick="Z(this)">0:56:18</code>There's a place where you have to force. Conditionals have to know whether or not the answer is true or false. It's like a primitive.</span><span s="3388" t="When you do a conditional, you have to force. Now, I&apos;m not going to look at any more of this in any detail. It isn&apos;t very exciting. And what&apos;s left is how you make delays."><code onclick="Z(this)">0:56:28</code>When you do a conditional, you have to force. Now, I'm not going to look at any more of this in any detail. It isn't very exciting. And what's left is how you make delays.</span><span s="3398" t="Well, delays are data structures which contain an expression, an environment, and a type on them. And it says they&apos;re a thunk. That comes from ALGOL language, and it&apos;s claimed to"><code onclick="Z(this)">0:56:38</code>Well, delays are data structures which contain an expression, an environment, and a type on them. And it says they're a thunk. That comes from ALGOL language, and it's claimed to</span><span s="3410" t="be the sound of something being pushed on a stack. I don&apos;t know. I was not an ALGOLician or an ALGOLite or whatever, so I don&apos;t know. But that&apos;s what was claimed."><code onclick="Z(this)">0:56:50</code>be the sound of something being pushed on a stack. I don't know. I was not an ALGOLician or an ALGOLite or whatever, so I don't know. But that's what was claimed.</span><span s="3420" t="And undelay is something which will recursively undelay thunks until the thunk becomes something which isn&apos;t a thunk. This is the way you implement a call by name"><code onclick="Z(this)">0:57:00</code>And undelay is something which will recursively undelay thunks until the thunk becomes something which isn't a thunk. This is the way you implement a call by name</span><span s="3429" t="like thing in ALGOL. And that&apos;s about all there is. Are there any questions?"><code onclick="Z(this)">0:57:09</code>like thing in ALGOL. And that's about all there is. Are there any questions?</span><span s="3446" t="AUDIENCE: Gerry? PROFESSOR: Yes, Vesko? AUDIENCE: I noticed you avoided calling by name in the primitive procedures, I was wondering what"><code onclick="Z(this)">0:57:26</code>AUDIENCE: Gerry? PROFESSOR: Yes, Vesko? AUDIENCE: I noticed you avoided calling by name in the primitive procedures, I was wondering what</span><span s="3458" t="cause you have on that? You never need that? PROFESSOR: Vesko is asking if it&apos;s ever reasonable to call a primitive procedure by name?"><code onclick="Z(this)">0:57:38</code>cause you have on that? You never need that? PROFESSOR: Vesko is asking if it's ever reasonable to call a primitive procedure by name?</span><span s="3467" t="The answer is, yes. There&apos;s one particular case where it&apos;s reasonable, actually two."><code onclick="Z(this)">0:57:47</code>The answer is, yes. There's one particular case where it's reasonable, actually two.</span><span s="3476" t="Construction of a data structure like cons where making an array if you have arrays with any number of elements. It&apos;s unnecessary to evaluate those arguments."><code onclick="Z(this)">0:57:56</code>Construction of a data structure like cons where making an array if you have arrays with any number of elements. It's unnecessary to evaluate those arguments.</span><span s="3487" t="All you need is promises to evaluate those arguments if you look at them. If I cons together two things, then I could cons together the"><code onclick="Z(this)">0:58:07</code>All you need is promises to evaluate those arguments if you look at them. If I cons together two things, then I could cons together the</span><span s="3497" t="promises just as easily as I can cons together the things. And it&apos;s not even when I CAR CDR them that I have to look at them. That just gets out the promises and"><code onclick="Z(this)">0:58:17</code>promises just as easily as I can cons together the things. And it's not even when I CAR CDR them that I have to look at them. That just gets out the promises and</span><span s="3506" t="passes them to somebody. That&apos;s why the lambda calculus definition, the Alonzo Church definition of CAR, CDR, and cons makes sense. It&apos;s because no work is done in CAR, CDR, and cons, it&apos;s"><code onclick="Z(this)">0:58:26</code>passes them to somebody. That's why the lambda calculus definition, the Alonzo Church definition of CAR, CDR, and cons makes sense. It's because no work is done in CAR, CDR, and cons, it's</span><span s="3516" t="just shuffling data, it&apos;s just routing, if you will. However, the things that do have to look at data are things like plus."><code onclick="Z(this)">0:58:36</code>just shuffling data, it's just routing, if you will. However, the things that do have to look at data are things like plus.</span><span s="3525" t="Because they have a look at the bits that the numbers are made out of, unless they&apos;re lambda calculus numbers which are funny. They have to look at the bits to be able to crunch them"><code onclick="Z(this)">0:58:45</code>Because they have a look at the bits that the numbers are made out of, unless they're lambda calculus numbers which are funny. They have to look at the bits to be able to crunch them</span><span s="3534" t="together to do the add. So, in fact, data constructors, data selectors,"><code onclick="Z(this)">0:58:54</code>together to do the add. So, in fact, data constructors, data selectors,</span><span s="3543" t="and, in fact, things that side-effect data objects don&apos;t need to do any forcing in the laziest possible interpreters."><code onclick="Z(this)">0:59:03</code>and, in fact, things that side-effect data objects don't need to do any forcing in the laziest possible interpreters.</span><span s="3556" t="On the other hand predicates on data structures have to. Is this a pair? Or is it a symbol? Well, you better find out."><code onclick="Z(this)">0:59:16</code>On the other hand predicates on data structures have to. Is this a pair? Or is it a symbol? Well, you better find out.</span><span s="3565" t="You got to look at it then. Any other questions?"><code onclick="Z(this)">0:59:25</code>You got to look at it then. Any other questions?</span><span s="3580" t="Oh, well, I suppose it&apos;s time for a break. Thank you. [MUSIC PLAYING]"><code onclick="Z(this)">0:59:40</code>Oh, well, I suppose it's time for a break. Thank you. [MUSIC PLAYING]</span><span s="3602" t="and"><code onclick="Z(this)">1:00:02</code>and</span></div><div class="eventlist" side="R" vid="cyVXjnFL2Ps"><h5><code onclick="Z(this)">0:00:00</code>Lecture 8A | MIT 6.001 Structure and Interpretation, 1986</h5><span s="0" t=" [MUSIC PLAYING BY J.S. BACH]"><code onclick="Z(this)">0:00:00</code> [MUSIC PLAYING BY J.S. BACH]</span><span s="17" t="PROFESSOR: The last time we began having a look at how languages are constructed. Remember the main point that an evaluator for, LISP, say,"><code onclick="Z(this)">0:00:17</code>PROFESSOR: The last time we began having a look at how languages are constructed. Remember the main point that an evaluator for, LISP, say,</span><span s="26" t="has two main elements. There is EVAL, and EVAL&apos;s job is to take in an expression"><code onclick="Z(this)">0:00:26</code>has two main elements. There is EVAL, and EVAL's job is to take in an expression</span><span s="36" t="and an environment and turn that into a procedure and some arguments and pass that off to APPLY."><code onclick="Z(this)">0:00:36</code>and an environment and turn that into a procedure and some arguments and pass that off to APPLY.</span><span s="49" t="And APPLY takes the procedure in the arguments, turns that back into, in a general case, another expression to be evaluated in another environment and passes that"><code onclick="Z(this)">0:00:49</code>And APPLY takes the procedure in the arguments, turns that back into, in a general case, another expression to be evaluated in another environment and passes that</span><span s="58" t="off to EVAL, which passes it to APPLY, and there&apos;s this whole big circle where things go around and around and around until you get either to some very primitive data or to a primitive procedure."><code onclick="Z(this)">0:00:58</code>off to EVAL, which passes it to APPLY, and there's this whole big circle where things go around and around and around until you get either to some very primitive data or to a primitive procedure.</span><span s="67" t="See, what this cycle has to do with is unwinding the means of combination and the means of abstraction in the language. So for instance, you have a procedure in LISP-- a"><code onclick="Z(this)">0:01:07</code>See, what this cycle has to do with is unwinding the means of combination and the means of abstraction in the language. So for instance, you have a procedure in LISP-- a</span><span s="77" t="procedure is a general way of saying, I want to be able to evaluate this expression for any value of the arguments, and that&apos;s sort of what&apos;s going on here."><code onclick="Z(this)">0:01:17</code>procedure is a general way of saying, I want to be able to evaluate this expression for any value of the arguments, and that's sort of what's going on here.</span><span s="87" t="That&apos;s what APPLY does. It says the general thing coming in with the arguments reduces to the expression that&apos;s the body, and then if that&apos;s a compound expression or another procedure application, the thing will go around and around the circle."><code onclick="Z(this)">0:01:27</code>That's what APPLY does. It says the general thing coming in with the arguments reduces to the expression that's the body, and then if that's a compound expression or another procedure application, the thing will go around and around the circle.</span><span s="100" t="Anyway, that&apos;s sort of the basic structure of gee, pretty much any interpreter. The other thing that you saw is once you have the interpreter in your hands, you have all this power to start"><code onclick="Z(this)">0:01:40</code>Anyway, that's sort of the basic structure of gee, pretty much any interpreter. The other thing that you saw is once you have the interpreter in your hands, you have all this power to start</span><span s="109" t="playing with the language. So you can make it dynamically scoped, or you can put in normal order evaluation, or you can add new forms to the language, whatever you like. Or more generally, there&apos;s this notion of metalinguistic"><code onclick="Z(this)">0:01:49</code>playing with the language. So you can make it dynamically scoped, or you can put in normal order evaluation, or you can add new forms to the language, whatever you like. Or more generally, there's this notion of metalinguistic</span><span s="120" t="abstraction, which says that part of your perspective as an engineer, as a software engineer, but as an engineer"><code onclick="Z(this)">0:02:00</code>abstraction, which says that part of your perspective as an engineer, as a software engineer, but as an engineer</span><span s="129" t="in general is that you can gain control of complexity by inventing new languages sometimes."><code onclick="Z(this)">0:02:09</code>in general is that you can gain control of complexity by inventing new languages sometimes.</span><span s="138" t="See, one way to think about computer programming is that it only incidentally has to do with getting a computer to do something. Primarily what a computer program has to do with, it&apos;s a"><code onclick="Z(this)">0:02:18</code>See, one way to think about computer programming is that it only incidentally has to do with getting a computer to do something. Primarily what a computer program has to do with, it's a</span><span s="149" t="way of expressing ideas with communicating ideas. And sometimes when you want to communicate new kinds of ideas, you&apos;d like to invent new modes of expressing that."><code onclick="Z(this)">0:02:29</code>way of expressing ideas with communicating ideas. And sometimes when you want to communicate new kinds of ideas, you'd like to invent new modes of expressing that.</span><span s="159" t="Well, today we&apos;re going to apply this framework to build a new language. See, once we have the basic idea of the interpreter, you"><code onclick="Z(this)">0:02:39</code>Well, today we're going to apply this framework to build a new language. See, once we have the basic idea of the interpreter, you</span><span s="168" t="can pretty much go build any language that you like. So for example, we can go off and build Pascal. And gee, we would worry about syntax and parsing and various"><code onclick="Z(this)">0:02:48</code>can pretty much go build any language that you like. So for example, we can go off and build Pascal. And gee, we would worry about syntax and parsing and various</span><span s="178" t="kinds of compiler optimizations, and there are people who make honest livings doing that, but at the level of abstraction that we&apos;re talking, a Pascal interpreter"><code onclick="Z(this)">0:02:58</code>kinds of compiler optimizations, and there are people who make honest livings doing that, but at the level of abstraction that we're talking, a Pascal interpreter</span><span s="189" t="would not look very different at all from what you saw Gerry do last time. Instead of that, we&apos;ll spend today building a really"><code onclick="Z(this)">0:03:09</code>would not look very different at all from what you saw Gerry do last time. Instead of that, we'll spend today building a really</span><span s="198" t="different language, a language that encourages you to think about programming not in terms of procedures, but in a really different way."><code onclick="Z(this)">0:03:18</code>different language, a language that encourages you to think about programming not in terms of procedures, but in a really different way.</span><span s="209" t="And the lecture today is going to be at two levels simultaneously. On the one hand, I&apos;m going to show you what this language looks like, and on the other hand, I&apos;ll show you how it&apos;s"><code onclick="Z(this)">0:03:29</code>And the lecture today is going to be at two levels simultaneously. On the one hand, I'm going to show you what this language looks like, and on the other hand, I'll show you how it's</span><span s="220" t="implemented. And we&apos;ll build an implementation in LISP and see how that works. And you should be drawing lessons on two levels. The first is to realize just how different a"><code onclick="Z(this)">0:03:40</code>implemented. And we'll build an implementation in LISP and see how that works. And you should be drawing lessons on two levels. The first is to realize just how different a</span><span s="232" t="language can be. So if you think that the jump from Fortran to LISP is a big deal, you haven&apos;t seen anything yet."><code onclick="Z(this)">0:03:52</code>language can be. So if you think that the jump from Fortran to LISP is a big deal, you haven't seen anything yet.</span><span s="241" t="And secondly, you&apos;ll see that even with such a very different language, which will turn out to not have procedures at all and not talk about functions at all, there"><code onclick="Z(this)">0:04:01</code>And secondly, you'll see that even with such a very different language, which will turn out to not have procedures at all and not talk about functions at all, there</span><span s="252" t="will still be this basic cycle of eval and apply that&apos;s unwinds the means of combination and the means an abstraction. And then thirdly, as kind of a minor but elegant technical"><code onclick="Z(this)">0:04:12</code>will still be this basic cycle of eval and apply that's unwinds the means of combination and the means an abstraction. And then thirdly, as kind of a minor but elegant technical</span><span s="264" t="point, you&apos;ll see a nice use of streams to avoid backtracking. OK, well, I said that this language is very different."><code onclick="Z(this)">0:04:24</code>point, you'll see a nice use of streams to avoid backtracking. OK, well, I said that this language is very different.</span><span s="275" t="To explain that, let&apos;s go back to the very first idea that we talked about in this course, and that was the idea of the"><code onclick="Z(this)">0:04:35</code>To explain that, let's go back to the very first idea that we talked about in this course, and that was the idea of the</span><span s="284" t="distinction between the declarative knowledge of mathematics-- the definition of a square root as a mathematical truth--"><code onclick="Z(this)">0:04:44</code>distinction between the declarative knowledge of mathematics-- the definition of a square root as a mathematical truth--</span><span s="295" t="and the idea that computer science talks about the how to knowledge-- contrast that definition of square root with a program to compute a square root."><code onclick="Z(this)">0:04:55</code>and the idea that computer science talks about the how to knowledge-- contrast that definition of square root with a program to compute a square root.</span><span s="305" t="That&apos;s where we started off. Well, wouldn&apos;t it be great if you could somehow bridge this gap and make a programming language which sort of did"><code onclick="Z(this)">0:05:05</code>That's where we started off. Well, wouldn't it be great if you could somehow bridge this gap and make a programming language which sort of did</span><span s="316" t="things, but you talked about it in terms of truth, in declarative terms? So that would be a programming language in which you specify facts."><code onclick="Z(this)">0:05:16</code>things, but you talked about it in terms of truth, in declarative terms? So that would be a programming language in which you specify facts.</span><span s="327" t="You tell it what is. You say what is true. And then when you want an answer, somehow the language has built into it automatically general kinds of"><code onclick="Z(this)">0:05:27</code>You tell it what is. You say what is true. And then when you want an answer, somehow the language has built into it automatically general kinds of</span><span s="338" t="how to knowledge so it can just take your facts and it can evolve these methods on its on using the facts you gave it and maybe some general rules of logic."><code onclick="Z(this)">0:05:38</code>how to knowledge so it can just take your facts and it can evolve these methods on its on using the facts you gave it and maybe some general rules of logic.</span><span s="349" t="So for instance, I might go up to this program and start telling it some things. So I might tell it that the son of Adam is Abel."><code onclick="Z(this)">0:05:49</code>So for instance, I might go up to this program and start telling it some things. So I might tell it that the son of Adam is Abel.</span><span s="368" t="And I might tell it that the son of Adam is Cain."><code onclick="Z(this)">0:06:08</code>And I might tell it that the son of Adam is Cain.</span><span s="377" t="And I might tell it that the son of Cain is Enoch."><code onclick="Z(this)">0:06:17</code>And I might tell it that the son of Cain is Enoch.</span><span s="387" t="And I might tell it that the son of Enoch is Irad, and all"><code onclick="Z(this)">0:06:27</code>And I might tell it that the son of Enoch is Irad, and all</span><span s="397" t="through the rest of our chapter whatever of Genesis, which ends up ending in Adah, by the way, and this shows the genealogy of Adah from Cain."><code onclick="Z(this)">0:06:37</code>through the rest of our chapter whatever of Genesis, which ends up ending in Adah, by the way, and this shows the genealogy of Adah from Cain.</span><span s="408" t="Anyway, once you tell it these facts, you might ask it things. You might go up to your language and say, who&apos;s the"><code onclick="Z(this)">0:06:48</code>Anyway, once you tell it these facts, you might ask it things. You might go up to your language and say, who's the</span><span s="418" t="son of Adam? And you can very easily imagine having a little general purpose search program which would be able to go through and in response to that say, oh yeah, there are"><code onclick="Z(this)">0:06:58</code>son of Adam? And you can very easily imagine having a little general purpose search program which would be able to go through and in response to that say, oh yeah, there are</span><span s="428" t="two answers: the son of Adam is Abel and the son of Adam is Cain. Or you might say, based on the very same facts, who is Cain"><code onclick="Z(this)">0:07:08</code>two answers: the son of Adam is Abel and the son of Adam is Cain. Or you might say, based on the very same facts, who is Cain</span><span s="439" t="the son of? And then you can imagine generating another slightly different search program which would be able to go through"><code onclick="Z(this)">0:07:19</code>the son of? And then you can imagine generating another slightly different search program which would be able to go through</span><span s="449" t="and checked for who is Cain, and son of, and come up with Adam. Or you might say, what&apos;s the relationship"><code onclick="Z(this)">0:07:29</code>and checked for who is Cain, and son of, and come up with Adam. Or you might say, what's the relationship</span><span s="460" t="between Cain and Enoch? And again, a minor variant on that search program. You could figure out that it said son of."><code onclick="Z(this)">0:07:40</code>between Cain and Enoch? And again, a minor variant on that search program. You could figure out that it said son of.</span><span s="472" t="But even here in this very simple example, what you see is that a single fact, see, a single fact like the son of Adam is Cain can be used to answer"><code onclick="Z(this)">0:07:52</code>But even here in this very simple example, what you see is that a single fact, see, a single fact like the son of Adam is Cain can be used to answer</span><span s="484" t="different kinds of questions. You can say, who&apos;s the son of, or you can say who&apos;s the son of Adam, or you can say what&apos;s the relation between Adam and Cain? Those are different questions being run by different"><code onclick="Z(this)">0:08:04</code>different kinds of questions. You can say, who's the son of, or you can say who's the son of Adam, or you can say what's the relation between Adam and Cain? Those are different questions being run by different</span><span s="497" t="traditional procedures all based on the same fact. And that&apos;s going to be the essence of the power of this programming style, that one piece of declarative knowledge"><code onclick="Z(this)">0:08:17</code>traditional procedures all based on the same fact. And that's going to be the essence of the power of this programming style, that one piece of declarative knowledge</span><span s="510" t="can be used as the basis for a lot of different kinds of how-to knowledge, as opposed to the kinds of procedures we&apos;re writing where you sort of tell it what input you&apos;re"><code onclick="Z(this)">0:08:30</code>can be used as the basis for a lot of different kinds of how-to knowledge, as opposed to the kinds of procedures we're writing where you sort of tell it what input you're</span><span s="519" t="giving it and what answer you want. So for instance, our square root program can perfectly well answer the question, what&apos;s the square root of 144?"><code onclick="Z(this)">0:08:39</code>giving it and what answer you want. So for instance, our square root program can perfectly well answer the question, what's the square root of 144?</span><span s="528" t="But in principle, the mathematical definition of square root tells you other things. Like it could say, what is 17 the square root of?"><code onclick="Z(this)">0:08:48</code>But in principle, the mathematical definition of square root tells you other things. Like it could say, what is 17 the square root of?</span><span s="537" t="And that would be have to be answered by a different program. So the mathematical definition, or in general, the facts that you give it are somehow unbiased as to what"><code onclick="Z(this)">0:08:57</code>And that would be have to be answered by a different program. So the mathematical definition, or in general, the facts that you give it are somehow unbiased as to what</span><span s="549" t="the question is. Whereas the programs we tend to write specifically because they are how-to knowledge tend to be looking for a specific answer. So that&apos;s going to be one characteristic of what we&apos;re"><code onclick="Z(this)">0:09:09</code>the question is. Whereas the programs we tend to write specifically because they are how-to knowledge tend to be looking for a specific answer. So that's going to be one characteristic of what we're</span><span s="559" t="talking about. We can go on. We can imagine that we&apos;ve given our language some sort of facts. Now let&apos;s give it some rules of inference."><code onclick="Z(this)">0:09:19</code>talking about. We can go on. We can imagine that we've given our language some sort of facts. Now let's give it some rules of inference.</span><span s="570" t="We can say, for instance, if the-- make up some syntax here-- if the son of x is y--"><code onclick="Z(this)">0:09:30</code>We can say, for instance, if the-- make up some syntax here-- if the son of x is y--</span><span s="581" t="I&apos;ll put question marks to indicate variables here-- if the son of x is y and the son of y is z, then the"><code onclick="Z(this)">0:09:41</code>I'll put question marks to indicate variables here-- if the son of x is y and the son of y is z, then the</span><span s="601" t="grandson of x is z. So I can imagine telling my machine that rule and then"><code onclick="Z(this)">0:10:01</code>grandson of x is z. So I can imagine telling my machine that rule and then</span><span s="615" t="being able to say, for instance, who&apos;s the grandson of Adam? Or who is Irad the grandson of?"><code onclick="Z(this)">0:10:15</code>being able to say, for instance, who's the grandson of Adam? Or who is Irad the grandson of?</span><span s="624" t="Or deduce all grandson relationships you possibly can from this information. We can imagine somehow the language knowing how to do"><code onclick="Z(this)">0:10:24</code>Or deduce all grandson relationships you possibly can from this information. We can imagine somehow the language knowing how to do</span><span s="634" t="that automatically. Let me give you maybe a little bit more concrete example."><code onclick="Z(this)">0:10:34</code>that automatically. Let me give you maybe a little bit more concrete example.</span><span s="649" t="Here&apos;s a procedure that merges two sorted lists. So x and y are two, say, lists of numbers, lists of distinct"><code onclick="Z(this)">0:10:49</code>Here's a procedure that merges two sorted lists. So x and y are two, say, lists of numbers, lists of distinct</span><span s="661" t="numbers, if you like, that are in increasing order. And what merge does is take two such lists and combine them into a list where everything&apos;s in increasing"><code onclick="Z(this)">0:11:01</code>numbers, if you like, that are in increasing order. And what merge does is take two such lists and combine them into a list where everything's in increasing</span><span s="670" t="order, and this is a pretty easy programs that you ought to be able to write. It says, if x is empty, the answer is y. If y is empty, the answer is x."><code onclick="Z(this)">0:11:10</code>order, and this is a pretty easy programs that you ought to be able to write. It says, if x is empty, the answer is y. If y is empty, the answer is x.</span><span s="681" t="Otherwise, you compare the first two elements. So you pick out the first thing in x and the first thing in y, and then depending on which of those first elements"><code onclick="Z(this)">0:11:21</code>Otherwise, you compare the first two elements. So you pick out the first thing in x and the first thing in y, and then depending on which of those first elements</span><span s="691" t="is less, you stick the lower one on to the result a recursively merging, either chopping the first one off x"><code onclick="Z(this)">0:11:31</code>is less, you stick the lower one on to the result a recursively merging, either chopping the first one off x</span><span s="700" t="or chopping the first one off y. That&apos;s a standard kind of program. Let&apos;s look at the logic. Let&apos;s forget about the program and look at the logic on which"><code onclick="Z(this)">0:11:40</code>or chopping the first one off y. That's a standard kind of program. Let's look at the logic. Let's forget about the program and look at the logic on which</span><span s="711" t="that procedure is based. See, there&apos;s some logic which says, gee, if the first one is less, then we get the answer by sticking something onto the"><code onclick="Z(this)">0:11:51</code>that procedure is based. See, there's some logic which says, gee, if the first one is less, then we get the answer by sticking something onto the</span><span s="720" t="result of recursively merging the rest. So let&apos;s try and be explicit about what that logic is that&apos;s making the program work. So here&apos;s one piece."><code onclick="Z(this)">0:12:00</code>result of recursively merging the rest. So let's try and be explicit about what that logic is that's making the program work. So here's one piece.</span><span s="730" t="Here&apos;s the piece of the program which recursively chops down x if the first thing in x is smaller."><code onclick="Z(this)">0:12:10</code>Here's the piece of the program which recursively chops down x if the first thing in x is smaller.</span><span s="739" t="And if you want to be very explicit about what the logic is there, what&apos;s really going on is a deduction, which says, if you know that some list, that we&apos;ll call cdr of x, and"><code onclick="Z(this)">0:12:19</code>And if you want to be very explicit about what the logic is there, what's really going on is a deduction, which says, if you know that some list, that we'll call cdr of x, and</span><span s="751" t="y merged to form z, and you know that a is less than the"><code onclick="Z(this)">0:12:31</code>y merged to form z, and you know that a is less than the</span><span s="760" t="first thing in y, then you know that if you put a onto the cdr of x, then that result and y merge to form a onto z."><code onclick="Z(this)">0:12:40</code>first thing in y, then you know that if you put a onto the cdr of x, then that result and y merge to form a onto z.</span><span s="775" t="And what that is, that&apos;s the underlying piece of logic-- I haven&apos;t written it as a program, I wrote it a sort of deduction that&apos;s underneath this particular clause that"><code onclick="Z(this)">0:12:55</code>And what that is, that's the underlying piece of logic-- I haven't written it as a program, I wrote it a sort of deduction that's underneath this particular clause that</span><span s="785" t="says we can use the recursion there. And then similar, here&apos;s the other clause just to complete it."><code onclick="Z(this)">0:13:05</code>says we can use the recursion there. And then similar, here's the other clause just to complete it.</span><span s="794" t="The other clause is based on this piece of logic, which is almost the same and I won&apos;t go through it, and then there&apos;s the n cases where we tested for null, and that&apos;s based on the idea that for any x, x and the empty list merge to form"><code onclick="Z(this)">0:13:14</code>The other clause is based on this piece of logic, which is almost the same and I won't go through it, and then there's the n cases where we tested for null, and that's based on the idea that for any x, x and the empty list merge to form</span><span s="806" t="an x, or for any y, the empty list and y merge to form y. OK, so there&apos;s a piece of procedure and the logic on"><code onclick="Z(this)">0:13:26</code>an x, or for any y, the empty list and y merge to form y. OK, so there's a piece of procedure and the logic on</span><span s="819" t="which it&apos;s based. And notice a big difference. The procedure looked like this: it"><code onclick="Z(this)">0:13:39</code>which it's based. And notice a big difference. The procedure looked like this: it</span><span s="831" t="said there was a box-- and all the things we&apos;ve been doing have the characteristic we have boxes and things going in and things going out-- there was this box called merge, and in came an x and y,"><code onclick="Z(this)">0:13:51</code>said there was a box-- and all the things we've been doing have the characteristic we have boxes and things going in and things going out-- there was this box called merge, and in came an x and y,</span><span s="844" t="and out came an answer. That&apos;s the character of the procedure that we wrote."><code onclick="Z(this)">0:14:04</code>and out came an answer. That's the character of the procedure that we wrote.</span><span s="853" t="These rules don&apos;t look like that. These rules talk about a relation. There&apos;s some sort of relation that in those slides I called"><code onclick="Z(this)">0:14:13</code>These rules don't look like that. These rules talk about a relation. There's some sort of relation that in those slides I called</span><span s="863" t="mrege-to-form. So I said x and y merge to form z, and somehow this is a function."><code onclick="Z(this)">0:14:23</code>mrege-to-form. So I said x and y merge to form z, and somehow this is a function.</span><span s="872" t="Right? The answer is a function of x and y, and here what I have is a relation between three things. And I&apos;m not going to specify which is the input and which"><code onclick="Z(this)">0:14:32</code>Right? The answer is a function of x and y, and here what I have is a relation between three things. And I'm not going to specify which is the input and which</span><span s="883" t="is the output. And the reason I want to say that is because in principle, we could use exactly those same logic rules to answer a lot of different questions."><code onclick="Z(this)">0:14:43</code>is the output. And the reason I want to say that is because in principle, we could use exactly those same logic rules to answer a lot of different questions.</span><span s="894" t="So we can say, for instance-- imagine giving our machine those rules of logic. Not the program, the underlying rules of logic. Then it ought to be able to say--"><code onclick="Z(this)">0:14:54</code>So we can say, for instance-- imagine giving our machine those rules of logic. Not the program, the underlying rules of logic. Then it ought to be able to say--</span><span s="904" t="we could ask it-- 1, 3, 7 and 2, 4, 8 merge to form what?"><code onclick="Z(this)">0:15:04</code>we could ask it-- 1, 3, 7 and 2, 4, 8 merge to form what?</span><span s="920" t="And that&apos;s a question it ought to be able to answer. That&apos;s exactly the same question that our list procedure answered. But the exact same rules should also be able to answer"><code onclick="Z(this)">0:15:20</code>And that's a question it ought to be able to answer. That's exactly the same question that our list procedure answered. But the exact same rules should also be able to answer</span><span s="933" t="a question like this: 1, 3, 7 and what merged to form 1, 2, 3, 4, 7, 8?"><code onclick="Z(this)">0:15:33</code>a question like this: 1, 3, 7 and what merged to form 1, 2, 3, 4, 7, 8?</span><span s="945" t="The same rules of logic can answer this, although the procedure we wrote can&apos;t answer that question. Or we might be able to say what and what"><code onclick="Z(this)">0:15:45</code>The same rules of logic can answer this, although the procedure we wrote can't answer that question. Or we might be able to say what and what</span><span s="956" t="else merge to form--"><code onclick="Z(this)">0:15:56</code>else merge to form--</span><span s="967" t="what and what else merge to form 1, 2, 3, 4, 7, 8? And the thing should be able to go through, if it really"><code onclick="Z(this)">0:16:07</code>what and what else merge to form 1, 2, 3, 4, 7, 8? And the thing should be able to go through, if it really</span><span s="976" t="can apply that logic, and deduce all, whatever is, 2 to the sixth answers to that question."><code onclick="Z(this)">0:16:16</code>can apply that logic, and deduce all, whatever is, 2 to the sixth answers to that question.</span><span s="985" t="It could be 1 and the rest, or it could be 1, 2 and the rest. Or it could be 1 and 3 and 7 and the rest. There&apos;s a whole bunch of answers. And in principle, the logic should be"><code onclick="Z(this)">0:16:25</code>It could be 1 and the rest, or it could be 1, 2 and the rest. Or it could be 1 and 3 and 7 and the rest. There's a whole bunch of answers. And in principle, the logic should be</span><span s="996" t="enough to deduce that. So there are going to be two big differences in the kind of program we&apos;re going to look at and not only list, but"><code onclick="Z(this)">0:16:36</code>enough to deduce that. So there are going to be two big differences in the kind of program we're going to look at and not only list, but</span><span s="1008" t="essentially all the programming you&apos;ve probably done so far in pretty much any language you can think of. The first is, we&apos;re not going to be computing functions."><code onclick="Z(this)">0:16:48</code>essentially all the programming you've probably done so far in pretty much any language you can think of. The first is, we're not going to be computing functions.</span><span s="1020" t="We&apos;re not going to be talking about things that take input and output. We&apos;re going to be talking about relations. And that means in principle, these relations don&apos;t have"><code onclick="Z(this)">0:17:00</code>We're not going to be talking about things that take input and output. We're going to be talking about relations. And that means in principle, these relations don't have</span><span s="1029" t="directionality. So the knowledge that you specify to answer this question, that same knowledge should also allow you to"><code onclick="Z(this)">0:17:09</code>directionality. So the knowledge that you specify to answer this question, that same knowledge should also allow you to</span><span s="1039" t="answer these other questions and conversely. And the second issue is that since we&apos;re talking about"><code onclick="Z(this)">0:17:19</code>answer these other questions and conversely. And the second issue is that since we're talking about</span><span s="1050" t="relations, these relations don&apos;t necessarily have one answer. So that third question down there doesn&apos;t have a particular answer, it has a whole bunch of answers."><code onclick="Z(this)">0:17:30</code>relations, these relations don't necessarily have one answer. So that third question down there doesn't have a particular answer, it has a whole bunch of answers.</span><span s="1062" t="Well, that&apos;s where we&apos;re going. This style of programming, by the way, is called logic programming, for kind of obvious reasons."><code onclick="Z(this)">0:17:42</code>Well, that's where we're going. This style of programming, by the way, is called logic programming, for kind of obvious reasons.</span><span s="1076" t="And people who do logic programming say that-- they have this little phrase-- they say the point of logic programming is that you use logic to express what is true,"><code onclick="Z(this)">0:17:56</code>And people who do logic programming say that-- they have this little phrase-- they say the point of logic programming is that you use logic to express what is true,</span><span s="1090" t="you use logic to check whether something is true, and you use logic to find out what is true."><code onclick="Z(this)">0:18:10</code>you use logic to check whether something is true, and you use logic to find out what is true.</span><span s="1099" t="The best known logic programming language, as you probably know, is called Prolog. The language that we&apos;re going to implement this morning is"><code onclick="Z(this)">0:18:19</code>The best known logic programming language, as you probably know, is called Prolog. The language that we're going to implement this morning is</span><span s="1111" t="something we call the query language, and it essentially has the essence of prologue. It can do about the same stuff, although it&apos;s a lot slower because we&apos;re going to implement it in LISP rather"><code onclick="Z(this)">0:18:31</code>something we call the query language, and it essentially has the essence of prologue. It can do about the same stuff, although it's a lot slower because we're going to implement it in LISP rather</span><span s="1122" t="than building a particular compiler. We&apos;re going to interpret it on top of the LISP interpreter. But other than that, it can do about the same stuff as prolog. It has about the same power and about the same"><code onclick="Z(this)">0:18:42</code>than building a particular compiler. We're going to interpret it on top of the LISP interpreter. But other than that, it can do about the same stuff as prolog. It has about the same power and about the same</span><span s="1132" t="limitations. All right, let&apos;s break for question. STUDENT: Yes, could you please repeat what the three things"><code onclick="Z(this)">0:18:52</code>limitations. All right, let's break for question. STUDENT: Yes, could you please repeat what the three things</span><span s="1144" t="you use logic programming to find? In other words, to find what is true, learn what is true-- what is the? PROFESSOR: Right. Sort of a logic programmer&apos;s little catechism."><code onclick="Z(this)">0:19:04</code>you use logic programming to find? In other words, to find what is true, learn what is true-- what is the? PROFESSOR: Right. Sort of a logic programmer's little catechism.</span><span s="1155" t="You use logic to express what is true, like these rules. You use logic to check whether something is true, and that&apos;s"><code onclick="Z(this)">0:19:15</code>You use logic to express what is true, like these rules. You use logic to check whether something is true, and that's</span><span s="1166" t="the kind of question I didn&apos;t answer here. I might say-- another question I could put down here is to say, is it true that 1, 3, 7 and 2, 4, 8 merge to form 1, 2, 6, 10 And"><code onclick="Z(this)">0:19:26</code>the kind of question I didn't answer here. I might say-- another question I could put down here is to say, is it true that 1, 3, 7 and 2, 4, 8 merge to form 1, 2, 6, 10 And</span><span s="1181" t="that same logic should be enough to say no. So I use logic to check what is true, and then you also use logic to find out what&apos;s true."><code onclick="Z(this)">0:19:41</code>that same logic should be enough to say no. So I use logic to check what is true, and then you also use logic to find out what's true.</span><span s="1204" t="All right. Let&apos;s break. [MUSIC PLAYING BY J.S. BACH]"><code onclick="Z(this)">0:20:04</code>All right. Let's break. [MUSIC PLAYING BY J.S. BACH]</span><span s="1222" t="[MUSIC ENDS]"><code onclick="Z(this)">0:20:22</code>[MUSIC ENDS]</span><span s="1247" t="[MUSIC PLAYING BY J.S. BACH]"><code onclick="Z(this)">0:20:47</code>[MUSIC PLAYING BY J.S. BACH]</span><span s="1262" t="PROFESSOR: OK, let&apos;s go ahead and take a look at this query language and operation. The first thing you might notice, when I put up that"><code onclick="Z(this)">0:21:02</code>PROFESSOR: OK, let's go ahead and take a look at this query language and operation. The first thing you might notice, when I put up that</span><span s="1272" t="little biblical database, is that it&apos;s nice to be able to ask this language questions in relation to some collection of facts."><code onclick="Z(this)">0:21:12</code>little biblical database, is that it's nice to be able to ask this language questions in relation to some collection of facts.</span><span s="1281" t="So let&apos;s start off and make a little collection of facts. This is a tiny fragment of personnel records for a Boston"><code onclick="Z(this)">0:21:21</code>So let's start off and make a little collection of facts. This is a tiny fragment of personnel records for a Boston</span><span s="1291" t="high tech company, and here&apos;s a piece of the personnel records of Ben Bitdiddle. And Ben Bitdiddle is the computer wizard in this"><code onclick="Z(this)">0:21:31</code>high tech company, and here's a piece of the personnel records of Ben Bitdiddle. And Ben Bitdiddle is the computer wizard in this</span><span s="1301" t="company, he&apos;s the underpaid computer wizard in this company. His supervisor is all Oliver Warbucks, and here&apos;s his address."><code onclick="Z(this)">0:21:41</code>company, he's the underpaid computer wizard in this company. His supervisor is all Oliver Warbucks, and here's his address.</span><span s="1312" t="So the format is we&apos;re giving this information: job, salary, supervisor, address. And there are some other conventions. Computer here means that Ben works in the computer"><code onclick="Z(this)">0:21:52</code>So the format is we're giving this information: job, salary, supervisor, address. And there are some other conventions. Computer here means that Ben works in the computer</span><span s="1321" t="division, and his position in the computer division is wizard. Here&apos;s somebody else. Alyssa, Alyssa P. Hacker is a computer programmer, and she"><code onclick="Z(this)">0:22:01</code>division, and his position in the computer division is wizard. Here's somebody else. Alyssa, Alyssa P. Hacker is a computer programmer, and she</span><span s="1333" t="works for Ben, and she lives in Cambridge. And there&apos;s another programmer who works for Ben who&apos;s Lem E. Tweakit."><code onclick="Z(this)">0:22:13</code>works for Ben, and she lives in Cambridge. And there's another programmer who works for Ben who's Lem E. Tweakit.</span><span s="1342" t="And there&apos;s a programmer trainee, who is Louis Reasoner, and he works for Alyssa. And the big wheel of the company doesn&apos;t work for"><code onclick="Z(this)">0:22:22</code>And there's a programmer trainee, who is Louis Reasoner, and he works for Alyssa. And the big wheel of the company doesn't work for</span><span s="1354" t="anybody, right? That&apos;s Oliver Warbucks. Anyway, what we&apos;re going to do is ask questions about that"><code onclick="Z(this)">0:22:34</code>anybody, right? That's Oliver Warbucks. Anyway, what we're going to do is ask questions about that</span><span s="1363" t="little world. And that&apos;ll be a sample world that we&apos;re going to do logic in. Let me just write up here, for probably the last time, what I"><code onclick="Z(this)">0:22:43</code>little world. And that'll be a sample world that we're going to do logic in. Let me just write up here, for probably the last time, what I</span><span s="1375" t="said is the very most important thing you should get out of this course, and that is, when somebody tells you about a language, you say, fine-- what are the primitives, what are the means of combination,"><code onclick="Z(this)">0:22:55</code>said is the very most important thing you should get out of this course, and that is, when somebody tells you about a language, you say, fine-- what are the primitives, what are the means of combination,</span><span s="1395" t="how do you put the primitives together, and then how do you abstract them, how do you abstract the compound pieces"><code onclick="Z(this)">0:23:15</code>how do you put the primitives together, and then how do you abstract them, how do you abstract the compound pieces</span><span s="1404" t="so you can use them as pieces to make something more complicated? And we&apos;ve said this a whole bunch of times already, but it&apos;s worth saying again."><code onclick="Z(this)">0:23:24</code>so you can use them as pieces to make something more complicated? And we've said this a whole bunch of times already, but it's worth saying again.</span><span s="1416" t="Let&apos;s start. The primitives. Well, there&apos;s really only one primitive, and the primitive in this language is called a query. A primitive query."><code onclick="Z(this)">0:23:36</code>Let's start. The primitives. Well, there's really only one primitive, and the primitive in this language is called a query. A primitive query.</span><span s="1426" t="Let&apos;s look at some primitive queries. Job x. Who is a computer programmer?"><code onclick="Z(this)">0:23:46</code>Let's look at some primitive queries. Job x. Who is a computer programmer?</span><span s="1435" t="Or find every fact in the database that matches job of"><code onclick="Z(this)">0:23:55</code>Or find every fact in the database that matches job of</span><span s="1444" t="the x is computer programmer. And you see a little syntax here. Things without question marks are meant to be literal, question mark x means that&apos;s a variable, and this thing will"><code onclick="Z(this)">0:24:04</code>the x is computer programmer. And you see a little syntax here. Things without question marks are meant to be literal, question mark x means that's a variable, and this thing will</span><span s="1453" t="match, for example, the fact that Alyssa P. Hacker is a computer programmer, or x is Alyssa P. Hacker."><code onclick="Z(this)">0:24:13</code>match, for example, the fact that Alyssa P. Hacker is a computer programmer, or x is Alyssa P. Hacker.</span><span s="1466" t="Or more generally, I could have something with two variables in it. I could say, the job of x is computer something, and"><code onclick="Z(this)">0:24:26</code>Or more generally, I could have something with two variables in it. I could say, the job of x is computer something, and</span><span s="1479" t="that&apos;ll match computer wizard. So there&apos;s something here: type will match wizard, or type will match programmer, or x might match"><code onclick="Z(this)">0:24:39</code>that'll match computer wizard. So there's something here: type will match wizard, or type will match programmer, or x might match</span><span s="1489" t="various certain things. So there are, in our little example, only three facts in that database that match that query."><code onclick="Z(this)">0:24:49</code>various certain things. So there are, in our little example, only three facts in that database that match that query.</span><span s="1499" t="Let&apos;s see, just to show you some syntax, the same query, this query doesn&apos;t match the job of x, doesn&apos;t match Lewis"><code onclick="Z(this)">0:24:59</code>Let's see, just to show you some syntax, the same query, this query doesn't match the job of x, doesn't match Lewis</span><span s="1511" t="Reasoner, the reason for that is when I write something here, what I mean is that this is going to be a list of two symbols, of which the first is the word computer, and the"><code onclick="Z(this)">0:25:11</code>Reasoner, the reason for that is when I write something here, what I mean is that this is going to be a list of two symbols, of which the first is the word computer, and the</span><span s="1522" t="second can be anything. And Lewis&apos;s job description here has three symbols, so it doesn&apos;t match. And just to show you a little bit of syntax, the more"><code onclick="Z(this)">0:25:22</code>second can be anything. And Lewis's job description here has three symbols, so it doesn't match. And just to show you a little bit of syntax, the more</span><span s="1535" t="general thing I might want to type is a thing with a dot here, and this is just standard this notation for saying, this is a list, of which the first element is the"><code onclick="Z(this)">0:25:35</code>general thing I might want to type is a thing with a dot here, and this is just standard this notation for saying, this is a list, of which the first element is the</span><span s="1546" t="word computers, and THE REST, is something that I&apos;ll call type. So this one would match."><code onclick="Z(this)">0:25:46</code>word computers, and THE REST, is something that I'll call type. So this one would match.</span><span s="1556" t="Lewis&apos;s job is computer programmer trainee, and type here would be the cdr of this list. It would be the list programmer trainee."><code onclick="Z(this)">0:25:56</code>Lewis's job is computer programmer trainee, and type here would be the cdr of this list. It would be the list programmer trainee.</span><span s="1566" t="And that kind of dot processing is done automatically by the LISP reader."><code onclick="Z(this)">0:26:06</code>And that kind of dot processing is done automatically by the LISP reader.</span><span s="1575" t="Well, let&apos;s actually try this. The idea is I&apos;m going to type in queries in this language, and answers will come out. Let&apos;s look at this."><code onclick="Z(this)">0:26:15</code>Well, let's actually try this. The idea is I'm going to type in queries in this language, and answers will come out. Let's look at this.</span><span s="1585" t="I can go up and say, who works in the computer division? Job of x is computer dot y."><code onclick="Z(this)">0:26:25</code>I can go up and say, who works in the computer division? Job of x is computer dot y.</span><span s="1599" t="Doesn&apos;t matter what I call the dummy variables. It says the answers to that, and it&apos;s found four answers."><code onclick="Z(this)">0:26:39</code>Doesn't matter what I call the dummy variables. It says the answers to that, and it's found four answers.</span><span s="1608" t="Or I can go off and say, tell me about everybody&apos;s supervisor. So I&apos;ll put in the query, the primitive query, the supervisor of x is y."><code onclick="Z(this)">0:26:48</code>Or I can go off and say, tell me about everybody's supervisor. So I'll put in the query, the primitive query, the supervisor of x is y.</span><span s="1622" t="There are all the supervisor relationships I know. Or I could go type in, who lives in Cambridge? So I can say, the address of x is Cambridge dot anything."><code onclick="Z(this)">0:27:02</code>There are all the supervisor relationships I know. Or I could go type in, who lives in Cambridge? So I can say, the address of x is Cambridge dot anything.</span><span s="1645" t="And only one person lives in Cambridge. OK, so those are primitive queries. And you see what happens to basic interaction with the"><code onclick="Z(this)">0:27:25</code>And only one person lives in Cambridge. OK, so those are primitive queries. And you see what happens to basic interaction with the</span><span s="1654" t="system is you type in a query, and it types out all possible answers. Or another way to say that: it finds out all the possible"><code onclick="Z(this)">0:27:34</code>system is you type in a query, and it types out all possible answers. Or another way to say that: it finds out all the possible</span><span s="1663" t="values of those variables x and y or t or whatever I&apos;ve called them, and it types out all ways of taking that query and instantiating it--"><code onclick="Z(this)">0:27:43</code>values of those variables x and y or t or whatever I've called them, and it types out all ways of taking that query and instantiating it--</span><span s="1673" t="remember that from the rule system lecture-- instantiates the query with all possible values for those variables and then types out all of them. And there are a lot of ways you can"><code onclick="Z(this)">0:27:53</code>remember that from the rule system lecture-- instantiates the query with all possible values for those variables and then types out all of them. And there are a lot of ways you can</span><span s="1682" t="arrange a logic language. Prolog, for instance, does something slightly different. Rather than typing back your query, prolog would type out, x equals this and y equals that, or x sequels this and y"><code onclick="Z(this)">0:28:02</code>arrange a logic language. Prolog, for instance, does something slightly different. Rather than typing back your query, prolog would type out, x equals this and y equals that, or x sequels this and y</span><span s="1692" t="equals that. And that&apos;s a very surface level thing, you can decide what you like. OK. All right."><code onclick="Z(this)">0:28:12</code>equals that. And that's a very surface level thing, you can decide what you like. OK. All right.</span><span s="1701" t="So the primitives in this language? Only one, right? Primitive query."><code onclick="Z(this)">0:28:21</code>So the primitives in this language? Only one, right? Primitive query.</span><span s="1711" t="OK. Means of combination. Let&apos;s look at some compound queries in this language. Here&apos;s one."><code onclick="Z(this)">0:28:31</code>OK. Means of combination. Let's look at some compound queries in this language. Here's one.</span><span s="1721" t="This one says, tell me all the people who work in the computer division. Tell me all the people who work in the computer division"><code onclick="Z(this)">0:28:41</code>This one says, tell me all the people who work in the computer division. Tell me all the people who work in the computer division</span><span s="1732" t="together with their supervisors. The way I write that is the query is and. And the job of the x is computer something or other."><code onclick="Z(this)">0:28:52</code>together with their supervisors. The way I write that is the query is and. And the job of the x is computer something or other.</span><span s="1744" t="And job of x is computer dot y. And the supervisor of x is z. Tell me all the people in the computer division--"><code onclick="Z(this)">0:29:04</code>And job of x is computer dot y. And the supervisor of x is z. Tell me all the people in the computer division--</span><span s="1753" t="that&apos;s this-- together with their supervisors. And notice in this query I have three variables-- x, y, and z."><code onclick="Z(this)">0:29:13</code>that's this-- together with their supervisors. And notice in this query I have three variables-- x, y, and z.</span><span s="1763" t="And this x is supposed to be the same as that x. So x works in the computer division, and the supervisor of x is z."><code onclick="Z(this)">0:29:23</code>And this x is supposed to be the same as that x. So x works in the computer division, and the supervisor of x is z.</span><span s="1774" t="Let&apos;s try another one. So one means of combination is and. Who are all the people who make more than $30,000?"><code onclick="Z(this)">0:29:34</code>Let's try another one. So one means of combination is and. Who are all the people who make more than $30,000?</span><span s="1785" t="And the salary of some person p is some amount a."><code onclick="Z(this)">0:29:45</code>And the salary of some person p is some amount a.</span><span s="1794" t="And when I go and look at a, a is greater than $30,000. And LISP value here is a little piece of interface that"><code onclick="Z(this)">0:29:54</code>And when I go and look at a, a is greater than $30,000. And LISP value here is a little piece of interface that</span><span s="1806" t="interfaces the query language to the underlying LISP. And what the LISP value allows you to do is call any LISP predicate inside a query."><code onclick="Z(this)">0:30:06</code>interfaces the query language to the underlying LISP. And what the LISP value allows you to do is call any LISP predicate inside a query.</span><span s="1817" t="So here I&apos;m using the LISP predicate greater than, so I say LISP value. This I say and. So all the people whose salary is greater than $30,000."><code onclick="Z(this)">0:30:17</code>So here I'm using the LISP predicate greater than, so I say LISP value. This I say and. So all the people whose salary is greater than $30,000.</span><span s="1828" t="Or here&apos;s a more complicated one. Tell me all the people who work in the computer division who do not have a supervisor who works in"><code onclick="Z(this)">0:30:28</code>Or here's a more complicated one. Tell me all the people who work in the computer division who do not have a supervisor who works in</span><span s="1838" t="the computer division. and x works in the computer division. The job of x is computer dot y."><code onclick="Z(this)">0:30:38</code>the computer division. and x works in the computer division. The job of x is computer dot y.</span><span s="1847" t="And it&apos;s not the case that both x has a supervisor z and the job of z is computer something or other."><code onclick="Z(this)">0:30:47</code>And it's not the case that both x has a supervisor z and the job of z is computer something or other.</span><span s="1859" t="All right, so again, this x has got to be that x, and this z is going to be that z."><code onclick="Z(this)">0:30:59</code>All right, so again, this x has got to be that x, and this z is going to be that z.</span><span s="1869" t="And then you see another means a combination, not. All right, well, let&apos;s look at that."><code onclick="Z(this)">0:31:09</code>And then you see another means a combination, not. All right, well, let's look at that.</span><span s="1880" t="It works the same way. I can go up to the machine and say and the job of the x is"><code onclick="Z(this)">0:31:20</code>It works the same way. I can go up to the machine and say and the job of the x is</span><span s="1893" t="computer dot y. And the supervisor of x is z."><code onclick="Z(this)">0:31:33</code>computer dot y. And the supervisor of x is z.</span><span s="1906" t="And I typed that in like a query. And what it types back, what you see are the queries I"><code onclick="Z(this)">0:31:46</code>And I typed that in like a query. And what it types back, what you see are the queries I</span><span s="1915" t="typed in instantiated by all possible answers. And then you see there are a lot of answers. All right. So the means of combination in this language--"><code onclick="Z(this)">0:31:55</code>typed in instantiated by all possible answers. And then you see there are a lot of answers. All right. So the means of combination in this language--</span><span s="1925" t="and this is why it&apos;s called a logic language-- are logical operations. Means of combinations are things like AND and NOT and"><code onclick="Z(this)">0:32:05</code>and this is why it's called a logic language-- are logical operations. Means of combinations are things like AND and NOT and</span><span s="1936" t="there&apos;s one I didn&apos;t show you, which is OR. And then I showed you LISP value, which is not logic, of course, but is a little special hack to interface that"><code onclick="Z(this)">0:32:16</code>there's one I didn't show you, which is OR. And then I showed you LISP value, which is not logic, of course, but is a little special hack to interface that</span><span s="1946" t="to LISP so you can get more power. Those are the means of combination. OK, the means of abstraction. What we&apos;d like to do--"><code onclick="Z(this)">0:32:26</code>to LISP so you can get more power. Those are the means of combination. OK, the means of abstraction. What we'd like to do--</span><span s="1958" t="let&apos;s go back for second and look at that last slide. We might like to take very complicated thing, the idea that someone works in a division but does not have a"><code onclick="Z(this)">0:32:38</code>let's go back for second and look at that last slide. We might like to take very complicated thing, the idea that someone works in a division but does not have a</span><span s="1968" t="supervisor in the division. And as before, name that. Well, if someone works in a division and does not have a"><code onclick="Z(this)">0:32:48</code>supervisor in the division. And as before, name that. Well, if someone works in a division and does not have a</span><span s="1978" t="supervisor who works in that division, that means that person is a big shot. So let&apos;s make a rule that somebody x is a big shot in"><code onclick="Z(this)">0:32:58</code>supervisor who works in that division, that means that person is a big shot. So let's make a rule that somebody x is a big shot in</span><span s="1988" t="some department if x works in the department and it&apos;s not the case that x has a supervisor who works in the"><code onclick="Z(this)">0:33:08</code>some department if x works in the department and it's not the case that x has a supervisor who works in the</span><span s="1999" t="department. So this is our means of abstraction. This is a rule. And a rule has three parts."><code onclick="Z(this)">0:33:19</code>department. So this is our means of abstraction. This is a rule. And a rule has three parts.</span><span s="2010" t="The thing that says it&apos;s a rule. And then there&apos;s the conclusion of the rule. And then there&apos;s the body of the rule."><code onclick="Z(this)">0:33:30</code>The thing that says it's a rule. And then there's the conclusion of the rule. And then there's the body of the rule.</span><span s="2020" t="And you can read this as a piece of logic which says, if you know that the body of the rule is true, then you can conclude that the conclusion is true."><code onclick="Z(this)">0:33:40</code>And you can read this as a piece of logic which says, if you know that the body of the rule is true, then you can conclude that the conclusion is true.</span><span s="2029" t="Or in order to deduce that x is a big shot in some department, it&apos;s enough to verify that. So that&apos;s what rules look like."><code onclick="Z(this)">0:33:49</code>Or in order to deduce that x is a big shot in some department, it's enough to verify that. So that's what rules look like.</span><span s="2043" t="Let&apos;s go back and look at that merge example that I did before the break. Let&apos;s look at how that would look in terms of rules. I&apos;m going to take the logic I put up and just change it into"><code onclick="Z(this)">0:34:03</code>Let's go back and look at that merge example that I did before the break. Let's look at how that would look in terms of rules. I'm going to take the logic I put up and just change it into</span><span s="2054" t="a bunch of rules in this format. We have a rule. Remember, there was this thing merge-to-form. There is a rule that says, the empty list and y"><code onclick="Z(this)">0:34:14</code>a bunch of rules in this format. We have a rule. Remember, there was this thing merge-to-form. There is a rule that says, the empty list and y</span><span s="2068" t="merge to form y. This is the rule conclusion. And notice this particular rule has no body. And in this language, a rule with no body is something that"><code onclick="Z(this)">0:34:28</code>merge to form y. This is the rule conclusion. And notice this particular rule has no body. And in this language, a rule with no body is something that</span><span s="2080" t="is always true. You can always assume that&apos;s true. And there was another piece of logic that said anything in the empty list merged to form the anything."><code onclick="Z(this)">0:34:40</code>is always true. You can always assume that's true. And there was another piece of logic that said anything in the empty list merged to form the anything.</span><span s="2089" t="That&apos;s this. A rule y and the empty list merge to form y. Those corresponded to the two end cases in our merge"><code onclick="Z(this)">0:34:49</code>That's this. A rule y and the empty list merge to form y. Those corresponded to the two end cases in our merge</span><span s="2098" t="procedure, but now we&apos;re talking about logic, not about procedures. Then we had another rule, which said if you know how"><code onclick="Z(this)">0:34:58</code>procedure, but now we're talking about logic, not about procedures. Then we had another rule, which said if you know how</span><span s="2107" t="shorter things merge, you can put them together. So this says, if you have a list x and y and z, and if you want to deduce that a dot x-- this means constant a onto x,"><code onclick="Z(this)">0:35:07</code>shorter things merge, you can put them together. So this says, if you have a list x and y and z, and if you want to deduce that a dot x-- this means constant a onto x,</span><span s="2119" t="or a list whose first thing is a and whose rest is x-- so if you want to deduce that a dot x and b dot y merge to form b dot c--"><code onclick="Z(this)">0:35:19</code>or a list whose first thing is a and whose rest is x-- so if you want to deduce that a dot x and b dot y merge to form b dot c--</span><span s="2130" t="that would say you merge these two lists a x and b y and you&apos;re going to get something that starts with b-- you can deduce that if you know that it&apos;s the case both"><code onclick="Z(this)">0:35:30</code>that would say you merge these two lists a x and b y and you're going to get something that starts with b-- you can deduce that if you know that it's the case both</span><span s="2141" t="that a dot x and y merge to form z and a is larger than b. So when I merge them, b will come first in the list. That&apos;s"><code onclick="Z(this)">0:35:41</code>that a dot x and y merge to form z and a is larger than b. So when I merge them, b will come first in the list. That's</span><span s="2152" t="a little translation of the logic rule that I wrote in pseudo-English before. And then just for completeness, here&apos;s the other case."><code onclick="Z(this)">0:35:52</code>a little translation of the logic rule that I wrote in pseudo-English before. And then just for completeness, here's the other case.</span><span s="2163" t="a dot x and b dot y merge to form a dot z if x and b dot y merged to form z and b is larger than a."><code onclick="Z(this)">0:36:03</code>a dot x and b dot y merge to form a dot z if x and b dot y merged to form z and b is larger than a.</span><span s="2172" t="So that&apos;s a little program that I&apos;ve typed in in this language, and now let&apos;s look at it run."><code onclick="Z(this)">0:36:12</code>So that's a little program that I've typed in in this language, and now let's look at it run.</span><span s="2181" t="So I typed in the merge rules before, and I could use this like a procedure. I could say merge to form 1 and 3 and 2 and 7."><code onclick="Z(this)">0:36:21</code>So I typed in the merge rules before, and I could use this like a procedure. I could say merge to form 1 and 3 and 2 and 7.</span><span s="2199" t="So here I&apos;m using it like the LISP procedure. Now it&apos;s going to think about that for a while and apply these rules."><code onclick="Z(this)">0:36:39</code>So here I'm using it like the LISP procedure. Now it's going to think about that for a while and apply these rules.</span><span s="2210" t="So it found an answer. Now it&apos;s going to see if there are any other answers but it doesn&apos;t know a priori there&apos;s only one answer. So it&apos;s sitting here checking all possibilities, and it"><code onclick="Z(this)">0:36:50</code>So it found an answer. Now it's going to see if there are any other answers but it doesn't know a priori there's only one answer. So it's sitting here checking all possibilities, and it</span><span s="2220" t="says, no more. Done. So there I&apos;ve used those rules like a procedure. Or remember the whole point is that I can ask different kinds of questions."><code onclick="Z(this)">0:37:00</code>says, no more. Done. So there I've used those rules like a procedure. Or remember the whole point is that I can ask different kinds of questions.</span><span s="2230" t="I could say merge to form, let&apos;s see, how about 2 and a."><code onclick="Z(this)">0:37:10</code>I could say merge to form, let's see, how about 2 and a.</span><span s="2244" t="Some list of two elements which I know starts with 2, and the other thing I don&apos;t know, and x and some other"><code onclick="Z(this)">0:37:24</code>Some list of two elements which I know starts with 2, and the other thing I don't know, and x and some other</span><span s="2254" t="list merge to form a 1, 2, 3 and 4. So now it&apos;s going to think about that."><code onclick="Z(this)">0:37:34</code>list merge to form a 1, 2, 3 and 4. So now it's going to think about that.</span><span s="2264" t="It&apos;s got to find-- so it found one possibility. It said a could be 3, and x could be the list 1, 4."><code onclick="Z(this)">0:37:44</code>It's got to find-- so it found one possibility. It said a could be 3, and x could be the list 1, 4.</span><span s="2273" t="And now, again, it&apos;s got to check because it doesn&apos;t a priori know that there aren&apos;t any other possibilities going on."><code onclick="Z(this)">0:37:53</code>And now, again, it's got to check because it doesn't a priori know that there aren't any other possibilities going on.</span><span s="2283" t="Or like I said, I could say something like merge to form, like, what and what else merge to form 1, 2, 3, 4, 5?"><code onclick="Z(this)">0:38:03</code>Or like I said, I could say something like merge to form, like, what and what else merge to form 1, 2, 3, 4, 5?</span><span s="2304" t="Now it&apos;s going to think about that. And there are a lot of answers that it might get."><code onclick="Z(this)">0:38:24</code>Now it's going to think about that. And there are a lot of answers that it might get.</span><span s="2315" t="And what you see is here you&apos;re really paying the price of slowness. And kind of for three reasons. One is that this language is doubly interpreted."><code onclick="Z(this)">0:38:35</code>And what you see is here you're really paying the price of slowness. And kind of for three reasons. One is that this language is doubly interpreted.</span><span s="2327" t="Whereas in a real implementation, you would go compile this down to primitive operations. The other reason is that this particular algorithm for"><code onclick="Z(this)">0:38:47</code>Whereas in a real implementation, you would go compile this down to primitive operations. The other reason is that this particular algorithm for</span><span s="2336" t="merges is doubly recursive. So it&apos;s going to take a very long time. And eventually, this is going to go through and find--"><code onclick="Z(this)">0:38:56</code>merges is doubly recursive. So it's going to take a very long time. And eventually, this is going to go through and find--</span><span s="2346" t="find what? Two to the fifth possible answers. And you see they come out in some fairly arbitrary order, depending on which order it&apos;s going to be"><code onclick="Z(this)">0:39:06</code>find what? Two to the fifth possible answers. And you see they come out in some fairly arbitrary order, depending on which order it's going to be</span><span s="2357" t="trying these rules. In fact, what we&apos;re going to do when they edit the videotape is speed all this up. Don&apos;t you like taking out these weights?"><code onclick="Z(this)">0:39:17</code>trying these rules. In fact, what we're going to do when they edit the videotape is speed all this up. Don't you like taking out these weights?</span><span s="2366" t="And don&apos;t you wish you could do that in your demos? Anyway, it&apos;s still grinding there."><code onclick="Z(this)">0:39:26</code>And don't you wish you could do that in your demos? Anyway, it's still grinding there.</span><span s="2379" t="Anyway, there are 32 possibilities-- we won&apos;t wait for it to print out all of them. OK, so the needs of abstraction in this"><code onclick="Z(this)">0:39:39</code>Anyway, there are 32 possibilities-- we won't wait for it to print out all of them. OK, so the needs of abstraction in this</span><span s="2389" t="language are rules. So we take some bunch of things that are put together with logic and we name them."><code onclick="Z(this)">0:39:49</code>language are rules. So we take some bunch of things that are put together with logic and we name them.</span><span s="2400" t="And you can think of that as naming a particular pattern of logic. Or you can think of that as saying, if you want to deduce some conclusion, you can apply those rules of logic."><code onclick="Z(this)">0:40:00</code>And you can think of that as naming a particular pattern of logic. Or you can think of that as saying, if you want to deduce some conclusion, you can apply those rules of logic.</span><span s="2410" t="And those are three elements of this language. Let&apos;s break now, and then we&apos;ll talk about how it&apos;s actually implemented."><code onclick="Z(this)">0:40:10</code>And those are three elements of this language. Let's break now, and then we'll talk about how it's actually implemented.</span><span s="2422" t="STUDENT: Does using LISP value primitive or whatever interfere with your means to go both directions on a query?"><code onclick="Z(this)">0:40:22</code>STUDENT: Does using LISP value primitive or whatever interfere with your means to go both directions on a query?</span><span s="2431" t="PROFESSOR: OK, that&apos;s a-- the question is, does using LISP value interfere with the ability to go both directions on the query?"><code onclick="Z(this)">0:40:31</code>PROFESSOR: OK, that's a-- the question is, does using LISP value interfere with the ability to go both directions on the query?</span><span s="2440" t="We haven&apos;t really talked about the implementation yet, but the answer is, yes, it can. In general, as we&apos;ll see at the end--"><code onclick="Z(this)">0:40:40</code>We haven't really talked about the implementation yet, but the answer is, yes, it can. In general, as we'll see at the end--</span><span s="2450" t="although I really won&apos;t to go into details-- it&apos;s fairly complicated, especially when you use either not or LISP value--"><code onclick="Z(this)">0:40:50</code>although I really won't to go into details-- it's fairly complicated, especially when you use either not or LISP value--</span><span s="2459" t="or actually, if you use anything besides only and, it becomes very complicated to say when these things will work."><code onclick="Z(this)">0:40:59</code>or actually, if you use anything besides only and, it becomes very complicated to say when these things will work.</span><span s="2468" t="They won&apos;t work quite in all situations. I&apos;ll talk about that at the end of the second half today. But the answer to your question is, yes, by dragging"><code onclick="Z(this)">0:41:08</code>They won't work quite in all situations. I'll talk about that at the end of the second half today. But the answer to your question is, yes, by dragging</span><span s="2477" t="in a lot more power from LISP value, you lose some of the principal power of logic programming. That&apos;s a trade-off that you have to make."><code onclick="Z(this)">0:41:17</code>in a lot more power from LISP value, you lose some of the principal power of logic programming. That's a trade-off that you have to make.</span><span s="2488" t="OK, let&apos;s take a break."><code onclick="Z(this)">0:41:28</code>OK, let's take a break.</span></div><div class="eventlist" side="R" vid="R3uRidfSpc4"><h5><code onclick="Z(this)">0:00:00</code>Lecture 8B | MIT 6.001 Structure and Interpretation, 1986</h5><span s="0" t=""><code onclick="Z(this)">0:00:00</code></span><span s="18" t="PROFESSOR: All right, well, we&apos;ve seen how the query language works. Now, let&apos;s talk about how it&apos;s implemented. You already pretty much can guess what&apos;s going on there."><code onclick="Z(this)">0:00:18</code>PROFESSOR: All right, well, we've seen how the query language works. Now, let's talk about how it's implemented. You already pretty much can guess what's going on there.</span><span s="29" t="At the bottom of it, there&apos;s a pattern matcher. And we looked at a pattern matcher when we did the rule-based control language."><code onclick="Z(this)">0:00:29</code>At the bottom of it, there's a pattern matcher. And we looked at a pattern matcher when we did the rule-based control language.</span><span s="38" t="Just to remind you, here are some sample patterns. This is a pattern that will match any list of three things of which the first is a and the second is c and the middle"><code onclick="Z(this)">0:00:38</code>Just to remind you, here are some sample patterns. This is a pattern that will match any list of three things of which the first is a and the second is c and the middle</span><span s="48" t="one can be anything. So in this little pattern-matching syntax, there&apos;s only one distinction you make. There&apos;s either literal things or variables, and variables"><code onclick="Z(this)">0:00:48</code>one can be anything. So in this little pattern-matching syntax, there's only one distinction you make. There's either literal things or variables, and variables</span><span s="57" t="begin with question mark. So this matches any list of three things of which the first is a and the second is c."><code onclick="Z(this)">0:00:57</code>begin with question mark. So this matches any list of three things of which the first is a and the second is c.</span><span s="66" t="This one matches any list of three things of which the first is the symbol job. The second can be anything. And the third is a list of two things of which the first is"><code onclick="Z(this)">0:01:06</code>This one matches any list of three things of which the first is the symbol job. The second can be anything. And the third is a list of two things of which the first is</span><span s="76" t="the symbol computer and the second can be anything. And this one, this next one matches any list of three"><code onclick="Z(this)">0:01:16</code>the symbol computer and the second can be anything. And this one, this next one matches any list of three</span><span s="85" t="things, and the only difference is, here, the third list, the first is the symbol computer, and then there&apos;s some rest of the list. So this means two elements and this"><code onclick="Z(this)">0:01:25</code>things, and the only difference is, here, the third list, the first is the symbol computer, and then there's some rest of the list. So this means two elements and this</span><span s="96" t="means arbitrary number. And our language implementation isn&apos;t even going to have to worry about implementing this dot because that&apos;s automatically done by Lisp&apos;s reader."><code onclick="Z(this)">0:01:36</code>means arbitrary number. And our language implementation isn't even going to have to worry about implementing this dot because that's automatically done by Lisp's reader.</span><span s="108" t="Remember matchers also have some consistency in them. This match is a list of three things of which the first is a. And the second and third can be anything, but they have to be the same thing."><code onclick="Z(this)">0:01:48</code>Remember matchers also have some consistency in them. This match is a list of three things of which the first is a. And the second and third can be anything, but they have to be the same thing.</span><span s="117" t="They&apos;re both called x. And this matches a list of four things of which the first is the fourth and the second is the same as the third. And this last one matches any list that begins with a."><code onclick="Z(this)">0:01:57</code>They're both called x. And this matches a list of four things of which the first is the fourth and the second is the same as the third. And this last one matches any list that begins with a.</span><span s="129" t="The first thing is a, and the rest can be anything. So that&apos;s just a review of pattern matcher syntax that you&apos;ve already seen."><code onclick="Z(this)">0:02:09</code>The first thing is a, and the rest can be anything. So that's just a review of pattern matcher syntax that you've already seen.</span><span s="138" t="And remember, that&apos;s implemented by some procedure called match. And match takes a pattern and some data and a dictionary."><code onclick="Z(this)">0:02:18</code>And remember, that's implemented by some procedure called match. And match takes a pattern and some data and a dictionary.</span><span s="163" t="And match asks the question is there any way to match this pattern against this data object subject to the bindings"><code onclick="Z(this)">0:02:43</code>And match asks the question is there any way to match this pattern against this data object subject to the bindings</span><span s="175" t="that are already in this dictionary? So, for instance, if we&apos;re going to match the pattern x, y, y, x against the data a, b, b, a subject to a dictionary,"><code onclick="Z(this)">0:02:55</code>that are already in this dictionary? So, for instance, if we're going to match the pattern x, y, y, x against the data a, b, b, a subject to a dictionary,</span><span s="198" t="that says x equals a. Then the matcher would say, yes, that&apos;s consistent. These match, and it&apos;s consistent with what&apos;s in the"><code onclick="Z(this)">0:03:18</code>that says x equals a. Then the matcher would say, yes, that's consistent. These match, and it's consistent with what's in the</span><span s="208" t="dictionary to say that x equals a. And the result of the match is the extended dictionary that says x equals a and y equals b."><code onclick="Z(this)">0:03:28</code>dictionary to say that x equals a. And the result of the match is the extended dictionary that says x equals a and y equals b.</span><span s="219" t="So a matcher takes in pattern data dictionary, puts out an extended dictionary if it matches, or if it doesn&apos;t match, says that it fails. So, for example, if I use the same pattern here, if I say"><code onclick="Z(this)">0:03:39</code>So a matcher takes in pattern data dictionary, puts out an extended dictionary if it matches, or if it doesn't match, says that it fails. So, for example, if I use the same pattern here, if I say</span><span s="231" t="this x, y, y, x match a, b, b, a with the dictionary y equals"><code onclick="Z(this)">0:03:51</code>this x, y, y, x match a, b, b, a with the dictionary y equals</span><span s="242" t="a, then the matcher would put out fail."><code onclick="Z(this)">0:04:02</code>a, then the matcher would put out fail.</span><span s="252" t="Well, you&apos;ve already seen the code for a pattern matcher so I&apos;m not going to go over it, but it&apos;s the same thing we&apos;ve been doing before."><code onclick="Z(this)">0:04:12</code>Well, you've already seen the code for a pattern matcher so I'm not going to go over it, but it's the same thing we've been doing before.</span><span s="261" t="You saw that in the system on rule-based control. It&apos;s essentially the same matcher. In fact, I think the syntax is a little bit simpler because we&apos;re not worrying about arbitrary constants and"><code onclick="Z(this)">0:04:21</code>You saw that in the system on rule-based control. It's essentially the same matcher. In fact, I think the syntax is a little bit simpler because we're not worrying about arbitrary constants and</span><span s="270" t="expressions and things. There&apos;s just variables and constants. OK, well, given that, what&apos;s a primitive query?"><code onclick="Z(this)">0:04:30</code>expressions and things. There's just variables and constants. OK, well, given that, what's a primitive query?</span><span s="282" t="Primitive query is going to be a rather complicated thing. It&apos;s going to be-- let&apos;s think about the query job of x is d dot y."><code onclick="Z(this)">0:04:42</code>Primitive query is going to be a rather complicated thing. It's going to be-- let's think about the query job of x is d dot y.</span><span s="306" t="That&apos;s a query we might type in. That&apos;s going to be implemented in the system. We&apos;ll think of it as this little box."><code onclick="Z(this)">0:05:06</code>That's a query we might type in. That's going to be implemented in the system. We'll think of it as this little box.</span><span s="315" t="Here&apos;s the primitive query. What this little box is going to do is take in two streams"><code onclick="Z(this)">0:05:15</code>Here's the primitive query. What this little box is going to do is take in two streams</span><span s="332" t="and put out a stream. So the shape of a primitive query is that it&apos;s a thing where two streams come in and one stream goes out."><code onclick="Z(this)">0:05:32</code>and put out a stream. So the shape of a primitive query is that it's a thing where two streams come in and one stream goes out.</span><span s="341" t="What these streams are going to be is down here is the database."><code onclick="Z(this)">0:05:41</code>What these streams are going to be is down here is the database.</span><span s="351" t="So we imagine all the things in the database sort of sitting there in a stream and this thing sucks on them."><code onclick="Z(this)">0:05:51</code>So we imagine all the things in the database sort of sitting there in a stream and this thing sucks on them.</span><span s="360" t="So what are some things that might be in the database? Oh, job of Alyssa is something and some"><code onclick="Z(this)">0:06:00</code>So what are some things that might be in the database? Oh, job of Alyssa is something and some</span><span s="382" t="other job is something. So imagine all of the facts in the database sitting there in the stream."><code onclick="Z(this)">0:06:22</code>other job is something. So imagine all of the facts in the database sitting there in the stream.</span><span s="392" t="That&apos;s what comes in here. What comes in here is a stream of dictionaries. So one particular dictionary might say y equals programmer."><code onclick="Z(this)">0:06:32</code>That's what comes in here. What comes in here is a stream of dictionaries. So one particular dictionary might say y equals programmer.</span><span s="415" t="Now, what the query does when it gets in a dictionary from this stream, it finds all possible ways of matching the"><code onclick="Z(this)">0:06:55</code>Now, what the query does when it gets in a dictionary from this stream, it finds all possible ways of matching the</span><span s="426" t="query against whatever is coming in from the database. It looks at the query as a pattern, matches it against"><code onclick="Z(this)">0:07:06</code>query against whatever is coming in from the database. It looks at the query as a pattern, matches it against</span><span s="435" t="any fact from the database or all possible ways of finding and matching the database with respect to this dictionary"><code onclick="Z(this)">0:07:15</code>any fact from the database or all possible ways of finding and matching the database with respect to this dictionary</span><span s="444" t="that&apos;s coming in. So for each fact in the database, it calls the matcher using the pattern, fact, and dictionary."><code onclick="Z(this)">0:07:24</code>that's coming in. So for each fact in the database, it calls the matcher using the pattern, fact, and dictionary.</span><span s="455" t="And every time it gets a good match, it puts out the extended dictionary. So, for example, if this one comes in and it finds a match,"><code onclick="Z(this)">0:07:35</code>And every time it gets a good match, it puts out the extended dictionary. So, for example, if this one comes in and it finds a match,</span><span s="464" t="out will come a dictionary that in this case will have y equals programmer and x equals something."><code onclick="Z(this)">0:07:44</code>out will come a dictionary that in this case will have y equals programmer and x equals something.</span><span s="476" t="y is programmer, x is something, and d is whatever it found. And that&apos;s all. And, of course, it&apos;s going to try this for every fact in the"><code onclick="Z(this)">0:07:56</code>y is programmer, x is something, and d is whatever it found. And that's all. And, of course, it's going to try this for every fact in the</span><span s="487" t="dictionary. So it might find lots of them. It might find another one that says y equals programmer and x equals, and d equals."><code onclick="Z(this)">0:08:07</code>dictionary. So it might find lots of them. It might find another one that says y equals programmer and x equals, and d equals.</span><span s="500" t="So for one frame coming in, it might put out-- for one dictionary coming in, it might put out a lot of dictionaries, or it might put out none."><code onclick="Z(this)">0:08:20</code>So for one frame coming in, it might put out-- for one dictionary coming in, it might put out a lot of dictionaries, or it might put out none.</span><span s="510" t="It might have something that wouldn&apos;t match like x equals FOO."><code onclick="Z(this)">0:08:30</code>It might have something that wouldn't match like x equals FOO.</span><span s="519" t="This one might not match anything in which case nothing will go into this stream corresponding to this frame. Or what you might do is put in an empty frame, and an empty"><code onclick="Z(this)">0:08:39</code>This one might not match anything in which case nothing will go into this stream corresponding to this frame. Or what you might do is put in an empty frame, and an empty</span><span s="533" t="frame says try matching all ways-- find all possible ways of matching the query against"><code onclick="Z(this)">0:08:53</code>frame says try matching all ways-- find all possible ways of matching the query against</span><span s="542" t="something in the database subject to no previous restrictions. And if you think about what that means, that&apos;s just the computation that&apos;s done when you type in a query right off."><code onclick="Z(this)">0:09:02</code>something in the database subject to no previous restrictions. And if you think about what that means, that's just the computation that's done when you type in a query right off.</span><span s="553" t="It tries to find all matches. So a primitive query sets up this mechanism. And what the language does, when you type in the query at"><code onclick="Z(this)">0:09:13</code>It tries to find all matches. So a primitive query sets up this mechanism. And what the language does, when you type in the query at</span><span s="563" t="the top level, it takes this mechanism, feeds in one single empty dictionary, and then for each thing that comes out"><code onclick="Z(this)">0:09:23</code>the top level, it takes this mechanism, feeds in one single empty dictionary, and then for each thing that comes out</span><span s="573" t="takes the original query and instantiates the result with all the different dictionaries, producing a new stream of instantiated patterns here."><code onclick="Z(this)">0:09:33</code>takes the original query and instantiates the result with all the different dictionaries, producing a new stream of instantiated patterns here.</span><span s="584" t="And that&apos;s what gets printed on the terminal. That&apos;s the basic mechanism going on there."><code onclick="Z(this)">0:09:44</code>And that's what gets printed on the terminal. That's the basic mechanism going on there.</span><span s="593" t="Well, why is that so complicated? You probably can think of a lot simpler ways to arrange this match for a primitive query rather than having all"><code onclick="Z(this)">0:09:53</code>Well, why is that so complicated? You probably can think of a lot simpler ways to arrange this match for a primitive query rather than having all</span><span s="603" t="of these streams floating around. And the answer is-- you probably guess already. The answer is this thing extends elegantly to implement"><code onclick="Z(this)">0:10:03</code>of these streams floating around. And the answer is-- you probably guess already. The answer is this thing extends elegantly to implement</span><span s="615" t="the means of combination. So, for instance, suppose I don&apos;t only want to do this. I don&apos;t want to say who to be everybody&apos;s job description."><code onclick="Z(this)">0:10:15</code>the means of combination. So, for instance, suppose I don't only want to do this. I don't want to say who to be everybody's job description.</span><span s="627" t="Suppose I want to say AND the job of x is d dot y and the"><code onclick="Z(this)">0:10:27</code>Suppose I want to say AND the job of x is d dot y and the</span><span s="639" t="supervisor of x is z."><code onclick="Z(this)">0:10:39</code>supervisor of x is z.</span><span s="648" t="Now, supervisor of x is z is going to be another primitive query that has the same shape to take in a stream of data"><code onclick="Z(this)">0:10:48</code>Now, supervisor of x is z is going to be another primitive query that has the same shape to take in a stream of data</span><span s="657" t="objects, a stream of initial dictionaries, which are the restrictions to try and use when you match, and it&apos;s going to put out a stream of dictionaries."><code onclick="Z(this)">0:10:57</code>objects, a stream of initial dictionaries, which are the restrictions to try and use when you match, and it's going to put out a stream of dictionaries.</span><span s="668" t="So that&apos;s what this primitive query looks like. And how do I implement the AND? Well, it&apos;s simple. I just hook them together. I take the output of this one, and I put that to the"><code onclick="Z(this)">0:11:08</code>So that's what this primitive query looks like. And how do I implement the AND? Well, it's simple. I just hook them together. I take the output of this one, and I put that to the</span><span s="677" t="input of that one. And I take the dictionary here and I fan it out."><code onclick="Z(this)">0:11:17</code>input of that one. And I take the dictionary here and I fan it out.</span><span s="686" t="And then you see how that&apos;s going to work, because what&apos;s going to happen is a frame will now come in here, which has a binding for x, y, and d."><code onclick="Z(this)">0:11:26</code>And then you see how that's going to work, because what's going to happen is a frame will now come in here, which has a binding for x, y, and d.</span><span s="697" t="And then when this one gets it, it&apos;ll say, oh, gee, subject to these restrictions, which now already have values in the dictionary for y and x and d, it looks in the"><code onclick="Z(this)">0:11:37</code>And then when this one gets it, it'll say, oh, gee, subject to these restrictions, which now already have values in the dictionary for y and x and d, it looks in the</span><span s="712" t="database and says, gee, can I find any supervisor facts? And if it finds any, out will come dictionaries which have bindings for y and x and d and z now."><code onclick="Z(this)">0:11:52</code>database and says, gee, can I find any supervisor facts? And if it finds any, out will come dictionaries which have bindings for y and x and d and z now.</span><span s="732" t="And then notice that because the frames coming in here have these restrictions, that&apos;s the thing that assures that when you do the AND, this x will mean the same thing as that x."><code onclick="Z(this)">0:12:12</code>And then notice that because the frames coming in here have these restrictions, that's the thing that assures that when you do the AND, this x will mean the same thing as that x.</span><span s="746" t="Because by the time something comes floating in here, x has a value that you have to match against consistently. And then you remember from the code from the matcher, there"><code onclick="Z(this)">0:12:26</code>Because by the time something comes floating in here, x has a value that you have to match against consistently. And then you remember from the code from the matcher, there</span><span s="756" t="was something in the way the matcher did dictionaries that arrange consistent matches. So there&apos;s AND. The important point to notice is the general shape."><code onclick="Z(this)">0:12:36</code>was something in the way the matcher did dictionaries that arrange consistent matches. So there's AND. The important point to notice is the general shape.</span><span s="768" t="Look at what happened: the AND of two queries, say, P and Q. Here&apos;s P and Q. The AND of two queries, well,"><code onclick="Z(this)">0:12:48</code>Look at what happened: the AND of two queries, say, P and Q. Here's P and Q. The AND of two queries, well,</span><span s="780" t="it looks like this. Each query takes in a stream from the database, a stream of inputs, and puts out a stream of outputs."><code onclick="Z(this)">0:13:00</code>it looks like this. Each query takes in a stream from the database, a stream of inputs, and puts out a stream of outputs.</span><span s="790" t="And the important point to notice is that if I draw a box around this thing and say this is AND of P and Q, then that"><code onclick="Z(this)">0:13:10</code>And the important point to notice is that if I draw a box around this thing and say this is AND of P and Q, then that</span><span s="806" t="box has exactly the same overall shape. It&apos;s something that takes in a stream from the database. Here it&apos;s going to get fanned out inside, but from the"><code onclick="Z(this)">0:13:26</code>box has exactly the same overall shape. It's something that takes in a stream from the database. Here it's going to get fanned out inside, but from the</span><span s="817" t="outside you don&apos;t see that. It takes an input stream and puts out an output stream. So this is AND. And then similarly, OR would look like this."><code onclick="Z(this)">0:13:37</code>outside you don't see that. It takes an input stream and puts out an output stream. So this is AND. And then similarly, OR would look like this.</span><span s="826" t="OR would-- although I didn&apos;t show you examples of OR. OR would say can I find all ways of matching P or Q. So I"><code onclick="Z(this)">0:13:46</code>OR would-- although I didn't show you examples of OR. OR would say can I find all ways of matching P or Q. So I</span><span s="835" t="have P and Q. Each will have their shape."><code onclick="Z(this)">0:13:55</code>have P and Q. Each will have their shape.</span><span s="844" t="And the way OR is implemented is I&apos;ll take my database stream. I&apos;ll fan it out."><code onclick="Z(this)">0:14:04</code>And the way OR is implemented is I'll take my database stream. I'll fan it out.</span><span s="853" t="I&apos;ll put one into P and one into Q. I&apos;ll take my initial query stream coming in and fan it out."><code onclick="Z(this)">0:14:13</code>I'll put one into P and one into Q. I'll take my initial query stream coming in and fan it out.</span><span s="866" t="So I&apos;ll look at all the answers I might get from P and all the answers I might get from Q, and I&apos;ll put them through some sort of thing that appends them or merges"><code onclick="Z(this)">0:14:26</code>So I'll look at all the answers I might get from P and all the answers I might get from Q, and I'll put them through some sort of thing that appends them or merges</span><span s="875" t="the result into one stream, and that&apos;s what will come out. And this whole thing from the outside is OR."><code onclick="Z(this)">0:14:35</code>the result into one stream, and that's what will come out. And this whole thing from the outside is OR.</span><span s="892" t="And again, you see it has the same overall shape when looked at from the outside."><code onclick="Z(this)">0:14:52</code>And again, you see it has the same overall shape when looked at from the outside.</span><span s="901" t="What&apos;s NOT? NOT works kind of the same way. If I have some query P, I take the primitive query for P."><code onclick="Z(this)">0:15:01</code>What's NOT? NOT works kind of the same way. If I have some query P, I take the primitive query for P.</span><span s="914" t="Here, I&apos;m going to implement NOT P. And NOT&apos;s just going to act as a filter. I&apos;ll take in the database and my original stream of"><code onclick="Z(this)">0:15:14</code>Here, I'm going to implement NOT P. And NOT's just going to act as a filter. I'll take in the database and my original stream of</span><span s="927" t="dictionaries coming in, and what NOT P will do is it will filter these guys."><code onclick="Z(this)">0:15:27</code>dictionaries coming in, and what NOT P will do is it will filter these guys.</span><span s="939" t="And the way it will filter it, it will say when I get in a dictionary here, I&apos;ll find all the matches, and if I find any, I&apos;ll throw it away. And if I don&apos;t find any matches to something coming in"><code onclick="Z(this)">0:15:39</code>And the way it will filter it, it will say when I get in a dictionary here, I'll find all the matches, and if I find any, I'll throw it away. And if I don't find any matches to something coming in</span><span s="949" t="here, I&apos;ll just pass that through, so NOT is a pure filter. So AND is-- think of these sort of electoral"><code onclick="Z(this)">0:15:49</code>here, I'll just pass that through, so NOT is a pure filter. So AND is-- think of these sort of electoral</span><span s="959" t="resistors or something. AND is series combination and OR is parallel combination. And then NOT is not going to extend any dictionaries at all. It&apos;s just going to filter it."><code onclick="Z(this)">0:15:59</code>resistors or something. AND is series combination and OR is parallel combination. And then NOT is not going to extend any dictionaries at all. It's just going to filter it.</span><span s="968" t="It&apos;s going to throw away the ones for which it finds a way to match. And list value is sort of the same way. The filter&apos;s a little more complicated. It applies to predicate."><code onclick="Z(this)">0:16:08</code>It's going to throw away the ones for which it finds a way to match. And list value is sort of the same way. The filter's a little more complicated. It applies to predicate.</span><span s="979" t="The major point to notice here, and it&apos;s a major point we&apos;ve looked at before, is this idea of closure."><code onclick="Z(this)">0:16:19</code>The major point to notice here, and it's a major point we've looked at before, is this idea of closure.</span><span s="988" t="The things that we build as a means of combination have the same overall structure as the primitive things that we&apos;re combining."><code onclick="Z(this)">0:16:28</code>The things that we build as a means of combination have the same overall structure as the primitive things that we're combining.</span><span s="999" t="So the AND of two things when looked at from the outside has the same shape. And what that means is that this box here could be an AND"><code onclick="Z(this)">0:16:39</code>So the AND of two things when looked at from the outside has the same shape. And what that means is that this box here could be an AND</span><span s="1008" t="or an OR or a NOT or something because it has the same shape to interface to the larger things. It&apos;s the same thing that allowed us to get complexity"><code onclick="Z(this)">0:16:48</code>or an OR or a NOT or something because it has the same shape to interface to the larger things. It's the same thing that allowed us to get complexity</span><span s="1017" t="in the Escher picture language or allows you to immediately build up these complicated structures just out of pairs. It&apos;s closure."><code onclick="Z(this)">0:16:57</code>in the Escher picture language or allows you to immediately build up these complicated structures just out of pairs. It's closure.</span><span s="1026" t="And that&apos;s the thing that allowed me to do what by now you took for granted when I said, gee, there&apos;s a query which is AND of job and salary, and I said, oh,"><code onclick="Z(this)">0:17:06</code>And that's the thing that allowed me to do what by now you took for granted when I said, gee, there's a query which is AND of job and salary, and I said, oh,</span><span s="1035" t="there&apos;s another one, which is AND of job, a NOT of something. The fact that I can do that is a direct consequence of this closure principle."><code onclick="Z(this)">0:17:15</code>there's another one, which is AND of job, a NOT of something. The fact that I can do that is a direct consequence of this closure principle.</span><span s="1045" t="OK, let&apos;s break and then we&apos;ll go on. AUDIENCE: Where does the dictionary come from? PROFESSOR: The dictionary comes initially from"><code onclick="Z(this)">0:17:25</code>OK, let's break and then we'll go on. AUDIENCE: Where does the dictionary come from? PROFESSOR: The dictionary comes initially from</span><span s="1055" t="what you type in. So when you start this up, the first thing it does is set up this whole structure. It puts in one empty dictionary."><code onclick="Z(this)">0:17:35</code>what you type in. So when you start this up, the first thing it does is set up this whole structure. It puts in one empty dictionary.</span><span s="1065" t="And if all you have is one primitive query, then what will come out is a bunch of dictionaries with things filled in. The general situation that I have here is when this is in"><code onclick="Z(this)">0:17:45</code>And if all you have is one primitive query, then what will come out is a bunch of dictionaries with things filled in. The general situation that I have here is when this is in</span><span s="1075" t="the middle of some nest of combined things. Let&apos;s look at the picture over here. This supervisor query gets in some dictionary."><code onclick="Z(this)">0:17:55</code>the middle of some nest of combined things. Let's look at the picture over here. This supervisor query gets in some dictionary.</span><span s="1086" t="Where did this one come from? This dictionary came from the fact that I&apos;m looking at the output of this primitive query."><code onclick="Z(this)">0:18:06</code>Where did this one come from? This dictionary came from the fact that I'm looking at the output of this primitive query.</span><span s="1096" t="So maybe to be very specific, if I literally typed in just this query at the top level, this AND, what would actually happen is it would build this structure and start up this"><code onclick="Z(this)">0:18:16</code>So maybe to be very specific, if I literally typed in just this query at the top level, this AND, what would actually happen is it would build this structure and start up this</span><span s="1106" t="whole thing with one empty dictionary. And now this one would process, and a whole bunch of dictionaries would come out with x, y&apos;s and d&apos;s in them."><code onclick="Z(this)">0:18:26</code>whole thing with one empty dictionary. And now this one would process, and a whole bunch of dictionaries would come out with x, y's and d's in them.</span><span s="1118" t="Run it through this one. So now that&apos;s the input to this one. This one would now put out some other stuff. And if this itself were buried in some larger thing, like an"><code onclick="Z(this)">0:18:38</code>Run it through this one. So now that's the input to this one. This one would now put out some other stuff. And if this itself were buried in some larger thing, like an</span><span s="1130" t="OR of something, then that would go feed into the next one. So you initially get only one empty dictionary when you"><code onclick="Z(this)">0:18:50</code>OR of something, then that would go feed into the next one. So you initially get only one empty dictionary when you</span><span s="1140" t="start it, but as you&apos;re in the middle of processing these compounds things, that&apos;s where these cascades of dictionaries start getting generated. AUDIENCE: Dictionaries only come about as a result of"><code onclick="Z(this)">0:19:00</code>start it, but as you're in the middle of processing these compounds things, that's where these cascades of dictionaries start getting generated. AUDIENCE: Dictionaries only come about as a result of</span><span s="1151" t="using the queries? Or do they become-- do they stay someplace in space like the database does?"><code onclick="Z(this)">0:19:11</code>using the queries? Or do they become-- do they stay someplace in space like the database does?</span><span s="1163" t="Are these temporary items? PROFESSOR: They&apos;re created temporarily in the matcher. Really, they&apos;re someplace in storage. Initially, someone creates a thing called the empty"><code onclick="Z(this)">0:19:23</code>Are these temporary items? PROFESSOR: They're created temporarily in the matcher. Really, they're someplace in storage. Initially, someone creates a thing called the empty</span><span s="1172" t="dictionary that gets initially fed to this match procedure, and then the match procedure builds some dictionaries, and they get passed on and on. AUDIENCE: OK, so they&apos;ll go way after the match?"><code onclick="Z(this)">0:19:32</code>dictionary that gets initially fed to this match procedure, and then the match procedure builds some dictionaries, and they get passed on and on. AUDIENCE: OK, so they'll go way after the match?</span><span s="1183" t="PROFESSOR: They&apos;ll go away when no one needs them again, yeah. AUDIENCE: It appears that the AND performs some redundant"><code onclick="Z(this)">0:19:43</code>PROFESSOR: They'll go away when no one needs them again, yeah. AUDIENCE: It appears that the AND performs some redundant</span><span s="1194" t="searches of the database. If the first clause matched, let&apos;s say, the third element and not on the first two elements, the second clause is going to look at those first two elements again, discarding"><code onclick="Z(this)">0:19:54</code>searches of the database. If the first clause matched, let's say, the third element and not on the first two elements, the second clause is going to look at those first two elements again, discarding</span><span s="1204" t="them because they don&apos;t match. The match is already in the dictionary. Would it makes sense to carry the data element from the database along with the dictionary?"><code onclick="Z(this)">0:20:04</code>them because they don't match. The match is already in the dictionary. Would it makes sense to carry the data element from the database along with the dictionary?</span><span s="1217" t="PROFESSOR: Well, in general, there are other ways to arrange this search, and there&apos;s some analysis that you can do. I think there&apos;s a problem in the book, which talks about a different way that you can cascade AND to eliminate"><code onclick="Z(this)">0:20:17</code>PROFESSOR: Well, in general, there are other ways to arrange this search, and there's some analysis that you can do. I think there's a problem in the book, which talks about a different way that you can cascade AND to eliminate</span><span s="1227" t="various kinds of redundancies. This one is meant to be-- was mainly meant to be very simple so you can see how they fit together. But you&apos;re quite right. There are redundancies here that you can get rid of."><code onclick="Z(this)">0:20:27</code>various kinds of redundancies. This one is meant to be-- was mainly meant to be very simple so you can see how they fit together. But you're quite right. There are redundancies here that you can get rid of.</span><span s="1238" t="That&apos;s another reason why this language is somewhat slow. There are a lot smarter things you can do. We&apos;re just trying to show you a very simple, in principle, implementation."><code onclick="Z(this)">0:20:38</code>That's another reason why this language is somewhat slow. There are a lot smarter things you can do. We're just trying to show you a very simple, in principle, implementation.</span><span s="1251" t="AUDIENCE: Did you model this language on Prolog, or did it just come out looking like Prolog?"><code onclick="Z(this)">0:20:51</code>AUDIENCE: Did you model this language on Prolog, or did it just come out looking like Prolog?</span><span s="1264" t="PROFESSOR: Well, Jerry insulted a whole bunch of people yesterday, so I might as well say that the MIT attitude towards Prolog is something that people did in about 1971 and decided that it wasn&apos;t really the right thing"><code onclick="Z(this)">0:21:04</code>PROFESSOR: Well, Jerry insulted a whole bunch of people yesterday, so I might as well say that the MIT attitude towards Prolog is something that people did in about 1971 and decided that it wasn't really the right thing</span><span s="1275" t="and stopped. So we modeled this on the sort of natural way that this thing was done in about 1971, except at that point, we didn&apos;t do it"><code onclick="Z(this)">0:21:15</code>and stopped. So we modeled this on the sort of natural way that this thing was done in about 1971, except at that point, we didn't do it</span><span s="1286" t="with streams. After we were using it for about six months, we discovered that it had all these problems, some of which"><code onclick="Z(this)">0:21:26</code>with streams. After we were using it for about six months, we discovered that it had all these problems, some of which</span><span s="1295" t="I&apos;ll talk about later. And we said, gee, Prolog must have fixed those, and then we found out that it didn&apos;t. So this does about the same thing as Prolog. AUDIENCE: Does Prolog use streams?"><code onclick="Z(this)">0:21:35</code>I'll talk about later. And we said, gee, Prolog must have fixed those, and then we found out that it didn't. So this does about the same thing as Prolog. AUDIENCE: Does Prolog use streams?</span><span s="1304" t="PROFESSOR: No. In how it behaves, it behaves a lot like Prolog. Prolog uses a backtracking strategy."><code onclick="Z(this)">0:21:44</code>PROFESSOR: No. In how it behaves, it behaves a lot like Prolog. Prolog uses a backtracking strategy.</span><span s="1313" t="But the other thing that&apos;s really good about Prolog that makes it a usable thing is that there&apos;s a really very, very well-engineered compiler technology that makes it run"><code onclick="Z(this)">0:21:53</code>But the other thing that's really good about Prolog that makes it a usable thing is that there's a really very, very well-engineered compiler technology that makes it run</span><span s="1324" t="fast. So although you saw the merge spitting out these answers very, very slowly, a real Prolog will run very,"><code onclick="Z(this)">0:22:04</code>fast. So although you saw the merge spitting out these answers very, very slowly, a real Prolog will run very,</span><span s="1333" t="very fast. Because even though it&apos;s sort of doing this, the real work that went into Prolog is a very, very excellent compiler effort."><code onclick="Z(this)">0:22:13</code>very fast. Because even though it's sort of doing this, the real work that went into Prolog is a very, very excellent compiler effort.</span><span s="1344" t="Let&apos;s take a break."><code onclick="Z(this)">0:22:24</code>Let's take a break.</span><span s="1396" t="We&apos;ve looked at the primitive queries and the ways that streams are used to implement the means of combination: AND and OR and NOT."><code onclick="Z(this)">0:23:16</code>We've looked at the primitive queries and the ways that streams are used to implement the means of combination: AND and OR and NOT.</span><span s="1406" t="Now, let go on to the means of abstraction. Remember, the means of abstraction in this language are rules."><code onclick="Z(this)">0:23:26</code>Now, let go on to the means of abstraction. Remember, the means of abstraction in this language are rules.</span><span s="1415" t="So z is a boss in division d if there&apos;s some x who has a job in division d and z is the supervisor of x."><code onclick="Z(this)">0:23:35</code>So z is a boss in division d if there's some x who has a job in division d and z is the supervisor of x.</span><span s="1428" t="That&apos;s what it means for someone to be a boss. And in effect, if you think about what we&apos;re doing with relation to this, there&apos;s the query we wrote-- the job of x"><code onclick="Z(this)">0:23:48</code>That's what it means for someone to be a boss. And in effect, if you think about what we're doing with relation to this, there's the query we wrote-- the job of x</span><span s="1438" t="is in d and the supervisor of x is z-- what we in effect want to do is take this whole mess and draw a box around it and say this whole thing inside the"><code onclick="Z(this)">0:23:58</code>is in d and the supervisor of x is z-- what we in effect want to do is take this whole mess and draw a box around it and say this whole thing inside the</span><span s="1464" t="box is boss of z in division d."><code onclick="Z(this)">0:24:24</code>box is boss of z in division d.</span><span s="1473" t="That&apos;s in effect what we want to do. So, for instance, if we&apos;ve done that, and we want to"><code onclick="Z(this)">0:24:33</code>That's in effect what we want to do. So, for instance, if we've done that, and we want to</span><span s="1485" t="check whether or not it&apos;s true that Ben Bitdiddle is a boss in the computer division, so if I want to say boss of Ben"><code onclick="Z(this)">0:24:45</code>check whether or not it's true that Ben Bitdiddle is a boss in the computer division, so if I want to say boss of Ben</span><span s="1500" t="Bitdiddle in the computer division, imagine typing that in as query to the system, in effect what we want to do is"><code onclick="Z(this)">0:25:00</code>Bitdiddle in the computer division, imagine typing that in as query to the system, in effect what we want to do is</span><span s="1510" t="set up a dictionary here, which has z to Ben Bitdiddle"><code onclick="Z(this)">0:25:10</code>set up a dictionary here, which has z to Ben Bitdiddle</span><span s="1528" t="and d to computer."><code onclick="Z(this)">0:25:28</code>and d to computer.</span><span s="1537" t="Where did that dictionary come from? Let&apos;s look at the slide for one second. That dictionary came from matching the query that said boss of Ben Bitdiddle and computer onto the conclusion"><code onclick="Z(this)">0:25:37</code>Where did that dictionary come from? Let's look at the slide for one second. That dictionary came from matching the query that said boss of Ben Bitdiddle and computer onto the conclusion</span><span s="1547" t="of the rule: boss of z and d. So we match the query to the conclusion of the rule. That gives us a dictionary, and that&apos;s the thing that we"><code onclick="Z(this)">0:25:47</code>of the rule: boss of z and d. So we match the query to the conclusion of the rule. That gives us a dictionary, and that's the thing that we</span><span s="1560" t="would now like to put into this whole big thing and process and see if anything comes out the other side. If anything comes out, it&apos;ll be true."><code onclick="Z(this)">0:26:00</code>would now like to put into this whole big thing and process and see if anything comes out the other side. If anything comes out, it'll be true.</span><span s="1571" t="That&apos;s the basic idea. So in general, the way we implement a rule is we match the conclusion of the rule against something we might"><code onclick="Z(this)">0:26:11</code>That's the basic idea. So in general, the way we implement a rule is we match the conclusion of the rule against something we might</span><span s="1581" t="want to check it&apos;s true. That match gives us a dictionary, and with respect to that dictionary, we process the body of the rule."><code onclick="Z(this)">0:26:21</code>want to check it's true. That match gives us a dictionary, and with respect to that dictionary, we process the body of the rule.</span><span s="1596" t="Well, that&apos;s really all there is, except for two technical points. The first technical point is that I might have said"><code onclick="Z(this)">0:26:36</code>Well, that's really all there is, except for two technical points. The first technical point is that I might have said</span><span s="1606" t="something else. I might have said who&apos;s the boss in the computer division? So I might say boss of who in computer division."><code onclick="Z(this)">0:26:46</code>something else. I might have said who's the boss in the computer division? So I might say boss of who in computer division.</span><span s="1620" t="And if I did that, what I would really like to do in effect is start up this dictionary with a match that"><code onclick="Z(this)">0:27:00</code>And if I did that, what I would really like to do in effect is start up this dictionary with a match that</span><span s="1629" t="sort of says, well, d is computer and z is whatever who is."><code onclick="Z(this)">0:27:09</code>sort of says, well, d is computer and z is whatever who is.</span><span s="1641" t="And our matcher won&apos;t quite do that. That&apos;s not quite matching a pattern against data. It&apos;s matching two patterns and saying are they consistent or"><code onclick="Z(this)">0:27:21</code>And our matcher won't quite do that. That's not quite matching a pattern against data. It's matching two patterns and saying are they consistent or</span><span s="1651" t="not or what ways make them consistent. In other words, what we need is not quite a pattern matcher, but something a little bit more general called a unifier."><code onclick="Z(this)">0:27:31</code>not or what ways make them consistent. In other words, what we need is not quite a pattern matcher, but something a little bit more general called a unifier.</span><span s="1664" t="And a unifier is a slight generalization of a pattern matcher. What a unifier does is take two patterns and say what&apos;s"><code onclick="Z(this)">0:27:44</code>And a unifier is a slight generalization of a pattern matcher. What a unifier does is take two patterns and say what's</span><span s="1675" t="the most general thing you can substitute for the variables in those two patterns to make them satisfy the pattern"><code onclick="Z(this)">0:27:55</code>the most general thing you can substitute for the variables in those two patterns to make them satisfy the pattern</span><span s="1684" t="simultaneously? Let me give you an example. If I have the pattern two-element list, which is x"><code onclick="Z(this)">0:28:04</code>simultaneously? Let me give you an example. If I have the pattern two-element list, which is x</span><span s="1693" t="and x, so I have a two-element list where both elements are the same and otherwise I don&apos;t care what they are, and I unify that against the pattern that says there&apos;s a"><code onclick="Z(this)">0:28:13</code>and x, so I have a two-element list where both elements are the same and otherwise I don't care what they are, and I unify that against the pattern that says there's a</span><span s="1703" t="two-element list, and the first one is a and something in c and the second one is a and b and z, then what the"><code onclick="Z(this)">0:28:23</code>two-element list, and the first one is a and something in c and the second one is a and b and z, then what the</span><span s="1713" t="unifier should tell me is, oh yeah, in that dictionary, x has to be a, b, c, and y has to be d and z has to be c."><code onclick="Z(this)">0:28:33</code>unifier should tell me is, oh yeah, in that dictionary, x has to be a, b, c, and y has to be d and z has to be c.</span><span s="1723" t="Those are the restrictions I&apos;d have to put on the values of x, y, and z to make these two unify, or in other words, to make this match x and make this match x."><code onclick="Z(this)">0:28:43</code>Those are the restrictions I'd have to put on the values of x, y, and z to make these two unify, or in other words, to make this match x and make this match x.</span><span s="1735" t="The unifier should be able to deduce that. But the unifier may-- there are more complicated things. I might have said something a little bit more complicated. I might have said there&apos;s a list with two elements, and"><code onclick="Z(this)">0:28:55</code>The unifier should be able to deduce that. But the unifier may-- there are more complicated things. I might have said something a little bit more complicated. I might have said there's a list with two elements, and</span><span s="1747" t="they&apos;re both the same, and they should unify against something of this form. And the unifier should be able to deduce from that."><code onclick="Z(this)">0:29:07</code>they're both the same, and they should unify against something of this form. And the unifier should be able to deduce from that.</span><span s="1756" t="Like that y would have to be b. y would have to be b. Because these two are the same, so y&apos;s got to be b. And v here would have to be a."><code onclick="Z(this)">0:29:16</code>Like that y would have to be b. y would have to be b. Because these two are the same, so y's got to be b. And v here would have to be a.</span><span s="1768" t="And z and w can be anything, but they have to be the same thing. And x would have to be b, followed by a, followed by"><code onclick="Z(this)">0:29:28</code>And z and w can be anything, but they have to be the same thing. And x would have to be b, followed by a, followed by</span><span s="1780" t="whatever w is or whatever z is, which is the same. So you see, the unifier somehow has to deduce things to unify these patterns."><code onclick="Z(this)">0:29:40</code>whatever w is or whatever z is, which is the same. So you see, the unifier somehow has to deduce things to unify these patterns.</span><span s="1790" t="So you might think there&apos;s some kind of magic deduction going on, but there&apos;s not. A unifier is basically a very simple modification of a"><code onclick="Z(this)">0:29:50</code>So you might think there's some kind of magic deduction going on, but there's not. A unifier is basically a very simple modification of a</span><span s="1799" t="pattern matcher. And if you look in the book, you&apos;ll see something like three or four lines of code added to the pattern matcher you just saw to handle the symmetric case."><code onclick="Z(this)">0:29:59</code>pattern matcher. And if you look in the book, you'll see something like three or four lines of code added to the pattern matcher you just saw to handle the symmetric case.</span><span s="1808" t="Remember, the pattern matcher has a place where it says is this variable matching a constant. And if so, it checks in the dictionary. There&apos;s only one other clause in the unifier, which says is"><code onclick="Z(this)">0:30:08</code>Remember, the pattern matcher has a place where it says is this variable matching a constant. And if so, it checks in the dictionary. There's only one other clause in the unifier, which says is</span><span s="1818" t="this variable matching a variable, in which case you go look in the dictionary and see if that&apos;s consistent with what&apos;s in the dictionary."><code onclick="Z(this)">0:30:18</code>this variable matching a variable, in which case you go look in the dictionary and see if that's consistent with what's in the dictionary.</span><span s="1827" t="So all the, quote, deduction that&apos;s in this language, if you sort of look at it, sort of sits in the rule applications, which, if you look at that, sits in the"><code onclick="Z(this)">0:30:27</code>So all the, quote, deduction that's in this language, if you sort of look at it, sort of sits in the rule applications, which, if you look at that, sits in the</span><span s="1837" t="unifier, which, if you look at that under a microscope, sits essentially in the pattern matcher. There&apos;s no magic at all going on in there."><code onclick="Z(this)">0:30:37</code>unifier, which, if you look at that under a microscope, sits essentially in the pattern matcher. There's no magic at all going on in there.</span><span s="1847" t="And the, quote, deduction that you see is just the fact that there&apos;s this recursion, which is unwinding the matches bit by bit."><code onclick="Z(this)">0:30:47</code>And the, quote, deduction that you see is just the fact that there's this recursion, which is unwinding the matches bit by bit.</span><span s="1856" t="So it looks like this thing is being very clever, but in fact, it&apos;s not being very clever at all. There are cases where a unifier might have to be clever. Let me show you one more."><code onclick="Z(this)">0:30:56</code>So it looks like this thing is being very clever, but in fact, it's not being very clever at all. There are cases where a unifier might have to be clever. Let me show you one more.</span><span s="1871" t="Suppose I want to unify a list of two elements, x and x, with a thing that says it&apos;s y followed by a dot y."><code onclick="Z(this)">0:31:11</code>Suppose I want to unify a list of two elements, x and x, with a thing that says it's y followed by a dot y.</span><span s="1884" t="Now, if you think of what that would have to mean, it would have to mean that x had better be the same as y, but also x had better be the same as a list whose first element is a"><code onclick="Z(this)">0:31:24</code>Now, if you think of what that would have to mean, it would have to mean that x had better be the same as y, but also x had better be the same as a list whose first element is a</span><span s="1895" t="and whose rest is y. And if you think about what that would have to mean, it would have to mean that y is the infinite list of a&apos;s."><code onclick="Z(this)">0:31:35</code>and whose rest is y. And if you think about what that would have to mean, it would have to mean that y is the infinite list of a's.</span><span s="1907" t="In some sense, in order to do that unification, I have to solve the fixed-point equation cons of a to y is equal to y."><code onclick="Z(this)">0:31:47</code>In some sense, in order to do that unification, I have to solve the fixed-point equation cons of a to y is equal to y.</span><span s="1924" t="And in general, I wrote a very simple one. Really doing unification might have to solve an arbitrary fixed-point equation: f of y equals y."><code onclick="Z(this)">0:32:04</code>And in general, I wrote a very simple one. Really doing unification might have to solve an arbitrary fixed-point equation: f of y equals y.</span><span s="1935" t="And basically, you can&apos;t do that and make the thing finite all the time. So how does the logic language handle that?"><code onclick="Z(this)">0:32:15</code>And basically, you can't do that and make the thing finite all the time. So how does the logic language handle that?</span><span s="1945" t="The answer is it doesn&apos;t. It just punts. And there&apos;s a little check in the unifier, which says, oh, is this one of the hard cases which when I go to match"><code onclick="Z(this)">0:32:25</code>The answer is it doesn't. It just punts. And there's a little check in the unifier, which says, oh, is this one of the hard cases which when I go to match</span><span s="1955" t="things would involve solving a fixed-point equation? And in this case, I will throw up my hands. And if that check were not in there, what would happen?"><code onclick="Z(this)">0:32:35</code>things would involve solving a fixed-point equation? And in this case, I will throw up my hands. And if that check were not in there, what would happen?</span><span s="1967" t="In most cases is that the unifier would just go into an infinite loop. And other logic programming languages work like that."><code onclick="Z(this)">0:32:47</code>In most cases is that the unifier would just go into an infinite loop. And other logic programming languages work like that.</span><span s="1976" t="So there&apos;s really no magic. The easy case is done in a matcher. The hard case is not done at all. And that&apos;s about the state of this technology."><code onclick="Z(this)">0:32:56</code>So there's really no magic. The easy case is done in a matcher. The hard case is not done at all. And that's about the state of this technology.</span><span s="1992" t="Let me just say again formally how rules work now that I talked about unifiers. So the official definition is that to apply a rule, we--"><code onclick="Z(this)">0:33:12</code>Let me just say again formally how rules work now that I talked about unifiers. So the official definition is that to apply a rule, we--</span><span s="2005" t="well, let&apos;s start using some words we&apos;ve used before. Let&apos;s talk about sticking dictionaries into these big boxes of query things as evaluating these large queries"><code onclick="Z(this)">0:33:25</code>well, let's start using some words we've used before. Let's talk about sticking dictionaries into these big boxes of query things as evaluating these large queries</span><span s="2020" t="relative to an environment or a frame. So when you think of that dictionary, what&apos;s the dictionary after all? It&apos;s a bunch of meanings for symbols. That&apos;s what we&apos;ve been calling frames or environments."><code onclick="Z(this)">0:33:40</code>relative to an environment or a frame. So when you think of that dictionary, what's the dictionary after all? It's a bunch of meanings for symbols. That's what we've been calling frames or environments.</span><span s="2031" t="What does it mean to do some processing relevant to an environment? That&apos;s what we&apos;ve been calling evaluation. So we can say the way that you apply a rule is to evaluate"><code onclick="Z(this)">0:33:51</code>What does it mean to do some processing relevant to an environment? That's what we've been calling evaluation. So we can say the way that you apply a rule is to evaluate</span><span s="2043" t="the rule body relative to an environment that&apos;s formed by unifying the rule conclusion with the given query."><code onclick="Z(this)">0:34:03</code>the rule body relative to an environment that's formed by unifying the rule conclusion with the given query.</span><span s="2053" t="And the thing I want you to notice is the complete formal similarity to the net of circular evaluator or the substitution model. To apply a procedure, we evaluate the procedure body"><code onclick="Z(this)">0:34:13</code>And the thing I want you to notice is the complete formal similarity to the net of circular evaluator or the substitution model. To apply a procedure, we evaluate the procedure body</span><span s="2067" t="relative to an environment that&apos;s formed by blinding the procedure parameters to the arguments. There&apos;s a complete formal similarity here between the"><code onclick="Z(this)">0:34:27</code>relative to an environment that's formed by blinding the procedure parameters to the arguments. There's a complete formal similarity here between the</span><span s="2076" t="rules, rule application, and procedure application even though these things are very, very different. And again, you have the EVAL APPLY loop."><code onclick="Z(this)">0:34:36</code>rules, rule application, and procedure application even though these things are very, very different. And again, you have the EVAL APPLY loop.</span><span s="2087" t="EVAL and APPLY. So in general, I might be processing some combined"><code onclick="Z(this)">0:34:47</code>EVAL and APPLY. So in general, I might be processing some combined</span><span s="2097" t="expression that will turn into a rule application, which will generate some dictionaries or frames or environments-- whatever you want to call them-- from match, which will then be the input to some big compound thing like this."><code onclick="Z(this)">0:34:57</code>expression that will turn into a rule application, which will generate some dictionaries or frames or environments-- whatever you want to call them-- from match, which will then be the input to some big compound thing like this.</span><span s="2108" t="This has pieces of it and may have other rule applications. And you have essentially the same cycle even though there&apos;s nothing here at all that looks like procedures."><code onclick="Z(this)">0:35:08</code>This has pieces of it and may have other rule applications. And you have essentially the same cycle even though there's nothing here at all that looks like procedures.</span><span s="2119" t="It really has to do with the fact you&apos;ve built a language whose means of combination and abstraction unwind in certain ways."><code onclick="Z(this)">0:35:19</code>It really has to do with the fact you've built a language whose means of combination and abstraction unwind in certain ways.</span><span s="2128" t="And then in general, what happens at the very top level, you might have rules in your database also, so things in"><code onclick="Z(this)">0:35:28</code>And then in general, what happens at the very top level, you might have rules in your database also, so things in</span><span s="2137" t="this database might be rules. There are ways to check that things are true. So it might come in here and have to do a rule check."><code onclick="Z(this)">0:35:37</code>this database might be rules. There are ways to check that things are true. So it might come in here and have to do a rule check.</span><span s="2146" t="And then there&apos;s some control structure which says, well, you look at some rules, and you look at some data elements, and you look at some rules and data elements, and these fan out and out and out. So it becomes essentially impossible to say what order"><code onclick="Z(this)">0:35:46</code>And then there's some control structure which says, well, you look at some rules, and you look at some data elements, and you look at some rules and data elements, and these fan out and out and out. So it becomes essentially impossible to say what order</span><span s="2156" t="it&apos;s looking at these things in, whether it&apos;s breadth first or depth first or anything. And it&apos;s even more impossible because the actual order is somehow buried in the delays of the streams. So what&apos;s very"><code onclick="Z(this)">0:35:56</code>it's looking at these things in, whether it's breadth first or depth first or anything. And it's even more impossible because the actual order is somehow buried in the delays of the streams. So what's very</span><span s="2168" t="hard to tell from this is the order in which it&apos;s scanned. But what&apos;s true, because you&apos;re looking at the stream view, is that all of them eventually get looked at."><code onclick="Z(this)">0:36:08</code>hard to tell from this is the order in which it's scanned. But what's true, because you're looking at the stream view, is that all of them eventually get looked at.</span><span s="2184" t="Let me just mention one tiny technical problem."><code onclick="Z(this)">0:36:24</code>Let me just mention one tiny technical problem.</span><span s="2197" t="Suppose I tried saying boss of y is computer, then a funny thing would happen. As I stuck a dictionary with y in here, I might get--"><code onclick="Z(this)">0:36:37</code>Suppose I tried saying boss of y is computer, then a funny thing would happen. As I stuck a dictionary with y in here, I might get--</span><span s="2213" t="this y is not the same as that y, which was the other piece of somebody&apos;s job description. So if I really only did literally what I said, we&apos;d"><code onclick="Z(this)">0:36:53</code>this y is not the same as that y, which was the other piece of somebody's job description. So if I really only did literally what I said, we'd</span><span s="2224" t="get some variable conflict problems. So I lied to you a little bit. Notice that problem is exactly a problem we&apos;ve run into before."><code onclick="Z(this)">0:37:04</code>get some variable conflict problems. So I lied to you a little bit. Notice that problem is exactly a problem we've run into before.</span><span s="2234" t="It is precisely the need for local variables in a language. When I have the sum of squares, that x had better not be that x."><code onclick="Z(this)">0:37:14</code>It is precisely the need for local variables in a language. When I have the sum of squares, that x had better not be that x.</span><span s="2244" t="That&apos;s exactly the same as this y had better not be that y. And we know how to solve that."><code onclick="Z(this)">0:37:24</code>That's exactly the same as this y had better not be that y. And we know how to solve that.</span><span s="2253" t="That was this whole environment model, and we built chains of frames and all sorts of things like that. There&apos;s a much more brutal way to solve it. In the query language, we didn&apos;t even do that. We did something completely brutal."><code onclick="Z(this)">0:37:33</code>That was this whole environment model, and we built chains of frames and all sorts of things like that. There's a much more brutal way to solve it. In the query language, we didn't even do that. We did something completely brutal.</span><span s="2263" t="We said every time you apply a rule, rename consistently all the variables in the rule to some new unique names that won&apos;t conflict with anything."><code onclick="Z(this)">0:37:43</code>We said every time you apply a rule, rename consistently all the variables in the rule to some new unique names that won't conflict with anything.</span><span s="2275" t="That&apos;s conceptually simpler, but really brutal and not particularly efficient. But notice, we could have gotten rid of all of our environment structures if we defined for procedures in Lisp"><code onclick="Z(this)">0:37:55</code>That's conceptually simpler, but really brutal and not particularly efficient. But notice, we could have gotten rid of all of our environment structures if we defined for procedures in Lisp</span><span s="2288" t="the same thing. If every time we applied a procedure and did the substitution model we renamed all the variables in the procedure, then we never would have had to worry about local variables because they would never arise."><code onclick="Z(this)">0:38:08</code>the same thing. If every time we applied a procedure and did the substitution model we renamed all the variables in the procedure, then we never would have had to worry about local variables because they would never arise.</span><span s="2299" t="OK, well, that would be inefficient, and it&apos;s inefficient here in the query language, too, but we did it to keep it simple. Let&apos;s break for questions."><code onclick="Z(this)">0:38:19</code>OK, well, that would be inefficient, and it's inefficient here in the query language, too, but we did it to keep it simple. Let's break for questions.</span><span s="2310" t="AUDIENCE: When you started this section, you emphasized how powerful our APPLY EVAL model was that we could use it"><code onclick="Z(this)">0:38:30</code>AUDIENCE: When you started this section, you emphasized how powerful our APPLY EVAL model was that we could use it</span><span s="2320" t="for any language. And then you say we&apos;re going to have this language which is so different. It turns out that this language, as you just pointed out, is very much the same. I&apos;m wondering if you&apos;re arguing that all languages end"><code onclick="Z(this)">0:38:40</code>for any language. And then you say we're going to have this language which is so different. It turns out that this language, as you just pointed out, is very much the same. I'm wondering if you're arguing that all languages end</span><span s="2329" t="up coming down to this you can apply a rule or apply a procedure or some kind of apply? PROFESSOR: I would say that pretty much any language where"><code onclick="Z(this)">0:38:49</code>up coming down to this you can apply a rule or apply a procedure or some kind of apply? PROFESSOR: I would say that pretty much any language where</span><span s="2339" t="you really are building up these means of combination and giving them simpler names and you&apos;re saying anything of the sort, like here&apos;s a general kind of expression, like how"><code onclick="Z(this)">0:38:59</code>you really are building up these means of combination and giving them simpler names and you're saying anything of the sort, like here's a general kind of expression, like how</span><span s="2350" t="to square something, almost anything that you would call a procedure. If that&apos;s got to have parts, you have to unwind those parts. You have to have some kind of organization which says when I"><code onclick="Z(this)">0:39:10</code>to square something, almost anything that you would call a procedure. If that's got to have parts, you have to unwind those parts. You have to have some kind of organization which says when I</span><span s="2360" t="look at the abstract variables or tags or whatever you want to call them that might stand for particular things, you have to keep track of that, and that&apos;s going to be"><code onclick="Z(this)">0:39:20</code>look at the abstract variables or tags or whatever you want to call them that might stand for particular things, you have to keep track of that, and that's going to be</span><span s="2369" t="something like an environment. And then if you say this part can have parts which I have to unwind, you&apos;ve got to have something like this cycle."><code onclick="Z(this)">0:39:29</code>something like an environment. And then if you say this part can have parts which I have to unwind, you've got to have something like this cycle.</span><span s="2379" t="And lots and lots of languages have that character when they sort of get put together in this way. This language again really is different because there&apos;s nothing like procedures on the outside."><code onclick="Z(this)">0:39:39</code>And lots and lots of languages have that character when they sort of get put together in this way. This language again really is different because there's nothing like procedures on the outside.</span><span s="2390" t="When you go below the surface and you see the implementation, of course, it starts looking the same. But from the outside, it&apos;s a very different world view. You&apos;re not computing functions of inputs."><code onclick="Z(this)">0:39:50</code>When you go below the surface and you see the implementation, of course, it starts looking the same. But from the outside, it's a very different world view. You're not computing functions of inputs.</span><span s="2403" t="AUDIENCE: You mentioned earlier that when you build all of these rules in pattern matcher and with the delayed action of streams, you really have no way to know in what"><code onclick="Z(this)">0:40:03</code>AUDIENCE: You mentioned earlier that when you build all of these rules in pattern matcher and with the delayed action of streams, you really have no way to know in what</span><span s="2413" t="order things are evaluated. PROFESSOR: Right. AUDIENCE: And that would indicate then that you should only express declarative knowledge that&apos;s true for all-time, no-time sequence built into it."><code onclick="Z(this)">0:40:13</code>order things are evaluated. PROFESSOR: Right. AUDIENCE: And that would indicate then that you should only express declarative knowledge that's true for all-time, no-time sequence built into it.</span><span s="2423" t="Otherwise, these things get all-- PROFESSOR: Yes. Yes. The question is this really is set up for doing declarative"><code onclick="Z(this)">0:40:23</code>Otherwise, these things get all-- PROFESSOR: Yes. Yes. The question is this really is set up for doing declarative</span><span s="2432" t="knowledge, and as I presented it-- and I&apos;ll show you some of the ugly warts under this after the break. As I presented it, it&apos;s just doing logic."><code onclick="Z(this)">0:40:32</code>knowledge, and as I presented it-- and I'll show you some of the ugly warts under this after the break. As I presented it, it's just doing logic.</span><span s="2443" t="And in principle, if it were logic, it wouldn&apos;t matter what order it&apos;s getting done. And it&apos;s quite true when you start doing things where you"><code onclick="Z(this)">0:40:43</code>And in principle, if it were logic, it wouldn't matter what order it's getting done. And it's quite true when you start doing things where you</span><span s="2452" t="have side effects like adding things to the database and taking things out, and we&apos;ll see some others, you use that kind of control."><code onclick="Z(this)">0:40:52</code>have side effects like adding things to the database and taking things out, and we'll see some others, you use that kind of control.</span><span s="2461" t="So, for example, contrasting with Prolog. Say Prolog has various features where you really exploit the order of evaluation. And people write Prolog programs that way."><code onclick="Z(this)">0:41:01</code>So, for example, contrasting with Prolog. Say Prolog has various features where you really exploit the order of evaluation. And people write Prolog programs that way.</span><span s="2471" t="That turns out to be very complicated in Prolog, although if you&apos;re an expert Prolog programmer, you can do it. However, here I don&apos;t think you can do it at all."><code onclick="Z(this)">0:41:11</code>That turns out to be very complicated in Prolog, although if you're an expert Prolog programmer, you can do it. However, here I don't think you can do it at all.</span><span s="2480" t="It&apos;s very complicated because you really are giving up control over any prearranged order of trying things. AUDIENCE: Now, that would indicate then that you have a"><code onclick="Z(this)">0:41:20</code>It's very complicated because you really are giving up control over any prearranged order of trying things. AUDIENCE: Now, that would indicate then that you have a</span><span s="2489" t="functional mapping. And when you started out this lecture, you said that we express the declarative knowledge which is a relation, and we don&apos;t talk about the inputs and the outputs."><code onclick="Z(this)">0:41:29</code>functional mapping. And when you started out this lecture, you said that we express the declarative knowledge which is a relation, and we don't talk about the inputs and the outputs.</span><span s="2501" t="PROFESSOR: Well, there&apos;s a pun on functional, right? There&apos;s function in the sense of no side effects and not depending on what order is going on. And then there&apos;s functional in the sense of mathematical"><code onclick="Z(this)">0:41:41</code>PROFESSOR: Well, there's a pun on functional, right? There's function in the sense of no side effects and not depending on what order is going on. And then there's functional in the sense of mathematical</span><span s="2510" t="function, which means input and output. And it&apos;s just that pun that you&apos;re making, I think. AUDIENCE: I&apos;m a little unclear on what you&apos;re doing with these two statements, the two boss statements."><code onclick="Z(this)">0:41:50</code>function, which means input and output. And it's just that pun that you're making, I think. AUDIENCE: I'm a little unclear on what you're doing with these two statements, the two boss statements.</span><span s="2521" t="Is the first one building up the database and the second one a query or-- PROFESSOR: OK, I&apos;m sorry."><code onclick="Z(this)">0:42:01</code>Is the first one building up the database and the second one a query or-- PROFESSOR: OK, I'm sorry.</span><span s="2532" t="What I meant here, if I type something like this in as a query-- I should have given an example way at the very beginning. If I type in job, Ben Bitdiddle, computer wizard,"><code onclick="Z(this)">0:42:12</code>What I meant here, if I type something like this in as a query-- I should have given an example way at the very beginning. If I type in job, Ben Bitdiddle, computer wizard,</span><span s="2545" t="what the processing will do is if it finds a match, it&apos;ll find a match to that exact thing, and it&apos;ll type out a job, Ben Bitdiddle, computer wizard."><code onclick="Z(this)">0:42:25</code>what the processing will do is if it finds a match, it'll find a match to that exact thing, and it'll type out a job, Ben Bitdiddle, computer wizard.</span><span s="2554" t="If it doesn&apos;t find a match, it won&apos;t find anything. So what I should have said is the way you use the query language to check whether something is true, remember,"><code onclick="Z(this)">0:42:34</code>If it doesn't find a match, it won't find anything. So what I should have said is the way you use the query language to check whether something is true, remember,</span><span s="2563" t="that&apos;s one of the things you want to do in logic programming, is you type in your query and either that comes out or it doesn&apos;t. So what I was trying to illustrate here, I wanted to"><code onclick="Z(this)">0:42:43</code>that's one of the things you want to do in logic programming, is you type in your query and either that comes out or it doesn't. So what I was trying to illustrate here, I wanted to</span><span s="2572" t="start with a very simple example before talking about unifiers. So what I should have said, if I just wanted to check whether this is true, I could type that in and see if anything"><code onclick="Z(this)">0:42:52</code>start with a very simple example before talking about unifiers. So what I should have said, if I just wanted to check whether this is true, I could type that in and see if anything</span><span s="2582" t="came out AUDIENCE: And then the second one-- PROFESSOR: The second one would be a real query. AUDIENCE: A real query, yeah. PROFESSOR: What would come out, see, it would go in here"><code onclick="Z(this)">0:43:02</code>came out AUDIENCE: And then the second one-- PROFESSOR: The second one would be a real query. AUDIENCE: A real query, yeah. PROFESSOR: What would come out, see, it would go in here</span><span s="2592" t="say with FOO, and in would go frame that says z is bound to who and d is bound to computer. And this will pass through, and then by the time it got"><code onclick="Z(this)">0:43:12</code>say with FOO, and in would go frame that says z is bound to who and d is bound to computer. And this will pass through, and then by the time it got</span><span s="2601" t="out of here, who would pick up a binding. AUDIENCE: On the unifying thing there, I still am not"><code onclick="Z(this)">0:43:21</code>out of here, who would pick up a binding. AUDIENCE: On the unifying thing there, I still am not</span><span s="2611" t="sure what happens with who and z. If the unifying-- the rule here says--"><code onclick="Z(this)">0:43:31</code>sure what happens with who and z. If the unifying-- the rule here says--</span><span s="2622" t="OK, so you say that you can&apos;t make question mark equal to question mark who. PROFESSOR: Right. That&apos;s what the matcher can&apos;t do. But what this will mean to a unifier is that there&apos;s an"><code onclick="Z(this)">0:43:42</code>OK, so you say that you can't make question mark equal to question mark who. PROFESSOR: Right. That's what the matcher can't do. But what this will mean to a unifier is that there's an</span><span s="2632" t="environment with three variables. d here is computer. z is whatever who is."><code onclick="Z(this)">0:43:52</code>environment with three variables. d here is computer. z is whatever who is.</span><span s="2641" t="So if later on in the matcher routine it said, for example, who has to be 3, then when I looked up in the dictionary,"><code onclick="Z(this)">0:44:01</code>So if later on in the matcher routine it said, for example, who has to be 3, then when I looked up in the dictionary,</span><span s="2654" t="it will say, oh, z is 3 because it&apos;s the same as who. And that&apos;s in some sense the only thing you need to do to extend the unifier to a matcher. AUDIENCE: OK, because it looked like when you were"><code onclick="Z(this)">0:44:14</code>it will say, oh, z is 3 because it's the same as who. And that's in some sense the only thing you need to do to extend the unifier to a matcher. AUDIENCE: OK, because it looked like when you were</span><span s="2663" t="telling how to unify it, it looked like you would put the things together in such a way that you&apos;d actually solve and have a value for both of them. And what it looks like now is that you&apos;re actually pass a"><code onclick="Z(this)">0:44:23</code>telling how to unify it, it looked like you would put the things together in such a way that you'd actually solve and have a value for both of them. And what it looks like now is that you're actually pass a</span><span s="2672" t="dictionary with two variables and the variables are linked. PROFESSOR: Right. It only looks like you&apos;re solving for both of them because you&apos;re sort of looking at the whole solution at once. If you sort of watch the thing getting built up recursively,"><code onclick="Z(this)">0:44:32</code>dictionary with two variables and the variables are linked. PROFESSOR: Right. It only looks like you're solving for both of them because you're sort of looking at the whole solution at once. If you sort of watch the thing getting built up recursively,</span><span s="2682" t="it&apos;s merely this. AUDIENCE: OK, so you do pass off that dictionary with two variables? PROFESSOR: That&apos;s right. AUDIENCE: And link? PROFESSOR: Right. It just looks like an ordinary dictionary."><code onclick="Z(this)">0:44:42</code>it's merely this. AUDIENCE: OK, so you do pass off that dictionary with two variables? PROFESSOR: That's right. AUDIENCE: And link? PROFESSOR: Right. It just looks like an ordinary dictionary.</span><span s="2694" t="AUDIENCE: When you&apos;re talking about the unifier, is it that there are some cases or some points that you are not able to use by them?"><code onclick="Z(this)">0:44:54</code>AUDIENCE: When you're talking about the unifier, is it that there are some cases or some points that you are not able to use by them?</span><span s="2704" t="PROFESSOR: Right. AUDIENCE: Can you just by building the rules or writing the forms know in advance if you are going to be able to"><code onclick="Z(this)">0:45:04</code>PROFESSOR: Right. AUDIENCE: Can you just by building the rules or writing the forms know in advance if you are going to be able to</span><span s="2715" t="solve to get the unification or not? Can you add some properties either to the rules itself or to the formula that you&apos;re writing so that you avoid the"><code onclick="Z(this)">0:45:15</code>solve to get the unification or not? Can you add some properties either to the rules itself or to the formula that you're writing so that you avoid the</span><span s="2726" t="problem of not finding unification? PROFESSOR: I mean, you can agree, I think, to write in a fairly restricted way where you won&apos;t run into it."><code onclick="Z(this)">0:45:26</code>problem of not finding unification? PROFESSOR: I mean, you can agree, I think, to write in a fairly restricted way where you won't run into it.</span><span s="2735" t="See, because what you&apos;re getting-- see, the place where you get into problems is when you-- well, again, you&apos;re trying to match things like that against"><code onclick="Z(this)">0:45:35</code>See, because what you're getting-- see, the place where you get into problems is when you-- well, again, you're trying to match things like that against</span><span s="2745" t="things where these have structure, where a, y, b, y something."><code onclick="Z(this)">0:45:45</code>things where these have structure, where a, y, b, y something.</span><span s="2758" t="So this is the kind of place where you&apos;re going to get into trouble. AUDIENCE: So you can do that syntactically? PROFESSOR: So you can kind of watch your rules in the kinds"><code onclick="Z(this)">0:45:58</code>So this is the kind of place where you're going to get into trouble. AUDIENCE: So you can do that syntactically? PROFESSOR: So you can kind of watch your rules in the kinds</span><span s="2769" t="of things that your writing. AUDIENCE: So that&apos;s the problem that the builder of the database has to be concerned? PROFESSOR: That&apos;s a problem."><code onclick="Z(this)">0:46:09</code>of things that your writing. AUDIENCE: So that's the problem that the builder of the database has to be concerned? PROFESSOR: That's a problem.</span><span s="2779" t="It&apos;s a problem either-- not quite the builder of the database, the person who is expressing the rules, or the builder of the database. What the unifier actually does is you can check at the next"><code onclick="Z(this)">0:46:19</code>It's a problem either-- not quite the builder of the database, the person who is expressing the rules, or the builder of the database. What the unifier actually does is you can check at the next</span><span s="2789" t="level down when you actually get to the unifier and you&apos;ll see in the code where it looks up in the dictionary. If it sort of says what does y have to be? Oh, does y have to be something that contains a y as"><code onclick="Z(this)">0:46:29</code>level down when you actually get to the unifier and you'll see in the code where it looks up in the dictionary. If it sort of says what does y have to be? Oh, does y have to be something that contains a y as</span><span s="2800" t="its expression? At that point, the unifier and say, oh my God, I&apos;m trying to solve a fixed-point equation. I&apos;ll give it up here."><code onclick="Z(this)">0:46:40</code>its expression? At that point, the unifier and say, oh my God, I'm trying to solve a fixed-point equation. I'll give it up here.</span><span s="2809" t="AUDIENCE: You make the distinction between the rules in the database. Are the rules added to the database? PROFESSOR: Yes. Yes, I should have said that."><code onclick="Z(this)">0:46:49</code>AUDIENCE: You make the distinction between the rules in the database. Are the rules added to the database? PROFESSOR: Yes. Yes, I should have said that.</span><span s="2818" t="One way to think about rules is that they&apos;re just other things in the database. So if you want to check the things that have to be checked in the database, they&apos;re kind of virtual facts that are in"><code onclick="Z(this)">0:46:58</code>One way to think about rules is that they're just other things in the database. So if you want to check the things that have to be checked in the database, they're kind of virtual facts that are in</span><span s="2828" t="the database. AUDIENCE: But in that explanation, you made the differentiation between database and the rules itself."><code onclick="Z(this)">0:47:08</code>the database. AUDIENCE: But in that explanation, you made the differentiation between database and the rules itself.</span><span s="2838" t="PROFESSOR: Yeah, I probably should not have done that. The only reason to do that is in terms of the implementation. When you look at the implementation, there&apos;s a part which says check either primitive assertions in the"><code onclick="Z(this)">0:47:18</code>PROFESSOR: Yeah, I probably should not have done that. The only reason to do that is in terms of the implementation. When you look at the implementation, there's a part which says check either primitive assertions in the</span><span s="2848" t="database or check rules. And then the real reason why you can&apos;t tell what order things are going to come out in and is that the rules"><code onclick="Z(this)">0:47:28</code>database or check rules. And then the real reason why you can't tell what order things are going to come out in and is that the rules</span><span s="2858" t="database and the data database sort of get merged in a kind of delayed evaluation way. And so that&apos;s what makes the order very complicated."><code onclick="Z(this)">0:47:38</code>database and the data database sort of get merged in a kind of delayed evaluation way. And so that's what makes the order very complicated.</span><span s="2875" t="OK, let&apos;s break."><code onclick="Z(this)">0:47:55</code>OK, let's break.</span><span s="2913" t="We&apos;ve just seen how the logic language works and how rules work. Now, let&apos;s turn to a more profound question. What do these things mean?"><code onclick="Z(this)">0:48:33</code>We've just seen how the logic language works and how rules work. Now, let's turn to a more profound question. What do these things mean?</span><span s="2923" t="That brings us to the subtlest, most devious part of this whole query language business, and that is that it&apos;s not quite what it seems to be."><code onclick="Z(this)">0:48:43</code>That brings us to the subtlest, most devious part of this whole query language business, and that is that it's not quite what it seems to be.</span><span s="2933" t="AND and OR and NOT and the logical implication of rules are not really the AND and OR and NOT and logical"><code onclick="Z(this)">0:48:53</code>AND and OR and NOT and the logical implication of rules are not really the AND and OR and NOT and logical</span><span s="2945" t="implication of logic. Let me give you an example of that. Certainly, if we have two things in logic, it ought to be the case that AND of P and Q is the same as AND of Q and"><code onclick="Z(this)">0:49:05</code>implication of logic. Let me give you an example of that. Certainly, if we have two things in logic, it ought to be the case that AND of P and Q is the same as AND of Q and</span><span s="2962" t="P and that OR of P and Q is the same as OR of Q and P. But let&apos;s look here. Here&apos;s an example."><code onclick="Z(this)">0:49:22</code>P and that OR of P and Q is the same as OR of Q and P. But let's look here. Here's an example.</span><span s="2972" t="Let&apos;s talk about somebody outranking somebody else in our little database organization. We&apos;ll say s is outranked by b or if either the supervisor of"><code onclick="Z(this)">0:49:32</code>Let's talk about somebody outranking somebody else in our little database organization. We'll say s is outranked by b or if either the supervisor of</span><span s="2987" t="this is b or there&apos;s some middle manager here, that supervisor of s is m, and m is outranked by b."><code onclick="Z(this)">0:49:47</code>this is b or there's some middle manager here, that supervisor of s is m, and m is outranked by b.</span><span s="2999" t="So there&apos;s one way to define rule outranked by. Or we can write exactly the same thing, except at the bottom here, we reversed the order of these two clauses."><code onclick="Z(this)">0:49:59</code>So there's one way to define rule outranked by. Or we can write exactly the same thing, except at the bottom here, we reversed the order of these two clauses.</span><span s="3011" t="And certainly if this were logic, those ought to mean the same thing. However, in our particular implementation, if you say"><code onclick="Z(this)">0:50:11</code>And certainly if this were logic, those ought to mean the same thing. However, in our particular implementation, if you say</span><span s="3020" t="something like who&apos;s outranked by Ben Bitdiddle, what you&apos;ll find is that this rule will work perfectly well and generate answers, whereas this rule will go"><code onclick="Z(this)">0:50:20</code>something like who's outranked by Ben Bitdiddle, what you'll find is that this rule will work perfectly well and generate answers, whereas this rule will go</span><span s="3031" t="into an infinite loop. And the reason for that is that this will come in and say, oh, who&apos;s outranked by Ben Bitdiddle?"><code onclick="Z(this)">0:50:31</code>into an infinite loop. And the reason for that is that this will come in and say, oh, who's outranked by Ben Bitdiddle?</span><span s="3041" t="Find an s which is outranked by b, where b is Ben Bitdiddle, which is going to happen in it a subproblem."><code onclick="Z(this)">0:50:41</code>Find an s which is outranked by b, where b is Ben Bitdiddle, which is going to happen in it a subproblem.</span><span s="3050" t="Oh gee, find an m such as m is outranked by Ben Bitdiddle with no restrictions on m. So this will say in order to solve this problem, I solve"><code onclick="Z(this)">0:50:50</code>Oh gee, find an m such as m is outranked by Ben Bitdiddle with no restrictions on m. So this will say in order to solve this problem, I solve</span><span s="3061" t="exactly the same problem. And then after I&apos;ve solved that, I&apos;ll check for a supervisory relationship. Whereas this one won&apos;t get into that, because before it"><code onclick="Z(this)">0:51:01</code>exactly the same problem. And then after I've solved that, I'll check for a supervisory relationship. Whereas this one won't get into that, because before it</span><span s="3070" t="tries to find this outranked by, it&apos;ll already have had a restriction on m here. So these two things which ought to mean the same, in"><code onclick="Z(this)">0:51:10</code>tries to find this outranked by, it'll already have had a restriction on m here. So these two things which ought to mean the same, in</span><span s="3081" t="fact, one goes into an infinite loop. One does not. That&apos;s a very extreme case of a general thing that you&apos;ll"><code onclick="Z(this)">0:51:21</code>fact, one goes into an infinite loop. One does not. That's a very extreme case of a general thing that you'll</span><span s="3090" t="find in logic programming that if you start changing the order of the things in the ANDs or ORs, you&apos;ll find"><code onclick="Z(this)">0:51:30</code>find in logic programming that if you start changing the order of the things in the ANDs or ORs, you'll find</span><span s="3099" t="tremendous differences in efficiency. And we just saw an infinitely big difference in efficiency and an infinite loop."><code onclick="Z(this)">0:51:39</code>tremendous differences in efficiency. And we just saw an infinitely big difference in efficiency and an infinite loop.</span><span s="3109" t="And there are similar things having to do with the order in which you enter rules. The order in which it happens to look at rules in the database may vastly change the efficiency with which it gets"><code onclick="Z(this)">0:51:49</code>And there are similar things having to do with the order in which you enter rules. The order in which it happens to look at rules in the database may vastly change the efficiency with which it gets</span><span s="3119" t="out answers or, in fact, send it into an infinite loop for some orderings. And this whole thing has to do with the fact that you&apos;re"><code onclick="Z(this)">0:51:59</code>out answers or, in fact, send it into an infinite loop for some orderings. And this whole thing has to do with the fact that you're</span><span s="3128" t="checking these rules in some order. And some rules may lead to really long paths of implication. Others might not. And you don&apos;t know a priori which ones are good and which"><code onclick="Z(this)">0:52:08</code>checking these rules in some order. And some rules may lead to really long paths of implication. Others might not. And you don't know a priori which ones are good and which</span><span s="3138" t="ones are bad. And there&apos;s a whole bunch of research having to do with that, mostly having to do with thinking about making parallel implementations of logic programming languages. And in some sense, what you&apos;d like to do is check all rules"><code onclick="Z(this)">0:52:18</code>ones are bad. And there's a whole bunch of research having to do with that, mostly having to do with thinking about making parallel implementations of logic programming languages. And in some sense, what you'd like to do is check all rules</span><span s="3149" t="in parallel and whichever ones get answers, you bubble them up. And if some go down infinite deductive changed, well, you just-- you know, memory is cheap and processors are cheap, and you"><code onclick="Z(this)">0:52:29</code>in parallel and whichever ones get answers, you bubble them up. And if some go down infinite deductive changed, well, you just-- you know, memory is cheap and processors are cheap, and you</span><span s="3158" t="just let them buzz for as for as long as you want. There&apos;s a deeper problem, though, in comparing this"><code onclick="Z(this)">0:52:38</code>just let them buzz for as for as long as you want. There's a deeper problem, though, in comparing this</span><span s="3167" t="logic language to real logic. The example I just showed you, it went into an infinite loop maybe, but at least it didn&apos;t give the wrong answer."><code onclick="Z(this)">0:52:47</code>logic language to real logic. The example I just showed you, it went into an infinite loop maybe, but at least it didn't give the wrong answer.</span><span s="3178" t="There&apos;s an actual deeper problem when we start comparing, seriously comparing this logic language with real"><code onclick="Z(this)">0:52:58</code>There's an actual deeper problem when we start comparing, seriously comparing this logic language with real</span><span s="3187" t="classical logic. So let&apos;s sort of review real classical logic. All humans are mortal."><code onclick="Z(this)">0:53:07</code>classical logic. So let's sort of review real classical logic. All humans are mortal.</span><span s="3202" t="That&apos;s pretty classical logic. Then maybe we&apos;ll continue in the very best classical tradition. We&apos;ll say all--"><code onclick="Z(this)">0:53:22</code>That's pretty classical logic. Then maybe we'll continue in the very best classical tradition. We'll say all--</span><span s="3211" t="let&apos;s make it really classical. All Greeks are human, which has the syllogism that"><code onclick="Z(this)">0:53:31</code>let's make it really classical. All Greeks are human, which has the syllogism that</span><span s="3221" t="Socrates is a Greek. And then what do you write here? I think three dots, classical logic."><code onclick="Z(this)">0:53:41</code>Socrates is a Greek. And then what do you write here? I think three dots, classical logic.</span><span s="3231" t="Therefore, then the syllogism, Socrates is mortal."><code onclick="Z(this)">0:53:51</code>Therefore, then the syllogism, Socrates is mortal.</span><span s="3241" t="So there&apos;s some real honest classical logic. Let&apos;s compare that with our classical logic database."><code onclick="Z(this)">0:54:01</code>So there's some real honest classical logic. Let's compare that with our classical logic database.</span><span s="3252" t="So here&apos;s a classical logic database. Socrates is a Greek. Plato is a Greek. Zeus is a Greek, and Zeus is a god."><code onclick="Z(this)">0:54:12</code>So here's a classical logic database. Socrates is a Greek. Plato is a Greek. Zeus is a Greek, and Zeus is a god.</span><span s="3264" t="And all humans are mortal. To show that something is mortal, it&apos;s enough to show that it&apos;s human."><code onclick="Z(this)">0:54:24</code>And all humans are mortal. To show that something is mortal, it's enough to show that it's human.</span><span s="3274" t="All humans are fallible. And all Greeks are humans is not quite right. This says that all Greeks who are not gods are human."><code onclick="Z(this)">0:54:34</code>All humans are fallible. And all Greeks are humans is not quite right. This says that all Greeks who are not gods are human.</span><span s="3285" t="So to show something&apos;s human, it&apos;s enough to show it&apos;s a Greek and not a god. And the address of any Greek god is Mount Olympus."><code onclick="Z(this)">0:54:45</code>So to show something's human, it's enough to show it's a Greek and not a god. And the address of any Greek god is Mount Olympus.</span><span s="3294" t="So there&apos;s a little classical logic database. And indeed, that would work fairly well. If we type that in and say is Socrates mortal or Socrates"><code onclick="Z(this)">0:54:54</code>So there's a little classical logic database. And indeed, that would work fairly well. If we type that in and say is Socrates mortal or Socrates</span><span s="3305" t="fallible or mortal? It&apos;ll say yes. Is Plato mortal and fallible. It&apos;ll say yes. If we say is Zeus mortal? It won&apos;t find anything."><code onclick="Z(this)">0:55:05</code>fallible or mortal? It'll say yes. Is Plato mortal and fallible. It'll say yes. If we say is Zeus mortal? It won't find anything.</span><span s="3314" t="And it&apos;ll work perfectly well. However, suppose we want to extend this. Let&apos;s define what it means for someone to be a perfect being."><code onclick="Z(this)">0:55:14</code>And it'll work perfectly well. However, suppose we want to extend this. Let's define what it means for someone to be a perfect being.</span><span s="3325" t="Let&apos;s say rule: a perfect being."><code onclick="Z(this)">0:55:25</code>Let's say rule: a perfect being.</span><span s="3334" t="And I think this is right. If you&apos;re up on your medieval scholastic philosophy, I believe that perfect beings are ones who were neither mortal nor fallible."><code onclick="Z(this)">0:55:34</code>And I think this is right. If you're up on your medieval scholastic philosophy, I believe that perfect beings are ones who were neither mortal nor fallible.</span><span s="3344" t="AND NOT mortal x, NOT fallible x."><code onclick="Z(this)">0:55:44</code>AND NOT mortal x, NOT fallible x.</span><span s="3359" t="So we&apos;ll define this system to teach it what a perfect being is. And now what we&apos;re going to do is he ask for the address of"><code onclick="Z(this)">0:55:59</code>So we'll define this system to teach it what a perfect being is. And now what we're going to do is he ask for the address of</span><span s="3369" t="all the perfect beings. AND the address of x is y and x is perfect."><code onclick="Z(this)">0:56:09</code>all the perfect beings. AND the address of x is y and x is perfect.</span><span s="3383" t="And so what we&apos;re generating here is the world&apos;s most exclusive mailing list. For the address of all the perfect"><code onclick="Z(this)">0:56:23</code>And so what we're generating here is the world's most exclusive mailing list. For the address of all the perfect</span><span s="3392" t="things, we might have typed this in. Or we might type in this. We&apos;ll say AND perfect of x and the address of x is y."><code onclick="Z(this)">0:56:32</code>things, we might have typed this in. Or we might type in this. We'll say AND perfect of x and the address of x is y.</span><span s="3412" t="Well, suppose we type all that in and we try this query. This query is going to give us an answer. This query will say, yeah, Mount Olympus."><code onclick="Z(this)">0:56:52</code>Well, suppose we type all that in and we try this query. This query is going to give us an answer. This query will say, yeah, Mount Olympus.</span><span s="3424" t="This query, in fact, is going to give us nothing. It will say no addresses of perfect beings. Now, why is that? Why is there a difference?"><code onclick="Z(this)">0:57:04</code>This query, in fact, is going to give us nothing. It will say no addresses of perfect beings. Now, why is that? Why is there a difference?</span><span s="3434" t="This is not an infinite loop question. This is a different answer question. The reason is that if you remember the implementation of NOT, NOT acted as a filter."><code onclick="Z(this)">0:57:14</code>This is not an infinite loop question. This is a different answer question. The reason is that if you remember the implementation of NOT, NOT acted as a filter.</span><span s="3445" t="NOT said I&apos;m going to take some possible dictionaries, some possible frames, some possible answers, and filter out the ones that happened to satisfy some condition, and"><code onclick="Z(this)">0:57:25</code>NOT said I'm going to take some possible dictionaries, some possible frames, some possible answers, and filter out the ones that happened to satisfy some condition, and</span><span s="3455" t="that&apos;s how I implement NOT. If you think about what&apos;s going on here, I&apos;ll build this query box where the output of an address piece gets fed into"><code onclick="Z(this)">0:57:35</code>that's how I implement NOT. If you think about what's going on here, I'll build this query box where the output of an address piece gets fed into</span><span s="3466" t="a perfect piece. What will happen is the address piece will set up some things of everyone whose address I know."><code onclick="Z(this)">0:57:46</code>a perfect piece. What will happen is the address piece will set up some things of everyone whose address I know.</span><span s="3475" t="Those will get filtered by the NOTs inside perfect here. So it will throw out the ones which happened to be either mortal or fallible."><code onclick="Z(this)">0:57:55</code>Those will get filtered by the NOTs inside perfect here. So it will throw out the ones which happened to be either mortal or fallible.</span><span s="3484" t="In the other order what happens is I set this up, started up with an empty frame. The perfect in here doesn&apos;t find anything for the NOTs to filter, so nothing comes out here at all."><code onclick="Z(this)">0:58:04</code>In the other order what happens is I set this up, started up with an empty frame. The perfect in here doesn't find anything for the NOTs to filter, so nothing comes out here at all.</span><span s="3498" t="And there&apos;s sort of nothing there that gets fed into the address thing. So here, I don&apos;t get an answer. And again, the reason for that is NOT isn&apos;t generating anything."><code onclick="Z(this)">0:58:18</code>And there's sort of nothing there that gets fed into the address thing. So here, I don't get an answer. And again, the reason for that is NOT isn't generating anything.</span><span s="3507" t="NOT&apos;s only throwing out things. And if I never started up with anything, there&apos;s nothing for it to throw out. So out of this thing, I get the wrong answer."><code onclick="Z(this)">0:58:27</code>NOT's only throwing out things. And if I never started up with anything, there's nothing for it to throw out. So out of this thing, I get the wrong answer.</span><span s="3517" t="How can you fix that? Well, there are ways to fix that. So you might say, well, that&apos;s sort of stupid. Why are you just doing all your NOT stuff at the beginning? The right way to implement NOT is to realize that when you"><code onclick="Z(this)">0:58:37</code>How can you fix that? Well, there are ways to fix that. So you might say, well, that's sort of stupid. Why are you just doing all your NOT stuff at the beginning? The right way to implement NOT is to realize that when you</span><span s="3528" t="have conditions like NOT, you should generate all your answers first, and then with each of these dictionaries pass along until at the very end I&apos;ll do filtering."><code onclick="Z(this)">0:58:48</code>have conditions like NOT, you should generate all your answers first, and then with each of these dictionaries pass along until at the very end I'll do filtering.</span><span s="3538" t="And there are implementations of logic languages that work like that that solve this particular problem. However, there&apos;s a more profound problem, which is"><code onclick="Z(this)">0:58:58</code>And there are implementations of logic languages that work like that that solve this particular problem. However, there's a more profound problem, which is</span><span s="3550" t="which one of these is the right answer? Is it Mount Olympus or is it nothing? So you might say it&apos;s Mount Olympus, because after all,"><code onclick="Z(this)">0:59:10</code>which one of these is the right answer? Is it Mount Olympus or is it nothing? So you might say it's Mount Olympus, because after all,</span><span s="3559" t="Zeus is in that database, and Zeus was neither mortal nor fallible."><code onclick="Z(this)">0:59:19</code>Zeus is in that database, and Zeus was neither mortal nor fallible.</span><span s="3569" t="So you might say Zeus wants to satisfy NOT mortal Zeus or NOT"><code onclick="Z(this)">0:59:29</code>So you might say Zeus wants to satisfy NOT mortal Zeus or NOT</span><span s="3583" t="fallible Zeus. But let&apos;s actually look at that database. Let&apos;s look at it. There&apos;s no way-- how does it know that Zeus is not fallible?"><code onclick="Z(this)">0:59:43</code>fallible Zeus. But let's actually look at that database. Let's look at it. There's no way-- how does it know that Zeus is not fallible?</span><span s="3594" t="There&apos;s nothing in there about that. What&apos;s in there is that humans are fallible. How does it know that Zeus is not mortal?"><code onclick="Z(this)">0:59:54</code>There's nothing in there about that. What's in there is that humans are fallible. How does it know that Zeus is not mortal?</span><span s="3604" t="There&apos;s nothing in there about that. It just said I don&apos;t have any rule, which-- the only way I can deduce something&apos;s mortal is if it&apos;s"><code onclick="Z(this)">1:00:04</code>There's nothing in there about that. It just said I don't have any rule, which-- the only way I can deduce something's mortal is if it's</span><span s="3613" t="human, and that&apos;s all it really knows about mortal. And in fact, if you remember your classical mythology, you know that the Greek gods were not mortal but fallible."><code onclick="Z(this)">1:00:13</code>human, and that's all it really knows about mortal. And in fact, if you remember your classical mythology, you know that the Greek gods were not mortal but fallible.</span><span s="3625" t="So the answer is not in the rules there. See, why does it deduce that?"><code onclick="Z(this)">1:00:25</code>So the answer is not in the rules there. See, why does it deduce that?</span><span s="3634" t="See, Socrates would certainly not have made this error of logic. What NOT needs in this language is not NOT."><code onclick="Z(this)">1:00:34</code>See, Socrates would certainly not have made this error of logic. What NOT needs in this language is not NOT.</span><span s="3643" t="It&apos;s not the NOT of logic. What NOT needs in this language is not deducible from things in the database as opposed to not true."><code onclick="Z(this)">1:00:43</code>It's not the NOT of logic. What NOT needs in this language is not deducible from things in the database as opposed to not true.</span><span s="3655" t="That&apos;s a very big difference. Subtle, but big. So, in fact, this is perfectly happy to say not anything that it doesn&apos;t know about."><code onclick="Z(this)">1:00:55</code>That's a very big difference. Subtle, but big. So, in fact, this is perfectly happy to say not anything that it doesn't know about.</span><span s="3664" t="So if you ask it is it not true that Zeus likes chocolate ice cream? It will say sure, it&apos;s not true. Or anything else or anything it doesn&apos;t know about. NOT means not deducible from the things you&apos;ve told me."><code onclick="Z(this)">1:01:04</code>So if you ask it is it not true that Zeus likes chocolate ice cream? It will say sure, it's not true. Or anything else or anything it doesn't know about. NOT means not deducible from the things you've told me.</span><span s="3678" t="In a world where you&apos;re identifying not deducible with, in fact, not true, this is called the closed world assumption."><code onclick="Z(this)">1:01:18</code>In a world where you're identifying not deducible with, in fact, not true, this is called the closed world assumption.</span><span s="3696" t="The closed world assumption. Anything that I cannot deduce from what I know is not true, right?"><code onclick="Z(this)">1:01:36</code>The closed world assumption. Anything that I cannot deduce from what I know is not true, right?</span><span s="3706" t="If I don&apos;t know anything about x, the x isn&apos;t true. That&apos;s very dangerous. From a logical point of view, first of all, it doesn&apos;t really makes sense. Because if I don&apos;t know anything about x, I&apos;m willing"><code onclick="Z(this)">1:01:46</code>If I don't know anything about x, the x isn't true. That's very dangerous. From a logical point of view, first of all, it doesn't really makes sense. Because if I don't know anything about x, I'm willing</span><span s="3718" t="to say not x. But am I willing to say not not x? Well, sure, I don&apos;t know anything about that either maybe. So not not x is not necessarily the same as x and"><code onclick="Z(this)">1:01:58</code>to say not x. But am I willing to say not not x? Well, sure, I don't know anything about that either maybe. So not not x is not necessarily the same as x and</span><span s="3729" t="so on and so on and so on, so there&apos;s some sort of funny bias in there. So that&apos;s sort of funny. The second thing, if you start building up real reasoning"><code onclick="Z(this)">1:02:09</code>so on and so on and so on, so there's some sort of funny bias in there. So that's sort of funny. The second thing, if you start building up real reasoning</span><span s="3742" t="programs based on this, think how dangerous that is. You&apos;re saying I know I&apos;m in a position to deduce everything"><code onclick="Z(this)">1:02:22</code>programs based on this, think how dangerous that is. You're saying I know I'm in a position to deduce everything</span><span s="3753" t="true that&apos;s relevant to this problem. I&apos;m reasoning, and built into my reasoning mechanism is the assumption that anything that I don&apos;t know can&apos;t possibly be"><code onclick="Z(this)">1:02:33</code>true that's relevant to this problem. I'm reasoning, and built into my reasoning mechanism is the assumption that anything that I don't know can't possibly be</span><span s="3765" t="relevant to this problem, right? There are a lot of big organizations that work like that, right?"><code onclick="Z(this)">1:02:45</code>relevant to this problem, right? There are a lot of big organizations that work like that, right?</span><span s="3774" t="Most corporate marketing divisions work like that. You know the consequences to that. So it&apos;s very dangerous to start really typing in these"><code onclick="Z(this)">1:02:54</code>Most corporate marketing divisions work like that. You know the consequences to that. So it's very dangerous to start really typing in these</span><span s="3784" t="big logical implication systems and going on what they say, because they have this really limiting assumption built in. So you have to be very, very careful about that."><code onclick="Z(this)">1:03:04</code>big logical implication systems and going on what they say, because they have this really limiting assumption built in. So you have to be very, very careful about that.</span><span s="3794" t="And that&apos;s a deep problem. That&apos;s not a problem about we can make a little bit cleverer implementation and do the filters and organize the infinite loops to make them go away."><code onclick="Z(this)">1:03:14</code>And that's a deep problem. That's not a problem about we can make a little bit cleverer implementation and do the filters and organize the infinite loops to make them go away.</span><span s="3803" t="It&apos;s a different kind of problem. It&apos;s a different semantics. So I think to wrap this up, it&apos;s fair to say that logic programming I think is a terrifically exciting idea,"><code onclick="Z(this)">1:03:23</code>It's a different kind of problem. It's a different semantics. So I think to wrap this up, it's fair to say that logic programming I think is a terrifically exciting idea,</span><span s="3814" t="the idea that you can bridge this gap from the imperative to the declarative, that you can start talking about relations and really get tremendous power by going"><code onclick="Z(this)">1:03:34</code>the idea that you can bridge this gap from the imperative to the declarative, that you can start talking about relations and really get tremendous power by going</span><span s="3826" t="above the abstraction of what&apos;s my input and what&apos;s my output. And linked to logic, the problem is it&apos;s a goal that I"><code onclick="Z(this)">1:03:46</code>above the abstraction of what's my input and what's my output. And linked to logic, the problem is it's a goal that I</span><span s="3835" t="think has yet to be realized. And probably one of the very most interesting research questions going on now in languages is how do you"><code onclick="Z(this)">1:03:55</code>think has yet to be realized. And probably one of the very most interesting research questions going on now in languages is how do you</span><span s="3846" t="somehow make a real logic language? And secondly, how do you bridge the gap from this world of logic and relations to the worlds of more traditional"><code onclick="Z(this)">1:04:06</code>somehow make a real logic language? And secondly, how do you bridge the gap from this world of logic and relations to the worlds of more traditional</span><span s="3856" t="languages and somehow combine the power of both. OK, let&apos;s break. AUDIENCE: Couldn&apos;t you solve that last problem by having"><code onclick="Z(this)">1:04:16</code>languages and somehow combine the power of both. OK, let's break. AUDIENCE: Couldn't you solve that last problem by having</span><span s="3865" t="the extra rules that imply it? The problem here is you have the definition of something, but you don&apos;t have the definition of its opposite. If you include in the database something that says something"><code onclick="Z(this)">1:04:25</code>the extra rules that imply it? The problem here is you have the definition of something, but you don't have the definition of its opposite. If you include in the database something that says something</span><span s="3875" t="implies mortal x, something else implies not mortal x, haven&apos;t you basically solved the problem? PROFESSOR: But the issue is do you put a finite"><code onclick="Z(this)">1:04:35</code>implies mortal x, something else implies not mortal x, haven't you basically solved the problem? PROFESSOR: But the issue is do you put a finite</span><span s="3885" t="number of those in? AUDIENCE: If things are specified always in pairs--"><code onclick="Z(this)">1:04:45</code>number of those in? AUDIENCE: If things are specified always in pairs--</span><span s="3894" t="PROFESSOR: But the impression is then what do you do about deduction? You can&apos;t specify NOTs."><code onclick="Z(this)">1:04:54</code>PROFESSOR: But the impression is then what do you do about deduction? You can't specify NOTs.</span><span s="3903" t="But the problem is, in a big system, it turns out that might not be a finite number of things."><code onclick="Z(this)">1:05:03</code>But the problem is, in a big system, it turns out that might not be a finite number of things.</span><span s="3912" t="There are also sort of two issues. Partly it might not be finite. Partly it might be that&apos;s not what you want."><code onclick="Z(this)">1:05:12</code>There are also sort of two issues. Partly it might not be finite. Partly it might be that's not what you want.</span><span s="3921" t="So a good example would be suppose I want to do connectivity. I want a reason about connectivity. And I&apos;m going to tell you there&apos;s four things: a and b"><code onclick="Z(this)">1:05:21</code>So a good example would be suppose I want to do connectivity. I want a reason about connectivity. And I'm going to tell you there's four things: a and b</span><span s="3932" t="and c and d. And I&apos;ll tell you a is connected to b and c&apos;s connected to d."><code onclick="Z(this)">1:05:32</code>and c and d. And I'll tell you a is connected to b and c's connected to d.</span><span s="3943" t="And now I&apos;ll tell you is a connected to d? That&apos;s the question. There&apos;s an example where I would like something like the closed world assumption."><code onclick="Z(this)">1:05:43</code>And now I'll tell you is a connected to d? That's the question. There's an example where I would like something like the closed world assumption.</span><span s="3954" t="That&apos;s a tiny toy, but a lot of times, I want to be able to say something like anything that I haven&apos;t told you, assume is not true."><code onclick="Z(this)">1:05:54</code>That's a tiny toy, but a lot of times, I want to be able to say something like anything that I haven't told you, assume is not true.</span><span s="3964" t="So it&apos;s not as simple as you only want to put in explicit NOTs all over the place. It&apos;s that sometimes it really isn&apos;t clear what you even want."><code onclick="Z(this)">1:06:04</code>So it's not as simple as you only want to put in explicit NOTs all over the place. It's that sometimes it really isn't clear what you even want.</span><span s="3974" t="That having to specify both everything and not everything is too precise, and then you get down into problems there. But there are a lot of approaches that explicitly put"><code onclick="Z(this)">1:06:14</code>That having to specify both everything and not everything is too precise, and then you get down into problems there. But there are a lot of approaches that explicitly put</span><span s="3984" t="in NOTs and reason based on that. So it&apos;s a very good idea. It&apos;s just that then it starts becoming a little cumbersome in the very large problems you&apos;d like to use."><code onclick="Z(this)">1:06:24</code>in NOTs and reason based on that. So it's a very good idea. It's just that then it starts becoming a little cumbersome in the very large problems you'd like to use.</span><span s="4003" t="AUDIENCE: I&apos;m not sure how directly related to the argument this is, but one of your points was that one of the dangers of the closed rule is you never really know all the things that are there."><code onclick="Z(this)">1:06:43</code>AUDIENCE: I'm not sure how directly related to the argument this is, but one of your points was that one of the dangers of the closed rule is you never really know all the things that are there.</span><span s="4013" t="You never really know all the parts to it. Isn&apos;t that a major problem with any programming? I always write programs where I assume that I&apos;ve got all the cases, and so I check for them all or whatever, and somewhere"><code onclick="Z(this)">1:06:53</code>You never really know all the parts to it. Isn't that a major problem with any programming? I always write programs where I assume that I've got all the cases, and so I check for them all or whatever, and somewhere</span><span s="4024" t="down the road, I find out that I didn&apos;t check for one of them. PROFESSOR: Well, sure, it&apos;s true. But the problem here is it&apos;s that assumption which is the"><code onclick="Z(this)">1:07:04</code>down the road, I find out that I didn't check for one of them. PROFESSOR: Well, sure, it's true. But the problem here is it's that assumption which is the</span><span s="4034" t="thing that you&apos;re making if you believe you&apos;re identifying this with logic. So you&apos;re quite right. It&apos;s a situation you&apos;re never in. The problem is if you&apos;re starting to believe that what"><code onclick="Z(this)">1:07:14</code>thing that you're making if you believe you're identifying this with logic. So you're quite right. It's a situation you're never in. The problem is if you're starting to believe that what</span><span s="4044" t="this is doing is logic and you look at the rules you write down and say what can I deduce from them, you have to be very careful to remember that NOT means something else."><code onclick="Z(this)">1:07:24</code>this is doing is logic and you look at the rules you write down and say what can I deduce from them, you have to be very careful to remember that NOT means something else.</span><span s="4053" t="And it means something else based on an assumption which is probably not true. AUDIENCE: Do I understand you correctly that you cannot fix this problem without killing off all possibilities of"><code onclick="Z(this)">1:07:33</code>And it means something else based on an assumption which is probably not true. AUDIENCE: Do I understand you correctly that you cannot fix this problem without killing off all possibilities of</span><span s="4064" t="inference through altering NOT? PROFESSOR: No, that&apos;s not quite right. There are other-- there are ways to do logic with real NOTs."><code onclick="Z(this)">1:07:44</code>inference through altering NOT? PROFESSOR: No, that's not quite right. There are other-- there are ways to do logic with real NOTs.</span><span s="4076" t="There are actually ways to do that. But they&apos;re very inefficient as far as anybody knows. And they&apos;re much more--"><code onclick="Z(this)">1:07:56</code>There are actually ways to do that. But they're very inefficient as far as anybody knows. And they're much more--</span><span s="4085" t="the, quote, inference in here is built into this unifier and this pattern matching unification algorithm. There are ways to automate real logical reasoning."><code onclick="Z(this)">1:08:05</code>the, quote, inference in here is built into this unifier and this pattern matching unification algorithm. There are ways to automate real logical reasoning.</span><span s="4096" t="But it&apos;s not based on that, and logic programming languages don&apos;t tend to do that because it&apos;s very inefficient as far as anybody knows."><code onclick="Z(this)">1:08:16</code>But it's not based on that, and logic programming languages don't tend to do that because it's very inefficient as far as anybody knows.</span><span s="4109" t="All right, thank you."><code onclick="Z(this)">1:08:29</code>All right, thank you.</span></div><div class="eventlist" side="R" vid="jPDAPmx4pXE"><h5><code onclick="Z(this)">0:00:00</code>Lecture 9A | MIT 6.001 Structure and Interpretation, 1986</h5><span s="0" t=" [MUSIC PLAYING - &quot;JESU, JOY OF MAN&apos;S DESIRING&quot; BY JOHANN SEBASTIAN BACH]"><code onclick="Z(this)">0:00:00</code> [MUSIC PLAYING - "JESU, JOY OF MAN'S DESIRING" BY JOHANN SEBASTIAN BACH]</span><span s="17" t="PROFESSOR: Well, up &apos;til now, I suppose, we&apos;ve been learning about a lot of techniques for organizing big programs,"><code onclick="Z(this)">0:00:17</code>PROFESSOR: Well, up 'til now, I suppose, we've been learning about a lot of techniques for organizing big programs,</span><span s="26" t="symbolic manipulation a bit, some of the technology that you use for establishing languages, one in terms of"><code onclick="Z(this)">0:00:26</code>symbolic manipulation a bit, some of the technology that you use for establishing languages, one in terms of</span><span s="36" t="another, which is used for organizing very large programs. In fact, the nicest programs I know look more like a pile of languages than like a decomposition of a problem"><code onclick="Z(this)">0:00:36</code>another, which is used for organizing very large programs. In fact, the nicest programs I know look more like a pile of languages than like a decomposition of a problem</span><span s="47" t="into parts. Well, I suppose at this point, there are still, however, a few mysteries about how this sort of stuff works."><code onclick="Z(this)">0:00:47</code>into parts. Well, I suppose at this point, there are still, however, a few mysteries about how this sort of stuff works.</span><span s="56" t="And so what we&apos;d like to do now is diverge from the plan of telling you how to organize big programs, and rather tell"><code onclick="Z(this)">0:00:56</code>And so what we'd like to do now is diverge from the plan of telling you how to organize big programs, and rather tell</span><span s="66" t="you something about the mechanisms by which these things can be made to work. The main reason for this is demystification, if you will,"><code onclick="Z(this)">0:01:06</code>you something about the mechanisms by which these things can be made to work. The main reason for this is demystification, if you will,</span><span s="78" t="that we have a lot of mysteries left, like exactly how it is the case that a program is controlled, how a"><code onclick="Z(this)">0:01:18</code>that we have a lot of mysteries left, like exactly how it is the case that a program is controlled, how a</span><span s="87" t="computer knows what the next thing to do is, or something like that. And what I&apos;d like to do now is make that clear to you, that"><code onclick="Z(this)">0:01:27</code>computer knows what the next thing to do is, or something like that. And what I'd like to do now is make that clear to you, that</span><span s="96" t="even if you&apos;ve never played with a physical computer before, the mechanism is really very simple, and that you can understand it completely with no trouble."><code onclick="Z(this)">0:01:36</code>even if you've never played with a physical computer before, the mechanism is really very simple, and that you can understand it completely with no trouble.</span><span s="107" t="So I&apos;d like to start by imagining that we-- well, the way we&apos;re going to do this, by the way, is we&apos;re going to take some very simple Lisp programs, very simple"><code onclick="Z(this)">0:01:47</code>So I'd like to start by imagining that we-- well, the way we're going to do this, by the way, is we're going to take some very simple Lisp programs, very simple</span><span s="117" t="Lisp programs, and transform them into hardware. I&apos;m not going to worry about some intermediate step of going through some existing computer machine language and"><code onclick="Z(this)">0:01:57</code>Lisp programs, and transform them into hardware. I'm not going to worry about some intermediate step of going through some existing computer machine language and</span><span s="127" t="then showing you how that computer works, because that&apos;s not as illuminating. So what I&apos;m really going to show you is how a piece of"><code onclick="Z(this)">0:02:07</code>then showing you how that computer works, because that's not as illuminating. So what I'm really going to show you is how a piece of</span><span s="136" t="machinery can be built to do a job that you have written down as a program. That program is, in fact, a description of a machine."><code onclick="Z(this)">0:02:16</code>machinery can be built to do a job that you have written down as a program. That program is, in fact, a description of a machine.</span><span s="145" t="We&apos;re going to start with a very simple program, proceed to show you some simple mechanisms, proceed to a few more complicated programs, and then later show you a not very"><code onclick="Z(this)">0:02:25</code>We're going to start with a very simple program, proceed to show you some simple mechanisms, proceed to a few more complicated programs, and then later show you a not very</span><span s="156" t="complicated program, how the evaluator transforms into a piece of hardware. And of course at that point, you have made the universal transition and can execute any program imaginable with a"><code onclick="Z(this)">0:02:36</code>complicated program, how the evaluator transforms into a piece of hardware. And of course at that point, you have made the universal transition and can execute any program imaginable with a</span><span s="167" t="piece of well-defined hardware. Well, let&apos;s start up now, give you a real concrete feeling for this sort of thing. Let&apos;s start with a very simple program."><code onclick="Z(this)">0:02:47</code>piece of well-defined hardware. Well, let's start up now, give you a real concrete feeling for this sort of thing. Let's start with a very simple program.</span><span s="179" t="Here&apos;s Euclid&apos;s algorithm. It&apos;s actually a little bit more modern than Euclid&apos;s algorithm. Euclid&apos;s algorithm for computing the greatest common"><code onclick="Z(this)">0:02:59</code>Here's Euclid's algorithm. It's actually a little bit more modern than Euclid's algorithm. Euclid's algorithm for computing the greatest common</span><span s="189" t="divisor of two numbers was invented 350 BC, I think. It&apos;s the oldest known algorithm."><code onclick="Z(this)">0:03:09</code>divisor of two numbers was invented 350 BC, I think. It's the oldest known algorithm.</span><span s="199" t="But here we&apos;re going to talk about GCD of A and B, the Greatest Common Divisor or two numbers, A and B. And the algorithm is extremely simple."><code onclick="Z(this)">0:03:19</code>But here we're going to talk about GCD of A and B, the Greatest Common Divisor or two numbers, A and B. And the algorithm is extremely simple.</span><span s="209" t="If B is 0, then the result is going to be A. Otherwise, the"><code onclick="Z(this)">0:03:29</code>If B is 0, then the result is going to be A. Otherwise, the</span><span s="218" t="result is the GCD of B and the remainder when A is divided by"><code onclick="Z(this)">0:03:38</code>result is the GCD of B and the remainder when A is divided by</span><span s="232" t="B. So this we have here is a very simple iterative process."><code onclick="Z(this)">0:03:52</code>B. So this we have here is a very simple iterative process.</span><span s="242" t="This a simple recursive procedure, recursively defined procedure, recursive definition, which yields an iterative process. And the way it works is that every step, it determines"><code onclick="Z(this)">0:04:02</code>This a simple recursive procedure, recursively defined procedure, recursive definition, which yields an iterative process. And the way it works is that every step, it determines</span><span s="253" t="whether B was zero. And if B is 0, we got the answer in A. Otherwise, we make another step where A is the old B, and B is the"><code onclick="Z(this)">0:04:13</code>whether B was zero. And if B is 0, we got the answer in A. Otherwise, we make another step where A is the old B, and B is the</span><span s="265" t="remainder of the old A divided by the old B. Very simple. Now this, I&apos;ve already told you some of the mechanism by just saying it that way."><code onclick="Z(this)">0:04:25</code>remainder of the old A divided by the old B. Very simple. Now this, I've already told you some of the mechanism by just saying it that way.</span><span s="274" t="I set it in time. I said there are certain steps, and that, in fact, one of the things you can see here is that one of the reasons why this is iterative is nothing is needed of the last step to"><code onclick="Z(this)">0:04:34</code>I set it in time. I said there are certain steps, and that, in fact, one of the things you can see here is that one of the reasons why this is iterative is nothing is needed of the last step to</span><span s="286" t="get the answer. All of the information that&apos;s needed to run this algorithm is in A and B. It has two well-defined state variables."><code onclick="Z(this)">0:04:46</code>get the answer. All of the information that's needed to run this algorithm is in A and B. It has two well-defined state variables.</span><span s="300" t="So I&apos;m going to define a machine for you that can compute you GCDs. Now let&apos;s see. Every computer that&apos;s ever been made that&apos;s a"><code onclick="Z(this)">0:05:00</code>So I'm going to define a machine for you that can compute you GCDs. Now let's see. Every computer that's ever been made that's a</span><span s="310" t="single-process computer, as opposed to a multiprocessor of some sort, is made according to the same plan. The plan is the computer has two parts, a part called the"><code onclick="Z(this)">0:05:10</code>single-process computer, as opposed to a multiprocessor of some sort, is made according to the same plan. The plan is the computer has two parts, a part called the</span><span s="321" t="datapaths, and a part called the controller. The datapaths correspond to a calculator that you might have. It contains certain registers that remember"><code onclick="Z(this)">0:05:21</code>datapaths, and a part called the controller. The datapaths correspond to a calculator that you might have. It contains certain registers that remember</span><span s="331" t="things, and you&apos;ve all used calculators. It has some buttons on it and some lights. And so by pushing the various buttons, you can cause operations to happen inside there among the registers, and"><code onclick="Z(this)">0:05:31</code>things, and you've all used calculators. It has some buttons on it and some lights. And so by pushing the various buttons, you can cause operations to happen inside there among the registers, and</span><span s="342" t="some of the results to be displayed. That&apos;s completely mechanical. You could imagine that box has no intelligence in it. Now it might be very impressive that it can produce"><code onclick="Z(this)">0:05:42</code>some of the results to be displayed. That's completely mechanical. You could imagine that box has no intelligence in it. Now it might be very impressive that it can produce</span><span s="352" t="the sine of a number, but that at least is apparently possibly mechanical. At least, I could open that up in the same way I&apos;m about to open GCD."><code onclick="Z(this)">0:05:52</code>the sine of a number, but that at least is apparently possibly mechanical. At least, I could open that up in the same way I'm about to open GCD.</span><span s="362" t="So this may have a whole computer inside of it, but that&apos;s not interesting. Addition is certainly simple. That can be done without any further mechanism. Now also, if we were to look at the other half, the"><code onclick="Z(this)">0:06:02</code>So this may have a whole computer inside of it, but that's not interesting. Addition is certainly simple. That can be done without any further mechanism. Now also, if we were to look at the other half, the</span><span s="375" t="controller, that&apos;s a part that&apos;s dumb, too. It pushes the buttons. It pushes them according to the sequence, which is written down on a piece of paper, and observes the lights."><code onclick="Z(this)">0:06:15</code>controller, that's a part that's dumb, too. It pushes the buttons. It pushes them according to the sequence, which is written down on a piece of paper, and observes the lights.</span><span s="386" t="And every so often, it comes to a place in a sequence that says, if light A is on, do this sequence. Otherwise, do that sequence. And thereby, there&apos;s no complexity there either."><code onclick="Z(this)">0:06:26</code>And every so often, it comes to a place in a sequence that says, if light A is on, do this sequence. Otherwise, do that sequence. And thereby, there's no complexity there either.</span><span s="397" t="Well, let&apos;s just draw that and see what we feel about that. So for computing GCDs, what I want you to think about is"><code onclick="Z(this)">0:06:37</code>Well, let's just draw that and see what we feel about that. So for computing GCDs, what I want you to think about is</span><span s="408" t="that there are these registers. A register is a place where I store a number, in this case. And this one&apos;s called a. And then there&apos;s another one for storing b."><code onclick="Z(this)">0:06:48</code>that there are these registers. A register is a place where I store a number, in this case. And this one's called a. And then there's another one for storing b.</span><span s="423" t="Now we have to see what things we can do with these registers, and they&apos;re not entirely obvious what you can do with them. Well, we have to see what things we need to do with them. We&apos;re looking at the problem we&apos;re trying to solve."><code onclick="Z(this)">0:07:03</code>Now we have to see what things we can do with these registers, and they're not entirely obvious what you can do with them. Well, we have to see what things we need to do with them. We're looking at the problem we're trying to solve.</span><span s="434" t="One of the important things for designing a computer, which I think most designers don&apos;t do, is you study the problem you want to solve and then use what you learn from"><code onclick="Z(this)">0:07:14</code>One of the important things for designing a computer, which I think most designers don't do, is you study the problem you want to solve and then use what you learn from</span><span s="443" t="studying the problem you want to solve to put in the mechanisms needed to solve it in the computer you&apos;re building, no more no less."><code onclick="Z(this)">0:07:23</code>studying the problem you want to solve to put in the mechanisms needed to solve it in the computer you're building, no more no less.</span><span s="452" t="Now it may be that the problem you&apos;re trying to solve is everybody&apos;s problem, in which case you have to build in a universal interpreter of some language. But you shouldn&apos;t put any more in than required to build the"><code onclick="Z(this)">0:07:32</code>Now it may be that the problem you're trying to solve is everybody's problem, in which case you have to build in a universal interpreter of some language. But you shouldn't put any more in than required to build the</span><span s="462" t="universal interpreter of some language. We&apos;ll worry about that in a second. OK, going back to here, let&apos;s see. What do we have to be able to do?"><code onclick="Z(this)">0:07:42</code>universal interpreter of some language. We'll worry about that in a second. OK, going back to here, let's see. What do we have to be able to do?</span><span s="471" t="Well, somehow, we have to be able to get B into A. We have to be able to get the old value of B into the value of A. So we have to have some path by which stuff can flow,"><code onclick="Z(this)">0:07:51</code>Well, somehow, we have to be able to get B into A. We have to be able to get the old value of B into the value of A. So we have to have some path by which stuff can flow,</span><span s="483" t="whatever this information is, from b to a. I&apos;m going to draw that with by an arrow saying that it is possible to move the contents of b into a, replacing the"><code onclick="Z(this)">0:08:03</code>whatever this information is, from b to a. I'm going to draw that with by an arrow saying that it is possible to move the contents of b into a, replacing the</span><span s="493" t="value of a. And there&apos;s a little button here which you push which allows that to happen. That&apos;s what the little x is here."><code onclick="Z(this)">0:08:13</code>value of a. And there's a little button here which you push which allows that to happen. That's what the little x is here.</span><span s="503" t="Now it&apos;s also the case that I have to be able to compute the remainder of a and b. Now that may be a complicated mess. On the other hand, I&apos;m going to make it a small box. If we have to, we may open up that box and look inside and"><code onclick="Z(this)">0:08:23</code>Now it's also the case that I have to be able to compute the remainder of a and b. Now that may be a complicated mess. On the other hand, I'm going to make it a small box. If we have to, we may open up that box and look inside and</span><span s="514" t="see what it is. So here, I&apos;m going to have a little box, which I&apos;m going to draw this way, which we&apos;ll call the remainder."><code onclick="Z(this)">0:08:34</code>see what it is. So here, I'm going to have a little box, which I'm going to draw this way, which we'll call the remainder.</span><span s="526" t="And it&apos;s going to take in a. That&apos;s going to take in b. And it&apos;s going to put out something, the remainder of a"><code onclick="Z(this)">0:08:46</code>And it's going to take in a. That's going to take in b. And it's going to put out something, the remainder of a</span><span s="539" t="divided by b. Another thing we have to see here is that we have to be able to test whether b is equal to 0."><code onclick="Z(this)">0:08:59</code>divided by b. Another thing we have to see here is that we have to be able to test whether b is equal to 0.</span><span s="548" t="Well, that means somebody&apos;s got to be looking at-- a thing that&apos;s looking at the value of b. I have a light bulb here which lights up if b equals 0."><code onclick="Z(this)">0:09:08</code>Well, that means somebody's got to be looking at-- a thing that's looking at the value of b. I have a light bulb here which lights up if b equals 0.</span><span s="561" t="That&apos;s its job. And finally, I suppose, because of the fact that we want the new value of a to be the old value of b, and"><code onclick="Z(this)">0:09:21</code>That's its job. And finally, I suppose, because of the fact that we want the new value of a to be the old value of b, and</span><span s="570" t="simultaneously the new value of b to be something I&apos;ve done with a, and if I plan to make my machine such that everything happens one at a time, one motion at a time,"><code onclick="Z(this)">0:09:30</code>simultaneously the new value of b to be something I've done with a, and if I plan to make my machine such that everything happens one at a time, one motion at a time,</span><span s="581" t="and I can&apos;t put two numbers in a register, then I have to have another place to put one while I&apos;m interchanging. OK?"><code onclick="Z(this)">0:09:41</code>and I can't put two numbers in a register, then I have to have another place to put one while I'm interchanging. OK?</span><span s="590" t="I can&apos;t interchange the two things in my hands, unless I either put two in one hand and then pull it back the other way, or unless I put one down, pick it up, and put the other one, like that, unless I&apos;m a juggler, which I&apos;m not, as you"><code onclick="Z(this)">0:09:50</code>I can't interchange the two things in my hands, unless I either put two in one hand and then pull it back the other way, or unless I put one down, pick it up, and put the other one, like that, unless I'm a juggler, which I'm not, as you</span><span s="602" t="can see, in which case I have a possibility of timing errors. In fact, much of the type of computer design people do"><code onclick="Z(this)">0:10:02</code>can see, in which case I have a possibility of timing errors. In fact, much of the type of computer design people do</span><span s="611" t="involves timing errors, of some potential timing errors, which I don&apos;t much like. So for that reason, I have to have a place to put the second"><code onclick="Z(this)">0:10:11</code>involves timing errors, of some potential timing errors, which I don't much like. So for that reason, I have to have a place to put the second</span><span s="622" t="one of them down. So I have a place called t, which is a register just for temporary, t, with a button on it. And then I&apos;ll take the result of that, since I have to take"><code onclick="Z(this)">0:10:22</code>one of them down. So I have a place called t, which is a register just for temporary, t, with a button on it. And then I'll take the result of that, since I have to take</span><span s="632" t="that and put into b, over here, we&apos;ll take the result of that and go like this, and a button here."><code onclick="Z(this)">0:10:32</code>that and put into b, over here, we'll take the result of that and go like this, and a button here.</span><span s="642" t="So that&apos;s the datapaths of a GCD machine. Now what&apos;s the controller? Controller&apos;s a very simple thing, too."><code onclick="Z(this)">0:10:42</code>So that's the datapaths of a GCD machine. Now what's the controller? Controller's a very simple thing, too.</span><span s="652" t="The machine has a state. The way I like to visualize that is that I&apos;ve got a maze. And the maze has a bunch of places"><code onclick="Z(this)">0:10:52</code>The machine has a state. The way I like to visualize that is that I've got a maze. And the maze has a bunch of places</span><span s="661" t="connected by directed arrows. And what I have is a marble, which represents the state of the controller."><code onclick="Z(this)">0:11:01</code>connected by directed arrows. And what I have is a marble, which represents the state of the controller.</span><span s="670" t="The marble rolls around in the maze. Of course, this analogy breaks down for energy reasons. I sometimes have to pump the marble up to the top, because"><code onclick="Z(this)">0:11:10</code>The marble rolls around in the maze. Of course, this analogy breaks down for energy reasons. I sometimes have to pump the marble up to the top, because</span><span s="679" t="it&apos;s going to otherwise be a perpetual motion machine. But not worrying about that, this is not a physical analogy. This marble rolls around. And every time it rolls around certain bumpers, like in a"><code onclick="Z(this)">0:11:19</code>it's going to otherwise be a perpetual motion machine. But not worrying about that, this is not a physical analogy. This marble rolls around. And every time it rolls around certain bumpers, like in a</span><span s="690" t="pinball machine, it pushes one of these buttons. And every so often, it comes to a place, which is a division, where it has to make a choice."><code onclick="Z(this)">0:11:30</code>pinball machine, it pushes one of these buttons. And every so often, it comes to a place, which is a division, where it has to make a choice.</span><span s="700" t="And there&apos;s a flap, which is controlled by this. So that&apos;s a really mechanical way of thinking about it. Of course, controllers these days, are not built that way"><code onclick="Z(this)">0:11:40</code>And there's a flap, which is controlled by this. So that's a really mechanical way of thinking about it. Of course, controllers these days, are not built that way</span><span s="710" t="in real computers. They&apos;re built with a little bit of ROM and a state register. But there was a time, like the DEC PDP-6, where that&apos;s how"><code onclick="Z(this)">0:11:50</code>in real computers. They're built with a little bit of ROM and a state register. But there was a time, like the DEC PDP-6, where that's how</span><span s="719" t="you built the controller of a machine. There was a bit that ran around the delay line, and it triggered things as it went by."><code onclick="Z(this)">0:11:59</code>you built the controller of a machine. There was a bit that ran around the delay line, and it triggered things as it went by.</span><span s="728" t="And it would come back to the beginning and get fed round again. And of course, there were all sorts of great bugs you could have like two bits going around, two marbles."><code onclick="Z(this)">0:12:08</code>And it would come back to the beginning and get fed round again. And of course, there were all sorts of great bugs you could have like two bits going around, two marbles.</span><span s="737" t="And then the machine has lost its marbles. That happens, too. Oh, well. So anyway, for this machine, what I have to do is the following. I&apos;m going to start my maze here."><code onclick="Z(this)">0:12:17</code>And then the machine has lost its marbles. That happens, too. Oh, well. So anyway, for this machine, what I have to do is the following. I'm going to start my maze here.</span><span s="750" t="And the first thing I&apos;ve got to do, in a notation which many of you are familiar with, is b equal to zero, a test."><code onclick="Z(this)">0:12:30</code>And the first thing I've got to do, in a notation which many of you are familiar with, is b equal to zero, a test.</span><span s="761" t="And there&apos;s a possibility, either yes, in which case I&apos;m done. Otherwise, if no, then I&apos;m going have to"><code onclick="Z(this)">0:12:41</code>And there's a possibility, either yes, in which case I'm done. Otherwise, if no, then I'm going have to</span><span s="773" t="roll over some bumpers. I&apos;m going to do it in the following order. I want to do this interchange game."><code onclick="Z(this)">0:12:53</code>roll over some bumpers. I'm going to do it in the following order. I want to do this interchange game.</span><span s="784" t="Now first, since I need both a and b, but then the first-- and this is not necessary-- I want to collect this. This is the thing that&apos;s going to go into b."><code onclick="Z(this)">0:13:04</code>Now first, since I need both a and b, but then the first-- and this is not necessary-- I want to collect this. This is the thing that's going to go into b.</span><span s="793" t="So I&apos;m going to say, take this, which depends upon both a and b, and put the remainder into here. So I&apos;m going to push this button first. Then, I&apos;m going"><code onclick="Z(this)">0:13:13</code>So I'm going to say, take this, which depends upon both a and b, and put the remainder into here. So I'm going to push this button first. Then, I'm going</span><span s="802" t="to transfer b to a, push that button, and then I transfer the temporary into b, push that button."><code onclick="Z(this)">0:13:22</code>to transfer b to a, push that button, and then I transfer the temporary into b, push that button.</span><span s="812" t="So a very sequential machine, it&apos;s very inefficient. But that&apos;s fine right now. We&apos;re going to name the buttons, t gets remainder."><code onclick="Z(this)">0:13:32</code>So a very sequential machine, it's very inefficient. But that's fine right now. We're going to name the buttons, t gets remainder.</span><span s="826" t="a gets b. And b gets t."><code onclick="Z(this)">0:13:46</code>a gets b. And b gets t.</span><span s="835" t="And then I&apos;m going to go around here and it&apos;s to go back to start. And if you look, what are we seeing here? We&apos;re seeing the various--"><code onclick="Z(this)">0:13:55</code>And then I'm going to go around here and it's to go back to start. And if you look, what are we seeing here? We're seeing the various--</span><span s="845" t="what I really have is some sort of mechanical connection, where t gets r controls this thing."><code onclick="Z(this)">0:14:05</code>what I really have is some sort of mechanical connection, where t gets r controls this thing.</span><span s="856" t="And I have here that a gets b controls this fellow over here, and this fellow over here."><code onclick="Z(this)">0:14:16</code>And I have here that a gets b controls this fellow over here, and this fellow over here.</span><span s="868" t="Boy, that&apos;s absolutely pessimal, the inverse of optimal. Every line heads across every other line the way I drew it."><code onclick="Z(this)">0:14:28</code>Boy, that's absolutely pessimal, the inverse of optimal. Every line heads across every other line the way I drew it.</span><span s="878" t="I suppose this goes here, b gets t. Now I&apos;d like to run this machine."><code onclick="Z(this)">0:14:38</code>I suppose this goes here, b gets t. Now I'd like to run this machine.</span><span s="888" t="But before I run the machine, I want to write down a description of this controller, just so you can see that these things, of course, as usual, can be written down in some nice language, so that we don&apos;t have to always draw these diagrams. One of the problems"><code onclick="Z(this)">0:14:48</code>But before I run the machine, I want to write down a description of this controller, just so you can see that these things, of course, as usual, can be written down in some nice language, so that we don't have to always draw these diagrams. One of the problems</span><span s="899" t="with diagrams is that they take up a lot of space. And for a machine this small, it takes two blackboards. For a machine that&apos;s the evaluator machine, I have trouble putting it into this room, even though"><code onclick="Z(this)">0:14:59</code>with diagrams is that they take up a lot of space. And for a machine this small, it takes two blackboards. For a machine that's the evaluator machine, I have trouble putting it into this room, even though</span><span s="908" t="it isn&apos;t very big. So I&apos;m going to make a little language for this that&apos;s just a description of that, saying define a"><code onclick="Z(this)">0:15:08</code>it isn't very big. So I'm going to make a little language for this that's just a description of that, saying define a</span><span s="917" t="machine we&apos;ll call GCD. Of course, once we have something like this, we have a simulator for it."><code onclick="Z(this)">0:15:17</code>machine we'll call GCD. Of course, once we have something like this, we have a simulator for it.</span><span s="927" t="And the reason why we want to build a language in this form, is because all of a sudden we can manipulate these expressions that I&apos;m writing down. And then of course I can write things that can algebraically manipulate these things, simulate them, all that sort"><code onclick="Z(this)">0:15:27</code>And the reason why we want to build a language in this form, is because all of a sudden we can manipulate these expressions that I'm writing down. And then of course I can write things that can algebraically manipulate these things, simulate them, all that sort</span><span s="938" t="of things that I might want to do, perhaps transform them as a layout, who knows. Once I have a nice representation of registers,"><code onclick="Z(this)">0:15:38</code>of things that I might want to do, perhaps transform them as a layout, who knows. Once I have a nice representation of registers,</span><span s="948" t="it has certain registers, which we can call A, B, and T. And there&apos;s a controller."><code onclick="Z(this)">0:15:48</code>it has certain registers, which we can call A, B, and T. And there's a controller.</span><span s="962" t="Actually, a better language, which would be more explicit, would be one which named every button also and said what it did. Like, this button causes the contents of T to go to the"><code onclick="Z(this)">0:16:02</code>Actually, a better language, which would be more explicit, would be one which named every button also and said what it did. Like, this button causes the contents of T to go to the</span><span s="973" t="contents of B. Well I don&apos;t want to do that, because it&apos;s actually harder to read to do that, and it takes up more space. So I&apos;m going to have that in the instructions written in the controller."><code onclick="Z(this)">0:16:13</code>contents of B. Well I don't want to do that, because it's actually harder to read to do that, and it takes up more space. So I'm going to have that in the instructions written in the controller.</span><span s="983" t="It&apos;s going to be implicit what the operations are. They can be deduced by reading these and collecting together all the different things that can be done."><code onclick="Z(this)">0:16:23</code>It's going to be implicit what the operations are. They can be deduced by reading these and collecting together all the different things that can be done.</span><span s="993" t="Well, let&apos;s just look at what these things are. There&apos;s a little loop that we go around which says branch,"><code onclick="Z(this)">0:16:33</code>Well, let's just look at what these things are. There's a little loop that we go around which says branch,</span><span s="1002" t="this is the representation of the little flap that decides which way you go here, if 0 fetch of B, the contents of B,"><code onclick="Z(this)">0:16:42</code>this is the representation of the little flap that decides which way you go here, if 0 fetch of B, the contents of B,</span><span s="1018" t="and if the contents of B is 0, then go to a place called done. Now, one thing you&apos;re seeing here, this looks very much like a traditional computer language."><code onclick="Z(this)">0:16:58</code>and if the contents of B is 0, then go to a place called done. Now, one thing you're seeing here, this looks very much like a traditional computer language.</span><span s="1028" t="And what you&apos;re seeing here is things like labels that represent places in a sequence written down as a sequence."><code onclick="Z(this)">0:17:08</code>And what you're seeing here is things like labels that represent places in a sequence written down as a sequence.</span><span s="1037" t="The reason why they&apos;re needed is because over here, I&apos;ve written something with loops. But if I&apos;m writing English text, or something like that,"><code onclick="Z(this)">0:17:17</code>The reason why they're needed is because over here, I've written something with loops. But if I'm writing English text, or something like that,</span><span s="1046" t="it&apos;s hard to refer to a place. I don&apos;t have arrows. Arrows are represented by giving names to the places where the arrows terminate, and then referring to them by"><code onclick="Z(this)">0:17:26</code>it's hard to refer to a place. I don't have arrows. Arrows are represented by giving names to the places where the arrows terminate, and then referring to them by</span><span s="1055" t="those names. Now this is just an encoding. There&apos;s nothing magical about things like that. Next thing we&apos;re going to do is we&apos;re going to say, how do"><code onclick="Z(this)">0:17:35</code>those names. Now this is just an encoding. There's nothing magical about things like that. Next thing we're going to do is we're going to say, how do</span><span s="1065" t="we do T gets R? Oh, that&apos;s easy enough, assign. We assign to T the remainder."><code onclick="Z(this)">0:17:45</code>we do T gets R? Oh, that's easy enough, assign. We assign to T the remainder.</span><span s="1076" t="Assign is the name of the button. That&apos;s the button-pusher. Assign to T the remainder, and here&apos;s the representation of"><code onclick="Z(this)">0:17:56</code>Assign is the name of the button. That's the button-pusher. Assign to T the remainder, and here's the representation of</span><span s="1085" t="the operation, when we divide the fetch of A by the fetch of"><code onclick="Z(this)">0:18:05</code>the operation, when we divide the fetch of A by the fetch of</span><span s="1097" t="B. And we&apos;re also going to assign to A the fetch of B, assign to"><code onclick="Z(this)">0:18:17</code>B. And we're also going to assign to A the fetch of B, assign to</span><span s="1115" t="B the result of getting the contents of T. And now I have"><code onclick="Z(this)">0:18:35</code>B the result of getting the contents of T. And now I have</span><span s="1130" t="to refer to the beginning here. I see, why don&apos;t I call that loop like I have here?"><code onclick="Z(this)">0:18:50</code>to refer to the beginning here. I see, why don't I call that loop like I have here?</span><span s="1145" t="So that&apos;s that reference to that arrow. And when we&apos;re done, we&apos;re done. We go to here, which is the end of the thing."><code onclick="Z(this)">0:19:05</code>So that's that reference to that arrow. And when we're done, we're done. We go to here, which is the end of the thing.</span><span s="1154" t="So here&apos;s just a written representation of this fragment of machinery that we&apos;ve drawn here. Now the next thing I&apos;d like to do is run this."><code onclick="Z(this)">0:19:14</code>So here's just a written representation of this fragment of machinery that we've drawn here. Now the next thing I'd like to do is run this.</span><span s="1165" t="I want us to feel it running. Never done this before, you got to do it once. So let&apos;s take a particular problem. Suppose we want to compute the GCD of a equals 30"><code onclick="Z(this)">0:19:25</code>I want us to feel it running. Never done this before, you got to do it once. So let's take a particular problem. Suppose we want to compute the GCD of a equals 30</span><span s="1178" t="and b equals 42. I have no idea what that is right now. But a 30 and b is 42."><code onclick="Z(this)">0:19:38</code>and b equals 42. I have no idea what that is right now. But a 30 and b is 42.</span><span s="1190" t="So that&apos;s how I start this thing up. Well, what&apos;s the first thing I do? I say is B equal to 0, no. Then assign to T the remainder of the fetch of A and the"><code onclick="Z(this)">0:19:50</code>So that's how I start this thing up. Well, what's the first thing I do? I say is B equal to 0, no. Then assign to T the remainder of the fetch of A and the</span><span s="1201" t="fetch of B. Well the remainder of 30 when divided by 42 is itself 30."><code onclick="Z(this)">0:20:01</code>fetch of B. Well the remainder of 30 when divided by 42 is itself 30.</span><span s="1211" t="Push that button. Now the marble has rolled to here. A gets B. That pushes this button."><code onclick="Z(this)">0:20:11</code>Push that button. Now the marble has rolled to here. A gets B. That pushes this button.</span><span s="1221" t="So 42 moves into here. B gets C. Push that button. The 30 goes here."><code onclick="Z(this)">0:20:21</code>So 42 moves into here. B gets C. Push that button. The 30 goes here.</span><span s="1232" t="Let met just interchange them. Now let&apos;s see, go back to the beginning. B 0, no. T gets the remainder."><code onclick="Z(this)">0:20:32</code>Let met just interchange them. Now let's see, go back to the beginning. B 0, no. T gets the remainder.</span><span s="1243" t="I suppose the remainder when dividing 42 by 30 is 12. I push that one. Next thing I do is allow the 30 to go to here, push this"><code onclick="Z(this)">0:20:43</code>I suppose the remainder when dividing 42 by 30 is 12. I push that one. Next thing I do is allow the 30 to go to here, push this</span><span s="1254" t="one, allow the 12 to go to here. Go around this thing. Is that done? No. How about--"><code onclick="Z(this)">0:20:54</code>one, allow the 12 to go to here. Go around this thing. Is that done? No. How about--</span><span s="1265" t="so now I have to find out the remainder of 30 divided by 12. And I believe that&apos;s 6. So 6 goes here on this button push."><code onclick="Z(this)">0:21:05</code>so now I have to find out the remainder of 30 divided by 12. And I believe that's 6. So 6 goes here on this button push.</span><span s="1275" t="Then the next thing I push is this one, which the 12 goes into here. Then I push this button."><code onclick="Z(this)">0:21:15</code>Then the next thing I push is this one, which the 12 goes into here. Then I push this button.</span><span s="1285" t="The 6 gets into here. Is 6 equal to 0? No. OK."><code onclick="Z(this)">0:21:25</code>The 6 gets into here. Is 6 equal to 0? No. OK.</span><span s="1294" t="So then at that point, the next thing to do is divide it. Ooh, this has got a remainder of 0. Looks like we&apos;re almost done. Move the 6 over here next."><code onclick="Z(this)">0:21:34</code>So then at that point, the next thing to do is divide it. Ooh, this has got a remainder of 0. Looks like we're almost done. Move the 6 over here next.</span><span s="1307" t="0 over here. Is the answer 0? Yes. B is 0, therefore the answer is in A. The answer is 6."><code onclick="Z(this)">0:21:47</code>0 over here. Is the answer 0? Yes. B is 0, therefore the answer is in A. The answer is 6.</span><span s="1316" t="And indeed that&apos;s right, because if we look at the original problem, what we have is 30 is 2 times 3 times 5,"><code onclick="Z(this)">0:21:56</code>And indeed that's right, because if we look at the original problem, what we have is 30 is 2 times 3 times 5,</span><span s="1327" t="and 42 is 2 times 3 times 7. So the greatest common divisor is 2 times 3, which is 6."><code onclick="Z(this)">0:22:07</code>and 42 is 2 times 3 times 7. So the greatest common divisor is 2 times 3, which is 6.</span><span s="1338" t="Now normally, we write one other little line here, just to make it a little bit clearer, which is that we leave in a connection saying that this light is the guy"><code onclick="Z(this)">0:22:18</code>Now normally, we write one other little line here, just to make it a little bit clearer, which is that we leave in a connection saying that this light is the guy</span><span s="1349" t="that that flap looks at. Of course, any real machine has a lot more complicated"><code onclick="Z(this)">0:22:29</code>that that flap looks at. Of course, any real machine has a lot more complicated</span><span s="1358" t="things in it than what I&apos;ve just shown you. Let&apos;s look for a second at the first still store."><code onclick="Z(this)">0:22:38</code>things in it than what I've just shown you. Let's look for a second at the first still store.</span><span s="1367" t="Wow. Well you see, for example, one thing we might want to do is worry about the operations that are of IO form."><code onclick="Z(this)">0:22:47</code>Wow. Well you see, for example, one thing we might want to do is worry about the operations that are of IO form.</span><span s="1376" t="And we may have to collect something from the outside. So a state machine that we might have, the controller may"><code onclick="Z(this)">0:22:56</code>And we may have to collect something from the outside. So a state machine that we might have, the controller may</span><span s="1386" t="have to, for example, get a value from something and put register a to load it up. I have to master load up register b with another value."><code onclick="Z(this)">0:23:06</code>have to, for example, get a value from something and put register a to load it up. I have to master load up register b with another value.</span><span s="1397" t="And then later, when I&apos;m done, I might want to print the answer out. And of course, that might be either simple or complicated."><code onclick="Z(this)">0:23:17</code>And then later, when I'm done, I might want to print the answer out. And of course, that might be either simple or complicated.</span><span s="1406" t="I&apos;m writing, assuming print is very simple, and read is very simple. But in fact, in the real world, those are very complicated operations, usually much, much larger and more complicated than the thing you&apos;re doing as your"><code onclick="Z(this)">0:23:26</code>I'm writing, assuming print is very simple, and read is very simple. But in fact, in the real world, those are very complicated operations, usually much, much larger and more complicated than the thing you're doing as your</span><span s="1417" t="problem you&apos;re trying to solve. On the other hand, I can remember a time when, I remember using IBM 7090 computer of sorts, where"><code onclick="Z(this)">0:23:37</code>problem you're trying to solve. On the other hand, I can remember a time when, I remember using IBM 7090 computer of sorts, where</span><span s="1429" t="things like read and write of a single object, a single number, a number, is a primitive operation of the IO"><code onclick="Z(this)">0:23:49</code>things like read and write of a single object, a single number, a number, is a primitive operation of the IO</span><span s="1438" t="controller. OK? And so we have that kind of thing in there. And in such a machine, well, what are we really doing?"><code onclick="Z(this)">0:23:58</code>controller. OK? And so we have that kind of thing in there. And in such a machine, well, what are we really doing?</span><span s="1448" t="We&apos;re just saying that there&apos;s a source over here called &quot;read,&quot; which is an operation which always has a value. We have to think about this as always having a value which"><code onclick="Z(this)">0:24:08</code>We're just saying that there's a source over here called "read," which is an operation which always has a value. We have to think about this as always having a value which</span><span s="1457" t="can be gated into either register a or b. And print is some sort of thing which when you gate it appropriately, when you push the button on it, will cause a"><code onclick="Z(this)">0:24:17</code>can be gated into either register a or b. And print is some sort of thing which when you gate it appropriately, when you push the button on it, will cause a</span><span s="1467" t="print of the value that&apos;s currently in register a. Nothing very exciting. So that&apos;s one sort of thing you might want to have. But"><code onclick="Z(this)">0:24:27</code>print of the value that's currently in register a. Nothing very exciting. So that's one sort of thing you might want to have. But</span><span s="1476" t="these are also other things that are a little bit worrisome. Like I&apos;ve used here some complicated mechanisms. What you see here is remainder. What is that? That may not be so obvious how to compute."><code onclick="Z(this)">0:24:36</code>these are also other things that are a little bit worrisome. Like I've used here some complicated mechanisms. What you see here is remainder. What is that? That may not be so obvious how to compute.</span><span s="1486" t="It may be something which when you open it up, you get a whole machine. OK? In fact, that&apos;s true. For example, if I write down the program for remainder, the"><code onclick="Z(this)">0:24:46</code>It may be something which when you open it up, you get a whole machine. OK? In fact, that's true. For example, if I write down the program for remainder, the</span><span s="1499" t="simplest program for it is by repeated subtraction. Because of course, division can be done by repeated subtraction of numbers, of integers."><code onclick="Z(this)">0:24:59</code>simplest program for it is by repeated subtraction. Because of course, division can be done by repeated subtraction of numbers, of integers.</span><span s="1509" t="So the remainder of N divided by D is nothing more than if N"><code onclick="Z(this)">0:25:09</code>So the remainder of N divided by D is nothing more than if N</span><span s="1530" t="is less than D, then the result is N. Otherwise, it&apos;s the remainder when we subtract D from N with respect to D,"><code onclick="Z(this)">0:25:30</code>is less than D, then the result is N. Otherwise, it's the remainder when we subtract D from N with respect to D,</span><span s="1548" t="when divided by D. Gee, this looks just like the GCD program. Of course, it&apos;s not a very nice way to do remainders."><code onclick="Z(this)">0:25:48</code>when divided by D. Gee, this looks just like the GCD program. Of course, it's not a very nice way to do remainders.</span><span s="1559" t="You&apos;d really want to use something like binary notation and shift and things like that in a practical computer. But the point of that is that if I open this thing up, I"><code onclick="Z(this)">0:25:59</code>You'd really want to use something like binary notation and shift and things like that in a practical computer. But the point of that is that if I open this thing up, I</span><span s="1569" t="might find inside of it a computer. Oh, we know how to do that. We just made one. And it could be another thing just like this. On the other hand, we might want to make a more efficient"><code onclick="Z(this)">0:26:09</code>might find inside of it a computer. Oh, we know how to do that. We just made one. And it could be another thing just like this. On the other hand, we might want to make a more efficient</span><span s="1580" t="or better-structured machine, or maybe make use of some of the registers more than once, or some horrible mess like that that hardware designers like to do, and for very good reasons."><code onclick="Z(this)">0:26:20</code>or better-structured machine, or maybe make use of some of the registers more than once, or some horrible mess like that that hardware designers like to do, and for very good reasons.</span><span s="1589" t="So for example, here&apos;s a machine that you see, which you&apos;re not supposed to be able to read. It&apos;s a little bit complicated. But what it is is the integration of the remainder"><code onclick="Z(this)">0:26:29</code>So for example, here's a machine that you see, which you're not supposed to be able to read. It's a little bit complicated. But what it is is the integration of the remainder</span><span s="1601" t="into the GCD machine. And it takes, in fact, no more registers. There are three registers in the datapaths. OK? But now there&apos;s a subtractor."><code onclick="Z(this)">0:26:41</code>into the GCD machine. And it takes, in fact, no more registers. There are three registers in the datapaths. OK? But now there's a subtractor.</span><span s="1611" t="There are two things that are tested. Is b equal to 0, or is t less than b? And then the controller, which you see over here, is not much"><code onclick="Z(this)">0:26:51</code>There are two things that are tested. Is b equal to 0, or is t less than b? And then the controller, which you see over here, is not much</span><span s="1620" t="more complicated. But it has two loops in it, one of which is the main one for doing the GCD, and one of which is the subtraction loop"><code onclick="Z(this)">0:27:00</code>more complicated. But it has two loops in it, one of which is the main one for doing the GCD, and one of which is the subtraction loop</span><span s="1630" t="for doing the remainder sub-operation. And there are ways, of course, of, if you think about it, taking the remainder program."><code onclick="Z(this)">0:27:10</code>for doing the remainder sub-operation. And there are ways, of course, of, if you think about it, taking the remainder program.</span><span s="1639" t="If I take remainder, as you see over there, as a lambda expression, substitute it in for remainder over here in the GCD program, then do some simplification by substituting"><code onclick="Z(this)">0:27:19</code>If I take remainder, as you see over there, as a lambda expression, substitute it in for remainder over here in the GCD program, then do some simplification by substituting</span><span s="1650" t="a and b for remainder in there, then I can unwind this loop. And I can get this piece of machinery by basically, a"><code onclick="Z(this)">0:27:30</code>a and b for remainder in there, then I can unwind this loop. And I can get this piece of machinery by basically, a</span><span s="1661" t="little bit of algebraic simplification on the lambda expressions. So I suppose you&apos;ve seen your first very"><code onclick="Z(this)">0:27:41</code>little bit of algebraic simplification on the lambda expressions. So I suppose you've seen your first very</span><span s="1670" t="simple machines now. Are there any questions?"><code onclick="Z(this)">0:27:50</code>simple machines now. Are there any questions?</span><span s="1682" t="Good. This looks easy, doesn&apos;t it? Thank you. I suppose, take a break."><code onclick="Z(this)">0:28:02</code>Good. This looks easy, doesn't it? Thank you. I suppose, take a break.</span><span s="1691" t="[MUSIC PLAYING - &quot;JESU, JOY OF MAN&apos;S DESIRING&quot; BY JOHANN SEBASTIAN BACH]"><code onclick="Z(this)">0:28:11</code>[MUSIC PLAYING - "JESU, JOY OF MAN'S DESIRING" BY JOHANN SEBASTIAN BACH]</span><span s="1727" t="PROFESSOR: Well, let&apos;s see. Now you know how to make an iterative procedure, or a procedure that yields an iterative process, turn into a machine."><code onclick="Z(this)">0:28:47</code>PROFESSOR: Well, let's see. Now you know how to make an iterative procedure, or a procedure that yields an iterative process, turn into a machine.</span><span s="1737" t="I suppose the next thing we want to do is worry about things that reveal recursive processes. So let&apos;s play with a simple factorial procedure."><code onclick="Z(this)">0:28:57</code>I suppose the next thing we want to do is worry about things that reveal recursive processes. So let's play with a simple factorial procedure.</span><span s="1750" t="We define factorial of N to be if n is 1, the result is 1,"><code onclick="Z(this)">0:29:10</code>We define factorial of N to be if n is 1, the result is 1,</span><span s="1764" t="using 1 right now to decrease the amount of work I have to do to simulate it, else it&apos;s times N factorial N minus 1."><code onclick="Z(this)">0:29:24</code>using 1 right now to decrease the amount of work I have to do to simulate it, else it's times N factorial N minus 1.</span><span s="1782" t="And what&apos;s different with this program, as you know, is that after I&apos;ve computed factorial of N minus 1 here, I have to"><code onclick="Z(this)">0:29:42</code>And what's different with this program, as you know, is that after I've computed factorial of N minus 1 here, I have to</span><span s="1791" t="do something to the result. I have to multiply it by N. So the only way I can visualize what this machine is"><code onclick="Z(this)">0:29:51</code>do something to the result. I have to multiply it by N. So the only way I can visualize what this machine is</span><span s="1800" t="doing, because of the fact-- think of it this way, that I have a machine out here which somehow needs a factorial machine in order to compute its answer."><code onclick="Z(this)">0:30:00</code>doing, because of the fact-- think of it this way, that I have a machine out here which somehow needs a factorial machine in order to compute its answer.</span><span s="1809" t="But this machine, the outer machine, has to exist before and after the factorial machine, which is inside. Whereas in the iterative case, the outer machine doesn&apos;t need"><code onclick="Z(this)">0:30:09</code>But this machine, the outer machine, has to exist before and after the factorial machine, which is inside. Whereas in the iterative case, the outer machine doesn't need</span><span s="1820" t="to exist after the inner machine is running, because you never need to go back to the outer machine to do anything. So here we have a problem where we have a machine which"><code onclick="Z(this)">0:30:20</code>to exist after the inner machine is running, because you never need to go back to the outer machine to do anything. So here we have a problem where we have a machine which</span><span s="1831" t="has the same machine inside of it, an infinitely large machine."><code onclick="Z(this)">0:30:31</code>has the same machine inside of it, an infinitely large machine.</span><span s="1840" t="And it&apos;s got other things inside of it, like a multiplier, which takes some inputs, and there&apos;s a minus 1 box, and things like that."><code onclick="Z(this)">0:30:40</code>And it's got other things inside of it, like a multiplier, which takes some inputs, and there's a minus 1 box, and things like that.</span><span s="1850" t="You can imagine that&apos;s what it looks like. But the important thing is that here I have something that happens before and after, in the outer machine, the"><code onclick="Z(this)">0:30:50</code>You can imagine that's what it looks like. But the important thing is that here I have something that happens before and after, in the outer machine, the</span><span s="1860" t="execution of the inner machine. So this machine has to have a life. It has to exist on both times sides of this machine."><code onclick="Z(this)">0:31:00</code>execution of the inner machine. So this machine has to have a life. It has to exist on both times sides of this machine.</span><span s="1873" t="So somehow, I have to have a place to store the things that this thing needs to run. Infinite objects don&apos;t exist in the real world."><code onclick="Z(this)">0:31:13</code>So somehow, I have to have a place to store the things that this thing needs to run. Infinite objects don't exist in the real world.</span><span s="1884" t="What we have to do is arrange an illusion that we have an infinite object, we have an infinite amount of hardware somewhere. Now of course, illusion&apos;s all that really matters."><code onclick="Z(this)">0:31:24</code>What we have to do is arrange an illusion that we have an infinite object, we have an infinite amount of hardware somewhere. Now of course, illusion's all that really matters.</span><span s="1896" t="If we can arrange that every time you look at some infinite object, the part of it that you look at is there, then it&apos;s as infinite as you need it to be."><code onclick="Z(this)">0:31:36</code>If we can arrange that every time you look at some infinite object, the part of it that you look at is there, then it's as infinite as you need it to be.</span><span s="1907" t="And of course, one of the things we might want to do, just look at this thing over here, is the organization that we&apos;ve had so far involves having a part of the machine,"><code onclick="Z(this)">0:31:47</code>And of course, one of the things we might want to do, just look at this thing over here, is the organization that we've had so far involves having a part of the machine,</span><span s="1921" t="which is the controller, which sits right over here, which is perfectly finite and very simple. We have some datapaths, which consist of"><code onclick="Z(this)">0:32:01</code>which is the controller, which sits right over here, which is perfectly finite and very simple. We have some datapaths, which consist of</span><span s="1931" t="registers and operators. And what I propose to do here is decompose the machine into two parts, such that there is a part which is fundamentally finite, and some part where a certain amount of infinite"><code onclick="Z(this)">0:32:11</code>registers and operators. And what I propose to do here is decompose the machine into two parts, such that there is a part which is fundamentally finite, and some part where a certain amount of infinite</span><span s="1942" t="stuff can be kept. On the other hand this is very simple and really isn&apos;t infinite, but it&apos;s just very large. But it&apos;s so simple that it could be cheaply reproduced in"><code onclick="Z(this)">0:32:22</code>stuff can be kept. On the other hand this is very simple and really isn't infinite, but it's just very large. But it's so simple that it could be cheaply reproduced in</span><span s="1951" t="such large amounts, we call it memory, that we can make a structure called a stack out of it which will allow us to,"><code onclick="Z(this)">0:32:31</code>such large amounts, we call it memory, that we can make a structure called a stack out of it which will allow us to,</span><span s="1960" t="in fact, simulate the existence of an infinite machine which is made out of a recursive nest of many machines. And the way it&apos;s going to work is that we&apos;re going to store"><code onclick="Z(this)">0:32:40</code>in fact, simulate the existence of an infinite machine which is made out of a recursive nest of many machines. And the way it's going to work is that we're going to store</span><span s="1971" t="in this place called the stack the information required after the inner machine runs to resume the operation of the"><code onclick="Z(this)">0:32:51</code>in this place called the stack the information required after the inner machine runs to resume the operation of the</span><span s="1980" t="outer machine. So it will remember the important things about the life of the outer machine that will be needed for this"><code onclick="Z(this)">0:33:00</code>outer machine. So it will remember the important things about the life of the outer machine that will be needed for this</span><span s="1989" t="computation. Since, of course, these machines are nested in a recursive manner, then in fact the stack will only be"><code onclick="Z(this)">0:33:09</code>computation. Since, of course, these machines are nested in a recursive manner, then in fact the stack will only be</span><span s="2000" t="accessed in a manner which is the last thing that goes in is the first thing that comes out."><code onclick="Z(this)">0:33:20</code>accessed in a manner which is the last thing that goes in is the first thing that comes out.</span><span s="2009" t="So we&apos;ll only need to access some little part of this stack memory. OK, well, let&apos;s do it. I&apos;m going to build you a datapath now, and I&apos;m going to"><code onclick="Z(this)">0:33:29</code>So we'll only need to access some little part of this stack memory. OK, well, let's do it. I'm going to build you a datapath now, and I'm going to</span><span s="2018" t="write the controller. And then we&apos;re going to execute this to see how you do it. So the factorial machine isn&apos;t so bad."><code onclick="Z(this)">0:33:38</code>write the controller. And then we're going to execute this to see how you do it. So the factorial machine isn't so bad.</span><span s="2027" t="It&apos;s going to have a register called the value, where the answer is going to be stored, and a registered called N,"><code onclick="Z(this)">0:33:47</code>It's going to have a register called the value, where the answer is going to be stored, and a registered called N,</span><span s="2039" t="which is where the number I&apos;m taking factorial will be stored, factorial of. And it will be necessary in some instances to connect VAL"><code onclick="Z(this)">0:33:59</code>which is where the number I'm taking factorial will be stored, factorial of. And it will be necessary in some instances to connect VAL</span><span s="2049" t="to N. In fact, one nice case of this is if I just said over here, N, because that would be right for N equal 1N."><code onclick="Z(this)">0:34:09</code>to N. In fact, one nice case of this is if I just said over here, N, because that would be right for N equal 1N.</span><span s="2059" t="And I could just move the answer over there if that&apos;s important. I&apos;m not worried about that right now. And there are things I have to be able to do."><code onclick="Z(this)">0:34:19</code>And I could just move the answer over there if that's important. I'm not worried about that right now. And there are things I have to be able to do.</span><span s="2069" t="Like I have to be able to, as we see here, multiply N by something in VAL, because VAL is the result of computing factorial."><code onclick="Z(this)">0:34:29</code>Like I have to be able to, as we see here, multiply N by something in VAL, because VAL is the result of computing factorial.</span><span s="2078" t="And I have to put the result back into VAL. So here we can see that the result of computing a factorial is N times the result"><code onclick="Z(this)">0:34:38</code>And I have to put the result back into VAL. So here we can see that the result of computing a factorial is N times the result</span><span s="2088" t="of computing a factorial. VAL will be the representation of the answer of the inner factorial. And so I&apos;m going to have to have a multiplier here, which"><code onclick="Z(this)">0:34:48</code>of computing a factorial. VAL will be the representation of the answer of the inner factorial. And so I'm going to have to have a multiplier here, which</span><span s="2102" t="is going to sample the value of N and the value of VAL and put the result back into VAL like that."><code onclick="Z(this)">0:35:02</code>is going to sample the value of N and the value of VAL and put the result back into VAL like that.</span><span s="2117" t="I&apos;m also going to have to be able to see if N is 1. So I need a light bulb."><code onclick="Z(this)">0:35:17</code>I'm also going to have to be able to see if N is 1. So I need a light bulb.</span><span s="2128" t="And I suppose the other thing I&apos;m going to need to have is a way of decrementing N. So I&apos;m going to have a decrementer,"><code onclick="Z(this)">0:35:28</code>And I suppose the other thing I'm going to need to have is a way of decrementing N. So I'm going to have a decrementer,</span><span s="2138" t="which takes N and is going to put back the result into N. That&apos;s pretty much what I need in my machine."><code onclick="Z(this)">0:35:38</code>which takes N and is going to put back the result into N. That's pretty much what I need in my machine.</span><span s="2149" t="Now, there&apos;s a little bit else I need. It&apos;s a little bit more complicated, because I&apos;m also going to need a way to store, to save away, the things that"><code onclick="Z(this)">0:35:49</code>Now, there's a little bit else I need. It's a little bit more complicated, because I'm also going to need a way to store, to save away, the things that</span><span s="2158" t="are going to be needed for resuming the computation of a factorial after I&apos;ve done a sub-factorial. What&apos;s that?"><code onclick="Z(this)">0:35:58</code>are going to be needed for resuming the computation of a factorial after I've done a sub-factorial. What's that?</span><span s="2167" t="One thing I need is N. So I&apos;m going to build here a thing called a stack. The stack is a bunch of stuff that I&apos;m going to write in"><code onclick="Z(this)">0:36:07</code>One thing I need is N. So I'm going to build here a thing called a stack. The stack is a bunch of stuff that I'm going to write in</span><span s="2184" t="sequentially. I don&apos;t how long it is. The longer it is, the better my illusion of infinity. And I&apos;m going to have to have a way of getting stuff out of"><code onclick="Z(this)">0:36:24</code>sequentially. I don't how long it is. The longer it is, the better my illusion of infinity. And I'm going to have to have a way of getting stuff out of</span><span s="2196" t="N and into the stack and vice versa. So I&apos;m going to need a connection like this, which is two-way, whereby I can save the value of N and then"><code onclick="Z(this)">0:36:36</code>N and into the stack and vice versa. So I'm going to need a connection like this, which is two-way, whereby I can save the value of N and then</span><span s="2212" t="restore it some other time through that connection. This is the stack. I also need a way of remembering where I was in the"><code onclick="Z(this)">0:36:52</code>restore it some other time through that connection. This is the stack. I also need a way of remembering where I was in the</span><span s="2222" t="computation of factorial in the outer program. Now in the case of this machine, it"><code onclick="Z(this)">0:37:02</code>computation of factorial in the outer program. Now in the case of this machine, it</span><span s="2231" t="isn&apos;t very much a problem. Factorial always returns, has to go back to the place where we multiply by N, except for the last time, when it has to"><code onclick="Z(this)">0:37:11</code>isn't very much a problem. Factorial always returns, has to go back to the place where we multiply by N, except for the last time, when it has to</span><span s="2241" t="return to whatever needs the factorial or go to done or stop. However, in general, I&apos;m going to have to remember where I have been, because I might have computed factorial from"><code onclick="Z(this)">0:37:21</code>return to whatever needs the factorial or go to done or stop. However, in general, I'm going to have to remember where I have been, because I might have computed factorial from</span><span s="2250" t="somewhere else. I have to go back to that place and continue there. So I&apos;m going to have to have some way of taking the place where the marble is in the finite state controller, the"><code onclick="Z(this)">0:37:30</code>somewhere else. I have to go back to that place and continue there. So I'm going to have to have some way of taking the place where the marble is in the finite state controller, the</span><span s="2261" t="state of the controller, and storing that in the stack as well. And I&apos;m going to have to have ways of restoring that back to the state of the-- the marble."><code onclick="Z(this)">0:37:41</code>state of the controller, and storing that in the stack as well. And I'm going to have to have ways of restoring that back to the state of the-- the marble.</span><span s="2271" t="So I have to have something that moves the marble to the right place. Well, we&apos;re going to have a place which is the marble now. And it&apos;s called the continue register, called continue,"><code onclick="Z(this)">0:37:51</code>So I have to have something that moves the marble to the right place. Well, we're going to have a place which is the marble now. And it's called the continue register, called continue,</span><span s="2289" t="which is the place to put the marble next time I go to continue. That&apos;s what that&apos;s for. And so there&apos;s got to be some path from that into the controller."><code onclick="Z(this)">0:38:09</code>which is the place to put the marble next time I go to continue. That's what that's for. And so there's got to be some path from that into the controller.</span><span s="2302" t="I also have to have some way of saving that on the stack. And I have to have some way of setting that up to have"><code onclick="Z(this)">0:38:22</code>I also have to have some way of saving that on the stack. And I have to have some way of setting that up to have</span><span s="2312" t="various constants, a certain fixed number of constants. And that&apos;s very easy to arrange. So let&apos;s have some constants here. We&apos;ll call this one after-fact."><code onclick="Z(this)">0:38:32</code>various constants, a certain fixed number of constants. And that's very easy to arrange. So let's have some constants here. We'll call this one after-fact.</span><span s="2327" t="And that&apos;s a constant which we&apos;ll get into the continue register, and also another one called fact-done."><code onclick="Z(this)">0:38:47</code>And that's a constant which we'll get into the continue register, and also another one called fact-done.</span><span s="2345" t="So this is the machine I want to build. That&apos;s its datapaths, at least. And it mixes a little with the controller here, because of the fact that I have to remember where I was and restore"><code onclick="Z(this)">0:39:05</code>So this is the machine I want to build. That's its datapaths, at least. And it mixes a little with the controller here, because of the fact that I have to remember where I was and restore</span><span s="2355" t="myself to that place. But let&apos;s write the program now which represents the controller. I&apos;m not going to write the define machine thing and the register list, because that&apos;s not very interesting."><code onclick="Z(this)">0:39:15</code>myself to that place. But let's write the program now which represents the controller. I'm not going to write the define machine thing and the register list, because that's not very interesting.</span><span s="2364" t="I&apos;m just going to write down the sequence of instructions that constitute the controller. So we have assign, to set up, continue to done."><code onclick="Z(this)">0:39:24</code>I'm just going to write down the sequence of instructions that constitute the controller. So we have assign, to set up, continue to done.</span><span s="2384" t="We have a loop which says branch if equal 1 fetch N, if"><code onclick="Z(this)">0:39:44</code>We have a loop which says branch if equal 1 fetch N, if</span><span s="2401" t="N is 1, then go to the base step of the induction, the simple case. Otherwise, I have to remember the things that are necessary"><code onclick="Z(this)">0:40:01</code>N is 1, then go to the base step of the induction, the simple case. Otherwise, I have to remember the things that are necessary</span><span s="2410" t="to perform a sub-factorial. I&apos;m going to go over here, and I have to perform a sub-factorial. So I have to remember what&apos;s needed after I will"><code onclick="Z(this)">0:40:10</code>to perform a sub-factorial. I'm going to go over here, and I have to perform a sub-factorial. So I have to remember what's needed after I will</span><span s="2421" t="be done with that. See, I&apos;m about to do something terrible. I&apos;m about to change the value of N. But this guy has to know the old value of N. But in order to make the"><code onclick="Z(this)">0:40:21</code>be done with that. See, I'm about to do something terrible. I'm about to change the value of N. But this guy has to know the old value of N. But in order to make the</span><span s="2432" t="sub-factorial work, I have to change the value of N. So I have to remember the old value. And I also have to remember where I&apos;ve been. So I save up continue."><code onclick="Z(this)">0:40:32</code>sub-factorial work, I have to change the value of N. So I have to remember the old value. And I also have to remember where I've been. So I save up continue.</span><span s="2447" t="And this is an instruction that says, put something in the stack. Save the contents of the continuation register, which"><code onclick="Z(this)">0:40:47</code>And this is an instruction that says, put something in the stack. Save the contents of the continuation register, which</span><span s="2456" t="in this case is done, because later I&apos;m going to change that, too, because I need to go back to after-fact, as well. We&apos;ll see that."><code onclick="Z(this)">0:40:56</code>in this case is done, because later I'm going to change that, too, because I need to go back to after-fact, as well. We'll see that.</span><span s="2465" t="We save N, because I&apos;m going to need that for later. Assign to N the decrement of fetch N. Assign continue,"><code onclick="Z(this)">0:41:05</code>We save N, because I'm going to need that for later. Assign to N the decrement of fetch N. Assign continue,</span><span s="2491" t="we&apos;re going to look at this now, to after, we&apos;ll call it. That&apos;s a good name for this, a little bit easier and shorter, and fits in here."><code onclick="Z(this)">0:41:31</code>we're going to look at this now, to after, we'll call it. That's a good name for this, a little bit easier and shorter, and fits in here.</span><span s="2512" t="Now look what I&apos;m doing here. I&apos;m saying, if the answer is 1, I&apos;m done. I&apos;m going to have to just get the answer."><code onclick="Z(this)">0:41:52</code>Now look what I'm doing here. I'm saying, if the answer is 1, I'm done. I'm going to have to just get the answer.</span><span s="2522" t="Otherwise, I&apos;m going to save the continuation, save N, make N one less than N, remember I&apos;m going to come back to someplace else, and go back and start doing another factorial."><code onclick="Z(this)">0:42:02</code>Otherwise, I'm going to save the continuation, save N, make N one less than N, remember I'm going to come back to someplace else, and go back and start doing another factorial.</span><span s="2533" t="However, I&apos;ve got a different machine [? in me ?] now. N is 1, and continue is something else."><code onclick="Z(this)">0:42:13</code>However, I've got a different machine [? in me ?] now. N is 1, and continue is something else.</span><span s="2542" t="N is N minus 1. Now after I&apos;m done with that, I can go there. I will restore the old value of N, which is the opposite of"><code onclick="Z(this)">0:42:22</code>N is N minus 1. Now after I'm done with that, I can go there. I will restore the old value of N, which is the opposite of</span><span s="2554" t="this save over here. I will restore the continuation."><code onclick="Z(this)">0:42:34</code>this save over here. I will restore the continuation.</span><span s="2569" t="I will then go to here. I will assign to the VAL register the product"><code onclick="Z(this)">0:42:49</code>I will then go to here. I will assign to the VAL register the product</span><span s="2583" t="of N and fetch VAL."><code onclick="Z(this)">0:43:03</code>of N and fetch VAL.</span><span s="2593" t="VAL fetch product assign. And then I will be done. I will have my answer to the sub-factorial in VAL."><code onclick="Z(this)">0:43:13</code>VAL fetch product assign. And then I will be done. I will have my answer to the sub-factorial in VAL.</span><span s="2606" t="At that point, I&apos;m going to return by going to the place where the continuation is pointing. That says, go to fetch continue."><code onclick="Z(this)">0:43:26</code>At that point, I'm going to return by going to the place where the continuation is pointing. That says, go to fetch continue.</span><span s="2625" t="And then I have finally a base step, which is the immediate answer. Assign to VAL fetch N, and go to fetch continue."><code onclick="Z(this)">0:43:45</code>And then I have finally a base step, which is the immediate answer. Assign to VAL fetch N, and go to fetch continue.</span><span s="2652" t="And then I&apos;m done. Now let&apos;s see how this executes on a very simple case, because then we&apos;ll see the use of this stack to do"><code onclick="Z(this)">0:44:12</code>And then I'm done. Now let's see how this executes on a very simple case, because then we'll see the use of this stack to do</span><span s="2665" t="the job we need. This is statically what it&apos;s doing, but we have look dynamically at this. So let&apos;s see. First thing we do is continue gets done."><code onclick="Z(this)">0:44:25</code>the job we need. This is statically what it's doing, but we have look dynamically at this. So let's see. First thing we do is continue gets done.</span><span s="2676" t="The way that happened is I pushed this. Let&apos;s call that done the way I have it."><code onclick="Z(this)">0:44:36</code>The way that happened is I pushed this. Let's call that done the way I have it.</span><span s="2686" t="I push that button. Done goes into there. Now I also have to set this thing up to have an initial value. Let&apos;s consider a factorial of three, a simple case."><code onclick="Z(this)">0:44:46</code>I push that button. Done goes into there. Now I also have to set this thing up to have an initial value. Let's consider a factorial of three, a simple case.</span><span s="2700" t="And we&apos;re going to start out with our stack growing over here. Stacks have their own little internal state saying where they are, where the next place I&apos;m going to write is."><code onclick="Z(this)">0:45:00</code>And we're going to start out with our stack growing over here. Stacks have their own little internal state saying where they are, where the next place I'm going to write is.</span><span s="2712" t="So now we say, is N 1? The answer is no. So now I&apos;m going to save continue, bang. Now that done goes in here."><code onclick="Z(this)">0:45:12</code>So now we say, is N 1? The answer is no. So now I'm going to save continue, bang. Now that done goes in here.</span><span s="2722" t="And this moves to here, the next place I&apos;m going to write. Save N 3. OK? Assign to N the decrement of N. That means"><code onclick="Z(this)">0:45:22</code>And this moves to here, the next place I'm going to write. Save N 3. OK? Assign to N the decrement of N. That means</span><span s="2734" t="I&apos;ve pushed this button. This becomes 2. Assign to continue aft. So I&apos;ve pushed that button."><code onclick="Z(this)">0:45:34</code>I've pushed this button. This becomes 2. Assign to continue aft. So I've pushed that button.</span><span s="2743" t="Aft goes in here. OK, now go to loop, bang, so up to here."><code onclick="Z(this)">0:45:43</code>Aft goes in here. OK, now go to loop, bang, so up to here.</span><span s="2754" t="Is N 1? No. So I have to save continue. What&apos;s continue? Continue is aft. Push this button. So this moves to here."><code onclick="Z(this)">0:45:54</code>Is N 1? No. So I have to save continue. What's continue? Continue is aft. Push this button. So this moves to here.</span><span s="2768" t="I have to save N. N is over here. I got to 2. Push that button. So a 2 gets written there. And then this thing moves down here."><code onclick="Z(this)">0:46:08</code>I have to save N. N is over here. I got to 2. Push that button. So a 2 gets written there. And then this thing moves down here.</span><span s="2780" t="OK, save N. Assign N to the decrement of N. This becomes a 1."><code onclick="Z(this)">0:46:20</code>OK, save N. Assign N to the decrement of N. This becomes a 1.</span><span s="2789" t="Assign continue to aft. A-F-T gets written there again. Go to loop. Is N equal to 1? Oh, yes, the answer is 1."><code onclick="Z(this)">0:46:29</code>Assign continue to aft. A-F-T gets written there again. Go to loop. Is N equal to 1? Oh, yes, the answer is 1.</span><span s="2801" t="OK, go to base step. Assign to VAL fetch of N. Bang, 1 gets put in there."><code onclick="Z(this)">0:46:41</code>OK, go to base step. Assign to VAL fetch of N. Bang, 1 gets put in there.</span><span s="2811" t="Go to fetch continue. So we look in continue. Basically, I&apos;m pushing a button over here that goes to the controller. The continue becomes aft, and all of a sudden, the program&apos;s running here."><code onclick="Z(this)">0:46:51</code>Go to fetch continue. So we look in continue. Basically, I'm pushing a button over here that goes to the controller. The continue becomes aft, and all of a sudden, the program's running here.</span><span s="2822" t="I now have to restore the outer version of factorial. So we go here. We say, restore N. So restore N means take the contents"><code onclick="Z(this)">0:47:02</code>I now have to restore the outer version of factorial. So we go here. We say, restore N. So restore N means take the contents</span><span s="2832" t="that&apos;s here. Push this button, and it goes into here, 2, and the pointer moves up."><code onclick="Z(this)">0:47:12</code>that's here. Push this button, and it goes into here, 2, and the pointer moves up.</span><span s="2842" t="Restore continue, pretty easy. Go push this button. And then aft gets written in here again."><code onclick="Z(this)">0:47:22</code>Restore continue, pretty easy. Go push this button. And then aft gets written in here again.</span><span s="2851" t="That means this thing moves up. I&apos;ve gotten rid of something else on my stack."><code onclick="Z(this)">0:47:31</code>That means this thing moves up. I've gotten rid of something else on my stack.</span><span s="2862" t="Right, then I go to here, which says, assign to VAL the product of N an VAL. So I push this button over here, bang. 2 times 1 gives me a 2, get written there."><code onclick="Z(this)">0:47:42</code>Right, then I go to here, which says, assign to VAL the product of N an VAL. So I push this button over here, bang. 2 times 1 gives me a 2, get written there.</span><span s="2875" t="Go to fetch continue. Continue is aft. I go to aft. Aft says restore N. Do your restore N, means I take the"><code onclick="Z(this)">0:47:55</code>Go to fetch continue. Continue is aft. I go to aft. Aft says restore N. Do your restore N, means I take the</span><span s="2886" t="value over here, which is 3, push this up to here, and move it into here, N. Now it&apos;s pushing that button."><code onclick="Z(this)">0:48:06</code>value over here, which is 3, push this up to here, and move it into here, N. Now it's pushing that button.</span><span s="2897" t="The next thing I do is restore continue. Continue is now going to become done. So this moves up here when I push this button."><code onclick="Z(this)">0:48:17</code>The next thing I do is restore continue. Continue is now going to become done. So this moves up here when I push this button.</span><span s="2907" t="Done may or may be there anymore, I&apos;m not interested, but it certainly is here. Next thing I do is assign to VAL the product of the fetch"><code onclick="Z(this)">0:48:27</code>Done may or may be there anymore, I'm not interested, but it certainly is here. Next thing I do is assign to VAL the product of the fetch</span><span s="2919" t="of N and the fetch of VAL. That&apos;s pushing this button over here, bang. 2 times 3 is 6. So I get a 6 over here."><code onclick="Z(this)">0:48:39</code>of N and the fetch of VAL. That's pushing this button over here, bang. 2 times 3 is 6. So I get a 6 over here.</span><span s="2932" t="And go to fetch continue, whoops, I go to done, and I&apos;m done. And my answer is 6, as you can see in the VAL register. And in fact, the stack is in the state it"><code onclick="Z(this)">0:48:52</code>And go to fetch continue, whoops, I go to done, and I'm done. And my answer is 6, as you can see in the VAL register. And in fact, the stack is in the state it</span><span s="2942" t="originally was in. Now there&apos;s a bit of discipline in using these things like stacks that we have to be careful of."><code onclick="Z(this)">0:49:02</code>originally was in. Now there's a bit of discipline in using these things like stacks that we have to be careful of.</span><span s="2953" t="And we&apos;ll see that in the next segment. But first I want to ask if there are any questions for this."><code onclick="Z(this)">0:49:13</code>And we'll see that in the next segment. But first I want to ask if there are any questions for this.</span><span s="2968" t="Are there any questions? Yes, Ron. AUDIENCE: What happens when you roll off the end of the stack with-- PROFESSOR: What do you mean, roll off of? AUDIENCE: Well, the largest number-- a larger starting point of N requires more memory, correct?"><code onclick="Z(this)">0:49:28</code>Are there any questions? Yes, Ron. AUDIENCE: What happens when you roll off the end of the stack with-- PROFESSOR: What do you mean, roll off of? AUDIENCE: Well, the largest number-- a larger starting point of N requires more memory, correct?</span><span s="2978" t="PROFESSOR: Oh, yes. Well, I need to have a long enough stack. You say, what if I violate my illusion? AUDIENCE: Yes. PROFESSOR: Well, then the magic doesn&apos;t work."><code onclick="Z(this)">0:49:38</code>PROFESSOR: Oh, yes. Well, I need to have a long enough stack. You say, what if I violate my illusion? AUDIENCE: Yes. PROFESSOR: Well, then the magic doesn't work.</span><span s="2988" t="The truth of the matter is that every machine is finite. And for a procedure like this, there&apos;s a limit to the number of sub-factorials I could have."><code onclick="Z(this)">0:49:48</code>The truth of the matter is that every machine is finite. And for a procedure like this, there's a limit to the number of sub-factorials I could have.</span><span s="2999" t="Remember when we were doing the y-operator a while ago, we pointed out that there was a sequence of exponentiation procedures, each of which was a little better than the previous one."><code onclick="Z(this)">0:49:59</code>Remember when we were doing the y-operator a while ago, we pointed out that there was a sequence of exponentiation procedures, each of which was a little better than the previous one.</span><span s="3008" t="Well, we&apos;re now seeing how we implement that mathematical idea. The limiting process is only so good as as far as you take the limit."><code onclick="Z(this)">0:50:08</code>Well, we're now seeing how we implement that mathematical idea. The limiting process is only so good as as far as you take the limit.</span><span s="3017" t="If you think about it, what am I using here? I&apos;m using about two pieces of memory for every recursion of"><code onclick="Z(this)">0:50:17</code>If you think about it, what am I using here? I'm using about two pieces of memory for every recursion of</span><span s="3026" t="this process. If we try to compute factorial of 10,000, that&apos;s not a lot of memory. On the other hand, it&apos;s an awful big number."><code onclick="Z(this)">0:50:26</code>this process. If we try to compute factorial of 10,000, that's not a lot of memory. On the other hand, it's an awful big number.</span><span s="3036" t="So the question is, is that a valuable thing in this case. But it really turns out not to be a terrible limit, because memory is el cheapo, and people are pretty expensive."><code onclick="Z(this)">0:50:36</code>So the question is, is that a valuable thing in this case. But it really turns out not to be a terrible limit, because memory is el cheapo, and people are pretty expensive.</span><span s="3048" t="OK, thank you, let&apos;s take a break. [MUSIC PLAYING - &quot;JESU, JOY OF MAN&apos;S DESIRING&quot; BY JOHANN SEBASTIAN BACH]"><code onclick="Z(this)">0:50:48</code>OK, thank you, let's take a break. [MUSIC PLAYING - "JESU, JOY OF MAN'S DESIRING" BY JOHANN SEBASTIAN BACH]</span><span s="3115" t="PROFESSOR: Well, let&apos;s see. What I&apos;ve shown you now is how to do a simple iterative process and a simple recursive process."><code onclick="Z(this)">0:51:55</code>PROFESSOR: Well, let's see. What I've shown you now is how to do a simple iterative process and a simple recursive process.</span><span s="3125" t="I just want to summarize the design of simple machines for specific applications by showing you a little bit more complicated design, that of a thing that does doubly"><code onclick="Z(this)">0:52:05</code>I just want to summarize the design of simple machines for specific applications by showing you a little bit more complicated design, that of a thing that does doubly</span><span s="3135" t="recursive Fibonacci, because it will indicate to us, and we&apos;ll understand, a bit about the conventions required for making stacks operate correctly."><code onclick="Z(this)">0:52:15</code>recursive Fibonacci, because it will indicate to us, and we'll understand, a bit about the conventions required for making stacks operate correctly.</span><span s="3146" t="So let&apos;s see. I&apos;m just going to write down, first of all, the program I&apos;m going to translate. I need a Fibonacci procedure, it&apos;s very simple, which says,"><code onclick="Z(this)">0:52:26</code>So let's see. I'm just going to write down, first of all, the program I'm going to translate. I need a Fibonacci procedure, it's very simple, which says,</span><span s="3161" t="if N is less than 2, the result is N, otherwise it&apos;s"><code onclick="Z(this)">0:52:41</code>if N is less than 2, the result is N, otherwise it's</span><span s="3170" t="the sum of Fib of N minus 1 and Fib of N minus 2."><code onclick="Z(this)">0:52:50</code>the sum of Fib of N minus 1 and Fib of N minus 2.</span><span s="3187" t="That&apos;s the plan I have here. And we&apos;re just going to write down the controller for such a machine. We&apos;re going to assume that there are registers, N, which"><code onclick="Z(this)">0:53:07</code>That's the plan I have here. And we're just going to write down the controller for such a machine. We're going to assume that there are registers, N, which</span><span s="3196" t="holds the number we&apos;re taking Fibonacci of, VAL, which is where the answer is going to get put, and continue, which is the thing that&apos;s linked to the controller, like before."><code onclick="Z(this)">0:53:16</code>holds the number we're taking Fibonacci of, VAL, which is where the answer is going to get put, and continue, which is the thing that's linked to the controller, like before.</span><span s="3206" t="But I&apos;m not going to draw another physical datapath, because it&apos;s pretty much the same as the last one you&apos;ve seen. And of course, one of the most amazing things about"><code onclick="Z(this)">0:53:26</code>But I'm not going to draw another physical datapath, because it's pretty much the same as the last one you've seen. And of course, one of the most amazing things about</span><span s="3217" t="computation is that after a while, you build up a little more features and a few more features, and all of the sudden, you&apos;ve got everything you need. So it&apos;s remarkable that it just gets there so fast. I"><code onclick="Z(this)">0:53:37</code>computation is that after a while, you build up a little more features and a few more features, and all of the sudden, you've got everything you need. So it's remarkable that it just gets there so fast. I</span><span s="3228" t="don&apos;t need much more to make a universal computer. But in any case, let&apos;s look at the controller for the Fibonacci thing. First thing I want to do is start the thing up by assign"><code onclick="Z(this)">0:53:48</code>don't need much more to make a universal computer. But in any case, let's look at the controller for the Fibonacci thing. First thing I want to do is start the thing up by assign</span><span s="3241" t="to continue a place called done, called Fib-done here."><code onclick="Z(this)">0:54:01</code>to continue a place called done, called Fib-done here.</span><span s="3253" t="So that means that somewhere over here, I&apos;m going to have a label, Fib-done, which is the place where I go when I want the machine to stop."><code onclick="Z(this)">0:54:13</code>So that means that somewhere over here, I'm going to have a label, Fib-done, which is the place where I go when I want the machine to stop.</span><span s="3264" t="That&apos;s what that is. And I&apos;m going to make up a loop. It&apos;s a place I&apos;m going to go to in order to start up"><code onclick="Z(this)">0:54:24</code>That's what that is. And I'm going to make up a loop. It's a place I'm going to go to in order to start up</span><span s="3273" t="computing a Fib. Whatever is in N at this point, Fibonacci will be computed of, and we will return to the place specified by continue."><code onclick="Z(this)">0:54:33</code>computing a Fib. Whatever is in N at this point, Fibonacci will be computed of, and we will return to the place specified by continue.</span><span s="3286" t="So what you&apos;re going to see here at this place, what I want here is the contract that says, I&apos;m going to write this with a comment syntax, the contract is N contains arg,"><code onclick="Z(this)">0:54:46</code>So what you're going to see here at this place, what I want here is the contract that says, I'm going to write this with a comment syntax, the contract is N contains arg,</span><span s="3300" t="the argument. Continue is the recipient."><code onclick="Z(this)">0:55:00</code>the argument. Continue is the recipient.</span><span s="3312" t="And that&apos;s where it is. At this point, if I ever go to this place, I&apos;m expecting this to be true, the argument for computing the Fibonacci."><code onclick="Z(this)">0:55:12</code>And that's where it is. At this point, if I ever go to this place, I'm expecting this to be true, the argument for computing the Fibonacci.</span><span s="3324" t="Now the next thing I want to do is to branch. And if N is less than 2--"><code onclick="Z(this)">0:55:24</code>Now the next thing I want to do is to branch. And if N is less than 2--</span><span s="3334" t="by the way, I&apos;m using what looks like Lisp syntax. This is not Lisp. This does not run. What I&apos;m writing here does not run as a simple Lisp program."><code onclick="Z(this)">0:55:34</code>by the way, I'm using what looks like Lisp syntax. This is not Lisp. This does not run. What I'm writing here does not run as a simple Lisp program.</span><span s="3346" t="This is a representation of another language. The reason I&apos;m using the syntax of parentheses and so on is because I tend to use a Lisp system to write an"><code onclick="Z(this)">0:55:46</code>This is a representation of another language. The reason I'm using the syntax of parentheses and so on is because I tend to use a Lisp system to write an</span><span s="3356" t="interpreter for this which allows me to simulate the machine I&apos;m trying to build. I don&apos;t want to confuse this to think that"><code onclick="Z(this)">0:55:56</code>interpreter for this which allows me to simulate the machine I'm trying to build. I don't want to confuse this to think that</span><span s="3365" t="this is Lisp code. It&apos;s just I&apos;m using a lot of the pieces of Lisp. I&apos;m embedding a language in Lisp, using Lisp as pieces to make my process of making my simulator easy."><code onclick="Z(this)">0:56:05</code>this is Lisp code. It's just I'm using a lot of the pieces of Lisp. I'm embedding a language in Lisp, using Lisp as pieces to make my process of making my simulator easy.</span><span s="3376" t="So I&apos;m inheriting from Lisp all of its properties. Fetch of N 2, I want to go to a place called immediate answer."><code onclick="Z(this)">0:56:16</code>So I'm inheriting from Lisp all of its properties. Fetch of N 2, I want to go to a place called immediate answer.</span><span s="3385" t="It&apos;s the base step. Now, that&apos;s somewhere over here, just above done."><code onclick="Z(this)">0:56:25</code>It's the base step. Now, that's somewhere over here, just above done.</span><span s="3397" t="And we&apos;ll see it later. Now, in the general case, which is the part I&apos;m going to write down now, let&apos;s just do it. Well, first of all, I&apos;m going to have to"><code onclick="Z(this)">0:56:37</code>And we'll see it later. Now, in the general case, which is the part I'm going to write down now, let's just do it. Well, first of all, I'm going to have to</span><span s="3406" t="call Fibonacci twice. In each case-- well, in one case at least, I&apos;m going to have to know what to do to come back and do the next one."><code onclick="Z(this)">0:56:46</code>call Fibonacci twice. In each case-- well, in one case at least, I'm going to have to know what to do to come back and do the next one.</span><span s="3416" t="I have to remember, have I done the first Fib, or have I done the second one? Do I have to come back to the place where I do the second"><code onclick="Z(this)">0:56:56</code>I have to remember, have I done the first Fib, or have I done the second one? Do I have to come back to the place where I do the second</span><span s="3426" t="Fib, or do I have to come back to the place where I do the add? In the first case, over the first Fibonacci, I&apos;m going to need the value of N for computing for the second one."><code onclick="Z(this)">0:57:06</code>Fib, or do I have to come back to the place where I do the add? In the first case, over the first Fibonacci, I'm going to need the value of N for computing for the second one.</span><span s="3440" t="So I have to store some of these things up. So first I&apos;m going to save continue. That&apos;s who needs the answer."><code onclick="Z(this)">0:57:20</code>So I have to store some of these things up. So first I'm going to save continue. That's who needs the answer.</span><span s="3451" t="And the reason I&apos;m doing that is because I&apos;m about to assign continue to the place which is the place I"><code onclick="Z(this)">0:57:31</code>And the reason I'm doing that is because I'm about to assign continue to the place which is the place I</span><span s="3462" t="want to go to after. Let&apos;s call it Fib-N-minus-1, big long name,"><code onclick="Z(this)">0:57:42</code>want to go to after. Let's call it Fib-N-minus-1, big long name,</span><span s="3472" t="classic Lisp name. Because I&apos;m going to compute the first Fib of N minus 1, and then after that, I want to come back and"><code onclick="Z(this)">0:57:52</code>classic Lisp name. Because I'm going to compute the first Fib of N minus 1, and then after that, I want to come back and</span><span s="3482" t="do something else. That&apos;s the place I want to go to after I&apos;ve done the first Fibonacci calculation."><code onclick="Z(this)">0:58:02</code>do something else. That's the place I want to go to after I've done the first Fibonacci calculation.</span><span s="3491" t="And I want to do a save of N, because I&apos;m going to need it later, after that. Now I&apos;m going to, at this point, get ready to do the"><code onclick="Z(this)">0:58:11</code>And I want to do a save of N, because I'm going to need it later, after that. Now I'm going to, at this point, get ready to do the</span><span s="3501" t="Fibonacci of N minus 1. So assign to N the difference of the fetch of N and 1."><code onclick="Z(this)">0:58:21</code>Fibonacci of N minus 1. So assign to N the difference of the fetch of N and 1.</span><span s="3518" t="Now I&apos;m ready to go back to doing the Fib loop."><code onclick="Z(this)">0:58:38</code>Now I'm ready to go back to doing the Fib loop.</span><span s="3527" t="Have I satisfied my contract? And the answer is yes. N contains N minus 1, which is what I need."><code onclick="Z(this)">0:58:47</code>Have I satisfied my contract? And the answer is yes. N contains N minus 1, which is what I need.</span><span s="3537" t="Continue contains a place I want to go to when I&apos;m done with calculating N minus 1. So I&apos;ve satisfied the contract. And therefore, I can write down here a label,"><code onclick="Z(this)">0:58:57</code>Continue contains a place I want to go to when I'm done with calculating N minus 1. So I've satisfied the contract. And therefore, I can write down here a label,</span><span s="3551" t="after-Fib-N-minus-1."><code onclick="Z(this)">0:59:11</code>after-Fib-N-minus-1.</span><span s="3560" t="Now what am I going to do here? Here&apos;s a place where I now have to get ready to do Fib of N minus 2."><code onclick="Z(this)">0:59:20</code>Now what am I going to do here? Here's a place where I now have to get ready to do Fib of N minus 2.</span><span s="3569" t="But in order to do a Fib of N minus 2, look, I don&apos;t know. I&apos;ve clobbered my N over here. And presumably my N is counted down all the way to 1 or 0 or something at this point."><code onclick="Z(this)">0:59:29</code>But in order to do a Fib of N minus 2, look, I don't know. I've clobbered my N over here. And presumably my N is counted down all the way to 1 or 0 or something at this point.</span><span s="3579" t="So I don&apos;t know what the value of N in the N register is. I want the value of N that was on the stack that I saved over here so that could restore it over here."><code onclick="Z(this)">0:59:39</code>So I don't know what the value of N in the N register is. I want the value of N that was on the stack that I saved over here so that could restore it over here.</span><span s="3589" t="I saved up the value of N, which is this value of N at this point, so that I could restore it after computing Fib of N minus 1, so that I could count that down to N minus 2"><code onclick="Z(this)">0:59:49</code>I saved up the value of N, which is this value of N at this point, so that I could restore it after computing Fib of N minus 1, so that I could count that down to N minus 2</span><span s="3599" t="and then compute Fib of N minus 2. So let&apos;s restore that."><code onclick="Z(this)">0:59:59</code>and then compute Fib of N minus 2. So let's restore that.</span><span s="3608" t="Restore of N. Now I&apos;m about to do something which is superstitious, and we will remove it shortly."><code onclick="Z(this)">1:00:08</code>Restore of N. Now I'm about to do something which is superstitious, and we will remove it shortly.</span><span s="3618" t="I am about to finish the sequence of doing the subroutine call, if you will. I&apos;m going to say, well, I also saved up the continuation,"><code onclick="Z(this)">1:00:18</code>I am about to finish the sequence of doing the subroutine call, if you will. I'm going to say, well, I also saved up the continuation,</span><span s="3628" t="since I&apos;m going to restore it now. But actually, I don&apos;t have to, because I&apos;m not going to need it. We&apos;ll fix that in a second. So we&apos;ll do a restore of continue, which is what I"><code onclick="Z(this)">1:00:28</code>since I'm going to restore it now. But actually, I don't have to, because I'm not going to need it. We'll fix that in a second. So we'll do a restore of continue, which is what I</span><span s="3646" t="would in general need to do. And we&apos;re just going to see what you would call in the compiler world a peephole optimization, which says, whoops, you didn&apos;t have to do that."><code onclick="Z(this)">1:00:46</code>would in general need to do. And we're just going to see what you would call in the compiler world a peephole optimization, which says, whoops, you didn't have to do that.</span><span s="3655" t="OK, so the next thing I see here is that I have to get ready now to do Fibonacci of N minus 2. But I don&apos;t have to save N anymore."><code onclick="Z(this)">1:00:55</code>OK, so the next thing I see here is that I have to get ready now to do Fibonacci of N minus 2. But I don't have to save N anymore.</span><span s="3665" t="The reason why I don&apos;t have to save N anymore is because I don&apos;t need N after I&apos;ve done Fib of N minus 2, because the next thing I do is add. So I&apos;m just going to set up my N that way."><code onclick="Z(this)">1:01:05</code>The reason why I don't have to save N anymore is because I don't need N after I've done Fib of N minus 2, because the next thing I do is add. So I'm just going to set up my N that way.</span><span s="3676" t="Assign N minus difference of fetch N and 2."><code onclick="Z(this)">1:01:16</code>Assign N minus difference of fetch N and 2.</span><span s="3691" t="Now I have to finish the setup for calling Fibonacci of N minus 2. Well, I have to save up continue and assign continue,"><code onclick="Z(this)">1:01:31</code>Now I have to finish the setup for calling Fibonacci of N minus 2. Well, I have to save up continue and assign continue,</span><span s="3708" t="continue, to the place which is after Fib N 2, that place"><code onclick="Z(this)">1:01:48</code>continue, to the place which is after Fib N 2, that place</span><span s="3723" t="over here somewhere. However, I&apos;ve got to be very careful. The old value, the value of Fib of N minus 1, I&apos;m going to"><code onclick="Z(this)">1:02:03</code>over here somewhere. However, I've got to be very careful. The old value, the value of Fib of N minus 1, I'm going to</span><span s="3732" t="need later. The value of Fibonacci of N minus 1, I&apos;m going to need. And I can&apos;t clobber it, because I&apos;m going to have to"><code onclick="Z(this)">1:02:12</code>need later. The value of Fibonacci of N minus 1, I'm going to need. And I can't clobber it, because I'm going to have to</span><span s="3741" t="add it to the value of Fib of N minus 2. That&apos;s in the value register, so I&apos;m going to save it. So I have to save this right now, save up VAL."><code onclick="Z(this)">1:02:21</code>add it to the value of Fib of N minus 2. That's in the value register, so I'm going to save it. So I have to save this right now, save up VAL.</span><span s="3753" t="And now I can go off to my subroutine, go to Fib loop."><code onclick="Z(this)">1:02:33</code>And now I can go off to my subroutine, go to Fib loop.</span><span s="3764" t="Now before I go any further and finish this program, I just want to look at this segment so far and see, oh yes, there&apos;s a sequence of instructions here, if you"><code onclick="Z(this)">1:02:44</code>Now before I go any further and finish this program, I just want to look at this segment so far and see, oh yes, there's a sequence of instructions here, if you</span><span s="3775" t="will, that I can do something about. Here I have a restore of continue, a save of continue,"><code onclick="Z(this)">1:02:55</code>will, that I can do something about. Here I have a restore of continue, a save of continue,</span><span s="3786" t="and then an assign of continue, with no other references to continue in between. The restore followed by the save"><code onclick="Z(this)">1:03:06</code>and then an assign of continue, with no other references to continue in between. The restore followed by the save</span><span s="3795" t="leaves the stack unchanged. The only difference is that I set the continue register to a value, which is the value that was on the stack."><code onclick="Z(this)">1:03:15</code>leaves the stack unchanged. The only difference is that I set the continue register to a value, which is the value that was on the stack.</span><span s="3804" t="Since I now clobber that value, as in it was never referenced, these instructions are unnecessary. So we will remove these."><code onclick="Z(this)">1:03:24</code>Since I now clobber that value, as in it was never referenced, these instructions are unnecessary. So we will remove these.</span><span s="3818" t="But I couldn&apos;t have seen that unless I had written them down. Was that really true? Well, I don&apos;t know."><code onclick="Z(this)">1:03:38</code>But I couldn't have seen that unless I had written them down. Was that really true? Well, I don't know.</span><span s="3828" t="OK, so we&apos;ve now gone off to compute Fibonacci of N minus 2. So after that, what are we going to do?"><code onclick="Z(this)">1:03:48</code>OK, so we've now gone off to compute Fibonacci of N minus 2. So after that, what are we going to do?</span><span s="3845" t="Well, I suppose the first thing we have to do-- we&apos;ve got two things. We&apos;ve got a thing in the value register which is now valuable. We also have a thing on the stack that can be restored into the value register."><code onclick="Z(this)">1:04:05</code>Well, I suppose the first thing we have to do-- we've got two things. We've got a thing in the value register which is now valuable. We also have a thing on the stack that can be restored into the value register.</span><span s="3854" t="And what I have to be careful with now is I want to shuffle this right so I can do the multiply. Now there are various conventions I might use, but I&apos;m going to be very picky and say, I&apos;m only going to restore"><code onclick="Z(this)">1:04:14</code>And what I have to be careful with now is I want to shuffle this right so I can do the multiply. Now there are various conventions I might use, but I'm going to be very picky and say, I'm only going to restore</span><span s="3864" t="into a register I&apos;ve saved from. If that&apos;s the case, I have to do a shuffle here. It&apos;s the same problem with how many hands I have. So I&apos;m going to assign to N, because I&apos;m not going to need N"><code onclick="Z(this)">1:04:24</code>into a register I've saved from. If that's the case, I have to do a shuffle here. It's the same problem with how many hands I have. So I'm going to assign to N, because I'm not going to need N</span><span s="3877" t="anymore, N is useless, the current value of VAL, which was the value of Fib of N minus 2."><code onclick="Z(this)">1:04:37</code>anymore, N is useless, the current value of VAL, which was the value of Fib of N minus 2.</span><span s="3892" t="And I&apos;m going to restore the value register now."><code onclick="Z(this)">1:04:52</code>And I'm going to restore the value register now.</span><span s="3901" t="This restore matches this save. And if you&apos;re very careful and examine very carefully what goes on, restores and saves are always matched."><code onclick="Z(this)">1:05:01</code>This restore matches this save. And if you're very careful and examine very carefully what goes on, restores and saves are always matched.</span><span s="3913" t="Now there&apos;s an outstanding save, of course, that we have to get rid of soon. And so I restored the value register. Now I restore the continue one, which matches this one,"><code onclick="Z(this)">1:05:13</code>Now there's an outstanding save, of course, that we have to get rid of soon. And so I restored the value register. Now I restore the continue one, which matches this one,</span><span s="3934" t="dot, dot, dot, dot, dot, dot, dot, down to here, restoring that continuation. That continuation is a continuation of Fib of N,"><code onclick="Z(this)">1:05:34</code>dot, dot, dot, dot, dot, dot, dot, down to here, restoring that continuation. That continuation is a continuation of Fib of N,</span><span s="3946" t="which is the problem I was trying to solve, a major problem I&apos;m trying to solve. So that&apos;s the guy I have to go back to who wants Fib of N. I saved them all the way up here when I realized N was"><code onclick="Z(this)">1:05:46</code>which is the problem I was trying to solve, a major problem I'm trying to solve. So that's the guy I have to go back to who wants Fib of N. I saved them all the way up here when I realized N was</span><span s="3955" t="not less than 2. And so I had to do a complicated operation. Now I&apos;ve got everything I need to do it. So I&apos;m going to restore that, assign to VAL the sum of fetch"><code onclick="Z(this)">1:05:55</code>not less than 2. And so I had to do a complicated operation. Now I've got everything I need to do it. So I'm going to restore that, assign to VAL the sum of fetch</span><span s="3977" t="VAL and fetch of N, and go to continue."><code onclick="Z(this)">1:06:17</code>VAL and fetch of N, and go to continue.</span><span s="3998" t="So now I&apos;ve returned from computing Fibonacci of N, the general case."><code onclick="Z(this)">1:06:38</code>So now I've returned from computing Fibonacci of N, the general case.</span><span s="4007" t="Now what&apos;s left is we have to fix up a few details, like there&apos;s the base case of this induction, immediate answer,"><code onclick="Z(this)">1:06:47</code>Now what's left is we have to fix up a few details, like there's the base case of this induction, immediate answer,</span><span s="4023" t="which is nothing more than assign to VAL fetch of N,"><code onclick="Z(this)">1:07:03</code>which is nothing more than assign to VAL fetch of N,</span><span s="4033" t="because N was less than 2, and therefore, the answer is N in our original program, and return continue--"><code onclick="Z(this)">1:07:13</code>because N was less than 2, and therefore, the answer is N in our original program, and return continue--</span><span s="4051" t="bobble, bobble almost-- and finally Fib done."><code onclick="Z(this)">1:07:31</code>bobble, bobble almost-- and finally Fib done.</span><span s="4063" t="So that&apos;s a fairly complicated program. And the reason I wanted you see to that is because I want you to see the particular flavors of stack discipline that I was obeying."><code onclick="Z(this)">1:07:43</code>So that's a fairly complicated program. And the reason I wanted you see to that is because I want you to see the particular flavors of stack discipline that I was obeying.</span><span s="4072" t="It was first of all, I don&apos;t want to take anything that I&apos;m not going to need later. I was being very careful."><code onclick="Z(this)">1:07:52</code>It was first of all, I don't want to take anything that I'm not going to need later. I was being very careful.</span><span s="4081" t="And it&apos;s very important. And there are all sorts of other disciplines people make with frames and things like that of some sort, where you"><code onclick="Z(this)">1:08:01</code>And it's very important. And there are all sorts of other disciplines people make with frames and things like that of some sort, where you</span><span s="4090" t="save all sorts of junk you&apos;re not going to need later and restore it because, in some sense, it&apos;s easier to do that. That&apos;s going to lead to various disasters, which we&apos;ll"><code onclick="Z(this)">1:08:10</code>save all sorts of junk you're not going to need later and restore it because, in some sense, it's easier to do that. That's going to lead to various disasters, which we'll</span><span s="4099" t="see a little later. It&apos;s crucial to say exactly what you&apos;re going to need later. It&apos;s an important idea."><code onclick="Z(this)">1:08:19</code>see a little later. It's crucial to say exactly what you're going to need later. It's an important idea.</span><span s="4109" t="And the responsibility of that is whoever saves something is the guy who restores it, because he needs it. And in such discipline, you can see what things are"><code onclick="Z(this)">1:08:29</code>And the responsibility of that is whoever saves something is the guy who restores it, because he needs it. And in such discipline, you can see what things are</span><span s="4120" t="unnecessary, operations that are unimportant. Now, one other thing I want to tell you about that&apos;s very"><code onclick="Z(this)">1:08:40</code>unnecessary, operations that are unimportant. Now, one other thing I want to tell you about that's very</span><span s="4129" t="simple is that, of course, the picture you see is not the whole picture. Supposing I had systems that had things like other"><code onclick="Z(this)">1:08:49</code>simple is that, of course, the picture you see is not the whole picture. Supposing I had systems that had things like other</span><span s="4138" t="operations, CAR, CDR, cons, building a vector and referencing the nth element of it, or things like that."><code onclick="Z(this)">1:08:58</code>operations, CAR, CDR, cons, building a vector and referencing the nth element of it, or things like that.</span><span s="4150" t="Well, at this level of detail, whatever it is, we can conceptualize those as primitive operations in the datapath. In other words, we could say that some machine that, for"><code onclick="Z(this)">1:09:10</code>Well, at this level of detail, whatever it is, we can conceptualize those as primitive operations in the datapath. In other words, we could say that some machine that, for</span><span s="4161" t="example, has the append machine, which has to do cons of the CAR of x with the append of the CDR of x and y, well, gee, that&apos;s exactly the same as"><code onclick="Z(this)">1:09:21</code>example, has the append machine, which has to do cons of the CAR of x with the append of the CDR of x and y, well, gee, that's exactly the same as</span><span s="4171" t="the factorial structure. Well, it&apos;s got about the same structure. And what do we have? We have some sort of things in it which may be registers, x"><code onclick="Z(this)">1:09:31</code>the factorial structure. Well, it's got about the same structure. And what do we have? We have some sort of things in it which may be registers, x</span><span s="4181" t="and y, and then x has to somehow move to y sometimes, x has to get the value of y. And then we may have to be able to do something which is a cons."><code onclick="Z(this)">1:09:41</code>and y, and then x has to somehow move to y sometimes, x has to get the value of y. And then we may have to be able to do something which is a cons.</span><span s="4191" t="I don&apos;t remember if I need to like this is in this system, but cons is sort of like subtract or add or something."><code onclick="Z(this)">1:09:51</code>I don't remember if I need to like this is in this system, but cons is sort of like subtract or add or something.</span><span s="4201" t="It combines two things, producing a thing which is the cons, which we may then think goes into there. And then maybe a thing called the CAR, which will produce--"><code onclick="Z(this)">1:10:01</code>It combines two things, producing a thing which is the cons, which we may then think goes into there. And then maybe a thing called the CAR, which will produce--</span><span s="4214" t="I can get the CAR or something. And maybe I can get the CDR of something, and so on. But we shouldn&apos;t be too afraid of saying things this way, because the worst that could happen is if we open up cons,"><code onclick="Z(this)">1:10:14</code>I can get the CAR or something. And maybe I can get the CDR of something, and so on. But we shouldn't be too afraid of saying things this way, because the worst that could happen is if we open up cons,</span><span s="4227" t="what we&apos;re going to find is some machine. And cons may in fact overlap with CAR and CDR, and it always does, in the same way that plus and minus overlap,"><code onclick="Z(this)">1:10:27</code>what we're going to find is some machine. And cons may in fact overlap with CAR and CDR, and it always does, in the same way that plus and minus overlap,</span><span s="4238" t="and really the same business. Cons, CAR, and CDR are going to overlap, and we&apos;re going to find a little controller, a little datapath, which may"><code onclick="Z(this)">1:10:38</code>and really the same business. Cons, CAR, and CDR are going to overlap, and we're going to find a little controller, a little datapath, which may</span><span s="4248" t="have some registers in it, some stuff like that. And maybe inside it, there may also be an infinite part, a part that&apos;s semi-infinite or something, which is a lot of"><code onclick="Z(this)">1:10:48</code>have some registers in it, some stuff like that. And maybe inside it, there may also be an infinite part, a part that's semi-infinite or something, which is a lot of</span><span s="4259" t="very uniform stuff, which we&apos;ll call memory. And I wouldn&apos;t be so horrified if that were the way it works."><code onclick="Z(this)">1:10:59</code>very uniform stuff, which we'll call memory. And I wouldn't be so horrified if that were the way it works.</span><span s="4269" t="In fact, it does, and we&apos;ll talk about that later. So are there any questions?"><code onclick="Z(this)">1:11:09</code>In fact, it does, and we'll talk about that later. So are there any questions?</span><span s="4284" t="Gee, what an unquestioning audience. Suppose I tell you a horrible pile of lies."><code onclick="Z(this)">1:11:24</code>Gee, what an unquestioning audience. Suppose I tell you a horrible pile of lies.</span><span s="4299" t="OK. Well, thank you. Let&apos;s take our break. [MUSIC PLAYING - &quot;JESU, JOY OF MAN&apos;S DESIRING&quot; BY JOHANN SEBASTIAN BACH]"><code onclick="Z(this)">1:11:39</code>OK. Well, thank you. Let's take our break. [MUSIC PLAYING - "JESU, JOY OF MAN'S DESIRING" BY JOHANN SEBASTIAN BACH]</span></div><div class="eventlist" side="R" vid="SLcZXbyGC3E"><h5><code onclick="Z(this)">0:00:00</code>Lecture 9B | MIT 6.001 Structure and Interpretation, 1986</h5><span s="0" t=""><code onclick="Z(this)">0:00:00</code></span><span s="15" t="PROFESSOR: Well, I hope you appreciate that we have inducted you into some real magic, the magic of building"><code onclick="Z(this)">0:00:15</code>PROFESSOR: Well, I hope you appreciate that we have inducted you into some real magic, the magic of building</span><span s="26" t="languages, really building new languages. What have we looked at? We&apos;ve looked at an Escher picture language: this"><code onclick="Z(this)">0:00:26</code>languages, really building new languages. What have we looked at? We've looked at an Escher picture language: this</span><span s="39" t="language invented by Peter Henderson. We looked at digital logic language."><code onclick="Z(this)">0:00:39</code>language invented by Peter Henderson. We looked at digital logic language.</span><span s="53" t="Let&apos;s see. We&apos;ve looked at the query language. And the thing you should realize is, even though these were toy examples, they really are the kernels of really"><code onclick="Z(this)">0:00:53</code>Let's see. We've looked at the query language. And the thing you should realize is, even though these were toy examples, they really are the kernels of really</span><span s="66" t="useful things. So, for instance, the Escher picture language was taken by Henry Wu, who&apos;s a student at MIT, and developed into a real"><code onclick="Z(this)">0:01:06</code>useful things. So, for instance, the Escher picture language was taken by Henry Wu, who's a student at MIT, and developed into a real</span><span s="77" t="language for laying out PC boards based just on extending those structures. And the digital logic language, Jerry mentioned when he showed it to you, was really extended to be used as"><code onclick="Z(this)">0:01:17</code>language for laying out PC boards based just on extending those structures. And the digital logic language, Jerry mentioned when he showed it to you, was really extended to be used as</span><span s="88" t="the basis for a simulator that was used to design a real computer. And the query language, of course, is kind of the germ of prologue."><code onclick="Z(this)">0:01:28</code>the basis for a simulator that was used to design a real computer. And the query language, of course, is kind of the germ of prologue.</span><span s="97" t="So we built all of these languages, they&apos;re all based on LISP. A lot of people ask what particular problems is LISP"><code onclick="Z(this)">0:01:37</code>So we built all of these languages, they're all based on LISP. A lot of people ask what particular problems is LISP</span><span s="108" t="good for solving for? The answer is LISP is not good for solving any particular problems. What LISP is good for is constructing within it the right language to solve the problems you want to"><code onclick="Z(this)">0:01:48</code>good for solving for? The answer is LISP is not good for solving any particular problems. What LISP is good for is constructing within it the right language to solve the problems you want to</span><span s="118" t="solve, and that&apos;s how you should think about it. So all of these languages were based on LISP. Now, what&apos;s LISP based on?"><code onclick="Z(this)">0:01:58</code>solve, and that's how you should think about it. So all of these languages were based on LISP. Now, what's LISP based on?</span><span s="127" t="Where&apos;s that come from? Well, we looked at that too. We looked at the meta-circular evaluator and said well, LISP"><code onclick="Z(this)">0:02:07</code>Where's that come from? Well, we looked at that too. We looked at the meta-circular evaluator and said well, LISP</span><span s="143" t="is based on LISP. And when we start looking at that, we&apos;ve got to do some real magic, right? So what does that mean, right? Why operators, and fixed points, and the idea that what"><code onclick="Z(this)">0:02:23</code>is based on LISP. And when we start looking at that, we've got to do some real magic, right? So what does that mean, right? Why operators, and fixed points, and the idea that what</span><span s="157" t="this means is that LISP is somehow the fixed-point equation for this funny set of things which are defined in terms of themselves."><code onclick="Z(this)">0:02:37</code>this means is that LISP is somehow the fixed-point equation for this funny set of things which are defined in terms of themselves.</span><span s="167" t="Now, it&apos;s real magic. Well, today, for a final piece of magic, we&apos;re going to make all the magic go away."><code onclick="Z(this)">0:02:47</code>Now, it's real magic. Well, today, for a final piece of magic, we're going to make all the magic go away.</span><span s="186" t="We already know how to do that. The idea is, we&apos;re going to take the register machine architecture and show how to implement LISP on terms of that."><code onclick="Z(this)">0:03:06</code>We already know how to do that. The idea is, we're going to take the register machine architecture and show how to implement LISP on terms of that.</span><span s="195" t="And, remember, the idea of the register machine is that there&apos;s a fixed and finite part of the machine."><code onclick="Z(this)">0:03:15</code>And, remember, the idea of the register machine is that there's a fixed and finite part of the machine.</span><span s="204" t="There&apos;s a finite-state controller, which does some particular thing with a particular amount of hardware. There are particular data paths: the operation the machine does."><code onclick="Z(this)">0:03:24</code>There's a finite-state controller, which does some particular thing with a particular amount of hardware. There are particular data paths: the operation the machine does.</span><span s="213" t="And then, in order to implement recursion and sustain the illusion of infinity, there&apos;s some large amount of memory, which is the stack."><code onclick="Z(this)">0:03:33</code>And then, in order to implement recursion and sustain the illusion of infinity, there's some large amount of memory, which is the stack.</span><span s="222" t="So, if we implement LISP in terms of a register machine, then everything ought to become, at this point, completely concrete. All the magic should go away."><code onclick="Z(this)">0:03:42</code>So, if we implement LISP in terms of a register machine, then everything ought to become, at this point, completely concrete. All the magic should go away.</span><span s="231" t="And, by the end of this talk, I want you get the feeling that, as opposed to this very mysterious meta-circular evaluator, that a LISP evaluator really is something"><code onclick="Z(this)">0:03:51</code>And, by the end of this talk, I want you get the feeling that, as opposed to this very mysterious meta-circular evaluator, that a LISP evaluator really is something</span><span s="241" t="that&apos;s concrete enough that you can hold in the palm of your hand. You should be able to imagine holding a LISP interpreter there. All right, how are we going to do this?"><code onclick="Z(this)">0:04:01</code>that's concrete enough that you can hold in the palm of your hand. You should be able to imagine holding a LISP interpreter there. All right, how are we going to do this?</span><span s="250" t="We already have all the ingredients. See, what you learned last time from Jerry is how to take any particular couple of LISP procedures and hand-translate"><code onclick="Z(this)">0:04:10</code>We already have all the ingredients. See, what you learned last time from Jerry is how to take any particular couple of LISP procedures and hand-translate</span><span s="263" t="them into something that runs on a register machine. So, to implement all of LISP on a register machine, all we have to do is take the particular procedures that are"><code onclick="Z(this)">0:04:23</code>them into something that runs on a register machine. So, to implement all of LISP on a register machine, all we have to do is take the particular procedures that are</span><span s="274" t="the meta-circular evaluator and hand-translate them for a register machine. And that does all of LISP, right? So, in principle, we already know how to do this."><code onclick="Z(this)">0:04:34</code>the meta-circular evaluator and hand-translate them for a register machine. And that does all of LISP, right? So, in principle, we already know how to do this.</span><span s="285" t="And, indeed, it&apos;s going to be no different, in kind, from translating, say, recursive factorial or recursive Fibonacci."><code onclick="Z(this)">0:04:45</code>And, indeed, it's going to be no different, in kind, from translating, say, recursive factorial or recursive Fibonacci.</span><span s="294" t="It&apos;s just bigger and there&apos;s more of it. So it&apos;d just be more details, but nothing really conceptually new. All right, also, when we&apos;ve done that, and the thing is"><code onclick="Z(this)">0:04:54</code>It's just bigger and there's more of it. So it'd just be more details, but nothing really conceptually new. All right, also, when we've done that, and the thing is</span><span s="303" t="completely explicit, and we see how to implement LISP in terms of the actual sequential register operations, that&apos;s going to be our final most explicit model of"><code onclick="Z(this)">0:05:03</code>completely explicit, and we see how to implement LISP in terms of the actual sequential register operations, that's going to be our final most explicit model of</span><span s="313" t="LISP in this course. And, remember, that&apos;s a progression through this course. We started out with substitution, which is sort of like algebra. And then we went to the environment model, which"><code onclick="Z(this)">0:05:13</code>LISP in this course. And, remember, that's a progression through this course. We started out with substitution, which is sort of like algebra. And then we went to the environment model, which</span><span s="322" t="talked about the actual frames and how they got linked together. And then we made that more concrete in the meta-circular evaluator."><code onclick="Z(this)">0:05:22</code>talked about the actual frames and how they got linked together. And then we made that more concrete in the meta-circular evaluator.</span><span s="331" t="There are things the meta-circular evaluator doesn&apos;t tell us. You should realize that. For instance, it left unanswered the question of how"><code onclick="Z(this)">0:05:31</code>There are things the meta-circular evaluator doesn't tell us. You should realize that. For instance, it left unanswered the question of how</span><span s="340" t="a procedure, like recursive factorial here , somehow takes space that grows. On the other hand, a procedure which also looks syntactically"><code onclick="Z(this)">0:05:40</code>a procedure, like recursive factorial here , somehow takes space that grows. On the other hand, a procedure which also looks syntactically</span><span s="351" t="recursive, called fact-iter, somehow doesn&apos;t take space. We justify that it doesn&apos;t need to take space by showing"><code onclick="Z(this)">0:05:51</code>recursive, called fact-iter, somehow doesn't take space. We justify that it doesn't need to take space by showing</span><span s="361" t="the substitution model. But we didn&apos;t really say how it happens that the machine manages to do that, that that has to do with the details of how arguments are passed to procedures."><code onclick="Z(this)">0:06:01</code>the substitution model. But we didn't really say how it happens that the machine manages to do that, that that has to do with the details of how arguments are passed to procedures.</span><span s="372" t="And that&apos;s the thing we didn&apos;t see in the meta-circular evaluator precisely because the way arguments got passed to procedures in this LISP depended on the way arguments"><code onclick="Z(this)">0:06:12</code>And that's the thing we didn't see in the meta-circular evaluator precisely because the way arguments got passed to procedures in this LISP depended on the way arguments</span><span s="381" t="got passed to procedures in this LISP. But, now, that&apos;s going to become extremely explicit."><code onclick="Z(this)">0:06:21</code>got passed to procedures in this LISP. But, now, that's going to become extremely explicit.</span><span s="390" t="OK. Well, before going on to the evaluator, let me just give you a sense of what a whole LISP system looks like so you can see the parts we&apos;re going to talk about and the parts"><code onclick="Z(this)">0:06:30</code>OK. Well, before going on to the evaluator, let me just give you a sense of what a whole LISP system looks like so you can see the parts we're going to talk about and the parts</span><span s="399" t="we&apos;re not going to talk about. Let&apos;s see, over here is a happy LISP user, and the LISP"><code onclick="Z(this)">0:06:39</code>we're not going to talk about. Let's see, over here is a happy LISP user, and the LISP</span><span s="409" t="user is talking to something called the reader."><code onclick="Z(this)">0:06:49</code>user is talking to something called the reader.</span><span s="420" t="The reader&apos;s job in life is to take characters from the user"><code onclick="Z(this)">0:07:00</code>The reader's job in life is to take characters from the user</span><span s="434" t="and turn them into data structures in something called a list structure memory."><code onclick="Z(this)">0:07:14</code>and turn them into data structures in something called a list structure memory.</span><span s="449" t="All right, so the reader is going to take symbols, parentheses, and A&apos;s and B&apos;s, and ones and threes that you type in, and turn these into actual list structure: pairs,"><code onclick="Z(this)">0:07:29</code>All right, so the reader is going to take symbols, parentheses, and A's and B's, and ones and threes that you type in, and turn these into actual list structure: pairs,</span><span s="459" t="and pointers, and things. And so, by the time evaluator is going, there are no characters in the world. And, of course, in more modern list systems, there&apos;s sort of"><code onclick="Z(this)">0:07:39</code>and pointers, and things. And so, by the time evaluator is going, there are no characters in the world. And, of course, in more modern list systems, there's sort of</span><span s="469" t="a big morass here that might sit between the user and the reader: Windows systems, and top levels, and mice, and all kinds of things. But conceptually, characters are coming in."><code onclick="Z(this)">0:07:49</code>a big morass here that might sit between the user and the reader: Windows systems, and top levels, and mice, and all kinds of things. But conceptually, characters are coming in.</span><span s="479" t="All right, the reader transforms these into pointers to stuff in this memory, and that&apos;s what the"><code onclick="Z(this)">0:07:59</code>All right, the reader transforms these into pointers to stuff in this memory, and that's what the</span><span s="489" t="evaluator sees, OK? The evaluator has a bunch of helpers."><code onclick="Z(this)">0:08:09</code>evaluator sees, OK? The evaluator has a bunch of helpers.</span><span s="499" t="It has all possible primitive operators you might want. So there&apos;s a completely separate box, a floating point"><code onclick="Z(this)">0:08:19</code>It has all possible primitive operators you might want. So there's a completely separate box, a floating point</span><span s="509" t="unit, or all sorts of things, which do the primitive operators. And, if you want more special primitives, you build more"><code onclick="Z(this)">0:08:29</code>unit, or all sorts of things, which do the primitive operators. And, if you want more special primitives, you build more</span><span s="518" t="primitive operators, but they&apos;re separate from the evaluator. The evaluator finally gets an answer and communicates that to the printer."><code onclick="Z(this)">0:08:38</code>primitive operators, but they're separate from the evaluator. The evaluator finally gets an answer and communicates that to the printer.</span><span s="530" t="And now, the printer&apos;s job in life is to take this list structure coming from the evaluator, and turn it back into characters, and communicate them to the user"><code onclick="Z(this)">0:08:50</code>And now, the printer's job in life is to take this list structure coming from the evaluator, and turn it back into characters, and communicate them to the user</span><span s="543" t="through whatever interface there is. OK. Well, today, what we&apos;re going to talk about is this evaluator."><code onclick="Z(this)">0:09:03</code>through whatever interface there is. OK. Well, today, what we're going to talk about is this evaluator.</span><span s="552" t="The primitive operators have nothing particular to do with LISP, they&apos;re however you like to implement primitive operations. The reader and printer are actually complicated, but"><code onclick="Z(this)">0:09:12</code>The primitive operators have nothing particular to do with LISP, they're however you like to implement primitive operations. The reader and printer are actually complicated, but</span><span s="562" t="we&apos;re not going to talk about them. They sort of have to do with details of how you might build up list structure from characters. So that is a long story, but we&apos;re not going"><code onclick="Z(this)">0:09:22</code>we're not going to talk about them. They sort of have to do with details of how you might build up list structure from characters. So that is a long story, but we're not going</span><span s="571" t="to talk about it. The list structure memory, we&apos;ll talk about next time. So, pretty much, except for the details of reading and printing, the only mystery that&apos;s going to be left after"><code onclick="Z(this)">0:09:31</code>to talk about it. The list structure memory, we'll talk about next time. So, pretty much, except for the details of reading and printing, the only mystery that's going to be left after</span><span s="581" t="you see the evaluator is how you build list structure on conventional memories. But we&apos;ll worry about that next time too."><code onclick="Z(this)">0:09:41</code>you see the evaluator is how you build list structure on conventional memories. But we'll worry about that next time too.</span><span s="590" t="OK. Well, let&apos;s start talking about the evaluator. The one that we&apos;re going to show you, of course, is not, I"><code onclick="Z(this)">0:09:50</code>OK. Well, let's start talking about the evaluator. The one that we're going to show you, of course, is not, I</span><span s="599" t="think, nothing special about it. It&apos;s just a particular register machine that runs LISP. And it has seven registers, and here"><code onclick="Z(this)">0:09:59</code>think, nothing special about it. It's just a particular register machine that runs LISP. And it has seven registers, and here</span><span s="608" t="are the seven registers. There&apos;s a register, called EXP, and its job is to hold the expression to be evaluated."><code onclick="Z(this)">0:10:08</code>are the seven registers. There's a register, called EXP, and its job is to hold the expression to be evaluated.</span><span s="618" t="And by that, I mean it&apos;s going to hold a pointer to someplace in list structure memory that holds the expression to be evaluated. There&apos;s a register, called ENV, which holds the"><code onclick="Z(this)">0:10:18</code>And by that, I mean it's going to hold a pointer to someplace in list structure memory that holds the expression to be evaluated. There's a register, called ENV, which holds the</span><span s="629" t="environment in which this expression is to be evaluated. And, again, I made a pointer. The environment is some data structure."><code onclick="Z(this)">0:10:29</code>environment in which this expression is to be evaluated. And, again, I made a pointer. The environment is some data structure.</span><span s="638" t="There&apos;s a register, called FUN, which will hold the procedure to be applied when you go to apply a procedure. A register, called ARGL, which wants the list"><code onclick="Z(this)">0:10:38</code>There's a register, called FUN, which will hold the procedure to be applied when you go to apply a procedure. A register, called ARGL, which wants the list</span><span s="648" t="of evaluated arguments. What you can start seeing here is the basic structure of the evaluator. Remember how evaluators work. There&apos;s a piece that takes expressions and environments,"><code onclick="Z(this)">0:10:48</code>of evaluated arguments. What you can start seeing here is the basic structure of the evaluator. Remember how evaluators work. There's a piece that takes expressions and environments,</span><span s="657" t="and there&apos;s a piece that takes functions, or procedures and arguments. And going back and forth around here is the eval/apply loop."><code onclick="Z(this)">0:10:57</code>and there's a piece that takes functions, or procedures and arguments. And going back and forth around here is the eval/apply loop.</span><span s="667" t="So those are the basic pieces of the eval and apply. Then there&apos;s some other things, there&apos;s continue. You just saw before how the continue register is used to implement recursion and stack discipline."><code onclick="Z(this)">0:11:07</code>So those are the basic pieces of the eval and apply. Then there's some other things, there's continue. You just saw before how the continue register is used to implement recursion and stack discipline.</span><span s="679" t="There&apos;s a register that&apos;s going to hold the result of some evaluation. And then, besides that, there&apos;s one temporary register, called UNEV, which typically, in the evaluator,"><code onclick="Z(this)">0:11:19</code>There's a register that's going to hold the result of some evaluation. And then, besides that, there's one temporary register, called UNEV, which typically, in the evaluator,</span><span s="689" t="is going to be used to hold temporary pieces of the expression you&apos;re working on, which you haven&apos;t gotten around to evaluate yet, right? So there&apos;s my machine: a seven-register machine."><code onclick="Z(this)">0:11:29</code>is going to be used to hold temporary pieces of the expression you're working on, which you haven't gotten around to evaluate yet, right? So there's my machine: a seven-register machine.</span><span s="700" t="And, of course, you might want to make a machine with a lot more registers to get better performance, but this is just a tiny, minimal one. Well, how about the data paths?"><code onclick="Z(this)">0:11:40</code>And, of course, you might want to make a machine with a lot more registers to get better performance, but this is just a tiny, minimal one. Well, how about the data paths?</span><span s="709" t="This machine has a lot of special operations for LISP. So, here are some typical data paths."><code onclick="Z(this)">0:11:49</code>This machine has a lot of special operations for LISP. So, here are some typical data paths.</span><span s="720" t="A typical one might be, oh, assign to the VAL register the contents of the EXP register. In terms of those diagrams you saw, that&apos;s a little button on"><code onclick="Z(this)">0:12:00</code>A typical one might be, oh, assign to the VAL register the contents of the EXP register. In terms of those diagrams you saw, that's a little button on</span><span s="730" t="some arrow. Here&apos;s a more complicated one. It says branch, if the thing in the expression register is a conditional to some label here, called the"><code onclick="Z(this)">0:12:10</code>some arrow. Here's a more complicated one. It says branch, if the thing in the expression register is a conditional to some label here, called the</span><span s="741" t="ev-conditional. And you can imagine this implemented in a lot of different ways. You might imagine this conditional test as a special purpose sub-routine, and conditional might be"><code onclick="Z(this)">0:12:21</code>ev-conditional. And you can imagine this implemented in a lot of different ways. You might imagine this conditional test as a special purpose sub-routine, and conditional might be</span><span s="752" t="represented as some data abstraction that you don&apos;t care about at this level of detail. So that might be done as a sub-routine. This might be a machine with hardware-types, and"><code onclick="Z(this)">0:12:32</code>represented as some data abstraction that you don't care about at this level of detail. So that might be done as a sub-routine. This might be a machine with hardware-types, and</span><span s="761" t="conditional might be testing some bits for a particular code. There are all sorts of ways that&apos;s beneath the level of abstraction we&apos;re looking at."><code onclick="Z(this)">0:12:41</code>conditional might be testing some bits for a particular code. There are all sorts of ways that's beneath the level of abstraction we're looking at.</span><span s="770" t="Another kind of operation, and there are a lot of different operations assigned to EXP, the first clause of what&apos;s in EXP. This might be part of processing a conditional."><code onclick="Z(this)">0:12:50</code>Another kind of operation, and there are a lot of different operations assigned to EXP, the first clause of what's in EXP. This might be part of processing a conditional.</span><span s="779" t="And, again, first clause is some selector whose details we don&apos;t care about. And you can, again, imagine that as a sub-routine which&apos;ll do some list operations, or you can imagine that as"><code onclick="Z(this)">0:12:59</code>And, again, first clause is some selector whose details we don't care about. And you can, again, imagine that as a sub-routine which'll do some list operations, or you can imagine that as</span><span s="789" t="something that&apos;s built directly into hardware. The reason I keep saying you can imagine it built directly into hardware is even though there are a lot of operations,"><code onclick="Z(this)">0:13:09</code>something that's built directly into hardware. The reason I keep saying you can imagine it built directly into hardware is even though there are a lot of operations,</span><span s="798" t="there are still a fixed number of them. I forget how many, maybe 150. So, it&apos;s plausible to think of building these directly into hardware. Here&apos;s a more complicated one."><code onclick="Z(this)">0:13:18</code>there are still a fixed number of them. I forget how many, maybe 150. So, it's plausible to think of building these directly into hardware. Here's a more complicated one.</span><span s="808" t="You can see this has to do with looking up the values of variables. It says assign to the VAL register the result of looking up the variable value of some particular expression, which,"><code onclick="Z(this)">0:13:28</code>You can see this has to do with looking up the values of variables. It says assign to the VAL register the result of looking up the variable value of some particular expression, which,</span><span s="819" t="in this case, is supposed to be a variable in some environment. And this&apos;ll be some operation that searches through the environment structure, however it is represented, and goes"><code onclick="Z(this)">0:13:39</code>in this case, is supposed to be a variable in some environment. And this'll be some operation that searches through the environment structure, however it is represented, and goes</span><span s="829" t="and looks up that variable. And, again, that&apos;s below the level of detail that we&apos;re thinking about. This has to do with the details of the data structures"><code onclick="Z(this)">0:13:49</code>and looks up that variable. And, again, that's below the level of detail that we're thinking about. This has to do with the details of the data structures</span><span s="838" t="for representing environments. But, anyway, there is this fixed and finite number of operations in the register machine."><code onclick="Z(this)">0:13:58</code>for representing environments. But, anyway, there is this fixed and finite number of operations in the register machine.</span><span s="848" t="Well, what&apos;s its overall structure? Those are some typical operations. Remember what we have to do, we have to take the"><code onclick="Z(this)">0:14:08</code>Well, what's its overall structure? Those are some typical operations. Remember what we have to do, we have to take the</span><span s="857" t="meta-circular evaluator-- and here&apos;s a piece of the meta-circular evaluator. This is the one using abstract syntax that&apos;s in the book."><code onclick="Z(this)">0:14:17</code>meta-circular evaluator-- and here's a piece of the meta-circular evaluator. This is the one using abstract syntax that's in the book.</span><span s="868" t="It&apos;s a little bit different from the one that Jerry shows you. And the main thing to remember about the evaluator is that"><code onclick="Z(this)">0:14:28</code>It's a little bit different from the one that Jerry shows you. And the main thing to remember about the evaluator is that</span><span s="877" t="it&apos;s doing some sort of case analysis on the kinds of expressions: so if it&apos;s either self-evaluated, or quoted, or"><code onclick="Z(this)">0:14:37</code>it's doing some sort of case analysis on the kinds of expressions: so if it's either self-evaluated, or quoted, or</span><span s="886" t="whatever else. And then, in the general case where the expression it&apos;s looking at is an application, there&apos;s some tricky recursions going on."><code onclick="Z(this)">0:14:46</code>whatever else. And then, in the general case where the expression it's looking at is an application, there's some tricky recursions going on.</span><span s="895" t="First of all, eval has to call itself both to evaluate the operator and to evaluate all the operands."><code onclick="Z(this)">0:14:55</code>First of all, eval has to call itself both to evaluate the operator and to evaluate all the operands.</span><span s="905" t="So there&apos;s this sort of red recursion of values walking down the tree that&apos;s really the easy recursion. That&apos;s just a val walking down this tree of expressions."><code onclick="Z(this)">0:15:05</code>So there's this sort of red recursion of values walking down the tree that's really the easy recursion. That's just a val walking down this tree of expressions.</span><span s="914" t="Then, in the evaluator, there&apos;s a hard recursion. There&apos;s the red to green. Eval calls apply. That&apos;s the case where evaluating a procedure or"><code onclick="Z(this)">0:15:14</code>Then, in the evaluator, there's a hard recursion. There's the red to green. Eval calls apply. That's the case where evaluating a procedure or</span><span s="926" t="argument reduces to applying the procedure to the list of arguments. And then, apply comes over here. Apply takes a procedure and arguments and, in the general"><code onclick="Z(this)">0:15:26</code>argument reduces to applying the procedure to the list of arguments. And then, apply comes over here. Apply takes a procedure and arguments and, in the general</span><span s="939" t="case where there&apos;s a compound procedure, apply goes around and green calls red. Apply comes around and calls eval again."><code onclick="Z(this)">0:15:39</code>case where there's a compound procedure, apply goes around and green calls red. Apply comes around and calls eval again.</span><span s="948" t="Eval&apos;s the body of the procedure in the result of extending the environment with the parameters of the procedure by binding the arguments."><code onclick="Z(this)">0:15:48</code>Eval's the body of the procedure in the result of extending the environment with the parameters of the procedure by binding the arguments.</span><span s="959" t="Except in the primitive case, where it just calls something else primitive-apply, which is not really the business of the evaluator. So this sort of red to green, to red to green, that&apos;s the"><code onclick="Z(this)">0:15:59</code>Except in the primitive case, where it just calls something else primitive-apply, which is not really the business of the evaluator. So this sort of red to green, to red to green, that's the</span><span s="971" t="eval/apply loop, and that&apos;s the thing that we&apos;re going to want to see in the evaluator. All right. Well, it won&apos;t surprise you at all that the two big pieces of"><code onclick="Z(this)">0:16:11</code>eval/apply loop, and that's the thing that we're going to want to see in the evaluator. All right. Well, it won't surprise you at all that the two big pieces of</span><span s="982" t="this evaluator correspond to eval and apply. There&apos;s a piece called eval-dispatch, and a piece called apply-dispatch."><code onclick="Z(this)">0:16:22</code>this evaluator correspond to eval and apply. There's a piece called eval-dispatch, and a piece called apply-dispatch.</span><span s="992" t="And, before we get into the details of the code, the way to understand this is to think, again, in terms of these pieces of the evaluator having contracts with the rest of the world."><code onclick="Z(this)">0:16:32</code>And, before we get into the details of the code, the way to understand this is to think, again, in terms of these pieces of the evaluator having contracts with the rest of the world.</span><span s="1001" t="What do they do from the outside before getting into the grungy details? Well, the contract for eval-dispatch--"><code onclick="Z(this)">0:16:41</code>What do they do from the outside before getting into the grungy details? Well, the contract for eval-dispatch--</span><span s="1010" t="remember, it corresponds to eval. It&apos;s got to evaluate an expression in an environment. So, in particular, what this one is going to do, eval-dispatch will assume that, when you call it, that"><code onclick="Z(this)">0:16:50</code>remember, it corresponds to eval. It's got to evaluate an expression in an environment. So, in particular, what this one is going to do, eval-dispatch will assume that, when you call it, that</span><span s="1019" t="the expression you want to evaluate is in the EXP register. The environment in which you want the evaluation to take place is in the ENV register."><code onclick="Z(this)">0:16:59</code>the expression you want to evaluate is in the EXP register. The environment in which you want the evaluation to take place is in the ENV register.</span><span s="1029" t="And continue tells you the place where the machine should go next when the evaluation is done. Eval-dispatch&apos;s contract is that it&apos;ll actually perform"><code onclick="Z(this)">0:17:09</code>And continue tells you the place where the machine should go next when the evaluation is done. Eval-dispatch's contract is that it'll actually perform</span><span s="1040" t="that evaluation, and, at the end of which, it&apos;ll end up at the place specified by continue. The result of the evaluation will be in the VAL register."><code onclick="Z(this)">0:17:20</code>that evaluation, and, at the end of which, it'll end up at the place specified by continue. The result of the evaluation will be in the VAL register.</span><span s="1049" t="And it just warns you, it makes no promises about what happens to the registers. All other registers might be destroyed. So, there&apos;s one piece, OK?"><code onclick="Z(this)">0:17:29</code>And it just warns you, it makes no promises about what happens to the registers. All other registers might be destroyed. So, there's one piece, OK?</span><span s="1061" t="Together, the pieces, apply-dispatch that corresponds to apply, it&apos;s got to apply a procedure to some arguments, so it assumes that this register, ARGL, contains"><code onclick="Z(this)">0:17:41</code>Together, the pieces, apply-dispatch that corresponds to apply, it's got to apply a procedure to some arguments, so it assumes that this register, ARGL, contains</span><span s="1072" t="a list of the evaluated arguments. FUN contains the procedure. Those correspond to the arguments to the apply procedure in the meta-circular evaluator."><code onclick="Z(this)">0:17:52</code>a list of the evaluated arguments. FUN contains the procedure. Those correspond to the arguments to the apply procedure in the meta-circular evaluator.</span><span s="1083" t="And apply, in this particular evaluator, we&apos;re going to use a discipline which says the place the machine should go to next when apply is done is, at the moment apply-dispatch is"><code onclick="Z(this)">0:18:03</code>And apply, in this particular evaluator, we're going to use a discipline which says the place the machine should go to next when apply is done is, at the moment apply-dispatch is</span><span s="1094" t="called at the top of the stack, that&apos;s just discipline for the way this particular machine&apos;s organized. And now apply&apos;s contract is given all that."><code onclick="Z(this)">0:18:14</code>called at the top of the stack, that's just discipline for the way this particular machine's organized. And now apply's contract is given all that.</span><span s="1103" t="It&apos;ll perform the application. The result of that application will end up in VAL. The stack will be popped. And, again, the contents of all the other registers may be"><code onclick="Z(this)">0:18:23</code>It'll perform the application. The result of that application will end up in VAL. The stack will be popped. And, again, the contents of all the other registers may be</span><span s="1113" t="destroyed, all right? So that&apos;s the basic organization of this machine. Let&apos;s break for a little bit and see if there are any questions, and then we&apos;ll do a real example."><code onclick="Z(this)">0:18:33</code>destroyed, all right? So that's the basic organization of this machine. Let's break for a little bit and see if there are any questions, and then we'll do a real example.</span><span s="1187" t="Well, let&apos;s take the register machine now, and actually step through, and really, in real detail, so you see completely"><code onclick="Z(this)">0:19:47</code>Well, let's take the register machine now, and actually step through, and really, in real detail, so you see completely</span><span s="1197" t="concrete how some expressions are evaluated, all right? So, let&apos;s start with a very simple expression."><code onclick="Z(this)">0:19:57</code>concrete how some expressions are evaluated, all right? So, let's start with a very simple expression.</span><span s="1209" t="Let&apos;s evaluate the expression 1."><code onclick="Z(this)">0:20:09</code>Let's evaluate the expression 1.</span><span s="1218" t="And we need an environment, so let&apos;s imagine that somewhere there&apos;s an environment, we&apos;ll call it E,0."><code onclick="Z(this)">0:20:18</code>And we need an environment, so let's imagine that somewhere there's an environment, we'll call it E,0.</span><span s="1230" t="And just, since we&apos;ll use these later, we obviously don&apos;t really need anything to evaluate 1. But, just for reference later, let&apos;s assume that E,0 has in"><code onclick="Z(this)">0:20:30</code>And just, since we'll use these later, we obviously don't really need anything to evaluate 1. But, just for reference later, let's assume that E,0 has in</span><span s="1240" t="it an X that&apos;s bound to 3 and a Y that&apos;s bound to 4, OK?"><code onclick="Z(this)">0:20:40</code>it an X that's bound to 3 and a Y that's bound to 4, OK?</span><span s="1249" t="And now what we&apos;re going to do is we&apos;re going to evaluate 1 in this environment, and so the ENV register has a pointer"><code onclick="Z(this)">0:20:49</code>And now what we're going to do is we're going to evaluate 1 in this environment, and so the ENV register has a pointer</span><span s="1259" t="to this environment, E,0, all right? So let&apos;s watch that thing go. What I&apos;m going to do is step through the code."><code onclick="Z(this)">0:20:59</code>to this environment, E,0, all right? So let's watch that thing go. What I'm going to do is step through the code.</span><span s="1268" t="And, let&apos;s see, I&apos;ll be the controller. And now what I need, since this gets rather complicated, is a very little execution unit. So here&apos;s the execution unit, OK?"><code onclick="Z(this)">0:21:08</code>And, let's see, I'll be the controller. And now what I need, since this gets rather complicated, is a very little execution unit. So here's the execution unit, OK?</span><span s="1282" t="OK. OK. All right, now we&apos;re going to start. We&apos;re going to start the machine at"><code onclick="Z(this)">0:21:22</code>OK. OK. All right, now we're going to start. We're going to start the machine at</span><span s="1291" t="eval-dispatch, right? That&apos;s the beginning of this. Eval-dispatch is going to look at the expression in dispatch, just like eval where we look at the very first thing."><code onclick="Z(this)">0:21:31</code>eval-dispatch, right? That's the beginning of this. Eval-dispatch is going to look at the expression in dispatch, just like eval where we look at the very first thing.</span><span s="1302" t="We branch on whether or not this expression is self-evaluating. Self-evaluating is some abstraction we put into the machine--"><code onclick="Z(this)">0:21:42</code>We branch on whether or not this expression is self-evaluating. Self-evaluating is some abstraction we put into the machine--</span><span s="1312" t="it&apos;s going to be true for numbers-- to a place called ev-self-eval, right? So me, being the controller, looks at ev-self-eval, so we&apos;ll go over to there."><code onclick="Z(this)">0:21:52</code>it's going to be true for numbers-- to a place called ev-self-eval, right? So me, being the controller, looks at ev-self-eval, so we'll go over to there.</span><span s="1322" t="Ev-self-eval says fine, assign to val whatever is in the expression unit, OK?"><code onclick="Z(this)">0:22:02</code>Ev-self-eval says fine, assign to val whatever is in the expression unit, OK?</span><span s="1335" t="And I have a bug because what I didn&apos;t do when I initialized this machine is also say what&apos;s supposed to happen when it&apos;s done, so I should have started out the machine with"><code onclick="Z(this)">0:22:15</code>And I have a bug because what I didn't do when I initialized this machine is also say what's supposed to happen when it's done, so I should have started out the machine with</span><span s="1347" t="done being in the continue register, OK? So we assign to VAL. And now go to fetch of continue, and [? the value changed. ?]"><code onclick="Z(this)">0:22:27</code>done being in the continue register, OK? So we assign to VAL. And now go to fetch of continue, and [? the value changed. ?]</span><span s="1358" t="OK. OK, let&apos;s try something harder. Let&apos;s reset the machine here, and we&apos;ll put in the"><code onclick="Z(this)">0:22:38</code>OK. OK, let's try something harder. Let's reset the machine here, and we'll put in the</span><span s="1367" t="expression register, X, OK?"><code onclick="Z(this)">0:22:47</code>expression register, X, OK?</span><span s="1376" t="Start again at eval-dispatch. Check, is it self-evaluating? No. Is it a variable? Yes."><code onclick="Z(this)">0:22:56</code>Start again at eval-dispatch. Check, is it self-evaluating? No. Is it a variable? Yes.</span><span s="1385" t="We go off to ev-variable. It says assign to VAL, look up the variable value in the"><code onclick="Z(this)">0:23:05</code>We go off to ev-variable. It says assign to VAL, look up the variable value in the</span><span s="1394" t="expression register, OK? Go to fetch of continue."><code onclick="Z(this)">0:23:14</code>expression register, OK? Go to fetch of continue.</span><span s="1403" t="PROFESSOR: Done. PROFESSOR: OK. All right. Well, that&apos;s the basic idea. That&apos;s a simple operation of the machine."><code onclick="Z(this)">0:23:23</code>PROFESSOR: Done. PROFESSOR: OK. All right. Well, that's the basic idea. That's a simple operation of the machine.</span><span s="1412" t="Now, let&apos;s actually do something a little bit more interesting. Let&apos;s look at the expression the sum of x and y."><code onclick="Z(this)">0:23:32</code>Now, let's actually do something a little bit more interesting. Let's look at the expression the sum of x and y.</span><span s="1429" t="OK. And now we&apos;ll see how you start unrolling these expression trees, OK? Well, start again at eval-dispatch, all right?"><code onclick="Z(this)">0:23:49</code>OK. And now we'll see how you start unrolling these expression trees, OK? Well, start again at eval-dispatch, all right?</span><span s="1444" t="Self-evaluating? No. Variable? No. All the other special forms which I didn&apos;t write down, like quote, and lambda, and set, and whatever, it&apos;s none of those."><code onclick="Z(this)">0:24:04</code>Self-evaluating? No. Variable? No. All the other special forms which I didn't write down, like quote, and lambda, and set, and whatever, it's none of those.</span><span s="1453" t="It turns out to be an application, so we go off to ev-application, OK? Ev-application, remember what it&apos;s going to do overall."><code onclick="Z(this)">0:24:13</code>It turns out to be an application, so we go off to ev-application, OK? Ev-application, remember what it's going to do overall.</span><span s="1465" t="It is going to evaluate the operator. It&apos;s going to evaluate the arguments, and then it&apos;s going to go apply them."><code onclick="Z(this)">0:24:25</code>It is going to evaluate the operator. It's going to evaluate the arguments, and then it's going to go apply them.</span><span s="1475" t="So, before we start, since we&apos;re being very literal, we&apos;d better remember that, somewhere in this environment, it&apos;s linked to another environment in which plus is"><code onclick="Z(this)">0:24:35</code>So, before we start, since we're being very literal, we'd better remember that, somewhere in this environment, it's linked to another environment in which plus is</span><span s="1486" t="bound to the primitive procedure plus before we get an unknown variable in our machine."><code onclick="Z(this)">0:24:46</code>bound to the primitive procedure plus before we get an unknown variable in our machine.</span><span s="1495" t="OK, so we&apos;re at ev-application. OK, assign to UNEV the operands of what&apos;s in the"><code onclick="Z(this)">0:24:55</code>OK, so we're at ev-application. OK, assign to UNEV the operands of what's in the</span><span s="1505" t="expression register, OK? Those are the operands. UNEV&apos;s a temporary register where we&apos;re going to save them. PROFESSOR: I&apos;m assigning. PROFESSOR: Assign to x the operator."><code onclick="Z(this)">0:25:05</code>expression register, OK? Those are the operands. UNEV's a temporary register where we're going to save them. PROFESSOR: I'm assigning. PROFESSOR: Assign to x the operator.</span><span s="1518" t="Now, notice we&apos;ve destroyed that expression in x, but the piece that we need is now in UNEV. OK. Now, we&apos;re going to get set up to recursively"><code onclick="Z(this)">0:25:18</code>Now, notice we've destroyed that expression in x, but the piece that we need is now in UNEV. OK. Now, we're going to get set up to recursively</span><span s="1527" t="evaluate the operator. Save the continue register on the stack. Save the environment."><code onclick="Z(this)">0:25:27</code>evaluate the operator. Save the continue register on the stack. Save the environment.</span><span s="1540" t="Save UNEV. OK, assign to continue a"><code onclick="Z(this)">0:25:40</code>Save UNEV. OK, assign to continue a</span><span s="1553" t="label called eval-args. Now, what have we done? We&apos;ve set up for a recursive call."><code onclick="Z(this)">0:25:53</code>label called eval-args. Now, what have we done? We've set up for a recursive call.</span><span s="1564" t="We&apos;re about to go to eval-dispatch. We&apos;ve set up for a recursive call to eval-dispatch. What did we do? We took the things we&apos;re going to need later, those operands"><code onclick="Z(this)">0:26:04</code>We're about to go to eval-dispatch. We've set up for a recursive call to eval-dispatch. What did we do? We took the things we're going to need later, those operands</span><span s="1575" t="that were in UNEV; the environment in which we&apos;re going to eventually have to, maybe, evaluate those operands; the place we eventually want to go to, which, in this case, was done; we&apos;ve saved them on the stack."><code onclick="Z(this)">0:26:15</code>that were in UNEV; the environment in which we're going to eventually have to, maybe, evaluate those operands; the place we eventually want to go to, which, in this case, was done; we've saved them on the stack.</span><span s="1587" t="The reason we saved them on the stack is because eval-dispatch makes no promises about what registers it may destroy. So all that stuff is saved on the stack. Now, we&apos;ve set up eval-dispatch&apos;s contract."><code onclick="Z(this)">0:26:27</code>The reason we saved them on the stack is because eval-dispatch makes no promises about what registers it may destroy. So all that stuff is saved on the stack. Now, we've set up eval-dispatch's contract.</span><span s="1597" t="There&apos;s a new expression, which is the operator plus; a new environment, although, in this case, it&apos;s the same one; and a new place to go to when you&apos;re done, which is eval-args."><code onclick="Z(this)">0:26:37</code>There's a new expression, which is the operator plus; a new environment, although, in this case, it's the same one; and a new place to go to when you're done, which is eval-args.</span><span s="1607" t="So that&apos;s set up. Now, we&apos;re going to go off to eval-dispatch. Here we are back at eval-dispatch. It&apos;s not self-evaluating. Oh, it&apos;s a variable, so we&apos;d better go off to"><code onclick="Z(this)">0:26:47</code>So that's set up. Now, we're going to go off to eval-dispatch. Here we are back at eval-dispatch. It's not self-evaluating. Oh, it's a variable, so we'd better go off to</span><span s="1617" t="ev-variable, right? Ev-variable is assigned to VAL. Look up the variable value of the expression, OK?"><code onclick="Z(this)">0:26:57</code>ev-variable, right? Ev-variable is assigned to VAL. Look up the variable value of the expression, OK?</span><span s="1628" t="So VAL is the primitive procedure plus, OK? And go to fetch of continue. PROFESSOR: Eval-args. PROFESSOR: Right, which is now eval-args not done."><code onclick="Z(this)">0:27:08</code>So VAL is the primitive procedure plus, OK? And go to fetch of continue. PROFESSOR: Eval-args. PROFESSOR: Right, which is now eval-args not done.</span><span s="1639" t="So we come back here at eval-args, and what do we do? We&apos;re going to restore the stuff that we saved, so we restore UNEV. And notice, there, it wasn&apos;t necessary,"><code onclick="Z(this)">0:27:19</code>So we come back here at eval-args, and what do we do? We're going to restore the stuff that we saved, so we restore UNEV. And notice, there, it wasn't necessary,</span><span s="1651" t="although, in general, it would be. It might be some arbitrary evaluation that happened. We restore ENV. OK, we assign to FUN fetch of VAL."><code onclick="Z(this)">0:27:31</code>although, in general, it would be. It might be some arbitrary evaluation that happened. We restore ENV. OK, we assign to FUN fetch of VAL.</span><span s="1678" t="OK, now, we&apos;re going to go off and start evaluating some arguments. Well, first thing we&apos;d better do is save FUN because some"><code onclick="Z(this)">0:27:58</code>OK, now, we're going to go off and start evaluating some arguments. Well, first thing we'd better do is save FUN because some</span><span s="1688" t="arbitrary stuff might happen in that evaluation. We initialize the argument list. Assign to argl an empty"><code onclick="Z(this)">0:28:08</code>arbitrary stuff might happen in that evaluation. We initialize the argument list. Assign to argl an empty</span><span s="1698" t="argument list, and go to eval-arg-loop, OK? At eval-arg-loop, the idea of this is we&apos;re going to"><code onclick="Z(this)">0:28:18</code>argument list, and go to eval-arg-loop, OK? At eval-arg-loop, the idea of this is we're going to</span><span s="1709" t="evaluate the pieces of the expressions that are in UNEV, one by one, and move them from unevaluated in UNEV to evaluated in the arg list, OK?"><code onclick="Z(this)">0:28:29</code>evaluate the pieces of the expressions that are in UNEV, one by one, and move them from unevaluated in UNEV to evaluated in the arg list, OK?</span><span s="1718" t="So we save argl. We assign to x the first operand of the stuff in UNEV."><code onclick="Z(this)">0:28:38</code>So we save argl. We assign to x the first operand of the stuff in UNEV.</span><span s="1733" t="Now, we check and see if that was the last operand. In this case, it is not, all right? So we save the environment."><code onclick="Z(this)">0:28:53</code>Now, we check and see if that was the last operand. In this case, it is not, all right? So we save the environment.</span><span s="1749" t="We save UNEV because those are all things we might need later. We&apos;re going to need the environment to do some more evaluations. We&apos;re going to need UNEV to look at what the rest of those"><code onclick="Z(this)">0:29:09</code>We save UNEV because those are all things we might need later. We're going to need the environment to do some more evaluations. We're going to need UNEV to look at what the rest of those</span><span s="1758" t="arguments were. We&apos;re going to assign continue a place called accumulate-args, or accumulate-arg."><code onclick="Z(this)">0:29:18</code>arguments were. We're going to assign continue a place called accumulate-args, or accumulate-arg.</span><span s="1770" t="OK, now, we&apos;ve set up for another call to eval-dispatch, OK? All right, now, let me short-circuit this so we don&apos;t"><code onclick="Z(this)">0:29:30</code>OK, now, we've set up for another call to eval-dispatch, OK? All right, now, let me short-circuit this so we don't</span><span s="1779" t="go through the details of eval-dispatch. Eval-dispatch&apos;s contract says I&apos;m going to end up, the world will end up, with the value of evaluating this expression in"><code onclick="Z(this)">0:29:39</code>go through the details of eval-dispatch. Eval-dispatch's contract says I'm going to end up, the world will end up, with the value of evaluating this expression in</span><span s="1788" t="this environment in the VAL register, and I&apos;ll end up there. So we short-circuit all of this, and a 3 ends up in VAL."><code onclick="Z(this)">0:29:48</code>this environment in the VAL register, and I'll end up there. So we short-circuit all of this, and a 3 ends up in VAL.</span><span s="1798" t="And, when we return from eval-dispatch, we&apos;re going to return to accumulate-arg. PROFESSOR: Accumulate-arg. PROFESSOR: With 3 in the VAL register, OK?"><code onclick="Z(this)">0:29:58</code>And, when we return from eval-dispatch, we're going to return to accumulate-arg. PROFESSOR: Accumulate-arg. PROFESSOR: With 3 in the VAL register, OK?</span><span s="1808" t="So that short-circuited that evaluation. Now, what do we do? We&apos;re going to go back and look at the rest of the arguments, so we restore UNEV. We restore"><code onclick="Z(this)">0:30:08</code>So that short-circuited that evaluation. Now, what do we do? We're going to go back and look at the rest of the arguments, so we restore UNEV. We restore</span><span s="1818" t="ENV. We restore argl."><code onclick="Z(this)">0:30:18</code>ENV. We restore argl.</span><span s="1828" t="One thing. PROFESSOR: Oops! Parity error. [LAUGHTER] PROFESSOR: Restore argl."><code onclick="Z(this)">0:30:28</code>One thing. PROFESSOR: Oops! Parity error. [LAUGHTER] PROFESSOR: Restore argl.</span><span s="1841" t="PROFESSOR: OK. OK, we assign to argl consing on fetch of the value register"><code onclick="Z(this)">0:30:41</code>PROFESSOR: OK. OK, we assign to argl consing on fetch of the value register</span><span s="1851" t="to what&apos;s in argl. OK, we assign to UNEV the rest of the operands in fetch of"><code onclick="Z(this)">0:30:51</code>to what's in argl. OK, we assign to UNEV the rest of the operands in fetch of</span><span s="1864" t="UNEV, and we go back to eval-arg-loop. PROFESSOR: Eval-arg-loop. PROFESSOR: OK."><code onclick="Z(this)">0:31:04</code>UNEV, and we go back to eval-arg-loop. PROFESSOR: Eval-arg-loop. PROFESSOR: OK.</span><span s="1875" t="Now, we&apos;re about to do the next argument, so the first thing we do is save argl."><code onclick="Z(this)">0:31:15</code>Now, we're about to do the next argument, so the first thing we do is save argl.</span><span s="1885" t="OK, we assign to x the first operand of fetch of UNEV. OK,"><code onclick="Z(this)">0:31:25</code>OK, we assign to x the first operand of fetch of UNEV. OK,</span><span s="1895" t="we test and see if that&apos;s the last operand. In this case, it is, so we&apos;re going to go to a special place that says evaluate the last argument because, notice, after evaluating the argument, we don&apos;t need the"><code onclick="Z(this)">0:31:35</code>we test and see if that's the last operand. In this case, it is, so we're going to go to a special place that says evaluate the last argument because, notice, after evaluating the argument, we don't need the</span><span s="1905" t="environment any more. That&apos;s going to be the difference. So here, at eval-last-arg, which is assigned to accumulate-last-arg, now, we&apos;re set up again for"><code onclick="Z(this)">0:31:45</code>environment any more. That's going to be the difference. So here, at eval-last-arg, which is assigned to accumulate-last-arg, now, we're set up again for</span><span s="1926" t="eval-dispatch. We&apos;ve got a place to go to when we&apos;re done. We&apos;ve got an expression. We&apos;ve got an environment. OK, so we&apos;ll short-circuit the call to eval-dispatch. And what&apos;ll happen is there&apos;s a y there, it&apos;s 4 in that"><code onclick="Z(this)">0:32:06</code>eval-dispatch. We've got a place to go to when we're done. We've got an expression. We've got an environment. OK, so we'll short-circuit the call to eval-dispatch. And what'll happen is there's a y there, it's 4 in that</span><span s="1938" t="environment, so VAL will end up with 4 in it. And, then, we&apos;re going to end up at accumulate-last-arg, OK? So, at accumulate-last-arg, we restore argl."><code onclick="Z(this)">0:32:18</code>environment, so VAL will end up with 4 in it. And, then, we're going to end up at accumulate-last-arg, OK? So, at accumulate-last-arg, we restore argl.</span><span s="1961" t="We assign to argl cons of fetch of the new value onto it, so we cons a 4 onto that. We restore what was saved in the function register."><code onclick="Z(this)">0:32:41</code>We assign to argl cons of fetch of the new value onto it, so we cons a 4 onto that. We restore what was saved in the function register.</span><span s="1973" t="And notice, in this case, it had not been destroyed, but, in general, it will be. And now, we&apos;re ready to go off to apply-dispatch, all right?"><code onclick="Z(this)">0:32:53</code>And notice, in this case, it had not been destroyed, but, in general, it will be. And now, we're ready to go off to apply-dispatch, all right?</span><span s="1982" t="So we&apos;ve just gone through the eval. We evaluated the argument, the operator, and the arguments, and now, we&apos;re about to apply them. So we come off to apply-dispatch here, OK?"><code onclick="Z(this)">0:33:02</code>So we've just gone through the eval. We evaluated the argument, the operator, and the arguments, and now, we're about to apply them. So we come off to apply-dispatch here, OK?</span><span s="1997" t="We come off to apply-dispatch, and we&apos;re going to check whether it&apos;s a primitive or a compound procedure. PROFESSOR: Yes. PROFESSOR: All right. So, in this case, it&apos;s a primitive procedure, and we go"><code onclick="Z(this)">0:33:17</code>We come off to apply-dispatch, and we're going to check whether it's a primitive or a compound procedure. PROFESSOR: Yes. PROFESSOR: All right. So, in this case, it's a primitive procedure, and we go</span><span s="2007" t="off to primitive-apply. So we go off to primitive-apply, and it says assign to VAL the result of applying primitive procedure"><code onclick="Z(this)">0:33:27</code>off to primitive-apply. So we go off to primitive-apply, and it says assign to VAL the result of applying primitive procedure</span><span s="2018" t="of the function to the argument list. PROFESSOR: I don&apos;t know how to add. I&apos;m just an execution unit. PROFESSOR: Well, I don&apos;t know how to add either. I&apos;m just the evaluator, so we need a primitive operator."><code onclick="Z(this)">0:33:38</code>of the function to the argument list. PROFESSOR: I don't know how to add. I'm just an execution unit. PROFESSOR: Well, I don't know how to add either. I'm just the evaluator, so we need a primitive operator.</span><span s="2028" t="Let&apos;s see, so the primitive operator, what&apos;s the sum of 3 and 4? AUDIENCE: 7. PROFESSOR: OK, 7. PROFESSOR: Thank you."><code onclick="Z(this)">0:33:48</code>Let's see, so the primitive operator, what's the sum of 3 and 4? AUDIENCE: 7. PROFESSOR: OK, 7. PROFESSOR: Thank you.</span><span s="2038" t="PROFESSOR: Now, we restore continue, and we go to fetch"><code onclick="Z(this)">0:33:58</code>PROFESSOR: Now, we restore continue, and we go to fetch</span><span s="2052" t="of continue. PROFESSOR: Done. PROFESSOR: OK. Well, that was in as much detail as you will ever see. We&apos;ll never do it in as much detail again."><code onclick="Z(this)">0:34:12</code>of continue. PROFESSOR: Done. PROFESSOR: OK. Well, that was in as much detail as you will ever see. We'll never do it in as much detail again.</span><span s="2061" t="One very important thing to notice is that we just executed a recursive procedure, right? This whole thing, we used a stack and the"><code onclick="Z(this)">0:34:21</code>One very important thing to notice is that we just executed a recursive procedure, right? This whole thing, we used a stack and the</span><span s="2071" t="evaluator was recursive. A lot of people think the reason that you need a stack and recursion in an evaluator is because you might be evaluating recursive procedures like"><code onclick="Z(this)">0:34:31</code>evaluator was recursive. A lot of people think the reason that you need a stack and recursion in an evaluator is because you might be evaluating recursive procedures like</span><span s="2080" t="factorial or Fibonacci. It&apos;s not true. So you notice we did recursion here, and all we evaluated was plus X, Y, all right? The reason that you need recursion in the evaluator is"><code onclick="Z(this)">0:34:40</code>factorial or Fibonacci. It's not true. So you notice we did recursion here, and all we evaluated was plus X, Y, all right? The reason that you need recursion in the evaluator is</span><span s="2091" t="because the evaluation process, itself, is recursive, all right? It&apos;s not because the procedure that you might be evaluating in LISP is a recursive procedure. So that&apos;s an important thing that people get"><code onclick="Z(this)">0:34:51</code>because the evaluation process, itself, is recursive, all right? It's not because the procedure that you might be evaluating in LISP is a recursive procedure. So that's an important thing that people get</span><span s="2101" t="confused about a lot. The other thing to notice is that, when we&apos;re done here, we&apos;re really done. Not only are we at done, but there&apos;s no accumulated stuff"><code onclick="Z(this)">0:35:01</code>confused about a lot. The other thing to notice is that, when we're done here, we're really done. Not only are we at done, but there's no accumulated stuff</span><span s="2112" t="on the stack, right? The machine is back to its initial state, all right? So that&apos;s part of what it means to be done. Another way to say that is the evaluation process has reduced"><code onclick="Z(this)">0:35:12</code>on the stack, right? The machine is back to its initial state, all right? So that's part of what it means to be done. Another way to say that is the evaluation process has reduced</span><span s="2126" t="the expression, plus X, Y, to the value here, 7. And by reduced, I mean a very particular thing."><code onclick="Z(this)">0:35:26</code>the expression, plus X, Y, to the value here, 7. And by reduced, I mean a very particular thing.</span><span s="2136" t="It means that there&apos;s nothing left on the stack. The machine is now in the same state, except there&apos;s something in the value register. It&apos;s not part of a sub-problem of anything. There&apos;s nothing to go back to."><code onclick="Z(this)">0:35:36</code>It means that there's nothing left on the stack. The machine is now in the same state, except there's something in the value register. It's not part of a sub-problem of anything. There's nothing to go back to.</span><span s="2146" t="OK. Let&apos;s break. Question? AUDIENCE: The question here, in the stack, is because the data may be recursive."><code onclick="Z(this)">0:35:46</code>OK. Let's break. Question? AUDIENCE: The question here, in the stack, is because the data may be recursive.</span><span s="2155" t="You may have embedded expressions, for instance. PROFESSOR: Yes, because you might have embedded expressions. But, again, don&apos;t confuse that with what people sometimes"><code onclick="Z(this)">0:35:55</code>You may have embedded expressions, for instance. PROFESSOR: Yes, because you might have embedded expressions. But, again, don't confuse that with what people sometimes</span><span s="2166" t="mean by the data may be recursive, which is to say you have these list-structured, recursive data list operations. That has nothing to do with it. It&apos;s simply that the expressions contain"><code onclick="Z(this)">0:36:06</code>mean by the data may be recursive, which is to say you have these list-structured, recursive data list operations. That has nothing to do with it. It's simply that the expressions contain</span><span s="2175" t="sub-expressions. Yeah? AUDIENCE: Why is it that the order of the arguments in the arg list got reversed? PROFESSOR: Ah! Yes, I should&apos;ve mentioned that."><code onclick="Z(this)">0:36:15</code>sub-expressions. Yeah? AUDIENCE: Why is it that the order of the arguments in the arg list got reversed? PROFESSOR: Ah! Yes, I should've mentioned that.</span><span s="2187" t="Here, the reason the order is reversed-- it&apos;s a question of what you mean by reversed."><code onclick="Z(this)">0:36:27</code>Here, the reason the order is reversed-- it's a question of what you mean by reversed.</span><span s="2196" t="I believe it was Newton. In the very early part of optics, people realized that, when you look through the lens of your eye, the image was"><code onclick="Z(this)">0:36:36</code>I believe it was Newton. In the very early part of optics, people realized that, when you look through the lens of your eye, the image was</span><span s="2206" t="up-side down. And there was a lot of argument about why that didn&apos;t mean you saw things up-side down. So it&apos;s sort of the same issue. Reversed from what? So we just need some convention."><code onclick="Z(this)">0:36:46</code>up-side down. And there was a lot of argument about why that didn't mean you saw things up-side down. So it's sort of the same issue. Reversed from what? So we just need some convention.</span><span s="2217" t="The reason that they&apos;re coming at 4, 3 is because we&apos;re taking UNEV and consing the result onto argl. So you have to realize you&apos;ve made that convention."><code onclick="Z(this)">0:36:57</code>The reason that they're coming at 4, 3 is because we're taking UNEV and consing the result onto argl. So you have to realize you've made that convention.</span><span s="2226" t="The place that you have to realize that-- well, there&apos;s actually two places. One is in apply-primitive-operator, which has to realize that the arguments to primitives go in,"><code onclick="Z(this)">0:37:06</code>The place that you have to realize that-- well, there's actually two places. One is in apply-primitive-operator, which has to realize that the arguments to primitives go in,</span><span s="2236" t="in the opposite order from the way you&apos;re writing them down. And the other one is, we&apos;ll see later when you actually go to bind a function&apos;s parameters, you should realize the arguments are going to come in from the opposite"><code onclick="Z(this)">0:37:16</code>in the opposite order from the way you're writing them down. And the other one is, we'll see later when you actually go to bind a function's parameters, you should realize the arguments are going to come in from the opposite</span><span s="2246" t="order of the variables to which you&apos;re binding them. So, if you just keep track of that, there&apos;s no problem. Also, this is completely arbitrary because, if we&apos;d done, say, an iteration through a vector assigning"><code onclick="Z(this)">0:37:26</code>order of the variables to which you're binding them. So, if you just keep track of that, there's no problem. Also, this is completely arbitrary because, if we'd done, say, an iteration through a vector assigning</span><span s="2256" t="them, they might come out in the other order, OK? So it&apos;s just a convention of the way this particular evaluator works."><code onclick="Z(this)">0:37:36</code>them, they might come out in the other order, OK? So it's just a convention of the way this particular evaluator works.</span><span s="2265" t="All right, let&apos;s take a break."><code onclick="Z(this)">0:37:45</code>All right, let's take a break.</span><span s="2321" t="We just saw evaluating an expression and, of course, that was very simple one. But, in essence, it would be no different if it was some"><code onclick="Z(this)">0:38:41</code>We just saw evaluating an expression and, of course, that was very simple one. But, in essence, it would be no different if it was some</span><span s="2331" t="big nested expression, so there would just be deeper recursion on the stack. But what I want to do now is show you the last piece. I want to walk you around this eval and apply loop, right?"><code onclick="Z(this)">0:38:51</code>big nested expression, so there would just be deeper recursion on the stack. But what I want to do now is show you the last piece. I want to walk you around this eval and apply loop, right?</span><span s="2341" t="That&apos;s the thing we haven&apos;t seen, really. We haven&apos;t seen any compound procedures where applying a procedure reduces to evaluating the body of the"><code onclick="Z(this)">0:39:01</code>That's the thing we haven't seen, really. We haven't seen any compound procedures where applying a procedure reduces to evaluating the body of the</span><span s="2351" t="procedure, so let&apos;s just suppose we had this. Suppose we were looking at the procedure define F of A and B"><code onclick="Z(this)">0:39:11</code>procedure, so let's just suppose we had this. Suppose we were looking at the procedure define F of A and B</span><span s="2369" t="to be the sum of A and B. So, as we typed in that procedure previously, and now we&apos;re going to evaluate F of X and"><code onclick="Z(this)">0:39:29</code>to be the sum of A and B. So, as we typed in that procedure previously, and now we're going to evaluate F of X and</span><span s="2381" t="Y, again, in this environment, E,0, where X is bound to 3 and Y is bound to 4."><code onclick="Z(this)">0:39:41</code>Y, again, in this environment, E,0, where X is bound to 3 and Y is bound to 4.</span><span s="2390" t="When the defined is executed, remember, there&apos;s a lambda here, and lambdas create procedures. And, basically, what will happen is, in E,0, we&apos;ll end"><code onclick="Z(this)">0:39:50</code>When the defined is executed, remember, there's a lambda here, and lambdas create procedures. And, basically, what will happen is, in E,0, we'll end</span><span s="2401" t="up with a binding for F, which will say F is a procedure, and its args are A and B, and its body is plus a,b."><code onclick="Z(this)">0:40:01</code>up with a binding for F, which will say F is a procedure, and its args are A and B, and its body is plus a,b.</span><span s="2418" t="So that&apos;s what the environment would have looked like had we made that definition. Then, when we go to evaluate F of X and Y, we&apos;ll go through"><code onclick="Z(this)">0:40:18</code>So that's what the environment would have looked like had we made that definition. Then, when we go to evaluate F of X and Y, we'll go through</span><span s="2429" t="exactly the same process that we did before. It&apos;s even the same expression. The only difference is that F, instead of having primitive plus in it, will have this thing."><code onclick="Z(this)">0:40:29</code>exactly the same process that we did before. It's even the same expression. The only difference is that F, instead of having primitive plus in it, will have this thing.</span><span s="2441" t="And so we&apos;ll go through exactly the same process, except this time, when we end up at apply-dispatch, the function register, instead of having primitive plus, will"><code onclick="Z(this)">0:40:41</code>And so we'll go through exactly the same process, except this time, when we end up at apply-dispatch, the function register, instead of having primitive plus, will</span><span s="2450" t="have a thing that will represent it saying procedure, where the args are A and B, and the body is plus A, B."><code onclick="Z(this)">0:40:50</code>have a thing that will represent it saying procedure, where the args are A and B, and the body is plus A, B.</span><span s="2468" t="And, again, what I mean, by its ENV, I mean there&apos;s a pointer to it, so don&apos;t worry that I&apos;m writing a lot of stuff there. There&apos;s a pointer to this procedure data structure."><code onclick="Z(this)">0:41:08</code>And, again, what I mean, by its ENV, I mean there's a pointer to it, so don't worry that I'm writing a lot of stuff there. There's a pointer to this procedure data structure.</span><span s="2477" t="OK, so, we&apos;re in exactly the same situation. We get to apply-dispatch, so, here, we come to apply-dispatch."><code onclick="Z(this)">0:41:17</code>OK, so, we're in exactly the same situation. We get to apply-dispatch, so, here, we come to apply-dispatch.</span><span s="2486" t="Last time, we branched off to a primitive procedure. Here, it says oh, we now have a compound procedure, so we&apos;re going to go off to compound-apply."><code onclick="Z(this)">0:41:26</code>Last time, we branched off to a primitive procedure. Here, it says oh, we now have a compound procedure, so we're going to go off to compound-apply.</span><span s="2498" t="Now, what&apos;s compound-apply? Well, remember what the meta-circular evaluator did? Compound-apply said we&apos;re going to evaluate the body of"><code onclick="Z(this)">0:41:38</code>Now, what's compound-apply? Well, remember what the meta-circular evaluator did? Compound-apply said we're going to evaluate the body of</span><span s="2510" t="the procedure in some new environment. Where does that new environment come from? We take the environment that was packaged with the"><code onclick="Z(this)">0:41:50</code>the procedure in some new environment. Where does that new environment come from? We take the environment that was packaged with the</span><span s="2520" t="procedure, we bind the parameters of the procedure to the arguments that we&apos;re passing in, and use that as a"><code onclick="Z(this)">0:42:00</code>procedure, we bind the parameters of the procedure to the arguments that we're passing in, and use that as a</span><span s="2530" t="new frame to extend the procedure environment. And that&apos;s the environment in which we evaluate the procedure body, right?"><code onclick="Z(this)">0:42:10</code>new frame to extend the procedure environment. And that's the environment in which we evaluate the procedure body, right?</span><span s="2541" t="That&apos;s going around the apply/eval loop. That&apos;s apply coming back to call eval, all right?"><code onclick="Z(this)">0:42:21</code>That's going around the apply/eval loop. That's apply coming back to call eval, all right?</span><span s="2550" t="OK. So, now, that&apos;s all we have to do in compound-apply. What are we going to do? We&apos;re going to manufacture a new environment."><code onclick="Z(this)">0:42:30</code>OK. So, now, that's all we have to do in compound-apply. What are we going to do? We're going to manufacture a new environment.</span><span s="2563" t="And we&apos;re going to manufacture a new environment, let&apos;s see, that we&apos;ll call E,1."><code onclick="Z(this)">0:42:43</code>And we're going to manufacture a new environment, let's see, that we'll call E,1.</span><span s="2573" t="E,1 is going to be some environment where the parameters of the procedure, where A is bound to 3 and B is"><code onclick="Z(this)">0:42:53</code>E,1 is going to be some environment where the parameters of the procedure, where A is bound to 3 and B is</span><span s="2582" t="bound to 4, and it&apos;s linked to E,0 because that&apos;s where f is defined. And, in this environment, we&apos;re going to evaluate the"><code onclick="Z(this)">0:43:02</code>bound to 4, and it's linked to E,0 because that's where f is defined. And, in this environment, we're going to evaluate the</span><span s="2591" t="body of the procedure. So let&apos;s look at that, all right? All right, here we are at compound-apply, which says"><code onclick="Z(this)">0:43:11</code>body of the procedure. So let's look at that, all right? All right, here we are at compound-apply, which says</span><span s="2600" t="assign to the expression register the body of the procedure that&apos;s in the function register. So I assign to the expression register the"><code onclick="Z(this)">0:43:20</code>assign to the expression register the body of the procedure that's in the function register. So I assign to the expression register the</span><span s="2611" t="procedure body, OK?"><code onclick="Z(this)">0:43:31</code>procedure body, OK?</span><span s="2622" t="That&apos;s going to be evaluated in an environment which is formed by making some bindings using information determined"><code onclick="Z(this)">0:43:42</code>That's going to be evaluated in an environment which is formed by making some bindings using information determined</span><span s="2633" t="by the procedure-- that&apos;s what&apos;s in FUN-- and the argument list. And let&apos;s not worry about exactly what that does, but you can see the information&apos;s there. So make bindings will say oh, the procedure, itself, had an"><code onclick="Z(this)">0:43:53</code>by the procedure-- that's what's in FUN-- and the argument list. And let's not worry about exactly what that does, but you can see the information's there. So make bindings will say oh, the procedure, itself, had an</span><span s="2646" t="environment attached to it. I didn&apos;t write that quite here. I should&apos;ve said in environment because every procedure gets built with an environment. So, from that environment, it knows what the procedure&apos;s"><code onclick="Z(this)">0:44:06</code>environment attached to it. I didn't write that quite here. I should've said in environment because every procedure gets built with an environment. So, from that environment, it knows what the procedure's</span><span s="2657" t="definition environment is. It knows what the arguments are. It looks at argl, and then you see a reversal convention here. It just has to know that argl is reversed, and it builds"><code onclick="Z(this)">0:44:17</code>definition environment is. It knows what the arguments are. It looks at argl, and then you see a reversal convention here. It just has to know that argl is reversed, and it builds</span><span s="2667" t="this frame, E,1. All right, so, let&apos;s assume that that&apos;s what make bindings returns, so it assigns to ENV this thing, E,1."><code onclick="Z(this)">0:44:27</code>this frame, E,1. All right, so, let's assume that that's what make bindings returns, so it assigns to ENV this thing, E,1.</span><span s="2681" t="All right, the next thing it says is restore continue. Remember what continue was here? It got put up in the last segment."><code onclick="Z(this)">0:44:41</code>All right, the next thing it says is restore continue. Remember what continue was here? It got put up in the last segment.</span><span s="2692" t="Continue got stored. That was the original done, which said what are you going to do after you&apos;re done with this particular application? It was one of the very first things that happened when we"><code onclick="Z(this)">0:44:52</code>Continue got stored. That was the original done, which said what are you going to do after you're done with this particular application? It was one of the very first things that happened when we</span><span s="2701" t="evaluated the application. And now, finally, we&apos;re going to restore continue. Remember apply-dispatch&apos;s contract. It assumes that where it should go to next was on the"><code onclick="Z(this)">0:45:01</code>evaluated the application. And now, finally, we're going to restore continue. Remember apply-dispatch's contract. It assumes that where it should go to next was on the</span><span s="2711" t="stack, and there it was on the stack. Continue has done, and now we&apos;re going to go back to eval-dispatch. We&apos;re set up again."><code onclick="Z(this)">0:45:11</code>stack, and there it was on the stack. Continue has done, and now we're going to go back to eval-dispatch. We're set up again.</span><span s="2720" t="We have an expression, an environment, and a place to go to. We&apos;re not going to go through that because it&apos;s sort of the same expression."><code onclick="Z(this)">0:45:20</code>We have an expression, an environment, and a place to go to. We're not going to go through that because it's sort of the same expression.</span><span s="2735" t="OK, but the thing, again, to notice is, at this point, we have reduced the original expression, F,X,Y, right?"><code onclick="Z(this)">0:45:35</code>OK, but the thing, again, to notice is, at this point, we have reduced the original expression, F,X,Y, right?</span><span s="2744" t="We&apos;ve reduced evaluating F,X,Y in environment E,0 to evaluate plus A, B in E,1. And notice, nothing&apos;s on the stack, right?"><code onclick="Z(this)">0:45:44</code>We've reduced evaluating F,X,Y in environment E,0 to evaluate plus A, B in E,1. And notice, nothing's on the stack, right?</span><span s="2755" t="It&apos;s a reduction. At this point, the machine does not contain, as part of its state, the fact that it&apos;s in the middle of evaluating some procedure called f, that&apos;s gone, right?"><code onclick="Z(this)">0:45:55</code>It's a reduction. At this point, the machine does not contain, as part of its state, the fact that it's in the middle of evaluating some procedure called f, that's gone, right?</span><span s="2768" t="There&apos;s no accumulated state, OK? Again, that&apos;s a very important idea. That&apos;s the meaning of, when we used to write in the"><code onclick="Z(this)">0:46:08</code>There's no accumulated state, OK? Again, that's a very important idea. That's the meaning of, when we used to write in the</span><span s="2777" t="substitution model, this expression reduces to that expression. And you don&apos;t have to remember anything. And here, you see the meaning of reduction. At this point, there is nothing on the stack."><code onclick="Z(this)">0:46:17</code>substitution model, this expression reduces to that expression. And you don't have to remember anything. And here, you see the meaning of reduction. At this point, there is nothing on the stack.</span><span s="2791" t="See, that has very important consequences. Let&apos;s go back and look at iterative factorial, all right?"><code onclick="Z(this)">0:46:31</code>See, that has very important consequences. Let's go back and look at iterative factorial, all right?</span><span s="2800" t="Remember, this was some sort of loop and doing iter. And we kept saying that&apos;s an iterative procedure, right?"><code onclick="Z(this)">0:46:40</code>Remember, this was some sort of loop and doing iter. And we kept saying that's an iterative procedure, right?</span><span s="2812" t="And what we wrote, remember, are things like, we said,"><code onclick="Z(this)">0:46:52</code>And what we wrote, remember, are things like, we said,</span><span s="2824" t="fact-iter of 5. We wrote things like reduces to iter of 1, and 1, and 5,"><code onclick="Z(this)">0:47:04</code>fact-iter of 5. We wrote things like reduces to iter of 1, and 1, and 5,</span><span s="2839" t="which reduces to iter of 1, and 2, and 5, and so on, and so on, and so on. And we kept saying well, look, you don&apos;t have to build up any"><code onclick="Z(this)">0:47:19</code>which reduces to iter of 1, and 2, and 5, and so on, and so on, and so on. And we kept saying well, look, you don't have to build up any</span><span s="2849" t="storage to do that. And we waved our hands, and said in principle, there&apos;s no storage needed. Now, you see no storage needed. Each of these is a real reduction, right?"><code onclick="Z(this)">0:47:29</code>storage to do that. And we waved our hands, and said in principle, there's no storage needed. Now, you see no storage needed. Each of these is a real reduction, right?</span><span s="2869" t="As you walk through these expressions, what you&apos;ll see are these expressions on the stack in some particular environment, and then these expressions in the EXP"><code onclick="Z(this)">0:47:49</code>As you walk through these expressions, what you'll see are these expressions on the stack in some particular environment, and then these expressions in the EXP</span><span s="2880" t="register in some particular environment. And, at each point, there&apos;ll be no accumulated stuff on the stack because each one&apos;s a real reduction, OK?"><code onclick="Z(this)">0:48:00</code>register in some particular environment. And, at each point, there'll be no accumulated stuff on the stack because each one's a real reduction, OK?</span><span s="2889" t="All right, so, for example, just to go through it in a little bit more care, if I start out with an expression that says something like, oh, say, fact-iter of 5 in some"><code onclick="Z(this)">0:48:09</code>All right, so, for example, just to go through it in a little bit more care, if I start out with an expression that says something like, oh, say, fact-iter of 5 in some</span><span s="2913" t="environment that will, at some point, create an environment"><code onclick="Z(this)">0:48:33</code>environment that will, at some point, create an environment</span><span s="2926" t="in which n is down to 5. Let&apos;s call that--"><code onclick="Z(this)">0:48:46</code>in which n is down to 5. Let's call that--</span><span s="2935" t="And, at some point, the machine will reduce this whole thing to a thing that says that&apos;s really iter of 1, and"><code onclick="Z(this)">0:48:55</code>And, at some point, the machine will reduce this whole thing to a thing that says that's really iter of 1, and</span><span s="2948" t="1, and n, evaluated in this environment, E,1 with nothing on the stack."><code onclick="Z(this)">0:49:08</code>1, and n, evaluated in this environment, E,1 with nothing on the stack.</span><span s="2957" t="See, at this moment, the machine is not remembering that evaluating this expression, iter-- which is the loop-- is part of this thing"><code onclick="Z(this)">0:49:17</code>See, at this moment, the machine is not remembering that evaluating this expression, iter-- which is the loop-- is part of this thing</span><span s="2967" t="called iterative factorial. It&apos;s not remembering that. It&apos;s just reducing the expression to that, right? If we look again at the body of iterative factorial, this"><code onclick="Z(this)">0:49:27</code>called iterative factorial. It's not remembering that. It's just reducing the expression to that, right? If we look again at the body of iterative factorial, this</span><span s="2978" t="expression has reduced to that expression. Oh, I shouldn&apos;t have the n there. It&apos;s a slightly different convention from the slide to"><code onclick="Z(this)">0:49:38</code>expression has reduced to that expression. Oh, I shouldn't have the n there. It's a slightly different convention from the slide to</span><span s="2988" t="the program, OK? And, then, what&apos;s the body of iter? Well, iter&apos;s going to be an it, and I won&apos;t go through the"><code onclick="Z(this)">0:49:48</code>the program, OK? And, then, what's the body of iter? Well, iter's going to be an it, and I won't go through the</span><span s="2999" t="details of if. It&apos;ll evaluate the predicate. In this case, it&apos;ll be false. And this iter will now reduce to the expression iter of"><code onclick="Z(this)">0:49:59</code>details of if. It'll evaluate the predicate. In this case, it'll be false. And this iter will now reduce to the expression iter of</span><span s="3014" t="whatever it says, star, counter product, and-- what does it say-- plus counter 1 in some other environment, by this time,"><code onclick="Z(this)">0:50:14</code>whatever it says, star, counter product, and-- what does it say-- plus counter 1 in some other environment, by this time,</span><span s="3030" t="E,2, where E,2 will be set up having bindings for product and counter, right?"><code onclick="Z(this)">0:50:30</code>E,2, where E,2 will be set up having bindings for product and counter, right?</span><span s="3043" t="And it&apos;ll reduce to that, right? It won&apos;t be remembering that it&apos;s part of something that it has to return to. And when iter calls iter again, it&apos;ll reduce to another thing that looks like this in some environment, E,3, which"><code onclick="Z(this)">0:50:43</code>And it'll reduce to that, right? It won't be remembering that it's part of something that it has to return to. And when iter calls iter again, it'll reduce to another thing that looks like this in some environment, E,3, which</span><span s="3055" t="has new bindings for product and counter. So, if you&apos;re wondering, see, if you&apos;ve always been queasy"><code onclick="Z(this)">0:50:55</code>has new bindings for product and counter. So, if you're wondering, see, if you've always been queasy</span><span s="3068" t="about how it is we&apos;ve been saying those procedures, that look syntactically recursive, are, in fact, iterative, run in constant space, well, I don&apos;t know if this makes you"><code onclick="Z(this)">0:51:08</code>about how it is we've been saying those procedures, that look syntactically recursive, are, in fact, iterative, run in constant space, well, I don't know if this makes you</span><span s="3079" t="less queasy, but at least it shows you what&apos;s happening. There really isn&apos;t any buildup there. Now, you might ask well, is there buildup in principle in"><code onclick="Z(this)">0:51:19</code>less queasy, but at least it shows you what's happening. There really isn't any buildup there. Now, you might ask well, is there buildup in principle in</span><span s="3088" t="these environment frames? And the answer is yeah, you have to make these new environment frames, but you don&apos;t have to hang onto them when you&apos;re done. They can be garbage collected, or the space can be reused"><code onclick="Z(this)">0:51:28</code>these environment frames? And the answer is yeah, you have to make these new environment frames, but you don't have to hang onto them when you're done. They can be garbage collected, or the space can be reused</span><span s="3099" t="automatically. But you see the control structure of the evaluator is really using this idea that you actually have a reduction, so these procedures really are iterative procedures."><code onclick="Z(this)">0:51:39</code>automatically. But you see the control structure of the evaluator is really using this idea that you actually have a reduction, so these procedures really are iterative procedures.</span><span s="3110" t="All right, let&apos;s stop for questions."><code onclick="Z(this)">0:51:50</code>All right, let's stop for questions.</span><span s="3122" t="All right, let&apos;s break."><code onclick="Z(this)">0:52:02</code>All right, let's break.</span><span s="3168" t="Let me contrast the iterative procedure just so you&apos;ll see where space does build up with a recursive procedure, so you can see the difference."><code onclick="Z(this)">0:52:48</code>Let me contrast the iterative procedure just so you'll see where space does build up with a recursive procedure, so you can see the difference.</span><span s="3178" t="Let&apos;s look at the evaluation of recursive factorial, all right? So, here&apos;s fact-recursive, or standard factorial definition."><code onclick="Z(this)">0:52:58</code>Let's look at the evaluation of recursive factorial, all right? So, here's fact-recursive, or standard factorial definition.</span><span s="3187" t="We said this one is still a recursive procedure, but this is actually a recursive process. And then, just to link it back to the way we started, we said"><code onclick="Z(this)">0:53:07</code>We said this one is still a recursive procedure, but this is actually a recursive process. And then, just to link it back to the way we started, we said</span><span s="3197" t="oh, you can see that it&apos;s going to be recursive process by the substitution model because, if I say recursive factorial of 5, that turns into 5 times--"><code onclick="Z(this)">0:53:17</code>oh, you can see that it's going to be recursive process by the substitution model because, if I say recursive factorial of 5, that turns into 5 times--</span><span s="3216" t="what is it, fact-rec, or record fact-- 5 times recursive factorial of 4, which turns into 5 times 4"><code onclick="Z(this)">0:53:36</code>what is it, fact-rec, or record fact-- 5 times recursive factorial of 4, which turns into 5 times 4</span><span s="3234" t="times fact-rec of 3, which returns into 5 times 4 times 3"><code onclick="Z(this)">0:53:54</code>times fact-rec of 3, which returns into 5 times 4 times 3</span><span s="3248" t="times, and so on, right? The idea is there was this chain of stuff building up,"><code onclick="Z(this)">0:54:08</code>times, and so on, right? The idea is there was this chain of stuff building up,</span><span s="3258" t="which justified, in the substitution model, the fact that it&apos;s recursive. And now, let&apos;s actually see that chain of stuff build up and where it is in the machine, OK?"><code onclick="Z(this)">0:54:18</code>which justified, in the substitution model, the fact that it's recursive. And now, let's actually see that chain of stuff build up and where it is in the machine, OK?</span><span s="3267" t="All right, well, let&apos;s imagine we&apos;re going to start out again. We&apos;ll tell it to evaluate recursive factorial of 5 in"><code onclick="Z(this)">0:54:27</code>All right, well, let's imagine we're going to start out again. We'll tell it to evaluate recursive factorial of 5 in</span><span s="3281" t="some environment, again, E,0 where recursive factorial is defined, OK? Well, now we know what&apos;s eventually going to happen."><code onclick="Z(this)">0:54:41</code>some environment, again, E,0 where recursive factorial is defined, OK? Well, now we know what's eventually going to happen.</span><span s="3292" t="This is going to come along, it&apos;ll evaluate those things, figure out it&apos;s a procedure, build somewhere over here an environment, E,1, which has n bound to 5, which hangs off of"><code onclick="Z(this)">0:54:52</code>This is going to come along, it'll evaluate those things, figure out it's a procedure, build somewhere over here an environment, E,1, which has n bound to 5, which hangs off of</span><span s="3305" t="E,0, which would be, presumably, the definition environment of recursive factorial, OK?"><code onclick="Z(this)">0:55:05</code>E,0, which would be, presumably, the definition environment of recursive factorial, OK?</span><span s="3314" t="And, in this environment, it&apos;s going to go off and evaluate the body. So, again, the evaluation here will reduce to evaluating the"><code onclick="Z(this)">0:55:14</code>And, in this environment, it's going to go off and evaluate the body. So, again, the evaluation here will reduce to evaluating the</span><span s="3327" t="body in E,1. That&apos;s going to look at an if, and I won&apos;t go through the details of if. It&apos;ll look at the predicate. It&apos;ll decide it eventually has to evaluate the alternative."><code onclick="Z(this)">0:55:27</code>body in E,1. That's going to look at an if, and I won't go through the details of if. It'll look at the predicate. It'll decide it eventually has to evaluate the alternative.</span><span s="3337" t="So this whole thing, again, will reduce to the alternative of recursive factorial, the alternative clause, which says"><code onclick="Z(this)">0:55:37</code>So this whole thing, again, will reduce to the alternative of recursive factorial, the alternative clause, which says</span><span s="3347" t="that this whole thing reduces to times n of recursive"><code onclick="Z(this)">0:55:47</code>that this whole thing reduces to times n of recursive</span><span s="3356" t="factorial of n minus 1 in the environment E,1, OK?"><code onclick="Z(this)">0:55:56</code>factorial of n minus 1 in the environment E,1, OK?</span><span s="3368" t="So the original expression, now, is going to reduce to evaluating that expression, all right? Now we have an application. We did an application before."><code onclick="Z(this)">0:56:08</code>So the original expression, now, is going to reduce to evaluating that expression, all right? Now we have an application. We did an application before.</span><span s="3378" t="Remember what happens in an application? The first thing you do is you go off and you save the value of the continue register on the stack. So the stack here is going to have done in it."><code onclick="Z(this)">0:56:18</code>Remember what happens in an application? The first thing you do is you go off and you save the value of the continue register on the stack. So the stack here is going to have done in it.</span><span s="3389" t="And then you&apos;re going to set up to evaluate the sub-parts, OK? So here we go off to evaluate the sub-parts."><code onclick="Z(this)">0:56:29</code>And then you're going to set up to evaluate the sub-parts, OK? So here we go off to evaluate the sub-parts.</span><span s="3399" t="First thing we&apos;re going to do is evaluate the operator. What happens when we evaluate an operator? Well, we arrange things so that the operator ends up in"><code onclick="Z(this)">0:56:39</code>First thing we're going to do is evaluate the operator. What happens when we evaluate an operator? Well, we arrange things so that the operator ends up in</span><span s="3409" t="the expression register. The environments in the ENV register continue someplace where we&apos;re going to go evaluate the arguments. And, on the stack, we&apos;ve saved the original continue, which"><code onclick="Z(this)">0:56:49</code>the expression register. The environments in the ENV register continue someplace where we're going to go evaluate the arguments. And, on the stack, we've saved the original continue, which</span><span s="3419" t="is where we wanted to be when we&apos;re all done. And then the things we needed when we&apos;re going to get done evaluating the operator, the things we&apos;ll need to evaluate the arguments, namely, the environment and those"><code onclick="Z(this)">0:56:59</code>is where we wanted to be when we're all done. And then the things we needed when we're going to get done evaluating the operator, the things we'll need to evaluate the arguments, namely, the environment and those</span><span s="3431" t="arguments, those unevaluated arguments, so there they are sitting on the stack. And we&apos;re about to go off to evaluate the operator."><code onclick="Z(this)">0:57:11</code>arguments, those unevaluated arguments, so there they are sitting on the stack. And we're about to go off to evaluate the operator.</span><span s="3443" t="Well, when we return from this particular call-- so we&apos;re about to call eval-dispatch here-- when we return from this call, the value of that operator,"><code onclick="Z(this)">0:57:23</code>Well, when we return from this particular call-- so we're about to call eval-dispatch here-- when we return from this call, the value of that operator,</span><span s="3452" t="which, in this case, is going to be the primitive multiplier procedure, will end up in the FUN register, all right?"><code onclick="Z(this)">0:57:32</code>which, in this case, is going to be the primitive multiplier procedure, will end up in the FUN register, all right?</span><span s="3463" t="We&apos;re going to evaluate some arguments. They will evaluate in here. That&apos;ll give us 5, in this case. We&apos;re going to put that in the argl register, and then we&apos;ll"><code onclick="Z(this)">0:57:43</code>We're going to evaluate some arguments. They will evaluate in here. That'll give us 5, in this case. We're going to put that in the argl register, and then we'll</span><span s="3473" t="go off to evaluate the second operand. So, at the point where we go off to evaluate the second operand-- and I&apos;ll skip details like computing, and"><code onclick="Z(this)">0:57:53</code>go off to evaluate the second operand. So, at the point where we go off to evaluate the second operand-- and I'll skip details like computing, and</span><span s="3482" t="minus 1, and all of that-- but, when we go off to evaluate the second operand, that will eventually reduce to another call to fact-recursive."><code onclick="Z(this)">0:58:02</code>minus 1, and all of that-- but, when we go off to evaluate the second operand, that will eventually reduce to another call to fact-recursive.</span><span s="3492" t="And, what we&apos;ve got on the stack here is the operator from that combination that we&apos;re going to use it in and the other argument, OK?"><code onclick="Z(this)">0:58:12</code>And, what we've got on the stack here is the operator from that combination that we're going to use it in and the other argument, OK?</span><span s="3503" t="So, now, we&apos;re set up for another call to recursive factorial. And, when we&apos;re done with this one, we&apos;re going to go to"><code onclick="Z(this)">0:58:23</code>So, now, we're set up for another call to recursive factorial. And, when we're done with this one, we're going to go to</span><span s="3512" t="accumulate the last arg. And remember what that&apos;ll do? That&apos;ll say oh, whatever the result of this has to get combined with that, and we&apos;re going to multiply them."><code onclick="Z(this)">0:58:32</code>accumulate the last arg. And remember what that'll do? That'll say oh, whatever the result of this has to get combined with that, and we're going to multiply them.</span><span s="3521" t="But, notice now, we&apos;re at another recursive factorial. We&apos;re about to call eval-dispatch again, except we haven&apos;t really reduced it because there&apos;s stuff"><code onclick="Z(this)">0:58:41</code>But, notice now, we're at another recursive factorial. We're about to call eval-dispatch again, except we haven't really reduced it because there's stuff</span><span s="3531" t="on the stack now. The stuff on the stack says oh, when you get back, you&apos;d better multiply it by the 5 you had hanging there. So, when we go off to make another call, we"><code onclick="Z(this)">0:58:51</code>on the stack now. The stuff on the stack says oh, when you get back, you'd better multiply it by the 5 you had hanging there. So, when we go off to make another call, we</span><span s="3547" t="evaluate the n minus 1. That gives us another environment in which the new n&apos;s going to be down to 4. And we&apos;re about to call eval-dispatch again, right?"><code onclick="Z(this)">0:59:07</code>evaluate the n minus 1. That gives us another environment in which the new n's going to be down to 4. And we're about to call eval-dispatch again, right?</span><span s="3558" t="We get another call. That 4 is going to end up in the same situation. We&apos;ll end up with another call to fact-recursive n."><code onclick="Z(this)">0:59:18</code>We get another call. That 4 is going to end up in the same situation. We'll end up with another call to fact-recursive n.</span><span s="3570" t="And sitting on the stack will be the stuff from the original one and, now, the subsidiary one we&apos;re doing. And both of them are waiting for the same thing. They&apos;re going to go to accumulate a last argument."><code onclick="Z(this)">0:59:30</code>And sitting on the stack will be the stuff from the original one and, now, the subsidiary one we're doing. And both of them are waiting for the same thing. They're going to go to accumulate a last argument.</span><span s="3580" t="And then, of course, when we go to the fourth call, the same thing happens, right? And this goes on, and on, and on. And what you see here on the stack, exactly what&apos;s sitting"><code onclick="Z(this)">0:59:40</code>And then, of course, when we go to the fourth call, the same thing happens, right? And this goes on, and on, and on. And what you see here on the stack, exactly what's sitting</span><span s="3591" t="here on the stack, the thing that says times and 5. And what you&apos;re going to do with that is accumulate that into a last argument."><code onclick="Z(this)">0:59:51</code>here on the stack, the thing that says times and 5. And what you're going to do with that is accumulate that into a last argument.</span><span s="3600" t="That&apos;s exactly this, right? This is exactly where that stuff is hanging. Effectively, the operator you&apos;re going to apply, the"><code onclick="Z(this)">1:00:00</code>That's exactly this, right? This is exactly where that stuff is hanging. Effectively, the operator you're going to apply, the</span><span s="3612" t="other argument that it&apos;s got to be multiplied by when you get back and the parentheses, which says yeah, what you wanted to do was accumulate them. So, you see, the substitution model is not such a lie."><code onclick="Z(this)">1:00:12</code>other argument that it's got to be multiplied by when you get back and the parentheses, which says yeah, what you wanted to do was accumulate them. So, you see, the substitution model is not such a lie.</span><span s="3622" t="That really is, in some sense, what&apos;s sitting right on the stack. OK. All right, so that, in some sense, should explain for you,"><code onclick="Z(this)">1:00:22</code>That really is, in some sense, what's sitting right on the stack. OK. All right, so that, in some sense, should explain for you,</span><span s="3633" t="or at least convince you, that, somehow, this evaluator is managing to take these procedures and execute some of them iteratively and some of them recursively, even though,"><code onclick="Z(this)">1:00:33</code>or at least convince you, that, somehow, this evaluator is managing to take these procedures and execute some of them iteratively and some of them recursively, even though,</span><span s="3646" t="as syntactically, they look like recursive procedures. How&apos;s it managing to do that? Well, the basic reason it&apos;s managing to do that is the evaluator is set up to save only what it needs later."><code onclick="Z(this)">1:00:46</code>as syntactically, they look like recursive procedures. How's it managing to do that? Well, the basic reason it's managing to do that is the evaluator is set up to save only what it needs later.</span><span s="3661" t="So, for example, at the point where you&apos;ve reduced evaluating an expression and an environment to applying a procedure to some arguments, it doesn&apos;t need that original"><code onclick="Z(this)">1:01:01</code>So, for example, at the point where you've reduced evaluating an expression and an environment to applying a procedure to some arguments, it doesn't need that original</span><span s="3671" t="environment anymore because any environment stuff will be packaged inside the procedures where the application&apos;s going to happen."><code onclick="Z(this)">1:01:11</code>environment anymore because any environment stuff will be packaged inside the procedures where the application's going to happen.</span><span s="3680" t="All right, similarly, when you&apos;re going along evaluating an argument list, when you&apos;ve finished evaluating the list, when you&apos;re finished evaluating the last argument, you don&apos;t need that argument list any more, right?"><code onclick="Z(this)">1:01:20</code>All right, similarly, when you're going along evaluating an argument list, when you've finished evaluating the list, when you're finished evaluating the last argument, you don't need that argument list any more, right?</span><span s="3691" t="And you don&apos;t need the environment where those arguments would be evaluated, OK? So the basic reason that this interpreter is being so smart"><code onclick="Z(this)">1:01:31</code>And you don't need the environment where those arguments would be evaluated, OK? So the basic reason that this interpreter is being so smart</span><span s="3700" t="is that it&apos;s not being smart at all, it&apos;s being stupid. It&apos;s just saying I&apos;m only going to save what I really need. Well, let me show you here."><code onclick="Z(this)">1:01:40</code>is that it's not being smart at all, it's being stupid. It's just saying I'm only going to save what I really need. Well, let me show you here.</span><span s="3714" t="Here&apos;s the actual thing that&apos;s making a tail recursive. Remember, it&apos;s the restore of continue. It&apos;s saying when I go off to evaluate the procedure body, I"><code onclick="Z(this)">1:01:54</code>Here's the actual thing that's making a tail recursive. Remember, it's the restore of continue. It's saying when I go off to evaluate the procedure body, I</span><span s="3729" t="should tell eval to come back to the place where that original evaluation was supposed to come back to. So, in some sense, you want to say what&apos;s the actual line that makes a tail recursive?"><code onclick="Z(this)">1:02:09</code>should tell eval to come back to the place where that original evaluation was supposed to come back to. So, in some sense, you want to say what's the actual line that makes a tail recursive?</span><span s="3738" t="It&apos;s that one. If I wanted to build a non-tail recursive evaluator, for some strange reason, all I would need to do is, instead"><code onclick="Z(this)">1:02:18</code>It's that one. If I wanted to build a non-tail recursive evaluator, for some strange reason, all I would need to do is, instead</span><span s="3747" t="of restoring continue at this point, I&apos;d set up a label down here called, &quot;Where to come back after you&apos;ve finished applying the procedure.&quot; Instead, I&apos;d"><code onclick="Z(this)">1:02:27</code>of restoring continue at this point, I'd set up a label down here called, "Where to come back after you've finished applying the procedure." Instead, I'd</span><span s="3758" t="set continue to that. I&apos;d go to eval-dispatch, and then eval-dispatch would come back here. At that point, I would restore continue and go to the original one."><code onclick="Z(this)">1:02:38</code>set continue to that. I'd go to eval-dispatch, and then eval-dispatch would come back here. At that point, I would restore continue and go to the original one.</span><span s="3767" t="So here, the only consequence of that would be to make it non-tail recursive. It would give you exactly the same answers, except, if you did that iterative factorial and all those iterative"><code onclick="Z(this)">1:02:47</code>So here, the only consequence of that would be to make it non-tail recursive. It would give you exactly the same answers, except, if you did that iterative factorial and all those iterative</span><span s="3777" t="procedures, it would execute recursively. Well, I lied to you a little bit, but just a little bit, because I showed you a slightly over-simplified"><code onclick="Z(this)">1:02:57</code>procedures, it would execute recursively. Well, I lied to you a little bit, but just a little bit, because I showed you a slightly over-simplified</span><span s="3787" t="evaluator where it assumes that each procedure body has only one expression. Remember, in general, a procedure has a sequence of expressions in it."><code onclick="Z(this)">1:03:07</code>evaluator where it assumes that each procedure body has only one expression. Remember, in general, a procedure has a sequence of expressions in it.</span><span s="3797" t="So there&apos;s nothing really conceptually new. Let me just show you the actual evaluator that handles sequences of expressions."><code onclick="Z(this)">1:03:17</code>So there's nothing really conceptually new. Let me just show you the actual evaluator that handles sequences of expressions.</span><span s="3808" t="This is compound-apply now, and the only difference from the old one is that, instead of going off to eval directly, it takes the whole body of the procedure, which, in this"><code onclick="Z(this)">1:03:28</code>This is compound-apply now, and the only difference from the old one is that, instead of going off to eval directly, it takes the whole body of the procedure, which, in this</span><span s="3818" t="case, is a sequence of expressions, and goes off to eval-sequence. And eval-sequence is a little loop that, basically, does"><code onclick="Z(this)">1:03:38</code>case, is a sequence of expressions, and goes off to eval-sequence. And eval-sequence is a little loop that, basically, does</span><span s="3828" t="these evaluations one at a time. So it does an evaluation. Says oh, when I come back, I&apos;d better come back here to do the next one."><code onclick="Z(this)">1:03:48</code>these evaluations one at a time. So it does an evaluation. Says oh, when I come back, I'd better come back here to do the next one.</span><span s="3838" t="And, when I&apos;m all done, when I want to get the last expression, I just restore my continue and go off to eval-dispatch. And, again, if you wanted for some reason to break tail"><code onclick="Z(this)">1:03:58</code>And, when I'm all done, when I want to get the last expression, I just restore my continue and go off to eval-dispatch. And, again, if you wanted for some reason to break tail</span><span s="3848" t="recursion in this evaluator, all you need to do is not handle the last expression, especially. Just say, after you&apos;ve done the last expression, come back"><code onclick="Z(this)">1:04:08</code>recursion in this evaluator, all you need to do is not handle the last expression, especially. Just say, after you've done the last expression, come back</span><span s="3857" t="to some other place after which you restore continue. And, for some reason, a lot of LISP evaluators tended to work that way."><code onclick="Z(this)">1:04:17</code>to some other place after which you restore continue. And, for some reason, a lot of LISP evaluators tended to work that way.</span><span s="3866" t="And the only consequence of that is that iterative procedures built up stack. And it&apos;s not clear why that happened."><code onclick="Z(this)">1:04:26</code>And the only consequence of that is that iterative procedures built up stack. And it's not clear why that happened.</span><span s="3875" t="All right. Well, let me just sort of summarize, since this is a lot of details in a big program. But the main point is that it&apos;s no different,"><code onclick="Z(this)">1:04:35</code>All right. Well, let me just sort of summarize, since this is a lot of details in a big program. But the main point is that it's no different,</span><span s="3884" t="conceptually, from translating any other program. And the main idea is that we have this universal evaluator program, the meta-circular evaluator. If we translate that into LISP, then"><code onclick="Z(this)">1:04:44</code>conceptually, from translating any other program. And the main idea is that we have this universal evaluator program, the meta-circular evaluator. If we translate that into LISP, then</span><span s="3893" t="we have all of LISP. And that&apos;s all we did, OK? The second point is that the magic&apos;s gone away. There should be no more magic in this whole system, right?"><code onclick="Z(this)">1:04:53</code>we have all of LISP. And that's all we did, OK? The second point is that the magic's gone away. There should be no more magic in this whole system, right?</span><span s="3904" t="In principle, it should all be very clear except, maybe, for how list structured memory works, and we&apos;ll see that later. But that&apos;s not very hard."><code onclick="Z(this)">1:05:04</code>In principle, it should all be very clear except, maybe, for how list structured memory works, and we'll see that later. But that's not very hard.</span><span s="3915" t="The third point is that all this tail recursion came from the discipline of eval being very careful to save only what it needs next time."><code onclick="Z(this)">1:05:15</code>The third point is that all this tail recursion came from the discipline of eval being very careful to save only what it needs next time.</span><span s="3925" t="It&apos;s not some arbitrary thing where we&apos;re saying well, whenever we call a sub-routine, we&apos;ll save all the registers in the world and come back, right? See, sometimes it pays to really worry about efficiency."><code onclick="Z(this)">1:05:25</code>It's not some arbitrary thing where we're saying well, whenever we call a sub-routine, we'll save all the registers in the world and come back, right? See, sometimes it pays to really worry about efficiency.</span><span s="3937" t="And, when you&apos;re down in the guts of your evaluator machine, it really pays to think about things like that because it makes big consequences. Well, I hope what this has done is really made the"><code onclick="Z(this)">1:05:37</code>And, when you're down in the guts of your evaluator machine, it really pays to think about things like that because it makes big consequences. Well, I hope what this has done is really made the</span><span s="3949" t="evaluator seem concrete, right? I hope you really believe that somebody could hold a LISP evaluator in the palm of their hand."><code onclick="Z(this)">1:05:49</code>evaluator seem concrete, right? I hope you really believe that somebody could hold a LISP evaluator in the palm of their hand.</span><span s="3959" t="Maybe to help you believe that, here&apos;s a LISP evaluator that I&apos;m holding the palm of my hand, right? And this is a chip which is actually quite a bit more"><code onclick="Z(this)">1:05:59</code>Maybe to help you believe that, here's a LISP evaluator that I'm holding the palm of my hand, right? And this is a chip which is actually quite a bit more</span><span s="3971" t="complicated than the evaluator I showed you. Maybe, here&apos;s a better picture of it."><code onclick="Z(this)">1:06:11</code>complicated than the evaluator I showed you. Maybe, here's a better picture of it.</span><span s="3982" t="What there is, is you can see the same overall structure. This is a register array. These are the data paths. Here&apos;s a finite state controller. And again, finite state, that&apos;s all there is."><code onclick="Z(this)">1:06:22</code>What there is, is you can see the same overall structure. This is a register array. These are the data paths. Here's a finite state controller. And again, finite state, that's all there is.</span><span s="3992" t="And somewhere there&apos;s external memory that&apos;ll worry about things. And this particular one is very complicated because it&apos;s trying to run LISP fast. And it has some very, very fast"><code onclick="Z(this)">1:06:32</code>And somewhere there's external memory that'll worry about things. And this particular one is very complicated because it's trying to run LISP fast. And it has some very, very fast</span><span s="4001" t="parallel operations in there like, if you want to index into an array, simultaneously check that the index is an"><code onclick="Z(this)">1:06:41</code>parallel operations in there like, if you want to index into an array, simultaneously check that the index is an</span><span s="4010" t="integer, check that it doesn&apos;t exceed the array bands, and go off and do the memory access, and do all those things simultaneously. And then, later, if they&apos;re all OK, actually get the value there."><code onclick="Z(this)">1:06:50</code>integer, check that it doesn't exceed the array bands, and go off and do the memory access, and do all those things simultaneously. And then, later, if they're all OK, actually get the value there.</span><span s="4020" t="So there are a lot of complicated operations in these data paths for making LISP run in parallel. It&apos;s a completely non-risk philosophy of evaluating LISP."><code onclick="Z(this)">1:07:00</code>So there are a lot of complicated operations in these data paths for making LISP run in parallel. It's a completely non-risk philosophy of evaluating LISP.</span><span s="4030" t="And then, this microcode is pretty complicated. Let&apos;s see, there&apos;s what? There&apos;s about 389 instructions of 220-bit microcode sitting"><code onclick="Z(this)">1:07:10</code>And then, this microcode is pretty complicated. Let's see, there's what? There's about 389 instructions of 220-bit microcode sitting</span><span s="4043" t="here because these are very complicated data paths. And the whole thing has about 89,000 transistors, OK?"><code onclick="Z(this)">1:07:23</code>here because these are very complicated data paths. And the whole thing has about 89,000 transistors, OK?</span><span s="4053" t="OK. Well, I hope that that takes away a lot of the mystery. Maybe somebody wants to look at this."><code onclick="Z(this)">1:07:33</code>OK. Well, I hope that that takes away a lot of the mystery. Maybe somebody wants to look at this.</span><span s="4062" t="Yeah. OK. Let&apos;s stop."><code onclick="Z(this)">1:07:42</code>Yeah. OK. Let's stop.</span><span s="4075" t="Questions? AUDIENCE: OK, now, it sounds like what you&apos;re saying is that, with the restore continue put in the proper place, that procedures that would invoke a recursive"><code onclick="Z(this)">1:07:55</code>Questions? AUDIENCE: OK, now, it sounds like what you're saying is that, with the restore continue put in the proper place, that procedures that would invoke a recursive</span><span s="4088" t="process now invoke an integer process just by the way that the eval signature is? PROFESSOR: I think the way I&apos;d prefer to put it is that, with"><code onclick="Z(this)">1:08:08</code>process now invoke an integer process just by the way that the eval signature is? PROFESSOR: I think the way I'd prefer to put it is that, with</span><span s="4097" t="restore continue put in the wrong place, you can cause any syntactically-looking recursive procedure, in fact, to build up stack as it runs."><code onclick="Z(this)">1:08:17</code>restore continue put in the wrong place, you can cause any syntactically-looking recursive procedure, in fact, to build up stack as it runs.</span><span s="4108" t="But there&apos;s no reason for that, so you might want to play around with it. You can just switch around two or three instructions in the"><code onclick="Z(this)">1:08:28</code>But there's no reason for that, so you might want to play around with it. You can just switch around two or three instructions in the</span><span s="4118" t="way compound-apply comes back, and you&apos;ll get something which isn&apos;t tail recursive. But the thing I wanted to emphasize is there&apos;s no magic."><code onclick="Z(this)">1:08:38</code>way compound-apply comes back, and you'll get something which isn't tail recursive. But the thing I wanted to emphasize is there's no magic.</span><span s="4127" t="It&apos;s not as if there&apos;s some very clever pre-processing program that&apos;s looking at this procedure, factorial iter, and say oh, gee, I really notice that I don&apos;t have to push"><code onclick="Z(this)">1:08:47</code>It's not as if there's some very clever pre-processing program that's looking at this procedure, factorial iter, and say oh, gee, I really notice that I don't have to push</span><span s="4139" t="stack in order to do this. Some people think that that&apos;s what&apos;s going on. It&apos;s something much, much more dumb than that, it&apos;s this one place you&apos;re putting the restore instruction."><code onclick="Z(this)">1:08:59</code>stack in order to do this. Some people think that that's what's going on. It's something much, much more dumb than that, it's this one place you're putting the restore instruction.</span><span s="4148" t="It&apos;s just automatic. AUDIENCE: OK. AUDIENCE: But that&apos;s not affecting the time complexity is it?"><code onclick="Z(this)">1:09:08</code>It's just automatic. AUDIENCE: OK. AUDIENCE: But that's not affecting the time complexity is it?</span><span s="4157" t="PROFESSOR: No. AUDIENCE: It&apos;s just that it&apos;s handling it recursively instead of iteratively. But, in terms of the order of time it takes to finish the"><code onclick="Z(this)">1:09:17</code>PROFESSOR: No. AUDIENCE: It's just that it's handling it recursively instead of iteratively. But, in terms of the order of time it takes to finish the</span><span s="4166" t="operation, it&apos;s the same one way or the other, right? PROFESSOR: Yes. Tail recursion is not going to change the time complexity of anything because, in some sense, it&apos;s the same algorithm that&apos;s going on."><code onclick="Z(this)">1:09:26</code>operation, it's the same one way or the other, right? PROFESSOR: Yes. Tail recursion is not going to change the time complexity of anything because, in some sense, it's the same algorithm that's going on.</span><span s="4176" t="What it&apos;s doing is really making this thing run as an iteration, right? Not going to run out of memory counting up to a giant number simply because the stack would get pushed."><code onclick="Z(this)">1:09:36</code>What it's doing is really making this thing run as an iteration, right? Not going to run out of memory counting up to a giant number simply because the stack would get pushed.</span><span s="4187" t="See, the thing you really have to believe is that, when we write-- see, we&apos;ve been writing all these things called iterations, infinite loops, define loop to be called loop."><code onclick="Z(this)">1:09:47</code>See, the thing you really have to believe is that, when we write-- see, we've been writing all these things called iterations, infinite loops, define loop to be called loop.</span><span s="4201" t="That&apos;s is as much an iteration as if we wrote do forever loop, right? It&apos;s just syntactic sugar as the difference. These things are real, honest to god, iterations, right?"><code onclick="Z(this)">1:10:01</code>That's is as much an iteration as if we wrote do forever loop, right? It's just syntactic sugar as the difference. These things are real, honest to god, iterations, right?</span><span s="4214" t="They don&apos;t change the time complexity, but they turn them into real iterations. All right, thank you."><code onclick="Z(this)">1:10:14</code>They don't change the time complexity, but they turn them into real iterations. All right, thank you.</span></div><div class="eventlist" side="R" vid="kNmiTTKiYd4"><h5><code onclick="Z(this)">0:00:00</code>Lecture 10A | MIT 6.001 Structure and Interpretation, 1986</h5><span s="0" t=" [MUSIC PLAYING]"><code onclick="Z(this)">0:00:00</code> [MUSIC PLAYING]</span><span s="20" t="PROFESSOR: Last time, we took a look at an explicit control evaluator for Lisp, and that bridged the gap between all these high-level languages like Lisp and the query"><code onclick="Z(this)">0:00:20</code>PROFESSOR: Last time, we took a look at an explicit control evaluator for Lisp, and that bridged the gap between all these high-level languages like Lisp and the query</span><span s="30" t="language and all of that stuff, bridged the gap between that and a conventional register machine. And in fact, you can think of the explicit control evaluator"><code onclick="Z(this)">0:00:30</code>language and all of that stuff, bridged the gap between that and a conventional register machine. And in fact, you can think of the explicit control evaluator</span><span s="40" t="either as, say, the code for a Lisp interpreter if you wanted to implement it in the assembly language of some conventional register transfer machine, or, if you like, you"><code onclick="Z(this)">0:00:40</code>either as, say, the code for a Lisp interpreter if you wanted to implement it in the assembly language of some conventional register transfer machine, or, if you like, you</span><span s="50" t="can think of it as the microcode of some machine that&apos;s going to be specially designed to run Lisp. In either case, what we&apos;re doing is we&apos;re taking a machine that speaks some low-level language, and we&apos;re"><code onclick="Z(this)">0:00:50</code>can think of it as the microcode of some machine that's going to be specially designed to run Lisp. In either case, what we're doing is we're taking a machine that speaks some low-level language, and we're</span><span s="61" t="raising the machine to a high-level language like Lisp by writing an interpreter. So for instance, here, conceptually, is a special"><code onclick="Z(this)">0:01:01</code>raising the machine to a high-level language like Lisp by writing an interpreter. So for instance, here, conceptually, is a special</span><span s="81" t="purpose machine for computing factorials. It takes in five and puts out 120. And what this special purpose machine is is actually a Lisp"><code onclick="Z(this)">0:01:21</code>purpose machine for computing factorials. It takes in five and puts out 120. And what this special purpose machine is is actually a Lisp</span><span s="92" t="interpreter that&apos;s configured itself to run factorials, because you fit into it a description of the factorial machine."><code onclick="Z(this)">0:01:32</code>interpreter that's configured itself to run factorials, because you fit into it a description of the factorial machine.</span><span s="102" t="So that&apos;s what an interpreter is. It configures itself to emulate a machine whose description you read in. Now, inside the Lisp interpreter, what&apos;s that?"><code onclick="Z(this)">0:01:42</code>So that's what an interpreter is. It configures itself to emulate a machine whose description you read in. Now, inside the Lisp interpreter, what's that?</span><span s="112" t="Well, that might be your general register language interpreter that configures itself to behave like a Lisp interpreter, because you put in a whole bunch of"><code onclick="Z(this)">0:01:52</code>Well, that might be your general register language interpreter that configures itself to behave like a Lisp interpreter, because you put in a whole bunch of</span><span s="121" t="instructions in register language. This is the explicit control evaluator. And then it also has some sort of library, a library of primitive operators and Lisp operations and all sorts of"><code onclick="Z(this)">0:02:01</code>instructions in register language. This is the explicit control evaluator. And then it also has some sort of library, a library of primitive operators and Lisp operations and all sorts of</span><span s="131" t="things like that. That&apos;s the general strategy of interpretation. And the point is, what we&apos;re doing is we&apos;re writing an interpreter to raise the machine to the level of the"><code onclick="Z(this)">0:02:11</code>things like that. That's the general strategy of interpretation. And the point is, what we're doing is we're writing an interpreter to raise the machine to the level of the</span><span s="144" t="programs that we want to write. Well, there&apos;s another strategy, a different one, which is compilation. Compilation&apos;s a little bit different. Here--here we might have produced a special purpose"><code onclick="Z(this)">0:02:24</code>programs that we want to write. Well, there's another strategy, a different one, which is compilation. Compilation's a little bit different. Here--here we might have produced a special purpose</span><span s="157" t="machine for, for computing factorials, starting with some sort of machine that speaks register language, except"><code onclick="Z(this)">0:02:37</code>machine for, for computing factorials, starting with some sort of machine that speaks register language, except</span><span s="166" t="we&apos;re going to do a different strategy. We take our factorial program. We use that as the source code into a compiler. What the compiler will do is translate that factorial"><code onclick="Z(this)">0:02:46</code>we're going to do a different strategy. We take our factorial program. We use that as the source code into a compiler. What the compiler will do is translate that factorial</span><span s="177" t="program into some register machine language. And this will now be not the explicit control evaluator for Lisp, this will be some register language for computing factorials."><code onclick="Z(this)">0:02:57</code>program into some register machine language. And this will now be not the explicit control evaluator for Lisp, this will be some register language for computing factorials.</span><span s="186" t="So this is the translation of that. That will go into some sort of loader which will combine this code with code selected from the library to do things like"><code onclick="Z(this)">0:03:06</code>So this is the translation of that. That will go into some sort of loader which will combine this code with code selected from the library to do things like</span><span s="197" t="primitive multiplication. And then we&apos;ll produce a load module which configures the register language machine to be a special purpose factorial machine."><code onclick="Z(this)">0:03:17</code>primitive multiplication. And then we'll produce a load module which configures the register language machine to be a special purpose factorial machine.</span><span s="208" t="So that&apos;s a, that&apos;s a different strategy. In interpretation, we&apos;re raising the machine to the level of our language, like Lisp. In compilation, we&apos;re taking our program and lowering it to"><code onclick="Z(this)">0:03:28</code>So that's a, that's a different strategy. In interpretation, we're raising the machine to the level of our language, like Lisp. In compilation, we're taking our program and lowering it to</span><span s="218" t="the language that&apos;s spoken by the machine. Well, how do these two strategies compare? The compiler can produce code that will execute more"><code onclick="Z(this)">0:03:38</code>the language that's spoken by the machine. Well, how do these two strategies compare? The compiler can produce code that will execute more</span><span s="228" t="efficiently. The essential reason for that is that if you think about the register operations that are running, the interpreter has"><code onclick="Z(this)">0:03:48</code>efficiently. The essential reason for that is that if you think about the register operations that are running, the interpreter has</span><span s="242" t="to produce register operations which, in principle, are going to be general enough to execute any Lisp procedure. Whereas the compiler only has to worry about producing a"><code onclick="Z(this)">0:04:02</code>to produce register operations which, in principle, are going to be general enough to execute any Lisp procedure. Whereas the compiler only has to worry about producing a</span><span s="252" t="special bunch of register operations for, for doing the particular Lisp procedure that you&apos;ve compiled. Or another way to say that is that the interpreter is a"><code onclick="Z(this)">0:04:12</code>special bunch of register operations for, for doing the particular Lisp procedure that you've compiled. Or another way to say that is that the interpreter is a</span><span s="263" t="general purpose simulator, that when you read in a Lisp procedure, then those can simulate the program described by that, by that procedure. So the interpreter is worrying about making a general purpose"><code onclick="Z(this)">0:04:23</code>general purpose simulator, that when you read in a Lisp procedure, then those can simulate the program described by that, by that procedure. So the interpreter is worrying about making a general purpose</span><span s="273" t="simulator, whereas the compiler, in effect, is configuring the thing to be the machine that the interpreter would have been simulating. So the compiler can be faster."><code onclick="Z(this)">0:04:33</code>simulator, whereas the compiler, in effect, is configuring the thing to be the machine that the interpreter would have been simulating. So the compiler can be faster.</span><span s="292" t="On the other hand, the interpreter is a nicer environment for debugging. And the reason for that is that we&apos;ve got the source code"><code onclick="Z(this)">0:04:52</code>On the other hand, the interpreter is a nicer environment for debugging. And the reason for that is that we've got the source code</span><span s="302" t="actually there. We&apos;re interpreting it. That&apos;s what we&apos;re working with. And we also have the library around. See, the interpreter--the library sitting there is part of the interpreter."><code onclick="Z(this)">0:05:02</code>actually there. We're interpreting it. That's what we're working with. And we also have the library around. See, the interpreter--the library sitting there is part of the interpreter.</span><span s="311" t="The compiler only pulls out from the library what it needs to run the program. So if you&apos;re in the middle of debugging, and you might like to write a little extra program to examine some run"><code onclick="Z(this)">0:05:11</code>The compiler only pulls out from the library what it needs to run the program. So if you're in the middle of debugging, and you might like to write a little extra program to examine some run</span><span s="321" t="time data structure or to produce some computation that you didn&apos;t think of when you wrote the program, the interpreter can do that perfectly well, whereas the compiler can&apos;t. So there are sort of dual, dual advantages."><code onclick="Z(this)">0:05:21</code>time data structure or to produce some computation that you didn't think of when you wrote the program, the interpreter can do that perfectly well, whereas the compiler can't. So there are sort of dual, dual advantages.</span><span s="331" t="The compiler will produce code that executes faster. The interpreter is a better environment for debugging. And most Lisp systems end up having both, end up being"><code onclick="Z(this)">0:05:31</code>The compiler will produce code that executes faster. The interpreter is a better environment for debugging. And most Lisp systems end up having both, end up being</span><span s="343" t="configured so you have an interpreter that you use when you&apos;re developing your code. Then you can speed it up by compiling. And very often, you can arrange that compiled code and interpreted code can call each other."><code onclick="Z(this)">0:05:43</code>configured so you have an interpreter that you use when you're developing your code. Then you can speed it up by compiling. And very often, you can arrange that compiled code and interpreted code can call each other.</span><span s="354" t="We&apos;ll see how to do that. That&apos;s not hard. In fact, the way we&apos;ll--"><code onclick="Z(this)">0:05:54</code>We'll see how to do that. That's not hard. In fact, the way we'll--</span><span s="364" t="in the compiler we&apos;re going to make, the way we&apos;ll arrange for compiled coding and interpreted code to call, to call each other, is that we&apos;ll have the compiler use exactly the same register conventions as the interpreter."><code onclick="Z(this)">0:06:04</code>in the compiler we're going to make, the way we'll arrange for compiled coding and interpreted code to call, to call each other, is that we'll have the compiler use exactly the same register conventions as the interpreter.</span><span s="378" t="Well, the idea of a compiler is very much like the idea of an interpreter or evaluator. It&apos;s the same thing."><code onclick="Z(this)">0:06:18</code>Well, the idea of a compiler is very much like the idea of an interpreter or evaluator. It's the same thing.</span><span s="387" t="See, the evaluator walks over the code and performs some register operations. That&apos;s what we did yesterday."><code onclick="Z(this)">0:06:27</code>See, the evaluator walks over the code and performs some register operations. That's what we did yesterday.</span><span s="397" t="Well, the compiler essentially would like to walk over the code and produce the register operations that the evaluator would have done were it evaluating the thing."><code onclick="Z(this)">0:06:37</code>Well, the compiler essentially would like to walk over the code and produce the register operations that the evaluator would have done were it evaluating the thing.</span><span s="408" t="And that gives us a model for how to implement a zeroth-order compiler, a very bad compiler but"><code onclick="Z(this)">0:06:48</code>And that gives us a model for how to implement a zeroth-order compiler, a very bad compiler but</span><span s="417" t="essentially a compiler. A model for doing that is you just take the evaluator, you run it over the code, but instead of executing the actual operations, you just save them away."><code onclick="Z(this)">0:06:57</code>essentially a compiler. A model for doing that is you just take the evaluator, you run it over the code, but instead of executing the actual operations, you just save them away.</span><span s="427" t="And that&apos;s your compiled code. So let me give you an example of that. Suppose we&apos;re going to compile--suppose we want to compile the expression f of x."><code onclick="Z(this)">0:07:07</code>And that's your compiled code. So let me give you an example of that. Suppose we're going to compile--suppose we want to compile the expression f of x.</span><span s="445" t="So let&apos;s assume that we&apos;ve got f of x in the x register and something in the environment register. And now imagine starting up the evaluator."><code onclick="Z(this)">0:07:25</code>So let's assume that we've got f of x in the x register and something in the environment register. And now imagine starting up the evaluator.</span><span s="454" t="Well, it looks at the expression and it sees that it&apos;s an application. And it branches to a place in the evaluator code we saw"><code onclick="Z(this)">0:07:34</code>Well, it looks at the expression and it sees that it's an application. And it branches to a place in the evaluator code we saw</span><span s="463" t="called ev-application. And then it begins. It stores away the operands and unev, and then it&apos;s going to put the operator in exp, and it&apos;s going to go"><code onclick="Z(this)">0:07:43</code>called ev-application. And then it begins. It stores away the operands and unev, and then it's going to put the operator in exp, and it's going to go</span><span s="473" t="recursively evaluate it. That&apos;s the process that we walk through. And if you start looking at the code, you start seeing some register operations. You see assign to unev the operands, assign to exp the"><code onclick="Z(this)">0:07:53</code>recursively evaluate it. That's the process that we walk through. And if you start looking at the code, you start seeing some register operations. You see assign to unev the operands, assign to exp the</span><span s="483" t="operator, save the environment, generate that, and so on. Well, if we look on the overhead here, we can see, we"><code onclick="Z(this)">0:08:03</code>operator, save the environment, generate that, and so on. Well, if we look on the overhead here, we can see, we</span><span s="496" t="can see those operations starting to be produced. Here&apos;s sort of the first real operation that the evaluator would have done. It pulls the operands out of the exp register and assigns"><code onclick="Z(this)">0:08:16</code>can see those operations starting to be produced. Here's sort of the first real operation that the evaluator would have done. It pulls the operands out of the exp register and assigns</span><span s="507" t="it to unev. And then it assigns something to the expression register, and it saves continue, and it saves env. And all I&apos;m doing here is writing down the register"><code onclick="Z(this)">0:08:27</code>it to unev. And then it assigns something to the expression register, and it saves continue, and it saves env. And all I'm doing here is writing down the register</span><span s="518" t="assignments that the evaluator would have done in executing that code. And can zoom out a little bit. Altogether, there are about 19 operations there."><code onclick="Z(this)">0:08:38</code>assignments that the evaluator would have done in executing that code. And can zoom out a little bit. Altogether, there are about 19 operations there.</span><span s="529" t="And this is the--this will be the piece of code up until the point where the evaluator branches off to apply-dispatch. And in fact, in this compiler, we&apos;re not going to worry about"><code onclick="Z(this)">0:08:49</code>And this is the--this will be the piece of code up until the point where the evaluator branches off to apply-dispatch. And in fact, in this compiler, we're not going to worry about</span><span s="540" t="apply-dispatch at all. We&apos;re going to have everything--we&apos;re going to have both interpreted code and compiled code. Always evaluate procedures, always apply procedures by going to apply-dispatch."><code onclick="Z(this)">0:09:00</code>apply-dispatch at all. We're going to have everything--we're going to have both interpreted code and compiled code. Always evaluate procedures, always apply procedures by going to apply-dispatch.</span><span s="550" t="That will easily allow interpreted code and compiled code to call each other. Well, in principle, that&apos;s all we need to do."><code onclick="Z(this)">0:09:10</code>That will easily allow interpreted code and compiled code to call each other. Well, in principle, that's all we need to do.</span><span s="561" t="You just run the evaluator. So the compiler&apos;s a lot like the evaluator. You run it, except it stashes away these operations instead of actually executing them. Well, that&apos;s not, that&apos;s not quite true."><code onclick="Z(this)">0:09:21</code>You just run the evaluator. So the compiler's a lot like the evaluator. You run it, except it stashes away these operations instead of actually executing them. Well, that's not, that's not quite true.</span><span s="572" t="There&apos;s only one little lie in that. What you have to worry about is if you have a, a predicate. If you have some kind of test you want to do, obviously, at"><code onclick="Z(this)">0:09:32</code>There's only one little lie in that. What you have to worry about is if you have a, a predicate. If you have some kind of test you want to do, obviously, at</span><span s="584" t="the point when you&apos;re compiling it, you don&apos;t know which branch of these--of a conditional like this you&apos;re going to do. So you can&apos;t say which one the evaluator would have done."><code onclick="Z(this)">0:09:44</code>the point when you're compiling it, you don't know which branch of these--of a conditional like this you're going to do. So you can't say which one the evaluator would have done.</span><span s="595" t="So all you do there is very simple. You compile both branches. So you compile a structure that looks like this. That&apos;ll compile into something that says, the code, the code"><code onclick="Z(this)">0:09:55</code>So all you do there is very simple. You compile both branches. So you compile a structure that looks like this. That'll compile into something that says, the code, the code</span><span s="608" t="for P. And it puts its results in, say, the val register."><code onclick="Z(this)">0:10:08</code>for P. And it puts its results in, say, the val register.</span><span s="618" t="So you walk the interpreter over the predicate and make sure that the result would go into the val register. And then you compile an instruction that says, branch"><code onclick="Z(this)">0:10:18</code>So you walk the interpreter over the predicate and make sure that the result would go into the val register. And then you compile an instruction that says, branch</span><span s="630" t="if, if val is true, to a place we&apos;ll call label one."><code onclick="Z(this)">0:10:30</code>if, if val is true, to a place we'll call label one.</span><span s="644" t="Then we, we will put the code for B to walk the interpreter--walk the interpreter over B. And then"><code onclick="Z(this)">0:10:44</code>Then we, we will put the code for B to walk the interpreter--walk the interpreter over B. And then</span><span s="654" t="go to put in an instruction that says, go to the next thing, whatever, whatever was supposed to happen after this"><code onclick="Z(this)">0:10:54</code>go to put in an instruction that says, go to the next thing, whatever, whatever was supposed to happen after this</span><span s="663" t="thing was done. You put in that instruction. And here you put label one. And here you put the code for A. And you"><code onclick="Z(this)">0:11:03</code>thing was done. You put in that instruction. And here you put label one. And here you put the code for A. And you</span><span s="679" t="put go to next thing."><code onclick="Z(this)">0:11:19</code>put go to next thing.</span><span s="691" t="So that&apos;s how you treat a conditional. You generate a little block like that. And other than that, this zeroth-order compiler is the"><code onclick="Z(this)">0:11:31</code>So that's how you treat a conditional. You generate a little block like that. And other than that, this zeroth-order compiler is the</span><span s="700" t="same as the evaluator. It&apos;s just stashing away the instructions instead of executing them. That seems pretty simple, but we&apos;ve gained something by that."><code onclick="Z(this)">0:11:40</code>same as the evaluator. It's just stashing away the instructions instead of executing them. That seems pretty simple, but we've gained something by that.</span><span s="710" t="See, already that&apos;s going to be more efficient than the evaluator. Because, if you watch the evaluator run, it&apos;s not only generating the register operations we wrote down, it&apos;s"><code onclick="Z(this)">0:11:50</code>See, already that's going to be more efficient than the evaluator. Because, if you watch the evaluator run, it's not only generating the register operations we wrote down, it's</span><span s="721" t="also doing things to decide which ones to generate. So the very first thing it does, say, here for instance, is go do some tests and decide that this is an application,"><code onclick="Z(this)">0:12:01</code>also doing things to decide which ones to generate. So the very first thing it does, say, here for instance, is go do some tests and decide that this is an application,</span><span s="733" t="and then branch off to the place that, that handles applications. In other words, what the evaluator&apos;s doing is simultaneously analyzing the code to see what to do, and"><code onclick="Z(this)">0:12:13</code>and then branch off to the place that, that handles applications. In other words, what the evaluator's doing is simultaneously analyzing the code to see what to do, and</span><span s="743" t="running these operations. And when you-- if you run the evaluator a million times, that analysis phase happens a million times, whereas in the compiler, it&apos;s happened once, and then you just have the register"><code onclick="Z(this)">0:12:23</code>running these operations. And when you-- if you run the evaluator a million times, that analysis phase happens a million times, whereas in the compiler, it's happened once, and then you just have the register</span><span s="753" t="operations themselves. Ok, that&apos;s a, a zeroth-order compiler, but it is a"><code onclick="Z(this)">0:12:33</code>operations themselves. Ok, that's a, a zeroth-order compiler, but it is a</span><span s="762" t="wretched, wretched compiler. It&apos;s really dumb. Let&apos;s--let&apos;s go back and, and look at this overhead."><code onclick="Z(this)">0:12:42</code>wretched, wretched compiler. It's really dumb. Let's--let's go back and, and look at this overhead.</span><span s="772" t="So look at look at some of the operations this thing is doing. We&apos;re supposedly looking at the operations and"><code onclick="Z(this)">0:12:52</code>So look at look at some of the operations this thing is doing. We're supposedly looking at the operations and</span><span s="781" t="interpreting f of x. Now, look here what it&apos;s doing. For example, here it assigns to exp the"><code onclick="Z(this)">0:13:01</code>interpreting f of x. Now, look here what it's doing. For example, here it assigns to exp the</span><span s="790" t="operator in fetch of exp. But see, there&apos;s no reason to do that, because this is-- the compiler knows that the operator, fetch of exp, is f"><code onclick="Z(this)">0:13:10</code>operator in fetch of exp. But see, there's no reason to do that, because this is-- the compiler knows that the operator, fetch of exp, is f</span><span s="801" t="right here. So there&apos;s no reason why this instruction should say that. It should say, we&apos;ll assign to exp, f. Or in fact, you don&apos;t need exp at all."><code onclick="Z(this)">0:13:21</code>right here. So there's no reason why this instruction should say that. It should say, we'll assign to exp, f. Or in fact, you don't need exp at all.</span><span s="812" t="There&apos;s no reason it should have exp at all. What, what did exp get used for? Well, if we come down here, we&apos;re going to assign to val,"><code onclick="Z(this)">0:13:32</code>There's no reason it should have exp at all. What, what did exp get used for? Well, if we come down here, we're going to assign to val,</span><span s="823" t="look up the stuff in exp in the environment. So what we really should do is get rid of the exp register altogether, and just change this instruction to say,"><code onclick="Z(this)">0:13:43</code>look up the stuff in exp in the environment. So what we really should do is get rid of the exp register altogether, and just change this instruction to say,</span><span s="833" t="assign to val, look up the variable value of the symbol f in the environment. Similarly, back up here, we don&apos;t need unev at all,"><code onclick="Z(this)">0:13:53</code>assign to val, look up the variable value of the symbol f in the environment. Similarly, back up here, we don't need unev at all,</span><span s="844" t="because we know what the operands of fetch of exp are for this piece of code. It&apos;s the, it&apos;s the list x."><code onclick="Z(this)">0:14:04</code>because we know what the operands of fetch of exp are for this piece of code. It's the, it's the list x.</span><span s="853" t="So in some sense, you don&apos;t want unev and exp at all. See, what they really are in some sense, those aren&apos;t"><code onclick="Z(this)">0:14:13</code>So in some sense, you don't want unev and exp at all. See, what they really are in some sense, those aren't</span><span s="862" t="registers of the actual machine that&apos;s supposed to run. Those are registers that have to do with arranging the thing that can simulate that machine. So they&apos;re always going to hold expressions which, from"><code onclick="Z(this)">0:14:22</code>registers of the actual machine that's supposed to run. Those are registers that have to do with arranging the thing that can simulate that machine. So they're always going to hold expressions which, from</span><span s="874" t="the compiler&apos;s point of view, are just constants, so can be put right into the code. So you can forget about all the operations worrying about exp and unev and just use those constants."><code onclick="Z(this)">0:14:34</code>the compiler's point of view, are just constants, so can be put right into the code. So you can forget about all the operations worrying about exp and unev and just use those constants.</span><span s="884" t="Similarly, again, if we go, go back and look here, there are things like assign to continue eval-args."><code onclick="Z(this)">0:14:44</code>Similarly, again, if we go, go back and look here, there are things like assign to continue eval-args.</span><span s="893" t="Now, that has nothing to do with anything. That was just the evaluator keeping track of where it should go next, to evaluate the arguments in some, in some"><code onclick="Z(this)">0:14:53</code>Now, that has nothing to do with anything. That was just the evaluator keeping track of where it should go next, to evaluate the arguments in some, in some</span><span s="905" t="application. But of course, that&apos;s irrelevant to the compiler, because you-- the analysis phase will have already done that."><code onclick="Z(this)">0:15:05</code>application. But of course, that's irrelevant to the compiler, because you-- the analysis phase will have already done that.</span><span s="915" t="So this is completely irrelevant. So a lot of these, these assignments to continue have not to do where the running machine is supposed to"><code onclick="Z(this)">0:15:15</code>So this is completely irrelevant. So a lot of these, these assignments to continue have not to do where the running machine is supposed to</span><span s="924" t="continue in keeping track of its state. It has to, to do with where the evaluator analysis should continue, and those are completely irrelevant. So we can get rid of them."><code onclick="Z(this)">0:15:24</code>continue in keeping track of its state. It has to, to do with where the evaluator analysis should continue, and those are completely irrelevant. So we can get rid of them.</span><span s="944" t="Ok, well, if we, if we simply do that, make those kinds of optimizations, get rid, get rid of worrying about exp and unev, and get rid of these irrelevant register"><code onclick="Z(this)">0:15:44</code>Ok, well, if we, if we simply do that, make those kinds of optimizations, get rid, get rid of worrying about exp and unev, and get rid of these irrelevant register</span><span s="955" t="assignments to continue, then we can take this literal code, these sort of 19 instructions that the, that the evaluator"><code onclick="Z(this)">0:15:55</code>assignments to continue, then we can take this literal code, these sort of 19 instructions that the, that the evaluator</span><span s="965" t="would have done, and then replace them. Let&apos;s look at the, at the slide. Replace them by--we get rid of about half of them."><code onclick="Z(this)">0:16:05</code>would have done, and then replace them. Let's look at the, at the slide. Replace them by--we get rid of about half of them.</span><span s="978" t="And again, this is just sort of filtering what the evaluator would have done by getting rid of the irrelevant stuff. And you see, for instance, here the--where the evaluator"><code onclick="Z(this)">0:16:18</code>And again, this is just sort of filtering what the evaluator would have done by getting rid of the irrelevant stuff. And you see, for instance, here the--where the evaluator</span><span s="989" t="said, assign val, look up variable value, fetch of exp, here we have put in the constant f. Here we&apos;ve put in the constant x."><code onclick="Z(this)">0:16:29</code>said, assign val, look up variable value, fetch of exp, here we have put in the constant f. Here we've put in the constant x.</span><span s="999" t="So there&apos;s a, there&apos;s a little better compiler. It&apos;s still pretty dumb. It&apos;s still doing a lot of dumb things."><code onclick="Z(this)">0:16:39</code>So there's a, there's a little better compiler. It's still pretty dumb. It's still doing a lot of dumb things.</span><span s="1010" t="Again, if we go look at the slide again, look at the very beginning here, we see a save the environment, assign"><code onclick="Z(this)">0:16:50</code>Again, if we go look at the slide again, look at the very beginning here, we see a save the environment, assign</span><span s="1020" t="something to the val register, and restore the environment. Where&apos;d that come from? That came from the evaluator back here saying, oh, I&apos;m in the middle of evaluating an application."><code onclick="Z(this)">0:17:00</code>something to the val register, and restore the environment. Where'd that come from? That came from the evaluator back here saying, oh, I'm in the middle of evaluating an application.</span><span s="1031" t="So I&apos;m going to recursively call eval dispatch. So I&apos;d better save the thing I&apos;m going to need later, which is the environment. This was the result of recursively"><code onclick="Z(this)">0:17:11</code>So I'm going to recursively call eval dispatch. So I'd better save the thing I'm going to need later, which is the environment. This was the result of recursively</span><span s="1041" t="calling eval dispatch. It was evaluating the symbol f in that case. Then it came back from eval dispatch, restored the environment."><code onclick="Z(this)">0:17:21</code>calling eval dispatch. It was evaluating the symbol f in that case. Then it came back from eval dispatch, restored the environment.</span><span s="1051" t="But in fact, the actual thing it ended up doing in the evaluation is not going to hurt the environment at all. So there&apos;s no reason to be saving the environment and"><code onclick="Z(this)">0:17:31</code>But in fact, the actual thing it ended up doing in the evaluation is not going to hurt the environment at all. So there's no reason to be saving the environment and</span><span s="1060" t="restoring the environment here. Similarly, here I&apos;m saving the argument list. That&apos;s a piece"><code onclick="Z(this)">0:17:40</code>restoring the environment here. Similarly, here I'm saving the argument list. That's a piece</span><span s="1073" t="of the argument evaluation loop, saving the argument list, and here you restore it. But the actual thing that you ended up doing didn&apos;t trash the argument list. So there was no reason to save it."><code onclick="Z(this)">0:17:53</code>of the argument evaluation loop, saving the argument list, and here you restore it. But the actual thing that you ended up doing didn't trash the argument list. So there was no reason to save it.</span><span s="1088" t="So another way to say, another way to say that is that the, the evaluator has to be maximally pessimistic, because"><code onclick="Z(this)">0:18:08</code>So another way to say, another way to say that is that the, the evaluator has to be maximally pessimistic, because</span><span s="1099" t="as far from its point of view it&apos;s just going off to evaluate something. So it better save what it&apos;s going to need later. But once you&apos;ve done the analysis, the compiler is in a"><code onclick="Z(this)">0:18:19</code>as far from its point of view it's just going off to evaluate something. So it better save what it's going to need later. But once you've done the analysis, the compiler is in a</span><span s="1108" t="position to say, well, what actually did I need to save? And doesn&apos;t need to do any-- it doesn&apos;t need to be as careful as the evaluator, because it knows what it"><code onclick="Z(this)">0:18:28</code>position to say, well, what actually did I need to save? And doesn't need to do any-- it doesn't need to be as careful as the evaluator, because it knows what it</span><span s="1118" t="actually needs. Well, in any case, if we do that and eliminate all those redundant saves and restores, then we can"><code onclick="Z(this)">0:18:38</code>actually needs. Well, in any case, if we do that and eliminate all those redundant saves and restores, then we can</span><span s="1128" t="get it down to this. And you see there are actually only three instructions that we actually need, down from the initial 11 or so, or the initial 20 or so in the original one."><code onclick="Z(this)">0:18:48</code>get it down to this. And you see there are actually only three instructions that we actually need, down from the initial 11 or so, or the initial 20 or so in the original one.</span><span s="1140" t="And that&apos;s just saying, of those register operations, which ones did we actually need?"><code onclick="Z(this)">0:19:00</code>And that's just saying, of those register operations, which ones did we actually need?</span><span s="1149" t="Let me just sort of summarize that in another way, just to show you in a little better picture. Here&apos;s a picture of starting--"><code onclick="Z(this)">0:19:09</code>Let me just sort of summarize that in another way, just to show you in a little better picture. Here's a picture of starting--</span><span s="1158" t="This is looking at all the saves and restores. So here&apos;s the expression, f of x, and then this traces through, on the bottom here, the various places in the"><code onclick="Z(this)">0:19:18</code>This is looking at all the saves and restores. So here's the expression, f of x, and then this traces through, on the bottom here, the various places in the</span><span s="1170" t="evaluator that were passed when the evaluation happened. And then here, here you see arrows."><code onclick="Z(this)">0:19:30</code>evaluator that were passed when the evaluation happened. And then here, here you see arrows.</span><span s="1180" t="Arrow down means register saved. So the first thing that happened is the environment got saved. And over here, the environment got restored."><code onclick="Z(this)">0:19:40</code>Arrow down means register saved. So the first thing that happened is the environment got saved. And over here, the environment got restored.</span><span s="1192" t="And these-- so there are all the pairs of stack operations. Now, if you go ahead and say, well, let&apos;s remember that we don&apos;t--that unev, for instance, is a completely"><code onclick="Z(this)">0:19:52</code>And these-- so there are all the pairs of stack operations. Now, if you go ahead and say, well, let's remember that we don't--that unev, for instance, is a completely</span><span s="1202" t="useless register. And if we use the constant structure of the code, well, we don&apos;t need, we don&apos;t need to save unev. We don&apos;t need"><code onclick="Z(this)">0:20:02</code>useless register. And if we use the constant structure of the code, well, we don't need, we don't need to save unev. We don't need</span><span s="1211" t="unev at all. And then, depending on how we set up the discipline of the--of calling other things that apply, we may or may not"><code onclick="Z(this)">0:20:11</code>unev at all. And then, depending on how we set up the discipline of the--of calling other things that apply, we may or may not</span><span s="1222" t="need to save continue. That&apos;s the first step I did. And then we can look and see what&apos;s actually, what&apos;s actually needed."><code onclick="Z(this)">0:20:22</code>need to save continue. That's the first step I did. And then we can look and see what's actually, what's actually needed.</span><span s="1232" t="See, we don&apos;t-- didn&apos;t really need to save env or cross-evaluating f, because it wouldn&apos;t, it wouldn&apos;t trash it. So if we take advantage of that, and see the evaluation"><code onclick="Z(this)">0:20:32</code>See, we don't-- didn't really need to save env or cross-evaluating f, because it wouldn't, it wouldn't trash it. So if we take advantage of that, and see the evaluation</span><span s="1246" t="of f here, doesn&apos;t really need to worry about, about hurting env. And similarly, the evaluation of x here, when the"><code onclick="Z(this)">0:20:46</code>of f here, doesn't really need to worry about, about hurting env. And similarly, the evaluation of x here, when the</span><span s="1257" t="evaluator did that it said, oh, I&apos;d better preserve the function register around that, because I might need it later. And I better preserve the argument list."><code onclick="Z(this)">0:20:57</code>evaluator did that it said, oh, I'd better preserve the function register around that, because I might need it later. And I better preserve the argument list.</span><span s="1267" t="Whereas the compiler is now in a position to know, well, we didn&apos;t really need to save-- to do those saves and restores. So in fact, all of the stack operations done by the evaluator turned out to be unnecessary or overly"><code onclick="Z(this)">0:21:07</code>Whereas the compiler is now in a position to know, well, we didn't really need to save-- to do those saves and restores. So in fact, all of the stack operations done by the evaluator turned out to be unnecessary or overly</span><span s="1278" t="pessimistic. And the compiler is in a position to know that."><code onclick="Z(this)">0:21:18</code>pessimistic. And the compiler is in a position to know that.</span><span s="1287" t="Well that&apos;s the basic idea. We take the evaluator, we eliminate the things that you don&apos;t need, that in some sense have nothing to do with the compiler at all, just the evaluator, and then you see"><code onclick="Z(this)">0:21:27</code>Well that's the basic idea. We take the evaluator, we eliminate the things that you don't need, that in some sense have nothing to do with the compiler at all, just the evaluator, and then you see</span><span s="1298" t="which stack operations are unnecessary. That&apos;s the basic structure of the compiler that&apos;s described in the book. Let me just show you how that examples a"><code onclick="Z(this)">0:21:38</code>which stack operations are unnecessary. That's the basic structure of the compiler that's described in the book. Let me just show you how that examples a</span><span s="1308" t="little bit too simple. To see how you, how you actually save a lot, let&apos;s look at a little bit more complicated expression."><code onclick="Z(this)">0:21:48</code>little bit too simple. To see how you, how you actually save a lot, let's look at a little bit more complicated expression.</span><span s="1318" t="F of G of X and 1. And I&apos;m not going to go through all the code. There&apos;s a, there&apos;s a fair pile of it."><code onclick="Z(this)">0:21:58</code>F of G of X and 1. And I'm not going to go through all the code. There's a, there's a fair pile of it.</span><span s="1329" t="I think there are, there are something like 16 pairs of register saves and restores as the evaluator walks through that. Here&apos;s a diagram of them."><code onclick="Z(this)">0:22:09</code>I think there are, there are something like 16 pairs of register saves and restores as the evaluator walks through that. Here's a diagram of them.</span><span s="1340" t="Let&apos;s see. You see what&apos;s going on. You start out by--the evaluator says, oh, I&apos;m about to do an application. I&apos;ll preserve the environment. I&apos;ll restore it here."><code onclick="Z(this)">0:22:20</code>Let's see. You see what's going on. You start out by--the evaluator says, oh, I'm about to do an application. I'll preserve the environment. I'll restore it here.</span><span s="1350" t="Then I&apos;m about to do the first operand. Here it recursively goes to the evaluator. The evaluator says, oh, this is an application, I&apos;ll save"><code onclick="Z(this)">0:22:30</code>Then I'm about to do the first operand. Here it recursively goes to the evaluator. The evaluator says, oh, this is an application, I'll save</span><span s="1361" t="the environment, do the operator of that combination, restore it here. This save--this restore matches that save. And so on."><code onclick="Z(this)">0:22:41</code>the environment, do the operator of that combination, restore it here. This save--this restore matches that save. And so on.</span><span s="1371" t="There&apos;s unev here, which turns out to be completely unnecessary, continues getting bumped around here. The function register is getting, getting saved across"><code onclick="Z(this)">0:22:51</code>There's unev here, which turns out to be completely unnecessary, continues getting bumped around here. The function register is getting, getting saved across</span><span s="1381" t="the first operands, across the operands. All sorts of things are going on. But if you say, well, what of those really were the business of the compiler as opposed to the evaluator, you get rid of"><code onclick="Z(this)">0:23:01</code>the first operands, across the operands. All sorts of things are going on. But if you say, well, what of those really were the business of the compiler as opposed to the evaluator, you get rid of</span><span s="1392" t="a whole bunch. And then on top of that, if you say things like, the evaluation of F doesn&apos;t hurt the environment register, or"><code onclick="Z(this)">0:23:12</code>a whole bunch. And then on top of that, if you say things like, the evaluation of F doesn't hurt the environment register, or</span><span s="1404" t="simply looking up the symbol X, you don&apos;t have to protect the function register against that."><code onclick="Z(this)">0:23:24</code>simply looking up the symbol X, you don't have to protect the function register against that.</span><span s="1414" t="So you come down to just a couple of, a couple of pairs here. And still, you can do a little better. Look what&apos;s going on here with the environment register."><code onclick="Z(this)">0:23:34</code>So you come down to just a couple of, a couple of pairs here. And still, you can do a little better. Look what's going on here with the environment register.</span><span s="1424" t="The environment register comes along and says, oh, here&apos;s a combination."><code onclick="Z(this)">0:23:44</code>The environment register comes along and says, oh, here's a combination.</span><span s="1434" t="This evaluator, by the way, doesn&apos;t know anything about G. So here it says, so it says, I&apos;d better save the environment register, because evaluating G might be some"><code onclick="Z(this)">0:23:54</code>This evaluator, by the way, doesn't know anything about G. So here it says, so it says, I'd better save the environment register, because evaluating G might be some</span><span s="1445" t="arbitrary piece of code that would trash it, and I&apos;m going to need it later, after this argument, for doing the second argument."><code onclick="Z(this)">0:24:05</code>arbitrary piece of code that would trash it, and I'm going to need it later, after this argument, for doing the second argument.</span><span s="1455" t="So that&apos;s why this one didn&apos;t go away, because the compiler made no assumptions about what G would do. On the other hand, if you look at what the second argument"><code onclick="Z(this)">0:24:15</code>So that's why this one didn't go away, because the compiler made no assumptions about what G would do. On the other hand, if you look at what the second argument</span><span s="1466" t="is, that&apos;s just looking up one. That doesn&apos;t need this environment register. So there&apos;s no reason to save it. So in fact, you can get rid of that one, too."><code onclick="Z(this)">0:24:26</code>is, that's just looking up one. That doesn't need this environment register. So there's no reason to save it. So in fact, you can get rid of that one, too.</span><span s="1475" t="And from this whole pile of, of register operations, if you simply do a little bit of reasoning like that, you get down to, I think, just two pairs of saves and restores."><code onclick="Z(this)">0:24:35</code>And from this whole pile of, of register operations, if you simply do a little bit of reasoning like that, you get down to, I think, just two pairs of saves and restores.</span><span s="1485" t="And those, in fact, could go away further if you, if you knew something about G."><code onclick="Z(this)">0:24:45</code>And those, in fact, could go away further if you, if you knew something about G.</span><span s="1496" t="So again, the general idea is that the reason the compiler can be better is that the interpreter doesn&apos;t know what it&apos;s about to encounter. It has to be maximally pessimistic in saving things"><code onclick="Z(this)">0:24:56</code>So again, the general idea is that the reason the compiler can be better is that the interpreter doesn't know what it's about to encounter. It has to be maximally pessimistic in saving things</span><span s="1505" t="to protect itself. The compiler only has to deal with what actually had to be saved. And there are two reasons that something might"><code onclick="Z(this)">0:25:05</code>to protect itself. The compiler only has to deal with what actually had to be saved. And there are two reasons that something might</span><span s="1515" t="not have to be saved. One is that what you&apos;re protecting it against, in fact, didn&apos;t trash the register, like it was just a variable look-up."><code onclick="Z(this)">0:25:15</code>not have to be saved. One is that what you're protecting it against, in fact, didn't trash the register, like it was just a variable look-up.</span><span s="1524" t="And the other one is, that the thing that you were saving it for might turn out not to actually need it. So those are the two basic pieces of knowledge that the"><code onclick="Z(this)">0:25:24</code>And the other one is, that the thing that you were saving it for might turn out not to actually need it. So those are the two basic pieces of knowledge that the</span><span s="1534" t="compiler can take advantage of in making the code more efficient."><code onclick="Z(this)">0:25:34</code>compiler can take advantage of in making the code more efficient.</span><span s="1544" t="Let&apos;s break for questions. AUDIENCE: You kept saying that the uneval register, unev"><code onclick="Z(this)">0:25:44</code>Let's break for questions. AUDIENCE: You kept saying that the uneval register, unev</span><span s="1554" t="register didn&apos;t need to be used at all. Does that mean that you could just map a six-register machine? Or is that, in this particular example, it didn&apos;t need to be used? PROFESSOR: For the compiler, you could generate code for"><code onclick="Z(this)">0:25:54</code>register didn't need to be used at all. Does that mean that you could just map a six-register machine? Or is that, in this particular example, it didn't need to be used? PROFESSOR: For the compiler, you could generate code for</span><span s="1565" t="the six-register, five, right? Because that exp goes away also. Assuming--yeah, you can get rid of both exp and unev,"><code onclick="Z(this)">0:26:05</code>the six-register, five, right? Because that exp goes away also. Assuming--yeah, you can get rid of both exp and unev,</span><span s="1574" t="because, see, those are data structures of the evaluator. Those are all things that would be constants from the point of view of the compiler. The only thing is this particular compiler is set up"><code onclick="Z(this)">0:26:14</code>because, see, those are data structures of the evaluator. Those are all things that would be constants from the point of view of the compiler. The only thing is this particular compiler is set up</span><span s="1584" t="so that interpreted code and compiled code can coexist. So the way to think about it is, is maybe you build a chip"><code onclick="Z(this)">0:26:24</code>so that interpreted code and compiled code can coexist. So the way to think about it is, is maybe you build a chip</span><span s="1594" t="which is the evaluator, and what the compiler might do is generate code for that chip. It just wouldn&apos;t use two of the registers."><code onclick="Z(this)">0:26:34</code>which is the evaluator, and what the compiler might do is generate code for that chip. It just wouldn't use two of the registers.</span><span s="1611" t="All right, let&apos;s take a break. [MUSIC PLAYING]"><code onclick="Z(this)">0:26:51</code>All right, let's take a break. [MUSIC PLAYING]</span><span s="1648" t="We just looked at what the compiler is supposed to do. Now let&apos;s very briefly look at how, how this gets accomplished."><code onclick="Z(this)">0:27:28</code>We just looked at what the compiler is supposed to do. Now let's very briefly look at how, how this gets accomplished.</span><span s="1658" t="And I&apos;m going to give no details. There&apos;s, there&apos;s a giant pile of code in the book that gives all the details. But what I want to do is just show you the, the essential idea here."><code onclick="Z(this)">0:27:38</code>And I'm going to give no details. There's, there's a giant pile of code in the book that gives all the details. But what I want to do is just show you the, the essential idea here.</span><span s="1669" t="Worry about the details some other time. Let&apos;s imagine that we&apos;re compiling an expression that looks like there&apos;s some operator, and there are two arguments."><code onclick="Z(this)">0:27:49</code>Worry about the details some other time. Let's imagine that we're compiling an expression that looks like there's some operator, and there are two arguments.</span><span s="1683" t="Now, the-- what&apos;s the code that the compiler should generate? Well, first of all, it should recursively go off and compile"><code onclick="Z(this)">0:28:03</code>Now, the-- what's the code that the compiler should generate? Well, first of all, it should recursively go off and compile</span><span s="1692" t="the operator. So it says, I&apos;ll compile the operator."><code onclick="Z(this)">0:28:12</code>the operator. So it says, I'll compile the operator.</span><span s="1701" t="And where I&apos;m going to need that is to be in the function register, eventually. So I&apos;ll compile some instructions that will compile"><code onclick="Z(this)">0:28:21</code>And where I'm going to need that is to be in the function register, eventually. So I'll compile some instructions that will compile</span><span s="1710" t="the operator and end up with the result in the function register."><code onclick="Z(this)">0:28:30</code>the operator and end up with the result in the function register.</span><span s="1725" t="The next thing it&apos;s going to do, another piece is to say, well, I have to compile the first argument."><code onclick="Z(this)">0:28:45</code>The next thing it's going to do, another piece is to say, well, I have to compile the first argument.</span><span s="1735" t="So it calls itself recursively. And let&apos;s say the result will go into val."><code onclick="Z(this)">0:28:55</code>So it calls itself recursively. And let's say the result will go into val.</span><span s="1749" t="And then what it&apos;s going to need to do is start setting up the argument list. So it&apos;ll say, assign to argl cons of"><code onclick="Z(this)">0:29:09</code>And then what it's going to need to do is start setting up the argument list. So it'll say, assign to argl cons of</span><span s="1765" t="fetch-- so it generates this literal instruction-- fetch of val onto empty list."><code onclick="Z(this)">0:29:25</code>fetch-- so it generates this literal instruction-- fetch of val onto empty list.</span><span s="1775" t="However, it might have to work-- when it gets here, it&apos;s going to need the environment. It&apos;s going to need whatever environment was here in order"><code onclick="Z(this)">0:29:35</code>However, it might have to work-- when it gets here, it's going to need the environment. It's going to need whatever environment was here in order</span><span s="1785" t="to do this evaluation of the first argument. So it has to ensure that the compilation of this operand,"><code onclick="Z(this)">0:29:45</code>to do this evaluation of the first argument. So it has to ensure that the compilation of this operand,</span><span s="1794" t="or it has to protect the function register against whatever might happen in the compilation of this operand. So it puts a note here and says, oh, this piece should be"><code onclick="Z(this)">0:29:54</code>or it has to protect the function register against whatever might happen in the compilation of this operand. So it puts a note here and says, oh, this piece should be</span><span s="1804" t="done preserving the environment register."><code onclick="Z(this)">0:30:04</code>done preserving the environment register.</span><span s="1817" t="Similarly, here, after it gets done compiling the first operand, it&apos;s going to say, I better compile-- I&apos;m going to need to know the environment"><code onclick="Z(this)">0:30:17</code>Similarly, here, after it gets done compiling the first operand, it's going to say, I better compile-- I'm going to need to know the environment</span><span s="1826" t="for the second operand. So it puts a little note here, saying, yeah, this is also done preserving env. Now it goes on and says, well, the"><code onclick="Z(this)">0:30:26</code>for the second operand. So it puts a little note here, saying, yeah, this is also done preserving env. Now it goes on and says, well, the</span><span s="1841" t="next chunk of code is the one that&apos;s going to compile the second argument."><code onclick="Z(this)">0:30:41</code>next chunk of code is the one that's going to compile the second argument.</span><span s="1850" t="And let&apos;s say it&apos;ll compile it with a targeted to val, as they say."><code onclick="Z(this)">0:30:50</code>And let's say it'll compile it with a targeted to val, as they say.</span><span s="1863" t="And then it&apos;ll generate the literal instruction, building up the argument list. So it&apos;ll say, assign to argl cons of"><code onclick="Z(this)">0:31:03</code>And then it'll generate the literal instruction, building up the argument list. So it'll say, assign to argl cons of</span><span s="1880" t="the new value it just got onto the old argument list."><code onclick="Z(this)">0:31:20</code>the new value it just got onto the old argument list.</span><span s="1894" t="However, in order to have the old argument list, it better have arranged that the argument list didn&apos;t get trashed by whatever happened in here."><code onclick="Z(this)">0:31:34</code>However, in order to have the old argument list, it better have arranged that the argument list didn't get trashed by whatever happened in here.</span><span s="1903" t="So it puts a little note here and says, oh, this has to be done preserving argl."><code onclick="Z(this)">0:31:43</code>So it puts a little note here and says, oh, this has to be done preserving argl.</span><span s="1914" t="Now it&apos;s got the argument list set up. And it&apos;s all ready to go to apply dispatch."><code onclick="Z(this)">0:31:54</code>Now it's got the argument list set up. And it's all ready to go to apply dispatch.</span><span s="1926" t="It generates this literal instruction. Because now it&apos;s got the arguments in argl and the"><code onclick="Z(this)">0:32:06</code>It generates this literal instruction. Because now it's got the arguments in argl and the</span><span s="1939" t="operator in fun, but wait, it&apos;s only got the operator in fun if it had ensured that this block of code didn&apos;t trash what was in the function register."><code onclick="Z(this)">0:32:19</code>operator in fun, but wait, it's only got the operator in fun if it had ensured that this block of code didn't trash what was in the function register.</span><span s="1949" t="So it puts a little note here and says, oh, yes, all this stuff here had better be done preserving"><code onclick="Z(this)">0:32:29</code>So it puts a little note here and says, oh, yes, all this stuff here had better be done preserving</span><span s="1959" t="the function register. So that&apos;s the little--so when it starts ticking--so basically, what the compiler does is append a whole bunch"><code onclick="Z(this)">0:32:39</code>the function register. So that's the little--so when it starts ticking--so basically, what the compiler does is append a whole bunch</span><span s="1971" t="of code sequences. See, what it&apos;s got in it is little primitive pieces of things, like how to look up a symbol, how to do a"><code onclick="Z(this)">0:32:51</code>of code sequences. See, what it's got in it is little primitive pieces of things, like how to look up a symbol, how to do a</span><span s="1981" t="conditional. Those are all little pieces of things. And then it appends them together in this sort of discipline. So the basic means of combining things is to append"><code onclick="Z(this)">0:33:01</code>conditional. Those are all little pieces of things. And then it appends them together in this sort of discipline. So the basic means of combining things is to append</span><span s="1991" t="two code sequences."><code onclick="Z(this)">0:33:11</code>two code sequences.</span><span s="2001" t="That&apos;s what&apos;s going on here. And it&apos;s a little bit tricky. The idea is that it appends two code sequences, taking"><code onclick="Z(this)">0:33:21</code>That's what's going on here. And it's a little bit tricky. The idea is that it appends two code sequences, taking</span><span s="2012" t="care to preserve a register. So the actual append operation looks like this. What it wants to do is say, if--"><code onclick="Z(this)">0:33:32</code>care to preserve a register. So the actual append operation looks like this. What it wants to do is say, if--</span><span s="2021" t="here&apos;s what it means to append two code sequences. So if sequence one needs register--"><code onclick="Z(this)">0:33:41</code>here's what it means to append two code sequences. So if sequence one needs register--</span><span s="2033" t="I should change this. Append sequence one to sequence two, preserving some register."><code onclick="Z(this)">0:33:53</code>I should change this. Append sequence one to sequence two, preserving some register.</span><span s="2048" t="Let me say, and. So it&apos;s clear that sequence one comes first. So if sequence two needs the register and sequence one"><code onclick="Z(this)">0:34:08</code>Let me say, and. So it's clear that sequence one comes first. So if sequence two needs the register and sequence one</span><span s="2066" t="modifies the register, then the instructions that the"><code onclick="Z(this)">0:34:26</code>modifies the register, then the instructions that the</span><span s="2075" t="compiler spits out are, save the register. Here&apos;s the code."><code onclick="Z(this)">0:34:35</code>compiler spits out are, save the register. Here's the code.</span><span s="2084" t="You generate this code. Save the register, and then you put out the recursively compiled stuff for sequence one."><code onclick="Z(this)">0:34:44</code>You generate this code. Save the register, and then you put out the recursively compiled stuff for sequence one.</span><span s="2093" t="And then you restore the register. And then you put out the recursively compiled stuff for"><code onclick="Z(this)">0:34:53</code>And then you restore the register. And then you put out the recursively compiled stuff for</span><span s="2104" t="sequence two. That&apos;s in the case where you need to do it. Sequence two actually needs the register, and sequence one actually clobbers it."><code onclick="Z(this)">0:35:04</code>sequence two. That's in the case where you need to do it. Sequence two actually needs the register, and sequence one actually clobbers it.</span><span s="2115" t="So that&apos;s sort of if. Otherwise, all you spit out is sequence one followed by"><code onclick="Z(this)">0:35:15</code>So that's sort of if. Otherwise, all you spit out is sequence one followed by</span><span s="2125" t="sequence two. So that&apos;s the basic operation for sticking together these bits of code fragments, these bits of"><code onclick="Z(this)">0:35:25</code>sequence two. So that's the basic operation for sticking together these bits of code fragments, these bits of</span><span s="2134" t="instructions into a sequence. And you see, from this point of view, the difference between the interpreter and the compiler, in some sense,"><code onclick="Z(this)">0:35:34</code>instructions into a sequence. And you see, from this point of view, the difference between the interpreter and the compiler, in some sense,</span><span s="2146" t="is that where the compiler has these preserving notes, and says, maybe I&apos;ll actually generate the saves and restores and maybe I won&apos;t, the interpreter being"><code onclick="Z(this)">0:35:46</code>is that where the compiler has these preserving notes, and says, maybe I'll actually generate the saves and restores and maybe I won't, the interpreter being</span><span s="2156" t="maximally pessimistic always has a save and restore here. That&apos;s the essential difference. Well, in order to do this, of course, the compiler needs"><code onclick="Z(this)">0:35:56</code>maximally pessimistic always has a save and restore here. That's the essential difference. Well, in order to do this, of course, the compiler needs</span><span s="2167" t="some theory of what code sequences need and modifier registers. So the tiny little fragments that you put in, like the"><code onclick="Z(this)">0:36:07</code>some theory of what code sequences need and modifier registers. So the tiny little fragments that you put in, like the</span><span s="2177" t="basic primitive code fragments, say, what are the operations that you do when you look up a variable?"><code onclick="Z(this)">0:36:17</code>basic primitive code fragments, say, what are the operations that you do when you look up a variable?</span><span s="2187" t="What are the sequence of things that you do when you compile a constant or apply a function? Those have little notations in there about what they need and what they modify."><code onclick="Z(this)">0:36:27</code>What are the sequence of things that you do when you compile a constant or apply a function? Those have little notations in there about what they need and what they modify.</span><span s="2198" t="So the bottom-level data structures-- Well, I&apos;ll say this. A code sequence to the compiler looks like this."><code onclick="Z(this)">0:36:38</code>So the bottom-level data structures-- Well, I'll say this. A code sequence to the compiler looks like this.</span><span s="2208" t="It has the actual sequence of instructions. And then, along with it, there&apos;s the set"><code onclick="Z(this)">0:36:48</code>It has the actual sequence of instructions. And then, along with it, there's the set</span><span s="2220" t="of registers modified."><code onclick="Z(this)">0:37:00</code>of registers modified.</span><span s="2230" t="And then there&apos;s the set of registers needed."><code onclick="Z(this)">0:37:10</code>And then there's the set of registers needed.</span><span s="2239" t="So that&apos;s the information the compiler has that it draws on in order to be able to do this operation."><code onclick="Z(this)">0:37:19</code>So that's the information the compiler has that it draws on in order to be able to do this operation.</span><span s="2249" t="And where do those come from? Well, those come from, you might expect, for the very primitive ones, we&apos;re going to put them in by hand. And then, when we combine two sequences, we&apos;ll figure out"><code onclick="Z(this)">0:37:29</code>And where do those come from? Well, those come from, you might expect, for the very primitive ones, we're going to put them in by hand. And then, when we combine two sequences, we'll figure out</span><span s="2259" t="what these things should be. So for example, a very primitive one, let&apos;s see."><code onclick="Z(this)">0:37:39</code>what these things should be. So for example, a very primitive one, let's see.</span><span s="2268" t="How about doing a register assignment. So a primitive sequence might say, oh, it&apos;s code fragment. Its code instruction is assigned to R1, fetch of R2."><code onclick="Z(this)">0:37:48</code>How about doing a register assignment. So a primitive sequence might say, oh, it's code fragment. Its code instruction is assigned to R1, fetch of R2.</span><span s="2283" t="So this is an example. That might be an example of a sequence of instructions. And along with that, it&apos;ll say, oh, what I need to"><code onclick="Z(this)">0:38:03</code>So this is an example. That might be an example of a sequence of instructions. And along with that, it'll say, oh, what I need to</span><span s="2293" t="remember is that that modifies R1, and then it needs R2."><code onclick="Z(this)">0:38:13</code>remember is that that modifies R1, and then it needs R2.</span><span s="2304" t="So when you&apos;re first building this compiler, you put in little fragments of stuff like that. And now, when it combines two sequences, if I&apos;m going to"><code onclick="Z(this)">0:38:24</code>So when you're first building this compiler, you put in little fragments of stuff like that. And now, when it combines two sequences, if I'm going to</span><span s="2317" t="combine, let&apos;s say, sequence one, that modifies a bunch of registers M1, and needs a bunch of registers N1."><code onclick="Z(this)">0:38:37</code>combine, let's say, sequence one, that modifies a bunch of registers M1, and needs a bunch of registers N1.</span><span s="2334" t="And I&apos;m going to combine that with sequence two. That modifies a bunch of registers M2, and needs a"><code onclick="Z(this)">0:38:54</code>And I'm going to combine that with sequence two. That modifies a bunch of registers M2, and needs a</span><span s="2347" t="bunch of registers N2. Then, well, we can reason it out. The new code fragment, sequence one, and--"><code onclick="Z(this)">0:39:07</code>bunch of registers N2. Then, well, we can reason it out. The new code fragment, sequence one, and--</span><span s="2360" t="followed by sequence two, well, what&apos;s it going to modify? The things that it will modify are the things that are"><code onclick="Z(this)">0:39:20</code>followed by sequence two, well, what's it going to modify? The things that it will modify are the things that are</span><span s="2369" t="modified either by sequence one or sequence two. So the union of these two sets are what"><code onclick="Z(this)">0:39:29</code>modified either by sequence one or sequence two. So the union of these two sets are what</span><span s="2378" t="the new thing modifies. And then you say, well, what is this--what registers is it going to need?"><code onclick="Z(this)">0:39:38</code>the new thing modifies. And then you say, well, what is this--what registers is it going to need?</span><span s="2387" t="It&apos;s going to need the things that are, first of all, needed by sequence one. So what it needs is sequence one. And then, well, not quite all of the ones that are needed by"><code onclick="Z(this)">0:39:47</code>It's going to need the things that are, first of all, needed by sequence one. So what it needs is sequence one. And then, well, not quite all of the ones that are needed by</span><span s="2398" t="sequence one. What it needs are the ones that are needed by sequence two that have not been set up by sequence one."><code onclick="Z(this)">0:39:58</code>sequence one. What it needs are the ones that are needed by sequence two that have not been set up by sequence one.</span><span s="2408" t="So it&apos;s sort of the union of the things that sequence two needs minus the ones that sequence one modifies."><code onclick="Z(this)">0:40:08</code>So it's sort of the union of the things that sequence two needs minus the ones that sequence one modifies.</span><span s="2419" t="Because it worries about setting them up. So there&apos;s the basic structure of the compiler. The way you do register optimizations is you have some"><code onclick="Z(this)">0:40:19</code>Because it worries about setting them up. So there's the basic structure of the compiler. The way you do register optimizations is you have some</span><span s="2430" t="strategies for what needs to be preserved. That depends on a data structure. Well, it depends on the operation of what it means to put things together."><code onclick="Z(this)">0:40:30</code>strategies for what needs to be preserved. That depends on a data structure. Well, it depends on the operation of what it means to put things together.</span><span s="2439" t="Preserving something, that depends on knowing what registers are needed and modified by these code fragments."><code onclick="Z(this)">0:40:39</code>Preserving something, that depends on knowing what registers are needed and modified by these code fragments.</span><span s="2448" t="That depends on having little data structures, which say, a code sequence is the actual instructions, what they modify and what they need."><code onclick="Z(this)">0:40:48</code>That depends on having little data structures, which say, a code sequence is the actual instructions, what they modify and what they need.</span><span s="2457" t="That comes from, at the primitive level, building it in. At the primitive level, it&apos;s going to be completely obvious what something needs and modifies. Plus, this particular way that says, when I build up bigger"><code onclick="Z(this)">0:40:57</code>That comes from, at the primitive level, building it in. At the primitive level, it's going to be completely obvious what something needs and modifies. Plus, this particular way that says, when I build up bigger</span><span s="2468" t="ones, here&apos;s how I generate the new set of registers modified and the new set of registers needed. And that&apos;s the whole-- well, I shouldn&apos;t say that&apos;s the whole thing."><code onclick="Z(this)">0:41:08</code>ones, here's how I generate the new set of registers modified and the new set of registers needed. And that's the whole-- well, I shouldn't say that's the whole thing.</span><span s="2477" t="That&apos;s the whole thing except for about 30 pages of details in the book. But it is a perfectly usable rudimentary compiler."><code onclick="Z(this)">0:41:17</code>That's the whole thing except for about 30 pages of details in the book. But it is a perfectly usable rudimentary compiler.</span><span s="2488" t="Let me kind of show you what it does. Suppose we start out with recursive factorial. And these slides are going to be much too small to read."><code onclick="Z(this)">0:41:28</code>Let me kind of show you what it does. Suppose we start out with recursive factorial. And these slides are going to be much too small to read.</span><span s="2498" t="I just want to flash through the code and show you about how much it is. That starts out with--here&apos;s a first block of it, where it compiles a procedure entry and does a bunch of assignments."><code onclick="Z(this)">0:41:38</code>I just want to flash through the code and show you about how much it is. That starts out with--here's a first block of it, where it compiles a procedure entry and does a bunch of assignments.</span><span s="2508" t="And this thing is basically up through the part where it sets up to do the predicate and test whether the predicate&apos;s true. The second part is what results from--"><code onclick="Z(this)">0:41:48</code>And this thing is basically up through the part where it sets up to do the predicate and test whether the predicate's true. The second part is what results from--</span><span s="2519" t="in the recursive call to fact of n minus one. And this last part is coming back from that and then taking"><code onclick="Z(this)">0:41:59</code>in the recursive call to fact of n minus one. And this last part is coming back from that and then taking</span><span s="2528" t="care of the constant case. So that&apos;s about how much code it would produce for factorial. We could make this compiler much, much better, of course."><code onclick="Z(this)">0:42:08</code>care of the constant case. So that's about how much code it would produce for factorial. We could make this compiler much, much better, of course.</span><span s="2538" t="The main way we could make it better is to allow the compiler to make any assumptions at all about what happens when you call a procedure. So this compiler, for instance, doesn&apos;t even know,"><code onclick="Z(this)">0:42:18</code>The main way we could make it better is to allow the compiler to make any assumptions at all about what happens when you call a procedure. So this compiler, for instance, doesn't even know,</span><span s="2550" t="say, that multiplication is something that could be coded in line. Instead, it sets up this whole mechanism. It goes to apply-dispatch."><code onclick="Z(this)">0:42:30</code>say, that multiplication is something that could be coded in line. Instead, it sets up this whole mechanism. It goes to apply-dispatch.</span><span s="2561" t="That&apos;s a tremendous waste, because what you do every time you go to apply-dispatch is you have to concept this argument list, because it&apos;s a very general thing you&apos;re going to. In any real compiler, of course, you&apos;re going to have"><code onclick="Z(this)">0:42:41</code>That's a tremendous waste, because what you do every time you go to apply-dispatch is you have to concept this argument list, because it's a very general thing you're going to. In any real compiler, of course, you're going to have</span><span s="2571" t="registers for holding arguments. And you&apos;re going to start preserving and saving the way you use those registers similar to the"><code onclick="Z(this)">0:42:51</code>registers for holding arguments. And you're going to start preserving and saving the way you use those registers similar to the</span><span s="2580" t="same strategy here. So that&apos;s probably the very main way that this particular compiler in the book could be fixed. There are other things like looking up variable values and"><code onclick="Z(this)">0:43:00</code>same strategy here. So that's probably the very main way that this particular compiler in the book could be fixed. There are other things like looking up variable values and</span><span s="2592" t="making more efficient primitive operations and all sorts of things. Essentially, a good Lisp compiler can absorb an arbitrary amount of effort. And probably one of the reasons that Lisp is slow with"><code onclick="Z(this)">0:43:12</code>making more efficient primitive operations and all sorts of things. Essentially, a good Lisp compiler can absorb an arbitrary amount of effort. And probably one of the reasons that Lisp is slow with</span><span s="2603" t="compared to languages like FORTRAN is that, if you look over history at the amount of effort that&apos;s gone into building Lisp compilers, it&apos;s nowhere near the amount of"><code onclick="Z(this)">0:43:23</code>compared to languages like FORTRAN is that, if you look over history at the amount of effort that's gone into building Lisp compilers, it's nowhere near the amount of</span><span s="2612" t="effort that&apos;s gone into FORTRAN compilers. And maybe that&apos;s something that will change over the next couple of years. OK, let&apos;s break."><code onclick="Z(this)">0:43:32</code>effort that's gone into FORTRAN compilers. And maybe that's something that will change over the next couple of years. OK, let's break.</span><span s="2623" t="Questions? AUDIENCE: One of the very first classes-- I don&apos;t know if it was during class or after class- you"><code onclick="Z(this)">0:43:43</code>Questions? AUDIENCE: One of the very first classes-- I don't know if it was during class or after class- you</span><span s="2632" t="showed me the, say, addition has a primitive that we don&apos;t see, and-percent add or something like that. Is that because, if you&apos;re doing inline code you&apos;d want"><code onclick="Z(this)">0:43:52</code>showed me the, say, addition has a primitive that we don't see, and-percent add or something like that. Is that because, if you're doing inline code you'd want</span><span s="2643" t="to just do it for two operators, operands? But if you had more operands, you&apos;d want to do something special?"><code onclick="Z(this)">0:44:03</code>to just do it for two operators, operands? But if you had more operands, you'd want to do something special?</span><span s="2652" t="PROFESSOR: Yeah, you&apos;re looking in the actual scheme implementation. There&apos;s a plus, and a plus is some operator. And then if you go look inside the code for plus, you see something called--"><code onclick="Z(this)">0:44:12</code>PROFESSOR: Yeah, you're looking in the actual scheme implementation. There's a plus, and a plus is some operator. And then if you go look inside the code for plus, you see something called--</span><span s="2661" t="I forget-- and-percent plus or something like that. And what&apos;s going on there is that particular kind of optimization. Because, see, general plus takes an"><code onclick="Z(this)">0:44:21</code>I forget-- and-percent plus or something like that. And what's going on there is that particular kind of optimization. Because, see, general plus takes an</span><span s="2670" t="arbitrary number of arguments. So the most general plus says, oh, if I have an argument list, I&apos;d better cons it up in some list and then figure out"><code onclick="Z(this)">0:44:30</code>arbitrary number of arguments. So the most general plus says, oh, if I have an argument list, I'd better cons it up in some list and then figure out</span><span s="2682" t="how many there were or something like that. That&apos;s terribly inefficient, especially since most of the time you&apos;re probably adding two numbers. You don&apos;t want to really have to cons this argument list. So"><code onclick="Z(this)">0:44:42</code>how many there were or something like that. That's terribly inefficient, especially since most of the time you're probably adding two numbers. You don't want to really have to cons this argument list. So</span><span s="2692" t="what you&apos;d like to do is build the code for plus with a bunch of entries. So most of what it&apos;s doing is the same. However, there might be a special entry that you&apos;d go to"><code onclick="Z(this)">0:44:52</code>what you'd like to do is build the code for plus with a bunch of entries. So most of what it's doing is the same. However, there might be a special entry that you'd go to</span><span s="2702" t="if you knew there were only two arguments. And those you&apos;ll put in registers. They won&apos;t be in an argument list and you won&apos;t have to [UNINTELLIGIBLE]. That&apos;s how a lot of these things work."><code onclick="Z(this)">0:45:02</code>if you knew there were only two arguments. And those you'll put in registers. They won't be in an argument list and you won't have to [UNINTELLIGIBLE]. That's how a lot of these things work.</span><span s="2712" t="OK, let&apos;s take a break. [MUSIC PLAYING]"><code onclick="Z(this)">0:45:12</code>OK, let's take a break. [MUSIC PLAYING]</span></div><div class="eventlist" side="R" vid="2s2_FAf-yQs"><h5><code onclick="Z(this)">0:00:00</code>Lecture 10B | MIT 6.001 Structure and Interpretation, 1986</h5><span s="0" t=" [MUSIC-- &quot;JESU, JOY OF MAN&apos;S DESIRING&quot; BY JOHANN SEBASTIAN BACH]"><code onclick="Z(this)">0:00:00</code> [MUSIC-- "JESU, JOY OF MAN'S DESIRING" BY JOHANN SEBASTIAN BACH]</span><span s="18" t="PROFESSOR: Well, there&apos;s one bit of mystery left, which I&apos;d like to get rid of right now. And that&apos;s that we&apos;ve been blithely doing things like"><code onclick="Z(this)">0:00:18</code>PROFESSOR: Well, there's one bit of mystery left, which I'd like to get rid of right now. And that's that we've been blithely doing things like</span><span s="28" t="cons assuming there&apos;s always another one. That we&apos;ve been doing these things like car-ing and"><code onclick="Z(this)">0:00:28</code>cons assuming there's always another one. That we've been doing these things like car-ing and</span><span s="37" t="cdr-ing and assuming that we had some idea how this can be done. Now indeed we said that that&apos;s equivalent to having procedures. But that doesn&apos;t really solve the problem, because the"><code onclick="Z(this)">0:00:37</code>cdr-ing and assuming that we had some idea how this can be done. Now indeed we said that that's equivalent to having procedures. But that doesn't really solve the problem, because the</span><span s="48" t="procedure need all sorts of complicated mechanisms like environment structures and things like that to work. And those were ultimately made out of conses in the model that we had, so that really doesn&apos;t solve the problem."><code onclick="Z(this)">0:00:48</code>procedure need all sorts of complicated mechanisms like environment structures and things like that to work. And those were ultimately made out of conses in the model that we had, so that really doesn't solve the problem.</span><span s="59" t="Now the problem here is the glue the data structure&apos;s made out of. What kind of possible thing could it be? We&apos;ve been showing you things like a machine, a computer"><code onclick="Z(this)">0:00:59</code>Now the problem here is the glue the data structure's made out of. What kind of possible thing could it be? We've been showing you things like a machine, a computer</span><span s="71" t="that has a controller, and some registers, and maybe a stack. And we haven&apos;t said anything about, for example, larger memory."><code onclick="Z(this)">0:01:11</code>that has a controller, and some registers, and maybe a stack. And we haven't said anything about, for example, larger memory.</span><span s="80" t="And I think that&apos;s what we have to worry about right now. But just to make it perfectly clear that this is an inessential, purely implementational thing, I&apos;d"><code onclick="Z(this)">0:01:20</code>And I think that's what we have to worry about right now. But just to make it perfectly clear that this is an inessential, purely implementational thing, I'd</span><span s="91" t="like to show you, for example, how you can do it all with the numbers. That&apos;s an easy one. Famous fellow by the name of Godel, a logician at the end"><code onclick="Z(this)">0:01:31</code>like to show you, for example, how you can do it all with the numbers. That's an easy one. Famous fellow by the name of Godel, a logician at the end</span><span s="105" t="of the 1930s, invented a very clever way of encoding the complicated expressions as numbers."><code onclick="Z(this)">0:01:45</code>of the 1930s, invented a very clever way of encoding the complicated expressions as numbers.</span><span s="114" t="For example-- I&apos;m not saying exactly what Godel&apos;s scheme is, because he didn&apos;t use words like cons. He had other kinds of ways of combining to make expressions."><code onclick="Z(this)">0:01:54</code>For example-- I'm not saying exactly what Godel's scheme is, because he didn't use words like cons. He had other kinds of ways of combining to make expressions.</span><span s="123" t="But he said, I&apos;m going to assign a number to every algebraic expression. And the way I&apos;m going to manufacture these numbers is by combining the numbers of the parts."><code onclick="Z(this)">0:02:03</code>But he said, I'm going to assign a number to every algebraic expression. And the way I'm going to manufacture these numbers is by combining the numbers of the parts.</span><span s="132" t="So for example, what we were doing our world, we could say that if objects are represented by numbers, then"><code onclick="Z(this)">0:02:12</code>So for example, what we were doing our world, we could say that if objects are represented by numbers, then</span><span s="154" t="cons of x and y could be represented by 2 to the x times 2 to the y."><code onclick="Z(this)">0:02:34</code>cons of x and y could be represented by 2 to the x times 2 to the y.</span><span s="166" t="Because then we could extract the parts. We could say, for example, that then car of, say, x is"><code onclick="Z(this)">0:02:46</code>Because then we could extract the parts. We could say, for example, that then car of, say, x is</span><span s="177" t="the number of factors of 2 in x."><code onclick="Z(this)">0:02:57</code>the number of factors of 2 in x.</span><span s="186" t="And of course cdr is the same thing. It&apos;s the number of factors of 3 in x."><code onclick="Z(this)">0:03:06</code>And of course cdr is the same thing. It's the number of factors of 3 in x.</span><span s="196" t="Now this is a perfectly reasonable scheme, except for the fact that the numbers rapidly get to be much larger in number of digits than the number of"><code onclick="Z(this)">0:03:16</code>Now this is a perfectly reasonable scheme, except for the fact that the numbers rapidly get to be much larger in number of digits than the number of</span><span s="205" t="protons in the universe. So there&apos;s no easy way to use this scheme other than the theoretical one. On the other hand, there are other ways of representing"><code onclick="Z(this)">0:03:25</code>protons in the universe. So there's no easy way to use this scheme other than the theoretical one. On the other hand, there are other ways of representing</span><span s="217" t="these things. We have been thinking in terms of little boxes. We&apos;ve been thinking about our cons structures as looking"><code onclick="Z(this)">0:03:37</code>these things. We have been thinking in terms of little boxes. We've been thinking about our cons structures as looking</span><span s="227" t="sort of like this. They&apos;re little pigeon holes with things in them. And of course we arrange them in little trees."><code onclick="Z(this)">0:03:47</code>sort of like this. They're little pigeon holes with things in them. And of course we arrange them in little trees.</span><span s="237" t="I wish that the semiconductor manufacturers would supply me with something appropriate for this, but actually what they do supply me with is a linear memory."><code onclick="Z(this)">0:03:57</code>I wish that the semiconductor manufacturers would supply me with something appropriate for this, but actually what they do supply me with is a linear memory.</span><span s="249" t="Memory is sort of a big pile of pigeonholes, pigeonholes like this. Each of which can hold a certain sized object, a fixed"><code onclick="Z(this)">0:04:09</code>Memory is sort of a big pile of pigeonholes, pigeonholes like this. Each of which can hold a certain sized object, a fixed</span><span s="261" t="size object. So, for example, a complicated list with 25 elements won&apos;t fit in one of these. However, each of these is indexed by an address."><code onclick="Z(this)">0:04:21</code>size object. So, for example, a complicated list with 25 elements won't fit in one of these. However, each of these is indexed by an address.</span><span s="273" t="So the address might be zero here, one here, two here, three here, and so on. That we write these down as numbers is unimportant. What matters is that they&apos;re distinct as a way to get to"><code onclick="Z(this)">0:04:33</code>So the address might be zero here, one here, two here, three here, and so on. That we write these down as numbers is unimportant. What matters is that they're distinct as a way to get to</span><span s="282" t="the next one. And inside of each of these, we can stuff something into these pigeonholes. That&apos;s what memory is like, for those of you who haven&apos;t"><code onclick="Z(this)">0:04:42</code>the next one. And inside of each of these, we can stuff something into these pigeonholes. That's what memory is like, for those of you who haven't</span><span s="292" t="built a computer. Now the problem is how are we going to impose on this type of structure, this nice tree structure."><code onclick="Z(this)">0:04:52</code>built a computer. Now the problem is how are we going to impose on this type of structure, this nice tree structure.</span><span s="303" t="Well it&apos;s not very hard, and there have been numerous schemes involved in this. The most important one is to say, well assuming that the semiconductor manufacturer allows me to arrange my memory"><code onclick="Z(this)">0:05:03</code>Well it's not very hard, and there have been numerous schemes involved in this. The most important one is to say, well assuming that the semiconductor manufacturer allows me to arrange my memory</span><span s="313" t="so that one of these pigeonholes is big enough to hold the address of another I haven&apos;t made. Now it actually has to be a little bit bigger because I"><code onclick="Z(this)">0:05:13</code>so that one of these pigeonholes is big enough to hold the address of another I haven't made. Now it actually has to be a little bit bigger because I</span><span s="323" t="have to also install or store some information as to a tag which describes the kind of thing that&apos;s there. And we&apos;ll see that in a second."><code onclick="Z(this)">0:05:23</code>have to also install or store some information as to a tag which describes the kind of thing that's there. And we'll see that in a second.</span><span s="332" t="And of course if the semiconductor manufacturer doesn&apos;t arrange it so I can do that, then of course I can, with some cleverness, arrange combinations of these to fit together in that way."><code onclick="Z(this)">0:05:32</code>And of course if the semiconductor manufacturer doesn't arrange it so I can do that, then of course I can, with some cleverness, arrange combinations of these to fit together in that way.</span><span s="343" t="So we&apos;re going to have to imagine imposing this complicated tree structure on our nice linear memory. If we look at the first still store, we see a classic scheme"><code onclick="Z(this)">0:05:43</code>So we're going to have to imagine imposing this complicated tree structure on our nice linear memory. If we look at the first still store, we see a classic scheme</span><span s="357" t="for doing that. It&apos;s a standard way of representing Lisp structures in a linear memory. What we do is we divide this memory into two parts."><code onclick="Z(this)">0:05:57</code>for doing that. It's a standard way of representing Lisp structures in a linear memory. What we do is we divide this memory into two parts.</span><span s="372" t="An array called the cars, and an array called the cdrs. Now whether those happen to be sequential addresses or whatever, it&apos;s not important."><code onclick="Z(this)">0:06:12</code>An array called the cars, and an array called the cdrs. Now whether those happen to be sequential addresses or whatever, it's not important.</span><span s="382" t="That&apos;s somebody&apos;s implementation details. But there are two arrays here. Linear arrays indexed by sequential indices like this."><code onclick="Z(this)">0:06:22</code>That's somebody's implementation details. But there are two arrays here. Linear arrays indexed by sequential indices like this.</span><span s="394" t="What is stored in each of these pigeonholes is a typed object. And what we have here are types which begin with letters"><code onclick="Z(this)">0:06:34</code>What is stored in each of these pigeonholes is a typed object. And what we have here are types which begin with letters</span><span s="404" t="like p, standing for a pair. Or n, standing for a number. Or e, standing for an empty list. The end of the list. And"><code onclick="Z(this)">0:06:44</code>like p, standing for a pair. Or n, standing for a number. Or e, standing for an empty list. The end of the list. And</span><span s="417" t="so if we wish to represent an object like this, the list beginning with 1, 2 and then having a 3 and a 4 as its second and third elements."><code onclick="Z(this)">0:06:57</code>so if we wish to represent an object like this, the list beginning with 1, 2 and then having a 3 and a 4 as its second and third elements.</span><span s="426" t="A list containing a list as its first part and then two numbers as a second and third parts. Then of course we draw it sort of like this these days, in"><code onclick="Z(this)">0:07:06</code>A list containing a list as its first part and then two numbers as a second and third parts. Then of course we draw it sort of like this these days, in</span><span s="435" t="box-and-pointer notation. And you see, these are the three cells that have as their car pointer the object which is either 1, 2 or 3 or 4."><code onclick="Z(this)">0:07:15</code>box-and-pointer notation. And you see, these are the three cells that have as their car pointer the object which is either 1, 2 or 3 or 4.</span><span s="448" t="And then of course the 1, 2, the car of this entire structure, is itself a substructure which contains a sublist like that. What I&apos;m about to do is put down places which are--"><code onclick="Z(this)">0:07:28</code>And then of course the 1, 2, the car of this entire structure, is itself a substructure which contains a sublist like that. What I'm about to do is put down places which are--</span><span s="459" t="I&apos;m going to assign indices. Like this 1, over here, represents the index of this cell."><code onclick="Z(this)">0:07:39</code>I'm going to assign indices. Like this 1, over here, represents the index of this cell.</span><span s="469" t="But that pointer that we see here is a reference to the pair of pigeonholes in the cars and the cdrs that are labeled by 1 in my linear memory down here."><code onclick="Z(this)">0:07:49</code>But that pointer that we see here is a reference to the pair of pigeonholes in the cars and the cdrs that are labeled by 1 in my linear memory down here.</span><span s="482" t="So if I wish to impose this structure on my linear memory, what I do is I say, oh yes, why don&apos;t we drop this into cell 1?"><code onclick="Z(this)">0:08:02</code>So if I wish to impose this structure on my linear memory, what I do is I say, oh yes, why don't we drop this into cell 1?</span><span s="492" t="I pick one. There&apos;s 1. And that says that its car, I&apos;m going to assign it to be a pair. It&apos;s a pair, which is in index 5."><code onclick="Z(this)">0:08:12</code>I pick one. There's 1. And that says that its car, I'm going to assign it to be a pair. It's a pair, which is in index 5.</span><span s="502" t="And the cdr, which is this one over here, is a pair which I&apos;m going to stick into place 2. p2. And take a look at p2."><code onclick="Z(this)">0:08:22</code>And the cdr, which is this one over here, is a pair which I'm going to stick into place 2. p2. And take a look at p2.</span><span s="512" t="Oh yes, well p2 is a thing whose car is the number 3, so as you see, an n3. And whose cdr, over here, is a pair, which lives in place 4."><code onclick="Z(this)">0:08:32</code>Oh yes, well p2 is a thing whose car is the number 3, so as you see, an n3. And whose cdr, over here, is a pair, which lives in place 4.</span><span s="526" t="So that&apos;s what this p4 is. p4 is a number whose value is 4 in its car and whose cdr is"><code onclick="Z(this)">0:08:46</code>So that's what this p4 is. p4 is a number whose value is 4 in its car and whose cdr is</span><span s="536" t="an empty list right there. And that ends it. So this is the traditional way of representing this kind of"><code onclick="Z(this)">0:08:56</code>an empty list right there. And that ends it. So this is the traditional way of representing this kind of</span><span s="545" t="binary tree in a linear memory. Now the next question, of course, that we might want to"><code onclick="Z(this)">0:09:05</code>binary tree in a linear memory. Now the next question, of course, that we might want to</span><span s="555" t="worry about is just a little bit of implementation. That means that when I write procedures of the form assigned a, [UNINTELLIGIBLE] procedures--"><code onclick="Z(this)">0:09:15</code>worry about is just a little bit of implementation. That means that when I write procedures of the form assigned a, [UNINTELLIGIBLE] procedures--</span><span s="564" t="lines of register machine code of the form assigned a, the car of [UNINTELLIGIBLE] b, what I really mean is addressing these elements."><code onclick="Z(this)">0:09:24</code>lines of register machine code of the form assigned a, the car of [UNINTELLIGIBLE] b, what I really mean is addressing these elements.</span><span s="578" t="And so we&apos;re going to think of that as a abbreviation for it. Now of course in order to write that down I&apos;m going to introduce some sort of a structure called a vector."><code onclick="Z(this)">0:09:38</code>And so we're going to think of that as a abbreviation for it. Now of course in order to write that down I'm going to introduce some sort of a structure called a vector.</span><span s="592" t="And we&apos;re going to have something which will reference a vector, just so we can write it down. Which takes the name of the vector, or the--"><code onclick="Z(this)">0:09:52</code>And we're going to have something which will reference a vector, just so we can write it down. Which takes the name of the vector, or the--</span><span s="602" t="I don&apos;t think that name is the right word. Which takes the vector and the index, and I have to have a"><code onclick="Z(this)">0:10:02</code>I don't think that name is the right word. Which takes the vector and the index, and I have to have a</span><span s="612" t="way of setting one of those with something called a vector set, I don&apos;t really care. But let&apos;s look, for example, at then that kind of implementation of car and cdr."><code onclick="Z(this)">0:10:12</code>way of setting one of those with something called a vector set, I don't really care. But let's look, for example, at then that kind of implementation of car and cdr.</span><span s="626" t="So for example if I happen to have a register b, which contains the type index of a pair, and therefore it is the"><code onclick="Z(this)">0:10:26</code>So for example if I happen to have a register b, which contains the type index of a pair, and therefore it is the</span><span s="637" t="pointer to a pair, then I could take the car of that and if I-- write this down-- I might put that in register a. What that really is is a representation of the assign"><code onclick="Z(this)">0:10:37</code>pointer to a pair, then I could take the car of that and if I-- write this down-- I might put that in register a. What that really is is a representation of the assign</span><span s="649" t="to a, the value of vector reffing-- or array indexing, if you will-- or something, the cars object--"><code onclick="Z(this)">0:10:49</code>to a, the value of vector reffing-- or array indexing, if you will-- or something, the cars object--</span><span s="658" t="whatever that is-- with the index, b. And similarly for cdr. And we can do the same thing for assignment to data structures, if we need to do that sort of"><code onclick="Z(this)">0:10:58</code>whatever that is-- with the index, b. And similarly for cdr. And we can do the same thing for assignment to data structures, if we need to do that sort of</span><span s="670" t="thing at all. It&apos;s not too hard to build that. Well now the next question is how are we going to do allocation. And every so often I say I want a cons."><code onclick="Z(this)">0:11:10</code>thing at all. It's not too hard to build that. Well now the next question is how are we going to do allocation. And every so often I say I want a cons.</span><span s="681" t="Now conses don&apos;t grow on trees. Or maybe they should. But I have to have some way of getting the next one. I have to have some idea of if their memory is unused that I"><code onclick="Z(this)">0:11:21</code>Now conses don't grow on trees. Or maybe they should. But I have to have some way of getting the next one. I have to have some idea of if their memory is unused that I</span><span s="693" t="might want to allocate from. And there are many schemes for doing this. And the particular thing I&apos;m showing you right now is not essential."><code onclick="Z(this)">0:11:33</code>might want to allocate from. And there are many schemes for doing this. And the particular thing I'm showing you right now is not essential.</span><span s="702" t="However it&apos;s convenient and has been done many times. One scheme&apos;s was called the free list allocation scheme. What that means is that all of the free memory that there is in the world is linked together in a linked list,"><code onclick="Z(this)">0:11:42</code>However it's convenient and has been done many times. One scheme's was called the free list allocation scheme. What that means is that all of the free memory that there is in the world is linked together in a linked list,</span><span s="714" t="just like all the other stuff. And whenever you need a free cell to make a new cons, you grab the first, one make the free list be the cdr of it,"><code onclick="Z(this)">0:11:54</code>just like all the other stuff. And whenever you need a free cell to make a new cons, you grab the first, one make the free list be the cdr of it,</span><span s="724" t="and then allocate that. And so what that looks like is something like this. Here we have the free list starting in 6."><code onclick="Z(this)">0:12:04</code>and then allocate that. And so what that looks like is something like this. Here we have the free list starting in 6.</span><span s="738" t="And what that is is a pointer-off to say 8. So what it says is, this one is free and the"><code onclick="Z(this)">0:12:18</code>And what that is is a pointer-off to say 8. So what it says is, this one is free and the</span><span s="747" t="next one is an 8. This one is free and the next one is in 3, the next one that&apos;s free. That one&apos;s free and the next one is in 0."><code onclick="Z(this)">0:12:27</code>next one is an 8. This one is free and the next one is in 3, the next one that's free. That one's free and the next one is in 0.</span><span s="757" t="That one&apos;s free and the next one&apos;s in 15. Something like that. We can imagine having such a structure."><code onclick="Z(this)">0:12:37</code>That one's free and the next one's in 15. Something like that. We can imagine having such a structure.</span><span s="766" t="Given that we have something like that, then it&apos;s possible to just get one when you need it. And so a program for doing cons, this is what"><code onclick="Z(this)">0:12:46</code>Given that we have something like that, then it's possible to just get one when you need it. And so a program for doing cons, this is what</span><span s="777" t="cons might turn into. To assign to a register A the result of cons-ing, a B onto C, the value in this containing B and the value"><code onclick="Z(this)">0:12:57</code>cons might turn into. To assign to a register A the result of cons-ing, a B onto C, the value in this containing B and the value</span><span s="788" t="containing C, what we have to do is get the current [? type ?] ahead of the freelist, make the free list be its cdr. Then we have to change the cars to be the"><code onclick="Z(this)">0:13:08</code>containing C, what we have to do is get the current [? type ?] ahead of the freelist, make the free list be its cdr. Then we have to change the cars to be the</span><span s="799" t="thing we&apos;re making up to be in A to be the B, the thing in B. And we have to make change the cdrs of the thing that&apos;s in A"><code onclick="Z(this)">0:13:19</code>thing we're making up to be in A to be the B, the thing in B. And we have to make change the cdrs of the thing that's in A</span><span s="810" t="to be C. And then what we have in A is the right new frob, whatever it is. The object that we want."><code onclick="Z(this)">0:13:30</code>to be C. And then what we have in A is the right new frob, whatever it is. The object that we want.</span><span s="820" t="Now there&apos;s a little bit of a cheat here that I haven&apos;t told you about, which is somewhere around here I haven&apos;t set that I&apos;ve the type of the thing that I&apos;m cons-ing up to be a"><code onclick="Z(this)">0:13:40</code>Now there's a little bit of a cheat here that I haven't told you about, which is somewhere around here I haven't set that I've the type of the thing that I'm cons-ing up to be a</span><span s="831" t="pair, and I ought to. So there should be some sort of bits here are being set, and I just haven&apos;t written that down. We could have arranged it, of course, for the free lift to"><code onclick="Z(this)">0:13:51</code>pair, and I ought to. So there should be some sort of bits here are being set, and I just haven't written that down. We could have arranged it, of course, for the free lift to</span><span s="841" t="be made out of pairs. And so then there&apos;s no problem with that. But that sort of-- again, an inessential detail in a way"><code onclick="Z(this)">0:14:01</code>be made out of pairs. And so then there's no problem with that. But that sort of-- again, an inessential detail in a way</span><span s="850" t="some particular programmer or architect or whatever might manufacture his machine or Lisp system. So for example, just looking at this, to allocate given"><code onclick="Z(this)">0:14:10</code>some particular programmer or architect or whatever might manufacture his machine or Lisp system. So for example, just looking at this, to allocate given</span><span s="863" t="that I had already the structure that you saw before, supposing I wanted to allocate a new cell, which is going to be representation of list one, one, two, where already one"><code onclick="Z(this)">0:14:23</code>that I had already the structure that you saw before, supposing I wanted to allocate a new cell, which is going to be representation of list one, one, two, where already one</span><span s="878" t="two was the car of the list we were playing with before. Well that&apos;s not so hard. I stored that one and one, so p1 one is the"><code onclick="Z(this)">0:14:38</code>two was the car of the list we were playing with before. Well that's not so hard. I stored that one and one, so p1 one is the</span><span s="887" t="representation of this. This is p5. That&apos;s going to be the cdr of this. Now we&apos;re going to pull something off the free list, but remember the free list started at six."><code onclick="Z(this)">0:14:47</code>representation of this. This is p5. That's going to be the cdr of this. Now we're going to pull something off the free list, but remember the free list started at six.</span><span s="897" t="The new free list after this allocation is eight, a free list beginning at eight. And of course in six now we have a number one, which is"><code onclick="Z(this)">0:14:57</code>The new free list after this allocation is eight, a free list beginning at eight. And of course in six now we have a number one, which is</span><span s="906" t="what we wanted, with its cdr being the pair starting in location five. And that&apos;s no big deal."><code onclick="Z(this)">0:15:06</code>what we wanted, with its cdr being the pair starting in location five. And that's no big deal.</span><span s="916" t="So the only problem really remaining here is, well, I don&apos;t have an infinitely large memory."><code onclick="Z(this)">0:15:16</code>So the only problem really remaining here is, well, I don't have an infinitely large memory.</span><span s="925" t="If I do this for a little while, say, for example, supposing it takes me a microsecond to do a cons, and I have a million cons memory then I&apos;m only going to run out"><code onclick="Z(this)">0:15:25</code>If I do this for a little while, say, for example, supposing it takes me a microsecond to do a cons, and I have a million cons memory then I'm only going to run out</span><span s="934" t="in a second, and that&apos;s pretty bad. So what we do to prevent that disaster, that ecological disaster, talk about right after questions."><code onclick="Z(this)">0:15:34</code>in a second, and that's pretty bad. So what we do to prevent that disaster, that ecological disaster, talk about right after questions.</span><span s="944" t="Are there any questions? Yes. AUDIENCE: In the environment diagrams that we were drawing"><code onclick="Z(this)">0:15:44</code>Are there any questions? Yes. AUDIENCE: In the environment diagrams that we were drawing</span><span s="954" t="we would use the body of procedures, and you would eventually wind up with things that were no longer useful in that structure."><code onclick="Z(this)">0:15:54</code>we would use the body of procedures, and you would eventually wind up with things that were no longer useful in that structure.</span><span s="964" t="How is that represented? PROFESSOR: There&apos;s two problems here. One you were asking is that material becomes useless."><code onclick="Z(this)">0:16:04</code>How is that represented? PROFESSOR: There's two problems here. One you were asking is that material becomes useless.</span><span s="973" t="We&apos;ll talk about that in a second. That has to do with how to prevent ecological disasters. If I make a lot of garbage I have to somehow be able to clean up after myself. And we&apos;ll talk about that in a second."><code onclick="Z(this)">0:16:13</code>We'll talk about that in a second. That has to do with how to prevent ecological disasters. If I make a lot of garbage I have to somehow be able to clean up after myself. And we'll talk about that in a second.</span><span s="983" t="The other question you&apos;re asking is how you represent the environments, I think. AUDIENCE: Yes. PROFESSOR: OK. And the environment structures can be represented in arbitrary ways. There are lots of them. I mean, here I&apos;m just telling you about list cells."><code onclick="Z(this)">0:16:23</code>The other question you're asking is how you represent the environments, I think. AUDIENCE: Yes. PROFESSOR: OK. And the environment structures can be represented in arbitrary ways. There are lots of them. I mean, here I'm just telling you about list cells.</span><span s="993" t="Of course every real system has vectors of arbitrary length as well as the vectors of length, too, which represent list cells. And the environment structures that one uses in a"><code onclick="Z(this)">0:16:33</code>Of course every real system has vectors of arbitrary length as well as the vectors of length, too, which represent list cells. And the environment structures that one uses in a</span><span s="1005" t="professionally written Lisp system tend to be vectors which contain a number of elements approximately equal to the number of arguments-- a little bit more because you"><code onclick="Z(this)">0:16:45</code>professionally written Lisp system tend to be vectors which contain a number of elements approximately equal to the number of arguments-- a little bit more because you</span><span s="1016" t="need certain glue. So remember, the environment [UNINTELLIGIBLE] frames. The frames are constructed by applying a procedure. In doing so, an allocation is made of a place which is the"><code onclick="Z(this)">0:16:56</code>need certain glue. So remember, the environment [UNINTELLIGIBLE] frames. The frames are constructed by applying a procedure. In doing so, an allocation is made of a place which is the</span><span s="1028" t="number of arguments long plus [? unglue ?] that gets linked into a chain. It&apos;s just like algol at that level."><code onclick="Z(this)">0:17:08</code>number of arguments long plus [? unglue ?] that gets linked into a chain. It's just like algol at that level.</span><span s="1039" t="There any other questions? OK. Thank you, and let&apos;s take a short break. [MUSIC-- &quot;JESU, JOY OF MAN&apos;S DESIRING&quot; BY JOHANN SEBASTIAN BACH]"><code onclick="Z(this)">0:17:19</code>There any other questions? OK. Thank you, and let's take a short break. [MUSIC-- "JESU, JOY OF MAN'S DESIRING" BY JOHANN SEBASTIAN BACH]</span><span s="1092" t="PROFESSOR: Well, as I just said, computer memories supplied by the semiconductor manufacturers are finite. And that&apos;s quite a pity."><code onclick="Z(this)">0:18:12</code>PROFESSOR: Well, as I just said, computer memories supplied by the semiconductor manufacturers are finite. And that's quite a pity.</span><span s="1101" t="It might not always be that way. Just for a quick calculation, you can see that it&apos;s possible that if [? memory ?] prices keep going at the rate they&apos;re going that if you"><code onclick="Z(this)">0:18:21</code>It might not always be that way. Just for a quick calculation, you can see that it's possible that if [? memory ?] prices keep going at the rate they're going that if you</span><span s="1112" t="still took a microsecond second to do a cons, then-- first of all, everybody should know that there&apos;s about pi times ten to the seventh seconds in a year. And so that would be ten to the seventh plus ten to the"><code onclick="Z(this)">0:18:32</code>still took a microsecond second to do a cons, then-- first of all, everybody should know that there's about pi times ten to the seventh seconds in a year. And so that would be ten to the seventh plus ten to the</span><span s="1122" t="sixth is ten to the thirteenth. So there&apos;s maybe ten to the fourteenth conses in the life of a machine. If there was ten to the fourteenth words of memory on your machine, you&apos;d never run out."><code onclick="Z(this)">0:18:42</code>sixth is ten to the thirteenth. So there's maybe ten to the fourteenth conses in the life of a machine. If there was ten to the fourteenth words of memory on your machine, you'd never run out.</span><span s="1134" t="And that&apos;s not completely unreasonable. Ten to the fourteenth is not a very large number."><code onclick="Z(this)">0:18:54</code>And that's not completely unreasonable. Ten to the fourteenth is not a very large number.</span><span s="1143" t="I don&apos;t think it is. But then again I like to play with astronomy. It&apos;s at least ten to the eighteenth centimeters between us and the nearest star."><code onclick="Z(this)">0:19:03</code>I don't think it is. But then again I like to play with astronomy. It's at least ten to the eighteenth centimeters between us and the nearest star.</span><span s="1152" t="But the thing I&apos;m about to worry about is, at least in the current economic state of affairs, ten to the fourteenth"><code onclick="Z(this)">0:19:12</code>But the thing I'm about to worry about is, at least in the current economic state of affairs, ten to the fourteenth</span><span s="1162" t="pieces of memory is expensive. And so I suppose what we have to do is make do with much smaller. Memories Now in general we want to have an illusion of infinity."><code onclick="Z(this)">0:19:22</code>pieces of memory is expensive. And so I suppose what we have to do is make do with much smaller. Memories Now in general we want to have an illusion of infinity.</span><span s="1175" t="All we need to do is arrange it so that whenever you look, the thing is there. That&apos;s really an important idea."><code onclick="Z(this)">0:19:35</code>All we need to do is arrange it so that whenever you look, the thing is there. That's really an important idea.</span><span s="1189" t="A person or a computer lives only a finite amount of time and can only take a finite number of looks at something. And so you really only need a finite amount of stuff."><code onclick="Z(this)">0:19:49</code>A person or a computer lives only a finite amount of time and can only take a finite number of looks at something. And so you really only need a finite amount of stuff.</span><span s="1198" t="But you have to arrange it so no matter how much there is, how much you really claim there is, there&apos;s always enough stuff so that when you take a look, it&apos;s there. And so you only need a finite amount."><code onclick="Z(this)">0:19:58</code>But you have to arrange it so no matter how much there is, how much you really claim there is, there's always enough stuff so that when you take a look, it's there. And so you only need a finite amount.</span><span s="1208" t="But let&apos;s see. One problem is, as was brought up, that there are possible ways that there is lots of stuff that we make that we"><code onclick="Z(this)">0:20:08</code>But let's see. One problem is, as was brought up, that there are possible ways that there is lots of stuff that we make that we</span><span s="1218" t="don&apos;t need. And we could recycle the material out of which its made. An example is the fact that we&apos;re building environment"><code onclick="Z(this)">0:20:18</code>don't need. And we could recycle the material out of which its made. An example is the fact that we're building environment</span><span s="1227" t="structures, and we do so every time we call a procedure. We have built in it a environment frame. That environment frame doesn&apos;t necessarily have a very long lifetime."><code onclick="Z(this)">0:20:27</code>structures, and we do so every time we call a procedure. We have built in it a environment frame. That environment frame doesn't necessarily have a very long lifetime.</span><span s="1236" t="Its lifetime, meaning its usefulness, may exist only over the invocation of the procedure. Or if the procedure exports another procedure by returning"><code onclick="Z(this)">0:20:36</code>Its lifetime, meaning its usefulness, may exist only over the invocation of the procedure. Or if the procedure exports another procedure by returning</span><span s="1245" t="it as a value and that procedure is defined inside of it, well then the lifetime of the frame of the outer procedure still is only the lifetime of the procedure"><code onclick="Z(this)">0:20:45</code>it as a value and that procedure is defined inside of it, well then the lifetime of the frame of the outer procedure still is only the lifetime of the procedure</span><span s="1257" t="which was exported. And so ultimately, a lot of that is garbage. There are other ways of producing garbage as well. Users produce garbage."><code onclick="Z(this)">0:20:57</code>which was exported. And so ultimately, a lot of that is garbage. There are other ways of producing garbage as well. Users produce garbage.</span><span s="1267" t="An example of user garbage is something like this. If we write a program to, for example, append two lists together, well one way to do it is to reverse the first"><code onclick="Z(this)">0:21:07</code>An example of user garbage is something like this. If we write a program to, for example, append two lists together, well one way to do it is to reverse the first</span><span s="1279" t="list onto the empty list and reverse that onto the second list. Now that&apos;s not terribly bad way of doing it."><code onclick="Z(this)">0:21:19</code>list onto the empty list and reverse that onto the second list. Now that's not terribly bad way of doing it.</span><span s="1288" t="And however, the intermediate result, which is the reversal of the first list as done by this program, is never going"><code onclick="Z(this)">0:21:28</code>And however, the intermediate result, which is the reversal of the first list as done by this program, is never going</span><span s="1297" t="to be accessed ever again after it&apos;s copied back on to the second. It&apos;s an intermediate result. It&apos;s going to be hard to ever see how anybody would ever be"><code onclick="Z(this)">0:21:37</code>to be accessed ever again after it's copied back on to the second. It's an intermediate result. It's going to be hard to ever see how anybody would ever be</span><span s="1307" t="able to access it. In fact, it will go away. Now if we make a lot of garbage like that, and we should be allowed to, then there&apos;s got to be some way to"><code onclick="Z(this)">0:21:47</code>able to access it. In fact, it will go away. Now if we make a lot of garbage like that, and we should be allowed to, then there's got to be some way to</span><span s="1316" t="reclaim that garbage. Well, what I&apos;d like to tell you about now is a very clever technique whereby a Lisp system can prove a small"><code onclick="Z(this)">0:21:56</code>reclaim that garbage. Well, what I'd like to tell you about now is a very clever technique whereby a Lisp system can prove a small</span><span s="1329" t="theorem every so often on the [? forum, ?] the following piece of junk will never be accessed again. It can have no affect on the future of the computation."><code onclick="Z(this)">0:22:09</code>theorem every so often on the [? forum, ?] the following piece of junk will never be accessed again. It can have no affect on the future of the computation.</span><span s="1341" t="It&apos;s actually based on a very simple idea. We&apos;ve designed our computers to look sort of like this. There&apos;s some data path, which contains the registers."><code onclick="Z(this)">0:22:21</code>It's actually based on a very simple idea. We've designed our computers to look sort of like this. There's some data path, which contains the registers.</span><span s="1355" t="There are things like x, and env, and val, and so on. And there&apos;s one here called stack, some sort which points"><code onclick="Z(this)">0:22:35</code>There are things like x, and env, and val, and so on. And there's one here called stack, some sort which points</span><span s="1367" t="off to a structure somewhere, which is the stack. And we&apos;ll worry about that in a second. There&apos;s some finite controller, finite state machine controller."><code onclick="Z(this)">0:22:47</code>off to a structure somewhere, which is the stack. And we'll worry about that in a second. There's some finite controller, finite state machine controller.</span><span s="1376" t="And there&apos;s some control signals that go this way and predicate results that come this way, not the interesting part. There&apos;s some sort of structured memory, which I"><code onclick="Z(this)">0:22:56</code>And there's some control signals that go this way and predicate results that come this way, not the interesting part. There's some sort of structured memory, which I</span><span s="1387" t="just told you how to make, which may contain a stack. I didn&apos;t tell you how to make things of arbitrary shape, only pairs. But in fact with what I&apos;ve told you can simulate a stack"><code onclick="Z(this)">0:23:07</code>just told you how to make, which may contain a stack. I didn't tell you how to make things of arbitrary shape, only pairs. But in fact with what I've told you can simulate a stack</span><span s="1396" t="by a big list. I don&apos;t plan to do that, it&apos;s not a nice way to do it. But we could have something like that. We have all sorts of little data structures in here that"><code onclick="Z(this)">0:23:16</code>by a big list. I don't plan to do that, it's not a nice way to do it. But we could have something like that. We have all sorts of little data structures in here that</span><span s="1405" t="are hooked together in funny ways. They connect to other things. And so on. And ultimately things up there are pointers to these."><code onclick="Z(this)">0:23:25</code>are hooked together in funny ways. They connect to other things. And so on. And ultimately things up there are pointers to these.</span><span s="1417" t="The things that are in the registers are pointers off to the data structures that live in this Lisp structure memory. Now the truth of the matter is that the entire consciousness"><code onclick="Z(this)">0:23:37</code>The things that are in the registers are pointers off to the data structures that live in this Lisp structure memory. Now the truth of the matter is that the entire consciousness</span><span s="1432" t="of this machine is in these registers. There is no possible way that the machine, if done correctly, if built correctly, can access anything in this"><code onclick="Z(this)">0:23:52</code>of this machine is in these registers. There is no possible way that the machine, if done correctly, if built correctly, can access anything in this</span><span s="1442" t="Lisp structure memory unless the thing in that Lisp structure memory is connected by a sequence of data structures to the registers."><code onclick="Z(this)">0:24:02</code>Lisp structure memory unless the thing in that Lisp structure memory is connected by a sequence of data structures to the registers.</span><span s="1455" t="If it&apos;s accessible by legitimate data structure selectors from the pointers that are stored in these registers. Things like array references, perhaps."><code onclick="Z(this)">0:24:15</code>If it's accessible by legitimate data structure selectors from the pointers that are stored in these registers. Things like array references, perhaps.</span><span s="1464" t="Or cons cell references, cars and cdrs. But I can&apos;t just talk about a random place in this memory, because I can&apos;t get to it. These are being arbitrary names I&apos;m not allowed to"><code onclick="Z(this)">0:24:24</code>Or cons cell references, cars and cdrs. But I can't just talk about a random place in this memory, because I can't get to it. These are being arbitrary names I'm not allowed to</span><span s="1474" t="count, at least as I&apos;m evaluating expressions. If that&apos;s the case then there&apos;s a very simple theorem"><code onclick="Z(this)">0:24:34</code>count, at least as I'm evaluating expressions. If that's the case then there's a very simple theorem</span><span s="1484" t="to be proved. Which is, if I start with all lead pointers that are in all these registers and recursively chase out, marking"><code onclick="Z(this)">0:24:44</code>to be proved. Which is, if I start with all lead pointers that are in all these registers and recursively chase out, marking</span><span s="1493" t="all the places I can get to by selectors, then eventually I mark everything they can be gotten to. Anything which is not so marked is"><code onclick="Z(this)">0:24:53</code>all the places I can get to by selectors, then eventually I mark everything they can be gotten to. Anything which is not so marked is</span><span s="1502" t="garbage and can be recycled. Very simple. Cannot affect the future of the computation."><code onclick="Z(this)">0:25:02</code>garbage and can be recycled. Very simple. Cannot affect the future of the computation.</span><span s="1511" t="So let me show you that in a particular example. Now that means I&apos;m going to have to append to my description of the list structure a mark."><code onclick="Z(this)">0:25:11</code>So let me show you that in a particular example. Now that means I'm going to have to append to my description of the list structure a mark.</span><span s="1523" t="And so here, for example, is a Lisp structured memory. And in this Lisp structured memory is a Lisp structure beginning in a place I&apos;m going to call--"><code onclick="Z(this)">0:25:23</code>And so here, for example, is a Lisp structured memory. And in this Lisp structured memory is a Lisp structure beginning in a place I'm going to call--</span><span s="1535" t="this is the root. Now it doesn&apos;t really have to have a root. It could be a bunch of them, like all the registers. But I could cleverly arrange it so all the registers, all"><code onclick="Z(this)">0:25:35</code>this is the root. Now it doesn't really have to have a root. It could be a bunch of them, like all the registers. But I could cleverly arrange it so all the registers, all</span><span s="1545" t="the things that are in old registers are also at the right moment put into this root structure, and then we&apos;ve got one pointer to it. I don&apos;t really care."><code onclick="Z(this)">0:25:45</code>the things that are in old registers are also at the right moment put into this root structure, and then we've got one pointer to it. I don't really care.</span><span s="1554" t="So the idea is we&apos;re going to cons up stuff until our free list is empty. We&apos;ve run out of things. Now we&apos;re going to do this process of proving the theorem"><code onclick="Z(this)">0:25:54</code>So the idea is we're going to cons up stuff until our free list is empty. We've run out of things. Now we're going to do this process of proving the theorem</span><span s="1564" t="that a certain percentage of the memory has got crap in it. And then we&apos;re going to recycle that to grow new trees, a standard use of such garbage."><code onclick="Z(this)">0:26:04</code>that a certain percentage of the memory has got crap in it. And then we're going to recycle that to grow new trees, a standard use of such garbage.</span><span s="1577" t="So in any case, what do we have here? Well we have some data structure which starts out over here one."><code onclick="Z(this)">0:26:17</code>So in any case, what do we have here? Well we have some data structure which starts out over here one.</span><span s="1587" t="And in fact it has a car in five, and its cdr is in two. And all the marks start out at zero."><code onclick="Z(this)">0:26:27</code>And in fact it has a car in five, and its cdr is in two. And all the marks start out at zero.</span><span s="1596" t="Well let&apos;s start marking, just to play this game. OK. So for example, since I can access one from the root I"><code onclick="Z(this)">0:26:36</code>Well let's start marking, just to play this game. OK. So for example, since I can access one from the root I</span><span s="1607" t="will mark that. Let me mark it. Bang. That&apos;s marked. Now since I have a five here I can go to five and see, well"><code onclick="Z(this)">0:26:47</code>will mark that. Let me mark it. Bang. That's marked. Now since I have a five here I can go to five and see, well</span><span s="1620" t="I&apos;ll mark that. Bang. That&apos;s useful stuff. But five references as a number in its car, I&apos;m not interested in marking numbers but its cdr is seven. So I can mark that."><code onclick="Z(this)">0:27:00</code>I'll mark that. Bang. That's useful stuff. But five references as a number in its car, I'm not interested in marking numbers but its cdr is seven. So I can mark that.</span><span s="1630" t="Bang. Seven is the empty list, the only thing that references, and it&apos;s got a number in its car. Not interesting."><code onclick="Z(this)">0:27:10</code>Bang. Seven is the empty list, the only thing that references, and it's got a number in its car. Not interesting.</span><span s="1639" t="Well now let&apos;s go back here. I forgot about something. Two. See in other words, if I&apos;m looking at cell one, cell one contains a two right over here."><code onclick="Z(this)">0:27:19</code>Well now let's go back here. I forgot about something. Two. See in other words, if I'm looking at cell one, cell one contains a two right over here.</span><span s="1650" t="A reference to two. That means I should go mark two. Bang. Two contains a reference to four. It&apos;s got a number in its car, I&apos;m not interested in that, so"><code onclick="Z(this)">0:27:30</code>A reference to two. That means I should go mark two. Bang. Two contains a reference to four. It's got a number in its car, I'm not interested in that, so</span><span s="1661" t="I&apos;m going to go mark that. Four refers to seven through its car, and is empty in its cdr, but I&apos;ve already marked that one so I don&apos;t have to mark it again."><code onclick="Z(this)">0:27:41</code>I'm going to go mark that. Four refers to seven through its car, and is empty in its cdr, but I've already marked that one so I don't have to mark it again.</span><span s="1671" t="This is all the accessible structure from that place. Simple recursive mark algorithm. Now there are some unhappinesses about that"><code onclick="Z(this)">0:27:51</code>This is all the accessible structure from that place. Simple recursive mark algorithm. Now there are some unhappinesses about that</span><span s="1681" t="algorithm, and we can worry about that a second. But basically you&apos;ll see that all the things that have not been marked are places that are free, and I could recycle."><code onclick="Z(this)">0:28:01</code>algorithm, and we can worry about that a second. But basically you'll see that all the things that have not been marked are places that are free, and I could recycle.</span><span s="1694" t="So the next stage after that is going to be to scan through all of my memory, looking for things that are not marked. Every time I come across a marked thing I unmark it, and"><code onclick="Z(this)">0:28:14</code>So the next stage after that is going to be to scan through all of my memory, looking for things that are not marked. Every time I come across a marked thing I unmark it, and</span><span s="1703" t="every time I come across an unmarked thing I&apos;m going to link it together in my free list. Classic, very simple algorithm."><code onclick="Z(this)">0:28:23</code>every time I come across an unmarked thing I'm going to link it together in my free list. Classic, very simple algorithm.</span><span s="1712" t="So let&apos;s see. Is that very simple? Yes it is. I&apos;m not going to go through the code in any detail, but I just want to show you about how long it is. Let&apos;s look at the mark phase."><code onclick="Z(this)">0:28:32</code>So let's see. Is that very simple? Yes it is. I'm not going to go through the code in any detail, but I just want to show you about how long it is. Let's look at the mark phase.</span><span s="1722" t="Here&apos;s the first part of the mark phase. We pick up the root. We&apos;re going to use that as a recursive procedure call."><code onclick="Z(this)">0:28:42</code>Here's the first part of the mark phase. We pick up the root. We're going to use that as a recursive procedure call.</span><span s="1732" t="We&apos;re going to sweep from there, after when we&apos;re done with marking. And then we&apos;re going to do a little couple of instructions that do this checking out on the marks and changing the"><code onclick="Z(this)">0:28:52</code>We're going to sweep from there, after when we're done with marking. And then we're going to do a little couple of instructions that do this checking out on the marks and changing the</span><span s="1741" t="marks and things like that, according to the algorithm I&apos;ve just shown you. It comes out here. You have to mark the cars of things and you also have to be able to mark the cdrs of things."><code onclick="Z(this)">0:29:01</code>marks and things like that, according to the algorithm I've just shown you. It comes out here. You have to mark the cars of things and you also have to be able to mark the cdrs of things.</span><span s="1750" t="That&apos;s the entire mark phase. I&apos;ll just tell you a little story about this. The old DEC PDP-6 computer, this was the way that the"><code onclick="Z(this)">0:29:10</code>That's the entire mark phase. I'll just tell you a little story about this. The old DEC PDP-6 computer, this was the way that the</span><span s="1762" t="mark-sweep garbage collection, as it was, was written. The program was so small that with the data that it needed,"><code onclick="Z(this)">0:29:22</code>mark-sweep garbage collection, as it was, was written. The program was so small that with the data that it needed,</span><span s="1771" t="with the registers that it needed to manipulate the memory, it fit into the fast registers of the machine, which were 16. The whole program. And you could execute"><code onclick="Z(this)">0:29:31</code>with the registers that it needed to manipulate the memory, it fit into the fast registers of the machine, which were 16. The whole program. And you could execute</span><span s="1780" t="instructions in the fast registers. So it&apos;s an extremely small program, and it could run very fast. Now unfortunately, of course, this program, because the fact"><code onclick="Z(this)">0:29:40</code>instructions in the fast registers. So it's an extremely small program, and it could run very fast. Now unfortunately, of course, this program, because the fact</span><span s="1793" t="that it&apos;s recursive in the way that you do something first and then you do something after that, you have to work on the cars and then the cdrs, it requires auxiliary memory."><code onclick="Z(this)">0:29:53</code>that it's recursive in the way that you do something first and then you do something after that, you have to work on the cars and then the cdrs, it requires auxiliary memory.</span><span s="1803" t="So Lisp systems-- those requires a stack for marking. Lisp systems that are built this way have a limit to the"><code onclick="Z(this)">0:30:03</code>So Lisp systems-- those requires a stack for marking. Lisp systems that are built this way have a limit to the</span><span s="1812" t="depth of recursion you can have in data structures in either the car or the cdr, and that doesn&apos;t work very nicely. On the other hand, you never notice it if it&apos;s big enough."><code onclick="Z(this)">0:30:12</code>depth of recursion you can have in data structures in either the car or the cdr, and that doesn't work very nicely. On the other hand, you never notice it if it's big enough.</span><span s="1823" t="And that&apos;s certainly been the case for most Maclisp, for example, which ran Macsyma where you could deal with expressions of thousands of elements long."><code onclick="Z(this)">0:30:23</code>And that's certainly been the case for most Maclisp, for example, which ran Macsyma where you could deal with expressions of thousands of elements long.</span><span s="1833" t="These are algebraic expressions with thousand of terms. And there&apos;s no problem with that. Such, the garbage collector does work."><code onclick="Z(this)">0:30:33</code>These are algebraic expressions with thousand of terms. And there's no problem with that. Such, the garbage collector does work.</span><span s="1842" t="On the other hand, there&apos;s a very clever modification to this algorithm, which I will not describe, by Peter Deutsch and Schorr and Waite-- Herb Schorr from IBM and Waite, who I don&apos;t know."><code onclick="Z(this)">0:30:42</code>On the other hand, there's a very clever modification to this algorithm, which I will not describe, by Peter Deutsch and Schorr and Waite-- Herb Schorr from IBM and Waite, who I don't know.</span><span s="1855" t="That algorithm allows you to build-- you do can do this without auxiliary memory, by remembering as you walk the data structures where you came from by reversing the pointers"><code onclick="Z(this)">0:30:55</code>That algorithm allows you to build-- you do can do this without auxiliary memory, by remembering as you walk the data structures where you came from by reversing the pointers</span><span s="1864" t="as you go down and crawling up the reverse pointers as you go up. It&apos;s a rather tricky algorithm. The first time you write it-- or in fact, the first three times you write it it has a terrible bug in it."><code onclick="Z(this)">0:31:04</code>as you go down and crawling up the reverse pointers as you go up. It's a rather tricky algorithm. The first time you write it-- or in fact, the first three times you write it it has a terrible bug in it.</span><span s="1874" t="And it&apos;s also rather slow, because it&apos;s complicated. It takes about six times as many memory references to do the sorts of things that we&apos;re talking about."><code onclick="Z(this)">0:31:14</code>And it's also rather slow, because it's complicated. It takes about six times as many memory references to do the sorts of things that we're talking about.</span><span s="1884" t="Well now once I&apos;ve done this marking phase, and I get into a position where things look like this, let&apos;s look-- yes. Here we have the mark done, just as I did it."><code onclick="Z(this)">0:31:24</code>Well now once I've done this marking phase, and I get into a position where things look like this, let's look-- yes. Here we have the mark done, just as I did it.</span><span s="1895" t="Now we have to perform the sweep phase. And I described to you what this sweep is like. I&apos;m going to walk down from one end of memory or the other, I don&apos;t care where, scanning every cell that&apos;s in"><code onclick="Z(this)">0:31:35</code>Now we have to perform the sweep phase. And I described to you what this sweep is like. I'm going to walk down from one end of memory or the other, I don't care where, scanning every cell that's in</span><span s="1905" t="the memory. And as I scan these cells, I&apos;m going to link them together, if they are free, into the free list. And if they&apos;re not free, I&apos;m going to unmark them so the marks become zero."><code onclick="Z(this)">0:31:45</code>the memory. And as I scan these cells, I'm going to link them together, if they are free, into the free list. And if they're not free, I'm going to unmark them so the marks become zero.</span><span s="1917" t="And in fact what I get-- well the program is not very complicated. It looks sort of like this-- it&apos;s a little longer. Here&apos;s the first piece of it. This one&apos;s coming down from the top of memory."><code onclick="Z(this)">0:31:57</code>And in fact what I get-- well the program is not very complicated. It looks sort of like this-- it's a little longer. Here's the first piece of it. This one's coming down from the top of memory.</span><span s="1926" t="I don&apos;t want you to try to understand this at this point. It&apos;s rather simple. It&apos;s a very simple algorithm, but there&apos;s pieces of it that just sort of look like this."><code onclick="Z(this)">0:32:06</code>I don't want you to try to understand this at this point. It's rather simple. It's a very simple algorithm, but there's pieces of it that just sort of look like this.</span><span s="1935" t="They&apos;re all sort of obvious. And after we&apos;ve done the sweep, we get an answer that looks like that."><code onclick="Z(this)">0:32:15</code>They're all sort of obvious. And after we've done the sweep, we get an answer that looks like that.</span><span s="1945" t="Now there are some disadvantages with mark-sweep algorithms of this sort. Serious ones. One important disadvantage is that your memories get larger"><code onclick="Z(this)">0:32:25</code>Now there are some disadvantages with mark-sweep algorithms of this sort. Serious ones. One important disadvantage is that your memories get larger</span><span s="1954" t="and larger. As you say, address spaces get larger and larger, you&apos;re willing to represent more and more stuff, then it gets very"><code onclick="Z(this)">0:32:34</code>and larger. As you say, address spaces get larger and larger, you're willing to represent more and more stuff, then it gets very</span><span s="1963" t="costly to scan all of memory. What you&apos;d really like to do is only scan useful stuff. It would even be better if you realized that some stuff was"><code onclick="Z(this)">0:32:43</code>costly to scan all of memory. What you'd really like to do is only scan useful stuff. It would even be better if you realized that some stuff was</span><span s="1976" t="known to be good and useful, and you don&apos;t have to look at it more than once or twice. Or very rarely. Whereas other stuff that you&apos;re not so sure about, you"><code onclick="Z(this)">0:32:56</code>known to be good and useful, and you don't have to look at it more than once or twice. Or very rarely. Whereas other stuff that you're not so sure about, you</span><span s="1985" t="can look at more detail every time you want to do this, want to garbage collect. Well there are algorithms that are organized in this way."><code onclick="Z(this)">0:33:05</code>can look at more detail every time you want to do this, want to garbage collect. Well there are algorithms that are organized in this way.</span><span s="1995" t="Let me tell you about a famous old algorithm which allows you only look at the part of memory which is known to be useful. And which happens to be the fastest known garbage"><code onclick="Z(this)">0:33:15</code>Let me tell you about a famous old algorithm which allows you only look at the part of memory which is known to be useful. And which happens to be the fastest known garbage</span><span s="2004" t="collector algorithm. This is the Minsky-Feinchel-Yochelson garbage collector algorithm. It was invented by Minsky in 1961 or &apos;60 or something, for"><code onclick="Z(this)">0:33:24</code>collector algorithm. This is the Minsky-Feinchel-Yochelson garbage collector algorithm. It was invented by Minsky in 1961 or '60 or something, for</span><span s="2016" t="the RLE PDP-1 Lisp, which had 4,096 words of list memory,"><code onclick="Z(this)">0:33:36</code>the RLE PDP-1 Lisp, which had 4,096 words of list memory,</span><span s="2025" t="and a drum. And the whole idea was to garbage collect this terrible memory. What Minsky realized was the easiest way to do this is to"><code onclick="Z(this)">0:33:45</code>and a drum. And the whole idea was to garbage collect this terrible memory. What Minsky realized was the easiest way to do this is to</span><span s="2036" t="scan the memory in the same sense, walking the good structure, copying it out into the drum, compacted."><code onclick="Z(this)">0:33:56</code>scan the memory in the same sense, walking the good structure, copying it out into the drum, compacted.</span><span s="2046" t="And then when we were done copying it all out, then you swap that back into your memory. Now whether or you not use a drum, or another piece of memory, or something like that isn&apos;t important."><code onclick="Z(this)">0:34:06</code>And then when we were done copying it all out, then you swap that back into your memory. Now whether or you not use a drum, or another piece of memory, or something like that isn't important.</span><span s="2057" t="In fact, I don&apos;t think people use drums anymore for anything. But this algorithm basically depends upon having about twice as much address space as you&apos;re actually using."><code onclick="Z(this)">0:34:17</code>In fact, I don't think people use drums anymore for anything. But this algorithm basically depends upon having about twice as much address space as you're actually using.</span><span s="2070" t="And so what you have is some, initially, some mixture of useful data and garbage. So this is called fromspace."><code onclick="Z(this)">0:34:30</code>And so what you have is some, initially, some mixture of useful data and garbage. So this is called fromspace.</span><span s="2085" t="And this is a mixture of crud. Some of it&apos;s important and some of it isn&apos;t. Now there&apos;s another place which is hopefully big enough,"><code onclick="Z(this)">0:34:45</code>And this is a mixture of crud. Some of it's important and some of it isn't. Now there's another place which is hopefully big enough,</span><span s="2095" t="if we recall, tospace, which is where we&apos;re copying to. And what happens is-- and I&apos;m not going to go through this detail."><code onclick="Z(this)">0:34:55</code>if we recall, tospace, which is where we're copying to. And what happens is-- and I'm not going to go through this detail.</span><span s="2104" t="It&apos;s in our book quite explicitly. There&apos;s a root point where you start from. And the idea is that you start with the root."><code onclick="Z(this)">0:35:04</code>It's in our book quite explicitly. There's a root point where you start from. And the idea is that you start with the root.</span><span s="2114" t="You copy the first thing you see, the first thing that the root points at, to the beginning of tospace. The first thing is a pair or something"><code onclick="Z(this)">0:35:14</code>You copy the first thing you see, the first thing that the root points at, to the beginning of tospace. The first thing is a pair or something</span><span s="2124" t="like, a data structure. You then also leave behind a broken heart saying, I moved this object from here to here, giving the place"><code onclick="Z(this)">0:35:24</code>like, a data structure. You then also leave behind a broken heart saying, I moved this object from here to here, giving the place</span><span s="2136" t="where it moved to. This is called a broken heart because a friend of mine who implemented one of these in 1966 was a very romantic character and called it a broken heart."><code onclick="Z(this)">0:35:36</code>where it moved to. This is called a broken heart because a friend of mine who implemented one of these in 1966 was a very romantic character and called it a broken heart.</span><span s="2149" t="But in any case, the next thing you do is now you have a new free pointer which is here, and you start scanning. You scan this data structure you just copied."><code onclick="Z(this)">0:35:49</code>But in any case, the next thing you do is now you have a new free pointer which is here, and you start scanning. You scan this data structure you just copied.</span><span s="2160" t="And every time you encounter a pointer in it, you treat it as if it was the root pointer here. Oh, I&apos;m sorry. The other thing you do is you now move the root pointer to there."><code onclick="Z(this)">0:36:00</code>And every time you encounter a pointer in it, you treat it as if it was the root pointer here. Oh, I'm sorry. The other thing you do is you now move the root pointer to there.</span><span s="2169" t="So now you scan this, and everything you see you treat as it were the root pointer. So if you see something, well it points up into there somewhere."><code onclick="Z(this)">0:36:09</code>So now you scan this, and everything you see you treat as it were the root pointer. So if you see something, well it points up into there somewhere.</span><span s="2178" t="Is it pointing at a thing which you&apos;ve not copied yet? Is there a broken heart there? If there&apos;s a broken heart there and it&apos;s something you have copied, you&apos;ve just replaced this pointer with the"><code onclick="Z(this)">0:36:18</code>Is it pointing at a thing which you've not copied yet? Is there a broken heart there? If there's a broken heart there and it's something you have copied, you've just replaced this pointer with the</span><span s="2187" t="thing a broken heart points at. If this thing has not been copied, you copy it to the next place over here. Move your free pointer over here, and then leave a broken"><code onclick="Z(this)">0:36:27</code>thing a broken heart points at. If this thing has not been copied, you copy it to the next place over here. Move your free pointer over here, and then leave a broken</span><span s="2199" t="heart behind and scan. And eventually when the scant pointer hits the free pointer, everything in memory has been copied."><code onclick="Z(this)">0:36:39</code>heart behind and scan. And eventually when the scant pointer hits the free pointer, everything in memory has been copied.</span><span s="2210" t="And then there&apos;s a whole bunch of empty space up here, which you could either make into a free list, if that&apos;s what you want to do. But generally you don&apos;t in this kind of system. In this system you sequentially allocate your memory."><code onclick="Z(this)">0:36:50</code>And then there's a whole bunch of empty space up here, which you could either make into a free list, if that's what you want to do. But generally you don't in this kind of system. In this system you sequentially allocate your memory.</span><span s="2220" t="That is a very, very nice algorithm, and sort of the one we use in the scheme that you&apos;ve been using. And it&apos;s expected--"><code onclick="Z(this)">0:37:00</code>That is a very, very nice algorithm, and sort of the one we use in the scheme that you've been using. And it's expected--</span><span s="2229" t="I believe no one has found a faster algorithm than that. There are very simple modifications to this algorithm invented by Henry Baker which allow one to run"><code onclick="Z(this)">0:37:09</code>I believe no one has found a faster algorithm than that. There are very simple modifications to this algorithm invented by Henry Baker which allow one to run</span><span s="2239" t="this algorithm in real time, meaning you don&apos;t have to stop to garbage collect. But you could interleave the consing that the machine does when its running with steps of the garbage collection process, so that the garbage collector&apos;s distributed, and"><code onclick="Z(this)">0:37:19</code>this algorithm in real time, meaning you don't have to stop to garbage collect. But you could interleave the consing that the machine does when its running with steps of the garbage collection process, so that the garbage collector's distributed, and</span><span s="2251" t="the machine doesn&apos;t have to stop, and garbage collecting can start. Of course in the case of machines with virtual memory where a lot of it is in inaccessible places, this"><code onclick="Z(this)">0:37:31</code>the machine doesn't have to stop, and garbage collecting can start. Of course in the case of machines with virtual memory where a lot of it is in inaccessible places, this</span><span s="2261" t="becomes a very expensive process. And there have been numerous attempts to make this much better. There is a nice paper, for those of you who are"><code onclick="Z(this)">0:37:41</code>becomes a very expensive process. And there have been numerous attempts to make this much better. There is a nice paper, for those of you who are</span><span s="2272" t="interested, by Moon and other people which describes a modification to the incremental Minsky-Feinchel-Yochelson algorithm, and modification the Baker algorithm which is more efficient for virtual"><code onclick="Z(this)">0:37:52</code>interested, by Moon and other people which describes a modification to the incremental Minsky-Feinchel-Yochelson algorithm, and modification the Baker algorithm which is more efficient for virtual</span><span s="2285" t="memory systems. Well I think now the mystery to this is sort of gone. And I&apos;d like to see if there are any questions."><code onclick="Z(this)">0:38:05</code>memory systems. Well I think now the mystery to this is sort of gone. And I'd like to see if there are any questions.</span><span s="2299" t="Yes. AUDIENCE: I saw one of you run the garbage collector on the systems upstairs, and it seemed to me to run extremely fast. Did the whole thing take--"><code onclick="Z(this)">0:38:19</code>Yes. AUDIENCE: I saw one of you run the garbage collector on the systems upstairs, and it seemed to me to run extremely fast. Did the whole thing take--</span><span s="2310" t="does it sweep through all of memory? PROFESSOR: No. It swept through exactly what was needed to copy the useful structure. It&apos;s a copying collector."><code onclick="Z(this)">0:38:30</code>does it sweep through all of memory? PROFESSOR: No. It swept through exactly what was needed to copy the useful structure. It's a copying collector.</span><span s="2320" t="And it is very fast. On the whole, I suppose to copy-- in a Bobcat-- to copy, I think, a three megabyte thing or something is"><code onclick="Z(this)">0:38:40</code>And it is very fast. On the whole, I suppose to copy-- in a Bobcat-- to copy, I think, a three megabyte thing or something is</span><span s="2332" t="less than a second, real time. Really, these are very small programs. One thing you should realise is that garbage collectors have to be small."><code onclick="Z(this)">0:38:52</code>less than a second, real time. Really, these are very small programs. One thing you should realise is that garbage collectors have to be small.</span><span s="2345" t="Not because they have to be fast, but because no one can debug a complicated garbage collector. A garbage collector, if it doesn&apos;t work, will trash your"><code onclick="Z(this)">0:39:05</code>Not because they have to be fast, but because no one can debug a complicated garbage collector. A garbage collector, if it doesn't work, will trash your</span><span s="2355" t="memory in such a way that you cannot figure out what the hell happened. You need an audit trail. Because it rearranges everything, and how do you know what happened there? So this is the only kind of program that it really,"><code onclick="Z(this)">0:39:15</code>memory in such a way that you cannot figure out what the hell happened. You need an audit trail. Because it rearranges everything, and how do you know what happened there? So this is the only kind of program that it really,</span><span s="2367" t="seriously matters if you stare at it long enough so you believe that it works. And sort of prove it to yourself. So there&apos;s no way to debug it."><code onclick="Z(this)">0:39:27</code>seriously matters if you stare at it long enough so you believe that it works. And sort of prove it to yourself. So there's no way to debug it.</span><span s="2376" t="And that takes it being small enough so you can hold it in your head. Garbage collectors are special in this way."><code onclick="Z(this)">0:39:36</code>And that takes it being small enough so you can hold it in your head. Garbage collectors are special in this way.</span><span s="2385" t="So every reasonable garbage collector has gotten small, and generally small programs are fast. Yes. AUDIENCE: Can you repeat the name of this technique once again?"><code onclick="Z(this)">0:39:45</code>So every reasonable garbage collector has gotten small, and generally small programs are fast. Yes. AUDIENCE: Can you repeat the name of this technique once again?</span><span s="2394" t="PROFESSOR: That&apos;s the Minsky-Feinchel-Yochelson garbage collector. AUDIENCE: You got that? PROFESSOR: Minsky invented it in &apos;61 for the RLE PDP-1. A version of it was developed and elaborated to be used in"><code onclick="Z(this)">0:39:54</code>PROFESSOR: That's the Minsky-Feinchel-Yochelson garbage collector. AUDIENCE: You got that? PROFESSOR: Minsky invented it in '61 for the RLE PDP-1. A version of it was developed and elaborated to be used in</span><span s="2407" t="Multics Maclisp by Feinchel and Yochelson in somewhere around 1968 or &apos;69."><code onclick="Z(this)">0:40:07</code>Multics Maclisp by Feinchel and Yochelson in somewhere around 1968 or '69.</span><span s="2419" t="OK. Let&apos;s take a break. [MUSIC: &quot;JESU, JOY OF MAN&apos;S DESIRING&quot; BY JOHANN SEBASTIAN BACH]"><code onclick="Z(this)">0:40:19</code>OK. Let's take a break. [MUSIC: "JESU, JOY OF MAN'S DESIRING" BY JOHANN SEBASTIAN BACH]</span><span s="2477" t="PROFESSOR: Well we&apos;ve come to the end of this subject, and we&apos;ve already shown you a universal machine which is down to evaluator."><code onclick="Z(this)">0:41:17</code>PROFESSOR: Well we've come to the end of this subject, and we've already shown you a universal machine which is down to evaluator.</span><span s="2486" t="It&apos;s down to the level of detail you could imagine you could make one. This is a particular implementation of Lisp, built on one of those scheme chips that was talked about"><code onclick="Z(this)">0:41:26</code>It's down to the level of detail you could imagine you could make one. This is a particular implementation of Lisp, built on one of those scheme chips that was talked about</span><span s="2497" t="yesterday, sitting over here. This is mostly interface to somebody&apos;s memory with a little bit of timing and other such stuff. But this fellow actually ran Lisp at a fairly reasonable"><code onclick="Z(this)">0:41:37</code>yesterday, sitting over here. This is mostly interface to somebody's memory with a little bit of timing and other such stuff. But this fellow actually ran Lisp at a fairly reasonable</span><span s="2508" t="rate, as interpretive. It ran Lisp as fast as a DEC PDP-10 back in 1979. And so it&apos;s gotten pretty hardware."><code onclick="Z(this)">0:41:48</code>rate, as interpretive. It ran Lisp as fast as a DEC PDP-10 back in 1979. And so it's gotten pretty hardware.</span><span s="2519" t="Pretty concrete. We&apos;ve also downed you a bit with the things you can compute. But is it the case that there are things we can&apos;t compute?"><code onclick="Z(this)">0:41:59</code>Pretty concrete. We've also downed you a bit with the things you can compute. But is it the case that there are things we can't compute?</span><span s="2531" t="And so I&apos;d like to end this with showing you some things that you&apos;d like be able to compute that you can&apos;t. The answer is yes, there are things you can&apos;t compute."><code onclick="Z(this)">0:42:11</code>And so I'd like to end this with showing you some things that you'd like be able to compute that you can't. The answer is yes, there are things you can't compute.</span><span s="2542" t="For example, something you&apos;d really like is-- if you&apos;re writing [UNINTELLIGIBLE], you&apos;d like a program that would check that the thing you&apos;re"><code onclick="Z(this)">0:42:22</code>For example, something you'd really like is-- if you're writing [UNINTELLIGIBLE], you'd like a program that would check that the thing you're</span><span s="2552" t="going to do will work. Wouldn&apos;t that be nice? You&apos;d like something that would catch infinite loops, for example, in programs that were written by users."><code onclick="Z(this)">0:42:32</code>going to do will work. Wouldn't that be nice? You'd like something that would catch infinite loops, for example, in programs that were written by users.</span><span s="2563" t="But in general you can&apos;t write such a program that will read any program and determine whether or not it&apos;s an infinite loop. Let me show you that. It&apos;s a little bit of a minor mathematics."><code onclick="Z(this)">0:42:43</code>But in general you can't write such a program that will read any program and determine whether or not it's an infinite loop. Let me show you that. It's a little bit of a minor mathematics.</span><span s="2578" t="Let&apos;s imagine that we just had a mathematical function before we start. And there is one, called s, which takes a procedure and"><code onclick="Z(this)">0:42:58</code>Let's imagine that we just had a mathematical function before we start. And there is one, called s, which takes a procedure and</span><span s="2592" t="its argument, a. And what s does is it determines whether or not it&apos;s"><code onclick="Z(this)">0:43:12</code>its argument, a. And what s does is it determines whether or not it's</span><span s="2604" t="safe to run p on a. And what I mean by that is this: it&apos;s true if p applied"><code onclick="Z(this)">0:43:24</code>safe to run p on a. And what I mean by that is this: it's true if p applied</span><span s="2614" t="to a will converge to a value without an error."><code onclick="Z(this)">0:43:34</code>to a will converge to a value without an error.</span><span s="2632" t="And it&apos;s false if p of a loops forever or makes an error."><code onclick="Z(this)">0:43:52</code>And it's false if p of a loops forever or makes an error.</span><span s="2655" t="Now that&apos;s surely a function. There is some for every procedure and for every argument you could give it that is either true or false"><code onclick="Z(this)">0:44:15</code>Now that's surely a function. There is some for every procedure and for every argument you could give it that is either true or false</span><span s="2665" t="that it converges without making an error. And you could make a giant table of them. But the question is, can you write a procedure that compute"><code onclick="Z(this)">0:44:25</code>that it converges without making an error. And you could make a giant table of them. But the question is, can you write a procedure that compute</span><span s="2674" t="the values of this function? Well let&apos;s assume that we can. Suppose that we have a procedure called &quot;safe&quot; that"><code onclick="Z(this)">0:44:34</code>the values of this function? Well let's assume that we can. Suppose that we have a procedure called "safe" that</span><span s="2698" t="computes the value of s."><code onclick="Z(this)">0:44:58</code>computes the value of s.</span><span s="2712" t="Now I&apos;m going to show you by several methods that you can&apos;t do this. The easiest one, or the first one, let&apos;s define a procedure"><code onclick="Z(this)">0:45:12</code>Now I'm going to show you by several methods that you can't do this. The easiest one, or the first one, let's define a procedure</span><span s="2722" t="called diag1. Given that we have safe, we can define diag1 to be the"><code onclick="Z(this)">0:45:22</code>called diag1. Given that we have safe, we can define diag1 to be the</span><span s="2738" t="procedure of one argument, p, which has the following properties. If if it&apos;s safe to apply p to itself, then I wish to have an"><code onclick="Z(this)">0:45:38</code>procedure of one argument, p, which has the following properties. If if it's safe to apply p to itself, then I wish to have an</span><span s="2754" t="infinite loop. Otherwise I&apos;m going to return 3."><code onclick="Z(this)">0:45:54</code>infinite loop. Otherwise I'm going to return 3.</span><span s="2763" t="Remember it was 42. What&apos;s the answer to the big question? Where of course we know what an infinite loop is."><code onclick="Z(this)">0:46:03</code>Remember it was 42. What's the answer to the big question? Where of course we know what an infinite loop is.</span><span s="2772" t="Infinite loop, to be a procedure of no arguments, which is that nice lambda calculus loop. Lambda of x, x of x, applied to lambda of x, x of x."><code onclick="Z(this)">0:46:12</code>Infinite loop, to be a procedure of no arguments, which is that nice lambda calculus loop. Lambda of x, x of x, applied to lambda of x, x of x.</span><span s="2784" t="So there&apos;s nothing left to the imagination here. Well let&apos;s see what the story is. I&apos;m supposing it&apos;s the case that we worry about the"><code onclick="Z(this)">0:46:24</code>So there's nothing left to the imagination here. Well let's see what the story is. I'm supposing it's the case that we worry about the</span><span s="2798" t="procedure called diag1 applied to diag1. Well what could it possibly be?"><code onclick="Z(this)">0:46:38</code>procedure called diag1 applied to diag1. Well what could it possibly be?</span><span s="2809" t="Well I don&apos;t know. We&apos;re going to substitute diag1 for p in the body here. Well is it safe to compute diag1 of diag1?"><code onclick="Z(this)">0:46:49</code>Well I don't know. We're going to substitute diag1 for p in the body here. Well is it safe to compute diag1 of diag1?</span><span s="2820" t="I don&apos;t know. There are two possibilities. If it&apos;s safe to compute diag1 of diag1 that means it shouldn&apos;t loop. That means I go to here, but then I"><code onclick="Z(this)">0:47:00</code>I don't know. There are two possibilities. If it's safe to compute diag1 of diag1 that means it shouldn't loop. That means I go to here, but then I</span><span s="2829" t="produce an infinite loop. So it can&apos;t be safe. But if it&apos;s not safe to compute diag1 of diag1 then the answer to this is 3. But that&apos;s diag1 of diag1, so it had to be safe."><code onclick="Z(this)">0:47:09</code>produce an infinite loop. So it can't be safe. But if it's not safe to compute diag1 of diag1 then the answer to this is 3. But that's diag1 of diag1, so it had to be safe.</span><span s="2840" t="So therefore by contradiction you cannot produce safe. For those of you who were boggled by that one I&apos;m going"><code onclick="Z(this)">0:47:20</code>So therefore by contradiction you cannot produce safe. For those of you who were boggled by that one I'm going</span><span s="2850" t="to say it again, in a different way. Listen to one more alternative. Let&apos;s define diag2."><code onclick="Z(this)">0:47:30</code>to say it again, in a different way. Listen to one more alternative. Let's define diag2.</span><span s="2859" t="These are named diag because of Cantor&apos;s diagonal argument. These are instances of a famous argument which was"><code onclick="Z(this)">0:47:39</code>These are named diag because of Cantor's diagonal argument. These are instances of a famous argument which was</span><span s="2868" t="originally used by Cantor in the late part of the last century to prove that the real numbers were not countable, that there are too many real numbers to"><code onclick="Z(this)">0:47:48</code>originally used by Cantor in the late part of the last century to prove that the real numbers were not countable, that there are too many real numbers to</span><span s="2878" t="be counted by integers. That there are more points on a line, for example, than there are counting numbers. It may or may not be obvious, and I don&apos;t want to"><code onclick="Z(this)">0:47:58</code>be counted by integers. That there are more points on a line, for example, than there are counting numbers. It may or may not be obvious, and I don't want to</span><span s="2887" t="get into that now. But diag2 is again a procedure of one argument p. It&apos;s almost the same as the previous one, which is, if"><code onclick="Z(this)">0:48:07</code>get into that now. But diag2 is again a procedure of one argument p. It's almost the same as the previous one, which is, if</span><span s="2899" t="it&apos;s safe to compute p on p, then I&apos;m going to produce--"><code onclick="Z(this)">0:48:19</code>it's safe to compute p on p, then I'm going to produce--</span><span s="2909" t="then I want to compute some other things other than p of p."><code onclick="Z(this)">0:48:29</code>then I want to compute some other things other than p of p.</span><span s="2918" t="Otherwise I&apos;m going to put out false. Where other then it says, whatever p of p, I&apos;m going to put out something else."><code onclick="Z(this)">0:48:38</code>Otherwise I'm going to put out false. Where other then it says, whatever p of p, I'm going to put out something else.</span><span s="2928" t="I can give you an example of a definition of other than which I think works. Let&apos;s see. Yes. Where other than be a procedure of one argument x"><code onclick="Z(this)">0:48:48</code>I can give you an example of a definition of other than which I think works. Let's see. Yes. Where other than be a procedure of one argument x</span><span s="2946" t="which says, if its eq x to, say, quote a, then the answer is quote b."><code onclick="Z(this)">0:49:06</code>which says, if its eq x to, say, quote a, then the answer is quote b.</span><span s="2955" t="Otherwise it&apos;s quote a. That always produces something which is not what its argument is."><code onclick="Z(this)">0:49:15</code>Otherwise it's quote a. That always produces something which is not what its argument is.</span><span s="2965" t="That&apos;s all it is. That&apos;s all I wanted. Well now let&apos;s consider this one, diag2 of diag2."><code onclick="Z(this)">0:49:25</code>That's all it is. That's all I wanted. Well now let's consider this one, diag2 of diag2.</span><span s="2978" t="Well look. This only does something dangerous, like calling p of p, if it&apos;s safe to do so."><code onclick="Z(this)">0:49:38</code>Well look. This only does something dangerous, like calling p of p, if it's safe to do so.</span><span s="2987" t="So if safe defined at all, if you can define such a procedure, safe, then this procedure is always defined and therefore safe on any inputs."><code onclick="Z(this)">0:49:47</code>So if safe defined at all, if you can define such a procedure, safe, then this procedure is always defined and therefore safe on any inputs.</span><span s="3001" t="So diag2 of diag2 must reduce to other than diag2 of diag2."><code onclick="Z(this)">0:50:01</code>So diag2 of diag2 must reduce to other than diag2 of diag2.</span><span s="3015" t="And that doesn&apos;t make sense, so we have a contradiction, and therefore we can&apos;t define safe. I just waned to do that twice, slightly differently, so you"><code onclick="Z(this)">0:50:15</code>And that doesn't make sense, so we have a contradiction, and therefore we can't define safe. I just waned to do that twice, slightly differently, so you</span><span s="3027" t="wouldn&apos;t feel that the first one was a trick. They may be both tricks, but they&apos;re at least slightly different."><code onclick="Z(this)">0:50:27</code>wouldn't feel that the first one was a trick. They may be both tricks, but they're at least slightly different.</span><span s="3037" t="So I suppose that pretty much wraps it up. I&apos;ve just proved what we call the halting theorem, and I suppose with that we&apos;re going to halt."><code onclick="Z(this)">0:50:37</code>So I suppose that pretty much wraps it up. I've just proved what we call the halting theorem, and I suppose with that we're going to halt.</span><span s="3046" t="I hope you have a good time. Are there any questions? Yes. AUDIENCE: What is the value of s of diag1?"><code onclick="Z(this)">0:50:46</code>I hope you have a good time. Are there any questions? Yes. AUDIENCE: What is the value of s of diag1?</span><span s="3056" t="PROFESSOR: Of what? AUDIENCE: S of diag1. If you said s is a function and we can [INTERPOSING VOICES] PROFESSOR: Oh, I don&apos;t know. I don&apos;t know. It&apos;s a function, but I don&apos;t know how to compute it."><code onclick="Z(this)">0:50:56</code>PROFESSOR: Of what? AUDIENCE: S of diag1. If you said s is a function and we can [INTERPOSING VOICES] PROFESSOR: Oh, I don't know. I don't know. It's a function, but I don't know how to compute it.</span><span s="3066" t="I can&apos;t do it. I&apos;m just a machine, too. Right? There&apos;s no machine that in principle-- it might be that in that particular case you just"><code onclick="Z(this)">0:51:06</code>I can't do it. I'm just a machine, too. Right? There's no machine that in principle-- it might be that in that particular case you just</span><span s="3076" t="asked, with some thinking I could figure it out. But in general I can&apos;t compute the value of s any better than any other machine can. There is such a function, it&apos;s just that no machine can be"><code onclick="Z(this)">0:51:16</code>asked, with some thinking I could figure it out. But in general I can't compute the value of s any better than any other machine can. There is such a function, it's just that no machine can be</span><span s="3087" t="built to compute it. Now there&apos;s a way of saying that that should not be surprising. Going through this--"><code onclick="Z(this)">0:51:27</code>built to compute it. Now there's a way of saying that that should not be surprising. Going through this--</span><span s="3096" t="I mean, I don&apos;t have time to do this here, but the number of functions is very large. If there&apos;s a certain number of answers possible and a certain"><code onclick="Z(this)">0:51:36</code>I mean, I don't have time to do this here, but the number of functions is very large. If there's a certain number of answers possible and a certain</span><span s="3108" t="number of inputs possible, then it&apos;s the number of answers raised to the number inputs is the number of possible functions. On one variable."><code onclick="Z(this)">0:51:48</code>number of inputs possible, then it's the number of answers raised to the number inputs is the number of possible functions. On one variable.</span><span s="3118" t="Now that&apos;s always bigger than the thing you&apos;re raising to, the exponent. The number of functions is larger than the number of"><code onclick="Z(this)">0:51:58</code>Now that's always bigger than the thing you're raising to, the exponent. The number of functions is larger than the number of</span><span s="3132" t="programs that one can write, by an infinity counting argument. And it&apos;s much larger. So there must be a lot of functions that can&apos;t be"><code onclick="Z(this)">0:52:12</code>programs that one can write, by an infinity counting argument. And it's much larger. So there must be a lot of functions that can't be</span><span s="3142" t="computed by programs. AUDIENCE: A few moments ago you were talking about specifications and automatic generation of solutions. Do you see any steps between specifications and solutions?"><code onclick="Z(this)">0:52:22</code>computed by programs. AUDIENCE: A few moments ago you were talking about specifications and automatic generation of solutions. Do you see any steps between specifications and solutions?</span><span s="3157" t="PROFESSOR: Steps between. You mean, you&apos;re saying, how you go about constructing devices given that have specifications for the device? Sure. AUDIENCE: There&apos;s a lot of software engineering that goes"><code onclick="Z(this)">0:52:37</code>PROFESSOR: Steps between. You mean, you're saying, how you go about constructing devices given that have specifications for the device? Sure. AUDIENCE: There's a lot of software engineering that goes</span><span s="3168" t="through specifications through many layers of design and then implementation. PROFESSOR: Yes? AUDIENCE: I was curious if you think that&apos;s realistic. PROFESSOR: Well I think that some of it&apos;s realistic and"><code onclick="Z(this)">0:52:48</code>through specifications through many layers of design and then implementation. PROFESSOR: Yes? AUDIENCE: I was curious if you think that's realistic. PROFESSOR: Well I think that some of it's realistic and</span><span s="3177" t="some of it isn&apos;t. I mean, surely if I want to build an electrical filter and I have a rather interesting possibility."><code onclick="Z(this)">0:52:57</code>some of it isn't. I mean, surely if I want to build an electrical filter and I have a rather interesting possibility.</span><span s="3187" t="Supposing I want to build a thing that matches some power output to the radio transmitter, to some antenna."><code onclick="Z(this)">0:53:07</code>Supposing I want to build a thing that matches some power output to the radio transmitter, to some antenna.</span><span s="3199" t="And I&apos;m really out of this power-- it&apos;s output tube out here. And the problem is that they have different impedances. I want them to match the impedances. I also want to make a filter in there which is going to get"><code onclick="Z(this)">0:53:19</code>And I'm really out of this power-- it's output tube out here. And the problem is that they have different impedances. I want them to match the impedances. I also want to make a filter in there which is going to get</span><span s="3209" t="rid of some harmonic radiation. Well one old-fashioned technique for doing this is called image impedances, or something like that."><code onclick="Z(this)">0:53:29</code>rid of some harmonic radiation. Well one old-fashioned technique for doing this is called image impedances, or something like that.</span><span s="3218" t="And what you do is you say you have a basic module called an L-section. Looks like this."><code onclick="Z(this)">0:53:38</code>And what you do is you say you have a basic module called an L-section. Looks like this.</span><span s="3227" t="If I happen to connect this to some resistance, r, and if I make this impedance x, xl, and if it happens to be q times r, then this produces a low pass filter with a q square plus"><code onclick="Z(this)">0:53:47</code>If I happen to connect this to some resistance, r, and if I make this impedance x, xl, and if it happens to be q times r, then this produces a low pass filter with a q square plus</span><span s="3239" t="one impedance match. Just what I need. Because now I can take two of these, hook them together like this."><code onclick="Z(this)">0:53:59</code>one impedance match. Just what I need. Because now I can take two of these, hook them together like this.</span><span s="3251" t="OK, and I take another one and I&apos;ll hook them together like that. And I have two L-sections hooked together."><code onclick="Z(this)">0:54:11</code>OK, and I take another one and I'll hook them together like that. And I have two L-sections hooked together.</span><span s="3260" t="And this will step the impedance down to one that I know, and this will step it up to one I know. Each of these is a low pass filter getting rid of some harmonics. It&apos;s good filter, it&apos;s called a pie-section filter."><code onclick="Z(this)">0:54:20</code>And this will step the impedance down to one that I know, and this will step it up to one I know. Each of these is a low pass filter getting rid of some harmonics. It's good filter, it's called a pie-section filter.</span><span s="3270" t="Great. Except for the fact that in doing what I just did, I&apos;ve made a terrible inefficiency in this system. I&apos;ve made two coils where I should have made one."><code onclick="Z(this)">0:54:30</code>Great. Except for the fact that in doing what I just did, I've made a terrible inefficiency in this system. I've made two coils where I should have made one.</span><span s="3281" t="And the problem with most software engineering art is that there&apos;s no mechanism, other than peephole optimization and compilers, for getting rid of the"><code onclick="Z(this)">0:54:41</code>And the problem with most software engineering art is that there's no mechanism, other than peephole optimization and compilers, for getting rid of the</span><span s="3290" t="redundant parts that are constructed when doing top down design. It&apos;s even worse, there are lots of very important structures that you can&apos;t construct at all this way."><code onclick="Z(this)">0:54:50</code>redundant parts that are constructed when doing top down design. It's even worse, there are lots of very important structures that you can't construct at all this way.</span><span s="3301" t="So I think that the standard top down design is a rather shallow business. Doesn&apos;t really capture what people want to do in design. I&apos;ll give you another electrical example."><code onclick="Z(this)">0:55:01</code>So I think that the standard top down design is a rather shallow business. Doesn't really capture what people want to do in design. I'll give you another electrical example.</span><span s="3310" t="Electrical examples are so much clearer than computational examples, because computation examples require a certain degree of complexity to explain them. But one of my favorite examples in the electrical"><code onclick="Z(this)">0:55:10</code>Electrical examples are so much clearer than computational examples, because computation examples require a certain degree of complexity to explain them. But one of my favorite examples in the electrical</span><span s="3319" t="world is how would I ever come up with the output stage of this inter-stage connection in an IF amplifier. It&apos;s a little transistor here, and let&apos;s see."><code onclick="Z(this)">0:55:19</code>world is how would I ever come up with the output stage of this inter-stage connection in an IF amplifier. It's a little transistor here, and let's see.</span><span s="3332" t="Well I&apos;m going to have a tank, and I&apos;m going to hook this up to, say, I&apos;m going to link-couple that to the input"><code onclick="Z(this)">0:55:32</code>Well I'm going to have a tank, and I'm going to hook this up to, say, I'm going to link-couple that to the input</span><span s="3343" t="of the next stage. Here&apos;s a perfectly plausible plan-- well except for the fact that since I put that going up I should make that going that way."><code onclick="Z(this)">0:55:43</code>of the next stage. Here's a perfectly plausible plan-- well except for the fact that since I put that going up I should make that going that way.</span><span s="3353" t="Here&apos;s a perfectly plausible plan for a-- no I shouldn&apos;t. I&apos;m dumb. Excuse me. Doesn&apos;t matter. The point is [UNINTELLIGIBLE] plan for a couple [UNINTELLIGIBLE]"><code onclick="Z(this)">0:55:53</code>Here's a perfectly plausible plan for a-- no I shouldn't. I'm dumb. Excuse me. Doesn't matter. The point is [UNINTELLIGIBLE] plan for a couple [UNINTELLIGIBLE]</span><span s="3362" t="stages together. Now what the problem is is what&apos;s this hierarchically? It&apos;s not one thing. Hierarchically it doesn&apos;t make any sense at all."><code onclick="Z(this)">0:56:02</code>stages together. Now what the problem is is what's this hierarchically? It's not one thing. Hierarchically it doesn't make any sense at all.</span><span s="3371" t="It&apos;s the inductance of a tuned circuit, it&apos;s the primary of a transformer, and it&apos;s also the DC path by which bias"><code onclick="Z(this)">0:56:11</code>It's the inductance of a tuned circuit, it's the primary of a transformer, and it's also the DC path by which bias</span><span s="3382" t="conditions get to the collector of that transistor. And there&apos;s no simple top-down design that&apos;s going to produce a structure like that with so many overlapping uses for a"><code onclick="Z(this)">0:56:22</code>conditions get to the collector of that transistor. And there's no simple top-down design that's going to produce a structure like that with so many overlapping uses for a</span><span s="3393" t="particular thing. Playing Scrabble, where you have to do triple word scores, or whatever, is not so easy in top-down design strategy."><code onclick="Z(this)">0:56:33</code>particular thing. Playing Scrabble, where you have to do triple word scores, or whatever, is not so easy in top-down design strategy.</span><span s="3404" t="Yet most of real engineering is based on getting the most oomph for effort. And that&apos;s what you&apos;re seeing here."><code onclick="Z(this)">0:56:44</code>Yet most of real engineering is based on getting the most oomph for effort. And that's what you're seeing here.</span><span s="3414" t="Yeah? AUDIENCE: Is this the last question? [LAUGHTER]"><code onclick="Z(this)">0:56:54</code>Yeah? AUDIENCE: Is this the last question? [LAUGHTER]</span><span s="3438" t="PROFESSOR: Apparently so. Thank you. [APPLAUSE]"><code onclick="Z(this)">0:57:18</code>PROFESSOR: Apparently so. Thank you. [APPLAUSE]</span><span s="3459" t="[MUSIC-- &quot;JESU, JOY OF MAN&apos;S DESIRING&quot; BY JOHANN SEBASTIAN BACH]"><code onclick="Z(this)">0:57:39</code>[MUSIC-- "JESU, JOY OF MAN'S DESIRING" BY JOHANN SEBASTIAN BACH]</span></div></div></div></div><script>const videoids = ["2Op3QLzMgSY","dlbMuv-jix8","erHp3r6PbJk","ymsbTVLbyN4","2QgZVYI3tDs","X21cKVtGvYk","amf5lTZ0UTc","h6Z7vx9iUB8","jl8EHP1WrWY","SsBxcpkyMMw","a2Qt9uxhNSM","DCub3iqteuI","0m6hoOelZH8","t5EI5fXX8K0","cyVXjnFL2Ps","R3uRidfSpc4","jPDAPmx4pXE","SLcZXbyGC3E","kNmiTTKiYd4","2s2_FAf-yQs"]</script><script>console.time("js")

function debounce1(callback, delay) {
    let timeout;
    return function(arg) {
        clearTimeout(timeout);
        timeout = setTimeout(callback, delay, arg);
    }
}

function darkmode(turnOn) { //is used inline in html
    const el = document.getElementById("darkmode");
    if (turnOn) {
        const style = "{filter: invert(1) hue-rotate(180deg);}"
        el.innerHTML = "html " + style + " iframe " + style;
    } else {
        el.innerHTML = "";
    }
}

function setUrl(filterv, id, sec, text) {
    if (id || sec || filterv) {
        window.location.hash = "#,"+ (filterv.replace(/,/, " ")||"") +","+ (id||"") +","+ (sec||"") +","+ (text||"");
    } else {
        window.location.hash = "";
    }
}

function filter(text) {
    const [_1, filterv, videoid, strsec, line] = window.location.hash.split(",");
    setUrl(text, videoid, strsec, line);
    text = text.toLowerCase();

    var style = '';
    if (text.trim() !== "") {
        text.split(" ").forEach(function (t) {
            if (t !== "") {
                style = style + "span:not([t*='" + t + "' i]) {display: none}\n";
            }
        });
    }
    filterStryle.innerHTML = style;
    scrollToEvent();
}

function findEventEl(videoid, sec) { //fixme after reimplementing with tables
    const xpath = "//div[@class='eventlist'][@vid='" + videoid + "']/child::span[@s>" + Math.floor(sec) + "][1]";
    const res = document.evaluate(xpath, document, null, XPathResult.ANY_TYPE, null);
    const el = res.iterateNext(); //https://developer.mozilla.org/en-US/docs/Web/XPath/Introduction_to_using_XPath_in_JavaScript
    if (el) {
        return el.previousSibling;
    }
}

const unready = {};
const players = {};
let currentvideoid = undefined;
const playerscontainer = document.getElementById("videos");
const liHighlight = document.getElementById("li-highlight");
const filterStryle = document.getElementById("css-filter");
const filterInput = document.getElementById("filter");
const spinner = document.getElementById("spinner");

let visibleLines = [];
const visibleStyle =     "display: block; opacity: 0.7";
const highlightedStyle = "display: block; background-color: aliceblue";

function removeAllHighlights () {
    //reset highlight for save-as-html:
    liHighlight.innerHTML = "";
    filterStryle.innerHTML = "";

    document.querySelectorAll("span[style]")
        .forEach(function(el) {
            el.setAttribute("style", "");
        });

    spinner.setAttribute("style", "");
}


function highlightLines (vid, sec) {
    if (vid && sec) {
        liHighlight.innerHTML = "[side='L'][vid='" + vid + "'] {background-color: aliceblue}";

        visibleLines.forEach(function (el) {
            el.removeAttribute("style");
        })

        visibleLines = [];
        const el = findEventEl(vid, sec);

        if (el) {
            const ps = el.previousSibling;
            const ns = el.nextSibling;

            if (ps) {
                ps.setAttribute("style", visibleStyle);
                visibleLines.push(ps);
            }

            el.setAttribute("style", highlightedStyle);
            visibleLines.push(el)

            if (ns) {
                ns.setAttribute("style", visibleStyle);
                visibleLines.push(ns);
            }
        }
    }
}

function scrollToEvent () {
    if (visibleLines[0]) {
        visibleLines[0].scrollIntoView({behavior: "smooth", block: "center", inline: "start"});
    }
}

var followfrequency = 900;
var followerinterval = undefined;

function followLines () {
    followerinterval =
        window.setInterval(
            function() {
                highlightLines(currentvideoid, players[currentvideoid].getCurrentTime());
            },
            followfrequency)
    scrollToEvent();
}

function unfollowLines () {
    if (followerinterval) {
        window.clearInterval(followerinterval);
        followerinterval = undefined;
    }
}

function onPlayerStateChange (event) {
    if (event.data === YT.PlayerState.PLAYING) {
        if (!followerinterval) {
            followLines();
        }
    } else {
        unfollowLines();
    }
}


function createPlayer (vid) {
    //1. The <iframe> (and video player) will replace this <div> tag.
    const player = document.createElement("div");
    player.setAttribute("id", vid);
    playerscontainer.appendChild(player);

    unready[vid] = new YT.Player(vid, {videoId: vid, height: '320', width: '480',
        events: {
        'onStateChange': onPlayerStateChange,
        'onReady': function (e) {
            players[vid] = unready[vid];
        }}});
    setCurrentPlayer(vid);
}


function setCurrentPlayer(videoid) {
    if (currentvideoid !== videoid) {
        try {
            players[currentvideoid].pauseVideo();
        } catch (e) {}

        currentvideoid = videoid;
        const filter = document.getElementById("player-filter");
        filter.innerHTML = "iframe[id='" + videoid + "'] {display: unset}";
    }
}

function getText(vid, sec) {
    const el = findEventEl(vid, sec);
    return (el && el.textContent.replace(/\s+/gi, "_"));
}


function seekVideo(videoid, seconds) {
    highlightLines(videoid, seconds)
    setCurrentPlayer(videoid)
    players[videoid].seekTo(seconds, true); //const allowSeekAhead = true
    players[videoid].playVideo();
    setUrl(filterInput.value, videoid, seconds, getText(videoid, seconds));
}

const Z = timeStampClick;//used in inline onlick
function timeStampClick(el) {
    const row = el.parentElement;
    const sec = row.parentElement;
    const id = sec.getAttribute("vid");
    const s = row.getAttribute("s");
    const time = Number.parseInt(s, 10);

    seekVideo(id, time);
    filterInput.focus();
}

function showSection(vid) {//used in inline onlick
    document.querySelector("[side='R'][vid='" + vid + "']").scrollIntoView({behavior: "auto", block: "start", inline: "start"});
}

function initYT() {
    //cleanup for save-as-html:
    try {playerscontainer.innerHTML = "";
    } catch (e) {}

    //https://developers.google.com/youtube/iframe_api_reference#Getting_Started//
    var tag = document.createElement('script');
    tag.src = "https://www.youtube.com/iframe_api";
    tag.id = "yt-loader";
    document.getElementsByTagName('body')[0].appendChild(tag);
}

// this callback function name is expected by youtube iframe API.
// https://developers.google.com/youtube/iframe_api_reference#july-19,-2012
function onYouTubeIframeAPIReady() {
    console.log("creating players...");
    videoids.forEach(createPlayer);
    console.log("created players");
}




function restore() {
    const [_1, filterv, videoid, strsec] = window.location.hash.split(",");
    const sec = Number.parseInt(strsec, 10);

    try {
        var decoded = decodeURIComponent(filterv || "");
        filterInput.value = (decoded);
        filter(decodeURIComponent(decoded));
    } catch (e) {}

    if (videoid && sec) {
        if (players[videoid]) {
            seekVideo(videoid, sec);
            scrollToEvent();
            players[videoid].playVideo();
            window.clearInterval(restoreinterval);
            restoreinterval = undefined;
            console.log("restored.");
        }
    } else {
        window.clearInterval(restoreinterval);
        restoreinterval = undefined;
        console.log("restored.");
    }
}


removeAllHighlights();

let restoreinterval;
restoreinterval = window.setInterval(restore, 100);

initYT();
filterInput.focus();
spinner.setAttribute("style", "display: none;");

const debfilter = debounce1(filter, 200); //used inline in html

function filterSelection (e) {
    let sel = document.getSelection();
    let txt;
    //"CODE" node is a timestamp.
    if (sel.anchorNode.parentElement.nodeName === "CODE") {
        txt = sel.focusNode.textContent.substring(0, sel.focusOffset);
    } else if (sel.focusNode.parentElement.nodeName === "CODE") {
        txt = sel.anchorNode.textContent.substring(sel.anchorOffset, sel.anchorNode.textContent.length);
    } else {
        txt = sel.toString();
    }

    if (txt.length > 0) {
        filterInput.value = (txt || "");
        filter(txt);
    }
}
function keyUp (e) {
    if (e.code === "KeyF" && e.ctrlKey) {
        let txt = document.getSelection().toString();
        if (txt.length > 0) {
            filterInput.value = (txt || "");
            filter(txt);
        }
    }
}

document.ondblclick = filterSelection;
document.onkeyup = keyUp;

console.timeEnd("js");

</script></body>